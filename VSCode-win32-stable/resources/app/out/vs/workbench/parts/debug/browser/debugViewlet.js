/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
(function(){var e=["vs/workbench/parts/debug/common/debug","vs/css!vs/workbench/parts/debug/browser/media/debugViewlet","vs/nls!vs/workbench/parts/debug/browser/debugActionItems","vs/base/common/lifecycle","vs/nls!vs/workbench/parts/debug/browser/debugViewlet","vs/workbench/parts/debug/browser/debugActionItems","require","exports","vs/base/common/winjs.base","vs/nls","vs/base/browser/dom","vs/base/common/platform","vs/base/browser/ui/actionbar/actionbar","vs/css!vs/workbench/parts/debug/browser/debugViewlet","vs/platform/configuration/common/configuration","vs/workbench/parts/debug/browser/debugViewlet","vs/base/browser/builder","vs/base/common/errors","vs/base/browser/ui/splitview/splitview","vs/workbench/common/memento","vs/workbench/browser/viewlet","vs/workbench/parts/debug/electron-browser/debugActions","vs/platform/instantiation/common/instantiation","vs/platform/progress/common/progress","vs/platform/workspace/common/workspace","vs/platform/telemetry/common/telemetry","vs/platform/storage/common/storage"],t=function(t){for(var i=[],n=0,s=t.length;n<s;n++)i[n]=e[t[n]];return i};define(e[1],t([13]),{}),define(e[2],t([9,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugActionItems",t)});var i=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,r=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,n);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(r=(o<3?s(r):o>3?s(t,i,r):s(t,i))||r);return o>3&&r&&Object.defineProperty(t,i,r),r},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};define(e[5],t([6,7,2,3,17,10,11,12,0,14]),function(e,t,o,r,c,a,u,l,p,h){"use strict";var g=function(e){function t(t,i,n){e.call(this,null,t),this.debugService=i,this.select=document.createElement("select"),this.select.className="debug-select action-bar-select "+(u.isWindows?"windows":""),this.toDispose=[],this.registerListeners(n)}return i(t,e),t.prototype.registerListeners=function(e){var t=this;this.toDispose.push(a.addStandardDisposableListener(this.select,"change",function(e){t.actionRunner.run(t._action,e.target.value).done(null,c.onUnexpectedError)})),this.toDispose.push(this.debugService.onDidChangeState(function(e){t.select.disabled=e!==p.State.Inactive})),this.toDispose.push(e.onDidUpdateConfiguration(function(e){t.setOptions(!0).done(null,c.onUnexpectedError)})),this.toDispose.push(this.debugService.getConfigurationManager().onDidConfigurationChange(function(e){t.setOptions(!1).done(null,c.onUnexpectedError)}))},t.prototype.render=function(e){a.addClass(e,"select-container"),e.appendChild(this.select),this.setOptions(!0).done(null,c.onUnexpectedError)},t.prototype.focus=function(){this.select&&this.select.focus()},t.prototype.blur=function(){this.select&&this.select.blur()},t.prototype.setOptions=function(e){var t=this,i=this.select.selectedIndex;return this.select.options.length=0,this.debugService.getConfigurationManager().loadLaunchConfig().then(function(n){if(!n||!n.configurations)return t.select.add(t.createOption(o.localize(0,null))),t.select.disabled=!0,e?t.actionRunner.run(t._action,null):null;var s=n.configurations;t.select.disabled=s.length<1;for(var r=!1,c=t.debugService.getConfigurationManager().configurationName,a=0;a<s.length;a++)t.select.add(t.createOption(s[a].name)),c===s[a].name&&(t.select.selectedIndex=a,r=!0);return!r&&s.length>0&&((!i||i<0||i>=s.length)&&(i=0),t.select.selectedIndex=i,e)?t.actionRunner.run(t._action,s[i].name):void 0})},t.prototype.createOption=function(e){var t=document.createElement("option");return t.value=e,t.text=e,t},t.prototype.dispose=function(){this.debugService=null,this.toDispose=r.dispose(this.toDispose),e.prototype.dispose.call(this)},t=n([s(1,p.IDebugService),s(2,h.IConfigurationService)],t)}(l.BaseActionItem);t.SelectConfigActionItem=g}),define(e[15],t([6,7,4,16,8,3,18,19,20,0,21,5,22,23,24,25,26,1]),function(e,t,o,r,c,a,u,l,p,h,g,d,v,f,b,w,m){"use strict";var S=h.IDebugService,y=r.$,D=function(e){function t(t,i,n,s,o,r){var c=this;e.call(this,h.VIEWLET_ID,t),this.progressService=i,this.debugService=n,this.instantiationService=s,this.contextService=o,this.progressRunner=null,this.viewletSettings=this.getMemento(r,l.Scope.WORKSPACE),this.toDispose=[],this.views=[],this.toDispose.push(this.debugService.onDidChangeState(function(e){c.onDebugServiceStateChange(e)}))}return i(t,e),t.prototype.create=function(t){var i=this;if(e.prototype.create.call(this,t),this.$el=t.div().addClass("debug-viewlet"),this.contextService.getWorkspace()){var n=this.getActionRunner();this.views=h.DebugViewRegistry.getDebugViews().map(function(e){return i.instantiationService.createInstance(e,n,i.viewletSettings)}),this.splitView=new u.SplitView(this.$el.getHTMLElement()),this.toDispose.push(this.splitView),this.views.forEach(function(e){return i.splitView.addView(e)}),this.toDispose.push(this.splitView.onFocus(function(e){i.lastFocusedView=e}))}else this.$el.append(y(['<div class="noworkspace-view">',"<p>",o.localize(0,null),"</p>","<p>",o.localize(1,null),"</p>","</div>"].join("")));return c.TPromise.as(null)},t.prototype.setVisible=function(t){var i=this;return e.prototype.setVisible.call(this,t).then(function(){return c.TPromise.join(i.views.map(function(e){return e.setVisible(t)}))})},t.prototype.layout=function(e){this.splitView&&this.splitView.layout(e.height)},t.prototype.focus=function(){return e.prototype.focus.call(this),this.lastFocusedView&&this.lastFocusedView.isExpanded()?void this.lastFocusedView.focusBody():void(this.views.length>0&&this.views[0].focusBody())},t.prototype.getActions=function(){var e=this;return this.debugService.state===h.State.Disabled?[]:(this.actions||(this.actions=[this.instantiationService.createInstance(g.StartDebugAction,g.StartDebugAction.ID,g.StartDebugAction.LABEL),this.instantiationService.createInstance(g.SelectConfigAction,g.SelectConfigAction.ID,g.SelectConfigAction.LABEL),this.instantiationService.createInstance(g.ConfigureAction,g.ConfigureAction.ID,g.ConfigureAction.LABEL),this.instantiationService.createInstance(g.ToggleReplAction,g.ToggleReplAction.ID,g.ToggleReplAction.LABEL)],this.actions.forEach(function(t){e.toDispose.push(t)})),this.actions)},t.prototype.getActionItem=function(e){return e.id===g.SelectConfigAction.ID?this.instantiationService.createInstance(d.SelectConfigActionItem,e):null},t.prototype.onDebugServiceStateChange=function(e){this.progressRunner&&this.progressRunner.done(),e===h.State.Initializing?this.progressRunner=this.progressService.show(!0):this.progressRunner=null},t.prototype.dispose=function(){this.toDispose=a.dispose(this.toDispose),e.prototype.dispose.call(this)},t.prototype.shutdown=function(){this.views.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t=n([s(0,w.ITelemetryService),s(1,f.IProgressService),s(2,S),s(3,v.IInstantiationService),s(4,b.IWorkspaceContextService),s(5,m.IStorageService)],t)}(p.Viewlet);t.DebugViewlet=D})}).call(this);
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/e6b4afa53e9c0f54edef1673de9001e9f0f547ae/vs\workbench\parts\debug\browser\debugViewlet.js.map
