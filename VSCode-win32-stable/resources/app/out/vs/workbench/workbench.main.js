/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}function t(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=f.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=f.breaks:this.rules=f.gfm:this.options.pedantic&&(this.rules=f.pedantic)}function i(e){this.options=e||{}}function n(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function o(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function r(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function s(e,t){return e=e.source,t=t||"",function i(n,o){return n?(o=o.source||o,o=o.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,o),i):new RegExp(e,t)}}function a(){}function c(e){for(var t,i,n=1;n<arguments.length;n++){t=arguments[n];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}function u(t,i,r){if(r||"function"==typeof i){r||(r=i,i=null),i=c({},u.defaults,i||{});var s,a,l=i.highlight,d=0;try{s=e.lex(t,i)}catch(h){return r(h)}a=s.length;var p=function(e){if(e)return i.highlight=l,r(e);var t;try{t=n.parse(s,i)}catch(o){e=o}return i.highlight=l,e?r(e):r(null,t)};if(!l||l.length<3)return p();if(delete i.highlight,!a)return p();for(;d<s.length;d++)!function(e){return"code"!==e.type?--a||p():l(e.text,e.lang,function(t,i){return t?p(t):null==i||i===e.text?--a||p():(e.text=i,e.escaped=!0,void(--a||p()))})}(s[d])}else try{return i&&(i=c({},u.defaults,i)),n.parse(e.lex(t,i),i)}catch(h){if(h.message+="\nPlease report this to https://github.com/chjj/marked.",(i||u.defaults).silent)return"<p>An error occured:</p><pre>"+o(h.message+"",!0)+"</pre>";throw h}}var l=["exports","require","vs/base/common/winjs.base","vs/nls","vs/nls!vs/workbench/workbench.main","vs/base/common/lifecycle","vs/platform/instantiation/common/instantiation","vs/base/common/errors","vs/css!vs/workbench/workbench.main","vs/base/common/strings","vs/base/browser/dom","vs/editor/common/editorCommon","vs/base/common/platform","vs/base/common/keyCodes","vs/editor/common/core/range","vs/platform/platform","vs/base/common/async","vs/base/common/types","vs/platform/message/common/message","vs/base/common/uri","vs/platform/keybinding/common/keybindingService","vs/platform/telemetry/common/telemetry","vs/workbench/services/editor/common/editorService","vs/platform/configuration/common/configuration","vs/base/common/event","vs/base/common/paths","vs/editor/common/editorCommonExtensions","vs/base/common/actions","vs/platform/event/common/event","vs/base/common/objects","vs/workbench/common/editor","vs/base/browser/builder","vs/platform/workspace/common/workspace","vs/base/common/severity","vs/platform/files/common/files","vs/platform/actions/common/actions","vs/base/common/eventEmitter","vs/editor/common/modes","vs/editor/common/services/modelService","vs/platform/storage/common/storage","vs/editor/common/editorAction","vs/base/common/arrays","vs/workbench/common/actionRegistry","vs/workbench/services/workspace/common/contextService","vs/workbench/services/group/common/groupService","vs/editor/common/services/modeService","vs/editor/common/core/selection","vs/workbench/parts/files/common/files","vs/editor/common/core/position","vs/base/browser/ui/actionbar/actionbar","vs/workbench/services/quickopen/common/quickOpenService","vs/platform/contextview/browser/contextView","electron","vs/editor/browser/editorBrowser","vs/editor/common/editorActionEnablement","vs/workbench/services/part/common/partService","vs/platform/editor/common/editor","vs/workbench/services/viewlet/common/viewletService","vs/base/common/mime","vs/base/browser/browser","vs/base/browser/styleMutator","vs/editor/browser/editorBrowserExtensions","vs/platform/keybinding/common/keybindingsRegistry","vs/workbench/browser/actionBarRegistry","vs/workbench/common/events","vs/workbench/browser/parts/editor/baseEditor","vs/base/common/events","vs/platform/configuration/common/configurationRegistry","vs/workbench/parts/git/common/git","vs/workbench/browser/quickopen","vs/platform/instantiation/common/descriptors","vs/workbench/browser/viewlet","vs/platform/lifecycle/common/lifecycle","vs/workbench/parts/emmet/node/emmetActions","path","vs/base/common/timer","vs/base/common/labels","vs/base/browser/mouseEvent","vs/base/common/collections","vs/workbench/services/thread/common/threadService","vs/editor/common/modes/languageConfigurationRegistry","vs/base/parts/tree/browser/treeDefaults","vs/base/common/uuid","vs/base/browser/keyboardEvent","vs/workbench/common/contributions","vs/base/common/assert","vs/workbench/parts/output/common/output","vs/workbench/services/untitled/common/untitledEditorService","vs/workbench/common/editor/diffEditorInput","vs/base/common/filters","vs/base/parts/quickopen/common/quickOpen","vs/workbench/services/themes/common/themeService","vs/base/parts/quickopen/browser/quickOpenModel","vs/workbench/services/panel/common/panelService","vs/base/browser/ui/scrollbar/scrollableElementOptions","vs/platform/extensions/common/extensionsRegistry","vs/platform/instantiation/common/extensions","vs/workbench/services/window/electron-browser/windowService","vs/base/common/network","child_process","vs/base/browser/ui/widget","vs/workbench/parts/debug/common/debug","fs","vs/platform/extensions/common/extensions","vs/workbench/browser/parts/editor/textEditor","vs/editor/common/modes/supports","vs/base/browser/ui/inputbox/inputBox","vs/workbench/api/node/extHostProtocol","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/services/codeEditorService","vs/platform/instantiation/common/serviceCollection","vs/platform/extensionManagement/common/extensionManagement","vs/base/node/pfs","vs/workbench/browser/panel","vs/base/common/idGenerator","vs/base/parts/ipc/common/ipc","vs/workbench/parts/files/browser/editors/fileEditorInput","vs/editor/browser/view/viewPart","vs/platform/markers/common/markers","vs/base/parts/tree/browser/treeImpl","vs/base/browser/ui/aria/aria","vs/editor/common/modes/modesRegistry","vs/base/browser/ui/sash/sash","vs/base/common/json","vs/base/common/glob","vs/editor/common/viewModel/viewEventHandler","vs/editor/common/core/editOperation","vs/editor/common/services/editorWorkerService","vs/workbench/parts/files/browser/fileActions","vs/workbench/parts/extensions/electron-browser/extensions","vs/workbench/common/editor/resourceEditorInput","vs/workbench/common/editor/stringEditorInput","vs/editor/browser/config/configuration","vs/editor/common/core/viewLineToken","vs/base/browser/htmlContentRenderer","vs/editor/common/config/defaultConfig","vs/base/browser/touch","vs/workbench/parts/debug/electron-browser/debugActions","vs/base/browser/ui/scrollbar/scrollableElement","vs/workbench/services/activity/common/activityService","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/snippet/common/snippet","vs/workbench/parts/tasks/common/taskSystem","vs/workbench/parts/files/common/editors/textFileEditorModel","vs/workbench/common/editor/untitledEditorInput","vs/workbench/common/editor/textEditorModel","vs/workbench/services/history/common/history","vs/editor/common/config/commonEditorConfig","vs/workbench/parts/files/common/explorerViewModel","vs/workbench/common/editor/binaryEditorModel","vs/workbench/browser/parts/statusbar/statusbar","vs/base/browser/ui/splitview/splitview","vs/editor/browser/widget/codeEditorWidget","vs/platform/statusbar/common/statusbar","vs/workbench/parts/debug/common/debugModel","vs/platform/request/common/request","vs/platform/progress/common/progress","vs/editor/common/model/textModel","vs/base/common/map","vs/editor/common/core/modeTransition","os","vs/base/node/extfs","vs/editor/common/model/wordHelper","vs/editor/common/modes/supports/richEditBrackets","vs/platform/opener/common/opener","vs/workbench/browser/part","vs/base/common/marshalling","vs/workbench/common/constants","vs/base/common/htmlContent","vs/workbench/electron-browser/actions","vs/editor/common/config/config","vs/workbench/common/memento","vs/base/node/processes","vs/editor/common/modes/abstractState","vs/editor/common/core/arrays","vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/workbench/browser/parts/editor/editorActions","vs/editor/common/viewModel/prefixSumComputer","vs/platform/theme/common/themes","vs/base/node/encoding","vs/base/parts/ipc/node/ipc.cp","vs/base/common/parsers","vs/platform/product","vs/base/browser/dnd","vs/workbench/parts/markers/common/messages","vs/editor/common/model/textModelWithTokens","vs/editor/common/viewModel/viewModel","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/common/services/bulkEdit","vs/platform/actions/common/resourceContextKey","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/keybinding/common/keybindingResolver","vs/base/common/cancellation","vs/editor/common/view/renderingContext","vs/platform/actions/browser/menuItemActionItem","vs/editor/common/modes/nullMode","vs/editor/common/controller/cursorMoveHelper","vs/editor/common/commands/replaceCommand","vs/platform/search/common/search","vs/editor/contrib/suggest/common/suggest","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/common/worker/workerClient","vs/workbench/common/component","vs/workbench/browser/composite","vs/workbench/parts/execution/common/execution","vs/workbench/parts/markers/common/constants","vs/editor/common/services/compatWorkerService","vs/base/browser/ui/toolbar/toolbar","vs/workbench/parts/search/common/replace","vs/workbench/parts/tasks/common/taskService","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/workbench/parts/terminal/electron-browser/terminal","vs/workbench/parts/git/browser/gitEditorInputs","vs/workbench/services/files/node/watcher/common","vs/workbench/services/editor/browser/editorService","vs/base/parts/tree/browser/treeDnd","vs/base/parts/tree/browser/tree","vs/base/node/mime","vs/workbench/parts/extensions/electron-browser/extensionsActions","vs/base/browser/globalMouseMoveMonitor","vs/editor/contrib/referenceSearch/browser/referencesModel","vs/workbench/browser/actions/openSettings","net","vs/workbench/browser/parts/editor/titleControl","vs/base/common/scorer","vs/base/common/iterator","vs/editor/common/modes/monarch/monarchCommon","vs/editor/contrib/quickFix/common/quickFix","vs/editor/contrib/parameterHints/common/parameterHints","vs/editor/contrib/linesOperations/common/linesOperations","vs/editor/contrib/find/common/findController","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/workbench/parts/lib/node/systemVariables","vs/workbench/parts/html/common/htmlInput","vs/workbench/parts/html/browser/webview","vs/workbench/parts/git/common/gitModel","vs/workbench/browser/workbench","vs/editor/common/viewLayout/viewLineParts","vs/base/common/diagnostics","vs/workbench/api/node/mainThreadExtensionService","vs/workbench/parts/files/browser/views/explorerViewer","vs/workbench/parts/git/browser/gitWorkbenchContributions","semver","vs/base/browser/iframe","vs/workbench/parts/execution/electron-browser/terminal","vs/workbench/services/thread/electron-browser/threadService","vs/editor/common/model/model","vs/editor/contrib/indentation/common/indentation","vs/workbench/parts/debug/common/debugViewModel","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/base/node/stdFork","vs/workbench/parts/debug/common/debugSource","vs/base/browser/ui/octiconLabel/octiconLabel","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/workbench/browser/parts/compositePart","vs/platform/configuration/common/model","vs/workbench/services/progress/browser/progressService","vs/base/common/processes","vs/base/common/set","vs/editor/contrib/hover/browser/hoverWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRulerImpl","vs/editor/browser/view/viewLayer","vs/editor/common/modes/abstractMode","vs/base/common/callbackList","vs/editor/common/controller/textAreaState","vs/editor/common/modes/supports/suggestSupport","vs/base/browser/event","vs/base/common/stopwatch","vs/editor/common/model/indentationGuesser","vs/base/node/stream","vs/editor/browser/editorDom","vs/workbench/services/message/browser/messageService","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/worker/defaultWorkerFactory","vs/workbench/common/editor/stringEditorModel","vs/workbench/parts/files/electron-browser/electronFileActions","vs/base/common/comparers","vs/editor/common/modes/lineStream","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/workbench/parts/execution/electron-browser/terminal.contribution","vs/workbench/common/editor/textDiffEditorModel","vs/workbench/common/editor/diffEditorModel","vs/base/browser/ui/findinput/findInput","vs/base/node/decoder","vs/workbench/electron-browser/update","vs/base/node/flow","vs/workbench/common/editor/editorStacksModel","vs/workbench/parts/search/browser/searchActions","vs/base/common/diff/diff","vs/editor/common/modes/supports/tokenizationSupport","vs/base/browser/ui/resourceviewer/resourceViewer","vs/editor/contrib/referenceSearch/browser/referencesController","vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/platform/markers/common/problemMatcher","vs/base/browser/ui/dropdown/dropdown","vs/editor/common/model/tokensBinaryEncoding","vs/editor/common/model/modelLine","vs/base/browser/ui/contextview/contextview","vs/workbench/parts/search/common/searchModel","vs/base/browser/ui/button/button","vs/workbench/parts/debug/browser/debugViewer","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/common/controller/oneCursor","vs/editor/browser/widget/diffEditorWidget","vs/editor/common/model/textModelWithTokensHelpers","vs/workbench/parts/search/common/constants","vs/editor/contrib/comment/common/blockCommentCommand","vs/platform/actions/browser/menuService","vs/editor/contrib/diffNavigator/common/diffNavigator","vs/editor/contrib/find/common/findModel","vs/base/common/marked/marked","vs/editor/contrib/hover/browser/hoverOperation","vs/platform/telemetry/common/telemetryService","vs/platform/telemetry/common/telemetryIpc","vs/editor/node/textMate/TMSnippets","vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/workbench/parts/git/browser/gitActions","crypto","vs/editor/common/viewModel/splitLinesCollection","vs/workbench/browser/parts/editor/textDiffEditor","vs/base/common/jsonFormatter","vs/editor/contrib/quickOpen/common/quickOpen","vs/css!vs/workbench/parts/quickopen/browser/media/gotoSymbolHandler","vs/editor/contrib/defineKeybinding/common/smartSnippetInserter","vs/base/common/jsonEdit","vs/nls!vs/base/common/json","vs/editor/node/model/modelBuilder","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/smartSelect/common/tokenTree","vs/editor/contrib/links/common/links","vs/editor/contrib/find/common/findState","vs/editor/contrib/comment/common/lineCommentCommand","vs/editor/common/viewModel/viewModelImpl","vs/editor/common/controller/cursorCollection","vs/editor/common/commands/shiftCommand","vs/editor/common/modes/supports/onEnter","vs/editor/common/modes/languageFeatureRegistry","vs/base/browser/ui/countBadge/countBadge","vs/editor/common/model/editStack","vs/editor/browser/view/viewEventDispatcher","vs/base/browser/ui/fileLabel/fileLabel","vs/base/browser/ui/leftRightWidget/leftRightWidget","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/messagelist/messageList","vs/editor/browser/standalone/colorizer","vs/base/parts/tree/browser/treeViewModel","vs/base/parts/tree/browser/treeModel","vs/base/parts/quickopen/browser/quickOpenViewer","vs/base/parts/ipc/node/ipc.net","vs/workbench/electron-browser/main","vs/base/browser/ui/checkbox/checkbox","vs/workbench/electron-browser/shell","vs/base/node/request","vs/base/common/worker/simpleWorker","vs/base/common/paging","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/list/listView","vs/base/browser/ui/list/listWidget","vs/base/parts/tree/browser/treeView","vs/workbench/services/request/node/requestService","vs/editor/browser/controller/mouseTarget","vs/base/common/scrollable","vs/nls!vs/base/common/errors","vs/editor/browser/viewLayout/scrollManager","vs/editor/browser/viewLayout/layoutProvider","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/controller/textAreaHandler","vs/nls!vs/base/browser/ui/resourceviewer/resourceViewer","vs/editor/contrib/hover/browser/modesGlyphHover","vs/editor/contrib/quickFix/browser/lightBulpWidget","vs/nls!vs/base/browser/ui/messagelist/messageList","vs/nls!vs/base/common/processes","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/common/severity","vs/nls!vs/base/browser/ui/findinput/findInput","vs/editor/common/standalone/standaloneBase","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/base/node/processes","vs/nls!vs/base/browser/ui/aria/aria","vs/platform/telemetry/node/workbenchCommonProperties","vs/nls!vs/base/parts/quickopen/browser/quickOpenModel","vs/nls!vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/base/parts/tree/browser/treeDefaults","vs/nls!vs/base/browser/ui/actionbar/actionbar","vs/editor/contrib/snippet/browser/snippet","vs/base/parts/tree/browser/actionsRenderer","vs/editor/contrib/linesOperations/common/sortLinesCommand","vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/defaultConfig","vs/editor/contrib/linesOperations/common/moveLinesCommand","vs/editor/contrib/linesOperations/common/deleteLinesCommand","vs/nls!vs/editor/common/controller/cursor","vs/editor/common/controller/cursor","vs/nls!vs/editor/common/model/textModelWithTokens","vs/editor/contrib/linesOperations/common/copyLinesCommand","vs/editor/common/model/textModelWithMarkers","vs/editor/common/model/textModelWithTrackedRanges","vs/editor/common/model/textModelWithDecorations","vs/editor/common/model/editableTextModel","vs/editor/contrib/indentation/common/indentationCommands","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/modes/supports/suggestSupport","vs/nls!vs/editor/common/services/bulkEdit","vs/nls!vs/editor/common/services/modeServiceImpl","vs/nls!vs/editor/common/services/modelServiceImpl","vs/nls!vs/editor/contrib/accessibility/browser/accessibility","vs/nls!vs/editor/contrib/carretOperations/common/carretOperations","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/comment/common/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/defineKeybinding/browser/defineKeybinding","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/find/common/findController","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/format/common/formatActions","vs/nls!vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/hover/browser/hover","vs/nls!vs/editor/contrib/hover/browser/modesContentHover","vs/nls!vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/common/indentation","vs/nls!vs/editor/contrib/linesOperations/common/linesOperations","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/multicursor/common/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/quickFix/browser/quickFix","vs/nls!vs/editor/contrib/quickFix/browser/quickFixSelectionWidget","vs/editor/contrib/quickFix/browser/quickFixSelectionWidget","vs/nls!vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesController","vs/nls!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/rename/browser/renameInputField","vs/editor/contrib/rename/browser/renameInputField","vs/nls!vs/editor/contrib/rename/common/rename","vs/nls!vs/editor/contrib/smartSelect/common/jumpToBracket","vs/nls!vs/editor/contrib/smartSelect/common/smartSelect","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode","vs/nls!vs/editor/contrib/toggleWordWrap/common/toggleWordWrap","vs/nls!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/nls!vs/editor/node/languageConfiguration","vs/nls!vs/editor/node/textMate/TMSnippets","vs/nls!vs/editor/node/textMate/TMSyntax","vs/nls!vs/languages/html/common/html.contribution","vs/nls!vs/platform/actions/browser/menuItemActionItem","vs/nls!vs/platform/actions/browser/menusExtensionPoint","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensions/common/abstractExtensionService","vs/nls!vs/platform/extensions/common/extensionsRegistry","vs/nls!vs/platform/jsonschemas/common/jsonContributionRegistry","vs/nls!vs/platform/jsonschemas/common/jsonValidationExtensionPoint","vs/nls!vs/platform/keybinding/browser/keybindingServiceImpl","vs/nls!vs/platform/markers/common/problemMatcher","vs/nls!vs/platform/message/common/message","vs/nls!vs/platform/telemetry/common/telemetryService","vs/nls!vs/workbench/api/node/mainThreadMessageService","vs/nls!vs/workbench/browser/actions/configureLocale","vs/nls!vs/workbench/browser/actions/openSettings","vs/nls!vs/workbench/browser/actions/toggleSidebarPosition","vs/nls!vs/workbench/browser/actions/toggleSidebarVisibility","vs/nls!vs/workbench/browser/actions/toggleStatusbarVisibility","vs/nls!vs/workbench/browser/parts/activitybar/activityAction","vs/nls!vs/workbench/browser/parts/activitybar/activitybarPart","vs/nls!vs/workbench/browser/parts/compositePart","vs/nls!vs/workbench/browser/parts/editor/binaryDiffEditor","vs/nls!vs/workbench/browser/parts/editor/binaryEditor","vs/nls!vs/workbench/browser/parts/editor/editor.contribution","vs/nls!vs/workbench/browser/parts/editor/editorActions","vs/nls!vs/workbench/browser/parts/editor/editorPart","vs/nls!vs/workbench/browser/parts/editor/editorPicker","vs/nls!vs/workbench/browser/parts/editor/editorStatus","vs/nls!vs/workbench/browser/parts/editor/stringEditor","vs/nls!vs/workbench/browser/parts/editor/tabsTitleControl","vs/nls!vs/workbench/browser/parts/editor/textDiffEditor","vs/nls!vs/workbench/browser/parts/editor/titleControl","vs/nls!vs/workbench/browser/parts/panel/panelPart","vs/nls!vs/workbench/browser/parts/quickopen/quickOpenController","vs/nls!vs/workbench/browser/parts/sidebar/sidebarPart","vs/nls!vs/workbench/browser/parts/statusbar/statusbarPart","vs/nls!vs/workbench/browser/quickopen","vs/nls!vs/workbench/browser/viewlet","vs/nls!vs/workbench/common/editor/diffEditorInput","vs/nls!vs/workbench/electron-browser/actions","vs/nls!vs/workbench/electron-browser/crashReporter","vs/nls!vs/workbench/electron-browser/darwin/cli.contribution","vs/nls!vs/workbench/electron-browser/integration","vs/nls!vs/workbench/electron-browser/main.contribution","vs/nls!vs/workbench/electron-browser/shell","vs/nls!vs/workbench/electron-browser/update","vs/nls!vs/workbench/parts/debug/browser/breakpointWidget","vs/nls!vs/workbench/parts/debug/browser/debugEditorContribution","vs/nls!vs/workbench/parts/debug/browser/debugEditorModelManager","vs/nls!vs/workbench/parts/debug/browser/debugHover","vs/nls!vs/workbench/parts/debug/browser/debugViewer","vs/nls!vs/workbench/parts/debug/browser/debugViews","vs/nls!vs/workbench/parts/debug/common/debugModel","vs/nls!vs/workbench/parts/debug/electron-browser/debug.contribution","vs/nls!vs/workbench/parts/debug/electron-browser/debugActions","vs/nls!vs/workbench/parts/debug/electron-browser/debugService","vs/nls!vs/workbench/parts/debug/node/debugAdapter","vs/nls!vs/workbench/parts/debug/node/debugConfigurationManager","vs/nls!vs/workbench/parts/debug/node/rawDebugSession","vs/nls!vs/workbench/parts/emmet/node/actions/balance","vs/nls!vs/workbench/parts/emmet/node/actions/editPoints","vs/nls!vs/workbench/parts/emmet/node/actions/evaluateMath","vs/nls!vs/workbench/parts/emmet/node/actions/expandAbbreviation","vs/nls!vs/workbench/parts/emmet/node/actions/incrementDecrement","vs/nls!vs/workbench/parts/emmet/node/actions/matchingPair","vs/nls!vs/workbench/parts/emmet/node/actions/mergeLines","vs/nls!vs/workbench/parts/emmet/node/actions/reflectCssValue","vs/nls!vs/workbench/parts/emmet/node/actions/removeTag","vs/nls!vs/workbench/parts/emmet/node/actions/selectItem","vs/nls!vs/workbench/parts/emmet/node/actions/splitJoinTag","vs/nls!vs/workbench/parts/emmet/node/actions/toggleComment","vs/nls!vs/workbench/parts/emmet/node/actions/updateImageSize","vs/nls!vs/workbench/parts/emmet/node/actions/updateTag","vs/nls!vs/workbench/parts/emmet/node/actions/wrapWithAbbreviation","vs/nls!vs/workbench/parts/emmet/node/emmet.contribution","vs/nls!vs/workbench/parts/execution/electron-browser/terminal.contribution","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionEditor","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionTipsService","vs/nls!vs/workbench/parts/extensions/electron-browser/extensions.contribution","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsActions","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsInput","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsQuickOpen","vs/nls!vs/workbench/parts/extensions/electron-browser/extensionsWorkbenchExtension","vs/nls!vs/workbench/parts/feedback/browser/feedback","vs/nls!vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/nls!vs/workbench/parts/files/browser/editors/textFileEditor","vs/nls!vs/workbench/parts/files/browser/fileActions","vs/nls!vs/workbench/parts/files/browser/fileActions.contribution","vs/nls!vs/workbench/parts/files/browser/fileTracker","vs/nls!vs/workbench/parts/files/browser/files.contribution","vs/nls!vs/workbench/parts/files/browser/saveErrorHandler","vs/nls!vs/workbench/parts/files/browser/views/emptyView","vs/nls!vs/workbench/parts/files/browser/views/explorerView","vs/nls!vs/workbench/parts/files/browser/views/explorerViewer","vs/nls!vs/workbench/parts/files/browser/views/openEditorsView","vs/nls!vs/workbench/parts/files/browser/views/openEditorsViewer","vs/nls!vs/workbench/parts/files/common/editors/textFileEditorModel","vs/nls!vs/workbench/parts/files/electron-browser/electronFileActions","vs/nls!vs/workbench/parts/files/electron-browser/files.electron.contribution","vs/nls!vs/workbench/parts/files/electron-browser/textFileServices","vs/nls!vs/workbench/parts/git/browser/gitActions","vs/nls!vs/workbench/parts/git/browser/gitActions.contribution","vs/nls!vs/workbench/parts/git/browser/gitQuickOpen","vs/nls!vs/workbench/parts/git/browser/gitServices","vs/nls!vs/workbench/parts/git/browser/gitWidgets","vs/nls!vs/workbench/parts/git/browser/gitWorkbenchContributions","vs/nls!vs/workbench/parts/git/node/git.lib","vs/nls!vs/workbench/parts/html/browser/html.contribution","vs/nls!vs/workbench/parts/html/browser/htmlPreviewPart","vs/nls!vs/workbench/parts/markers/common/messages","vs/nls!vs/workbench/parts/output/browser/output.contribution","vs/nls!vs/workbench/parts/output/browser/outputActions","vs/nls!vs/workbench/parts/output/common/outputEditorInput","vs/nls!vs/workbench/parts/quickopen/browser/commandsHandler","vs/nls!vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/nls!vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/nls!vs/workbench/parts/quickopen/browser/helpHandler","vs/nls!vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/nls!vs/workbench/parts/search/browser/replaceService","vs/nls!vs/workbench/parts/search/browser/search.contribution","vs/nls!vs/workbench/parts/search/browser/searchActions","vs/nls!vs/workbench/parts/search/browser/searchWidget","vs/nls!vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/nls!vs/workbench/parts/tasks/browser/taskQuickOpen","vs/nls!vs/workbench/parts/tasks/common/taskTemplates","vs/nls!vs/workbench/parts/tasks/electron-browser/task.contribution","vs/nls!vs/workbench/parts/tasks/node/processRunnerConfiguration","vs/nls!vs/workbench/parts/tasks/node/processRunnerDetector","vs/nls!vs/workbench/parts/tasks/node/processRunnerSystem","vs/nls!vs/workbench/parts/terminal/electron-browser/terminal.contribution","vs/nls!vs/workbench/parts/terminal/electron-browser/terminalActions","vs/nls!vs/workbench/parts/themes/electron-browser/themes.contribution","vs/nls!vs/workbench/parts/update/electron-browser/update.contribution","vs/nls!vs/workbench/services/files/electron-browser/fileService","vs/nls!vs/workbench/services/files/node/fileService","vs/nls!vs/workbench/services/history/browser/history","vs/nls!vs/workbench/services/keybinding/electron-browser/keybindingService","vs/nls!vs/workbench/services/message/electron-browser/messageService","vs/nls!vs/workbench/services/request/node/requestService","vs/nls!vs/workbench/services/themes/electron-browser/themeService","vs/nls!vs/workbench/services/thread/electron-browser/threadService","vs/platform/extensions/common/ipcRemoteCom","vs/editor/contrib/inPlaceReplace/common/inPlaceReplaceCommand","vs/editor/contrib/format/common/formatCommand","vs/editor/contrib/folding/common/indentFoldStrategy","vs/editor/contrib/find/common/replaceAllCommand","vs/editor/common/services/abstractCodeEditorService","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/contrib/find/common/findDecorations","vs/editor/contrib/carretOperations/common/moveCarretCommand","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/viewModel/viewModelCursors","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/contrib/smartSelect/common/tokenSelectionSupport","vs/editor/node/languageConfiguration","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/platform/event/common/eventService","vs/editor/browser/viewParts/decorations/decorations","vs/platform/extensionManagement/common/extensionManagementIpc","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/common/viewModel/characterHardWrappingLineMapper","vs/editor/common/model/mirrorModel2","vs/editor/common/viewModel/filteredLineTokens","vs/platform/instantiation/common/instantiationService","vs/editor/common/viewLayout/linesLayout","vs/editor/common/commonCodeEditor","vs/editor/common/viewLayout/verticalObjects","vs/editor/common/viewLayout/whitespaceComputer","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewLayout/editorLayoutProvider","vs/editor/common/view/viewContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/platform/markers/common/markerService","vs/editor/common/view/overviewZoneManager","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/modes/monarch/monarchLexer","vs/editor/common/modes/supports/electricCharacter","vs/platform/opener/electron-browser/openerService","vs/platform/opener/electron-browser/opener.contribution","vs/platform/package","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/characterPair","vs/editor/common/modes/monarch/monarchCompile","vs/editor/common/services/compatWorkerServiceMain","vs/editor/common/services/languagesRegistry","vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard","vs/editor/contrib/selectionClipboard/electron-browser/selectionClipboard","vs/editor/common/modes/linkComputer","vs/languages/handlebars/common/handlebars.contribution","vs/languages/razor/common/razor.contribution","vs/editor/common/modes/languageSelector","vs/editor/common/modes/TMState","vs/platform/actions/browser/menusExtensionPoint","vs/editor/common/model/tokenIterator","vs/editor/common/model/lineToken","vs/editor/common/model/indentRanges","vs/editor/browser/controller/keyboardHandler","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/common/core/editorState","vs/editor/browser/view/viewController","vs/editor/common/services/modeServiceImpl","vs/languages/html/common/html.contribution","vs/languages/languages.main","vs/editor/common/diff/diffComputer","vs/platform/configuration/common/configurationService","vs/platform/extensions/common/abstractExtensionService","vs/platform/jsonschemas/common/jsonValidationExtensionPoint","vs/editor/common/commands/surroundSelectionCommand","vs/editor/browser/config/elementSizeObserver","vs/platform/keybinding/browser/keybindingServiceImpl","vs/css!vs/workbench/parts/terminal/electron-browser/media/xterm","vs/css!vs/workbench/parts/terminal/electron-browser/media/terminal","vs/css!vs/workbench/parts/tasks/electron-browser/media/task.contribution","vs/css!vs/workbench/parts/search/browser/media/search.contribution","vs/nls!vs/base/common/keyCodes","vs/css!vs/workbench/parts/quickopen/browser/media/commandsHandler","vs/platform/telemetry/browser/errorTelemetry","vs/platform/telemetry/browser/idleMonitor","vs/css!vs/workbench/parts/output/browser/media/output.contribution","vs/css!vs/workbench/parts/git/browser/media/git.contribution","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/carretOperations/common/carretOperations","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/codelens/common/codelens","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/comment/common/comment","vs/editor/contrib/contextmenu/browser/contextmenu","vs/css!vs/workbench/parts/files/browser/media/files.contribution","vs/editor/contrib/find/browser/find","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/format/common/format","vs/editor/contrib/format/common/formatActions","vs/editor/contrib/goToDeclaration/common/goToDeclaration","vs/editor/contrib/hover/common/hover","vs/editor/contrib/hover/browser/modesContentHover","vs/editor/contrib/hover/browser/hover","vs/editor/contrib/inPlaceReplace/common/inPlaceReplace","vs/css!vs/workbench/parts/files/browser/media/fileactions","vs/editor/contrib/links/browser/links","vs/editor/contrib/multicursor/common/multicursor","vs/css!vs/workbench/parts/files/browser/media/explorerviewlet","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/workbench/parts/feedback/browser/media/feedback","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/quickFix/browser/quickFixModel","vs/editor/contrib/quickFix/browser/quickFix","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensionsWidgets","vs/editor/contrib/outlineMarker/browser/outlineMarker","vs/editor/contrib/referenceSearch/common/referenceSearch","vs/editor/contrib/rename/common/rename","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/smartSelect/common/jumpToBracket","vs/editor/contrib/smartSelect/common/smartSelect","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensionsViewlet","vs/editor/contrib/defineKeybinding/browser/defineKeybinding","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensions","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/suggest/browser/suggest","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensionEditor","vs/editor/contrib/accessibility/browser/accessibility","vs/editor/contrib/toggleWordWrap/common/toggleWordWrap","vs/editor/contrib/wordHighlighter/common/wordHighlighter","vs/css!vs/workbench/parts/extensions/electron-browser/media/extensionActions","vs/platform/contextview/browser/contextViewService","vs/platform/extensionManagement/node/extensionGalleryService","vs/platform/request/common/baseRequestService","vs/css!vs/workbench/parts/debug/browser/media/debugHover","vs/css!vs/workbench/parts/debug/browser/media/debug.contribution","vs/platform/telemetry/node/commonProperties","vs/platform/telemetry/node/machineId","vs/workbench/api/node/extHost.contribution","vs/css!vs/workbench/parts/debug/browser/media/breakpointWidget","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/view/viewImpl","vs/css!vs/workbench/electron-browser/media/shell","vs/css!vs/workbench/browser/parts/statusbar/media/statusbarpart","vs/css!vs/workbench/browser/parts/sidebar/media/sidebarpart","vs/css!vs/workbench/browser/parts/quickopen/media/quickopen","vs/css!vs/workbench/browser/parts/panel/media/panelpart","vs/editor/common/languages.common","vs/css!vs/workbench/browser/parts/media/compositepart","vs/css!vs/workbench/browser/parts/editor/media/titlecontrol","vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/editor/contrib/referenceSearch/browser/referenceSearch","vs/platform/workspace/common/baseWorkspaceContextService","vs/workbench/api/node/extHostTypes","vs/workbench/api/node/mainThreadDiagnostics","vs/workbench/api/node/mainThreadEditorsTracker","vs/workbench/api/node/mainThreadErrors","vs/workbench/api/node/mainThreadLanguages","vs/workbench/api/node/mainThreadMessageService","vs/workbench/api/node/mainThreadStatusBar","vs/workbench/api/node/mainThreadStorage","vs/workbench/api/node/mainThreadTelemetry","vs/css!vs/workbench/browser/parts/editor/media/textdiffeditor","vs/css!vs/workbench/browser/parts/editor/media/tabstitle","vs/css!vs/workbench/browser/parts/editor/media/sidebyside","vs/css!vs/workbench/browser/parts/editor/media/notabstitle","vs/css!vs/workbench/browser/parts/editor/media/editorstatus","vs/css!vs/workbench/browser/parts/editor/media/editorpart","vs/css!vs/workbench/browser/parts/editor/media/editorPicker","vs/css!vs/workbench/browser/parts/editor/media/binaryeditor","vs/css!vs/workbench/browser/parts/editor/media/binarydiffeditor","vs/css!vs/workbench/browser/parts/activitybar/media/activitybarpart","vs/workbench/common/editor/resourceEditorModel","vs/css!vs/workbench/browser/parts/activitybar/media/activityaction","vs/css!vs/workbench/browser/media/workbench","vs/css!vs/workbench/browser/media/part","vs/css!vs/platform/keybinding/browser/keybindings","vs/workbench/common/editor/untitledEditorModel","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/contrib/zoneWidget/browser/peekViewWidget","vs/css!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/css!vs/editor/contrib/suggest/browser/suggest","vs/css!vs/editor/contrib/snippet/browser/snippet","vs/css!vs/editor/contrib/rename/browser/renameInputField","vs/workbench/common/storage","vs/workbench/electron-browser/crashReporter","vs/workbench/parts/contentprovider/common/contentprovider.contribution","vs/workbench/parts/debug/browser/debugEditorInputs","vs/css!vs/editor/contrib/referenceSearch/browser/referencesWidget","vs/workbench/parts/debug/browser/breakpointWidget","vs/workbench/parts/debug/browser/debugEditorModelManager","vs/css!vs/editor/contrib/quickFix/browser/quickFix","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/outlineMarker/browser/outlineMarker","vs/workbench/parts/debug/node/debugAdapter","vs/workbench/parts/debug/node/v8Protocol","vs/workbench/parts/emmet/node/editorAccessor","vs/css!vs/editor/contrib/links/browser/links","vs/workbench/parts/emmet/node/actions/balance","vs/workbench/parts/emmet/node/actions/editPoints","vs/workbench/parts/emmet/node/actions/evaluateMath","vs/workbench/parts/emmet/node/actions/expandAbbreviation","vs/workbench/parts/emmet/node/actions/incrementDecrement","vs/workbench/parts/emmet/node/actions/matchingPair","vs/workbench/parts/emmet/node/actions/mergeLines","vs/workbench/parts/emmet/node/actions/reflectCssValue","vs/workbench/parts/emmet/node/actions/removeTag","vs/workbench/parts/emmet/node/actions/selectItem","vs/workbench/parts/emmet/node/actions/splitJoinTag","vs/workbench/parts/emmet/node/actions/toggleComment","vs/workbench/parts/emmet/node/actions/updateImageSize","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/iPadShowKeyboard/browser/iPadShowKeyboard","vs/workbench/parts/execution/electron-browser/terminalService","vs/workbench/parts/execution/electron-browser/execution.contribution","vs/css!vs/editor/contrib/hover/browser/hover","vs/workbench/parts/extensions/electron-browser/extensionsInput","vs/workbench/parts/extensions/electron-browser/extensionsWidgets","vs/workbench/parts/extensions/electron-browser/extensionsWorkbenchService","vs/css!vs/editor/contrib/gotoError/browser/gotoError","vs/workbench/parts/files/browser/files","vs/css!vs/editor/contrib/goToDeclaration/browser/goToDeclaration","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/find/browser/findWidget","vs/workbench/parts/files/common/editors/saveParticipant","vs/css!vs/editor/contrib/defineKeybinding/browser/defineKeybinding","vs/css!vs/editor/contrib/codelens/browser/codelens","vs/workbench/parts/git/browser/gitEditorContributions","vs/workbench/parts/git/browser/gitOperations","vs/workbench/parts/git/common/gitIpc","vs/css!vs/editor/contrib/clipboard/browser/clipboard","vs/workbench/parts/git/common/noopGitService","vs/workbench/parts/git/common/stageRanges","vs/workbench/parts/git/node/git.lib","vs/workbench/parts/git/node/rawGitService","vs/css!vs/editor/contrib/accessibility/browser/accessibility","vs/css!vs/editor/browser/widget/media/tokens","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/browser/widget/media/diffEditor","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/workbench/parts/markers/common/markersModel","vs/css!vs/editor/browser/viewParts/selections/selections","vs/workbench/parts/debug/node/rawDebugSession","vs/workbench/parts/git/browser/gitOutput","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/workbench/parts/search/common/search","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/workbench/parts/search/browser/replaceService","vs/workbench/parts/search/browser/replaceContributions","vs/workbench/parts/snippets/electron-browser/snippetsTracker","vs/workbench/parts/tasks/common/problemCollectors","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/workbench/parts/tasks/common/languageServiceTaskSystem","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/workbench/parts/tasks/common/taskTemplates","vs/workbench/parts/tasks/node/processRunnerConfiguration","vs/workbench/parts/tasks/node/processRunnerDetector","vs/workbench/parts/tasks/node/processRunnerSystem","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/workbench/parts/terminal/electron-browser/terminalActions","vs/workbench/parts/terminal/electron-browser/terminalConfigHelper","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/workbench/browser/parts/activitybar/activityAction","vs/workbench/services/configuration/node/configurationService","vs/workbench/services/contextview/electron-browser/contextmenuService","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/workbench/api/node/mainThreadWorkspace","vs/workbench/browser/parts/editor/binaryDiffEditor","vs/workbench/browser/parts/editor/binaryEditor","vs/workbench/parts/files/browser/editors/binaryFileEditor","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/workbench/services/files/node/watcher/unix/watcherIpc","vs/workbench/services/files/node/watcher/unix/watcherService","vs/workbench/services/files/node/watcher/win32/csharpWatcherService","vs/workbench/services/files/node/watcher/win32/watcherService","vs/workbench/services/files/node/fileService","vs/workbench/services/files/electron-browser/fileService","vs/css!vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/css!vs/base/parts/tree/browser/tree","vs/workbench/parts/git/browser/gitServices","vs/workbench/parts/git/electron-browser/electronGitService","vs/css!vs/base/parts/tree/browser/actionsRenderer","vs/workbench/services/keybinding/electron-browser/nativeKeymap","vs/editor/node/textMate/TMSyntax","vs/workbench/services/keybinding/electron-browser/keybindingService","vs/css!vs/base/parts/quickopen/browser/quickopen","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/workbench/parts/output/common/outputEditorInput","vs/workbench/parts/output/common/outputServices","vs/css!vs/base/browser/ui/splitview/splitview","vs/workbench/api/node/mainThreadOutputService","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/workbench/browser/actions/toggleSidebarPosition","vs/workbench/browser/actions/toggleSidebarVisibility","vs/workbench/browser/actions/toggleStatusbarVisibility","vs/workbench/browser/parts/statusbar/statusbarPart","vs/workbench/electron-browser/darwin/cli.contribution","vs/workbench/parts/files/browser/views/emptyView","vs/workbench/parts/markers/browser/markersPanelActions","vs/workbench/parts/markers/browser/markersWorkbenchContributions","vs/workbench/parts/markers/markers.contribution","vs/workbench/parts/output/browser/outputActions","vs/workbench/parts/output/browser/output.contribution","vs/workbench/parts/terminal/electron-browser/terminalService","vs/workbench/parts/terminal/electron-browser/terminal.contribution","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/resourceviewer/resourceviewer","vs/workbench/browser/parts/panel/panelPart","vs/css!vs/base/browser/ui/octiconLabel/octicons/octicons","vs/css!vs/base/browser/ui/messagelist/messageList","vs/editor/browser/editor.all","vs/css!vs/base/browser/ui/list/list","vs/workbench/browser/parts/editor/editorPicker","vs/workbench/parts/emmet/node/actions/updateTag","vs/workbench/parts/emmet/node/actions/wrapWithAbbreviation","vs/workbench/parts/emmet/node/emmet.contribution","vs/workbench/parts/git/browser/gitQuickOpen","vs/workbench/parts/quickopen/browser/commandsHandler","vs/workbench/parts/quickopen/browser/helpHandler","vs/workbench/parts/snippets/electron-browser/snippets.contribution","vs/workbench/parts/tasks/browser/taskQuickOpen","vs/workbench/services/search/node/searchIpc","vs/workbench/services/telemetry/common/workspaceStats","vs/css!vs/base/browser/ui/leftRightWidget/leftRightWidget","vs/workbench/parts/html/browser/htmlPreviewPart","vs/workbench/parts/html/browser/html.contribution","vs/workbench/parts/themes/electron-browser/themes.contribution","vs/workbench/parts/themes/test/electron-browser/themes.test.contribution","vs/workbench/services/thread/common/abstractThreadService","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/findinput/findInput","vs/workbench/api/node/mainThreadCommands","vs/workbench/api/node/mainThreadConfiguration","vs/workbench/api/node/mainThreadEditors","vs/css!vs/base/browser/ui/fileLabel/fileLabel","vs/workbench/api/node/mainThreadFileSystemEventService","vs/workbench/api/node/mainThreadLanguageFeatures","vs/workbench/api/node/mainThreadQuickOpen","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/workbench/api/node/mainThreadDocuments","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/workbench/services/search/node/searchService","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/workbench/browser/parts/activitybar/activitybarPart","vs/workbench/browser/parts/sidebar/sidebarPart","vs/workbench/electron-browser/window","vs/css!vs/base/browser/ui/button/button","vs/workbench/parts/debug/browser/debugActionsWidget","vs/css!vs/base/browser/ui/aria/aria","vs/workbench/parts/debug/browser/debugHover","vs/workbench/parts/debug/browser/debugViews","vs/workbench/parts/extensions/electron-browser/extensionsQuickOpen","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/builder","vs/workbench/electron-browser/main.contribution","vs/base/browser/ui/list/rangeMap","vs/workbench/parts/extensions/electron-browser/extensionEditor","vs/workbench/parts/extensions/electron-browser/extensionTipsService","vs/workbench/services/lifecycle/electron-browser/lifecycleService","vs/workbench/services/message/electron-browser/messageService","vs/workbench/services/themes/electron-browser/themeService","vs/workbench/services/history/browser/history","vs/workbench/parts/welcome/electron-browser/electronGettingStarted.contribution","vs/workbench/browser/actions/configureLocale","url","vs/workbench/browser/layout","vs/base/node/proxy","vs/base/node/ports","vs/workbench/browser/parts/editor/editorStatus","vs/workbench/browser/parts/editor/stringEditor","vs/workbench/parts/welcome/electron-browser/electronGettingStarted","vs/workbench/browser/parts/editor/editor.contribution","vs/base/node/plist","vs/workbench/browser/parts/editor/noTabsTitleControl","vs/workbench/browser/parts/editor/tabsTitleControl","vs/workbench/browser/parts/editor/sideBySideEditorControl","vs/workbench/browser/parts/quickopen/quickOpenController","assert","vs/workbench/browser/parts/editor/editorPart","vs/workbench/electron-browser/integration","vs/workbench/parts/welcome/common/abstractGettingStarted","vs/workbench/parts/debug/browser/debugEditorContribution","vs/workbench/parts/debug/node/debugConfigurationManager","vs/workbench/parts/debug/electron-browser/debugService","vs/workbench/parts/debug/electron-browser/debug.contribution","vs/base/common/worker/workerProtocol","vs/workbench/parts/extensions/electron-browser/extensionsWorkbenchExtension","vs/workbench/parts/extensions/electron-browser/extensions.contribution","vs/workbench/parts/feedback/browser/feedback","vs/workbench/parts/feedback/electron-browser/feedbackStatusbarItem","vs/workbench/parts/feedback/electron-browser/feedback.contribution","vs/base/common/numbers","vs/base/common/graph","vs/workbench/parts/files/browser/fileActions.contribution","vs/workbench/parts/files/browser/fileTracker","vs/workbench/parts/files/browser/saveErrorHandler","vs/workbench/parts/files/browser/editors/textFileEditor","vs/workbench/parts/files/browser/files.contribution","vs/workbench/parts/files/browser/textFileServices","vs/base/common/flags","vs/workbench/parts/files/browser/views/explorerView","vs/workbench/parts/files/browser/views/openEditorsViewer","vs/workbench/parts/files/browser/views/openEditorsView","vs/workbench/parts/files/browser/explorerViewlet","vs/workbench/parts/files/electron-browser/electronFileTracker","vs/workbench/parts/files/electron-browser/textFileServices","vs/workbench/parts/files/electron-browser/files.electron.contribution","vs/workbench/parts/update/electron-browser/update.contribution","vs/workbench/parts/git/browser/gitWidgets","vs/base/common/hash","vs/workbench/parts/git/browser/gitActions.contribution","vs/workbench/parts/git/electron-browser/git.contribution","vs/workbench/parts/quickopen/browser/gotoLineHandler","vs/workbench/parts/quickopen/browser/gotoSymbolHandler","vs/workbench/parts/quickopen/browser/quickopen.contribution","vs/base/common/diff/diffChange","vs/workbench/parts/search/browser/searchWidget","vs/workbench/parts/search/browser/search.contribution","vs/workbench/parts/tasks/electron-browser/task.contribution","getmac","vs/base/common/marked/raw.marked","sax","http-proxy-agent","https-proxy-agent","iconv-lite","native-keymap","vscode-textmate","string_decoder","stream","winreg","vs/base/common/winjs.base.raw","zlib","https","http","graceful-fs","vs/workbench/workbench.main"],d=function(e){
for(var t=[],i=0,n=e.length;i<n;i++)t[i]=l[e[i]];return t};define(l[244],d([1,0]),function(e,t){"use strict";function i(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,i=e.parent.location;if(t.protocol!==i.protocol||t.hostname!==i.hostname||t.port!==i.port)return o=!0,null}catch(n){return o=!0,null}return e.parent}function n(e,t){for(var i,n=e.document.getElementsByTagName("iframe"),o=0,r=n.length;o<r;o++)if(i=n[o],i.contentWindow===t)return i;return null}var o=!1,r=null,s=function(){function e(){}return e.getSameOriginWindowChain=function(){if(!r){r=[];var e,t=window;do e=i(t),e?r.push({window:t,iframeElement:n(e,t)}):r.push({window:t,iframeElement:null}),t=e;while(t)}return r.slice(0)},e.hasDifferentOriginAncestor=function(){return r||this.getSameOriginWindowChain(),o},e.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var i=0,n=0,o=this.getSameOriginWindowChain(),r=0;r<o.length;r++){var s=o[r];if(s.window===t)break;if(!s.iframeElement)break;var a=s.iframeElement.getBoundingClientRect();i+=a.top,n+=a.left}return{top:i,left:n}},e}();t.IframeUtils=s}),define(l[959],d([1,0]),function(e,t){"use strict";function i(e,t){if(e.start>=t.end||t.start>=e.end)return null;var i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?null:{start:i,end:n}}function n(e){return e.end-e.start<=0}function o(e,t){var i=[],o={start:e.start,end:Math.min(t.start,e.end)},r={start:Math.max(t.end,e.start),end:e.end};return n(o)||i.push(o),n(r)||i.push(r),i}function r(e,t){for(var i=e.start;i<e.end;i++)t(i)}function s(e,t){for(var n=[],o=0,r=t;o<r.length;o++){var s=r[o];if(!(e.start>=s.range.end)){if(e.end<s.range.start)break;var a=i(e,s.range);a&&n.push({range:a,size:s.size})}}return n}function a(e,t){var i=e.start,n=e.end;return{start:i+t,end:n+t}}function c(e){for(var t=[],i=null,n=0,o=e;n<o.length;n++){var r=o[n],s=r.range.start,a=r.range.end,c=r.size;i&&c===i.size?i.range.end=a:(i={range:{start:s,end:a},size:c},t.push(i))}return t}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return c(e.reduce(function(e,t){return e.concat(t)},[]))}t.intersect=i,t.isEmpty=n,t.relativeComplement=o,t.each=r,t.groupIntersect=s,t.consolidate=c;var l=function(){function e(){this.groups=[],this._size=0}return e.prototype.splice=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o=i.length-t,r=s({start:0,end:e},this.groups),c=s({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(function(e){return{range:a(e.range,o),size:e.size}}),l=i.map(function(t,i){return{range:{start:e+i,end:e+i+1},size:t.size}});this.groups=u(r,l,c),this._size=this.groups.reduce(function(e,t){return e+t.size*(t.range.end-t.range.start)},0)},Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,i=0,n=0,o=this.groups;n<o.length;n++){var r=o[n],s=r.range.end-r.range.start,a=i+s*r.size;if(e<a)return t+Math.floor((e-i)/r.size);t+=s,i=a}return t},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},e.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,i=0,n=0,o=this.groups;n<o.length;n++){var r=o[n],s=r.range.end-r.range.start,a=i+s;if(e<a)return t+(e-i)*r.size;t+=s*r.size,i=a}return-1},e.prototype.dispose=function(){this.groups=null},e}();t.RangeMap=l}),define(l[94],d([1,0]),function(e,t){"use strict";!function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(t.ScrollbarVisibility||(t.ScrollbarVisibility={}));t.ScrollbarVisibility}),define(l[273],d([1,0]),function(e,t){"use strict";var i=20,n=function(){function e(e,t,i){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=0,this._scrollSize=0,this._scrollPosition=0,this._computedAvailableSize=0,this._computedRepresentableSize=0,this._computedRatio=.1,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderPosition=0,this._refreshComputedValues()}return e.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)},e.prototype._refreshComputedValues=function(){var e,t,n=this._oppositeScrollbarSize,o=this._arrowSize,r=this._visibleSize,s=this._scrollSize,a=this._scrollPosition,c=Math.max(0,r-n),u=Math.max(0,c-2*o),l=s>0?u/s:0,d=s>r;if(d){if(e=Math.floor(r*l),t=Math.floor(a*l),e<i){var h=(i-e)/2;e=i,t-=h,t+e>u&&(t=u-e),t<0&&(t=0)}}else e=u,t=0;this._computedAvailableSize=Math.round(c),this._computedRepresentableSize=Math.round(u),this._computedRatio=l,this._computedIsNeeded=d,this._computedSliderSize=Math.round(e),this._computedSliderPosition=Math.round(t)},e.prototype.getArrowSize=function(){return this._arrowSize},e.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},e.prototype.isNeeded=function(){return this._computedIsNeeded},e.prototype.getSliderSize=function(){return this._computedSliderSize},e.prototype.getSliderPosition=function(){return this._computedSliderPosition},e.prototype.convertSliderPositionToScrollPosition=function(e){return e/this._computedRatio},e.prototype.validateScrollPosition=function(e){return e=Math.round(e),e=Math.max(e,0),e=Math.min(e,this._scrollSize-this._visibleSize)},e}();t.ScrollbarState=n}),define(l[41],d([1,0]),function(e,t){"use strict";function i(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]}function n(e,t){for(var i=0,n=e.length;i<n;i++)t(e[i],function(){e.splice(i,1),i--,n--})}function o(e,t,i){if(void 0===i&&(i=function(e,t){return e===t}),e.length!==t.length)return!1;for(var n=0,o=e.length;n<o;n++)if(!i(e[n],t[n]))return!1;return!0}function r(e,t,i){for(var n=0,o=e.length-1;n<=o;){var r=(n+o)/2|0,s=i(e[r],t);if(s<0)n=r+1;else{if(!(s>0))return r;o=r-1}}return-(n+1)}function s(e,t){var i=0,n=e.length;if(0===n)return 0;for(;i<n;){var o=Math.floor((i+n)/2);t(e[o])?n=o:i=o+1}return i}function a(e,t){var i=new Array;if(t)for(var n={},o=0;o<e.length;o++)for(var r=0;r<e[o].length;r++){var s=e[o][r],a=t(s);n.hasOwnProperty(a)||(n[a]=!0,i.push(s))}else for(var o=0,c=e.length;o<c;o++)i.push.apply(i,e[o]);return i}function c(e){return e?e.filter(function(e){return!!e}):e}function u(e,t){return e.indexOf(t)>=0}function l(e,t,i){var n=e[t],o=e[i];e[t]=o,e[i]=n}function d(e,t,i){e.splice(i,0,e.splice(t,1)[0])}function h(e){return!Array.isArray(e)||0===e.length}function p(e,t){if(!t)return e.filter(function(t,i){return e.indexOf(t)===i});var i=Object.create(null);return e.filter(function(e){var n=t(e);return!i[n]&&(i[n]=!0,!0)})}function f(e){var t=Object.create(null);return function(i){var n=e(i);return!t[n]&&(t[n]=!0,!0)}}function g(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t(n))return i}return-1}function m(e,t,i){void 0===i&&(i=null);var n=g(e,t);return n<0?i:e[n]}function v(e,t,i){void 0===i&&(i=function(e,t){return e===t});for(var n=0,o=0,r=Math.min(e.length,t.length);o<r&&i(e[o],t[o]);o++)n++;return n}function y(e){return e.reduce(function(e,t){return e.concat(t)},[])}function E(e,t){void 0===t&&(t=0);for(var i=[],n=t;n<e;n++)i.push(n);return i}function S(e,t,i){void 0===i&&(i=[]);for(var n=0;n<e;n++)i[n]=t();return i}function b(e,t){var i=Object.create(null);return e.forEach(function(e){return i[t(e)]=e}),i}t.tail=i,t.forEach=n,t.equals=o,t.binarySearch=r,t.findFirst=s,t.merge=a,t.coalesce=c,t.contains=u,t.swap=l,t.move=d,t.isFalsyOrEmpty=h,t.distinct=p,t.uniqueFilter=f,t.firstIndex=g,t.first=m,t.commonPrefixLength=v,t.flatten=y,t.range=E,t.fill=S,t.index=b}),define(l[85],d([1,0]),function(e,t){"use strict";function i(e,t){if(!e||null===e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}t.ok=i}),define(l[78],d([1,0]),function(e,t){"use strict";function i(){return Object.create(null)}function n(){return Object.create(null)}function o(e,t,i){void 0===i&&(i=null);var n=String(t);return a(e,n)?e[n]:i}function r(e,t,i){var n=String(t);return a(e,n)?e[n]:("function"==typeof i&&(i=i()),e[n]=i,i)}function s(e,t,i){e[i(t)]=t}function a(e,t){return h.call(e,t)}function c(e){var t=[];for(var i in e)h.call(e,i)&&t.push(e[i]);return t}function u(e,t){for(var i in e)if(h.call(e,i)){var n=t({key:i,value:e[i]},function(){delete e[i]});if(n===!1)return}}function l(e,t){return!!h.call(e,t)&&(delete e[t],!0)}function d(e,t){var n=i();return e.forEach(function(e){return r(n,t(e),[]).push(e)}),n}t.createStringDictionary=i,t.createNumberDictionary=n,t.lookup=o,t.lookupOrInsert=r,t.insert=s;var h=Object.prototype.hasOwnProperty;t.contains=a,t.values=c,t.forEach=u,t.remove=l,t.groupBy=d}),define(l[1019],d([1,0]),function(e,t){"use strict";t.DifferenceType={Add:0,Remove:1,Change:2};var i=function(){function e(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}return e.prototype.getChangeType=function(){return 0===this.originalLength?t.DifferenceType.Add:0===this.modifiedLength?t.DifferenceType.Remove:t.DifferenceType.Change},e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();t.DiffChange=i}),define(l[289],d([1,0,1019]),function(e,t,i){"use strict";var n=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}();t.Debug=n;var o=function(){function e(){}return e.Copy=function(e,t,i,n,o){for(var r=0;r<o;r++)i[n+r]=e[t+r]},e}();t.MyArray=o;var r=1447,s=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new i.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),a=function(){function e(e,t,i){void 0===i&&(i=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=i,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()}return e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var i,n={},o=1;for(i=0;i<e;i++){var r=this.OriginalSequence.getElementHash(i);n.hasOwnProperty(r)?this.m_originalIds[i]=n[r]:(this.m_originalIds[i]=o++,n[r]=this.m_originalIds[i])}for(i=0;i<t;i++){var s=this.ModifiedSequence.getElementHash(i);n.hasOwnProperty(s)?this.m_modifiedIds[i]=n[s]:(this.m_modifiedIds[i]=o++,n[s]=this.m_modifiedIds[i])}},e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},e.prototype.ComputeDiff=function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},e.prototype._ComputeDiff=function(e,t,i,n){var o=[!1];return this.ComputeDiffRecursive(e,t,i,n,o)},e.prototype.ComputeDiffRecursive=function(e,t,o,r,s){for(s[0]=!1;e<=t&&o<=r&&this.ElementsAreEqual(e,o);)e++,o++;for(;t>=e&&r>=o&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||o>r){var a=void 0;return o<=r?(n.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new i.DiffChange(e,0,o,r-o+1)]):e<=t?(n.Assert(o===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[new i.DiffChange(e,t-e+1,o,0)]):(n.Assert(e===t+1,"originalStart should only be one more than originalEnd"),n.Assert(o===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var c=[0],u=[0],l=this.ComputeRecursionPoint(e,t,o,r,c,u,s),d=c[0],h=u[0];if(null!==l)return l;if(!s[0]){var p=this.ComputeDiffRecursive(e,d,o,h,s),f=[];return f=s[0]?[new i.DiffChange(d+1,t-(d+1)+1,h+1,r-(h+1)+1)]:this.ComputeDiffRecursive(d+1,t,h+1,r,s),this.ConcatenateChanges(p,f)}return[new i.DiffChange(e,t-e+1,o,r-o+1)]},e.prototype.WALKTRACE=function(e,t,n,o,r,a,c,u,l,d,h,p,f,g,m,v,y,E){var S,b=null,_=null,C=new s,w=t,I=n,T=f[0]-v[0]-o,A=Number.MIN_VALUE,L=this.m_forwardHistory.length-1;do S=T+e,S===w||S<I&&l[S-1]<l[S+1]?(h=l[S+1],g=h-T-o,h<A&&C.MarkNextChange(),A=h,C.AddModifiedElement(h+1,g),T=S+1-e):(h=l[S-1]+1,g=h-T-o,h<A&&C.MarkNextChange(),A=h-1,C.AddOriginalElement(h,g+1),T=S-1-e),L>=0&&(l=this.m_forwardHistory[L],e=l[0],w=1,I=l.length-1);while(--L>=-1);if(b=C.getReverseChanges(),E[0]){var D=f[0]+1,k=v[0]+1;if(null!==b&&b.length>0){var x=b[b.length-1];D=Math.max(D,x.getOriginalEnd()),k=Math.max(k,x.getModifiedEnd())}_=[new i.DiffChange(D,p-D+1,k,m-k+1)]}else{C=new s,w=a,I=c,T=f[0]-v[0]-u,A=Number.MAX_VALUE,L=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do S=T+r,S===w||S<I&&d[S-1]>=d[S+1]?(h=d[S+1]-1,g=h-T-u,h>A&&C.MarkNextChange(),A=h+1,C.AddOriginalElement(h+1,g+1),T=S+1-r):(h=d[S-1],g=h-T-u,h>A&&C.MarkNextChange(),A=h,C.AddModifiedElement(h+1,g+1),T=S-1-r),L>=0&&(d=this.m_reverseHistory[L],r=d[0],w=1,I=d.length-1);while(--L>=-1);_=C.getChanges()}return this.ConcatenateChanges(b,_)},e.prototype.ComputeRecursionPoint=function(e,t,n,s,a,c,u){var l,d,h,p=0,f=0,g=0,m=0;e--,n--,a[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var v=t-e+(s-n),y=v+1,E=new Array(y),S=new Array(y),b=s-n,_=t-e,C=e-n,w=t-s,I=_-b,T=I%2===0;E[b]=e,S[_]=t,u[0]=!1;var A,L;for(h=1;h<=v/2+1;h++){var D=0,k=0;for(p=this.ClipDiagonalBound(b-h,h,b,y),f=this.ClipDiagonalBound(b+h,h,b,y),A=p;A<=f;A+=2){for(l=A===p||A<f&&E[A-1]<E[A+1]?E[A+1]:E[A-1]+1,d=l-(A-b)-C,L=l;l<t&&d<s&&this.ElementsAreEqual(l+1,d+1);)l++,d++;if(E[A]=l,l+d>D+k&&(D=l,k=d),!T&&Math.abs(A-_)<=h-1&&l>=S[A])return a[0]=l,c[0]=d,L<=S[A]&&r>0&&h<=r+1?this.WALKTRACE(b,p,f,C,_,g,m,w,E,S,l,t,a,d,s,c,T,u):null}var x=(D-e+(k-n)-h)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(D,this.OriginalSequence,x))return u[0]=!0,a[0]=D,c[0]=k,x>0&&r>0&&h<=r+1?this.WALKTRACE(b,p,f,C,_,g,m,w,E,S,l,t,a,d,s,c,T,u):(e++,n++,[new i.DiffChange(e,t-e+1,n,s-n+1)]);for(g=this.ClipDiagonalBound(_-h,h,_,y),m=this.ClipDiagonalBound(_+h,h,_,y),A=g;A<=m;A+=2){for(l=A===g||A<m&&S[A-1]>=S[A+1]?S[A+1]-1:S[A-1],d=l-(A-_)-w,L=l;l>e&&d>n&&this.ElementsAreEqual(l,d);)l--,d--;if(S[A]=l,T&&Math.abs(A-b)<=h&&l<=E[A])return a[0]=l,c[0]=d,L>=E[A]&&r>0&&h<=r+1?this.WALKTRACE(b,p,f,C,_,g,m,w,E,S,l,t,a,d,s,c,T,u):null}if(h<=r){var M=new Array(f-p+2);M[0]=b-p+1,o.Copy(E,p,M,1,f-p+1),this.m_forwardHistory.push(M),M=new Array(m-g+2),M[0]=_-g+1,o.Copy(S,g,M,1,m-g+1),this.m_reverseHistory.push(M)}}return this.WALKTRACE(b,p,f,C,_,g,m,w,E,S,l,t,a,d,s,c,T,u)},e.prototype.ConcatenateChanges=function(e,t){var i=[],n=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],i)?(n=new Array(e.length+t.length-1),o.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],o.Copy(t,1,n,e.length,t.length-1),n):(n=new Array(e.length+t.length),o.Copy(e,0,n,0,e.length),o.Copy(t,0,n,e.length,t.length),n)},e.prototype.ChangesOverlap=function(e,t,o){if(n.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),n.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,s=e.originalLength,a=e.modifiedStart,c=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(c=t.modifiedStart+t.modifiedLength-e.modifiedStart),o[0]=new i.DiffChange(r,s,a,c),!0}return o[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,i,n){if(e>=0&&e<n)return e;var o=i,r=n-i-1,s=t%2===0;if(e<0){var a=o%2===0;return s===a?0:1}var c=r%2===0;return s===c?n-1:n-2},e}();t.LcsDiff=a});var h=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};define(l[66],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this.time=(new Date).getTime(),this.originalEvent=e,this.source=null}return e}();t.Event=i;var n=function(e){function t(t,i,n,o){e.call(this,o),this.key=t,this.oldValue=i,this.newValue=n}return h(t,e),t}(i);t.PropertyChangeEvent=n;var o=function(e){function t(t,i){e.call(this,i),this.element=t}return h(t,e),t}(i);t.ViewerEvent=o,t.EventType={PROPERTY_CHANGED:"propertyChanged",SELECTION:"selection",FOCUS:"focus",BLUR:"blur",HIGHLIGHT:"highlight",EXPAND:"expand",COLLAPSE:"collapse",TOGGLE:"toggle",CONTENTS_CHANGED:"contentsChanged",BEFORE_RUN:"beforeRun",RUN:"run",EDIT:"edit",SAVE:"save",CANCEL:"cancel",CHANGE:"change",DISPOSE:"dispose"}}),define(l[1013],d([1,0]),function(e,t){"use strict";function i(e,t){switch(void 0===t&&(t=0),typeof e){case"object":return null===e?n(349,t):Array.isArray(e)?s(e,t):a(e,t);case"string":return r(e,t);case"boolean":return o(e,t);case"number":return n(e,t);case"undefined":return n(e,937);default:return n(e,617)}}function n(e,t){return(t<<5)-t+e|0}function o(e,t){return n(e?433:863,t)}function r(e,t){t=n(149417,t);for(var i=0,o=e.length;i<o;i++)t=n(e.charCodeAt(i),t);return t}function s(e,t){return t=n(104579,t),e.reduce(function(e,t){return i(t,e)},t)}function a(e,t){return t=n(181387,t),Object.keys(e).sort().reduce(function(t,n){return t=r(n,t),i(e[n],t)},t)}t.hash=i}),define(l[168],d([1,0]),function(e,t){"use strict";function i(e,t){return!e&&!t||!(!e||!t)&&(Array.isArray(e)?!!Array.isArray(t)&&n(e,t):o(e,t))}function n(e,t){var i=e.length,n=t.length;if(i!==n)return!1;for(var r=0;r<i;r++)if(!o(e[r],t[r]))return!1;return!0}function o(e,t){return!e&&!t||!(!e||!t)&&("string"==typeof e?"string"==typeof t&&e===t:e.language===t.language&&e.value===t.value)}function r(e){return{language:"string",value:e}}function s(e,t){return!e&&!t||!(!e||!t)&&(e.language===t.language&&e.value===t.value)}function a(e,t){return e.formattedText===t.formattedText&&e.text===t.text&&e.className===t.className&&e.style===t.style&&e.customStyle===t.customStyle&&e.tagName===t.tagName&&e.isText===t.isText&&e.role===t.role&&e.markdown===t.markdown&&s(e.code,t.code)&&c(e.children,t.children)}function c(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var i=e.length,n=t.length;if(i!==n)return!1;for(var o=0;o<i;o++)if(!a(e[o],t[o]))return!1;return!0}t.markedStringsEquals=i,t.textToMarkedString=r,t.htmlContentElementArrEquals=c}),define(l[114],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.nextId=function(){return this._prefix+ ++this._lastId},e}();t.IdGenerator=i,t.defaultGenerator=new i("id#")}),define(l[226],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length),this.items=e,this.start=t,this.end=i,this.index=t-1}return e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.index===this.end?null:this.items[this.index]},e}();t.ArrayIterator=i;var n=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}();t.MappedIterator=n;var o=function(e){function t(t,i){e.call(this,t,i),this.navigator=t}return h(t,e),t.prototype.current=function(){return this.fn(this.navigator.current())},t.prototype.previous=function(){return this.fn(this.navigator.previous())},t.prototype.parent=function(){return this.fn(this.navigator.parent())},t.prototype.first=function(){return this.fn(this.navigator.first())},t.prototype.last=function(){return this.fn(this.navigator.last())},t}(n);t.MappedNavigator=o}),define(l[158],d([1,0]),function(e,t){"use strict";var i=function(){function e(){this.map=Object.create(null),this._size=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=this.peek(e);return t?t:null},e.prototype.keys=function(){var e=[];for(var t in this.map)e.push(this.map[t].key);return e},e.prototype.entries=function(){var e=[];for(var t in this.map)e.push(this.map[t]);return e},e.prototype.set=function(e,t){return!this.get(e)&&(this.push(e,t),!0)},e.prototype["delete"]=function(e){var t=this.get(e);return t?(this.pop(e),t):null},e.prototype.has=function(e){return!!this.get(e)},e.prototype.clear=function(){this.map=Object.create(null),this._size=0},e.prototype.push=function(e,t){var i={key:e,value:t};this.map[e.toString()]=i,this._size++},e.prototype.pop=function(e){delete this.map[e.toString()],this._size--},e.prototype.peek=function(e){var t=this.map[e.toString()];return t?t.value:null},e}();t.SimpleMap=i;var n=function(){function e(e,t){void 0===e&&(e=Number.MAX_VALUE),void 0===t&&(t=1),this.limit=e,this.map=Object.create(null),this._size=0,this.ratio=e*t}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(this.map[e])return!1;var i={key:e,value:t};return this.push(i),this._size>this.limit&&this.trim(),!0},e.prototype.get=function(e){var t=this.map[e];return t?t.value:null},e.prototype["delete"]=function(e){var t=this.map[e];return t?(this.map[e]=void 0,this._size--,t.next?t.next.prev=t.prev:this.head=t.prev,t.prev?t.prev.next=t.next:this.tail=t.next,t.value):null},e.prototype.has=function(e){return!!this.map[e]},e.prototype.clear=function(){this.map=Object.create(null),this._size=0,this.head=null,this.tail=null},e.prototype.push=function(e){this.head&&(e.prev=this.head,this.head.next=e),this.tail||(this.tail=e),this.head=e,this.map[e.key]=e,this._size++},e.prototype.trim=function(){if(this.tail)if(this.ratio<this.limit)for(var e=0,t=this.tail;t.next;){if(this.map[t.key]=void 0,this._size--,e===this.ratio){this.tail=t.next,this.tail.prev=null;break}t=t.next,e++}else this.map[this.tail.key]=void 0,this._size--,this.tail=this.tail.next,this.tail.prev=null},e}();t.LinkedMap=n;var o=function(e){function t(t){e.call(this,t)}return h(t,e),t.prototype.get=function(e){var t=this.map[e];return t?(this["delete"](e),this.push(t),t.value):null},t}(n);t.LRUCache=o});/**
 * marked - a markdown parser
 * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=s(p.item,"gm")(/bull/g,p.bullet)(),p.list=s(p.list)(/bull/g,p.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+p.def.source+")")(),p.blockquote=s(p.blockquote)("def",p.def)(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",p.html=s(p.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,p._tag)(),p.paragraph=s(p.paragraph)("hr",p.hr)("heading",p.heading)("lheading",p.lheading)("blockquote",p.blockquote)("tag","<"+p._tag)("def",p.def)(),p.normal=c({},p),p.gfm=c({},p.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),p.gfm.paragraph=s(p.paragraph)("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|")(),p.tables=c({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=p,e.lex=function(t,i){var n=new e(i);return n.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,i){for(var n,o,r,s,a,c,u,l,d,e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),c={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].split(/ *\| */);this.tokens.push(c)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t,!0),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),s=r[2],this.tokens.push({type:"list_start",ordered:s.length>1}),r=r[0].match(this.rules.item),n=!1,d=r.length,l=0;l<d;l++)c=r[l],u=c.length,c=c.replace(/^ *([*+-]|\d+\.) +/,""),~c.indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&l!==d-1&&(a=p.bullet.exec(r[l+1])[0],s===a||s.length>1&&a.length>1||(e=r.slice(l+1).join("\n")+e,l=d-1)),o=n||/\n\n(?!\s*$)/.test(c),l!==d-1&&(n="\n"===c.charAt(c.length-1),o||(o=n)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(c,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]});else if(!i&&t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),this.tokens.links[r[1].toLowerCase()]={href:r[2],title:r[3]};else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),c={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<c.align.length;l++)/^ *-+: *$/.test(c.align[l])?c.align[l]="right":/^ *:-+: *$/.test(c.align[l])?c.align[l]="center":/^ *:-+ *$/.test(c.align[l])?c.align[l]="left":c.align[l]=null;for(l=0;l<c.cells.length;l++)c.cells[l]=c.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var f={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};f._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,f._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,f.link=s(f.link)("inside",f._inside)("href",f._href)(),f.reflink=s(f.reflink)("inside",f._inside)(),f.normal=c({},f),f.pedantic=c({},f.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),f.gfm=c({},f.normal,{escape:s(f.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(f.text)("]|","~]|")("|","|https?://|")()}),f.breaks=c({},f.gfm,{br:s(f.br)("{2,}","*")(),text:s(f.gfm.text)("{2,}","*")()}),t.rules=f,t.output=function(e,i,n){var o=new t(i,n);return o.output(e)},t.prototype.output=function(e){for(var t,i,n,r,s="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),s+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(i=":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1]),n=this.mangle("mailto:")+i):(i=o(r[1]),n=i),s+=this.renderer.link(n,null,i);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),s+=this.options.sanitize?o(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,s+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),s+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),s+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),s+=this.renderer.codespan(o(r[2],!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),s+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),s+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),s+=o(this.smartypants(r[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),i=o(r[1]),n=i,s+=this.renderer.link(n,null,i);return s},t.prototype.outputLink=function(e,t){var i=o(t.href),n=t.title?o(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,o(e[1]))},t.prototype.smartypants=function(e){return e},t.prototype.mangle=function(e){for(var t,i="",n=e.length,o=0;o<n;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},i.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(i=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+o(t,!0)+'">'+(i?e:o(e,!0))+"\n</code></pre>\n":"<pre><code>"+(i?e:o(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var i=t?"ol":"ul";return"<"+i+">\n"+e+"</"+i+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var i=t.header?"th":"td",n=t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">";return n+e+"</"+i+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(r(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return""}if(0===n.indexOf("javascript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+i+"</a>"},i.prototype.image=function(e,t,i){var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},n.parse=function(e,t,i){var o=new n(t,i);return o.parse(e)},n.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var i="";this.next();)i+=this.tok();return i},n.prototype.next=function(){return this.token=this.tokens.pop()},n.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},n.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},n.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,o,r="",s="";for(i="",e=0;e<this.token.header.length;e++)n={header:!0,align:this.token.align[e]},i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",o=0;o<t.length;o++)i+=this.renderer.tablecell(this.inline.output(t[o]),{header:!1,align:this.token.align[o]});s+=this.renderer.tablerow(i)}return this.renderer.table(r,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var c=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(c);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,u.options=u.setOptions=function(e){return c(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},u.Parser=n,u.parser=n.parse,u.Renderer=i,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=t,u.inlineLexer=t.output,u.parse=u,this.marked=u,define("vs/base/common/marked/raw.marked",[],function(){return this.marked}),require.config({shim:{"vs/base/common/marked/raw.marked":{exports:function(){return this.marked}}}}),define(l[311],d([1024]),function(e){return{marked:e}}),define(l[12],d([1,0]),function(e,t){"use strict";function i(){return"undefined"!=typeof y.Worker}var n=!1,o=!1,r=!1,s=!1,a=!1,c=!1,u=!1,l=void 0,d=void 0;if(t.LANGUAGE_DEFAULT="en","object"==typeof process){n="win32"===process.platform,o="darwin"===process.platform,r="linux"===process.platform,s=!n&&0===process.getuid();var h=process.env.VSCODE_NLS_CONFIG;if(h)try{var p=JSON.parse(h),f=p.availableLanguages["*"];l=p.locale,d=f?f:t.LANGUAGE_DEFAULT}catch(g){}a=!0}else if("object"==typeof navigator){var m=navigator.userAgent;n=m.indexOf("Windows")>=0,o=m.indexOf("Macintosh")>=0,r=m.indexOf("Linux")>=0,c=!0,l=navigator.language,d=l,u=!!self.QUnit}!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(t.Platform||(t.Platform={}));var v=t.Platform;t._platform=v.Web,a&&(o?t._platform=v.Mac:n?t._platform=v.Windows:r&&(t._platform=v.Linux)),t.isWindows=n,t.isMacintosh=o,t.isLinux=r,t.isRootUser=s,t.isNative=a,t.isWeb=c,t.isQunit=u,t.platform=t._platform,t.language=d,t.locale=l;var y="object"==typeof self?self:global;t.globals=y,t.hasWebWorkerSupport=i,t.setTimeout=y.setTimeout.bind(y),t.clearTimeout=y.clearTimeout.bind(y),t.setInterval=y.setInterval.bind(y),t.clearInterval=y.clearInterval.bind(y)}),define(l[239],d([1,0,12]),function(e,t,i){"use strict";function n(e,t){for(;e.length>t;)e.shift()}function o(e,t){var o=!0;if(o)return function(){};var r=s[e]||!1;s[e]=r;var u=a[e]||[];u.push(t),a[e]=u;var l=function(){for(var o=[],r=0;r<arguments.length;r++)o[r-0]=arguments[r];var a;if(s[e]===!0){var u=[arguments];a=c.indexOf(t),a!==-1&&(u.unshift.apply(u,c[a+1]||[]),c[a+1]=[]);var l=function(){var e=u.shift();t.apply(t,e),u.length>0&&i.setTimeout(l,500)};l()}else{a=c.indexOf(t),a=a!==-1?a:c.length;var d=a+1,h=c[d]||[];h.push(arguments),n(h,50),c[a]=t,c[d]=h}};return l}var r=i.globals;r.Monaco||(r.Monaco={}),r.Monaco.Diagnostics={};var s=r.Monaco.Diagnostics,a={},c=[];t.register=o}),define(l[1003],d([1,0,12]),function(e,t,i){"use strict";function n(e,t){return void 0===t&&(t=!1),i.globals.MonacoEnvironment&&i.globals.MonacoEnvironment.hasOwnProperty(e)?i.globals.MonacoEnvironment[e]:t}t.getCrossOriginWorkerScriptUrl=n("getWorkerUrl",null)}),define(l[25],d([1,0,12]),function(e,t,i){"use strict";function n(e,i){e=c(e),i=c(i);for(var n=e.split(t.sep),o=i.split(t.sep);n.length>0&&o.length>0&&n[0]===o[0];)n.shift(),o.shift();for(var r=0,s=n.length;r<s;r++)o.unshift("..");return o.join(t.sep)}function o(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?".":0===~t?e[0]:e.substring(0,~t)}function r(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");return 0===t?e:~t===e.length-1?r(e.substring(0,e.length-1)):e.substr(~t+1)}function s(e){e=r(e);var t=~e.lastIndexOf(".");return t?e.substring(~t):""}function a(e,t){return t?!y.test(e):!v.test(e)}function c(e,t){if(null===e||void 0===e)return e;var n=e.length;if(0===n)return".";var o=i.isWindows&&t;if(a(e,o))return e;for(var r=o?"\\":"/",s=l(e,r),c=s.length,d=!1,h="",p=s.length;p<=n;p++)if(p===n||e.charCodeAt(p)===E||e.charCodeAt(p)===S){if(u(e,c,p,"..")){var f=h.lastIndexOf(r),g=h.slice(f+1);(s||g.length>0)&&".."!==g&&(h=f===-1?"":h.slice(0,f),d=!0)}else u(e,c,p,".")&&(s||h||p<n-1)&&(d=!0);if(!d){var m=e.slice(c,p);""!==h&&h[h.length-1]!==r&&(h+=r),h+=m}c=p+1,d=!1}return s+h}function u(e,t,i,n){return t+n.length===i&&e.indexOf(n,t)===t}function l(e,t){if(void 0===t&&(t="/"),!e)return"";var i=e.length,n=e.charCodeAt(0);if(n===E||n===S){if(n=e.charCodeAt(1),(n===E||n===S)&&(n=e.charCodeAt(2),n!==E&&n!==S)){for(var o=3,r=o;o<i&&(n=e.charCodeAt(o),n!==E&&n!==S);o++);if(n=e.charCodeAt(o+1),r!==o&&n!==E&&n!==S)for(o+=1;o<i;o++)if(n=e.charCodeAt(o),n===E||n===S)return e.slice(0,o+1).replace(/[\\/]/g,t)}return t}if((n>=C&&n<=I||n>=_&&n<=w)&&e.charCodeAt(1)===b)return n=e.charCodeAt(2),n===E||n===S?e.slice(0,2)+t:e.slice(0,2);var s=e.indexOf("://");if(s!==-1)for(s+=3;s<i;s++)if(n=e.charCodeAt(s),n===E||n===S)return e.slice(0,s+1);return""}function d(e){if(!i.isWindows)return!1;if(!e||e.length<5)return!1;var t=e.charCodeAt(0);if(t!==S)return!1;if(t=e.charCodeAt(1),t!==S)return!1;for(var n=2,o=n;n<e.length&&(t=e.charCodeAt(n),t!==S);n++);return o!==n&&(t=e.charCodeAt(n+1),!isNaN(t)&&t!==S)}function h(e){return e&&"/"===e[0]}function p(e){return h(c(e))?e:t.sep+e}function f(e,t){if(e===t)return!0;e=c(e),t=c(t);var n=t.length,o=t.charCodeAt(n-1);if(o===E&&(t=t.substring(0,n-1),n-=1),e===t)return!0;if(i.isLinux||(e=e.toLowerCase(),t=t.toLowerCase()),e===t)return!0;if(0!==e.indexOf(t))return!1;var r=e.charCodeAt(n);return r===E}function g(e){return!(!e||0===e.length||/^\s+$/.test(e))&&(T.lastIndex=0,!T.test(e)&&((!i.isWindows||!A.test(e))&&("."!==e&&".."!==e&&((!i.isWindows||"."!==e[e.length-1])&&(!i.isWindows||e.length===e.trim().length)))))}function m(e){return t.isAbsoluteRegex.test(e)}t.sep="/",t.nativeSep=i.isWindows?"\\":"/",t.relative=n,t.dirname=o,t.basename=r,t.extname=s;var v=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/,y=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;t.normalize=c,t.getRoot=l,t.join=function(){for(var e="",i=0;i<arguments.length;i++){var n=arguments[i];if(i>0){var o=e.charCodeAt(e.length-1);if(o!==E&&o!==S){var r=n.charCodeAt(0);r!==E&&r!==S&&(e+=t.sep)}}e+=n}return c(e)},t.isUNC=d,t.makePosixAbsolute=p;var E="/".charCodeAt(0),S="\\".charCodeAt(0),b=":".charCodeAt(0),_="a".charCodeAt(0),C="A".charCodeAt(0),w="z".charCodeAt(0),I="Z".charCodeAt(0);t.isEqualOrParent=f;var T=i.isWindows?/[\\/:\*\?"<>\|]/g:/[\\/]/g,A=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;t.isValidBasename=g,t.isAbsoluteRegex=/^((\/|[a-zA-Z]:\\)[^\(\)<>\\'\"\[\]]+)/,t.isAbsolute=m}),define(l[225],d([1,0]),function(e,t){"use strict";function i(e,t,i){if(!e||!t)return 0;var o=e+t,s=i&&i[o];if("number"==typeof s)return s;for(var a=t.length,c=e.toLowerCase(),u=t.toLowerCase(),l=0,d=0,h=0,p=function(){var i=c.indexOf(u[l],d);return i<0?(h=0,"break"):(h+=1,d===i&&(h+=5),e[i]===t[i]&&(h+=1),0===i?h+=8:r.some(function(t){return t===e[i-1]})?h+=7:n(e.charCodeAt(i))&&(h+=1),d=i+1,void l++)};l<a;){var f=p();if("break"===f)break}return i&&(i[o]=h),h}function n(e){return 65<=e&&e<=90}function o(e,t){if(!e||!t)return!1;for(var i=t.length,n=e.toLowerCase(),o=0,r=-1;o<i;){var s=n.indexOf(t[o],r+1);if(s<0)return!1;r=s,o++}return!0}/*!
    BEGIN THIRD PARTY
    */
/*!
    * string_score.js: String Scoring Algorithm 0.1.22
    *
    * http://joshaven.com/string_score
    * https://github.com/joshaven/string_score
    *
    * Copyright (C) 2009-2014 Joshaven Potter <yourtech@gmail.com>
    * Special thanks to all of the contributors listed here https://github.com/joshaven/string_score
    * MIT License: http://opensource.org/licenses/MIT
    *
    * Date: Tue Mar 1 2011
    * Updated: Tue Mar 10 2015
    */
var r=["-","_"," ","/","\\","."];t.score=i,t.matches=o}),/*!
END THIRD PARTY
*/
define(l[259],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){void 0===e&&(e=[]),this._elements=e.slice()}return e.prototype.set=function(e){this.unset(e),this._elements.push(e)},e.prototype.contains=function(e){return this._elements.indexOf(e)>-1},e.prototype.unset=function(e){var t=this._elements.indexOf(e);t>-1&&this._elements.splice(t,1)},Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e}();t.ArraySet=i}),define(l[268],d([1,0,12]),function(e,t,i){"use strict";var n=i.globals.performance&&"function"==typeof i.globals.performance.now,o=function(){function e(e){this._highResolution=n&&e,this._startTime=this._now(),this._stopTime=-1}return e.create=function(t){return void 0===t&&(t=!0),new e(t)},e.prototype.stop=function(){this._stopTime=this._now()},e.prototype.elapsed=function(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime},e.prototype._now=function(){return this._highResolution?i.globals.performance.now():(new Date).getTime()},e}();t.StopWatch=o}),define(l[9],d([1,0,158]),function(e,t,i){"use strict";function n(e,t,i){void 0===i&&(i="0");for(var n=""+e,o=[n],r=n.length;r<t;r++)o.push(i);return o.reverse().join("")}function o(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return 0===t.length?e:e.replace(O,function(e,i){var n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]})}function r(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function s(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function a(e,t){void 0===t&&(t=" ");var i=c(e,t);return u(i,t)}function c(e,t){if(!e||!t)return e;var i=t.length;if(0===i||0===e.length)return e;for(var n=0,o=-1;(o=e.indexOf(t,n))===n;)n+=i;return e.substring(n)}function u(e,t){if(!e||!t)return e;var i=t.length,n=e.length;if(0===i||0===n)return e;for(var o=n,r=-1;;){if(r=e.lastIndexOf(t,o-1),r===-1||r+i!==o)break;if(0===r)return"";o=r}return e.substring(0,o)}function l(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function d(e){return e.replace(/\*/g,"")}function h(e,t){if(e.length<t.length)return!1;for(var i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0}function p(e,t){var i=e.length-t.length;return i>0?e.lastIndexOf(t)===i:0===i&&e===t}function f(e,t,i,n,o){if(""===e)throw new Error("Cannot create regex from empty string");t||(e=e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),n&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var r="";return o&&(r+="g"),i||(r+="i"),new RegExp(e,r)}function g(e){if("^"===e.source||"^$"===e.source||"$"===e.source)return!1;var t=e.exec("");return t&&0===e.lastIndex}function m(e){if(!t.canNormalize||!e)return e;var i=N.get(e);if(i)return i;var n;return n=P.test(e)?e.normalize("NFC"):e,N.set(e,n),n}function v(e){for(var t=0,i=e.length;t<i;t++)if(" "!==e.charAt(t)&&"\t"!==e.charAt(t))return t;return-1}function y(e){for(var t=0,i=e.length;t<i;t++)if(" "!==e.charAt(t)&&"\t"!==e.charAt(t))return e.substring(0,t);return e}function E(e,t){void 0===t&&(t=e.length-1);for(var i=t;i>=0;i--)if(" "!==e.charAt(i)&&"\t"!==e.charAt(i))return i;return-1}function S(e,t){return e.localeCompare(t)}function b(e){return e>=97&&e<=122||e>=65&&e<=90}function _(e,t){var i=e.length,n=t.length;if(i!==n)return!1;for(var o=0;o<i;o++){var r=e.charCodeAt(o),s=t.charCodeAt(o);if(r!==s)if(b(r)&&b(s)){var a=Math.abs(r-s);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(r).toLocaleLowerCase()!==String.fromCharCode(s).toLocaleLowerCase())return!1}return!0}function C(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n}function w(e,t){var i,n=Math.min(e.length,t.length),o=e.length-1,r=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(o-i)!==t.charCodeAt(r-i))return i;return n}function I(e){return e=+e,e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function T(e,t,i){void 0===i&&(i=4);var n=Math.abs(e.length-t.length);if(n>i)return 0;var o,r,s=[],a=[];for(o=0;o<t.length+1;++o)a.push(0);for(o=0;o<e.length+1;++o)s.push(a);for(o=1;o<e.length+1;++o)for(r=1;r<t.length+1;++r)e[o-1]===t[r-1]?s[o][r]=s[o-1][r-1]+1:s[o][r]=Math.max(s[o-1][r],s[o][r-1]);return s[e.length][t.length]-Math.sqrt(n)}function A(e){for(var t,i=/\r\n|\r|\n/g,n=[0];t=i.exec(e);)n.push(i.lastIndex);return n}function L(e,i){if(e.length<i)return e;for(var n=e.split(/\b/),o=0,r=n.length-1;r>=0;r--)if(o+=n[r].length,o>i){n.splice(0,r);break}return n.join(t.empty).replace(/^\s/,t.empty)}function D(e){return e&&(e=e.replace(F,""),e=e.replace(W,"\n"),e=e.replace(B,""),e=e.replace(K,"")),e}function k(e){return e&&e.length>0&&e.charCodeAt(0)===V}function x(e,t,i){var n=e.length+t.length;return n>i&&(e="..."+e.substr(n-i)),e+=t.length>i?t.substr(t.length-i):t}function M(e){return btoa(encodeURIComponent(e))}function R(e,t){for(var i="",n=0;n<t;n++)i+=e;return i}t.empty="",t.pad=n;var O=/{(\d+)}/g;t.format=o,t.escape=r,t.escapeRegExpCharacters=s,t.trim=a,t.ltrim=c,t.rtrim=u,t.convertSimple2RegExpPattern=l,t.stripWildcards=d,t.startsWith=h,t.endsWith=p,t.createRegExp=f,t.regExpLeadsToEndlessLoop=g,t.canNormalize="function"==typeof"".normalize;var P=/[^\u0000-\u0080]/,N=new i.LinkedMap(1e4);t.normalizeNFC=m,t.firstNonWhitespaceIndex=v,t.getLeadingWhitespace=y,t.lastNonWhitespaceIndex=E,t.localeCompare=S,t.equalsIgnoreCase=_,t.commonPrefixLength=C,t.commonSuffixLength=w,t.isFullWidthCharacter=I,t.difference=T,t.computeLineStarts=A,t.lcut=L;var F=/\x1B\x5B[12]?K/g,W=/\xA/g,B=/\x1b\[\d+m/g,K=/\x1b\[0?m/g;t.removeAnsiEscapeCodes=D;var V=65279;t.UTF8_BOM_CHARACTER=String.fromCharCode(V),t.startsWithUTF8BOM=k,t.appendWithLimit=x,t.safeBtoa=M,t.repeat=R}),define(l[277],d([1,0,9]),function(e,t,i){"use strict";function n(e,t){var i=s.exec(e.toLowerCase()),n=s.exec(t.toLowerCase()),o=i[1]||i[3]||"",r=i[2]||"",a=n[1]||n[3]||"",c=n[2]||"";return o!==a?o<a?-1:1:r<c?-1:1}function o(e,t,o){var s=e.toLowerCase(),a=t.toLowerCase(),c=r(e,t,o);if(c)return c;var u=i.endsWith(s,o),l=i.endsWith(a,o);if(u!==l)return u?-1:1;var d=n(s,a);return 0!==d?d:i.localeCompare(s,a)}function r(e,t,i){var n=e.toLowerCase(),o=t.toLowerCase(),r=0===n.indexOf(i),s=0===o.indexOf(i);if(r!==s)return r?-1:1;if(r&&s){if(n.length<o.length)return-1;if(n.length>o.length)return 1}return 0}var s=/^(.*)\.([^.]*)|([^.]+)$/;t.compareFileNames=n,t.compareAnything=o,t.compareByPrefix=r}),define(l[89],d([1,0,9,158]),function(e,t,i,n){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,i){for(var n=0,o=e.length;n<o;n++){var r=e[n](t,i);if(r)return r}return null}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return function(t,i){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o](t,i);if(!s)return null;n=n.concat(s)}return n}}function s(e,t,i){if(!i||0===i.length||i.length<t.length)return null;e&&(t=t.toLowerCase(),i=i.toLowerCase());for(var n=0;n<t.length;n++)if(t[n]!==i[n])return null;return t.length>0?[{start:0,end:t.length}]:[]}function a(e,t){var i=t.toLowerCase().indexOf(e.toLowerCase());return i===-1?null:[{start:i,end:i+e.length}]}function c(e,t){return u(e.toLowerCase(),t.toLowerCase(),0,0)}function u(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]===t[n]){var o=null;if(o=u(e,t,i+1,n+1))return g({start:n,end:n+1},o)}return u(e,t,i,n+1)}function l(e){return 97<=e&&e<=122}function d(e){return 65<=e&&e<=90}function h(e){return 48<=e&&e<=57}function p(e){return[32,9,10,13].indexOf(e)>-1}function f(e){return l(e)||d(e)||h(e)}function g(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function m(e,t){for(var i=t;i<e.length;i++){var n=e.charCodeAt(i);if(d(n)||h(n)||i>0&&!f(e.charCodeAt(i-1)))return i}return e.length}function v(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;var o=null,r=n+1;for(o=v(e,t,i+1,n+1);!o&&(r=m(t,r))<t.length;)o=v(e,t,i+1,r),r++;return null===o?null:g({start:n,end:n+1},o)}function y(e){if(e.length>60)return!1;for(var t=0,i=0,n=0,o=0,r=0,s=0;s<e.length;s++)r=e.charCodeAt(s),d(r)&&t++,l(r)&&i++,f(r)&&n++,h(r)&&o++;var a=t/e.length,c=i/e.length,u=n/e.length,p=o/e.length;return c>.2&&a<.8&&u>.6&&p<.2}function E(e){for(var t=0,i=0,n=0,o=0,r=0;r<e.length;r++)n=e.charCodeAt(r),d(n)&&t++,l(n)&&i++,p(n)&&o++;return 0!==t&&0!==i||0!==o?t<=5:e.length<=30}function S(e,t){if(!t||0===t.length)return null;if(!E(e))return null;if(!y(t))return null;for(var i=null,n=0;n<t.length&&null===(i=v(e.toLowerCase(),t,0,n));)n=m(t,n+1);return i}function b(e,t){if(!t||0===t.length)return null;for(var i=null,n=0;n<t.length&&null===(i=_(e.toLowerCase(),t,0,n));)n=C(t,n+1);return i}function _(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;var o=null,r=n+1;for(o=_(e,t,i+1,n+1);!o&&(r=C(t,r))<t.length;)o=_(e,t,i+1,r),r++;return null===o?null:g({start:n,end:n+1},o)}function C(e,t){for(var i=t;i<e.length;i++){var n=e.charCodeAt(i);if(p(n)||i>0&&p(e.charCodeAt(i-1)))return i}return e.length}function w(e,n,o){if(void 0===o&&(o=!1),"string"!=typeof e||"string"!=typeof n)return null;var r=T.get(e);r||(r=new RegExp(i.convertSimple2RegExpPattern(e),"i"),T.set(e,r));var s=r.exec(n);return s?[{start:s.index,end:s.index+s[0].length}]:o?I(e,n):t.fuzzyContiguousFilter(e,n)}t.or=o,t.and=r,t.matchesStrictPrefix=function(e,t){return s(!1,e,t)},t.matchesPrefix=function(e,t){return s(!0,e,t)},t.matchesContiguousSubString=a,t.matchesSubString=c,t.matchesCamelCase=S,t.matchesWords=b,function(e){e[e.Contiguous=0]="Contiguous",e[e.Separate=1]="Separate"}(t.SubstringMatching||(t.SubstringMatching={}));t.SubstringMatching;t.fuzzyContiguousFilter=o(t.matchesPrefix,S,a);var I=o(t.matchesPrefix,S,c),T=new n.LinkedMap(1e4);t.matchesFuzzy=w}),define(l[124],d([1,0,9,25,158]),function(e,t,i,n,o){"use strict";function r(e){switch(e){case 0:return"";case 1:return p+"*?";default:return"(?:"+h+"|"+p+"+"+h+"|"+h+p+"+)*?"}}function s(e,t){if(!e)return[];for(var i,n=[],o=!1,r=!1,s="",a=0;a<e.length;a++){switch(i=e[a]){case t:if(!o&&!r){n.push(s),s="";continue}break;case"{":o=!0;break;case"}":o=!1;break;case"[":r=!0;break;case"]":r=!1}s+=i}return s&&n.push(s),n}function a(e){if(!e)return"";var t="",n=s(e,"/");if(n.every(function(e){return"**"===e}))t=".*";else{var o=!1;n.forEach(function(e,c){if("**"===e)return void(o||(t+=r(2),o=!0));for(var u,l=!1,d="",f=!1,g="",m=0;m<e.length;m++)if(u=e[m],"}"!==u&&l)d+=u;else if("]"!==u&&f){var v=void 0;switch(u){case"-":v=u;break;case"^":v=u;break;default:v=i.escapeRegExpCharacters(u)}g+=v}else switch(u){case"{":l=!0;continue;case"[":f=!0;continue;case"}":var y=s(d,","),E="(?:"+y.map(function(e){return a(e)}).join("|")+")";t+=E,l=!1,d="";break;case"]":t+="["+g+"]",f=!1,g="";break;case"?":t+=p;continue;case"*":t+=r(1);continue;default:t+=i.escapeRegExpCharacters(u)}c<n.length-1&&"**"!==n[c+1]&&(t+=h),o=!1})}return t}function c(e){if(!e)return null;e=e.trim();var t=y.get(e);return t?(t.regexp&&(t.regexp.lastIndex=0),t):(t=Object.create(null),g.test(e)?t.trivia=f.T1:m.test(e)?t.trivia=f.T2:v.test(e)?t.trivia=f.T3:t.regexp=u("^"+a(e)+"$"),y.set(e,t),t)}function u(e){try{return new RegExp(e)}catch(t){return/.^/}}function l(e,t,n){if(!e||!t)return!1;if("string"==typeof e){var o=c(e);if(!o)return!1;if(o.trivia===f.T1)return i.endsWith(t,e.substr(4));if(o.trivia===f.T2){var r=e.substr(3);return t===r||i.endsWith(t,"/"+r)||i.endsWith(t,"\\"+r)}return o.trivia===f.T3?e.slice(1,-1).split(",").some(function(e){return l(e,t)}):o.regexp.test(t)}return d(e,t,n)}function d(e,t,o){for(var r,s=Object.getOwnPropertyNames(e),a=function(a){var c=s[a],u=e[c];if(u===!1)return"continue";if(l(c,t)){if("boolean"==typeof u)return{value:c};if(u&&"string"==typeof u.when){if(!o||!o.length)return"continue";r||(r=i.rtrim(n.basename(t),n.extname(t)));var d=u,h=d.when.replace("$(basename)",r);return o.some(function(e){return e===h})?{value:c}:"continue"}return{value:c}}},c=0;c<s.length;c++){var u=a(c);if("object"==typeof u)return u.value}return null}var h="[/\\\\]",p="[^/\\\\]";t.splitGlobAware=s;var f,g=/^\*\*\/\*\.[\w\.-]+$/,m=/^\*\*\/[\w\.-]+$/,v=/^{\*\*\/\*\.[\w\.-]+(,\*\*\/\*\.[\w\.-]+)*}$/;!function(e){e[e.T1=0]="T1",e[e.T2=1]="T2",e[e.T3=2]="T3"}(f||(f={}));var y=new o.LinkedMap(1e4);t.match=l}),define(l[17],d([1,0]),function(e,t){"use strict";function i(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==m.number||e.constructor!==Array)}function n(e){return typeof e===m.string||e instanceof String}function o(e){return i(e)&&e.every(function(e){return n(e)})}function r(e){return!(typeof e!==m.object||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function s(e){return(typeof e===m.number||e instanceof Number)&&!isNaN(e)}function a(e){return e===!0||e===!1}function c(e){return typeof e===m.undefined}function u(e){return c(e)||null===e}function l(e){if(!r(e))return!1;for(var t in e)if(v.call(e,t))return!1;return!0}function d(e){return typeof e===m["function"]}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return e&&e.length>0&&e.every(d)}function p(e,t){for(var i=Math.min(e.length,t.length),n=0;n<i;n++)f(e[n],t[n])}function f(e,t){if(n(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(d(t)){if(e instanceof t)return;if(e&&e.constructor===t)return;if(1===t.length&&t.call(void 0,e)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function g(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=Object.create(e.prototype);return e.apply(n,t),n}var m={number:"number",string:"string",undefined:"undefined",object:"object","function":"function"};t.isArray=i,t.isString=n,t.isStringArray=o,t.isObject=r,t.isNumber=s,t.isBoolean=a,t.isUndefined=c,t.isUndefinedOrNull=u;var v=Object.prototype.hasOwnProperty;t.isEmptyObject=l,t.isFunction=d,t.areFunctions=h,t.validateConstraints=p,t.validateConstraint=f,t.create=g}),define(l[996],d([1,0,17,78]),function(e,t,i,n){"use strict";function o(e){return{data:e,incoming:Object.create(null),outgoing:Object.create(null)}}var r=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return n.forEach(this._nodes,function(t){i.isEmptyObject(t.value.outgoing)&&e.push(t.value)}),e},e.prototype.traverse=function(e,t,i){var n=this.lookup(e);n&&this._traverse(n,t,Object.create(null),i)},e.prototype._traverse=function(e,t,i,o){var r=this,s=this._hashFn(e.data);if(!n.contains(i,s)){i[s]=!0,o(e.data);var a=t?e.outgoing:e.incoming;n.forEach(a,function(e){return r._traverse(e.value,t,i,o)})}},e.prototype.insertEdge=function(e,t){var i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing[this._hashFn(t)]=n,n.incoming[this._hashFn(e)]=i},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],n.forEach(this._nodes,function(e){delete e.value.outgoing[t],delete e.value.incoming[t]})},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),i=n.lookup(this._nodes,t);return i||(i=o(e),this._nodes[t]=i),i},e.prototype.lookup=function(e){return n.lookup(this._nodes,this._hashFn(e))},Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){var e=[];return n.forEach(this._nodes,function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")}),e.join("\n")},e}();t.Graph=r}),define(l[76],d([1,0,12,17,9,25]),function(e,t,i,n,o,r){"use strict";function s(e,t){var n=t&&a(t),s=a(e);return n&&r.isEqualOrParent(s,n)?n===s?"":r.normalize(o.ltrim(s.substr(n.length),r.nativeSep),!0):i.isWindows&&":"===s[1]?r.normalize(s.charAt(0).toUpperCase()+s.slice(1),!0):r.normalize(s,!0)}function a(e){if(!e)return null;if("string"==typeof e)return e;if(n.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.fsPath:void 0}return e.fsPath}var c=function(){function e(e){this.root=e&&a(e)}return e.prototype.getLabel=function(e){return s(a(e),this.root)},e}();t.PathLabelProvider=c,t.getPathLabel=s}),define(l[5],d([1,0,17]),function(e,t,i){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=e[0];return i.isArray(n)&&(e=n),e.forEach(function(e){return e&&e.dispose()}),[]}function o(e){return{dispose:function(){return n(e)}}}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e.map(function(e){return{dispose:e}}))}t.empty=Object.freeze({dispose:function(){}}),t.dispose=n,t.combinedDisposable=o,t.toDisposable=r;var s=function(){function e(){this._toDispose=[]}return e.prototype.dispose=function(){this._toDispose=n(this._toDispose)},e.prototype._register=function(e){return this._toDispose.push(e),e},e}();t.Disposable=s;var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.add=function(e){if(!Array.isArray(e))return this._register(e);for(var t=0,i=e;t<i.length;t++){var n=i[t];return this._register(n)}},t}(s);t.Disposables=a}),define(l[58],d([1,0,25,17,9,124]),function(e,t,i,n,o,r){"use strict";function s(e){f.push(e),e.userConfigured||f.forEach(function(t){t.mime===e.mime||t.userConfigured||(e.extension&&t.extension===e.extension&&console.warn("Overwriting extension <<"+e.extension+">> to now point to mime <<"+e.mime+">>"),e.filename&&t.filename===e.filename&&console.warn("Overwriting filename <<"+e.filename+">> to now point to mime <<"+e.mime+">>"),e.filepattern&&t.filepattern===e.filepattern&&console.warn("Overwriting filepattern <<"+e.filepattern+">> to now point to mime <<"+e.mime+">>"),e.firstline&&t.firstline===e.firstline&&console.warn("Overwriting firstline <<"+e.firstline+">> to now point to mime <<"+e.mime+">>"))})}function a(e){f=e?f.filter(function(e){return!e.userConfigured}):[]}function c(e,i){if(!e)return[t.MIME_UNKNOWN];e=e.toLowerCase();var n=u(e,f.filter(function(e){return e.userConfigured}));if(n)return[n,t.MIME_TEXT];var o=u(e,f.filter(function(e){return!e.userConfigured}));if(o)return[o,t.MIME_TEXT];if(i){var r=l(i);if(r)return[r,t.MIME_TEXT]}return[t.MIME_UNKNOWN]}function u(e,t){for(var n,s,a,c=i.basename(e),u=0;u<t.length;u++){var l=t[u];if(l.filename&&c===l.filename.toLowerCase()){n=l;break}if(l.filepattern){var d=l.filepattern.indexOf(i.sep)>=0?e:c;r.match(l.filepattern.toLowerCase(),d)&&(!s||l.filepattern.length>s.filepattern.length)&&(s=l)}l.extension&&o.endsWith(c,l.extension.toLowerCase())&&(!a||l.extension.length>a.extension.length)&&(a=l)}return n?n.mime:s?s.mime:a?a.mime:null}function l(e){if(o.startsWithUTF8BOM(e)&&(e=e.substr(1)),e.length>0)for(var t=0;t<f.length;++t){var i=f[t];if(i.firstline){var n=e.match(i.firstline);if(n&&n.length>0&&n[0].length===e.length)return i.mime}}return null}function d(e){if(!e)return!1;var i;return i=n.isArray(e)?e:e.split(",").map(function(e){return e.trim()}),i.indexOf(t.MIME_BINARY)>=0}function h(e){return!e||("string"==typeof e?e===t.MIME_BINARY||e===t.MIME_TEXT||e===t.MIME_UNKNOWN:1===e.length&&h(e[0]))}function p(e,t){for(var i=0;i<f.length;i++){var n=f[i];if(!n.userConfigured&&n.mime===e&&n.extension)return t+n.extension}return null}t.MIME_TEXT="text/plain",t.MIME_BINARY="application/octet-stream",t.MIME_UNKNOWN="application/unknown";var f=[];t.registerTextMime=s,t.clearTextMimes=a,t.guessMimeTypes=c,t.isBinaryMime=d,t.isUnspecific=h,t.suggestFilename=p}),define(l[995],d([1,0,17]),function(e,t,i){"use strict";function n(e,t,n){var o,r;i.isNumber(t)?(o=e,r=t):(o=0,r=e,n=t);for(var s=o<=r?function(e){return e+1}:function(e){return e-1},a=o<=r?function(e,t){return e<t}:function(e,t){return e>t},c=o;a(c,r);c=s(c))n(c)}function o(e,t){var o=[],r=function(e){return o.push(e)};return i.isUndefined(t)?n(e,r):n(e,t,r),o}t.count=n,t.countToArray=o}),define(l[29],d([1,0,17]),function(e,t,i){"use strict";function n(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(i){e[i]&&"object"==typeof e[i]?t[i]=n(e[i]):t[i]=e[i]}),t}function o(e){if(!e||"object"!=typeof e)return e;var t=Array.isArray(e)?[]:{};return Object.getOwnPropertyNames(e).forEach(function(i){e[i]&&"object"==typeof e[i]?t[i]=o(e[i]):t[i]=e[i]}),t}function r(e,t){return s(e,t,[])}function s(e,t,n){if(i.isUndefinedOrNull(e))return e;var o=t(e);if("undefined"!=typeof o)return o;if(i.isArray(e)){for(var r=[],a=0;a<e.length;a++)r.push(s(e[a],t,n));return r}if(i.isObject(e)){if(n.indexOf(e)>=0)throw new Error("Cannot clone recursive data-structure");n.push(e);var c={};for(var u in e)v.call(e,u)&&(c[u]=s(e[u],t,n));return n.pop(),c}return e}function a(e,t,n){return void 0===n&&(n=!0),i.isObject(e)?(i.isObject(t)&&Object.keys(t).forEach(function(o){o in e?n&&(i.isObject(e[o])&&i.isObject(t[o])?a(e[o],t[o],n):e[o]=t[o]):e[o]=t[o]}),e):t}function c(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.forEach(function(t){return Object.keys(t).forEach(function(i){return e[i]=t[i]})}),e}function u(e,t,i){return void 0===i&&(i=function(e){return e}),e.reduce(function(e,n){return c(e,(o={},o[t(n)]=i(n),o));var o},Object.create(null))}function l(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!l(e[i],t[i]))return!1}else{var o=[];for(n in e)o.push(n);o.sort();var r=[];for(n in t)r.push(n);if(r.sort(),!l(o,r))return!1;for(i=0;i<o.length;i++)if(!l(e[o[i]],t[o[i]]))return!1}return!0}function d(e,t,i){"undefined"==typeof e[t]&&(e[t]=i)}function h(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=!0;return t}function p(e,t){void 0===t&&(t=!1),t&&(e=e.map(function(e){return e.toLowerCase()}));var i=h(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function f(e,t){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t=t||function(){};var n=e.prototype,o=t.prototype;t.prototype=Object.create(n);for(var i in o)o.hasOwnProperty(i)&&Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(o,i));Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0})}function g(e){var t=[];return JSON.stringify(e,function(e,n){if(i.isObject(n)||Array.isArray(n)){if(t.indexOf(n)!==-1)return"[Circular]";t.push(n)}return n})}function m(e,t,i){void 0===i&&(i=null);var n=t(e);return"undefined"==typeof n?i:n}t.clone=n,t.deepClone=o;var v=Object.prototype.hasOwnProperty;t.cloneAndChange=r,t.mixin=a,t.assign=c,t.toObject=u,t.equals=l,t.ensureProperty=d,t.arrayToHash=h,t.createKeywordMatcher=p,t.derive=f,t.safeStringify=g,t.getOrDefault=m}),define(l[181],d([1,0,17]),function(e,t,i){"use strict";!function(e){e[e.OK=0]="OK",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal"}(t.ValidationState||(t.ValidationState={}));var n=t.ValidationState,o=function(){function e(){this._state=n.OK}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){e>this._state&&(this._state=e)},enumerable:!0,configurable:!0}),e.prototype.isOK=function(){return this._state===n.OK},e.prototype.isFatal=function(){return this._state===n.Fatal},e}();t.ValidationStatus=o;var r=function(){function e(e,t){void 0===t&&(t=new o),this._logger=e,this.validationStatus=t}return Object.defineProperty(e.prototype,"logger",{get:function(){return this._logger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.validationStatus},enumerable:!0,configurable:!0}),e.prototype.log=function(e){this._logger.log(e)},e.prototype.is=function(e,t,n,o,r,s){return i.isUndefined(e)?(r&&(this.validationStatus.state=r),s&&this.log(s),!1):!!t(e)||(n&&(this.validationStatus.state=n),o&&this.log(o),!1)},e.merge=function(e,t,n){var o=this;Object.keys(t).forEach(function(r){var s=e[r],a=t[r];i.isUndefined(a)||(i.isUndefined(s)?e[r]=a:n&&(i.isObject(s)&&i.isObject(a)?o.merge(s,a,n):e[r]=a))})},e}();t.Parser=r;var s=function(){function e(){}return e.prototype.resolve=function(e){return i.isString(e)?this.__resolveString(e):i.isArray(e)?this.__resolveArray(e):i.isObject(e)?this.__resolveLiteral(e):e},e.prototype.resolveAny=function(e){return i.isString(e)?this.__resolveString(e):i.isArray(e)?this.__resolveAnyArray(e):i.isObject(e)?this.__resolveAnyLiteral(e):e},e.prototype.__resolveString=function(e){var t=this,n=/\$\{(.*?)\}/g;return e.replace(n,function(e,n){var o=t[n];return i.isString(o)?o:e&&e.indexOf("env.")>0?"":e})},e.prototype.__resolveLiteral=function(e){var t=this,i=Object.create(null);return Object.keys(e).forEach(function(n){var o=e[n];i[n]=t.resolve(o)}),i},e.prototype.__resolveAnyLiteral=function(e){var t=this,i=Object.create(null);return Object.keys(e).forEach(function(n){var o=e[n];i[n]=t.resolveAny(o)}),i},e.prototype.__resolveArray=function(e){var t=this;return e.map(function(e){return t.__resolveString(e)})},e.prototype.__resolveAnyArray=function(e){var t=this;return e.map(function(e){return t.resolveAny(e)})},e}();t.AbstractSystemVariables=s}),define(l[19],d([1,0,12]),function(e,t,i){"use strict";function n(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return encodeURIComponent(e).replace(/[!'()*]/g,n)}function r(e){return e}var s=function(){function e(){this._scheme=e._empty,this._authority=e._empty,this._path=e._empty,this._query=e._empty,this._fragment=e._empty,this._formatted=null,this._fsPath=null}return Object.defineProperty(e.prototype,"scheme",{get:function(){return this._scheme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authority",{get:function(){return this._authority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fragment",{get:function(){return this._fragment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fsPath",{get:function(){if(!this._fsPath){var t;t=this._authority&&"file"===this.scheme?"//"+this._authority+this._path:e._driveLetterPath.test(this._path)?this._path[1].toLowerCase()+this._path.substr(2):this._path,i.isWindows&&(t=t.replace(/\//g,"\\")),this._fsPath=t}return this._fsPath},enumerable:!0,configurable:!0}),e.prototype["with"]=function(t){if(!t)return this;var i=t.scheme,n=t.authority,o=t.path,r=t.query,s=t.fragment;if(void 0===i?i=this.scheme:null===i&&(i=""),void 0===n?n=this.authority:null===n&&(n=""),void 0===o?o=this.path:null===o&&(o=""),void 0===r?r=this.query:null===r&&(r=""),void 0===s?s=this.fragment:null===s&&(s=""),i===this.scheme&&n===this.authority&&o===this.path&&r===this.query&&s===this.fragment)return this;var a=new e;return a._scheme=i,a._authority=n,a._path=o,a._query=r,a._fragment=s,e._validate(a),a},e.parse=function(t){var i=new e,n=e._parseComponents(t);return i._scheme=n.scheme,i._authority=decodeURIComponent(n.authority),i._path=decodeURIComponent(n.path),i._query=decodeURIComponent(n.query),i._fragment=decodeURIComponent(n.fragment),e._validate(i),i},e.file=function(t){var i=new e;if(i._scheme="file",t=t.replace(/\\/g,e._slash),t[0]===e._slash&&t[0]===t[1]){var n=t.indexOf(e._slash,2);n===-1?i._authority=t.substring(2):(i._authority=t.substring(2,n),i._path=t.substring(n))}else i._path=t;return i._path[0]!==e._slash&&(i._path=e._slash+i._path),e._validate(i),i},e._parseComponents=function(t){var i={scheme:e._empty,authority:e._empty,path:e._empty,query:e._empty,fragment:e._empty},n=e._regexp.exec(t);return n&&(i.scheme=n[2]||i.scheme,i.authority=n[4]||i.authority,i.path=n[5]||i.path,i.query=n[7]||i.query,i.fragment=n[9]||i.fragment),i},e.from=function(t){return(new e)["with"](t)},e._validate=function(e){if(e.authority&&e.path&&"/"!==e.path[0])throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');if(!e.authority&&0===e.path.indexOf("//"))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')},e.prototype.toString=function(t){return void 0===t&&(t=!1),t?e._asFormatted(this,!0):(this._formatted||(this._formatted=e._asFormatted(this,!1)),this._formatted)},e._asFormatted=function(t,i){var s=i?r:o,a=[],c=t.scheme,u=t.authority,l=t.path,d=t.query,h=t.fragment;if(c&&a.push(c,":"),(u||"file"===c)&&a.push("//"),u){u=u.toLowerCase();var p=u.indexOf(":");p===-1?a.push(s(u)):a.push(s(u.substr(0,p)),u.substr(p))}if(l){var f=e._upperCaseDrive.exec(l);f&&(l=f[1]+f[2].toLowerCase()+l.substr(f[1].length+f[2].length));for(var g=0;;){var p=l.indexOf(e._slash,g);if(p===-1){a.push(s(l.substring(g)).replace(/[#?]/,n));break}a.push(s(l.substring(g,p)).replace(/[#?]/,n),e._slash),g=p+1}}return d&&a.push("?",s(d)),h&&a.push("#",s(h)),a.join(e._empty)},e.prototype.toJSON=function(){return{scheme:this.scheme,authority:this.authority,path:this.path,fsPath:this.fsPath,query:this.query,fragment:this.fragment,external:this.toString(),$mid:1}},e.revive=function(t){var i=new e;return i._scheme=t.scheme,i._authority=t.authority,i._path=t.path,i._query=t.query,i._fragment=t.fragment,i._fsPath=t.fsPath,i._formatted=t.external,e._validate(i),i},e._empty="",e._slash="/",e._regexp=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,e._driveLetterPath=/^\/[a-zA-z]:/,e._upperCaseDrive=/^(\/)?([A-Z]:)/,e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s}),define(l[166],d([1,0,19]),function(e,t,i){"use strict";function n(e){return JSON.stringify(e,r)}function o(e){return JSON.parse(e,s)}function r(e,t){return t instanceof RegExp?{$mid:2,source:t.source,flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")}:t}function s(e,t){var n;return void 0!==t&&null!==t&&(n=t.$mid),1===n?i["default"].revive(t):2===n?new RegExp(t.source,t.flags):t}t.stringify=n,t.parse=o}),define(l[82],d([1,0]),function(e,t){"use strict";function i(){return new s}function n(e){if(!a.test(e))throw new Error("invalid uuid");return new r(e)}function o(){return i().asHex()}var r=function(){function e(e){this._value=e}return e.prototype.asHex=function(){return this._value},e.prototype.equals=function(e){return this.asHex()===e.asHex()},e}(),s=function(e){function t(){e.call(this,[t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}return h(t,e),t._oneOf=function(e){var t=Math.floor(e.length*Math.random());return e[t]},t._randomHex=function(){return t._oneOf(t._chars)},t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],t}(r);t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=i;var a=/^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$/;t.parse=n,t.generateUuid=o}),function(){var e={};e["WinJS/Core/_WinJS"]={};var t=function(t,i,n){var o={},r=!1,s=i.map(function(t){return"exports"===t?(r=!0,
o):e[t]}),a=n.apply({},s);e[t]=r?o:a};t("WinJS/Core/_Global",[],function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};return e}),t("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){"use strict";function t(e){return e.supportedForProcessing=!0,e}var i=!!e.Windows;return{hasWinRT:i,markSupportedForProcessing:t,_setImmediate:e.setImmediate?e.setImmediate.bind(e):function(t){e.setTimeout(t,0)}}}),t("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(e){"use strict";return e.msWriteProfilerMark||function(){}}),t("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(e,t,i,n){"use strict";function o(e,t,i){var n,o,r,s=Object.keys(t),a=Array.isArray(e);for(o=0,r=s.length;o<r;o++){var c=s[o],u=95!==c.charCodeAt(0),l=t[c];!l||"object"!=typeof l||void 0===l.value&&"function"!=typeof l.get&&"function"!=typeof l.set?u?a?e.forEach(function(e){e[c]=l}):e[c]=l:(n=n||{},n[c]={value:l,enumerable:u,configurable:!0,writable:!0}):(void 0===l.enumerable&&(l.enumerable=u),i&&l.setName&&"function"==typeof l.setName&&l.setName(i+"."+c),n=n||{},n[c]=l)}n&&(a?e.forEach(function(e){Object.defineProperties(e,n)}):Object.defineProperties(e,n))}return function(){function i(i,n){var o=i||{};if(n){var r=n.split(".");o===t&&"WinJS"===r[0]&&(o=e,r.splice(0,1));for(var s=0,a=r.length;s<a;s++){var c=r[s];o[c]||Object.defineProperty(o,c,{value:{},writable:!1,enumerable:!0,configurable:!0}),o=o[c]}}return o}function r(e,t,n){var r=i(e,t);return n&&o(r,n,t||"<ANONYMOUS>"),r}function s(e,i){return r(t,e,i)}function a(e){var t,i,o=l.uninitialized;return{setName:function(e){t=e},get:function(){switch(o){case l.initialized:return i;case l.uninitialized:o=l.working;try{n("WinJS.Namespace._lazy:"+t+",StartTM"),i=e()}finally{n("WinJS.Namespace._lazy:"+t+",StopTM"),o=l.uninitialized}return e=null,o=l.initialized,i;case l.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(o){case l.working:throw"Illegal: reentrancy on initialization";default:o=l.initialized,i=e}},enumerable:!0,configurable:!0}}function c(e,n,r){var s=[e],a=null;return n&&(a=i(t,n),s.push(a)),o(s,r,n||"<ANONYMOUS>"),a}var u=e;u.Namespace||(u.Namespace=Object.create(Object.prototype));var l={uninitialized:1,working:2,initialized:3};Object.defineProperties(u.Namespace,{defineWithParent:{value:r,writable:!0,enumerable:!0,configurable:!0},define:{value:s,writable:!0,enumerable:!0,configurable:!0},_lazy:{value:a,writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:c,writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,n){return e=e||function(){},i.markSupportedForProcessing(e),t&&o(e.prototype,t),n&&o(e,n),e}function n(e,n,r,s){if(e){n=n||function(){};var a=e.prototype;return n.prototype=Object.create(a),i.markSupportedForProcessing(n),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,configurable:!0,enumerable:!0}),r&&o(n.prototype,r),s&&o(n,s),n}return t(n,r,s)}function r(e){e=e||function(){};var t,i;for(t=1,i=arguments.length;t<i;t++)o(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:n,mix:r})}(),{Namespace:e.Namespace,Class:e.Class}}),t("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(e){"use strict";var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),t("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(e,t){"use strict";function i(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(i){var n=this[t];i?(n||(n={wrapper:function(e){return n.userHandler(e)},userHandler:i},Object.defineProperty(this,t,{value:n,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,n.wrapper,!1)),n.userHandler=i):n&&(this.removeEventListener(e,n.wrapper,!1),this[t]=null)},enumerable:!0}}function n(){for(var e={},t=0,n=arguments.length;t<n;t++){var o=arguments[t];e["on"+o]=i(o)}return e}var o=t.Class.define(function(e,t,i){this.detail=t,this.target=i,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),r={_listeners:null,addEventListener:function(e,t,i){i=i||!1,this._listeners=this._listeners||{};for(var n=this._listeners[e]=this._listeners[e]||[],o=0,r=n.length;o<r;o++){var s=n[o];if(s.useCapture===i&&s.listener===t)return}n.push({listener:t,useCapture:i})},dispatchEvent:function(e,t){var i=this._listeners&&this._listeners[e];if(i){var n=new o(e,t,this);i=i.slice(0,i.length);for(var r=0,s=i.length;r<s&&!n._stopImmediatePropagationCalled;r++)i[r].listener(n);return n.defaultPrevented||!1}return!1},removeEventListener:function(e,t,i){i=i||!1;var n=this._listeners&&this._listeners[e];if(n)for(var o=0,r=n.length;o<r;o++){var s=n[o];if(s.listener===t&&s.useCapture===i){n.splice(o,1),0===n.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:i,createEventProperties:n,eventMixin:r})}),t("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(e){"use strict";function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),t("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(e,t,i,n,o,r){"use strict";function s(){}function a(e,t){var i;i=t&&"object"==typeof t&&"function"==typeof t.then?O:W,e._value=t,e._setState(i)}function c(e,t,i,n,o,r){return{exception:e,error:t,promise:i,handler:r,id:n,parent:o}}function u(e,t,i,n){var o=i._isException,r=i._errorId;return c(o?t:null,o?null:t,e,r,i,n)}function l(e,t,i){var n=i._isException,o=i._errorId;return S(e,o,n),c(n?t:null,n?null:t,e,o,i)}function d(e,t){var i=++H;return S(e,i),c(null,t,e,i)}function h(e,t){var i=++H;return S(e,i,!0),c(t,null,e,i)}function p(e,t,i,n){var o=r._traceAsyncOperationStarting("WinJS.Promise.done");E(e,{c:t,e:i,p:n,asyncOpID:o})}function f(e,t,i,n){e._value=t,v(e,t,i,n),e._setState(K)}function g(t,i){var n=t._value,o=t._listeners;if(o){t._listeners=null;var s,a;for(s=0,a=Array.isArray(o)?o.length:1;s<a;s++){var c=1===a?o:o[s],u=c.c,l=c.promise;if(r._traceAsyncOperationCompleted(c.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),l){r._traceAsyncCallbackStarting(c.asyncOpID);try{l._setCompleteValue(u?u(n):n)}catch(d){l._setExceptionValue(d)}finally{r._traceAsyncCallbackCompleted()}l._state!==O&&l._listeners&&i.push(l)}else Y.prototype.done.call(t,u)}}}function m(t,i){var n=t._value,o=t._listeners;if(o){t._listeners=null;var s,a;for(s=0,a=Array.isArray(o)?o.length:1;s<a;s++){var c=1===a?o:o[s],l=c.e,d=c.promise,h=e.Debug&&(n&&n.name===D?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(r._traceAsyncOperationCompleted(c.asyncOpID,h),d){var p=!1;try{l?(r._traceAsyncCallbackStarting(c.asyncOpID),p=!0,l.handlesOnError||v(d,n,u,t,l),d._setCompleteValue(l(n))):d._setChainedErrorValue(n,t)}catch(f){d._setExceptionValue(f)}finally{p&&r._traceAsyncCallbackCompleted()}d._state!==O&&d._listeners&&i.push(d)}else j.prototype.done.call(t,null,l)}}}function v(e,t,i,n,o){if(A._listeners[L]){if(t instanceof Error&&t.message===D)return;A.dispatchEvent(L,i(e,t,n,o))}}function y(e,t){var i=e._listeners;if(i){var n,o;for(n=0,o=Array.isArray(i)?i.length:1;n<o;n++){var r=1===o?i:i[n],s=r.p;if(s)try{s(t)}catch(a){}r.c||r.e||!r.promise||r.promise._progress(t)}}}function E(e,t){var i=e._listeners;i?(i=Array.isArray(i)?i:[i],i.push(t)):i=t,e._listeners=i}function S(e,t,i){e._isException=i||!1,e._errorId=t}function b(e,t,i,n){e._value=t,v(e,t,i,n),e._setState(V)}function _(e,t){var i;i=t&&"object"==typeof t&&"function"==typeof t.then?O:B,e._value=t,e._setState(i)}function C(e,t,i,n){var o=new G(e),s=r._traceAsyncOperationStarting("WinJS.Promise.then");return E(e,{promise:o,c:t,e:i,p:n,asyncOpID:s}),o}function w(i){var n;return new $(function(o){i?n=e.setTimeout(o,i):t._setImmediate(o)},function(){n&&e.clearTimeout(n)})}function I(e,t){var i=function(){t.cancel()},n=function(){e.cancel()};return e.then(i),t.then(n,n),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var T=i.Class.mix(i.Class.define(null,{},{supportedForProcessing:!1}),o.eventMixin),A=new T;A._listeners={};var L="error",D="Canceled",k=!1,x={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};x.all=x.promise|x.thenPromise|x.errorPromise|x.exceptionPromise|x.completePromise;var M,R,O,P,N,F,W,B,K,V,H=1;M={name:"created",enter:function(e){e._setState(R)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},R={name:"working",enter:s,cancel:function(e){e._setState(N)},done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:b},O={name:"waiting",enter:function(e){var t=e._value;if(t instanceof G&&t._state!==V&&t._state!==B)E(t,{promise:e});else{var i=function(n){t._errorId?e._chainedError(n,t):(v(e,n,u,t,i),e._error(n))};i.handlesOnError=!0,t.then(e._completed.bind(e),i,e._progress.bind(e))}},cancel:function(e){e._setState(P)},done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:b},P={name:"waiting_canceled",enter:function(e){e._setState(F);var t=e._value;t.cancel&&t.cancel()},cancel:s,done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:b},N={name:"canceled",enter:function(e){e._setState(F),e._cancelAction()},cancel:s,done:p,then:C,_completed:a,_error:f,_notify:s,_progress:y,_setCompleteValue:_,_setErrorValue:b},F={name:"canceling",enter:function(e){var t=new Error(D);t.name=t.message,e._value=t,e._setState(K)},cancel:s,done:s,then:s,_completed:s,_error:s,_notify:s,_progress:s,_setCompleteValue:s,_setErrorValue:s},W={name:"complete_notify",enter:function(e){if(e.done=Y.prototype.done,e.then=Y.prototype.then,e._listeners)for(var t,i=[e];i.length;)t=i.shift(),t._state._notify(t,i);e._setState(B)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:g,_progress:s,_setCompleteValue:s,_setErrorValue:s},B={name:"success",enter:function(e){e.done=Y.prototype.done,e.then=Y.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:g,_progress:s,_setCompleteValue:s,_setErrorValue:s},K={name:"error_notify",enter:function(e){if(e.done=j.prototype.done,e.then=j.prototype.then,e._listeners)for(var t,i=[e];i.length;)t=i.shift(),t._state._notify(t,i);e._setState(V)},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:m,_progress:s,_setCompleteValue:s,_setErrorValue:s},V={name:"error",enter:function(e){e.done=j.prototype.done,e.then=j.prototype.then,e._cleanupAction()},cancel:s,done:null,then:null,_completed:s,_error:s,_notify:m,_progress:s,_setCompleteValue:s,_setErrorValue:s};var z,U=i.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,i){this._state.done(this,e,t,i)},then:function(e,t,i){return this._state.then(this,e,t,i)},_chainedError:function(e,t){var i=this._state._error(this,e,l,t);return this._run(),i},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,d);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var i=this._state._setErrorValue(this,e,l,t);return this._run(),i},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,h);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),G=i.Class.derive(U,function(e){k&&(k===!0||k&x.thenPromise)&&(this._stack=$._getStack()),this._creator=e,this._setState(M),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),j=i.Class.define(function(e){k&&(k===!0||k&x.errorPromise)&&(this._stack=$._getStack()),this._value=e,v(this,e,d)},{cancel:function(){},done:function(e,t){var i=this._value;if(t)try{t.handlesOnError||v(null,i,u,this,t);var n=t(i);return void(n&&"object"==typeof n&&"function"==typeof n.done&&n.done())}catch(o){i=o}i instanceof Error&&i.message===D||$._doneHandler(i)},then:function(e,t){if(!t)return this;var i,n=this._value;try{t.handlesOnError||v(null,n,u,this,t),i=new Y(t(n))}catch(o){i=o===n?this:new q(o)}return i}},{supportedForProcessing:!1}),q=i.Class.derive(j,function(e){k&&(k===!0||k&x.exceptionPromise)&&(this._stack=$._getStack()),this._value=e,v(this,e,h)},{},{supportedForProcessing:!1}),Y=i.Class.define(function(e){if(k&&(k===!0||k&x.completePromise)&&(this._stack=$._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new G(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(i){$._doneHandler(i)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new Y(t)}catch(i){return new q(i)}}},{supportedForProcessing:!1}),$=i.Class.derive(U,function(e,t){k&&(k===!0||k&x.promise)&&(this._stack=$._getStack()),this._oncancel=t,this._setState(M),this._run();try{var i=this._completed.bind(this),n=this._error.bind(this),o=this._progress.bind(this);e(i,n,o)}catch(r){this._setExceptionValue(r)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){e.message,e.stack;A.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,i){A.addEventListener(e,t,i)},any:function(e){return new $(function(t,i){var n=Object.keys(e);0===n.length&&t();var o=0;n.forEach(function(r){$.as(e[r]).then(function(){t({key:r,value:e[r]})},function(s){return s instanceof Error&&s.name===D?void(++o===n.length&&t($.cancel)):void i({key:r,value:e[r]})})})},function(){var t=Object.keys(e);t.forEach(function(t){var i=$.as(e[t]);"function"==typeof i.cancel&&i.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new Y(e)},cancel:{get:function(){return z=z||new j(new n(D))}},dispatchEvent:function(e,t){return A.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new $(function(t,i,n){var o=Object.keys(e),r=Array.isArray(e)?[]:{},s=Array.isArray(e)?[]:{},a=0,c=o.length,u=function(e){if(0===--c){var a=Object.keys(r).length;if(0===a)t(s);else{var u=0;o.forEach(function(e){var t=r[e];t instanceof Error&&t.name===D&&u++}),u===a?t($.cancel):i(r)}}else n({Key:e,Done:!0})};if(o.forEach(function(t){var i=e[t];void 0===i?a++:$.then(i,function(e){s[t]=e,u(t)},function(e){r[t]=e,u(t)})}),c-=a,0===c)return void t(s)},function(){Object.keys(e).forEach(function(t){var i=$.as(e[t]);"function"==typeof i.cancel&&i.cancel()})})},removeEventListener:function(e,t,i){A.removeEventListener(e,t,i)},supportedForProcessing:!1,then:function(e,t,i,n){return $.as(e).then(t,i,n)},thenEach:function(e,t,i,n){var o=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){o[r]=$.as(e[r]).then(t,i,n)}),$.join(o)},timeout:function(e,t){var i=w(e);return t?I(i,t):i},wrap:function(e){return new Y(e)},wrapError:function(e){return new j(e)},_veryExpensiveTagWithStack:{get:function(){return k},set:function(e){k=e}},_veryExpensiveTagWithStack_tag:x,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(t){return t.stack}},_cancelBlocker:function(e,t){if(!$.is(e))return $.wrap(e);var i,n,o=new $(function(e,t){i=e,n=t},function(){i=null,n=null,t&&t()});return e.then(function(e){i&&i(e)},function(e){n&&n(e)}),o}});return Object.defineProperties($,o.createEventProperties(L)),$._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:U,Promise:$,state_created:M}}),t("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(e,t){"use strict";return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise});var i=e["WinJS/Core/_WinJS"];"undefined"==typeof exports&&"function"==typeof define&&define.amd?define("vs/base/common/winjs.base.raw",i):module.exports=i,"undefined"!=typeof process&&"function"==typeof process.nextTick&&(e["WinJS/Core/_BaseCoreUtils"]._setImmediate=function(e){return process.nextTick(e)})}(),define(l[989],d([1,0]),function(e,t){"use strict";t.MessageType={INITIALIZE:"$initialize",REPLY:"$reply",PRINT:"$print"},t.ReplyType={COMPLETE:"complete",ERROR:"error",PROGRESS:"progress"},t.PrintType={LOG:"log",DEBUG:"debug",INFO:"info",WARN:"warn",ERROR:"error"}}),define(l[284],d([1,0,1031]),function(e,t,i){"use strict";var n=function(){function e(e){void 0===e&&(e="utf8"),this.stringDecoder=new i.StringDecoder(e),this.remaining=null}return e.prototype.write=function(e){var t=[],i=this.remaining?this.remaining+this.stringDecoder.write(e):this.stringDecoder.write(e);if(i.length<1)return t;for(var n,o=0;o<i.length&&(13===(n=i.charCodeAt(o))||10===n);)o++;for(var r=o;r<i.length;)if(n=i.charCodeAt(r),13===n||10===n){for(t.push(i.substring(o,r)),r++;r<i.length&&(13===(n=i.charCodeAt(r))||10===n);)r++;o=r}else r++;return this.remaining=o<i.length?i.substr(o):null,t},e.prototype.end=function(){return this.remaining},e}();t.LineDecoder=n}),define(l[286],d([1,0,981]),function(e,t,i){"use strict";function n(e,t,i){var n=new Array(e.length),o=new Array(e.length),r=!1,s=0;return 0===e.length?i(null,[]):void e.forEach(function(a,c){t(a,function(t,a){if(t?(r=!0,n[c]=null,o[c]=t):(n[c]=a,o[c]=null),++s===e.length)return i(r?o:null,n)})})}function o(e,t,n){if(i.ok(e,"Missing first parameter"),i.ok("function"==typeof t,"Second parameter must be a function that is called for each element"),i.ok("function"==typeof n,"Third parameter must be a function that is called on error and success"),"function"==typeof e)try{e(function(e,i){e?n(e,null):o(i,t,n)})}catch(r){n(r,null)}else{var s=[],a=function(i){if(i<e.length)try{t(e[i],function(e,t){e!==!0&&e!==!1||(t=e,e=null),e?n(e,null):(t&&s.push(t),process.nextTick(function(){a(i+1)}))},i,e.length)}catch(o){n(o,null)}else n(null,s)};a(0)}}function r(e){i.ok(e.length>1,"Need at least one error handler and one function to process sequence"),e.forEach(function(e){i.ok("function"==typeof e)});var t=e.splice(0,1)[0],n=null;o(e,function(e,t){var i=function(e,i){e!==!0&&e!==!1||(i=e,e=null),e?t(e,null):(n=i,t(null,null))};try{e.call(i,n)}catch(o){t(o,null)}},function(e,i){e&&t(e)})}function s(e){r(Array.isArray(e)?e:Array.prototype.slice.call(arguments))}t.parallel=n,t.loop=o,t.sequence=s}),define(l[161],d([1,0,82,9,12,286,102,74]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t){return o.isMacintosh?u(e,function(e,i){return e?t(e,null):t(null,i.map(function(e){return n.normalizeNFC(e)}))}):u(e,t)}function u(e,t){s.readdir(e,function(e,i){return e?t(e,null):t(null,i.filter(function(e){return"."!==e&&".."!==e}))})}function l(e,t,i){s.exists(e,function(n){return n?d(e,function(t,n){return t?i(t):n?void i(null):i(new Error('"'+e+'" is not a directory.'))}):void l(a.dirname(e),t,function(n){return n?void i(n):void(t?s.mkdir(e,t,function(n){return n?i(n):void s.chmod(e,t,i)}):s.mkdir(e,null,i))})})}function d(e,t){s.stat(e,function(e,i){return e?t(e):void t(null,i.isDirectory())})}function h(e,t,i,n){n||(n=Object.create(null)),s.stat(e,function(o,r){return o?i(o):r.isDirectory()?n[e]?i(null):(n[e]=!0,void l(t,511&r.mode,function(o){c(e,function(o,r){v(r,function(i,o){h(a.join(e,i),a.join(t,i),o,n)},i)})})):p(e,t,511&r.mode,i)})}function p(e,t,i,n){var o=!1,r=s.createReadStream(e),a=s.createWriteStream(t,{mode:i}),c=function(e){o||(o=!0,n(e))};r.on("error",c),a.on("error",c),r.on("end",function(){a.end(function(){o||(o=!0,s.chmod(t,i,n))})}),r.pipe(a,{end:!1})}function f(e,t,o,r){s.exists(e,function(c){return c?void s.stat(e,function(c,u){if(c||!u)return o(c);if("."===e[e.length-1]||n.endsWith(e,"./")||n.endsWith(e,".\\"))return g(e,o);var l=a.join(t,i.generateUuid());s.rename(e,l,function(t){return t?g(e,o):(o(null),void g(l,function(e){e&&console.error(e),r&&r(e)}))})}):o(null)})}function g(e,t){return"\\"===e||"/"===e?t(new Error("Will not delete root!")):void s.exists(e,function(i){i?s.lstat(e,function(i,n){if(i||!n)t(i);else if(!n.isDirectory()||n.isSymbolicLink()){var o=n.mode;128&o?s.unlink(e,t):s.chmod(e,128|o,function(i){i?t(i):s.unlink(e,t)})}else c(e,function(i,n){if(i||!n)t(i);else if(0===n.length)s.rmdir(e,t);else{var o=null,r=n.length;n.forEach(function(i){g(a.join(e,i),function(i){r--,i&&(o=o||i),0===r&&(o?t(o):s.rmdir(e,t))})})}})}):t(null)})}function m(e,t,i){function o(e){return e?i(e):void s.stat(t,function(e,n){return e?i(e):n.isDirectory()?i(null):void s.open(t,"a",null,function(e,t){return e?i(e):void s.futimes(t,n.atime,new Date,function(e){return e?i(e):void s.close(t,i)})})})}return e===t?i(null):void s.rename(e,t,function(r){return r?r&&e.toLowerCase()!==t.toLowerCase()&&"EXDEV"===r.code||n.endsWith(e,".")?h(e,t,function(t){return t?i(t):void g(e,o)}):i(r):o(null)})}var v=r.loop;t.readdir=c,t.mkdirp=l,t.copy=h,t.del=f,t.mv=m}),define(l[976],d([1,0,1025]),function(e,t,i){"use strict";function n(e){var t=[],n=null,o=null,r=null,s=i.parser(!1,{lowercase:!0});return s.onerror=function(e){t.push(e.message)},s.ontext=function(e){r=e},s.onopentag=function(e){switch(e.name){case"dict":n={parent:n,value:{}};break;case"array":n={parent:n,value:[]};break;case"key":n&&(n.lastKey=null)}r=""},s.onclosetag=function(e){var i;switch(e){case"key":return!n||Array.isArray(n.value)?void t.push("key can only be used inside an open dict element"):void(n.lastKey=r);case"dict":case"array":if(!n)return void t.push(e+" closing tag found, without opening tag");i=n.value,n=n.parent;break;case"string":case"data":i=r;break;case"date":i=new Date(r);break;case"integer":if(i=parseInt(r),isNaN(i))return void t.push(r+" is not a integer");break;case"real":if(i=parseFloat(r),isNaN(i))return void t.push(r+" is not a float");break;case"true":i=!0;break;case"false":i=!1;break;case"plist":return;default:return void t.push("Invalid tag name: "+e)}n?Array.isArray(n.value)?n.value.push(i):n.lastKey?n.value[n.lastKey]=i:t.push("Dictionary key missing for value "+i):o=i},s.write(e),{errors:t,value:o}}t.parse=n}),define(l[971],d([1,0,223]),function(e,t,i){"use strict";function n(e,t,i,n){var r=!1,s=setTimeout(function(){if(!r)return r=!0,n(0)},i);o(e,t,function(e){if(!r)return r=!0,window.clearTimeout(s),n(e)})}function o(e,t,n){if(0===t)return n(0);var s=new i.Socket;s.once("connect",function(){return r(s),o(e+1,t-1,n)}),s.once("error",function(i){return r(s),"ECONNREFUSED"!==i.code?o(e+1,t-1,n):n(e)}),s.connect(e)}function r(e){try{e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(t){console.error(t)}}t.findFreePort=n}),define(l[970],d([1,0,968,17,1026,1027]),function(e,t,i,n,o,r){"use strict";function s(e){return"http:"===e.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===e.protocol?process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy||null:null}function a(e,t){void 0===t&&(t={});var a=i.parse(e),c=t.proxyUrl||s(a);if(!c)return null;var u=i.parse(c);if(!/^https?:$/.test(u.protocol))return null;var l={host:u.hostname,port:Number(u.port),auth:u.auth,rejectUnauthorized:!n.isBoolean(t.strictSSL)||t.strictSSL};return"http:"===a.protocol?new o(l):new r(l)}t.getProxyAgent=a}),define(l[251],d([1,0,74,160,223,99,19]),function(e,t,i,n,o,r,s){"use strict";function a(e){for(var t=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i="",n=0;n<e;n++){var o=Math.floor(t.length*Math.random());i+=t[o]}return i}function c(){var e="vscode-"+a(40);return"win32"===process.platform?"\\\\.\\pipe\\"+e+"-sock":i.join(n.tmpdir(),e+".sock")}function u(e,t,i,n){var o={};for(var r in e)o[r]=e[r];return o.STDIN_PIPE_NAME=t,o.STDOUT_PIPE_NAME=i,o.STDERR_PIPE_NAME=n,o.ATOM_SHELL_INTERNAL_RUN_AS_NODE="1",o}function l(t,i,n,a){var l,d=!1,h=function(e){d||(d=!0,a(null,e))},p=function(e){d||(d=!0,a(e,null))},f=c(),g=c(),m=c(),v=u(n.env||process.env,f,g,m),y=o.createServer(function(e){l.stderr=e});y.listen(m);var E=o.createServer(function(e){e.once("data",function(t){l.stdin=o.connect(f),l.stdout=e,h(l)})});E.listen(g);var S=!1,b=function(){S||(S=!0,E.close(),y.close())},_=s["default"].parse(e.toUrl("./stdForkStart.js")).fsPath;l=r.fork(_,[t].concat(i),{silent:!0,cwd:n.cwd,env:v,execArgv:n.execArgv}),l.once("error",function(e){b(),p(e)}),l.once("exit",function(e){b(),p(e)})}t.fork=l}),define(l[270],d([1,0,102]),function(e,t,i){"use strict";function n(e,t,i){var n=!1,o=new Buffer(t),r=0;e.on("data",function(i){var n=Math.min(t-r,i.length);i.copy(o,r,0,n),r+=n,r===t&&e.destroy()}),e.on("error",function(e){n||(n=!0,i(e,null,null))});var s=function(){n||(n=!0,i(null,o,r))};e.on("close",s)}function o(e,t,n){i.open(e,"r",null,function(e,o){function r(e,t,r){i.close(o,function(i){return i?n(i,null,r):e&&"EISDIR"===e.code?n(e,null,r):n(null,t,r)})}function s(){i.read(o,a,c,t-c,null,function(e,i){return e?r(e,null,0):0===i?10===++u?r(null,a,c):s():(c+=i,c===t?r(null,a,c):s())})}if(e)return n(e,null,0);var a=new Buffer(t),c=0,u=0;s()})}t.readExactlyByStream=n,t.readExactlyByFile=o}),define(l[179],d([1,0,270,1028]),function(e,t,i,n){"use strict";function o(e,t,i){return n.decode(e,u(t),i)}function r(e,t,i){return n.encode(e,u(t),i)}function s(e){return n.encodingExists(u(e))}function a(e){return n.decodeStream(u(e))}function c(e){return n.encodeStream(u(e))}function u(e){return e===t.UTF8_with_bom?t.UTF8:e}function l(e,i){if(!e||i<2)return null;var n=e.readUInt8(0),o=e.readUInt8(1);if(254===n&&255===o)return t.UTF16be;if(255===n&&254===o)return t.UTF16le;if(i<3)return null;var r=e.readUInt8(2);return 239===n&&187===o&&191===r?t.UTF8:null}function d(e,t){i.readExactlyByFile(e,3,function(e,i,n){return e?t(e,null):t(null,l(i,n))})}t.UTF8="utf8",t.UTF8_with_bom="utf8bom",t.UTF16be="utf16be",t.UTF16le="utf16le",t.decode=o,t.encode=r,t.encodingExists=s,t.decodeStream=a,t.encodeStream=c,t.detectEncodingByBOMFromBuffer=l,t.detectEncodingByBOM=d}),define(l[218],d([1,0,74,58,270,179]),function(e,t,i,n,o,r){"use strict";function s(e,t){o.readExactlyByStream(e,f,function(e,i,n){c(e,i,n,t)})}function a(e,t){return i.extname(e)===g?t(null,{encoding:r.UTF8,mimes:[n.MIME_BINARY]}):void o.readExactlyByFile(e,f,function(e,i,n){c(e,i,n,t)})}function c(e,t,i,n){return e?n(e,null):n(null,u(t,i))}function u(e,t){var i=r.detectEncodingByBOMFromBuffer(e,t),o=!0;if(i!==r.UTF16be&&i!==r.UTF16le)for(var s=0;s<t&&s<f;s++)if(0===e.readInt8(s)){o=!1;break}return{mimes:o?[n.MIME_TEXT]:[n.MIME_BINARY],encoding:i}}function l(e,t){var i=e,o=t[0];o!==n.MIME_BINARY&&o!==n.MIME_UNKNOWN&&i.unshift(o);var r=i.filter(function(e,t){return e&&i.indexOf(e)===t}).sort(function(e,t){return e===n.MIME_BINARY?1:t===n.MIME_BINARY?-1:e===n.MIME_TEXT?1:t===n.MIME_TEXT?-1:0});return r}function d(e,t,i){s(e,function(e,n){p(t,e,n,i)})}function h(e,t){a(e,function(i,n){p(e,i,n,t)})}function p(e,t,i,o){if(t)return o(t,null);var r=l(i.mimes,n.guessMimeTypes(e));i.mimes=r,o(null,i)}var f=512,g=".asar";t.detectMimeAndEncodingFromBuffer=u,t.detectMimesFromStream=d,t.detectMimesFromFile=h}),define(l[90],d([1,0]),function(e,t){"use strict";!function(e){e[e.PREVIEW=0]="PREVIEW",e[e.OPEN=1]="OPEN"}(t.Mode||(t.Mode={}));t.Mode}),define(l[217],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t,i){this._posx=e,this._posy=t,this._target=i}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}();t.ContextMenuEvent=i;var n=function(e){function t(t){e.call(this,t.posx,t.posy,t.target),this.originalEvent=t}return h(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(i);t.MouseContextMenuEvent=n;var o=function(e){function t(t,i,n){e.call(this,t,i,n.target),this.originalEvent=n}return h(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(i);t.KeyboardContextMenuEvent=o,function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(t.DragOverEffect||(t.DragOverEffect={}));var r=t.DragOverEffect;!function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(t.DragOverBubble||(t.DragOverBubble={}));var s=t.DragOverBubble;t.DRAG_OVER_REJECT={accept:!1},t.DRAG_OVER_ACCEPT={accept:!0},t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:!0,bubble:s.BUBBLE_UP},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN={accept:!0,bubble:s.BUBBLE_DOWN},t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:!0,bubble:s.BUBBLE_UP,effect:r.COPY},t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY={accept:!0,bubble:s.BUBBLE_DOWN,effect:r.COPY}}),define(l[216],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}();t.ElementsDragAndDropData=i;var n=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}();t.ExternalElementsDragAndDropData=n;var o=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.dataTransfer.types&&(this.types=[],Array.prototype.push.apply(this.types,e.dataTransfer.types)),e.dataTransfer.files&&(this.files=[],Array.prototype.push.apply(this.files,e.dataTransfer.files),this.files=this.files.filter(function(e){return e.size||e.type}))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();t.DesktopDragAndDropData=o}),define(l[957],d([8]),{}),define(l[956],d([8]),{}),define(l[952],d([8]),{}),define(l[950],d([8]),{}),define(l[946],d([8]),{}),define(l[945],d([8]),{}),define(l[943],d([8]),{}),define(l[941],d([8]),{}),define(l[937],d([8]),{}),define(l[933],d([8]),{}),define(l[932],d([8]),{}),define(l[926],d([8]),{}),define(l[914],d([8]),{}),define(l[912],d([8]),{}),define(l[911],d([8]),{}),define(l[253],d([1,0,9,911]),function(e,t,i){"use strict";function n(e){return e.replace(/\$\(([^)]+)\)/g,function(e,t){return'<span class="octicon octicon-'+t+'"></span>'})}t.expand=n;var o=function(){function e(e){this._container=e}return Object.defineProperty(e.prototype,"text",{set:function(e){
var t=e||"";t=i.escape(t),t=n(t),this._container.innerHTML=t},enumerable:!0,configurable:!0}),e}();t.OcticonLabel=o}),define(l[254],d([8]),{}),define(l[909],d([8]),{}),define(l[908],d([8]),{}),define(l[894],d([8]),{}),define(l[892],d([8]),{}),define(l[889],d([8]),{}),define(l[888],d([8]),{}),define(l[884],d([8]),{}),define(l[881],d([8]),{}),define(l[880],d([8]),{}),define(l[873],d([8]),{}),define(l[872],d([8]),{}),define(l[867],d([8]),{}),define(l[863],d([8]),{}),define(l[860],d([8]),{}),define(l[855],d([8]),{}),define(l[853],d([8]),{}),define(l[848],d([8]),{}),define(l[846],d([8]),{}),define(l[845],d([8]),{}),define(l[842],d([8]),{}),define(l[840],d([8]),{}),define(l[839],d([8]),{}),define(l[838],d([8]),{}),define(l[837],d([8]),{}),define(l[836],d([8]),{}),define(l[831],d([8]),{}),define(l[827],d([8]),{}),define(l[826],d([8]),{}),define(l[824],d([8]),{}),define(l[823],d([8]),{}),define(l[822],d([8]),{}),define(l[820],d([8]),{}),define(l[816],d([8]),{}),define(l[813],d([8]),{}),define(l[812],d([8]),{}),define(l[798],d([8]),{}),define(l[794],d([8]),{}),define(l[793],d([8]),{}),define(l[792],d([8]),{}),define(l[789],d([8]),{}),define(l[784],d([8]),{}),define(l[783],d([8]),{}),define(l[782],d([8]),{}),define(l[781],d([8]),{}),define(l[780],d([8]),{}),define(l[779],d([8]),{}),define(l[777],d([8]),{}),define(l[776],d([8]),{}),define(l[775],d([8]),{}),define(l[774],d([8]),{}),define(l[772],d([8]),{}),define(l[771],d([8]),{}),define(l[770],d([8]),{}),define(l[769],d([8]),{}),define(l[768],d([8]),{}),define(l[767],d([8]),{}),define(l[766],d([8]),{}),define(l[765],d([8]),{}),define(l[764],d([8]),{}),define(l[763],d([8]),{}),define(l[750],d([8]),{}),define(l[749],d([8]),{}),define(l[747],d([8]),{}),define(l[746],d([8]),{}),define(l[745],d([8]),{}),define(l[744],d([8]),{}),define(l[743],d([8]),{}),define(l[740],d([8]),{}),define(l[736],d([8]),{}),define(l[735],d([8]),{}),define(l[731],d([8]),{}),define(l[727],d([8]),{}),define(l[723],d([8]),{}),define(l[721],d([8]),{}),define(l[714],d([8]),{}),define(l[710],d([8]),{}),define(l[707],d([8]),{}),define(l[704],d([8]),{}),define(l[694],d([8]),{}),define(l[686],d([8]),{}),define(l[685],d([8]),{}),define(l[682],d([8]),{}),define(l[323],d([8]),{}),define(l[680],d([8]),{}),define(l[679],d([8]),{}),define(l[678],d([8]),{}),define(l[677],d([8]),{}),define(l[675],d([1,0,5]),function(e,t,i){"use strict";var n=function(e){function t(t,i){e.call(this),this.referenceDomElement=t,this.changeCallback=i,this.measureReferenceDomElementToken=-1,this.width=-1,this.height=-1,this.measureReferenceDomElement(!1)}return h(t,e),t.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.startObserving=function(){var e=this;this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(function(){return e.measureReferenceDomElement(!0)},100))},t.prototype.stopObserving=function(){this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)},t.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},t.prototype.measureReferenceDomElement=function(e,t){var i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())},t}(i.Disposable);t.ElementSizeObserver=n}),define(l[53],d([1,0]),function(e,t){"use strict";t.ClassNames={TEXTAREA_COVER:"textAreaCover",TEXTAREA:"inputarea",LINES_CONTENT:"lines-content",OVERFLOW_GUARD:"overflow-guard",VIEW_LINES:"view-lines",VIEW_LINE:"view-line",SCROLLABLE_ELEMENT:"editor-scrollable",CONTENT_WIDGETS:"contentWidgets",OVERFLOWING_CONTENT_WIDGETS:"overflowingContentWidgets",OVERLAY_WIDGETS:"overlayWidgets",MARGIN_VIEW_OVERLAYS:"margin-view-overlays",LINE_NUMBERS:"line-numbers",GLYPH_MARGIN:"glyph-margin",SCROLL_DECORATION:"scroll-decoration",VIEW_CURSORS_LAYER:"cursors-layer",VIEW_ZONES:"view-zones"},function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));t.ContentWidgetPositionPreference;!function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));t.OverlayWidgetPositionPreference}),define(l[174],d([1,0]),function(e,t){"use strict";var i;!function(e){function t(e,t){var i=0,n=e.length-1;if(n<=0)return 0;for(;i<n;){var o=i+Math.ceil((n-i)/2);e[o].startIndex>t?n=o-1:i=o}return i}e.findIndexInSegmentsArray=t}(i=t.Arrays||(t.Arrays={}))}),define(l[159],d([1,0,174]),function(e,t,i){"use strict";var n=function(){function e(e,t){this.startIndex=0|e,this.mode=t,this.modeId=t.getId()}return e.findIndexInSegmentsArray=function(e,t){return i.Arrays.findIndexInSegmentsArray(e,t)},e.create=function(t){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];i.push(new e(r.startIndex,r.mode))}return i},e}();t.ModeTransition=n}),define(l[48],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e}();t.Position=i}),define(l[14],d([1,0,48]),function(e,t,i){"use strict";var n=function(){function e(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,i){var n,o,r,s;return i.startLineNumber<t.startLineNumber?(n=i.startLineNumber,o=i.startColumn):i.startLineNumber===t.startLineNumber?(n=i.startLineNumber,o=Math.min(i.startColumn,t.startColumn)):(n=t.startLineNumber,o=t.startColumn),i.endLineNumber>t.endLineNumber?(r=i.endLineNumber,s=i.endColumn):i.endLineNumber===t.endLineNumber?(r=i.endLineNumber,s=Math.max(i.endColumn,t.endColumn)):(r=t.endLineNumber,s=t.endColumn),new e(n,o,r,s)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,i){var n=t.startLineNumber,o=t.startColumn,r=t.endLineNumber,s=t.endColumn,a=i.startLineNumber,c=i.startColumn,u=i.endLineNumber,l=i.endColumn;return n<a?(n=a,o=c):n===a&&(o=Math.max(o,c)),r>u?(r=u,s=l):r===u&&(s=Math.min(s,l)),n>r?null:n===r&&o>s?null:new e(n,o,r,s)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new i.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new i.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,i){return new e(this.startLineNumber,this.startColumn,t,i)},e.prototype.setStartPosition=function(t,i){return new e(t,i,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.compareRangesUsingStarts=function(e,t){var i=0|e.startLineNumber,n=0|t.startLineNumber,o=0|e.startColumn,r=0|t.startColumn,s=0|e.endLineNumber,a=0|t.endLineNumber,c=0|e.endColumn,u=0|t.endColumn;return i===n?o===r?s===a?c-u:s-a:o-r:i-n},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}();t.Range=n}),define(l[126],d([1,0,14]),function(e,t,i){"use strict";var n=function(){function e(){}return e.insert=function(e,t){return{identifier:null,range:new i.Range(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},e["delete"]=function(e){return{identifier:null,range:e,text:null,forceMoveMarkers:!0}},e.replace=function(e,t){return{identifier:null,range:e,text:t,forceMoveMarkers:!1}},e.replaceMove=function(e,t){return{identifier:null,range:e,text:t,forceMoveMarkers:!0}},e}();t.EditOperation=n}),define(l[250],d([1,0,9,126,14]),function(e,t,i,n,o){"use strict";function r(e,t){t.sort(function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber});for(var r=t.length-2;r>=0;r--)t[r].lineNumber===t[r+1].lineNumber&&t.splice(r,1);var s,a,c,u,l,d,h,p=[],f=0,g=t.length;for(s=1,a=e.getLineCount();s<=a;s++)if(c=e.getLineContent(s),l=c.length+1,u=0,!(f<g&&t[f].lineNumber===s&&(u=t[f].column,f++,u===l))&&0!==c.length){if(h=i.lastNonWhitespaceIndex(c),d=0,h===-1)d=1;else{if(h===c.length-1)continue;d=h+2}d=Math.max(u,d),p.push(n.EditOperation["delete"](new o.Range(s,d,s,l)))}return p}var s=function(){function e(e){this.selection=e}return e.prototype.getEditOperations=function(e,t){for(var i=r(e,[]),n=0,o=i.length;n<o;n++){var s=i[n];t.addEditOperation(s.range,s.text)}this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.TrimTrailingWhitespaceCommand=s,t.trimTrailingWhitespace=r}),define(l[46],d([1,0,14]),function(e,t,i){"use strict";!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(t.SelectionDirection||(t.SelectionDirection={}));var n=t.SelectionDirection,o=function(e){function t(t,i,n,o){e.call(this,t,i,n,o),this.selectionStartLineNumber=t,this.selectionStartColumn=i,this.positionLineNumber=n,this.positionColumn=o}return h(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?n.LTR:n.RTL},t.prototype.setEndPosition=function(e,i){return this.getDirection()===n.LTR?new t(this.startLineNumber,this.startColumn,e,i):new t(e,i,this.startLineNumber,this.startColumn)},t.prototype.setStartPosition=function(e,i){return this.getDirection()===n.LTR?new t(e,i,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,i)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0},t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},t.createWithDirection=function(e,i,o,r,s){return s===n.LTR?new t(e,i,o,r):new t(o,r,e,i)},t}(i.Range);t.Selection=o}),define(l[197],d([1,0,46]),function(e,t,i){"use strict";var n=function(){function e(e,t){this._range=e,this._text=t}return e.prototype.getText=function(){return this._text},e.prototype.getRange=function(){return this._range},e.prototype.setRange=function(e){this._range=e},e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[0].range;return new i.Selection(o.endLineNumber,o.endColumn,o.endLineNumber,o.endColumn)},e}();t.ReplaceCommand=n;var o=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[0].range;return new i.Selection(o.startLineNumber,o.startColumn,o.startLineNumber,o.startColumn)},t}(n);t.ReplaceCommandWithoutChangingPosition=o;var r=function(e){function t(t,i,n,o){e.call(this,t,i),this._columnDeltaOffset=o,this._lineNumberDeltaOffset=n}return h(t,e),t.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[0].range;return new i.Selection(o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset,o.endLineNumber+this._lineNumberDeltaOffset,o.endColumn+this._columnDeltaOffset)},t}(n);t.ReplaceCommandWithOffsetCursorState=r;var s=function(e){function t(t,i,n){e.call(this,t,i),this._initialSelection=n}return h(t,e),t.prototype.getEditOperations=function(t,i){e.prototype.getEditOperations.call(this,t,i),this._selectionId=i.trackSelection(this._initialSelection)},t.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},t}(n);t.ReplaceCommandThatPreservesSelection=s}),define(l[674],d([1,0,14,46]),function(e,t,i,n){"use strict";var o=function(){function e(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(new i.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addEditOperation(new i.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),o=i[0].range,r=i[1].range;return new n.Selection(o.endLineNumber,o.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)},e}();t.SurroundSelectionCommand=o}),define(l[196],d([1,0,46]),function(e,t,i){"use strict";function n(e,t,i){var n=e.getLineContent(t).charCodeAt(i-1);return 55296<=n&&n<=56319}function o(e,t,i){var n=e.getLineContent(t).charCodeAt(i-1);return 56320<=n&&n<=57343}var r=function(){function e(e){this.configuration=e}return e.prototype.getLeftOfPosition=function(e,t,i){return i>e.getLineMinColumn(t)?i-=o(e,t,i-1)?2:1:t>1&&(t-=1,i=e.getLineMaxColumn(t)),{lineNumber:t,column:i}},e.prototype.getRightOfPosition=function(e,t,i){return i<e.getLineMaxColumn(t)?i+=n(e,t,i)?2:1:t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),{lineNumber:t,column:i}},e.prototype.getPositionUp=function(e,t,i,n,o,r){var s=this.visibleColumnFromColumn(e,t,i)+n;return t-=o,t<1?(t=1,i=r?e.getLineMinColumn(t):Math.min(e.getLineMaxColumn(t),i)):i=this.columnFromVisibleColumn(e,t,s),n=s-this.visibleColumnFromColumn(e,t,i),{lineNumber:t,column:i,leftoverVisibleColumns:n}},e.prototype.getPositionDown=function(e,t,i,n,o,r){var s=this.visibleColumnFromColumn(e,t,i)+n;t+=o;var a=e.getLineCount();return t>a?(t=a,i=r?e.getLineMaxColumn(t):Math.min(e.getLineMaxColumn(t),i)):i=this.columnFromVisibleColumn(e,t,s),n=s-this.visibleColumnFromColumn(e,t,i),{lineNumber:t,column:i,leftoverVisibleColumns:n}},e.prototype.columnSelect=function(e,t,n,o,r){for(var s=Math.abs(o-t)+1,a=t>o,c=n>r,u=n<r,l=[],d=0;d<s;d++){var h=t+(a?-d:d),p=this.columnFromVisibleColumn(e,h,n),f=this.columnFromVisibleColumn(e,h,r),g=this.visibleColumnFromColumn(e,h,p),m=this.visibleColumnFromColumn(e,h,f);if(u){if(g>r)continue;if(m<n)continue}if(c){if(m>n)continue;if(g<r)continue}l.push(new i.Selection(h,p,h,f))}return{viewSelections:l,reversed:a}},e.prototype.getColumnAtBeginningOfLine=function(e,t,i){var n=e.getLineFirstNonWhitespaceColumn(t)||1,o=e.getLineMinColumn(t);return i=i!==o&&i<=n?o:n},e.prototype.getColumnAtEndOfLine=function(e,t,i){var n=e.getLineMaxColumn(t),o=e.getLineLastNonWhitespaceColumn(t)||n;return i=i!==n&&i>=o?n:o},e.prototype.visibleColumnFromColumn=function(t,i,n){return e.visibleColumnFromColumn(t,i,n,this.configuration.getIndentationOptions().tabSize)},e.visibleColumnFromColumn=function(t,i,n,o){return e.visibleColumnFromColumn2(t.getLineContent(i),n,o)},e.visibleColumnFromColumn2=function(t,i,n){for(var o=0,r=0;r<i-1;r++)o="\t"===t.charAt(r)?e.nextTabColumn(o,n):o+1;return o},e.prototype.columnFromVisibleColumn=function(t,i,n){for(var o=t.getLineContent(i),r=-1,s=0,a=0;a<o.length&&s<=n;a++)r=s,s="\t"===o.charAt(a)?e.nextTabColumn(s,this.configuration.getIndentationOptions().tabSize):s+1;s=Math.abs(n-s),r=Math.abs(n-r);var c;c=s<r?a+1:a;var u=t.getLineMinColumn(i);return c<u&&(c=u),c},e.nextTabColumn=function(e,t){return e+t-e%t},e.prevTabColumn=function(e,t){return e-1-(e-1)%t},e}();t.CursorMoveHelper=r}),define(l[133],d([1,0,174]),function(e,t,i){"use strict";var n=function(){function e(e,t){this.startIndex=0|e,this.type=t.replace(/[^a-z0-9\-]/gi," ")}return e.prototype.equals=function(e){return this.startIndex===e.startIndex&&this.type===e.type},e.findIndexInSegmentsArray=function(e,t){return i.Arrays.findIndexInSegmentsArray(e,t)},e.equalsArray=function(e,t){var i=e.length,n=t.length;if(i!==n)return!1;for(var o=0;o<i;o++)if(!e[o].equals(t[o]))return!1;return!0},e}();t.ViewLineToken=n;var o=function(){function e(e,t,i){this._lineTokens=e,this._fauxIndentLength=0|t,this._textLength=0|i}return e.prototype.getTokens=function(){return this._lineTokens},e.prototype.getFauxIndentLength=function(){return this._fauxIndentLength},e.prototype.getTextLength=function(){return this._textLength},e.prototype.equals=function(e){return this._fauxIndentLength===e._fauxIndentLength&&this._textLength===e._textLength&&n.equalsArray(this._lineTokens,e._lineTokens)},e.prototype.findIndexOfOffset=function(e){return n.findIndexInSegmentsArray(this._lineTokens,e)},e}();t.ViewLineTokens=o}),define(l[670],d([1,0,289,9]),function(e,t,i,n){"use strict";function o(e,t,n){var o=new i.LcsDiff(e,t,n);return o.ComputeDiff()}function r(e){if(e.length<=1)return e;var t,i,n,o,r,s,c=[e[0]],u=c[0];for(t=1,i=e.length;t<i;t++)s=e[t],n=s.originalStart-(u.originalStart+u.originalLength),o=s.modifiedStart-(u.modifiedStart+u.modifiedLength),r=Math.min(n,o),r<a?(u.originalLength=s.originalStart+s.originalLength-u.originalStart,u.modifiedLength=s.modifiedStart+s.modifiedLength-u.modifiedStart):(c.push(s),u=s);return c}var s=5e3,a=3,c=function(){function e(e,t,i){this.buffer=e,this.startMarkers=t,this.endMarkers=i}return e.prototype.equals=function(t){if(!(t instanceof e))return!1;var i=t;if(this.getLength()!==i.getLength())return!1;for(var n=0,o=this.getLength();n<o;n++){var r=this.getElementHash(n),s=i.getElementHash(n);if(r!==s)return!1}return!0},e.prototype.getLength=function(){return this.startMarkers.length},e.prototype.getElementHash=function(e){return this.buffer.substring(this.startMarkers[e].offset,this.endMarkers[e].offset)},e.prototype.getStartLineNumber=function(e){return e===this.startMarkers.length?this.startMarkers[e-1].lineNumber+1:this.startMarkers[e].lineNumber},e.prototype.getStartColumn=function(e){return this.startMarkers[e].column},e.prototype.getEndLineNumber=function(e){return this.endMarkers[e].lineNumber},e.prototype.getEndColumn=function(e){return this.endMarkers[e].column},e}(),u=function(e){function t(i,n){var o,r,s,a,c,u="",l=[],d=[];for(s=0,o=0,r=i.length;o<r;o++)u+=i[o],a=1,c=i[o].length+1,n&&(a=t._getFirstNonBlankColumn(i[o],1),c=t._getLastNonBlankColumn(i[o],1)),l.push({offset:s+a-1,lineNumber:o+1,column:a}),d.push({offset:s+c-1,lineNumber:o+1,column:c}),s+=i[o].length;e.call(this,u,l,d)}return h(t,e),t._getFirstNonBlankColumn=function(e,t){var i=n.firstNonWhitespaceIndex(e);return i===-1?t:i+1},t._getLastNonBlankColumn=function(e,t){var i=n.lastNonWhitespaceIndex(e);return i===-1?t:i+2},t.prototype.getCharSequence=function(e,t){var i,n,o,r,s=[],a=[];for(i=e;i<=t;i++)for(o=this.startMarkers[i],r=this.endMarkers[i],n=o.offset;n<r.offset;n++)s.push({offset:n,lineNumber:o.lineNumber,column:o.column+(n-o.offset)}),a.push({offset:n+1,lineNumber:o.lineNumber,column:o.column+(n-o.offset)+1});return new c(this.buffer,s,a)},t}(c),l=function(){function e(e,t,i){0===e.originalLength?(this.originalStartLineNumber=0,this.originalStartColumn=0,this.originalEndLineNumber=0,this.originalEndColumn=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalStartColumn=t.getStartColumn(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1),this.originalEndColumn=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=0,this.modifiedStartColumn=0,this.modifiedEndLineNumber=0,this.modifiedEndColumn=0):(this.modifiedStartLineNumber=i.getStartLineNumber(e.modifiedStart),this.modifiedStartColumn=i.getStartColumn(e.modifiedStart),this.modifiedEndLineNumber=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),this.modifiedEndColumn=i.getEndColumn(e.modifiedStart+e.modifiedLength-1))}return e}(),d=function(){function e(e,t,i,n,s){if(0===e.originalLength?(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart)-1,this.originalEndLineNumber=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=i.getStartLineNumber(e.modifiedStart)-1,this.modifiedEndLineNumber=0):(this.modifiedStartLineNumber=i.getStartLineNumber(e.modifiedStart),this.modifiedEndLineNumber=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)),0!==e.originalLength&&0!==e.modifiedLength&&n()){var a=t.getCharSequence(e.originalStart,e.originalStart+e.originalLength-1),c=i.getCharSequence(e.modifiedStart,e.modifiedStart+e.modifiedLength-1),u=o(a,c,n);s&&(u=r(u)),this.charChanges=[];for(var d=0,h=u.length;d<h;d++)this.charChanges.push(new l(u[d],a,c))}}return e}(),p=function(){function e(e,t,i){this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.maximumRunTimeMs=s,this.original=new u(e,this.shouldIgnoreTrimWhitespace),this.modified=new u(t,this.shouldIgnoreTrimWhitespace),i.shouldConsiderTrimWhitespaceInEmptyCase&&this.shouldIgnoreTrimWhitespace&&this.original.equals(this.modified)&&(this.shouldIgnoreTrimWhitespace=!1,this.original=new u(e,this.shouldIgnoreTrimWhitespace),this.modified=new u(t,this.shouldIgnoreTrimWhitespace))}return e.prototype.computeDiff=function(){this.computationStartTime=(new Date).getTime();for(var e=o(this.original,this.modified,this._continueProcessingPredicate.bind(this)),t=[],i=0,n=e.length;i<n;i++)t.push(new d(e[i],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));return t},e.prototype._continueProcessingPredicate=function(){if(0===this.maximumRunTimeMs)return!0;var e=(new Date).getTime();return e-this.computationStartTime<this.maximumRunTimeMs},e}();t.DiffComputer=p}),define(l[54],d([1,0,5]),function(e,t,i){"use strict";function n(e,t,i){return new r([new a(t,e),new c(t,e,i)])}!function(e){e[e.TextFocus=1]="TextFocus",e[e.WidgetFocus=2]="WidgetFocus",e[e.Writeable=4]="Writeable",e[e.UpdateOnModelChange=8]="UpdateOnModelChange",e[e.UpdateOnConfigurationChange=16]="UpdateOnConfigurationChange",e[e.ShowInContextMenu=32]="ShowInContextMenu",e[e.UpdateOnCursorPositionChange=64]="UpdateOnCursorPositionChange"}(t.Behaviour||(t.Behaviour={}));var o=t.Behaviour;t.createActionEnablement=n;var r=function(){function e(e){this._delegates=e}return e.prototype.value=function(){return this._delegates.every(function(e){return e.value()})},e.prototype.reset=function(){this._delegates.forEach(function(e){e instanceof s&&e.reset()})},e.prototype.dispose=function(){this._delegates.forEach(function(e){return e.dispose()})},e}(),s=function(){function e(){this._value=null}return e.prototype.reset=function(){this._value=null},e.prototype.dispose=function(){},e.prototype.value=function(){return null===this._value&&(this._value=this._computeValue()),this._value},e.prototype._computeValue=function(){return!1},e}(),a=function(e){function t(t,i){var n=this;e.call(this),this._behaviour=t,this.editor=i,this.hasTextFocus=!1,this.hasWidgetFocus=!1,this.isReadOnly=!1,this._callOnDispose=[],this._behaviour&o.TextFocus&&(this._callOnDispose.push(this.editor.onDidFocusEditorText(function(){return n._updateTextFocus(!0)})),this._callOnDispose.push(this.editor.onDidBlurEditorText(function(){return n._updateTextFocus(!1)}))),this._behaviour&o.WidgetFocus&&(this._callOnDispose.push(this.editor.onDidFocusEditor(function(){return n._updateWidgetFocus(!0)})),this._callOnDispose.push(this.editor.onDidBlurEditor(function(){return n._updateWidgetFocus(!1)}))),this._behaviour&o.Writeable&&this._callOnDispose.push(this.editor.onDidChangeConfiguration(function(e){return n._update()}))}return h(t,e),t.prototype._updateTextFocus=function(e){this.hasTextFocus=e,this.reset()},t.prototype._updateWidgetFocus=function(e){this.hasWidgetFocus=e,this.reset()},t.prototype._update=function(){this.isReadOnly=this.editor.getConfiguration().readOnly,this.reset()},t.prototype.dispose=function(){e.prototype.dispose.call(this),i.dispose(this._callOnDispose)},t.prototype._computeValue=function(){return!(this._behaviour&o.TextFocus&&!this.hasTextFocus)&&(!(this._behaviour&o.WidgetFocus&&!this.hasWidgetFocus)&&!(this._behaviour&o.Writeable&&this.isReadOnly))},t}(s),c=function(e){function t(t,i,n){var r=this;e.call(this),this.editor=i,this._action=n,this._callOnDispose=[],t&o.UpdateOnModelChange&&(this._callOnDispose.push(this.editor.onDidChangeModel(function(){return r.reset()})),this._callOnDispose.push(this.editor.onDidChangeModelMode(function(){return r.reset()})),this._callOnDispose.push(this.editor.onDidChangeModelModeSupport(function(){return r.reset()}))),t&o.UpdateOnCursorPositionChange&&this._callOnDispose.push(this.editor.onDidChangeCursorPosition(function(){return r.reset()}))}return h(t,e),t.prototype._computeValue=function(){return!!this.editor.getModel()&&(!!this._action.isSupported()&&!!this._action.getEnablementState())},t}(s)}),define(l[11],d([1,0]),function(e,t){"use strict";function i(e){if(e===f.Line)return"line";if(e===f.Block)return"block";if(e===f.Underline)return"underline";throw new Error("cursorStyleToString: Unknown cursorStyle")}!function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent"}(t.WrappingIndent||(t.WrappingIndent={}));var n=(t.WrappingIndent,function(){function e(e){this.arrowSize=0|e.arrowSize,this.vertical=0|e.vertical,this.horizontal=0|e.horizontal,this.useShadows=Boolean(e.useShadows),this.verticalHasArrows=Boolean(e.verticalHasArrows),this.horizontalHasArrows=Boolean(e.horizontalHasArrows),this.handleMouseWheel=Boolean(e.handleMouseWheel),this.horizontalScrollbarSize=0|e.horizontalScrollbarSize,this.horizontalSliderSize=0|e.horizontalSliderSize,this.verticalScrollbarSize=0|e.verticalScrollbarSize,this.verticalSliderSize=0|e.verticalSliderSize,this.mouseWheelScrollSensitivity=Number(e.mouseWheelScrollSensitivity)}return e.prototype.equals=function(e){return this.arrowSize===e.arrowSize&&this.vertical===e.vertical&&this.horizontal===e.horizontal&&this.useShadows===e.useShadows&&this.verticalHasArrows===e.verticalHasArrows&&this.horizontalHasArrows===e.horizontalHasArrows&&this.handleMouseWheel===e.handleMouseWheel&&this.horizontalScrollbarSize===e.horizontalScrollbarSize&&this.horizontalSliderSize===e.horizontalSliderSize&&this.verticalScrollbarSize===e.verticalScrollbarSize&&this.verticalSliderSize===e.verticalSliderSize&&this.mouseWheelScrollSensitivity===e.mouseWheelScrollSensitivity},e.prototype.clone=function(){return new e(this)},e}());t.InternalEditorScrollbarOptions=n;var o=function(){function e(e){this.isViewportWrapping=Boolean(e.isViewportWrapping),this.wrappingColumn=0|e.wrappingColumn,this.wrappingIndent=0|e.wrappingIndent,this.wordWrapBreakBeforeCharacters=String(e.wordWrapBreakBeforeCharacters),this.wordWrapBreakAfterCharacters=String(e.wordWrapBreakAfterCharacters),this.wordWrapBreakObtrusiveCharacters=String(e.wordWrapBreakObtrusiveCharacters)}return e.prototype.equals=function(e){return this.isViewportWrapping===e.isViewportWrapping&&this.wrappingColumn===e.wrappingColumn&&this.wrappingIndent===e.wrappingIndent&&this.wordWrapBreakBeforeCharacters===e.wordWrapBreakBeforeCharacters&&this.wordWrapBreakAfterCharacters===e.wordWrapBreakAfterCharacters&&this.wordWrapBreakObtrusiveCharacters===e.wordWrapBreakObtrusiveCharacters},e.prototype.clone=function(){return new e(this)},e}();t.EditorWrappingInfo=o;var r=function(){function e(t){this.theme=String(t.theme),this.canUseTranslate3d=Boolean(t.canUseTranslate3d),this.experimentalScreenReader=Boolean(t.experimentalScreenReader),this.rulers=e._toSortedIntegerArray(t.rulers),this.ariaLabel=String(t.ariaLabel),this.lineNumbers=t.lineNumbers,this.selectOnLineNumbers=Boolean(t.selectOnLineNumbers),this.glyphMargin=Boolean(t.glyphMargin),this.revealHorizontalRightPadding=0|t.revealHorizontalRightPadding,this.roundedSelection=Boolean(t.roundedSelection),this.overviewRulerLanes=0|t.overviewRulerLanes,this.cursorBlinking=String(t.cursorBlinking),this.mouseWheelZoom=Boolean(t.mouseWheelZoom),this.cursorStyle=0|t.cursorStyle,this.hideCursorInOverviewRuler=Boolean(t.hideCursorInOverviewRuler),this.scrollBeyondLastLine=Boolean(t.scrollBeyondLastLine),this.editorClassName=String(t.editorClassName),this.stopRenderingLineAfter=0|t.stopRenderingLineAfter,
this.renderWhitespace=Boolean(t.renderWhitespace),this.renderControlCharacters=Boolean(t.renderControlCharacters),this.renderIndentGuides=Boolean(t.renderIndentGuides),this.scrollbar=t.scrollbar.clone()}return e._toSortedIntegerArray=function(e){if(!Array.isArray(e))return[];var t=e,i=t.map(function(e){var t=parseInt(e,10);return isNaN(t)?0:t});return i.sort(),i},e._numberArraysEqual=function(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},e.prototype.equals=function(t){return this.theme===t.theme&&this.canUseTranslate3d===t.canUseTranslate3d&&this.experimentalScreenReader===t.experimentalScreenReader&&e._numberArraysEqual(this.rulers,t.rulers)&&this.ariaLabel===t.ariaLabel&&this.lineNumbers===t.lineNumbers&&this.selectOnLineNumbers===t.selectOnLineNumbers&&this.glyphMargin===t.glyphMargin&&this.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&this.roundedSelection===t.roundedSelection&&this.overviewRulerLanes===t.overviewRulerLanes&&this.cursorBlinking===t.cursorBlinking&&this.mouseWheelZoom===t.mouseWheelZoom&&this.cursorStyle===t.cursorStyle&&this.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.editorClassName===t.editorClassName&&this.stopRenderingLineAfter===t.stopRenderingLineAfter&&this.renderWhitespace===t.renderWhitespace&&this.renderControlCharacters===t.renderControlCharacters&&this.renderIndentGuides===t.renderIndentGuides&&this.scrollbar.equals(t.scrollbar)},e.prototype.createChangeEvent=function(t){return{theme:this.theme!==t.theme,canUseTranslate3d:this.canUseTranslate3d!==t.canUseTranslate3d,experimentalScreenReader:this.experimentalScreenReader!==t.experimentalScreenReader,rulers:!e._numberArraysEqual(this.rulers,t.rulers),ariaLabel:this.ariaLabel!==t.ariaLabel,lineNumbers:this.lineNumbers!==t.lineNumbers,selectOnLineNumbers:this.selectOnLineNumbers!==t.selectOnLineNumbers,glyphMargin:this.glyphMargin!==t.glyphMargin,revealHorizontalRightPadding:this.revealHorizontalRightPadding!==t.revealHorizontalRightPadding,roundedSelection:this.roundedSelection!==t.roundedSelection,overviewRulerLanes:this.overviewRulerLanes!==t.overviewRulerLanes,cursorBlinking:this.cursorBlinking!==t.cursorBlinking,mouseWheelZoom:this.mouseWheelZoom!==t.mouseWheelZoom,cursorStyle:this.cursorStyle!==t.cursorStyle,hideCursorInOverviewRuler:this.hideCursorInOverviewRuler!==t.hideCursorInOverviewRuler,scrollBeyondLastLine:this.scrollBeyondLastLine!==t.scrollBeyondLastLine,editorClassName:this.editorClassName!==t.editorClassName,stopRenderingLineAfter:this.stopRenderingLineAfter!==t.stopRenderingLineAfter,renderWhitespace:this.renderWhitespace!==t.renderWhitespace,renderControlCharacters:this.renderControlCharacters!==t.renderControlCharacters,renderIndentGuides:this.renderIndentGuides!==t.renderIndentGuides,scrollbar:!this.scrollbar.equals(t.scrollbar)}},e.prototype.clone=function(){return new e(this)},e}();t.InternalEditorViewOptions=r;var s=function(){function e(e){this.selectionClipboard=Boolean(e.selectionClipboard),this.hover=Boolean(e.hover),this.contextmenu=Boolean(e.contextmenu),this.quickSuggestions=Boolean(e.quickSuggestions),this.quickSuggestionsDelay=e.quickSuggestionsDelay||0,this.parameterHints=Boolean(e.parameterHints),this.iconsInSuggestions=Boolean(e.iconsInSuggestions),this.formatOnType=Boolean(e.formatOnType),this.suggestOnTriggerCharacters=Boolean(e.suggestOnTriggerCharacters),this.acceptSuggestionOnEnter=Boolean(e.acceptSuggestionOnEnter),this.selectionHighlight=Boolean(e.selectionHighlight),this.outlineMarkers=Boolean(e.outlineMarkers),this.referenceInfos=Boolean(e.referenceInfos),this.folding=Boolean(e.folding)}return e.prototype.equals=function(e){return this.selectionClipboard===e.selectionClipboard&&this.hover===e.hover&&this.contextmenu===e.contextmenu&&this.quickSuggestions===e.quickSuggestions&&this.quickSuggestionsDelay===e.quickSuggestionsDelay&&this.parameterHints===e.parameterHints&&this.iconsInSuggestions===e.iconsInSuggestions&&this.formatOnType===e.formatOnType&&this.suggestOnTriggerCharacters===e.suggestOnTriggerCharacters&&this.acceptSuggestionOnEnter===e.acceptSuggestionOnEnter&&this.selectionHighlight===e.selectionHighlight&&this.outlineMarkers===e.outlineMarkers&&this.referenceInfos===e.referenceInfos&&this.folding===e.folding},e.prototype.clone=function(){return new e(this)},e}();t.EditorContribOptions=s;var a=function(){function e(e){this.lineHeight=0|e.lineHeight,this.readOnly=Boolean(e.readOnly),this.wordSeparators=String(e.wordSeparators),this.autoClosingBrackets=Boolean(e.autoClosingBrackets),this.useTabStops=Boolean(e.useTabStops),this.tabFocusMode=Boolean(e.tabFocusMode),this.layoutInfo=e.layoutInfo.clone(),this.fontInfo=e.fontInfo.clone(),this.viewInfo=e.viewInfo.clone(),this.wrappingInfo=e.wrappingInfo.clone(),this.contribInfo=e.contribInfo.clone()}return e.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.readOnly===e.readOnly&&this.wordSeparators===e.wordSeparators&&this.autoClosingBrackets===e.autoClosingBrackets&&this.useTabStops===e.useTabStops&&this.tabFocusMode===e.tabFocusMode&&this.layoutInfo.equals(e.layoutInfo)&&this.fontInfo.equals(e.fontInfo)&&this.viewInfo.equals(e.viewInfo)&&this.wrappingInfo.equals(e.wrappingInfo)&&this.contribInfo.equals(e.contribInfo)},e.prototype.createChangeEvent=function(e){return{lineHeight:this.lineHeight!==e.lineHeight,readOnly:this.readOnly!==e.readOnly,wordSeparators:this.wordSeparators!==e.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==e.autoClosingBrackets,useTabStops:this.useTabStops!==e.useTabStops,tabFocusMode:this.tabFocusMode!==e.tabFocusMode,layoutInfo:!this.layoutInfo.equals(e.layoutInfo),fontInfo:!this.fontInfo.equals(e.fontInfo),viewInfo:this.viewInfo.createChangeEvent(e.viewInfo),wrappingInfo:!this.wrappingInfo.equals(e.wrappingInfo),contribInfo:!this.contribInfo.equals(e.contribInfo)}},e.prototype.clone=function(){return new e(this)},e}();t.InternalEditorOptions=a,function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(t.OverviewRulerLane||(t.OverviewRulerLane={}));t.OverviewRulerLane;!function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={}));t.EndOfLinePreference;!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.DefaultEndOfLine||(t.DefaultEndOfLine={}));t.DefaultEndOfLine;!function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(t.EndOfLineSequence||(t.EndOfLineSequence={}));t.EndOfLineSequence;!function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}));t.TrackedRangeStickiness;!function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(t.CursorChangeReason||(t.CursorChangeReason={}));t.CursorChangeReason;!function(e){e[e.Simple=0]="Simple",e[e.Center=1]="Center",e[e.CenterIfOutsideViewport=2]="CenterIfOutsideViewport"}(t.VerticalRevealType||(t.VerticalRevealType={}));var c=(t.VerticalRevealType,function(){function e(e){this.width=0|e.width,this.height=0|e.height,this.top=0|e.top,this.right=0|e.right}return e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height&&this.top===e.top&&this.right===e.right},e.prototype.clone=function(){return new e(this)},e}());t.OverviewRulerPosition=c;var u=function(){function e(e){this.width=0|e.width,this.height=0|e.height,this.glyphMarginLeft=0|e.glyphMarginLeft,this.glyphMarginWidth=0|e.glyphMarginWidth,this.glyphMarginHeight=0|e.glyphMarginHeight,this.lineNumbersLeft=0|e.lineNumbersLeft,this.lineNumbersWidth=0|e.lineNumbersWidth,this.lineNumbersHeight=0|e.lineNumbersHeight,this.decorationsLeft=0|e.decorationsLeft,this.decorationsWidth=0|e.decorationsWidth,this.decorationsHeight=0|e.decorationsHeight,this.contentLeft=0|e.contentLeft,this.contentWidth=0|e.contentWidth,this.contentHeight=0|e.contentHeight,this.verticalScrollbarWidth=0|e.verticalScrollbarWidth,this.horizontalScrollbarHeight=0|e.horizontalScrollbarHeight,this.overviewRuler=e.overviewRuler.clone()}return e.prototype.equals=function(e){return this.width===e.width&&this.height===e.height&&this.glyphMarginLeft===e.glyphMarginLeft&&this.glyphMarginWidth===e.glyphMarginWidth&&this.glyphMarginHeight===e.glyphMarginHeight&&this.lineNumbersLeft===e.lineNumbersLeft&&this.lineNumbersWidth===e.lineNumbersWidth&&this.lineNumbersHeight===e.lineNumbersHeight&&this.decorationsLeft===e.decorationsLeft&&this.decorationsWidth===e.decorationsWidth&&this.decorationsHeight===e.decorationsHeight&&this.contentLeft===e.contentLeft&&this.contentWidth===e.contentWidth&&this.contentHeight===e.contentHeight&&this.verticalScrollbarWidth===e.verticalScrollbarWidth&&this.horizontalScrollbarHeight===e.horizontalScrollbarHeight&&this.overviewRuler.equals(e.overviewRuler)},e.prototype.clone=function(){return new e(this)},e}();t.EditorLayoutInfo=u,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET"}(t.MouseTargetType||(t.MouseTargetType={}));t.MouseTargetType;t.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS="editorTextFocus",t.KEYBINDING_CONTEXT_EDITOR_FOCUS="editorFocus",t.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS="editorTabMovesFocus",t.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS="editorHasMultipleSelections",t.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION="editorHasSelection",t.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID="editorLangId",t.SHOW_ACCESSIBILITY_HELP_ACTION_ID="editor.action.showAccessibilityHelp";var l=function(){function e(e){this.fontFamily=String(e.fontFamily),this.fontSize=0|e.fontSize,this.lineHeight=0|e.lineHeight}return e.prototype.getId=function(){return this.fontFamily+"-"+this.fontSize+"-"+this.lineHeight},e}();t.BareFontInfo=l;var d=function(e){function t(t){e.call(this,t),this.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,this.spaceWidth=t.spaceWidth,this.maxDigitWidth=t.maxDigitWidth}return h(t,e),t.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.spaceWidth===e.spaceWidth&&this.maxDigitWidth===e.maxDigitWidth},t.prototype.clone=function(){return new t(this)},t}(l);t.FontInfo=d,t.ViewEventNames={ModelFlushedEvent:"modelFlushedEvent",LinesDeletedEvent:"linesDeletedEvent",LinesInsertedEvent:"linesInsertedEvent",LineChangedEvent:"lineChangedEvent",TokensChangedEvent:"tokensChangedEvent",DecorationsChangedEvent:"decorationsChangedEvent",CursorPositionChangedEvent:"cursorPositionChangedEvent",CursorSelectionChangedEvent:"cursorSelectionChangedEvent",RevealRangeEvent:"revealRangeEvent",LineMappingChangedEvent:"lineMappingChangedEvent",ScrollRequestEvent:"scrollRequestEvent"};var p=function(){function e(e,t,i,n){this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}return e}();t.Viewport=p,function(e){e[e.Value=0]="Value",e[e.Selection=1]="Selection",e[e.Position=2]="Position",e[e.Scroll=3]="Scroll"}(t.CodeEditorStateFlag||(t.CodeEditorStateFlag={}));t.CodeEditorStateFlag;t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},t.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ModelDispose:"modelDispose",ModelChanged:"modelChanged",ModelTokensChanged:"modelTokensChanged",ModelModeChanged:"modelsModeChanged",ModelModeSupportChanged:"modelsModeSupportChanged",ModelOptionsChanged:"modelOptionsChanged",ModelRawContentChanged:"contentChanged",ModelContentChanged2:"contentChanged2",ModelRawContentChangedFlush:"flush",ModelRawContentChangedLinesDeleted:"linesDeleted",ModelRawContentChangedLinesInserted:"linesInserted",ModelRawContentChangedLineChanged:"lineChanged",EditorTextBlur:"blur",EditorTextFocus:"focus",EditorFocus:"widgetFocus",EditorBlur:"widgetBlur",ModelDecorationsChanged:"decorationsChanged",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",CursorScrollRequest:"scrollRequest",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewFocusChanged:"focusChanged",ViewScrollChanged:"scrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseUp:"mouseup",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",KeyUp:"keyup",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"},t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordStartLeft:"cursorWordStartLeft",CursorWordEndLeft:"cursorWordEndLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorWordStartLeftSelect:"cursorWordStartLeftSelect",CursorWordEndLeftSelect:"cursorWordEndLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordStartRight:"cursorWordStartRight",CursorWordEndRight:"cursorWordEndRight",CursorWordRightSelect:"cursorWordRightSelect",CursorWordStartRightSelect:"cursorWordStartRightSelect",CursorWordEndRightSelect:"cursorWordEndRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",ExpandLineSelection:"expandLineSelection",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",CursorColumnSelectLeft:"cursorColumnSelectLeft",CursorColumnSelectRight:"cursorColumnSelectRight",CursorColumnSelectUp:"cursorColumnSelectUp",CursorColumnSelectPageUp:"cursorColumnSelectPageUp",CursorColumnSelectDown:"cursorColumnSelectDown",CursorColumnSelectPageDown:"cursorColumnSelectPageDown",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",CursorUndo:"cursorUndo",MoveTo:"moveTo",MoveToSelect:"moveToSelect",ColumnSelect:"columnSelect",CreateCursor:"createCursor",LastCursorMoveToSelect:"lastCursorMoveToSelect",JumpToBracket:"jumpToBracket",Type:"type",ReplacePreviousChar:"replacePreviousChar",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordStartLeft:"deleteWordStartLeft",DeleteWordEndLeft:"deleteWordEndLeft",DeleteWordRight:"deleteWordRight",DeleteWordStartRight:"deleteWordStartRight",DeleteWordEndRight:"deleteWordEndRight",DeleteAllLeft:"deleteAllLeft",DeleteAllRight:"deleteAllRight",RemoveSecondaryCursors:"removeSecondaryCursors",CancelSelection:"cancelSelection",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",LineInsertBefore:"lineInsertBefore",LineInsertAfter:"lineInsertAfter",LineBreakInsert:"lineBreakInsert",SelectAll:"selectAll",ScrollLineUp:"scrollLineUp",ScrollLineDown:"scrollLineDown",ScrollPageUp:"scrollPageUp",ScrollPageDown:"scrollPageDown"},function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline"}(t.TextEditorCursorStyle||(t.TextEditorCursorStyle={}));var f=t.TextEditorCursorStyle;t.cursorStyleToString=i;var g=function(){function e(e,t,i,n){this.from=0|e,this.to=0|t,this.colorId=0|i,this.position=0|n}return e}();t.ColorZone=g;var m=function(){function e(e,t,i,n,o,r){this.startLineNumber=e,this.endLineNumber=t,this.position=i,this.forceHeight=n,this._color=o,this._darkColor=r,this._colorZones=null}return e.prototype.getColor=function(e){return e?this._darkColor:this._color},e.prototype.equals=function(e){return this.startLineNumber===e.startLineNumber&&this.endLineNumber===e.endLineNumber&&this.position===e.position&&this.forceHeight===e.forceHeight&&this._color===e._color&&this._darkColor===e._darkColor},e.prototype.compareTo=function(e){return this.startLineNumber===e.startLineNumber?this.endLineNumber===e.endLineNumber?this.forceHeight===e.forceHeight?this.position===e.position?this._darkColor===e._darkColor?this._color===e._color?0:this._color<e._color?-1:1:this._darkColor<e._darkColor?-1:1:this.position-e.position:this.forceHeight-e.forceHeight:this.endLineNumber-e.endLineNumber:this.startLineNumber-e.startLineNumber},e.prototype.setColorZones=function(e){this._colorZones=e},e.prototype.getColorZones=function(){return this._colorZones},e}();t.OverviewRulerZone=m}),define(l[666],d([1,0,48,11]),function(e,t,i,n){"use strict";var o=function(){function e(e,t,i,n){this.viewModel=e,this.triggerCursorHandler=t,this.outgoingEventBus=i,this.keybindingService=n}return e.prototype.paste=function(e,t,i){this.keybindingService.executeCommand(n.Handler.Paste,{text:t,pasteOnNewLine:i})},e.prototype.type=function(e,t){this.keybindingService.executeCommand(n.Handler.Type,{text:t})},e.prototype.replacePreviousChar=function(e,t,i){this.keybindingService.executeCommand(n.Handler.ReplacePreviousChar,{text:t,replaceCharCnt:i})},e.prototype.cut=function(e){this.keybindingService.executeCommand(n.Handler.Cut,{})},e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new i.Position(e.lineNumber,t):e},e.prototype.dispatchMouse=function(e){e.startedOnLineNumbers?e.altKey?e.inSelectionMode?this.lastCursorLineSelect("mouse",e.position):this.createCursor("mouse",e.position,!0):e.inSelectionMode?this.lineSelectDrag("mouse",e.position):this.lineSelect("mouse",e.position):e.mouseDownCount>=4?this.selectAll("mouse"):3===e.mouseDownCount?e.altKey?e.inSelectionMode?this.lastCursorLineSelectDrag("mouse",e.position):this.lastCursorLineSelect("mouse",e.position):e.inSelectionMode?this.lineSelectDrag("mouse",e.position):this.lineSelect("mouse",e.position):2===e.mouseDownCount?e.altKey?this.lastCursorWordSelect("mouse",e.position):e.inSelectionMode?this.wordSelectDrag("mouse",e.position):this.wordSelect("mouse",e.position):e.altKey?e.ctrlKey||e.metaKey||(e.shiftKey?this.columnSelect("mouse",e.position,e.mouseColumn):e.inSelectionMode?this.lastCursorMoveToSelect("mouse",e.position):this.createCursor("mouse",e.position,!1)):e.inSelectionMode?this.moveToSelect("mouse",e.position):this.moveTo("mouse",e.position)},e.prototype.moveTo=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.MoveTo,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.moveToSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.MoveToSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.columnSelect=function(e,t,i){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.ColumnSelect,{position:this.convertViewToModelPosition(t),viewPosition:t,mouseColumn:i})},e.prototype.createCursor=function(e,t,i){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.CreateCursor,{position:this.convertViewToModelPosition(t),viewPosition:t,wholeLine:i})},e.prototype.lastCursorMoveToSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.LastCursorMoveToSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.wordSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.WordSelect,{position:this.convertViewToModelPosition(t)})},e.prototype.wordSelectDrag=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.WordSelectDrag,{position:this.convertViewToModelPosition(t)})},e.prototype.lastCursorWordSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.LastCursorWordSelect,{position:this.convertViewToModelPosition(t)})},e.prototype.lineSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.LineSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.lineSelectDrag=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.LineSelectDrag,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.lastCursorLineSelect=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.LastCursorLineSelect,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.lastCursorLineSelectDrag=function(e,t){t=this._validateViewColumn(t),this.triggerCursorHandler(e,n.Handler.LastCursorLineSelectDrag,{position:this.convertViewToModelPosition(t),viewPosition:t})},e.prototype.selectAll=function(e){this.triggerCursorHandler(e,n.Handler.SelectAll,null)},e.prototype.convertViewToModelPosition=function(e){return this.viewModel.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.convertViewToModelRange=function(e){return this.viewModel.convertViewRangeToModelRange(e)},e.prototype.convertViewToModelMouseEvent=function(e){e.target&&(e.target.position&&(e.target.position=this.convertViewToModelPosition(e.target.position)),e.target.range&&(e.target.range=this.convertViewToModelRange(e.target.range)))},e.prototype.emitKeyDown=function(e){this.outgoingEventBus.emit(n.EventType.KeyDown,e)},e.prototype.emitKeyUp=function(e){this.outgoingEventBus.emit(n.EventType.KeyUp,e)},e.prototype.emitContextMenu=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(n.EventType.ContextMenu,e)},e.prototype.emitMouseMove=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(n.EventType.MouseMove,e)},e.prototype.emitMouseLeave=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(n.EventType.MouseLeave,e)},e.prototype.emitMouseUp=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(n.EventType.MouseUp,e)},e.prototype.emitMouseDown=function(e){this.convertViewToModelMouseEvent(e),this.outgoingEventBus.emit(n.EventType.MouseDown,e)},e}();t.ViewController=o}),define(l[265],d([1,0,9,14,11]),function(e,t,i,n,o){"use strict";function r(e){return e===s.IENarrator?u.EMPTY:a?d.EMPTY:l.EMPTY}!function(e){e[e.IENarrator=0]="IENarrator",e[e.NVDA=1]="NVDA"}(t.TextAreaStrategy||(t.TextAreaStrategy={}));var s=t.TextAreaStrategy,a=!1;t.createTextAreaState=r;var c=function(){function e(e,t,i,n,o){this.previousState=e?e.shallowClone():null,this.value=t,this.selectionStart=i,this.selectionEnd=n,this.isInOverwriteMode=o}return e.prototype.updateComposition=function(){return this.previousState?{text:this.value,replaceCharCnt:this.previousState.selectionEnd-this.previousState.selectionStart}:{text:"",replaceCharCnt:0}},e.prototype.getSelectionStart=function(){return this.selectionStart},e.prototype.getValue=function(){return this.value},e.prototype.applyToTextArea=function(e,t,i){t.getValue()!==this.value&&t.setValue(e,this.value),i&&t.setSelectionRange(this.selectionStart,this.selectionEnd)},e.prototype.deduceInput=function(){if(!this.previousState)return{text:"",replaceCharCnt:0};var e=this.previousState.value,t=this.previousState.selectionStart,n=this.previousState.selectionEnd,o=this.value,r=this.selectionStart,s=this.selectionEnd,a=e.substring(n),c=o.substring(s),u=i.commonSuffixLength(a,c);o=o.substring(0,o.length-u),e=e.substring(0,e.length-u);var l=e.substring(0,t),d=o.substring(0,r),h=i.commonPrefixLength(l,d);if(o=o.substring(h),e=e.substring(h),r-=h,t-=h,s-=h,n-=h,r===s){if(e===o&&0===t&&n===e.length&&r===o.length&&o.indexOf("\n")===-1)return{text:"",replaceCharCnt:0};var p=l.length-h;return{text:o,replaceCharCnt:p}}var f=n-t;return{text:o,replaceCharCnt:f}},e}();t.TextAreaState=c;var u=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r),this.selectionToken=s}return h(t,e),t.prototype.shallowClone=function(){return new t(null,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode,this.selectionToken)},t.prototype.toEmpty=function(){return t.EMPTY},t.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+", isInOverwriteMode: "+this.isInOverwriteMode+", selectionToken: "+this.selectionToken+"]"},t.prototype.toStrategy=function(e){return e===s.IENarrator?this:a?new d(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode):new l(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode)},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd&&this.isInOverwriteMode===e.isInOverwriteMode&&this.selectionToken===e.selectionToken)},t.prototype.fromTextArea=function(e){return new t(this,e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),e.isInOverwriteMode(),this.selectionToken)},t.prototype.fromEditorSelection=function(e,i){var r=100,s=0,a=i.startLineNumber,c=i.startColumn,u=i.endLineNumber,l=i.endColumn,d=e.getLineMaxColumn(u);i.isEmpty()&&this.selectionToken!==a&&(c=1,l=d);var h="",p=Math.max(1,a-s);p<a&&(h=e.getValueInRange(new n.Range(p,1,a,1),o.EndOfLinePreference.LF)),h+=e.getValueInRange(new n.Range(a,1,a,c),o.EndOfLinePreference.LF),h.length>r&&(h=h.substring(h.length-r,h.length));var f="",g=Math.min(u+s,e.getLineCount());f+=e.getValueInRange(new n.Range(u,l,u,d),o.EndOfLinePreference.LF),g>u&&(f="\n"+e.getValueInRange(new n.Range(u+1,1,g,e.getLineMaxColumn(g)),o.EndOfLinePreference.LF)),f.length>r&&(f=f.substring(0,r));var m=e.getValueInRange(new n.Range(a,c,u,l),o.EndOfLinePreference.LF);return m.length>2*r&&(m=m.substring(0,r)+String.fromCharCode(8230)+m.substring(m.length-r,m.length)),new t(this,h+m+f,h.length,h.length+m.length,(!1),a)},t.prototype.fromText=function(e){return new t(this,e,0,e.length,(!1),0)},t.prototype.resetSelection=function(){return new t(this.previousState,this.value,this.value.length,this.value.length,this.isInOverwriteMode,this.selectionToken)},t.EMPTY=new t(null,"",0,0,(!1),0),t}(c);t.IENarratorTextAreaState=u;var l=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.shallowClone=function(){return new t(null,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode)},t.prototype.toEmpty=function(){return t.EMPTY},t.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+", isInOverwriteMode: "+this.isInOverwriteMode+"]"},t.prototype.toStrategy=function(e){return e===s.NVDA?this:new u(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode,0)},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd&&this.isInOverwriteMode===e.isInOverwriteMode)},t.prototype.fromTextArea=function(e){return new t(this,e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),e.isInOverwriteMode())},t._getPageOfLine=function(e){return Math.floor((e-1)/t._LINES_PER_PAGE)},t._getRangeForPage=function(e){var i=e*t._LINES_PER_PAGE,o=i+1,r=i+t._LINES_PER_PAGE;return new n.Range(o,1,r,Number.MAX_VALUE)},t.prototype.fromEditorSelection=function(e,i){var r=t._getPageOfLine(i.startLineNumber),s=t._getRangeForPage(r),a=t._getPageOfLine(i.endLineNumber),c=t._getRangeForPage(a),u=s.intersectRanges(new n.Range(1,1,i.startLineNumber,i.startColumn)),l=e.getValueInRange(u,o.EndOfLinePreference.LF),d=e.getLineCount(),h=e.getLineMaxColumn(d),p=c.intersectRanges(new n.Range(i.endLineNumber,i.endColumn,d,h)),f=e.getValueInRange(p,o.EndOfLinePreference.LF),g=null;if(r===a||r+1===a)g=e.getValueInRange(i,o.EndOfLinePreference.LF);else{var m=s.intersectRanges(i),v=c.intersectRanges(i);g=e.getValueInRange(m,o.EndOfLinePreference.LF)+String.fromCharCode(8230)+e.getValueInRange(v,o.EndOfLinePreference.LF)}var y=500;return l.length>y&&(l=l.substring(l.length-y,l.length)),f.length>y&&(f=f.substring(0,y)),g.length>2*y&&(g=g.substring(0,y)+String.fromCharCode(8230)+g.substring(g.length-y,g.length)),new t(this,l+g+f,l.length,l.length+g.length,(!1))},t.prototype.fromText=function(e){return new t(this,e,0,e.length,(!1))},t.prototype.resetSelection=function(){return new t(this.previousState,this.value,this.value.length,this.value.length,this.isInOverwriteMode)},t.EMPTY=new t(null,"",0,0,(!1)),t._LINES_PER_PAGE=10,t}(c);t.NVDAPagedTextAreaState=l;var d=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.shallowClone=function(){return new t(null,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode)},t.prototype.toEmpty=function(){return t.EMPTY},t.prototype.toString=function(){return"[ <ENTIRE TEXT>, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+", isInOverwriteMode: "+this.isInOverwriteMode+"]"},t.prototype.toStrategy=function(e){return e===s.NVDA?this:new u(this.previousState,this.value,this.selectionStart,this.selectionEnd,this.isInOverwriteMode,0)},t.prototype.equals=function(e){return e instanceof t&&(this.value===e.value&&this.selectionStart===e.selectionStart&&this.selectionEnd===e.selectionEnd&&this.isInOverwriteMode===e.isInOverwriteMode)},t.prototype.fromTextArea=function(e){return new t(this,e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),e.isInOverwriteMode())},t.prototype.fromEditorSelection=function(e,i){var r=e.getValueInRange(new n.Range(1,1,i.startLineNumber,i.startColumn),o.EndOfLinePreference.LF),s=e.getValueInRange(i,o.EndOfLinePreference.LF),a=e.getLineCount(),c=e.getLineMaxColumn(a),u=e.getValueInRange(new n.Range(i.endLineNumber,i.endColumn,a,c),o.EndOfLinePreference.LF);return new t(this,r+s+u,r.length,r.length+s.length,(!1))},t.prototype.fromText=function(e){return new t(this,e,0,e.length,(!1))},t.prototype.resetSelection=function(){return new t(this.previousState,this.value,this.value.length,this.value.length,this.isInOverwriteMode)},t.EMPTY=new t(null,"",0,0,(!1)),t}(c);t.NVDAFullTextAreaState=d}),define(l[665],d([1,0,9,11]),function(e,t,i,n){"use strict";var o=function(){function e(e,t){var o=this;this.flags=t,t.forEach(function(t){switch(t){case n.CodeEditorStateFlag.Value:var r=e.getModel();o.modelVersionId=r?i.format("{0}#{1}",r.uri.toString(),r.getVersionId()):null;break;case n.CodeEditorStateFlag.Position:o.position=e.getPosition();break;case n.CodeEditorStateFlag.Selection:o.selection=e.getSelection();break;case n.CodeEditorStateFlag.Scroll:o.scrollLeft=e.getScrollLeft(),o.scrollTop=e.getScrollTop()}})}return e.prototype._equals=function(t){if(!(t instanceof e))return!1;var i=t;return this.modelVersionId===i.modelVersionId&&(this.scrollLeft===i.scrollLeft&&this.scrollTop===i.scrollTop&&(!(!this.position&&i.position||this.position&&!i.position||this.position&&i.position&&!this.position.equals(i.position))&&!(!this.selection&&i.selection||this.selection&&!i.selection||this.selection&&i.selection&&!this.selection.equalsRange(i.selection))));
},e.prototype.validate=function(t){return this._equals(new e(t,this.flags))},e}();t.EditorState=o}),define(l[657],d([1,0]),function(e,t){"use strict";function i(e,t){void 0===t&&(t=1);var i=[],o=[];o.push({indent:-1,line:e.getLineCount()+1});for(var r=e.getLineCount();r>0;r--){var s=e.getIndentLevel(r);if(s!==-1){var a=o[o.length-1];if(a.indent>s){do o.pop(),a=o[o.length-1];while(a.indent>s);var c=a.line-1;c-r>=t&&i.push(new n(r,c,s))}a.indent===s?a.line=r:o.push({indent:s,line:r})}}return i.reverse()}var n=function(){function e(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.indent=i}return e.deepCloneArr=function(t){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];i[n]=new e(r.startLineNumber,r.endLineNumber,r.indent)}return i},e}();t.IndentRange=n,t.computeRanges=i}),define(l[269],d([1,0]),function(e,t){"use strict";function i(e,t,i,n){var r;for(r=0;r<t&&r<n;r++){var s=e.charCodeAt(r),a=i.charCodeAt(r);if(s!==a)break}for(var c=0,u=0,l=r;l<t;l++){var s=e.charCodeAt(l);s===o?c++:u++}for(var d=0,h=0,l=r;l<n;l++){var a=i.charCodeAt(l);a===o?d++:h++}if(c>0&&u>0)return 0;if(d>0&&h>0)return 0;var p=Math.abs(u-h),f=Math.abs(c-d);return 0===p?f:f%p===0?f/p:0}function n(e,t,n){for(var s=0,a=0,c="",u=0,l=[2,4,6,8],d=8,h=[0,0,0,0,0,0,0,0,0],p=0,f=e.length;p<f;p++){for(var g=e[p],m=!1,v=0,y=0,E=0,S=0,b=g.length;S<b;S++){var _=g.charCodeAt(S);if(_===r)E++;else{if(_!==o){m=!0,v=S;break}y++}}if(m){E>0?s++:y>1&&a++;var C=i(c,u,g,v);C<=d&&h[C]++,c=g,u=v}}var w=i(c,u,"",0);w<=d&&h[w]++;var I=n;s!==a&&(I=s<a);var T=t,A=I?0:.1*e.length;return l.forEach(function(e){var t=h[e];t>A&&(A=t,T=e)}),{insertSpaces:I,tabSize:T}}var o=" ".charCodeAt(0),r="\t".charCodeAt(0);t.guessIndentation=n}),define(l[656],d([1,0,174]),function(e,t,i){"use strict";var n=function(){function e(e,t){this.startIndex=0|e,this.type=t}return e.prototype.equals=function(e){return this.startIndex===e.startIndex&&this.type===e.type},e.findIndexInSegmentsArray=function(e,t){return i.Arrays.findIndexInSegmentsArray(e,t)},e.equalsArray=function(e,t){var i=e.length,n=t.length;if(i!==n)return!1;for(var o=0;o<i;o++)if(!e[o].equals(t[o]))return!1;return!0},e}();t.LineToken=n}),define(l[655],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t){this._model=e,this._currentLineNumber=t.lineNumber,this._currentTokenIndex=0,this._readLineTokens(this._currentLineNumber),this._next=null,this._prev=null;for(var i=t.column-1,n=Number.MAX_VALUE,o=this._currentLineTokens.getTokenCount()-1;o>=0;o--){var r=this._currentLineTokens.getTokenStartIndex(o);if(r<=i&&i<=n){this._currentTokenIndex=o,this._next=this._current(),this._prev=this._current();break}n=r}}return e.prototype._readLineTokens=function(e){this._currentLineTokens=this._model.getLineTokens(e,!1)},e.prototype._advanceNext=function(){if(this._prev=this._next,this._next=null,this._currentTokenIndex+1<this._currentLineTokens.getTokenCount())this._currentTokenIndex++,this._next=this._current();else{for(;this._currentLineNumber+1<=this._model.getLineCount();)if(this._currentLineNumber++,this._readLineTokens(this._currentLineNumber),this._currentLineTokens.getTokenCount()>0){this._currentTokenIndex=0,this._next=this._current();break}null===this._next&&(this._readLineTokens(this._currentLineNumber),this._currentTokenIndex=this._currentLineTokens.getTokenCount(),this._advancePrev(),this._next=null)}},e.prototype._advancePrev=function(){if(this._next=this._prev,this._prev=null,this._currentTokenIndex>0)this._currentTokenIndex--,this._prev=this._current();else for(;this._currentLineNumber>1;)if(this._currentLineNumber--,this._readLineTokens(this._currentLineNumber),this._currentLineTokens.getTokenCount()>0){this._currentTokenIndex=this._currentLineTokens.getTokenCount()-1,this._prev=this._current();break}},e.prototype._current=function(){var e=this._currentLineTokens.getTokenStartIndex(this._currentTokenIndex),t=this._currentLineTokens.getTokenType(this._currentTokenIndex),i=this._currentLineTokens.getTokenEndIndex(this._currentTokenIndex,this._model.getLineContent(this._currentLineNumber).length);return{token:{startIndex:e,type:t},lineNumber:this._currentLineNumber,startColumn:e+1,endColumn:i+1}},e.prototype.hasNext=function(){return null!==this._next},e.prototype.next=function(){var e=this._next;return this._advanceNext(),e},e.prototype.hasPrev=function(){return null!==this._prev},e.prototype.prev=function(){var e=this._prev;return this._advancePrev(),e},e.prototype._invalidate=function(){var e=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=e,this.next=e,this.hasPrev=e,this.prev=e},e}();t.TokenIterator=i}),define(l[162],d([1,0]),function(e,t){"use strict";function i(e){void 0===e&&(e="");for(var i=t.USUAL_WORD_SEPARATORS,n="(-?\\d*\\.\\d\\w*)|([^",o=0;o<i.length;o++)e.indexOf(i[o])>=0||(n+="\\"+i[o]);return n+="\\s]+)",new RegExp(n,"g")}function n(e){var i=t.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp)if(e.global)i=e;else{var n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),i=new RegExp(e.source,n)}return i.lastIndex=0,i}function o(e,t,i,n){var o,r,s,a,c,u,l=i.match(t);if(l)for(o=0;o<l.length;o++)if(u=l[o].trim(),u.length>0&&(r=i.indexOf(u,s),s=r+u.length,a=n+r+1,c=n+s+1,a<=e&&e<=c))return{word:u,startColumn:a,endColumn:c};return null}t.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",t.createWordRegExp=i,t.DEFAULT_WORD_REGEXP=i(),t.ensureValidWordDefinition=n,t.getWordAtText=o}),define(l[173],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t){void 0===t&&(t=null),this.mode=e,this.stateData=t}return e.prototype.getMode=function(){return this.mode},e.prototype.clone=function(){var e=this.makeClone();return e.initializeFrom(this),e},e.prototype.makeClone=function(){throw new Error("Abstract Method")},e.prototype.initializeFrom=function(e){this.stateData=null!==e.stateData?e.stateData.clone():null},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e.prototype.equals=function(t){return null!==t&&this.mode===t.getMode()&&(t instanceof e&&e.safeEquals(this.stateData,t.stateData))},e.prototype.tokenize=function(e){throw new Error("Abstract Method")},e.safeEquals=function(e,t){return null===e&&null===t||null!==e&&null!==t&&e.equals(t)},e.safeClone=function(e){return e?e.clone():null},e}();t.AbstractState=i}),define(l[653],d([1,0,173]),function(e,t,i){"use strict";var n=function(){function e(e,t,i){this._mode=e,this._parentEmbedderState=t,this._ruleStack=i}return e.prototype.clone=function(){var t=i.AbstractState.safeClone(this._parentEmbedderState);return new e(this._mode,t,this._ruleStack)},e.prototype.equals=function(t){if(!(t&&t instanceof e))return!1;var n=t;return!!i.AbstractState.safeEquals(this._parentEmbedderState,n._parentEmbedderState)&&(null===this._ruleStack&&null===n._ruleStack||null!==this._ruleStack&&null!==n._ruleStack&&this._ruleStack.equals(n._ruleStack))},e.prototype.getMode=function(){return this._mode},e.prototype.tokenize=function(e){throw new Error},e.prototype.getStateData=function(){return this._parentEmbedderState},e.prototype.setStateData=function(e){this._parentEmbedderState=e},e.prototype.getRuleStack=function(){return this._ruleStack},e.prototype.setRuleStack=function(e){this._ruleStack=e},e}();t.TMState=n}),define(l[652],d([1,0,124]),function(e,t,i){"use strict";function n(e,t,i){return o(e,t,i)>0}function o(e,t,n){if(Array.isArray(e)){var r=e.map(function(e){return o(e,t,n)});return Math.max.apply(Math,r)}if("string"==typeof e)return e===n?10:"*"===e?5:0;if(e){var s=e,a=0;if(s.language)if(s.language===n)a+=10;else{if("*"!==s.language)return 0;a+=5}if(s.scheme){if(s.scheme!==t.scheme)return 0;a+=10}if(s.pattern)if(s.pattern===t.fsPath)a+=10;else{if(!i.match(s.pattern,t.fsPath))return 0;a+=5}return a}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,t.score=o}),define(l[278],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this._source=e,this.sourceLength=e.length,this._pos=0,this.whitespace="\t  ",this.whitespaceArr=this.stringToArray(this.whitespace),this.separators="",this.separatorsArr=this.stringToArray(this.separators),this.tokenStart=-1,this.tokenEnd=-1}return e.prototype.stringToArray=function(t){return e.STRING_TO_ARRAY_CACHE.hasOwnProperty(t)||(e.STRING_TO_ARRAY_CACHE[t]=this.actualStringToArray(t)),e.STRING_TO_ARRAY_CACHE[t]},e.prototype.actualStringToArray=function(e){for(var t=0,i=0;i<e.length;i++)t=Math.max(t,e.charCodeAt(i));for(var n=[],i=0;i<=t;i++)n[i]=!1;for(var i=0;i<e.length;i++)n[e.charCodeAt(i)]=!0;return n},e.prototype.pos=function(){return this._pos},e.prototype.eos=function(){return this._pos>=this.sourceLength},e.prototype.peek=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this._source[this._pos]},e.prototype.next=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");return this.tokenStart=-1,this.tokenEnd=-1,this._source[this._pos++]},e.prototype.next2=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");this.tokenStart=-1,this.tokenEnd=-1,this._pos++},e.prototype.advance=function(e){if(0===e)return"";var t=this._pos;return this._pos+=e,this.tokenStart=-1,this.tokenEnd=-1,this._source.substring(t,this._pos)},e.prototype._advance2=function(e){return 0===e?e:(this._pos+=e,this.tokenStart=-1,this.tokenEnd=-1,e)},e.prototype.advanceToEOS=function(){var e=this._pos;return this._pos=this.sourceLength,this.resetPeekedToken(),this._source.substring(e,this._pos)},e.prototype.goBack=function(e){this._pos-=e,this.resetPeekedToken()},e.prototype.createPeeker=function(e){var t=this;if(e instanceof RegExp)return function(){var i=e.exec(t._source.substr(t._pos));if(null===i)return 0;if(0!==i.index)throw new Error('Regular expression must begin with the character "^"');return i[0].length};if((e instanceof String||"string"==typeof e)&&e)return function(){for(var i=e.length,n=t._pos+i<=t.sourceLength,o=0;n&&o<i;o++)n=t._source.charCodeAt(t._pos+o)===e.charCodeAt(o);return n?i:0};throw new Error("Condition must be either a regular expression, function or a non-empty string")},e.prototype._advanceIfStringCaseInsensitive=function(e){var t,i=this._pos,n=this._source,o=e.length;if(o<1||i+o>this.sourceLength)return 0;for(t=0;t<o;t++)if(n.charAt(i+t).toLowerCase()!==e.charAt(t).toLowerCase())return 0;return o},e.prototype.advanceIfStringCaseInsensitive=function(e){return this.advance(this._advanceIfStringCaseInsensitive(e))},e.prototype.advanceIfStringCaseInsensitive2=function(e){return this._advance2(this._advanceIfStringCaseInsensitive(e))},e.prototype._advanceIfString=function(e){var t,i=this._pos,n=this._source,o=e.length;if(o<1||i+o>this.sourceLength)return 0;for(t=0;t<o;t++)if(n.charCodeAt(i+t)!==e.charCodeAt(t))return 0;return o},e.prototype.advanceIfString=function(e){return this.advance(this._advanceIfString(e))},e.prototype.advanceIfString2=function(e){return this._advance2(this._advanceIfString(e))},e.prototype._advanceIfCharCode=function(e){return this._pos<this.sourceLength&&this._source.charCodeAt(this._pos)===e?1:0},e.prototype.advanceIfCharCode=function(e){return this.advance(this._advanceIfCharCode(e))},e.prototype.advanceIfCharCode2=function(e){return this._advance2(this._advanceIfCharCode(e))},e.prototype._advanceIfRegExp=function(e){return this._pos>=this.sourceLength?0:e.test(this._source.substr(this._pos))?RegExp.lastMatch.length:0},e.prototype.advanceIfRegExp=function(e){return this.advance(this._advanceIfRegExp(e))},e.prototype.advanceIfRegExp2=function(e){return this._advance2(this._advanceIfRegExp(e))},e.prototype.advanceLoop=function(e,t,i){if(this.eos())return"";var n=this.createPeeker(e),o=this._pos,r=0,s=null;for(s=t?function(e){return e>0}:function(e){return 0===e};!this.eos()&&s(r=n());)r>0?this.advance(r):this.next();return i&&!this.eos()&&this.advance(r),this._source.substring(o,this._pos)},e.prototype.advanceWhile=function(e){return this.advanceLoop(e,!0,!1)},e.prototype.advanceUntil=function(e,t){return this.advanceLoop(e,!1,t)},e.prototype._advanceUntilString=function(e,t){if(this.eos()||0===e.length)return 0;var i=this._pos,n=this._source.indexOf(e,i);return n===-1?this.sourceLength-i:t?n+e.length-i:n-i},e.prototype.advanceUntilString=function(e,t){return this.advance(this._advanceUntilString(e,t))},e.prototype.advanceUntilString2=function(e,t){return this._advance2(this._advanceUntilString(e,t))},e.prototype.resetPeekedToken=function(){this.tokenStart=-1,this.tokenEnd=-1},e.prototype.setTokenRules=function(e,t){this.separators===e&&this.whitespace===t||(this.separators=e,this.separatorsArr=this.stringToArray(this.separators),this.whitespace=t,this.whitespaceArr=this.stringToArray(this.whitespace),this.resetPeekedToken())},e.prototype.peekToken=function(){if(this.tokenStart!==-1)return this._source.substring(this.tokenStart,this.tokenEnd);var e=this._source,t=this.sourceLength,i=this.whitespaceArr,n=this.separatorsArr,o=this._pos;if(o>=t)throw new Error("Stream is at the end");for(;i[e.charCodeAt(o)]&&o<t;)o++;var r=o;if(n[e.charCodeAt(r)]&&r<t)r++;else for(;!n[e.charCodeAt(r)]&&!i[e.charCodeAt(r)]&&r<t;)r++;return this.tokenStart=o,this.tokenEnd=r,e.substring(o,r)},e.prototype.nextToken=function(){if(this._pos>=this.sourceLength)throw new Error("Stream is at the end");var e;return e=this.tokenStart===-1?this.peekToken():this._source.substring(this.tokenStart,this.tokenEnd),this._pos=this.tokenEnd,this.tokenStart=-1,this.tokenEnd=-1,e},e.prototype.peekWhitespace=function(){for(var e=this._source,t=this.sourceLength,i=this.whitespaceArr,n=this._pos;i[e.charCodeAt(n)]&&n<t;)n++;return e.substring(this._pos,n)},e.prototype._skipWhitespace=function(){for(var e=this._source,t=this.sourceLength,i=this.whitespaceArr,n=this._pos,o=this._pos;i[e.charCodeAt(o)]&&o<t;)o++;return o-n},e.prototype.skipWhitespace=function(){return this.advance(this._skipWhitespace())},e.prototype.skipWhitespace2=function(){return this._advance2(this._skipWhitespace())},e.STRING_TO_ARRAY_CACHE={},e}();t.LineStream=i}),define(l[649],d([1,0]),function(e,t){"use strict";function i(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?g.computeLinks(e):[]}var n=[],o=1,r=9,s=10;n[1]={h:2,H:2,f:11,F:11},n[2]={t:3,T:3},n[3]={t:4,T:4},n[4]={p:5,P:5},n[5]={s:6,S:6,":":7},n[6]={":":7},n[7]={"/":8},n[8]={"/":9},n[11]={i:12,I:12},n[12]={l:13,L:13},n[13]={e:6,E:6};var a;!function(e){e[e.None=0]="None",e[e.ForceTermination=1]="ForceTermination",e[e.CannotEndIn=2]="CannotEndIn"}(a||(a={}));var c="(".charCodeAt(0),u=")".charCodeAt(0),l="[".charCodeAt(0),d="]".charCodeAt(0),h="{".charCodeAt(0),p="}".charCodeAt(0),f=function(){function e(){var e=" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…",t=".,;";this._asciiMap=[];for(var i=0;i<256;i++)this._asciiMap[i]=a.None;this._map=[];for(var i=0;i<e.length;i++)this._set(e.charCodeAt(i),a.ForceTermination);for(var i=0;i<t.length;i++)this._set(t.charCodeAt(i),a.CannotEndIn)}return e.prototype._set=function(e,t){e<256&&(this._asciiMap[e]=t),this._map[e]=t},e.prototype.classify=function(e){if(e<256)return this._asciiMap[e];var t=this._map[e];return t?t:a.None},e}(),g=function(){function e(){}return e._createLink=function(e,t,i,n){return{range:{startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:n+1},url:e.substring(i,n)}},e.computeLinks=function(t){var i,f,g,m,v,y,E,S,b,_,C,w,I,T,A,L=[],D=e._characterClassifier;for(i=1,f=t.getLineCount();i<=f;i++){for(g=t.getLineContent(i),m=0,y=g.length,E=0,S=o,I=!1,T=!1,A=!1;m<y;){if(b=g.charAt(m),_=g.charCodeAt(m),w=!1,S===s){switch(_){case c:I=!0,C=a.None;break;case u:C=I?a.None:a.ForceTermination;break;case l:T=!0,C=a.None;break;case d:C=T?a.None:a.ForceTermination;break;case h:A=!0,C=a.None;break;case p:C=A?a.None:a.ForceTermination;break;default:C=D.classify(_)}if(C===a.ForceTermination){v=m-1;do{if(_=g.charCodeAt(v),C=D.classify(_),C!==a.CannotEndIn)break;v--}while(v>E);L.push(e._createLink(g,i,E,v+1)),w=!0}}else S===r?(C=D.classify(_),C===a.ForceTermination?w=!0:S=s):n[S].hasOwnProperty(b)?S=n[S][b]:w=!0;w&&(S=o,I=!1,T=!1,A=!1,E=m+1),m++}S===s&&L.push(e._createLink(g,i,E,y))}return L},e._characterClassifier=new f,e}();t.computeLinks=i}),define(l[227],d([1,0]),function(e,t){"use strict";function i(e){return!e}function n(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function o(e){return e.replace(/[&<>'"_]/g,"-")}function r(e,t){console.log(e.languageId+": "+t)}function s(e,t){throw new Error(e.languageId+": "+t)}function a(e,t,o,r,s){var a=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,c=null;return t.replace(a,function(t,a,u,l,d,h,p,f,g){return i(u)?i(l)?!i(d)&&d<r.length?n(e,r[d]):!i(p)&&e&&"string"==typeof e[p]?e[p]:(null===c&&(c=s.split("."),c.unshift(s)),!i(h)&&h<c.length?n(e,c[h]):""):n(e,o):"$"})}function c(e,t){for(;t&&t.length>0;){var i=e.tokenizer[t];if(i)return i;var n=t.lastIndexOf(".");t=n<0?null:t.substr(0,n)}return null}function u(e,t){for(;t&&t.length>0;){var i=e.stateNames[t];if(i)return!0;var n=t.lastIndexOf(".");t=n<0?null:t.substr(0,n)}return!1}!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.MonarchBracket||(t.MonarchBracket={}));t.MonarchBracket;t.empty=i,t.fixCase=n,t.sanitize=o,t.log=r,t.throwError=s,t.substituteMatches=a,t.findRules=c,t.stateExists=u}),define(l[644],d([1,0,29,227]),function(e,t,i,n){"use strict";function o(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;var i;for(i in t)if(t.hasOwnProperty(i)&&!e(t[i]))return!1;return!0}function r(e,t,i){return"boolean"==typeof e?e:(i&&(e||void 0===t)&&i(),void 0===t?null:t)}function s(e,t,i){return"string"==typeof e?e:(i&&(e||void 0===t)&&i(),void 0===t?null:t)}function a(e,t){if("string"!=typeof t)return null;for(var i=0;t.indexOf("@")>=0&&i<5;)i++,t=t.replace(/@(\w+)/g,function(i,o){var r="";return"string"==typeof e[o]?r=e[o]:e[o]&&e[o]instanceof RegExp?r=e[o].source:void 0===e[o]?n.throwError(e,"language definition does not contain attribute '"+o+"', used at: "+t):n.throwError(e,"attribute reference '"+o+"' must be a string, used at: "+t),n.empty(r)?"":"(?:"+r+")"});return new RegExp(t,e.ignoreCase?"i":"")}function c(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;var o=i.split(".");if(o.unshift(i),n<o.length)return o[n]}return null}function u(e,t,r,s){var u=-1,l=r,d=r.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);d&&(d[3]&&(u=parseInt(d[3]),d[2]&&(u+=100)),l=d[4]);var h="~",p=l;l&&0!==l.length?/^\w*$/.test(p)?h="==":(d=l.match(/^(@|!@|~|!~|==|!=)(.*)$/),d&&(h=d[1],p=d[2])):(h="!=",p="");var f;if("~"!==h&&"!~"!==h||!/^(\w|\|)*$/.test(p))if("@"===h||"!@"===h){var g=e[p];g||n.throwError(e,"the @ match target '"+p+"' is not defined, in rule: "+t),o(function(e){return"string"==typeof e},g)||n.throwError(e,"the @ match target '"+p+"' must be an array of strings, in rule: "+t);var m=i.createKeywordMatcher(g,e.ignoreCase);f=function(e){return"@"===h?m(e):!m(e)}}else if("~"===h||"!~"===h)if(p.indexOf("$")<0){var v=a(e,"^"+p+"$");f=function(e){return"~"===h?v.test(e):!v.test(e)}}else f=function(t,i,o,r){var s=a(e,"^"+n.substituteMatches(e,p,i,o,r)+"$");return s.test(t)};else if(p.indexOf("$")<0){var y=n.fixCase(e,p);f=function(e){return"=="===h?e===y:e!==y}}else{var y=n.fixCase(e,p);f=function(t,i,o,r,s){var a=n.substituteMatches(e,y,i,o,r);return"=="===h?t===a:t!==a}}else{var m=i.createKeywordMatcher(p.split("|"),e.ignoreCase);f=function(e){return"~"===h?m(e):!m(e)}}return u===-1?{name:r,value:s,test:function(e,t,i,n){return f(e,e,t,i,n)}}:{name:r,value:s,test:function(e,t,i,n){var o=c(e,t,i,u);return f(o?o:"",e,t,i,n)}}}function l(e,t,i){if(i){if("string"==typeof i)return i;if(i.token||""===i.token){if("string"!=typeof i.token)return n.throwError(e,"a 'token' attribute must be of type string, in rule: "+t),{token:""};var o={token:i.token};if(i.token.indexOf("$")>=0&&(o.tokenSubst=!0),"string"==typeof i.bracket&&("@open"===i.bracket?o.bracket=n.MonarchBracket.Open:"@close"===i.bracket?o.bracket=n.MonarchBracket.Close:n.throwError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t)),i.next)if("string"!=typeof i.next)n.throwError(e,"the next state must be a string value in rule: "+t);else{var r=i.next;/^(@pop|@push|@popall)$/.test(r)||("@"===r[0]&&(r=r.substr(1)),r.indexOf("$")<0&&(n.stateExists(e,n.substituteMatches(e,r,"",[],""))||n.throwError(e,"the next state '"+i.next+"' is not defined in rule: "+t))),o.next=r}return"number"==typeof i.goBack&&(o.goBack=i.goBack),"string"==typeof i.switchTo&&(o.switchTo=i.switchTo),"string"==typeof i.log&&(o.log=i.log),"string"==typeof i.nextEmbedded&&(o.nextEmbedded=i.nextEmbedded,e.usesEmbedded=!0),o}if(Array.isArray(i)){var s,a=[];for(s in i)i.hasOwnProperty(s)&&(a[s]=l(e,t,i[s]));return{group:a}}if(i.cases){var c,d=[];for(c in i.cases)if(i.cases.hasOwnProperty(c)){var h=l(e,t,i.cases[c]);"@default"===c||"@"===c||""===c?d.push({test:null,value:h,name:c}):"@eos"===c?d.push({test:function(e,t,i,n){return n},value:h,name:c}):d.push(u(e,t,c,h))}var p=e.defaultToken;return{test:function(e,t,i,n){var o;for(o in d)if(d.hasOwnProperty(o)){var r=!d[o].test||d[o].test(e,t,i,n);if(r)return d[o].value}return p}}}return n.throwError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t),""}return{token:""}}function d(e,t){function i(e,c,u){var l;for(l in u)if(u.hasOwnProperty(l)){var d=u[l],p=d.include;if(p)"string"!=typeof p&&n.throwError(o,"an 'include' attribute must be a string at: "+e),"@"===p[0]&&(p=p.substr(1)),t.tokenizer[p]||n.throwError(o,"include target '"+p+"' is not defined at: "+e),i(e+"."+p,c,t.tokenizer[p]);else{var f=new h(e);if(Array.isArray(d)&&d.length>=1&&d.length<=3)if(f.setRegex(a,d[0]),d.length>=3)if("string"==typeof d[1])f.setAction(a,{token:d[1],next:d[2]});else if("object"==typeof d[1]){var g=d[1];g.next=d[2],f.setAction(a,g)}else n.throwError(o,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);else f.setAction(a,d[1]);else d.regex||n.throwError(o,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e),d.name&&(f.name=s(d.name)),d.matchOnlyAtStart&&(f.matchOnlyAtLineStart=r(d.matchOnlyAtLineStart)),f.setRegex(a,d.regex),f.setAction(a,d.action);c.push(f)}}}if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");var o={};o.languageId=e,o.noThrow=!1,o.maxStack=100,o.start=s(t.start),o.ignoreCase=r(t.ignoreCase,!1),o.tokenPostfix=s(t.tokenPostfix,"."+o.languageId),o.defaultToken=s(t.defaultToken,"source",function(){n.throwError(o,"the 'defaultToken' must be a string")}),o.usesEmbedded=!1;var a=t;a.languageId=e,a.ignoreCase=o.ignoreCase,a.noThrow=o.noThrow,a.usesEmbedded=o.usesEmbedded,a.stateNames=t.tokenizer,a.defaultToken=o.defaultToken,t.tokenizer&&"object"==typeof t.tokenizer||n.throwError(o,"a language definition must define the 'tokenizer' attribute as an object"),o.tokenizer=[];var c;for(c in t.tokenizer)if(t.tokenizer.hasOwnProperty(c)){o.start||(o.start=c);var u=t.tokenizer[c];o.tokenizer[c]=new Array,i("tokenizer."+c,o.tokenizer[c],u)}o.usesEmbedded=a.usesEmbedded,t.brackets?Array.isArray(t.brackets)||n.throwError(o,"the 'brackets' attribute must be defined as an array"):t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];var l=[];for(var d in t.brackets)if(t.brackets.hasOwnProperty(d)){var p=t.brackets[d];p&&Array.isArray(p)&&3===p.length&&(p={token:p[2],open:p[0],close:p[1]}),p.open===p.close&&n.throwError(o,"open and close brackets in a 'brackets' attribute must be different: "+p.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required."),"string"==typeof p.open&&"string"==typeof p.token?l.push({token:s(p.token)+o.tokenPostfix,open:n.fixCase(o,s(p.open)),close:n.fixCase(o,s(p.close))}):n.throwError(o,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return o.brackets=l,o.noThrow=!0,o}var h=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var i;"string"==typeof t?i=t:t instanceof RegExp?i=t.source:n.throwError(e,"rules must start with a match string or regular expression: "+this.name),this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=a(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")},e.prototype.setAction=function(e,t){this.action=l(e,this.name,t)},e}();t.compile=d}),define(l[195],d([1,0]),function(e,t){"use strict";function i(e,t,i,n,o){void 0===n&&(n=0);var r=[{startIndex:n,type:""}],s=[{startIndex:n,mode:e}];return{tokens:r,actualStopOffset:n+t.length,endState:i,modeTransitions:s}}var n=function(){function e(e,t){this.mode=e,this.stateData=t}return e.prototype.clone=function(){var t=this.stateData?this.stateData.clone():null;return new e(this.mode,t)},e.prototype.equals=function(e){if(this.mode!==e.getMode())return!1;var t=e.getStateData();return!this.stateData&&!t||!(!this.stateData||!t)&&this.stateData.equals(t)},e.prototype.getMode=function(){return this.mode},e.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e}();t.NullState=n;var o=function(){function e(){}return e.prototype.getId=function(){return e.ID},e.prototype.toSimplifiedMode=function(){return this},e.ID="vs.editor.modes.nullMode",e}();t.NullMode=o,t.nullTokenize=i}),define(l[105],d([1,0,9,29,159]),function(e,t,i,n,o){"use strict";function r(e,t,i){var n=e.modeTransitions;if(1===n.length)return i(n[0].modeId,e,t);var r=o.ModeTransition.findIndexInSegmentsArray(n,t),s=n[r].mode,a=n[r].startIndex,c=e.findIndexOfOffset(a),l=-1,d=-1;r+1<n.length?(d=e.findIndexOfOffset(n[r+1].startIndex),l=e.getTokenStartIndex(d)):(d=e.getTokenCount(),l=e.getLineContent().length);var h=e.getTokenStartIndex(c),p=new u(e,s,c,d,h,l);return i(s.getId(),p,t-h)}function s(e){return l.test(e)}var a=function(){function e(e,t){this.startIndex=e,this.type=t}return e.prototype.toString=function(){return"("+this.startIndex+", "+this.type+")"},e}();t.Token=a;var c=function(){function e(e,t,i,n){this.tokens=e,this.modeTransitions=t,this.actualStopOffset=i,this.endState=n,this.retokenize=null}return e}();t.LineTokens=c,t.handleEvent=r;var u=function(){function e(e,t,i,n,r,s){this.modeTransitions=[new o.ModeTransition(0,t)],this._actual=e,this._firstTokenInModeIndex=i,this._nextTokenAfterMode=n,this._firstTokenCharacterOffset=r,this._nextCharacterAfterModeIndex=s}return e.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this._firstTokenCharacterOffset,this._nextCharacterAfterModeIndex)},e.prototype.getTokenCount=function(){return this._nextTokenAfterMode-this._firstTokenInModeIndex},e.prototype.findIndexOfOffset=function(e){return this._actual.findIndexOfOffset(e+this._firstTokenCharacterOffset)-this._firstTokenInModeIndex},e.prototype.getTokenStartIndex=function(e){return this._actual.getTokenStartIndex(e+this._firstTokenInModeIndex)-this._firstTokenCharacterOffset},e.prototype.getTokenEndIndex=function(e){return this._actual.getTokenEndIndex(e+this._firstTokenInModeIndex)-this._firstTokenCharacterOffset},e.prototype.getTokenType=function(e){return this._actual.getTokenType(e+this._firstTokenInModeIndex)},e.prototype.getTokenText=function(e){return this._actual.getTokenText(e+this._firstTokenInModeIndex)},e}();t.FilteredLineContext=u;var l=/\b(comment|string|regex)\b/;t.ignoreBracketsInToken=s;var d=function(){function e(){}return e.registerDefaultSnippets=function(e,t){this._defaultSnippets[e]=(this._defaultSnippets[e]||[]).concat(t)},e.registerSnippets=function(e,t,i){var n=this._snippets[e];n||(this._snippets[e]=n={}),n[t]=i},e.getNonWhitespacePrefix=function(e,t){var i=e.getLineContent(t.lineNumber),n=i.match(/[^\s]+$/);return n?n[0]:""},e.getSnippets=function(t,o){var r=t.getWordAtPosition(o),s=r?r.word.substring(0,o.column-r.startColumn).toLowerCase():"",a=e.getNonWhitespacePrefix(t,o).toLowerCase(),c={currentWord:s,incomplete:0===s.length,suggestions:[]},u=t.getModeId(),l=[],d=this._snippets[u];if(d)for(var h in d)l=l.concat(d[h]);var p=this._defaultSnippets[u];return p&&(l=l.concat(p)),l.forEach(function(e){if(0===s.length&&0===a.length);else{var t=e.label.toLowerCase();if(s.length>0&&i.startsWith(t,s));else{if(!(a.length>s.length&&i.startsWith(t,a)))return;e=n.clone(e),e.overwriteBefore=a.length}}c.suggestions.push(e)}),c},e._defaultSnippets=Object.create(null),e._snippets=Object.create(null),e}();t.SnippetsRegistry=d}),define(l[643],d([1,0,105]),function(e,t,i){"use strict";var n=function(){function e(e,t,i){this._registry=e,this._modeId=t,this._autoClosingPairs=i.autoClosingPairs,this._autoClosingPairs||(this._autoClosingPairs=i.brackets?i.brackets.map(function(e){return{open:e[0],close:e[1]}}):[]),this._surroundingPairs=i.surroundingPairs||this._autoClosingPairs}return e.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},e.prototype.shouldAutoClosePair=function(e,t,n){var o=this;return i.handleEvent(t,n,function(t,i,n){if(o._modeId===t){if(0===i.getTokenCount())return!0;for(var r=i.findIndexOfOffset(n-1),s=i.getTokenType(r),a=0;a<o._autoClosingPairs.length;++a)if(o._autoClosingPairs[a].open===e){if(o._autoClosingPairs[a].notIn)for(var c=0;c<o._autoClosingPairs[a].notIn.length;++c)if(s.indexOf(o._autoClosingPairs[a].notIn[c])>-1)return!1;break}return!0}var u=o._registry.getCharacterPairSupport(t);return u?u.shouldAutoClosePair(e,i,n):null})},e.prototype.getSurroundingPairs=function(){return this._surroundingPairs},e}();t.CharacterPairSupport=n}),define(l[642],d([1,0]),function(e,t){"use strict";var i=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,i,n,o){if(e&&t){var r=this.doNavigateValueSet(t,o);if(r)return{range:e,value:r}}if(i&&n){var r=this.doNavigateValueSet(n,o);if(r)return{range:i,value:r}}return null},e.prototype.doNavigateValueSet=function(e,t){var i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),o=parseFloat(e);return isNaN(n)||isNaN(o)||n!==o?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,i){for(var n=null,o=0,r=e.length;null===n&&o<r;o++)n=this.valueSetReplace(e[o],t,i);return n},e.prototype.valueSetReplace=function(e,t,i){var n=e.indexOf(t);return n>=0?(n+=i?1:-1,n<0?n=e.length-1:n%=e.length,e[n]):null},e.INSTANCE=new e,e}();t.BasicInplaceReplace=i}),define(l[163],d([1,0,9,14]),function(e,t,i,n){"use strict";function o(e,t){var i={};return function(n){var o=e(n);return i.hasOwnProperty(o)||(i[o]=t(n)),i[o]}}function r(e){var t="("+e.map(i.escapeRegExpCharacters).join(")|(")+")";return i.createRegExp(t,!0,!1,!1,!1)}function s(e){for(var t="",i=e.length-1;i>=0;i--)t+=e.charAt(i);return t}var a=function(){function e(e,t){var i=this;this.brackets=t.map(function(t){return{modeId:e,open:t[0],close:t[1],forwardRegex:c({open:t[0],close:t[1]}),reversedRegex:u({open:t[0],close:t[1]})}}),this.forwardRegex=l(this.brackets),this.reversedRegex=d(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0,this.brackets.forEach(function(e){i.textIsBracket[e.open]=e,i.textIsBracket[e.close]=e,i.textIsOpenBracket[e.open]=!0,i.textIsOpenBracket[e.close]=!1,i.maxBracketLength=Math.max(i.maxBracketLength,e.open.length),i.maxBracketLength=Math.max(i.maxBracketLength,e.close.length);
})}return e}();t.RichEditBrackets=a;var c=o(function(e){return e.open+";"+e.close},function(e){return r([e.open,e.close])}),u=o(function(e){return e.open+";"+e.close},function(e){return r([s(e.open),s(e.close)])}),l=o(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(e.open),t.push(e.close)}),r(t)}),d=o(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];return e.forEach(function(e){t.push(s(e.open)),t.push(s(e.close))}),r(t)}),h=function(){function e(){}return e._findPrevBracketInText=function(e,t,i,o){var r=i.match(e);if(!r)return null;var s=i.length-r.index,a=r[0].length,c=o+s;return new n.Range(t,c-a+1,t,c+1)},e.findPrevBracketInToken=function(e,t,i,n,o){for(var r="",s=o-1;s>=n;s--)r+=i.charAt(s);return this._findPrevBracketInText(e,t,r,n)},e.findNextBracketInText=function(e,t,i,o){var r=i.match(e);if(!r)return null;var s=r.index,a=r[0].length,c=o+s;return new n.Range(t,c+1,t,c+1+a)},e.findNextBracketInToken=function(e,t,i,n,o){var r=i.substring(n,o);return this.findNextBracketInText(e,t,r,n)},e}();t.BracketsUtils=h}),define(l[638],d([1,0,9,105,163]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t,i,n){this._registry=e,this._modeId=t,this.contribution=n||{},this.brackets=new s(t,i,this.contribution.docComment)}return e.prototype.getElectricCharacters=function(){return Array.isArray(this.contribution.embeddedElectricCharacters)?this.contribution.embeddedElectricCharacters.concat(this.brackets.getElectricCharacters()):this.brackets.getElectricCharacters()},e.prototype.onElectricCharacter=function(e,t){var i=this;return n.handleEvent(e,t,function(e,t,n){if(i._modeId===e)return i.brackets.onElectricCharacter(t,n);var o=i._registry.getElectricCharacterSupport(e);return o?o.onElectricCharacter(t,n):null})},e}();t.BracketElectricCharacterSupport=r;var s=function(){function e(e,t,i){void 0===i&&(i=null),this._modeId=e,this._richEditBrackets=t,this._docComment=i?i:null}return e.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,i=this._richEditBrackets.brackets.length;t<i;t++){var n=this._richEditBrackets.brackets[t],o=n.close.charAt(n.close.length-1);e.push(o)}return this._docComment&&e.push(this._docComment.open.charAt(this._docComment.open.length-1)),e=e.filter(function(e,t,i){return i.indexOf(e)===t})},e.prototype.onElectricCharacter=function(e,t){return 0===e.getTokenCount()?null:this._onElectricCharacterDocComment(e,t)||this._onElectricCharacterStandardBrackets(e,t)},e.prototype.containsTokenTypes=function(e,t){for(var i=t.split("."),n=0;n<i.length;++n)if(e.indexOf(i[n])<0)return!1;return!0},e.prototype._onElectricCharacterStandardBrackets=function(e,t){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var r=this._richEditBrackets.reversedRegex,s=e.getLineContent(),a=e.findIndexOfOffset(t),c=e.getTokenStartIndex(a),u=t+1,l=i.firstNonWhitespaceIndex(e.getLineContent());if(l!==-1&&l<c)return null;if(!n.ignoreBracketsInToken(e.getTokenType(a))){var d=o.BracketsUtils.findPrevBracketInToken(r,1,s,c,u);if(d){var h=s.substring(d.startColumn-1,d.endColumn-1),p=this._richEditBrackets.textIsOpenBracket[h];if(!p)return{matchOpenBracket:h}}}return null},e.prototype._onElectricCharacterDocComment=function(e,t){if(!this._docComment||!this._docComment.close)return null;var i=e.getLineContent(),n=i[t];if(n!==this._docComment.open.charAt(this._docComment.open.length-1))return null;if(i.indexOf(this._docComment.close,t)>=0)return null;var o=e.findIndexOfOffset(t);return this.containsTokenTypes(e.getTokenType(o),this._docComment.scope)?i.substring(e.getTokenStartIndex(o),t+1)!==this._docComment.open?null:{appendText:this._docComment.close}:null},e}();t.Brackets=s}),define(l[290],d([1,0,278,195,105]),function(e,t,i,n,o){"use strict";function r(e){return"function"==typeof e}var s=function(){function e(e,t,i){if(this._mode=e,this.customization=t,this.supportsNestedModes=i,this._embeddedModesListeners={},this.supportsNestedModes&&!this._mode.setTokenizationSupport)throw new Error("Cannot be a mode with nested modes unless I can emit a tokenizationSupport changed event!");this.defaults={enterNestedMode:!r(t.enterNestedMode),getNestedMode:!r(t.getNestedMode),getNestedModeInitialState:!r(t.getNestedModeInitialState),getLeavingNestedModeData:!r(t.getLeavingNestedModeData),onReturningFromNestedMode:!r(t.onReturningFromNestedMode)}}return e.prototype.dispose=function(){for(var e in this._embeddedModesListeners)this._embeddedModesListeners[e].dispose(),delete this._embeddedModesListeners[e]},e.prototype.getInitialState=function(){return this.customization.getInitialState()},e.prototype.tokenize=function(e,t,i,n){return void 0===i&&(i=0),void 0===n&&(n=i+e.length),t.getMode()!==this._mode?this._nestedTokenize(e,t,i,n,[],[]):this._myTokenize(e,t,i,n,[],[])},e.prototype._nestedTokenize=function(e,t,i,o,r,s){for(var a=t.getStateData(),c=this.getLeavingNestedModeData(e,a),u=t;u.getStateData()&&u.getStateData().getMode()!==this._mode;)u=u.getStateData();var l=u.getMode();if(!c){var d;return d=l.tokenizationSupport?l.tokenizationSupport.tokenize(e,t,i,o):n.nullTokenize(l,e,t,i),d.tokens=r.concat(d.tokens),d.modeTransitions=s.concat(d.modeTransitions),d}var h=c.nestedModeBuffer;if(h.length>0){var p;p=l.tokenizationSupport?l.tokenizationSupport.tokenize(h,t,i,o):n.nullTokenize(l,h,t,i),t=p.endState,r=r.concat(p.tokens),s=s.concat(p.modeTransitions)}var f=c.bufferAfterNestedMode,g=c.stateAfterNestedMode;return g.setStateData(a.getStateData()),this.onReturningFromNestedMode(g,t),this._myTokenize(f,g,i+h.length,o,r,s)},e.prototype._myTokenize=function(t,n,r,s,a,c){var u,l,d=this,h=new i.LineStream(t),p=null,f=null;n=n.clone(),(c.length<=0||c[c.length-1].mode!==this._mode)&&c.push({startIndex:r,mode:this._mode});for(var g=Math.min(s-r,t.length);h.pos()<g;){l=h.pos();do{if(u=n.tokenize(h),null===u||void 0===u||(void 0===u.type||null===u.type)&&(void 0===u.nextState||null===u.nextState))throw new Error("Tokenizer must return a valid state");if(u.nextState&&(u.nextState.setStateData(n.getStateData()),n=u.nextState),h.pos()<=l)throw new Error("Stream did not advance while tokenizing. Mode id is "+this._mode.getId()+' (stuck at token type: "'+u.type+'", prepend tokens: "'+a.map(function(e){return e.type}).join(",")+'").')}while(!u.type&&""!==u.type);if((p!==u.type||u.dontMergeWithPrev||null===p)&&a.push(new o.Token(l+r,u.type)),p=u.type,this.supportsNestedModes&&this.enterNestedMode(n)){var m=this._getEmbeddedLevel(n);if(m<e.MAX_EMBEDDED_LEVELS){var v=this.getNestedModeInitialState(n),y=v.state.getMode();if("function"==typeof y.addSupportChangedListener&&!this._embeddedModesListeners.hasOwnProperty(y.getId())){var E=!1;this._embeddedModesListeners[y.getId()]=y.addSupportChangedListener(function(e){E||e.tokenizationSupport&&(E=!0,d._mode.setTokenizationSupport(function(e){return e.tokenizationSupport}),E=!1)})}if(!h.eos()){var S=t.substr(h.pos()),b=this._nestedTokenize(S,v.state,r+h.pos(),s,a,c);return b.retokenize=b.retokenize||v.missingModePromise,b}n=v.state,f=v.missingModePromise}}}return{tokens:a,actualStopOffset:h.pos()+r,modeTransitions:c,endState:n,retokenize:f}},e.prototype._getEmbeddedLevel=function(e){for(var t=-1;e;)t++,e=e.getStateData();return t},e.prototype.enterNestedMode=function(e){return!this.defaults.enterNestedMode&&this.customization.enterNestedMode(e)},e.prototype.getNestedMode=function(e){return this.defaults.getNestedMode?null:this.customization.getNestedMode(e)},e._validatedNestedMode=function(e){var t=new n.NullMode,i=null;return e&&e.mode&&(t=e.mode),e&&e.missingModePromise&&(i=e.missingModePromise),{mode:t,missingModePromise:i}},e.prototype.getNestedModeInitialState=function(t){if(this.defaults.getNestedModeInitialState){var i,o=e._validatedNestedMode(this.getNestedMode(t)),r=o.missingModePromise;return i=o.mode.tokenizationSupport?o.mode.tokenizationSupport.getInitialState():new n.NullState(o.mode,null),i.setStateData(t),{state:i,missingModePromise:r}}return this.customization.getNestedModeInitialState(t)},e.prototype.getLeavingNestedModeData=function(e,t){return this.defaults.getLeavingNestedModeData?null:this.customization.getLeavingNestedModeData(e,t)},e.prototype.onReturningFromNestedMode=function(e,t){return this.defaults.onReturningFromNestedMode?null:this.customization.onReturningFromNestedMode(e,t)},e.MAX_EMBEDDED_LEVELS=5,e}();t.TokenizationSupport=s}),define(l[637],d([1,0,173,278,227,290]),function(e,t,i,n,o,r){"use strict";function s(e,t){if(!t)return null;t=o.fixCase(e,t);for(var i=e.brackets,n=0;n<i.length;n++){var r=i[n];if(r.open===t)return{token:r.token,bracketType:o.MonarchBracket.Open};if(r.close===t)return{token:r.token,bracketType:o.MonarchBracket.Close}}return null}function a(e,t,i){return new r.TokenizationSupport(t,{getInitialState:function(){return new c(t,e,i)},enterNestedMode:function(e){return e instanceof c&&e.embeddedEntered},getNestedMode:function(t){var i=t.embeddedMode;if(!e.isRegisteredMode(i))return{mode:e.getMode("text/plain"),missingModePromise:null};var n=e.getMode(i);return n?{mode:n,missingModePromise:null}:{mode:e.getMode("text/plain"),missingModePromise:e.getOrCreateMode(i).then(function(){return null})}},getLeavingNestedModeData:function(e,t){for(var i=t.clone(),o=new n.LineStream(e);!o.eos()&&i.embeddedMode;)i.tokenize(o,!0);if(i.embeddedMode)return null;var r=o.pos();return{nestedModeBuffer:e.substring(0,r),bufferAfterNestedMode:e.substring(r),stateAfterNestedMode:i}}},i.usesEmbedded)}var c=function(e){function t(i,n,o,r,s){e.call(this,i),this.id=t.ID++,this.modeService=n,this.lexer=o,this.stack=r?r:[o.start],this.embeddedMode=s?s:null,this.embeddedEntered=!1,this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null}return h(t,e),t.prototype.makeClone=function(){return new t(this.getMode(),this.modeService,this.lexer,this.stack.slice(0),this.embeddedMode)},t.prototype.equals=function(i){if(!e.prototype.equals.call(this,i))return!1;if(!(i instanceof t))return!1;var n=i;if(this.stack.length!==n.stack.length||this.lexer.languageId!==n.lexer.languageId||this.embeddedMode!==n.embeddedMode)return!1;var o;for(o in this.stack)if(this.stack.hasOwnProperty(o)&&this.stack[o]!==n.stack[o])return!1;return!0},t.prototype.tokenize=function(e,t){var i=this.stack.length,n=0,r=this.stack[0];this.embeddedEntered=!1;var a=null,c=null,u=null,l=null,d=null;if(this.groupActions)n=this.groupActions.length,a=this.groupMatches,c=this.groupMatched.shift(),u=this.groupActions.shift(),d=this.groupRule,0===this.groupActions.length&&(this.groupActions=null,this.groupMatches=null,this.groupMatched=null,this.groupRule=null);else{if(e.eos())return{type:""};var h=e.advanceToEOS();e.goBack(h.length);var p=this.lexer.tokenizer[r];if(p||(p=o.findRules(this.lexer,r)),p){d=null;var f,g=e.pos();for(f in p)if(p.hasOwnProperty(f)&&(d=p[f],(0===g||!d.matchOnlyAtLineStart)&&(a=h.match(d.regex)))){c=a[0],u=d.action;break}}else o.throwError(this.lexer,"tokenizer state is not defined: "+r)}for(a||(a=[""],c=""),u||(e.eos()||(a=[e.peek()],c=a[0]),u=this.lexer.defaultToken),e.advance(c.length);u.test;){var m=u.test(c,a,r,e.eos());u=m}var v=null;if("string"==typeof u||Array.isArray(u))v=u;else if(u.group)v=u.group;else if(null!==u.token&&void 0!==u.token){if(v=u.token,u.tokenSubst&&(v=o.substituteMatches(this.lexer,v,c,a,r)),u.nextEmbedded)if("@pop"===u.nextEmbedded)this.embeddedMode||o.throwError(this.lexer,"cannot pop embedded mode if not inside one"),this.embeddedMode=null;else if(this.embeddedMode)o.throwError(this.lexer,"cannot enter embedded mode from within an embedded mode");else{this.embeddedMode=o.substituteMatches(this.lexer,u.nextEmbedded,c,a,r);var y=this.modeService.getModeIdForLanguageName(this.embeddedMode);this.embeddedMode&&y&&(this.embeddedMode=y),this.embeddedEntered=!0}if(u.goBack&&e.goBack(u.goBack),u.switchTo&&"string"==typeof u.switchTo){var E=o.substituteMatches(this.lexer,u.switchTo,c,a,r);"@"===E[0]&&(E=E.substr(1)),o.findRules(this.lexer,E)?this.stack[0]=E:o.throwError(this.lexer,"trying to switch to a state '"+E+"' that is undefined in rule: "+d.name),l=null}else if(u.transform&&"function"==typeof u.transform)this.stack=u.transform(this.stack),l=null;else if(u.next)if("@push"===u.next)this.stack.length>=this.lexer.maxStack?o.throwError(this.lexer,"maximum tokenizer stack size reached: ["+this.stack[0]+","+this.stack[1]+",...,"+this.stack[this.stack.length-2]+","+this.stack[this.stack.length-1]+"]"):this.stack.unshift(r);else if("@pop"===u.next)this.stack.length<=1?o.throwError(this.lexer,"trying to pop an empty stack in rule: "+d.name):this.stack.shift();else if("@popall"===u.next)this.stack.length>1&&(this.stack=[this.stack[this.stack.length-1]]);else{var E=o.substituteMatches(this.lexer,u.next,c,a,r);"@"===E[0]&&(E=E.substr(1)),o.findRules(this.lexer,E)?this.stack.unshift(E):o.throwError(this.lexer,"trying to set a next state '"+E+"' that is undefined in rule: "+d.name)}u.log&&"string"==typeof u.log&&o.log(this.lexer,this.lexer.languageId+": "+o.substituteMatches(this.lexer,u.log,c,a,r))}if(null===v&&(o.throwError(this.lexer,"lexer rule has no well-defined action in rule: "+d.name),v=this.lexer.defaultToken),Array.isArray(v)){this.groupActions&&this.groupActions.length>0&&o.throwError(this.lexer,"groups cannot be nested: "+d.name),a.length!==v.length+1&&o.throwError(this.lexer,"matched number of groups does not match the number of actions in rule: "+d.name);for(var S=0,b=1;b<a.length;b++)S+=a[b].length;return S!==c.length&&o.throwError(this.lexer,"with groups, all characters should be matched in consecutive groups in rule: "+d.name),this.groupMatches=a,this.groupMatched=a.slice(1),this.groupActions=v.slice(0),this.groupRule=d,e.goBack(c.length),this.tokenize(e)}if("@rematch"===v&&(e.goBack(c.length),c="",a=null,v=""),0===c.length)if(i!==this.stack.length||r!==this.stack[0]||(this.groupActions?this.groupActions.length:0)!==n){if(!t)return this.tokenize(e)}else o.throwError(this.lexer,"no progress in tokenizer in rule: "+d.name),e.advanceToEOS();if(0===v.indexOf("@brackets")){var _=v.substr("@brackets".length),C=s(this.lexer,c);return C||(o.throwError(this.lexer,"@brackets token returned but no bracket defined as: "+c),C={token:"",bracketType:o.MonarchBracket.None}),{type:o.sanitize(C.token+_)}}var w=""===v?"":v+this.lexer.tokenPostfix;return{type:o.sanitize(w)}},t.ID=0,t}(i.AbstractState);t.MonarchLexer=c,t.createTokenizationSupport=a}),define(l[636],d([1,0,9,195]),function(e,t,i,n){"use strict";function o(e,t){return a(e,s(t))}function r(e,t,i){return c(e,s(t),i)}function s(e){return e&&e.tokenizationSupport?e.tokenizationSupport:{getInitialState:function(){return new n.NullState(null,null)},tokenize:function(e,t,i,o){return void 0===i&&(i=0),n.nullTokenize(null,e,t,i,o)}}}function a(e,t){var i={tagName:"div",style:"white-space: pre-wrap",children:[]},n=function(e,t){i.children.push({tagName:"span",className:e,text:t})},o=function(){i.children.push({tagName:"br"})};return u(e,t,n,o),i}function c(e,t,n){void 0===n&&(n=""),n&&n.length>0&&(n=" "+n);var o="",r=function(e,t){o+='<span class="'+e+n+'">'+i.escape(t)+"</span>"},s=function(){o+="<br/>"};return o='<div style="white-space: pre-wrap;">',u(e,t,r,s),o+="</div>"}function u(e,t,i,n){for(var o=e.split(/\r\n|\r|\n/),r=t.getInitialState(),s=0;s<o.length;s++)r=l(o[s],t,i,r),s<o.length-1&&n()}function l(e,t,i,n){for(var o,r=t.tokenize(e,n),s=r.endState,a=r.tokens,c=0,u=0;u<a.length;u++){var l=a[u];u<a.length-1?(o=e.substring(c,a[u+1].startIndex),c=a[u+1].startIndex):o=e.substr(c);var d="token",h=l.type.replace(/[^a-z0-9\-]/gi," ");h.length>0&&(d+=" "+h),i(d,o)}return s}t.tokenizeToHtmlContent=o,t.tokenizeToString=r}),define(l[635],d([1,0,11]),function(e,t,i){"use strict";var n=function(){function e(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._maximumHeight=0,this._minimumHeight=0,this._useDarkColor=!1,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return e.prototype.getId2Color=function(){return this._id2Color},e.prototype.setZones=function(e){e.sort(function(e,t){return e.compareTo(t)});for(var t=this._zones,i=0,n=this._zones.length,o=0,r=e.length,s=[];o<r;){var a=e[o];if(i>=n)s.push(a),o++;else{var c=t[i],u=c.compareTo(a);u<0?i++:u>0?(s.push(a),o++):(s.push(c),i++,o++)}}this._zones=s},e.prototype.setLineHeight=function(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},e.prototype.getDOMWidth=function(){return this._domWidth},e.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},e.prototype.setDOMWidth=function(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)},e.prototype.getDOMHeight=function(){return this._domHeight},e.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},e.prototype.setDOMHeight=function(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.getOuterHeight=function(){return this._outerHeight},e.prototype.setOuterHeight=function(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setMaximumHeight=function(e){return this._maximumHeight!==e&&(this._maximumHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setMinimumHeight=function(e){return this._minimumHeight!==e&&(this._minimumHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setUseDarkColor=function(e){return this._useDarkColor!==e&&(this._useDarkColor=e,this._colorZonesInvalid=!0,!0)},e.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=Math.floor(this._maximumHeight*this._pixelRatio),o=Math.floor(this._minimumHeight*this._pixelRatio),r=this._useDarkColor,s=Math.floor(this._outerHeight),a=i/s,c=[],u=0,l=this._zones.length;u<l;u++){var d=this._zones[u];if(!e){var h=d.getColorZones();if(h){for(var p=0,f=h.length;p<f;p++)c.push(h[p]);continue}}var g=[];if(d.forceHeight){var m=Math.floor(d.forceHeight*this._pixelRatio),v=Math.floor(this._getVerticalOffsetForLine(d.startLineNumber));v=Math.floor(v*a);var y=v+m;g.push(this.createZone(i,v,y,m,m,d.getColor(r),d.position))}else{var v=Math.floor(this._getVerticalOffsetForLine(d.startLineNumber)),y=Math.floor(this._getVerticalOffsetForLine(d.endLineNumber))+t;v=Math.floor(v*a),y=Math.floor(y*a);var E=d.endLineNumber-d.startLineNumber+1,S=E*n;if(y-v>S)for(var b=d.startLineNumber;b<=d.endLineNumber;b++)v=Math.floor(this._getVerticalOffsetForLine(b)),y=v+t,v=Math.floor(v*a),y=Math.floor(y*a),g.push(this.createZone(i,v,y,o,n,d.getColor(r),d.position));else g.push(this.createZone(i,v,y,o,S,d.getColor(r),d.position))}d.setColorZones(g);for(var p=0,f=g.length;p<f;p++)c.push(g[p])}this._colorZonesInvalid=!1;var _=function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId};return c.sort(_),c},e.prototype.createZone=function(e,t,n,o,r,s,a){e=Math.floor(e),t=Math.floor(t),n=Math.floor(n),o=Math.floor(o),r=Math.floor(r);var c=Math.floor((t+n)/2),u=n-c;u>r/2&&(u=r/2),u<o/2&&(u=o/2),c-u<0&&(c=u),c+u>e&&(c=e-u);var l=this._color2Id[s];return l||(l=++this._lastAssignedId,this._color2Id[s]=l,this._id2Color[l]=s),new i.ColorZone(c-u,c+u,l,a)},e}();t.OverviewZoneManager=n}),define(l[193],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t){this.lineNumber=e,this.ranges=t}return e}();t.LineVisibleRanges=i;var n=function(){function e(e,t,i){this.top=0|e,this.left=0|t,this.width=0|i}return e}();t.VisibleRange=n;var o=function(){function e(e,t){this.left=0|e,this.width=0|t}return e}();t.HorizontalRange=o}),define(l[633],d([1,0,193]),function(e,t,i){"use strict";var n=function(){function e(){}return e._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},e._detachRange=function(e,t){e.selectNodeContents(t)},e._readClientRects=function(e,t,i,n,o){var r=this._createRange();try{return r.setStart(e,t),r.setEnd(i,n),r.getClientRects()}catch(s){return null}finally{this._detachRange(r,o)}},e._createHorizontalRangesFromClientRects=function(e,t,n){if(!e||0===e.length)return null;for(var o=[],r=Math.max(0,e[0].left*n-t),s=e[0].width*n,a=1,c=e.length;a<c;a++){var u=Math.max(0,e[a].left*n-t),l=e[a].width*n;u<r&&console.error("Unexpected: RangeUtil._createHorizontalRangesFromClientRects: client rects are not sorted"),r+s+.9>=u?s=Math.max(s,u+l-r):(o.push(new i.HorizontalRange(r,s)),r=u,s=l)}return o.push(new i.HorizontalRange(r,s)),o},e.readHorizontalRanges=function(e,t,i,n,o,r,s,a){var c=0,u=e.children.length-1;if(c>u)return null;t=Math.min(u,Math.max(c,t)),n=Math.min(u,Math.max(c,n)),t!==n&&n>0&&0===o&&(n--,o=Number.MAX_VALUE);var l=e.children[t].firstChild,d=e.children[n].firstChild;if(!l||!d)return null;i=Math.min(l.textContent.length,Math.max(0,i)),o=Math.min(d.textContent.length,Math.max(0,o));var h=this._readClientRects(l,i,d,o,a);return this._createHorizontalRangesFromClientRects(h,r,s)},e}();t.RangeUtil=n}),define(l[632],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t,i,n,o){this.configuration=e,this.model=t,this.privateViewEventBus=i,this.addEventHandler=n,this.removeEventHandler=o}return e}();t.ViewContext=i}),define(l[631],d([1,0,11]),function(e,t,i){"use strict";var n=function(){function e(){}return e.compute=function(e){var t=0|e.outerWidth,n=0|e.outerHeight,o=Boolean(e.showGlyphMargin),r=0|e.lineHeight,s=Boolean(e.showLineNumbers),a=0|e.lineNumbersMinChars,c=0|e.lineDecorationsWidth,u=Number(e.maxDigitWidth),l=0|e.lineCount,d=0|e.verticalScrollbarWidth,h=Boolean(e.verticalScrollbarHasArrows),p=0|e.scrollbarArrowSize,f=0|e.horizontalScrollbarHeight,g=0;if(s){var m=Math.max(this.digitCount(l),a);g=Math.round(m*u)}var v=0;o&&(v=r);var y=t-v-g-c,E=0,S=E+v,b=S+g,_=b+c,C=h?p:0;return new i.EditorLayoutInfo({width:t,height:n,glyphMarginLeft:E,glyphMarginWidth:v,glyphMarginHeight:n,lineNumbersLeft:S,lineNumbersWidth:g,lineNumbersHeight:n,decorationsLeft:b,decorationsWidth:c,decorationsHeight:n,contentLeft:_,contentWidth:y,contentHeight:n,verticalScrollbarWidth:d,horizontalScrollbarHeight:f,overviewRuler:new i.OverviewRulerPosition({top:C,width:d,height:n-2*C,right:0})})},e.digitCount=function(e){for(var t=0;e;)e=Math.floor(e/10),t++;return t?t:1},e}();t.EditorLayoutProvider=n}),define(l[190],d([1,0]),function(e,t){"use strict";function i(e){var t=e.lineContent,i=t.length,n=e.tabSize,o=e.spaceWidth,r=e.parts,a=e.renderWhitespace,u=e.renderControlCharacters,l=e.stopRenderingLineAfter===-1?i:e.stopRenderingLineAfter-1;if(0===i)return new c([],0,"<span><span>&nbsp;</span></span>");if(0===r.length)throw new Error("Cannot render non empty line without line parts!");return s(t,i,n,o,r.slice(0),a,u,l)}function n(e){return e.indexOf("whitespace")>=0}function o(e){return e<32}function r(e){return String.fromCharCode(g+e)}function s(e,t,i,s,a,g,y,E){t=+t,i=+i,E=+E;var S=0,b="",_=[],C=0,w=0;b+="<span>";for(var I=0,T=a.length;I<T;I++){var A=a[I],L=g&&n(A.type),D=t;if(I+1<T){var k=a[I+1];D=Math.min(t,k.startIndex)}if(C=0,L){for(var x=0,M="";S<D;S++){_[S]=C;var R=e.charCodeAt(S);if(R===l){var O=i-(S+w)%i;for(w+=O-1,C+=O-1,O>0&&(M+="&rarr;",x++,O--);O>0;)M+="&nbsp;",x++,O--}else M+="&middot;",x++;if(C++,S>=E)return b+='<span class="token '+A.type+'" style="width:'+s*x+'px">',b+=M,b+="&hellip;</span></span>",_[S]=C,new c(_,I,b)}b+='<span class="token '+A.type+'" style="width:'+s*x+'px">',b+=M,b+="</span>"}else{for(b+='<span class="token ',b+=A.type,b+='">';S<D;S++){_[S]=C;var R=e.charCodeAt(S);switch(R){case l:var O=i-(S+w)%i;for(w+=O-1,C+=O-1;O>0;)b+="&nbsp;",O--;break;case u:b+="&nbsp;";break;case d:b+="&lt;";break;case h:b+="&gt;";break;case p:b+="&amp;";break;case 0:b+="&#00;";break;case v:case m:b+="�";break;case f:b+="&#8203";break;default:var P=e.charCodeAt(S);b+=y&&o(P)?r(P):e.charAt(S)}if(C++,S>=E)return b+="&hellip;</span></span>",_[S]=C,new c(_,I,b)}b+="</span>"}}return b+="</span>",_.push(C),new c(_,a.length-1,b)}var a=function(){function e(e,t,i,n,o,r,s){this.lineContent=e,this.tabSize=t,this.spaceWidth=i,this.stopRenderingLineAfter=n,this.renderWhitespace=o,this.renderControlCharacters=r,this.parts=s}return e}();t.RenderLineInput=a;var c=function(){function e(e,t,i){this.charOffsetInPart=e,this.lastRenderedPartIndex=t,this.output=i}return e}();t.RenderLineOutput=c;var u=" ".charCodeAt(0),l="\t".charCodeAt(0),d="<".charCodeAt(0),h=">".charCodeAt(0),p="&".charCodeAt(0),f="\r".charCodeAt(0),g=9216,m="\u2028".charCodeAt(0),v=65279;t.renderLine=i}),define(l[630],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t,i){this.viewportTop=0|e.viewportTop,this.viewportHeight=0|e.viewportHeight,this.bigNumbersDelta=0|e.bigNumbersDelta,this.visibleRangesDeltaTop=0|e.visibleRangesDeltaTop,this.startLineNumber=0|e.startLineNumber,this.endLineNumber=0|e.endLineNumber,this.relativeVerticalOffset=e.relativeVerticalOffset,this.visibleRange=t,this._decorations=i.decorations,this._inlineDecorations=i.inlineDecorations}return e.prototype.getDecorationsInViewport=function(){return this._decorations},e.prototype.getInlineDecorationsForLineInViewport=function(e){return e=0|e,this._inlineDecorations[e-this.startLineNumber]},e}();t.ViewLinesViewportData=i}),define(l[629],d([1,0]),function(e,t){"use strict";var i=function(){function e(){this.heights=[],this.ids=[],this.afterLineNumbers=[],this.ordinals=[],this.prefixSum=[],this.prefixSumValidIndex=-1,this.whitespaceId2Index={},this.lastWhitespaceId=0}return e.findInsertionIndex=function(e,t,i,n){for(var o,r=0,s=e.length;r<s;)o=Math.floor((r+s)/2),t===e[o]?n<i[o]?s=o:r=o+1:t<e[o]?s=o:r=o+1;return r},e.prototype.insertWhitespace=function(t,i,n){t=0|t,i=0|i,n=0|n;var o=++this.lastWhitespaceId,r=e.findInsertionIndex(this.afterLineNumbers,t,this.ordinals,i);return this.insertWhitespaceAtIndex(o,r,t,i,n),o},e.prototype.insertWhitespaceAtIndex=function(e,t,i,n,o){e=0|e,t=0|t,i=0|i,n=0|n,o=0|o,this.heights.splice(t,0,o),this.ids.splice(t,0,e),this.afterLineNumbers.splice(t,0,i),this.ordinals.splice(t,0,n),this.prefixSum.splice(t,0,0);for(var r=Object.keys(this.whitespaceId2Index),s=0,a=r.length;s<a;s++){var c=r[s],u=this.whitespaceId2Index[c];u>=t&&(this.whitespaceId2Index[c]=u+1)}this.whitespaceId2Index[e.toString()]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,t-1)},e.prototype.changeWhitespace=function(e,t,i){e=0|e,t=0|t,i=0|i;var n=!1;return n=this.changeWhitespaceHeight(e,i)||n,n=this.changeWhitespaceAfterLineNumber(e,t)||n},e.prototype.changeWhitespaceHeight=function(e,t){e=0|e,t=0|t;var i=e.toString();if(this.whitespaceId2Index.hasOwnProperty(i)){var n=this.whitespaceId2Index[i];if(this.heights[n]!==t)return this.heights[n]=t,this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,n-1),!0}return!1},e.prototype.changeWhitespaceAfterLineNumber=function(t,i){t=0|t,i=0|i;var n=t.toString();if(this.whitespaceId2Index.hasOwnProperty(n)){var o=this.whitespaceId2Index[n];if(this.afterLineNumbers[o]!==i){var r=this.ordinals[o],s=this.heights[o];this.removeWhitespace(t);var a=e.findInsertionIndex(this.afterLineNumbers,i,this.ordinals,r);return this.insertWhitespaceAtIndex(t,a,i,r,s),!0}}return!1},e.prototype.removeWhitespace=function(e){e=0|e;var t=e.toString();if(this.whitespaceId2Index.hasOwnProperty(t)){var i=this.whitespaceId2Index[t];return delete this.whitespaceId2Index[t],this.removeWhitespaceAtIndex(i),!0}return!1},e.prototype.removeWhitespaceAtIndex=function(e){e=0|e,this.heights.splice(e,1),this.ids.splice(e,1),this.afterLineNumbers.splice(e,1),this.ordinals.splice(e,1),this.prefixSum.splice(e,1),this.prefixSumValidIndex=Math.min(this.prefixSumValidIndex,e-1);for(var t=Object.keys(this.whitespaceId2Index),i=0,n=t.length;i<n;i++){var o=t[i],r=this.whitespaceId2Index[o];r>=e&&(this.whitespaceId2Index[o]=r-1)}},e.prototype.onModelLinesDeleted=function(e,t){e=0|e,t=0|t;var i,n,o;for(n=0,o=this.afterLineNumbers.length;n<o;n++)i=this.afterLineNumbers[n],e<=i&&i<=t?this.afterLineNumbers[n]=e-1:i>t&&(this.afterLineNumbers[n]-=t-e+1)},e.prototype.onModelLinesInserted=function(e,t){e=0|e,t=0|t;var i,n,o;for(n=0,o=this.afterLineNumbers.length;n<o;n++)i=this.afterLineNumbers[n],e<=i&&(this.afterLineNumbers[n]+=t-e+1)},e.prototype.getTotalHeight=function(){return 0===this.heights.length?0:this.getAccumulatedHeight(this.heights.length-1)},e.prototype.getAccumulatedHeight=function(e){e=0|e;var t=Math.max(0,this.prefixSumValidIndex+1);0===t&&(this.prefixSum[0]=this.heights[0],t++);for(var i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.heights[i];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e=0|e;var t=this.findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getAccumulatedHeight(t)},e.prototype.findLastWhitespaceBeforeLineNumber=function(e){e=0|e;for(var t=this.afterLineNumbers,i=0,n=t.length-1;i<=n;){var o=n-i|0,r=o/2|0,s=i+r|0;if(t[s]<e){if(s+1>=t.length||t[s+1]>=e)return s;i=s+1|0}else n=s-1|0}return-1},e.prototype.findFirstWhitespaceAfterLineNumber=function(e){e=0|e;var t=this.findLastWhitespaceBeforeLineNumber(e),i=t+1;return i<this.heights.length?i:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return e=0|e,this.findFirstWhitespaceAfterLineNumber(e)},e.prototype.getCount=function(){return this.heights.length},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return e=0|e,this.afterLineNumbers[e]},e.prototype.getIdForWhitespaceIndex=function(e){return e=0|e,this.ids[e]},e.prototype.getHeightForWhitespaceIndex=function(e){return e=0|e,this.heights[e]},e.prototype.getWhitespaces=function(e){e=0|e;for(var t=[],i=0;i<this.heights.length;i++)t.push({id:this.ids[i],afterLineNumber:this.afterLineNumbers[i],heightInLines:this.heights[i]/e});return t},e}();t.WhitespaceComputer=i}),define(l[628],d([1,0,629]),function(e,t,i){"use strict";var n=function(){function e(){this.linesCount=0,this.whitespaces=new i.WhitespaceComputer}return e.prototype.replaceLines=function(e){this.linesCount=e},e.prototype.insertWhitespace=function(e,t,i){return this.whitespaces.insertWhitespace(e,t,i)},e.prototype.changeWhitespace=function(e,t,i){return this.whitespaces.changeWhitespace(e,t,i)},e.prototype.removeWhitespace=function(e){return this.whitespaces.removeWhitespace(e)},e.prototype.onModelLinesDeleted=function(e,t){this.linesCount-=t-e+1,this.whitespaces.onModelLinesDeleted(e,t)},e.prototype.onModelLinesInserted=function(e,t){this.linesCount+=t-e+1,this.whitespaces.onModelLinesInserted(e,t)},e.prototype.getTotalHeight=function(e){e=0|e;var t=e*this.linesCount,i=this.whitespaces.getTotalHeight();return t+i},e.prototype.getVerticalOffsetForLineNumber=function(e,t){e=0|e,t=0|t;var i;i=e>1?t*(e-1):0;var n=this.whitespaces.getAccumulatedHeightBeforeLineNumber(e);return i+n},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.whitespaces.getAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.whitespaces.getCount()>0},e.prototype.isAfterLines=function(e,t){var i=this.getTotalHeight(t);return e>i},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e,t){if(e=0|e,t=0|t,e<0)return 1;for(var i=1,n=0|this.linesCount,o=n;i<o;){var r=(i+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(r,t);if(e>=s+t)i=r+1;else{if(e>=s)return r;o=r}}return i>n?n:i},e.prototype.getCenteredLineInViewport=function(e,t,i){e=0|e,t=0|t,i=0|i;for(var n,o,r=this.getLinesViewportData(e,t,i),s=(t-e)/2,a=r.startLineNumber;a<=r.endLineNumber;a++)if(n=r.visibleRangesDeltaTop+r.relativeVerticalOffset[a-r.startLineNumber],o=n+i,n<=s&&s<o||n>s)return a;
return r.endLineNumber},e.prototype.getLinesViewportData=function(e,t,i){e=0|e,t=0|t,i=0|i;var n,o,r=0|this.getLineNumberAtOrAfterVerticalOffset(e,i),s=0|this.linesCount,a=0|this.getVerticalOffsetForLineNumber(r,i),c=0|this.whitespaces.getFirstWhitespaceIndexAfterLineNumber(r),u=0|this.whitespaces.getCount();c===-1?(c=u,o=s+1,n=0):(o=0|this.whitespaces.getAfterLineNumberForWhitespaceIndex(c),n=0|this.whitespaces.getHeightForWhitespaceIndex(c));var l=a,d=l,h=5e5,p=0;a>=h&&(p=Math.floor(a/h)*h,p=Math.floor(p/i)*i,d-=p);for(var f=[],g=r;g<=s;g++){for(l+=i,f.push(d),d+=i;o===g;)d+=n,l+=n,c++,c>=u?o=s+1:(o=0|this.whitespaces.getAfterLineNumberForWhitespaceIndex(c),n=0|this.whitespaces.getHeightForWhitespaceIndex(c));if(l>t){s=g;break}}return{viewportTop:e-p,viewportHeight:t-e,bigNumbersDelta:p,startLineNumber:r,endLineNumber:s,visibleRangesDeltaTop:-(e-p),relativeVerticalOffset:f}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e,t){e=0|e,t=0|t;var i,n=this.whitespaces.getAfterLineNumberForWhitespaceIndex(e);i=n>=1?t*n:0;var o;return o=e>0?this.whitespaces.getAccumulatedHeight(e-1):0,i+o},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e,t){e=0|e,t=0|t;var i,n,o,r=0,s=this.whitespaces.getCount()-1;if(s<0)return-1;var a=this.getVerticalOffsetForWhitespaceIndex(s,t),c=this.whitespaces.getHeightForWhitespaceIndex(s);if(e>=a+c)return-1;for(;r<s;)if(i=Math.floor((r+s)/2),n=this.getVerticalOffsetForWhitespaceIndex(i,t),o=this.whitespaces.getHeightForWhitespaceIndex(i),e>=n+o)r=i+1;else{if(e>=n)return i;s=i}return r},e.prototype.getWhitespaceAtVerticalOffset=function(e,t){e=0|e,t=0|t;var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,t);if(i<0)return null;if(i>=this.whitespaces.getCount())return null;var n=this.getVerticalOffsetForWhitespaceIndex(i,t);if(n>e)return null;var o=this.whitespaces.getHeightForWhitespaceIndex(i),r=this.whitespaces.getIdForWhitespaceIndex(i),s=this.whitespaces.getAfterLineNumberForWhitespaceIndex(i);return{id:r,afterLineNumber:s,verticalOffset:n,height:o}},e.prototype.getWhitespaceViewportData=function(e,t,i){e=0|e,t=0|t,i=0|i;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e,i),o=this.whitespaces.getCount()-1;if(n<0)return[];var r,s,a,c=[];for(r=n;r<=o&&(s=this.getVerticalOffsetForWhitespaceIndex(r,i),a=this.whitespaces.getHeightForWhitespaceIndex(r),!(s>=t));r++)c.push({id:this.whitespaces.getIdForWhitespaceIndex(r),afterLineNumber:this.whitespaces.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:s,height:a});return c},e.prototype.getWhitespaces=function(e){return this.whitespaces.getWhitespaces(e)},e}();t.VerticalObjects=n}),define(l[626],d([1,0,628,14,630]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t){this.configuration=e,this._lineHeight=this.configuration.editor.lineHeight,this._scrollBeyondLastLine=this.configuration.editor.viewInfo.scrollBeyondLastLine,this.model=t,this.verticalObjects=new i.VerticalObjects,this.verticalObjects.replaceLines(t.getLineCount())}return e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this.configuration.editor.lineHeight),e.viewInfo.scrollBeyondLastLine&&(this._scrollBeyondLastLine=this.configuration.editor.viewInfo.scrollBeyondLastLine)},e.prototype.insertWhitespace=function(e,t,i){return this.verticalObjects.insertWhitespace(e,t,i)},e.prototype.changeWhitespace=function(e,t,i){return this.verticalObjects.changeWhitespace(e,t,i)},e.prototype.removeWhitespace=function(e){return this.verticalObjects.removeWhitespace(e)},e.prototype.onModelFlushed=function(){this.verticalObjects.replaceLines(this.model.getLineCount())},e.prototype.onModelLinesDeleted=function(e){this.verticalObjects.onModelLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onModelLinesInserted=function(e){this.verticalObjects.onModelLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this.verticalObjects.getVerticalOffsetForLineNumber(e,this._lineHeight)},e.prototype.getLinesTotalHeight=function(){return this.verticalObjects.getTotalHeight(this._lineHeight)},e.prototype.getTotalHeight=function(e,t){var i=this.getLinesTotalHeight();return i+=this._scrollBeyondLastLine?e.height-this._lineHeight:t,Math.max(e.height,i)},e.prototype.isAfterLines=function(e){return this.verticalObjects.isAfterLines(e,this._lineHeight)},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){return this.verticalObjects.getLineNumberAtOrAfterVerticalOffset(e,this._lineHeight)},e.prototype.getHeightForLineNumber=function(e){return this._lineHeight},e.prototype.getWhitespaceViewportData=function(e){return this.verticalObjects.getWhitespaceViewportData(e.top,e.top+e.height,this._lineHeight)},e.prototype.getWhitespaces=function(){return this.verticalObjects.getWhitespaces(this._lineHeight)},e.prototype.getWhitespaceAtVerticalOffset=function(e){return this.verticalObjects.getWhitespaceAtVerticalOffset(e,this._lineHeight)},e.prototype.getLinesViewportData=function(e){var t=this.verticalObjects.getLinesViewportData(e.top,e.top+e.height,this._lineHeight),i=this.model.getDecorationsViewportData(t.startLineNumber,t.endLineNumber),r=new n.Range(t.startLineNumber,1,t.endLineNumber,this.model.getLineMaxColumn(t.endLineNumber));return new o.ViewLinesViewportData(t,r,i)},e.prototype.getCenteredLineInViewport=function(e){return this.verticalObjects.getCenteredLineInViewport(e.top,e.top+e.height,this._lineHeight)},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this.verticalObjects.getWhitespaceAccumulatedHeightBeforeLineNumber(e)},e.prototype.hasWhitespace=function(){return this.verticalObjects.hasWhitespace()},e}();t.LinesLayout=r}),define(l[624],d([1,0,133]),function(e,t,i){"use strict";var n=function(){function e(){}return e.create=function(e,t,n,o){var r=e.sliceAndInflate(t,n,o);return new i.ViewLineTokens(r,o,n-t+o)},e}();t.FilteredLineTokens=n;var o=function(){function e(){}return e.create=function(e,t){var n=e.inflate();return new i.ViewLineTokens(n,0,t)},e}();t.IdentityFilteredLineTokens=o}),define(l[177],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t){this.index=e,this.remainder=t}return e}();t.PrefixSumIndexOfResult=i;var n=function(){function e(e){this.values=e,this.prefixSum=[];for(var t=0,i=this.values.length;t<i;t++)this.prefixSum[t]=0;this.prefixSumValidIndex=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValue=function(e,t){e=Math.floor(e),t=Math.floor(t),this.values.splice(e,0,t),this.prefixSum.splice(e,0,0),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.insertValues=function(t,i){t=Math.floor(t),0!==i.length&&(this.values=this.values.slice(0,t).concat(i).concat(this.values.slice(t)),this.prefixSum=this.prefixSum.slice(0,t).concat(e._zeroArray(i.length)).concat(this.prefixSum.slice(t)),t-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=t-1))},e._zeroArray=function(e){e=Math.floor(e);for(var t=[],i=0;i<e;i++)t[i]=0;return t},e.prototype.changeValue=function(e,t){e=Math.floor(e),t=Math.floor(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1))},e.prototype.removeValues=function(e,t){e=Math.floor(e),t=Math.floor(t),this.values.splice(e,t),this.prefixSum.splice(e,t),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this.getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){if(e=Math.floor(e),e<0)return 0;if(e<=this.prefixSumValidIndex)return this.prefixSum[e];var t=this.prefixSumValidIndex+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e);for(var t,n,o,r=0,s=this.values.length-1;r<=s;)if(t=r+(s-r)/2|0,n=this.getAccumulatedValue(t),o=n-this.values[t],e<o)s=t-1;else{if(!(e>=n))break;r=t+1}return new i(t,e-o)},e}();t.PrefixSumComputer=n}),define(l[623],d([1,0,177]),function(e,t,i){"use strict";var n=function(){function e(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n}return e.prototype.dispose=function(){this._lines.length=0},Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){for(var t=null,i=0,n=e.length;i<n;i++){var o=e[i];o.eol&&(t=o.eol)}t&&t!==this._eol&&(this._eol=t,this._lineStarts=null);for(var r=-1,i=0,n=e.length;i<n;i++){var o=e[i];this._acceptDeleteRange(o.range),this._acceptInsertText({lineNumber:o.range.startLineNumber,column:o.range.startColumn},o.text),r=Math.max(r,o.versionId)}r!==-1&&(this._versionId=r)},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=[],t=this._eol.length,n=0,o=this._lines.length;n<o;n++)e.push(this._lines[n].length+t);this._lineStarts=new i.PrefixSumComputer(e)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var i=t.split(/\r\n|\r|\n/);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);for(var n=new Array(i.length-1),o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),n[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}},e}();t.MirrorModel2=n}),define(l[319],d([1,0,48,14,11,624,177]),function(e,t,i,n,o,r,s){"use strict";function a(e,t,i,n,o,r,s){var a=e.createLineMapping(t,i,n,o,r);return null===a?new u(s):new l(a,s)}var c=function(){function e(e,t){this.outputLineIndex=e,this.outputOffset=t}return e}();t.OutputPosition=c;var u=function(){function e(e){this._isVisible=e}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){this._isVisible=e},e.prototype.getOutputLineCount=function(){return this._isVisible?1:0},e.prototype.getOutputLineContent=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return e.getLineContent(t)},e.prototype.getOutputLineMinColumn=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return e.getLineMinColumn(t)},e.prototype.getOutputLineMaxColumn=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return e.getLineMaxColumn(t)},e.prototype.getOutputLineTokens=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return r.IdentityFilteredLineTokens.create(e.getLineTokens(t,!0),e.getLineMaxColumn(t)-1)},e.prototype.getInputColumnOfOutputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");return t},e.prototype.getOutputPositionOfInputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");return new i.Position(e,t)},e}(),l=function(){function e(e,t){this.positionMapper=e,this.wrappedIndent=this.positionMapper.getWrappedLinesIndent(),this.wrappedIndentLength=this.wrappedIndent.length,this.outputLineCount=this.positionMapper.getOutputLineCount(),this._isVisible=t}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){this._isVisible=e},e.prototype.getOutputLineCount=function(){return this._isVisible?this.outputLineCount:0},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,i){return i+1===this.outputLineCount?e.getLineMaxColumn(t)-1:this.positionMapper.getInputOffsetOfOutputPosition(i+1,0)},e.prototype.getOutputLineContent=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),r=e.getLineContent(t).substring(n,o);return i>0&&(r=this.wrappedIndent+r),r},e.prototype.getOutputLineMinColumn=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return i>0?this.wrappedIndentLength+1:1},e.prototype.getOutputLineMaxColumn=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getOutputLineContent(e,t,i).length+1},e.prototype.getOutputLineTokens=function(e,t,i){if(!this._isVisible)throw new Error("Not supported");var n=this.getInputStartOffsetOfOutputLineIndex(i),o=this.getInputEndOffsetOfOutputLineIndex(e,t,i),s=0;return i>0&&(s=this.wrappedIndentLength),r.FilteredLineTokens.create(e.getLineTokens(t,!0),n,o,s)},e.prototype.getInputColumnOfOutputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var i=t-1;return e>0&&(i<this.wrappedIndentLength?i=0:i-=this.wrappedIndentLength),this.positionMapper.getInputOffsetOfOutputPosition(e,i)+1},e.prototype.getOutputPositionOfInputPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=this.positionMapper.getOutputPositionOfInputOffset(t-1),o=n.outputLineIndex,r=n.outputOffset+1;return o>0&&(r+=this.wrappedIndentLength),new i.Position(e+o,r)},e}();t.SplitLine=l;var d=function(){function e(e,t,i,n,o,r){this.model=e,this._validModelVersionId=-1,this.tabSize=i,this.wrappingColumn=n,this.columnsForFullWidthChar=o,this.wrappingIndent=r,this.linePositionMapperFactory=t,this._constructLines(!0)}return e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},e.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId)throw new Error("SplitLinesCollection: attempt to access a 'newer' model")},e.prototype._constructLines=function(e){var t=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var i=[],o=this.model.getLinesContent(),r=o.length,c=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(n.Range.compareRangesUsingStarts),u=1,l=0,d=-1,h=d+1<c.length?l+1:r+2,p=0;p<r;p++){var f=p+1;f===h&&(d++,u=c[d].startLineNumber,l=c[d].endLineNumber,h=d+1<c.length?l+1:r+2);var g=f>=u&&f<=l,m=a(this.linePositionMapperFactory,o[p],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!g);i[p]=m.getOutputLineCount(),this.lines[p]=m}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new s.PrefixSumComputer(i)},e.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map(function(t){return e.model.getDecorationRange(t)}).sort(n.Range.compareRangesUsingStarts)},e.prototype._reduceRanges=function(e){var t=this;if(0===e.length)return[];for(var i=e.map(function(e){return t.model.validateRange(e)}).sort(n.Range.compareRangesUsingStarts),o=[],r=i[0].startLineNumber,s=i[0].endLineNumber,a=1,c=i.length;a<c;a++){var u=i[a];u.startLineNumber>s+1?(o.push(new n.Range(r,1,s,1)),r=u.startLineNumber,s=u.endLineNumber):u.endLineNumber>s&&(s=u.endLineNumber)}return o.push(new n.Range(r,1,s,1)),o},e.prototype.setHiddenAreas=function(e,t){var i=this,r=this._reduceRanges(e),s=this.hiddenAreasIds.map(function(e){return i.model.getDecorationRange(e)}).sort(n.Range.compareRangesUsingStarts);if(r.length===s.length){for(var a=!1,c=0;c<r.length;c++)if(!r[c].equalsRange(s[c])){a=!0;break}if(!a)return!1}for(var u=[],c=0;c<r.length;c++)u.push({range:r[c],options:{}});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,u);for(var l=r,d=1,h=0,p=-1,f=p+1<l.length?h+1:this.lines.length+2,c=0;c<this.lines.length;c++){var g=c+1;g===f&&(p++,d=l[p].startLineNumber,h=l[p].endLineNumber,f=p+1<l.length?h+1:this.lines.length+2);var m=!1;if(g>=d&&g<=h?this.lines[c].isVisible()&&(this.lines[c].setVisible(!1),m=!0):this.lines[c].isVisible()||(this.lines[c].setVisible(!0),m=!0),m){var v=this.lines[c].getOutputLineCount();this.prefixSumComputer.changeValue(c,v)}}return t(o.ViewEventNames.ModelFlushedEvent,null),!0},e.prototype.inputPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},e.prototype.setTabSize=function(e,t){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1),t(o.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingIndent=function(e,t){return this.wrappingIndent!==e&&(this.wrappingIndent=e,this._constructLines(!1),t(o.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.setWrappingColumn=function(e,t,i){return(this.wrappingColumn!==e||this.columnsForFullWidthChar!==t)&&(this.wrappingColumn=e,this.columnsForFullWidthChar=t,this._constructLines(!1),i(o.ViewEventNames.ModelFlushedEvent,null),!0)},e.prototype.onModelFlushed=function(e,t){this._constructLines(!0),t(o.ViewEventNames.ModelFlushedEvent,null)},e.prototype.onModelLinesDeleted=function(e,t,i,n){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var r=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,s=this.prefixSumComputer.getAccumulatedValue(i-1);this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1);var a={fromLineNumber:r,toLineNumber:s};n(o.ViewEventNames.LinesDeletedEvent,a)}},e.prototype.onModelLinesInserted=function(e,t,n,r,s){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;for(var c=this.getHiddenAreas(),u=!1,l=new i.Position(t,1),d=0;d<c.length;d++)if(c[d].containsPosition(l)){u=!0;break}for(var h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=0,f=[],g=[],d=0,m=r.length;d<m;d++){var v=a(this.linePositionMapperFactory,r[d],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!u);f.push(v);var y=v.getOutputLineCount();p+=y,g.push(y)}this.lines=this.lines.slice(0,t-1).concat(f).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,g);var E={fromLineNumber:h,toLineNumber:h+p-1};s(o.ViewEventNames.LinesInsertedEvent,E)}},e.prototype.onModelLineChanged=function(e,t,i,n){if(!(e<=this._validModelVersionId)){this._validModelVersionId=e;var r=t-1,s=this.lines[r].getOutputLineCount(),c=this.lines[r].isVisible(),u=a(this.linePositionMapperFactory,i,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,c);this.lines[r]=u;var l=this.lines[r].getOutputLineCount(),d=!1,h=0,p=-1,f=0,g=-1,m=0,v=-1;s>l?(h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=h+l-1,m=p+1,v=m+(s-l)-1,d=!0):s<l?(h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=h+s-1,f=p+1,g=f+(l-s)-1,d=!0):(h=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,p=h+l-1),this.prefixSumComputer.changeValue(r,l);var y,E,S;if(h<=p)for(var b=h;b<=p;b++)y={lineNumber:b},n(o.ViewEventNames.LineChangedEvent,y);return f<=g&&(E={fromLineNumber:f,toLineNumber:g},n(o.ViewEventNames.LinesInsertedEvent,E)),m<=v&&(S={fromLineNumber:m,toLineNumber:v},n(o.ViewEventNames.LinesDeletedEvent,S)),d}},e.prototype.getOutputLineCount=function(){return this._ensureValidState(),this.prefixSumComputer.getTotalValue()},e.prototype._toValidOutputLineNumber=function(e){if(e<1)return 1;var t=this.getOutputLineCount();return e>t?t:e},e.prototype.getOutputLineContent=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getOutputLineContent(this.model,i+1,n)},e.prototype.getOutputIndentGuide=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);return this.model.getLineIndentGuide(t.index+1)},e.prototype.getOutputLineMinColumn=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getOutputLineMinColumn(this.model,i+1,n)},e.prototype.getOutputLineMaxColumn=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getOutputLineMaxColumn(this.model,i+1,n)},e.prototype.getOutputLineTokens=function(e){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getOutputLineTokens(this.model,i+1,n)},e.prototype.convertOutputPositionToInputPosition=function(e,t){this._ensureValidState(),e=this._toValidOutputLineNumber(e);var n=this.prefixSumComputer.getIndexOf(e-1),o=n.index,r=n.remainder,s=this.lines[o].getInputColumnOfOutputPosition(r,t);return this.model.validatePosition(new i.Position(o+1,s))},e.prototype.convertInputPositionToOutputPosition=function(e,t){this._ensureValidState();for(var n=this.model.validatePosition(new i.Position(e,t)),o=n.lineNumber,r=n.column,s=o-1,a=!1;s>0&&!this.lines[s].isVisible();)s--,a=!0;if(0===s&&!this.lines[s].isVisible())return new i.Position(1,1);var c,u=1+(0===s?0:this.prefixSumComputer.getAccumulatedValue(s-1));return c=a?this.lines[s].getOutputPositionOfInputPosition(u,this.model.getLineMaxColumn(s+1)):this.lines[o-1].getOutputPositionOfInputPosition(u,r)},e}();t.SplitLinesCollection=d}),define(l[622],d([1,0,9,11,177,319]),function(e,t,i,n,o,r){"use strict";var s;!function(e){e[e.NONE=0]="NONE",e[e.BREAK_BEFORE=1]="BREAK_BEFORE",e[e.BREAK_AFTER=2]="BREAK_AFTER",e[e.BREAK_OBTRUSIVE=3]="BREAK_OBTRUSIVE",e[e.BREAK_IDEOGRAPHIC=4]="BREAK_IDEOGRAPHIC"}(s||(s={}));var a=function(){function e(e,t,i){this._asciiMap=[];for(var n=0;n<256;n++)this._asciiMap[n]=s.NONE;this._map=[];for(var n=0;n<e.length;n++)this._set(e.charCodeAt(n),s.BREAK_BEFORE);for(var n=0;n<t.length;n++)this._set(t.charCodeAt(n),s.BREAK_AFTER);for(var n=0;n<i.length;n++)this._set(i.charCodeAt(n),s.BREAK_OBTRUSIVE)}return e.prototype._set=function(e,t){e<256&&(this._asciiMap[e]=t),this._map[e]=t},e.prototype.classify=function(e){if(e<256)return this._asciiMap[e];var t=this._map[e];return t?t:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?s.BREAK_IDEOGRAPHIC:s.NONE},e}(),c=function(){function e(e,t,i){this.classifier=new a(e,t,i)}return e.nextVisibleColumn=function(e,t,i,n){return e=+e,t=+t,n=+n,i?e+(t-e%t):e+n},e.prototype.createLineMapping=function(t,r,a,c,l){if(a===-1)return null;r=+r,a=+a,c=+c,l=+l;var d=0,h="",p="\t".charCodeAt(0),f=-1;if(l!==n.WrappingIndent.None&&(f=i.firstNonWhitespaceIndex(t),f!==-1)){h=t.substring(0,f);for(var g=0;g<f;g++)d=e.nextVisibleColumn(d,r,t.charCodeAt(g)===p,1);l===n.WrappingIndent.Indent&&(h+="\t",d=e.nextVisibleColumn(d,r,!0,1)),d>.5*a&&(h="",d=0)}for(var m,v,y=this.classifier,E=0,S=[],b=0,_=0,C=-1,w=0,I=-1,T=0,A=t.length,g=0;g<A;g++){var L=t.charCodeAt(g),D=L===p,k=y.classify(L);if(k===s.BREAK_BEFORE&&(C=g,w=0),k===s.BREAK_IDEOGRAPHIC&&g>0){var x=t.charCodeAt(g-1),M=y.classify(x);M!==s.BREAK_BEFORE&&(C=g,w=0)}var R=1;if(i.isFullWidthCharacter(L)&&(R=c),_=e.nextVisibleColumn(_,r,D,R),_>a&&0!==g&&(C!==-1?(m=C,v=w):I!==-1?(m=I,v=T):(m=g,v=d),S[b++]=m-E,E=m,_=e.nextVisibleColumn(v,r,D,R),C=-1,w=0,I=-1,T=0),C!==-1&&(w=e.nextVisibleColumn(w,r,D,R)),I!==-1&&(T=e.nextVisibleColumn(T,r,D,R)),k===s.BREAK_AFTER&&(l===n.WrappingIndent.None||g>=f)&&(C=g+1,w=d),k===s.BREAK_IDEOGRAPHIC&&g<A-1){var O=t.charCodeAt(g+1),P=y.classify(O);P!==s.BREAK_AFTER&&(C=g+1,w=d)}k===s.BREAK_OBTRUSIVE&&(I=g+1,T=d)}return 0===b?null:(S[b++]=A-E,new u(new o.PrefixSumComputer(S),h))},e}();t.CharacterHardWrappingLineMapperFactory=c;var u=function(){function e(e,t){this._prefixSums=e,this._wrappedLinesIndent=t}return e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()},e.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent},e.prototype.getInputOffsetOfOutputPosition=function(e,t){return 0===e?t:this._prefixSums.getAccumulatedValue(e-1)+t},e.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new r.OutputPosition(t.index,t.remainder)},e}();t.CharacterHardWrappingLineMapping=u}),define(l[125],d([1,0,11]),function(e,t,i){"use strict";var n=function(){function e(){this._shouldRender=!0}return e.prototype.shouldRender=function(){return this._shouldRender},e.prototype.setShouldRender=function(){this._shouldRender=!0},e.prototype.onDidRender=function(){this._shouldRender=!1},e.prototype.onLineMappingChanged=function(){return!1},e.prototype.onModelFlushed=function(){return!1},e.prototype.onModelDecorationsChanged=function(e){return!1},e.prototype.onModelLinesDeleted=function(e){return!1},e.prototype.onModelLineChanged=function(e){return!1},e.prototype.onModelLinesInserted=function(e){return!1},e.prototype.onModelTokensChanged=function(e){return!1},e.prototype.onCursorPositionChanged=function(e){return!1},e.prototype.onCursorSelectionChanged=function(e){return!1},e.prototype.onCursorRevealRange=function(e){return!1},e.prototype.onCursorScrollRequest=function(e){return!1},e.prototype.onConfigurationChanged=function(e){return!1},e.prototype.onLayoutChanged=function(e){return!1},e.prototype.onScrollChanged=function(e){return!1},e.prototype.onZonesChanged=function(){return!1},e.prototype.onViewFocusChanged=function(e){return!1},e.prototype.handleEvents=function(e){for(var t=!1,n=0,o=e.length;n<o;n++){var r=e[n],s=r.getData();switch(r.getType()){case i.ViewEventNames.LineMappingChangedEvent:this.onLineMappingChanged()&&(t=!0);break;case i.ViewEventNames.ModelFlushedEvent:this.onModelFlushed()&&(t=!0);break;case i.ViewEventNames.LinesDeletedEvent:this.onModelLinesDeleted(s)&&(t=!0);break;case i.ViewEventNames.LinesInsertedEvent:this.onModelLinesInserted(s)&&(t=!0);break;case i.ViewEventNames.LineChangedEvent:this.onModelLineChanged(s)&&(t=!0);break;case i.ViewEventNames.TokensChangedEvent:this.onModelTokensChanged(s)&&(t=!0);break;case i.ViewEventNames.DecorationsChangedEvent:this.onModelDecorationsChanged(s)&&(t=!0);break;case i.ViewEventNames.CursorPositionChangedEvent:this.onCursorPositionChanged(s)&&(t=!0);break;case i.ViewEventNames.CursorSelectionChangedEvent:this.onCursorSelectionChanged(s)&&(t=!0);break;case i.ViewEventNames.RevealRangeEvent:this.onCursorRevealRange(s)&&(t=!0);break;case i.ViewEventNames.ScrollRequestEvent:this.onCursorScrollRequest(s)&&(t=!0);break;case i.EventType.ConfigurationChanged:this.onConfigurationChanged(s)&&(t=!0);break;case i.EventType.ViewLayoutChanged:this.onLayoutChanged(s)&&(t=!0);break;case i.EventType.ViewScrollChanged:this.onScrollChanged(s)&&(t=!0);break;case i.EventType.ViewZonesChanged:this.onZonesChanged()&&(t=!0);break;case i.EventType.ViewFocusChanged:this.onViewFocusChanged(s)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(r)}}t&&(this._shouldRender=!0)},e}();t.ViewEventHandler=n}),define(l[140],d([1,0,125]),function(e,t,i){"use strict";var n=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(i.ViewEventHandler);t.DynamicViewOverlay=n}),define(l[117],d([1,0,125]),function(e,t,i){"use strict";var n=function(e){function t(t){e.call(this),this._context=t,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null},t}(i.ViewEventHandler);t.ViewPart=n}),define(l[621],d([1,0,140,873]),function(e,t,i){"use strict";var n=function(e){function t(t,i){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._readOnly=this._context.configuration.editor.readOnly,this._layoutProvider=i,this._selectionIsEmpty=!0,this._primaryCursorIsInEditableRange=!0,this._primaryCursorLineNumber=1,this._scrollWidth=this._layoutProvider.getScrollWidth(),this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null},t.prototype.onModelFlushed=function(){return this._primaryCursorIsInEditableRange=!0,this._selectionIsEmpty=!0,this._primaryCursorLineNumber=1,this._scrollWidth=this._layoutProvider.getScrollWidth(),!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){var t=!1;return this._primaryCursorIsInEditableRange!==e.isInEditableRange&&(this._primaryCursorIsInEditableRange=e.isInEditableRange,t=!0),this._primaryCursorLineNumber!==e.position.lineNumber&&(this._primaryCursorLineNumber=e.position.lineNumber,t=!0),t},t.prototype.onCursorSelectionChanged=function(e){var t=e.selection.isEmpty();return this._selectionIsEmpty!==t&&(this._selectionIsEmpty=t,!0)},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return this._scrollWidth=e.scrollWidth,e.scrollWidthChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");this._scrollWidth=e.scrollWidth},t.prototype.render=function(e,t){return t===this._primaryCursorLineNumber&&this._shouldShowCurrentLine()?'<div class="current-line" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>':""},t.prototype._shouldShowCurrentLine=function(){return this._selectionIsEmpty&&this._primaryCursorIsInEditableRange&&!this._readOnly},t}(i.DynamicViewOverlay);t.CurrentLineHighlightOverlay=n}),define(l[619],d([1,0,140,872]),function(e,t,i){"use strict";var n=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._renderResult=null,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");var t=e.getDecorationsInViewport();t=t.filter(function(e){return!!e.options.className}),t=t.sort(function(e,t){return e.options.className<t.options.className?-1:e.options.className>t.options.className?1:e.range.startLineNumber===t.range.startLineNumber?e.range.startColumn===t.range.startColumn?e.range.endLineNumber===t.range.endLineNumber?e.range.endColumn-t.range.endColumn:e.range.endLineNumber-t.range.endLineNumber:e.range.startColumn-t.range.startColumn:e.range.startLineNumber-t.range.startLineNumber;
});for(var i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=[],r=i;r<=n;r++){var s=r-i;o[s]=""}this._renderWholeLineDecorations(e,t,o),this._renderNormalDecorations(e,t,o),this._renderResult=o},t.prototype._renderWholeLineDecorations=function(e,t,i){for(var n=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=0,a=t.length;s<a;s++){var c=t[s];if(c.options.isWholeLine)for(var u='<div class="cdr '+c.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(c.range.startLineNumber,o),d=Math.min(c.range.endLineNumber,r),h=l;h<=d;h++){var p=h-o;i[p]+=u}}},t.prototype._renderNormalDecorations=function(e,t,i){for(var n=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=0,s=t.length;r<s;r++){var a=t[r];if(!a.options.isWholeLine){var c=e.linesVisibleRangesForRange(a.range,"findMatch"===a.options.className);if(c)for(var u=a.options.className,l=0,d=c.length;l<d;l++)for(var h=c[l],p=h.lineNumber-o,f=0,g=h.ranges.length;f<g;f++){var m=h.ranges[f],v='<div class="cdr '+u+'" style="left:'+String(m.left)+"px;width:"+String(m.width)+"px;height:"+n+'px;"></div>';i[p]+=v}}}},t.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;if(i<0||i>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[i]},t}(i.DynamicViewOverlay);t.DecorationsOverlay=n}),define(l[232],d([1,0,140,867]),function(e,t,i){"use strict";var n=function(){function e(e,t,i){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}return e}();t.DecorationToRender=n;var o=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._render=function(e,t,i){for(var n=[],o=e;o<=t;o++){var r=o-e;n[r]=""}if(0===i.length)return n;i.sort(function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1});for(var s=null,a=0,c=0,u=i.length;c<u;c++){var l=i[c],d=l.className,h=Math.max(l.startLineNumber,e)-e,p=Math.min(l.endLineNumber,t)-e;s===d?(h=Math.max(a+1,h),a=Math.max(a,p)):(s=d,a=p);for(var f=h;f<=a;f++)n[f]+=" "+s}return n},t}(i.DynamicViewOverlay);t.DedupOverlay=o;var r=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin,this._glyphMarginLeft=0,this._glyphMarginWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.glyphMargin&&(this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin),!0},t.prototype.onLayoutChanged=function(e){return this._glyphMarginLeft=e.glyphMarginLeft,this._glyphMarginWidth=e.glyphMarginWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),i=[],o=0,r=t.length;o<r;o++){var s=t[o];s.options.glyphMarginClassName&&i.push(new n(s.range.startLineNumber,s.range.endLineNumber,s.options.glyphMarginClassName))}return i},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");if(!this._glyphMargin)return void(this._renderResult=null);for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),r=this._glyphMarginLeft.toString(),s=this._glyphMarginWidth.toString(),a='" style="left:'+r+"px;width:"+s+"px;height:"+o+'px;"></div>',c=[],u=t;u<=i;u++){var l=u-t,d=n[l];0===d.length?c[l]="":c[l]='<div class="cgmr'+d+a}this._renderResult=c},t.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;if(i<0||i>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[i]},t}(o);t.GlyphMarginOverlay=r}),define(l[617],d([1,0,140,863]),function(e,t,i){"use strict";var n=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth,this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides,this._renderResult=null,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.viewInfo.renderIndentGuides&&(this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");if(!this._enabled)return void(this._renderResult=null);for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._context.model.getTabSize(),o=n*this._spaceWidth,r=this._lineHeight,s=[],a=t;a<=i;a++){for(var c=a-t,u=this._context.model.getLineIndentGuide(a),l="",d=0,h=0;h<u;h++)l+='<div class="cigr" style="left:'+d+"px;height:"+r+'px;"></div>',d+=o;s[c]=l}this._renderResult=s},t.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;if(i<0||i>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[i]},t}(i.DynamicViewOverlay);t.IndentGuidesOverlay=n}),define(l[616],d([1,0,12,140,53,860]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._lineNumbers=this._context.configuration.editor.viewInfo.lineNumbers,this._lineNumbersLeft=0,this._lineNumbersWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!1},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.lineNumbers&&(this._lineNumbers=this._context.configuration.editor.viewInfo.lineNumbers),!0},t.prototype.onLayoutChanged=function(e){return this._lineNumbersLeft=e.lineNumbersLeft,this._lineNumbersWidth=e.lineNumbersWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");if(!this._lineNumbers)return void(this._renderResult=null);for(var t=i.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",n=this._lineHeight.toString(),r=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a='<div class="'+o.ClassNames.LINE_NUMBERS+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+"px;height:"+n+'px;">',c=[],u=r;u<=s;u++){var l=u-r,d=this._context.model.getLineRenderLineNumber(u);d?c[l]=a+d+"</div>":c[l]=""}this._renderResult=c},t.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;if(i<0||i>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[i]},t}(n.DynamicViewOverlay);t.LineNumbersOverlay=r}),define(l[615],d([1,0,232,853]),function(e,t,i){"use strict";var n=function(e){function t(t){e.call(this),this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._decorationsLeft=0,this._decorationsWidth=0,this._renderResult=null,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),!0},t.prototype.onLayoutChanged=function(e){return this._decorationsLeft=e.decorationsLeft,this._decorationsWidth=e.decorationsWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],o=0,r=t.length;o<r;o++){var s=t[o];s.options.linesDecorationsClassName&&n.push(new i.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,s.options.linesDecorationsClassName))}return n},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");for(var t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),r=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+r+"px;width:"+s+"px;height:"+o+'px;"></div>',c=[],u=t;u<=i;u++){var l=u-t,d=n[l];0===d.length?c[l]="":c[l]='<div class="cldr'+d+a}this._renderResult=c},t.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;if(i<0||i>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[i]},t}(i.DedupOverlay);t.LinesDecorationsOverlay=n}),define(l[614],d([1,0,140,842]),function(e,t,i){"use strict";function n(e){return new s(e)}function o(e){return new a(e.lineNumber,e.ranges.map(n))}var r;!function(e){e[e.EXTERN=0]="EXTERN",e[e.INTERN=1]="INTERN",e[e.FLAT=2]="FLAT"}(r||(r={}));var s=function(){function e(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}return e}(),a=function(){function e(e,t){this.lineNumber=e,this.ranges=t}return e}(),c=navigator.userAgent.indexOf("Trident/7.0")>=0||navigator.userAgent.indexOf("Edge/12")>=0,u=function(e){function t(t){e.call(this),this._previousFrameVisibleRangesWithStyle=[],this._context=t,this._lineHeight=this._context.configuration.editor.lineHeight,this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._context=null,this._selections=null,this._renderResult=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return this._selections=[e.selection],this._selections=this._selections.concat(e.secondarySelections),!0},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.roundedSelection&&(this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection),!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype._visibleRangesHaveGaps=function(e){var t,i,n;for(t=0,i=e.length;t<i;t++)if(n=e[t],n.ranges.length>1)return!0;return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t){var i,n,o,s,a,c,u,l,d,h,p,f=null,g=null;if(t&&t.length>0&&e.length>0){for(var m=e[0].lineNumber,h=0;!f&&h<t.length;h++)t[h].lineNumber===m&&(f=t[h].ranges[0]);for(var v=e[e.length-1].lineNumber,h=t.length-1;!g&&h>=0;h--)t[h].lineNumber===v&&(g=t[h].ranges[0]);f&&!f.startStyle&&(f=null),g&&!g.startStyle&&(g=null)}for(h=0,p=e.length;h<p;h++)i=e[h].ranges[0],n=i.left,o=i.left+i.width,l={top:r.EXTERN,bottom:r.EXTERN},d={top:r.EXTERN,bottom:r.EXTERN},h>0?(s=e[h-1].ranges[0].left,a=e[h-1].ranges[0].left+e[h-1].ranges[0].width,n===s?l.top=r.FLAT:n>s&&(l.top=r.INTERN),o===a?d.top=r.FLAT:s<o&&o<a&&(d.top=r.INTERN)):f&&(l.top=f.startStyle.top,d.top=f.endStyle.top),h+1<p?(c=e[h+1].ranges[0].left,u=e[h+1].ranges[0].left+e[h+1].ranges[0].width,n===c?l.bottom=r.FLAT:c<n&&n<u&&(l.bottom=r.INTERN),o===u?d.bottom=r.FLAT:o<u&&(d.bottom=r.INTERN)):g&&(l.bottom=g.startStyle.bottom,d.bottom=g.endStyle.bottom),i.startStyle=l,i.endStyle=d},t.prototype._getVisibleRangesWithStyle=function(e,t,i){var n=t.linesVisibleRangesForRange(e,!0)||[],r=n.map(o),s=this._visibleRangesHaveGaps(r);return c||s||!this._roundedSelection||this._enrichVisibleRangesWithStyle(r,i),r},t.prototype._createSelectionPiece=function(e,t,i,n,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'},t.prototype._actualRenderOneSelection=function(e,i,n,o){for(var s=o.length>0&&o[0].ranges[0].startStyle,a=this._lineHeight.toString(),c=(this._lineHeight-1).toString(),u=o.length>0?o[0].lineNumber:0,l=o.length>0?o[o.length-1].lineNumber:0,d=0,h=o.length;d<h;d++){for(var p=o[d],f=p.lineNumber,g=f-i,m=n&&(f===l||f===u)?c:a,v=n&&f===u?1:0,y="",E=0,S=p.ranges.length;E<S;E++){var b=p.ranges[E];if(s){if(b.startStyle.top===r.INTERN||b.startStyle.bottom===r.INTERN){y+=this._createSelectionPiece(v,m,t.SELECTION_CLASS_NAME,b.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH);var _=t.EDITOR_BACKGROUND_CLASS_NAME;b.startStyle.top===r.INTERN&&(_+=" "+t.SELECTION_TOP_RIGHT),b.startStyle.bottom===r.INTERN&&(_+=" "+t.SELECTION_BOTTOM_RIGHT),y+=this._createSelectionPiece(v,m,_,b.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)}if(b.endStyle.top===r.INTERN||b.endStyle.bottom===r.INTERN){y+=this._createSelectionPiece(v,m,t.SELECTION_CLASS_NAME,b.left+b.width,t.ROUNDED_PIECE_WIDTH);var C=t.EDITOR_BACKGROUND_CLASS_NAME;b.endStyle.top===r.INTERN&&(C+=" "+t.SELECTION_TOP_LEFT),b.endStyle.bottom===r.INTERN&&(C+=" "+t.SELECTION_BOTTOM_LEFT),y+=this._createSelectionPiece(v,m,C,b.left+b.width,t.ROUNDED_PIECE_WIDTH)}}var w=t.SELECTION_CLASS_NAME;s&&(b.startStyle.top===r.EXTERN&&(w+=" "+t.SELECTION_TOP_LEFT),b.startStyle.bottom===r.EXTERN&&(w+=" "+t.SELECTION_BOTTOM_LEFT),b.endStyle.top===r.EXTERN&&(w+=" "+t.SELECTION_TOP_RIGHT),b.endStyle.bottom===r.EXTERN&&(w+=" "+t.SELECTION_BOTTOM_RIGHT)),y+=this._createSelectionPiece(v,m,w,b.left,b.width)}e[g]+=y}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");for(var t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o=i;o<=n;o++){var r=o-i;t[r]=""}for(var s=[],a=0,c=this._selections.length;a<c;a++){var u=this._selections[a];if(u.isEmpty())s.push(null);else{var l=this._getVisibleRangesWithStyle(u,e,this._previousFrameVisibleRangesWithStyle[a]);s.push(l),this._actualRenderOneSelection(t,i,this._selections.length>1,l)}}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t},t.prototype.render=function(e,t){if(!this._renderResult)return"";var i=t-e;if(i<0||i>=this._renderResult.length)throw new Error("Unexpected render request");return this._renderResult[i]},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(i.DynamicViewOverlay);t.SelectionsOverlay=u}),define(l[186],d([1,0]),function(e,t){"use strict";var i=function(){function e(e,t){this.range=e,this.inlineClassName=t}return e}();t.InlineDecoration=i}),define(l[238],d([1,0,9,174,14,133,186]),function(e,t,i,n,o,r,s){"use strict";function a(e,t){return o.Range.compareRangesUsingStarts(e.range,t.range)}function c(e,t,i,n,o,r,s){if(s){var c=r.length;r=h(e,i,n,o.getFauxIndentLength(),r),r.length!==c&&r.sort(a)}return r.length>0?g(e,t,o,i,r):f(o,i)}function u(e,t,i,n,o,r,s){if(o>=t.length)return e;if(0===s)return t[o].startIndex+1;if(s===r)return o+1<t.length?t[o+1].startIndex+1:i;for(var a=t[o].startIndex,c=o+1<t.length?t[o+1].startIndex:i-1,u=a,l=c;u+1<l;){var d=Math.floor((u+l)/2),h=n[d];if(h===s)return d+1;h>s?l=d:u=d}if(u===l)return u+1;var p=n[u],f=l<c?n[l]:r,g=s-p,m=f-s;return g<=m?u+1:l+1}function l(e,t){if(e.length<=1)return e;var i=e[e.length-1].startIndex;return i<t.length?e:e.slice(0,e.length-1)}function d(e,t,i,n,r){e.push(new s.InlineDecoration(new o.Range(t,i,t,n),r))}function h(e,t,n,o,r){var s=t.length;if(s===o)return r;var a=t.charCodeAt(o),c=t.charCodeAt(s-1);if(a!==m&&a!==v&&c!==m&&c!==v)return r;var u,l=i.firstNonWhitespaceIndex(t);l===-1?(l=s,u=s):u=i.lastNonWhitespaceIndex(t);var d=[],h=[];return o>0&&(d.push(o-1),h.push(null)),l>o&&(d.push(l-1),h.push("leading whitespace")),d.push(u),h.push(null),d.push(s-1),h.push("trailing whitespace"),d.push(s),h.push(null),p(e,t,n,r,d,h)}function p(e,t,i,n,o,r){for(var s=t.length,a=0,c=o[a],u=r[a],l=n.slice(0),h=0,p=1,f=0;f<s;f++){var g=t.charCodeAt(f);g===m?h=i:h++,f===c?(null!==u&&d(l,e,p,f+2,u),p=f+2,h%=i,a++,c=o[a],u=r[a]):null!==u&&h>=i&&(d(l,e,p,f+2,u),p=f+2,h%=i)}return l}function f(e,t){var i=e.getTokens();return i=l(i,t),new y(i)}function g(e,t,i,n,o){for(var s,a,c,u=b.normalize(e,t,o),l=0,d=u.length,h=i.getTokens(),p=[],f=0,g=h.length;f<g;f++){for(s=h[f].startIndex,a=f+1<g?h[f+1].startIndex:i.getTextLength(),c=h[f].type;l<d&&u[l].startOffset<a;){if(u[l].startOffset>s&&(p.push(new r.ViewLineToken(s,c)),s=u[l].startOffset),p.push(new r.ViewLineToken(s,c+" "+u[l].className)),u[l].endOffset>=a){s=a;break}s=u[l].endOffset+1,l++}s<a&&p.push(new r.ViewLineToken(s,c))}return new y(p)}t.createLineParts=c,t.getColumnOfLinePartOffset=u;var m="\t".charCodeAt(0),v=" ".charCodeAt(0),y=function(){function e(e){this._parts=e}return e.prototype.getParts=function(){return this._parts},e.prototype.equals=function(e){return r.ViewLineToken.equalsArray(this._parts,e._parts)},e.prototype.findIndexOfOffset=function(e){return n.Arrays.findIndexInSegmentsArray(this._parts,e)},e}();t.LineParts=y;var E=function(){function e(e,t,i){this.startOffset=e,this.endOffset=t,this.className=i}return e}();t.DecorationSegment=E;var S=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){for(var n=0;n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1];)n++;i.push(new E(t,this.stopOffsets[n],this.classNames.join(" "))),t=this.stopOffsets[n]+1,this.stopOffsets.splice(0,n+1),this.classNames.splice(0,n+1),this.count-=n+1}return this.count>0&&t<e&&(i.push(new E(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var i=0;i<this.count;i++)if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e),this.classNames.splice(i,0,t);break}this.count++},e}(),b=function(){function e(){}return e.normalize=function(t,i,n){var o=[];if(0===n.length)return o;var r,s,a,c,u,l=new S,d=0;for(c=0,u=n.length;c<u;c++)r=n[c],r.range.endLineNumber<t||r.range.startLineNumber>t||r.range.startLineNumber===r.range.endLineNumber&&r.range.startColumn===r.range.endColumn||(s=r.range.startLineNumber===t?r.range.startColumn-1:i-1,a=r.range.endLineNumber===t?r.range.endColumn-2:e.MAX_LINE_LENGTH-1,a<0||(d=l.consumeLowerThan(s,d,o),0===l.count&&(d=s),l.insert(a,r.inlineClassName)));return l.consumeLowerThan(e.MAX_LINE_LENGTH,d,o),o},e.MAX_LINE_LENGTH=1e7,e}();t.LineDecorationsNormalizer=b}),define(l[610],d([1,0,14,46,11]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t){this.configuration=e,this.converter=t,this.lastCursorPositionChangedEvent=null,this.lastCursorSelectionChangedEvent=null}return e.prototype.getSelections=function(){if(this.lastCursorSelectionChangedEvent){var e=[];e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.selection));for(var t=0,i=this.lastCursorSelectionChangedEvent.secondarySelections.length;t<i;t++)e.push(this.converter.convertModelSelectionToViewSelection(this.lastCursorSelectionChangedEvent.secondarySelections[t]));return e}return[new n.Selection(1,1,1,1)]},e.prototype.onCursorPositionChanged=function(e,t){this.lastCursorPositionChangedEvent=e;var i=this.converter.validateViewPosition(e.viewPosition.lineNumber,e.viewPosition.column,e.position),n=this.configuration.editor.viewInfo.stopRenderingLineAfter;n!==-1&&i.column>n&&(i=i.clone(),i.column=n);for(var r=[],s=0,a=e.secondaryPositions.length;s<a;s++)r[s]=this.converter.validateViewPosition(e.secondaryViewPositions[s].lineNumber,e.secondaryViewPositions[s].column,e.secondaryPositions[s]),n!==-1&&r[s].column>n&&(r[s]=r[s].clone(),r[s].column=n);var c={position:i,secondaryPositions:r,isInEditableRange:e.isInEditableRange};t(o.ViewEventNames.CursorPositionChangedEvent,c)},e.prototype.onCursorSelectionChanged=function(e,t){this.lastCursorSelectionChangedEvent=e;for(var i=this.converter.validateViewSelection(e.viewSelection,e.selection),n=[],r=0,s=e.secondarySelections.length;r<s;r++)n[r]=this.converter.validateViewSelection(e.secondaryViewSelections[r],e.secondarySelections[r]);var a={selection:i,secondarySelections:n};t(o.ViewEventNames.CursorSelectionChangedEvent,a)},e.prototype.onCursorRevealRange=function(e,t){var n=null;if(e.viewRange){var r=this.converter.validateViewPosition(e.viewRange.startLineNumber,e.viewRange.startColumn,e.range.getStartPosition()),s=this.converter.validateViewPosition(e.viewRange.endLineNumber,e.viewRange.endColumn,e.range.getEndPosition());n=new i.Range(r.lineNumber,r.column,s.lineNumber,s.column)}else n=this.converter.convertModelRangeToViewRange(e.range);var a={range:n,verticalType:e.verticalType,revealHorizontal:e.revealHorizontal};t(o.ViewEventNames.RevealRangeEvent,a)},e.prototype.onCursorScrollRequest=function(e,t){var i={deltaLines:e.deltaLines};t(o.ViewEventNames.ScrollRequestEvent,i)},e.prototype.onLineMappingChanged=function(e){this.lastCursorPositionChangedEvent&&this.onCursorPositionChanged(this.lastCursorPositionChangedEvent,e),this.lastCursorSelectionChangedEvent&&this.onCursorSelectionChanged(this.lastCursorSelectionChangedEvent,e)},e}();t.ViewModelCursors=r}),define(l[609],d([1,0,14,11,186]),function(e,t,i,n,o){"use strict";function r(e){var t=e.options;return!!(t.inlineClassName||t.beforeContentClassName||t.afterContentClassName)}var s=function(){function e(e,t){this.id=e.id,this.options=e.options,this.ownerId=e.ownerId,this.modelRange=e.range,this.range=t}return e}(),a=function(){function e(e,t,i){this.editorId=e,this.configuration=t,this.converter=i,this.decorations=[],this._clearCachedModelDecorationsResolver()}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverStartLineNumber=0,this._cachedModelDecorationsResolverEndLineNumber=0},e.prototype.dispose=function(){this.converter=null,this.decorations=null,this._clearCachedModelDecorationsResolver()},e.compareDecorations=function(e,t){return i.Range.compareRangesUsingStarts(e.range,t.range)},e.prototype.reset=function(t){var i,n,o,r,a=t.getAllDecorations(this.editorId,this.configuration.editor.readOnly);for(this.decorations=[],i=0,n=a.length;i<n;i++)o=a[i],r=new s(o,this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine)),this.decorations[i]=r;this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations)},e.prototype.onModelDecorationsChanged=function(t,i){var o,a,c,u=!1,l=!1,d={},h={},p=this.configuration.editor.readOnly;for(a=0,c=t.addedOrChangedDecorations.length;a<c;a++)o=t.addedOrChangedDecorations[a],p&&o.isForValidation||o.ownerId&&o.ownerId!==this.editorId||(h[o.id]=o);for(a=0,c=t.removedDecorations.length;a<c;a++)d[t.removedDecorations[a]]=!0;var f,g={};for(a=0,c=this.decorations.length;a<c;a++)f=this.decorations[a],h.hasOwnProperty(f.id)&&(g[f.id]=!0,o=h[f.id],f.options=o.options,f.modelRange=o.range,f.range=this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine),l=l||r(f),u=!0),d.hasOwnProperty(f.id)&&(l=l||r(this.decorations[a]),this.decorations.splice(a,1),c--,a--,u=!0);for(var m=Object.keys(h),v=0,y=m.length;v<y;v++){var E=m[v];g.hasOwnProperty(E)||(o=h[E],f=new s(o,this.converter.convertModelRangeToViewRange(o.range,o.options.isWholeLine)),this.decorations.push(f),l=l||r(f),u=!0)}if(u){this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations);var S={inlineDecorationsChanged:l};i(n.ViewEventNames.DecorationsChangedEvent,S)}},e.prototype.onLineMappingChanged=function(t){var o,s,a,c,u=this.decorations,l=!1,d=!1;for(s=0,c=u.length;s<c;s++)o=u[s],a=this.converter.convertModelRangeToViewRange(o.modelRange,o.options.isWholeLine),d||!r(o)||i.Range.equalsRange(a,o.range)||(d=!0),l||i.Range.equalsRange(a,o.range)||(l=!0),o.range=a;if(l){this._clearCachedModelDecorationsResolver(),this.decorations.sort(e.compareDecorations);var h={inlineDecorationsChanged:d};t(n.ViewEventNames.DecorationsChangedEvent,h)}},e.prototype.getAllDecorations=function(){return this.decorations},e.prototype.getDecorationsViewportData=function(e,t){var i=!0;return i=i&&null!==this._cachedModelDecorationsResolver,i=i&&this._cachedModelDecorationsResolverStartLineNumber===e,i=i&&this._cachedModelDecorationsResolverEndLineNumber===t,i||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e,t),this._cachedModelDecorationsResolverStartLineNumber=e,this._cachedModelDecorationsResolverEndLineNumber=t),this._cachedModelDecorationsResolver},e.prototype._getDecorationsViewportData=function(e,t){var n,r,s,a,c,u,l,d=[],h=[],p=this.decorations;for(n=e;n<=t;n++)h[n-e]=[];for(u=0,l=p.length;u<l&&(a=p[u],c=a.range,!(c.startLineNumber>t));u++)if(!(c.endLineNumber<e)){if(d.push(a),a.options.inlineClassName){var f=new o.InlineDecoration(a.range,a.options.inlineClassName);for(r=Math.max(e,c.startLineNumber),s=Math.min(t,c.endLineNumber),n=r;n<=s;n++)h[n-e].push(f)}if(a.options.beforeContentClassName&&c.startLineNumber>=e){var f=new o.InlineDecoration(new i.Range(c.startLineNumber,c.startColumn,c.startLineNumber,c.startColumn+1),a.options.beforeContentClassName);h[c.startLineNumber-e].push(f)}if(a.options.afterContentClassName&&c.endLineNumber<=t&&c.endColumn>1){var f=new o.InlineDecoration(new i.Range(c.endLineNumber,c.endColumn-1,c.endLineNumber,c.endColumn),a.options.afterContentClassName);h[c.endLineNumber-e].push(f)}}return{decorations:d,inlineDecorations:h}},e}();t.ViewModelDecorations=a}),define(l[608],d([1,0,14]),function(e,t,i){"use strict";var n=function(){function e(e,t){this._selection=e,this._isMovingLeft=t}return e.prototype.getEditOperations=function(e,t){var n=this._selection;if(this._selectionId=t.trackSelection(n),n.startLineNumber===n.endLineNumber&&(!this._isMovingLeft||0!==n.startColumn)&&(this._isMovingLeft||n.endColumn!==e.getLineMaxColumn(n.startLineNumber))){var o,r,s,a=n.selectionStartLineNumber,c=e.getLineContent(a);this._isMovingLeft?(o=c.substring(0,n.startColumn-2),r=c.substring(n.startColumn-1,n.endColumn-1),s=c.substring(n.startColumn-2,n.startColumn-1)+c.substring(n.endColumn-1)):(o=c.substring(0,n.startColumn-1)+c.substring(n.endColumn-1,n.endColumn),r=c.substring(n.startColumn-1,n.endColumn-1),s=c.substring(n.endColumn));var u=o+r+s;t.addEditOperation(new i.Range(a,1,a,e.getLineMaxColumn(a)),null),t.addEditOperation(new i.Range(a,1,a,1),u),this._cutStartIndex=n.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+n.endColumn-n.startColumn,this._moved=!0}},e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);return this._moved&&(i=i.setStartPosition(i.startLineNumber,this._cutStartIndex),i=i.setEndPosition(i.startLineNumber,this._cutEndIndex)),i},e}();t.MoveCarretCommand=n}),define(l[607],d([1,0,11]),function(e,t,i){"use strict";var n=function(){function e(e){this._editor=e,this._decorations=[],this._findScopeDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._editor=null,this._decorations=[],this._findScopeDecorationId=null,this._highlightedDecorationId=null,this._startPosition=null},e.prototype.reset=function(){this._decorations=[],this._findScopeDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype.getCurrentMatchesPosition=function(e){for(var t=0,i=this._decorations.length;t<i;t++){var n=this._editor.getModel().getDecorationRange(this._decorations[t]);if(e.equalsRange(n))return t+1}return 1},e.prototype.setCurrentFindMatch=function(t){var i=this,n=null,o=0;if(t)for(var r=0,s=this._decorations.length;r<s;r++){var a=this._editor.getModel().getDecorationRange(this._decorations[r]);if(t.equalsRange(a)){n=this._decorations[r],o=r+1;break}}return null===this._highlightedDecorationId&&null===n||this._editor.changeDecorations(function(t){null!==i._highlightedDecorationId&&(t.changeDecorationOptions(i._highlightedDecorationId,e.createFindMatchDecorationOptions(!1)),i._highlightedDecorationId=null),null!==n&&(i._highlightedDecorationId=n,t.changeDecorationOptions(i._highlightedDecorationId,e.createFindMatchDecorationOptions(!0)))}),o},e.prototype.set=function(t,i){var n=t.map(function(t){return{range:t,options:e.createFindMatchDecorationOptions(!1)}});i&&n.unshift({range:i,options:e.createFindScopeDecorationOptions()});var o=this._editor.deltaDecorations(this._allDecorations(),n);i?this._findScopeDecorationId=o.shift():this._findScopeDecorationId=null,this._decorations=o,this._highlightedDecorationId=null},e.prototype._allDecorations=function(){var e=[];return e=e.concat(this._decorations),
this._findScopeDecorationId&&e.push(this._findScopeDecorationId),e},e.createFindMatchDecorationOptions=function(e){return{stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:e?"currentFindMatch":"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:i.OverviewRulerLane.Center}}},e.createFindScopeDecorationOptions=function(){return{className:"findScope",isWholeLine:!0}},e}();t.FindDecorations=n}),define(l[604],d([1,0,14]),function(e,t,i){"use strict";var n=function(){function e(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var n=[],o=0;o<this._ranges.length;o++)n.push({range:this._ranges[o],text:this._replaceStrings[o]});n.sort(function(e,t){return i.Range.compareRangesUsingStarts(e.range,t.range)});for(var r=[],s=n[0],o=1;o<n.length;o++)s.range.endLineNumber===n[o].range.startLineNumber&&s.range.endColumn===n[o].range.startColumn?(s.range=s.range.plusRange(n[o].range),s.text=s.text+n[o].text):(r.push(s),s=n[o]);r.push(s);for(var o=0;o<r.length;o++)t.addEditOperation(r[o].range,r[o].text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}();t.ReplaceAllCommand=n}),define(l[603],d([1,0]),function(e,t){"use strict";function i(e){return e.getIndentRanges()}function n(e,t){if(e.length<=t)return e;var i=[];e.forEach(function(e){e.indent<1e3&&(i[e.indent]=(i[e.indent]||0)+1)});for(var n=i.length,o=0;o<i.length;o++)if(i[o]&&(t-=i[o],t<0)){n=o;break}return e.filter(function(e){return e.indent<n})}t.computeRanges=i,t.limitByIndent=n}),define(l[602],d([1,0,9,14]),function(e,t,i,n){"use strict";var o=function(){function e(e,t){this._edits=e,this._initialSelection=t}return e.prototype.getEditOperations=function(t,i){this._edits.map(function(i){return e.trimEdit(i,t)}).filter(function(e){return null!==e}).forEach(function(e){return i.addEditOperation(n.Range.lift(e.range),e.text)});var o=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(o=!0,this._selectionId=i.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(o=!0,this._selectionId=i.trackSelection(this._initialSelection,!1))),o||(this._selectionId=i.trackSelection(this._initialSelection))},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e.fixLineTerminators=function(e,t){e.text=e.text.replace(/\r\n|\r|\n/g,t.getEOL())},e.trimEdit=function(e,t){return this.fixLineTerminators(e,t),this._trimEdit(t.validateRange(e.range),e.text,e.forceMoveMarkers,t)},e._trimEdit=function(e,t,o,r){var s=r.getValueInRange(e),a=i.commonPrefixLength(t,s);if(a===s.length&&a===t.length)return null;if(a>0){var c=r.modifyPosition(e.getStartPosition(),a);e=new n.Range(c.lineNumber,c.column,e.endLineNumber,e.endColumn),t=t.substring(a),s=s.substr(a)}var u=i.commonSuffixLength(t,s);if(u>0){var l=r.modifyPosition(e.getEndPosition(),-u);e=new n.Range(e.startLineNumber,e.startColumn,l.lineNumber,l.column),t=t.substring(0,t.length-u),s=s.substring(0,s.length-u)}return{text:t,range:e,forceMoveMarkers:o}},e}();t.EditOperationsCommand=o}),define(l[601],d([1,0,46]),function(e,t,i){"use strict";var n=function(){function e(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}return e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),o=n[0].range;return this._originalSelection.isEmpty()?new i.Selection(o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn),o.endLineNumber,Math.min(this._originalSelection.positionColumn,o.endColumn)):new i.Selection(o.endLineNumber,o.endColumn-this._text.length,o.endLineNumber,o.endColumn)},e}();t.InPlaceReplaceCommand=n}),define(l[410],d([1,0,14]),function(e,t,i){"use strict";function n(e,t,n,o){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){for(var r="",s=0;s<n;s++)r+=" ";for(var a=e.getLinesContent(),s=0;s<a.length;s++){var c=e.getLineFirstNonWhitespaceColumn(s+1);0===c&&(c=e.getLineMaxColumn(s+1));var u=(o?a[s].substr(0,c).replace(/\t/gi,r):a[s].substr(0,c).replace(new RegExp(r,"gi"),"\t"))+a[s].substr(c);t.addEditOperation(new i.Range(s+1,1,s+1,e.getLineMaxColumn(s+1)),u)}}}var o=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),n(e,t,this.tabSize,!0)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToSpacesCommand=o;var r=function(){function e(e,t){this.selection=e,this.tabSize=t}return e.prototype.getEditOperations=function(e,t){this.selectionId=t.trackSelection(this.selection),n(e,t,this.tabSize,!1)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.IndentationToTabsCommand=r}),define(l[405],d([1,0,14,46]),function(e,t,i,n){"use strict";var o=function(){function e(e,t){this._selection=e,this._isCopyingDown=t}return e.prototype.getEditOperations=function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var o=[],r=n.startLineNumber;r<=n.endLineNumber;r++)o.push(e.getLineContent(r));var s=o.join("\n");""===s&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new i.Range(n.startLineNumber,1,n.startLineNumber,1),s+"\n"):t.addEditOperation(new i.Range(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+s),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var o=i.startLineNumber,r=i.startColumn,s=i.endLineNumber,a=i.endColumn;0!==this._startLineNumberDelta&&(o+=this._startLineNumberDelta,r=1),0!==this._endLineNumberDelta&&(s+=this._endLineNumberDelta,a=1),i=n.Selection.createWithDirection(o,r,s,a,this._selectionDirection)}return i},e}();t.CopyLinesCommand=o}),define(l[401],d([1,0,14,46]),function(e,t,i,n){"use strict";var o=function(){function e(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.restoreCursorToColumn=i}return e.createFromSelection=function(t){var i=t.endLineNumber;return t.startLineNumber<t.endLineNumber&&1===t.endColumn&&(i-=1),new e(t.startLineNumber,i,t.positionColumn)},e.prototype.getEditOperations=function(e,t){if(1!==e.getLineCount()||1!==e.getLineMaxColumn(1)){var n=this.startLineNumber,o=this.endLineNumber,r=1,s=e.getLineMaxColumn(o);o<e.getLineCount()?(o+=1,s=1):n>1&&(n-=1,r=e.getLineMaxColumn(n)),t.addEditOperation(new i.Range(n,r,o,s),null)}},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),o=i[0].range;return new n.Selection(o.endLineNumber,this.restoreCursorToColumn,o.endLineNumber,this.restoreCursorToColumn)},e}();t.DeleteLinesCommand=o}),define(l[400],d([1,0,14,46]),function(e,t,i,n){"use strict";var o=function(){function e(e,t){this._selection=e,this._isMovingDown=t}return e.prototype.getEditOperations=function(e,t){var o=e.getLineCount();if((!this._isMovingDown||this._selection.endLineNumber!==o)&&(this._isMovingDown||1!==this._selection.startLineNumber)){this._moveEndPositionDown=!1;var r=this._selection;if(r.startLineNumber<r.endLineNumber&&1===r.endColumn&&(this._moveEndPositionDown=!0,r=r.setEndPosition(r.endLineNumber-1,e.getLineMaxColumn(r.endLineNumber-1))),r.startLineNumber===r.endLineNumber&&1===e.getLineMaxColumn(r.startLineNumber)){var s=r.startLineNumber,a=this._isMovingDown?s+1:s-1;1===e.getLineMaxColumn(a)?t.addEditOperation(new i.Range(1,1,1,1),null):(t.addEditOperation(new i.Range(s,1,s,1),e.getLineContent(a)),t.addEditOperation(new i.Range(a,1,a,e.getLineMaxColumn(a)),null)),r=new n.Selection(a,1,a,1)}else{var c,u;this._isMovingDown?(c=r.endLineNumber+1,u=e.getLineContent(c),t.addEditOperation(new i.Range(c-1,e.getLineMaxColumn(c-1),c,e.getLineMaxColumn(c)),null),t.addEditOperation(new i.Range(r.startLineNumber,1,r.startLineNumber,1),u+"\n")):(c=r.startLineNumber-1,u=e.getLineContent(c),t.addEditOperation(new i.Range(c,1,c+1,1),null),t.addEditOperation(new i.Range(r.endLineNumber,e.getLineMaxColumn(r.endLineNumber),r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),"\n"+u))}this._selectionId=t.trackSelection(r)}},e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),i},e}();t.MoveLinesCommand=o}),define(l[396],d([1,0,126,14]),function(e,t,i,n){"use strict";function o(e,t,o){var r=t.startLineNumber,s=t.endLineNumber;if(1===t.endColumn&&s--,r>=s)return null;for(var a=[],c=r;c<=s;c++)a.push(e.getLineContent(c));var u=a.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});return o===!0&&(u=u.reverse()),i.EditOperation.replace(new n.Range(r,1,s,e.getLineMaxColumn(s)),u.join("\n"))}var r=function(){function e(e,t){this.selection=e,this.descending=t}return e.prototype.getEditOperations=function(e,t){var i=o(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e}();t.SortLinesCommand=r,t.sortLines=o}),define(l[394],d([1,0,783]),function(e,t){"use strict"}),define(l[393],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/actionbar/actionbar",t)}),define(l[388],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/aria/aria",t)}),define(l[384],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/findinput/findInput",t)}),define(l[382],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/inputbox/inputBox",t)}),define(l[380],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/messagelist/messageList",t)}),define(l[377],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/resourceviewer/resourceViewer",t)}),define(l[371],d([3,4]),function(e,t){return e.create("vs/base/browser/ui/toolbar/toolbar",t)}),define(l[365],d([3,4]),function(e,t){return e.create("vs/base/common/errors",t)}),define(l[7],d([1,0,365,29,12,17,41,9]),function(e,t,i,n,o,r,s,a){"use strict";function c(e){t.errorHandler.setUnexpectedErrorHandler(e)}function u(e){m(e)||t.errorHandler.onUnexpectedError(e)}function l(e){return e.then(null,u)}function d(e){if(e instanceof Error){var t=e.name,i=e.message,n=e.stacktrace||e.stack;return{$isError:!0,name:t,message:i,stack:n}}return e}function h(e,t){var i=new I(e);return t?i.verboseMessage:i.message}function p(e,t){return e.message?t&&(e.stack||e.stacktrace)?i.localize(7,null,f(e),e.stack||e.stacktrace):f(e):i.localize(8,null)}function f(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?i.localize(9,null,e.message):e.message}function g(e,t){if(void 0===e&&(e=null),void 0===t&&(t=!1),!e)return i.localize(10,null);if(Array.isArray(e)){var n=s.coalesce(e),o=g(n[0],t);return n.length>1?i.localize(11,null,o,n.length):o}if(r.isString(e))return e;if(!r.isUndefinedOrNull(e.status))return h(e,t);if(e.detail){var a=e.detail;if(a.error){if(a.error&&!r.isUndefinedOrNull(a.error.status))return h(a.error,t);if(!r.isArray(a.error))return p(a.error,t);for(var c=0;c<a.error.length;c++)if(a.error[c]&&!r.isUndefinedOrNull(a.error[c].status))return h(a.error[c],t)}if(a.exception)return r.isUndefinedOrNull(a.exception.status)?p(a.exception,t):h(a.exception,t)}return e.stack?p(e,t):e.message?e.message:i.localize(12,null)}function m(e){return e instanceof Error&&e.name===T&&e.message===T}function v(){var e=new Error(T);return e.name=e.message,e}function y(){return new Error(i.localize(13,null))}function E(e){return e?new Error(i.localize(14,null,e)):new Error(i.localize(15,null))}function S(e){return e?new Error(i.localize(16,null,e)):new Error(i.localize(17,null))}function b(e){return e?new Error("readonly property '"+e+" cannot be changed'"):new Error("readonly property cannot be changed")}function _(e){return o.isWeb?new Error(i.localize(18,null)):new Error(i.localize(19,null,JSON.stringify(e)))}function C(e,t){void 0===t&&(t={});var i=new Error(e);return r.isNumber(t.severity)&&(i.severity=t.severity),t.actions&&(i.actions=t.actions),i}var w=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){o.setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e}();t.ErrorHandler=w,t.errorHandler=new w,t.setUnexpectedErrorHandler=c,t.onUnexpectedError=u,t.onUnexpectedPromiseError=l,t.transformErrorForSerialization=d;var I=function(){function e(e){this.status=e.status,this.statusText=e.statusText,this.name="ConnectionError";try{this.responseText=e.responseText}catch(t){this.responseText=""}if(this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var i=JSON.parse(this.responseText);this.errorMessage=i.message,this.errorCode=i.code,this.errorObject=i}catch(n){}}return Object.defineProperty(e.prototype,"message",{get:function(){return this.connectionErrorToMessage(this,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verboseMessage",{get:function(){return this.connectionErrorToMessage(this,!0)},enumerable:!0,configurable:!0}),e.prototype.connectionErrorDetailsToMessage=function(e,t){var n=e.errorCode,o=e.errorMessage;return null!==n&&null!==o?i.localize(0,null,a.rtrim(o,"."),n):null!==o?o:t&&null!==e.responseText?e.responseText:null},e.prototype.connectionErrorToMessage=function(e,t){var n=this.connectionErrorDetailsToMessage(e,t);return 401===e.status?null!==n?i.localize(1,null,n):i.localize(2,null):n?n:e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?i.localize(3,null,e.statusText,e.status,e.responseText):i.localize(4,null,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?i.localize(5,null,e.responseText):i.localize(6,null)},e}();t.ConnectionError=I,n.derive(Error,I),t.toErrorMessage=g;var T="Canceled";t.isPromiseCanceledError=m,t.canceled=v,t.notImplemented=y,t.illegalArgument=E,t.illegalState=S,t.readonly=b,t.loaderError=_,t.create=C}),define(l[264],d([1,0,7]),function(e,t,i){"use strict";var n=function(){function e(){}return e.prototype.add=function(e,t,i){var n=this;void 0===t&&(t=null),this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(i)&&i.push({dispose:function(){return n.remove(e,t)}})},e.prototype.remove=function(e,t){if(void 0===t&&(t=null),this._callbacks){for(var i=!1,n=0,o=this._callbacks.length;n<o;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);i=!0}if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(this._callbacks){for(var n=[],o=this._callbacks.slice(0),r=this._contexts.slice(0),s=0,a=o.length;s<a;s++)try{n.push(o[s].apply(r[s],e))}catch(c){i.onUnexpectedError(c)}return n}},e.prototype.isEmpty=function(){return!this._callbacks||0===this._callbacks.length},e.prototype.dispose=function(){this._callbacks=void 0,this._contexts=void 0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}),define(l[24],d([1,0,264]),function(e,t,i){"use strict";function n(e,t){return function(i,n,o){var r=e.addListener2(t,function(){i.apply(n,arguments)});return Array.isArray(o)&&o.push(r),r}}function o(e,t){return function(i,n,o){return void 0===n&&(n=null),e(function(e){return i.call(n,t(e))},null,o)}}function r(e,t){return function(i,n,o){return void 0===n&&(n=null),e(function(e){return t(e)&&i.call(n,e)},null,o)}}function s(e,t,i){void 0===i&&(i=100);var n,o,r,s=new c({onFirstListenerAdd:function(){n=e(function(e){o=t(o,e),clearTimeout(r),r=setTimeout(function(){s.fire(o),o=void 0},i)})},onLastListenerRemove:function(){n.dispose()}});return s.event}var a;!function(e){var t={dispose:function(){}};e.None=function(){return t}}(a||(a={})),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var c=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,o,r){t._callbacks||(t._callbacks=new i["default"]),t._options&&t._options.onFirstListenerAdd&&t._callbacks.isEmpty()&&t._options.onFirstListenerAdd(t),t._callbacks.add(n,o);var s;return s={dispose:function(){s.dispose=e._noop,t._disposed||(t._callbacks.remove(n,o),t._options&&t._options.onLastListenerRemove&&t._callbacks.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(r)&&r.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)},e.prototype.dispose=function(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0,this._disposed=!0)},e._noop=function(){},e}();t.Emitter=c,t.fromEventEmitter=n,t.mapEvent=o,t.filterEvent=r,t.debounceEvent=s;var u;!function(e){e[e.Idle=0]="Idle",e[e.Running=1]="Running"}(u||(u={}));var l=function(){function e(){this.buffers=[]}return e.prototype.wrapEvent=function(e){var t=this;return function(i,n,o){return e(function(e){var o=t.buffers[t.buffers.length-1];o?o.push(function(){return i.call(n,e)}):i.call(n,e)},void 0,o)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t),e(),this.buffers.pop(),t.forEach(function(e){return e()})},e}();t.EventBufferer=l}),define(l[59],d([1,0,17,12,24]),function(e,t,i,n,o){"use strict";function r(){return d.INSTANCE.getZoomLevel()}function s(){return d.INSTANCE.getPixelRatio()}function a(e){d.INSTANCE.setZoomLevel(e)}function c(e){return d.INSTANCE.onDidChangeZoomLevel(e)}function u(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;for(var e=!1,t=document.createElement("div"),n=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"],o=0;o<n.length;o++){var r=n[o];if(!i.isUndefinedOrNull(t.style[r])||t.style.hasOwnProperty(r)){e=!0;break}}return e?this._hasCSSAnimationSupport=!0:this._hasCSSAnimationSupport=!1,this._hasCSSAnimationSupport}function l(e){return(t.isIE11orEarlier||n.isNative)&&document.queryCommandSupported(e)}var d=function(){function e(){this._zoomLevel=0,this._pixelRatioCache=0,this._pixelRatioComputed=!1,this._onDidChangeZoomLevel=new o.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){this._zoomLevel!==e&&(this._zoomLevel=e,this._pixelRatioComputed=!1,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e.prototype.getPixelRatio=function(){return this._pixelRatioComputed||(this._pixelRatioCache=this._computePixelRatio(),this._pixelRatioComputed=!0),this._pixelRatioCache},e.prototype._computePixelRatio=function(){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i},e.INSTANCE=new e,e}();t.getZoomLevel=r,t.getPixelRatio=s,t.setZoomLevel=a,t.onDidChangeZoomLevel=c;var h=navigator.userAgent;t.isIE11=h.indexOf("Trident")>=0&&h.indexOf("MSIE")<0,t.isIE10=h.indexOf("MSIE 10")>=0,t.isIE9=h.indexOf("MSIE 9")>=0,t.isIE11orEarlier=t.isIE11||t.isIE10||t.isIE9,t.isIE10orEarlier=t.isIE10||t.isIE9,t.isIE10orLater=t.isIE11||t.isIE10,t.isOpera=h.indexOf("Opera")>=0,t.isFirefox=h.indexOf("Firefox")>=0,t.isWebKit=h.indexOf("AppleWebKit")>=0,t.isChrome=h.indexOf("Chrome")>=0,t.isSafari=h.indexOf("Chrome")===-1&&h.indexOf("Safari")>=0,t.isIPad=h.indexOf("iPad")>=0,t.canUseTranslate3d=!t.isIE9&&!t.isFirefox,t.enableEmptySelectionClipboard=t.isWebKit,t.hasCSSAnimationSupport=u,t.supportsExecCommand=l}),define(l[267],d([1,0,24]),function(e,t,i){"use strict";t.domEvent=function(e,t,n){var o=function(e){return r.fire(e)},r=new i.Emitter({onFirstListenerAdd:function(){e.addEventListener(t,o)},onLastListenerRemove:function(){e.removeEventListener(t,o)}});return r.event}}),define(l[77],d([1,0,12,59,244]),function(e,t,i,n,o){"use strict";var r=function(){function e(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=o.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();t.StandardMouseEvent=r;var s=function(e){function t(t){e.call(this,t),this.dataTransfer=t.dataTransfer}return h(t,e),t}(r);t.DragMouseEvent=s;var a=function(e){function t(t){e.call(this,t)}return h(t,e),t}(s);t.DropMouseEvent=a;var c=function(){function e(e,t,o){if(void 0===t&&(t=0),void 0===o&&(o=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=o,this.deltaX=t,e){var r=e,s=e;"undefined"!=typeof r.wheelDeltaY?this.deltaY=r.wheelDeltaY/120:"undefined"!=typeof s.VERTICAL_AXIS&&s.axis===s.VERTICAL_AXIS&&(this.deltaY=-s.detail/3),"undefined"!=typeof r.wheelDeltaX?n.isSafari&&i.isWindows?this.deltaX=-(r.wheelDeltaX/120):this.deltaX=r.wheelDeltaX/120:"undefined"!=typeof s.HORIZONTAL_AXIS&&s.axis===s.HORIZONTAL_AXIS&&(this.deltaX=-e.detail/3),0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();t.StandardMouseWheelEvent=c}),define(l[192],d([1,0,24]),function(e,t,i){"use strict";var n;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i["default"].None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i["default"].None})}(n=t.CancellationToken||(t.CancellationToken={}));var o=Object.freeze(function(e,t){var i=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(i)}}}),r=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?o:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)},enumerable:!0,configurable:!0}),e}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new r),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token.cancel():this._token=n.Cancelled},e.prototype.dispose=function(){this.cancel()},e}();t.CancellationTokenSource=s}),define(l[36],d([1,0,7]),function(e,t,i){"use strict";function n(e){try{return e()}catch(t){i.onUnexpectedError(t)}}function o(e,t){try{return e(t)}catch(n){i.onUnexpectedError(n)}}var r=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this._type=e,this._data=t}return e.prototype.getType=function(){return this._type},e.prototype.getData=function(){return this._data},e}();t.EmitterEvent=r;var s=function(){function e(e){if(void 0===e&&(e=null),this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,e){this._allowedEventTypes={};for(var t=0;t<e.length;t++)this._allowedEventTypes[e[t]]=!0}else this._allowedEventTypes=null}return e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0,this._allowedEventTypes=null},e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");if(this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("This object will never emit this event type!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var i=this;return{dispose:function(){i&&(i._removeListener(e,t),i=null,t=null)}}},e.prototype.addListener2=function(e,t){return this.addListener(e,t)},e.prototype.addOneTimeDisposableListener=function(e,t){var i=this.addListener(e,function(e){i.dispose(),t(e)});return i},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),{dispose:function(){t._removeBulkListener(e)}}},e.prototype.addBulkListener2=function(e){return this.addBulkListener(e)},e.prototype.addEmitter=function(e){var t=this;return e.addBulkListener2(function(e){var i=e;0===t._deferredCnt?t._emitEvents(i):t._collectedEvents.push.apply(t._collectedEvents,i)})},e.prototype.addEmitter2=function(e){return this.addEmitter(e)},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var i=this._listeners[e],n=0,o=i.length;n<o;n++)if(i[n]===t){i.splice(n,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,i=this._bulkListeners.length;t<i;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var i=this._listeners[e].slice(0),n=0,r=i.length;n<r;n++)o(i[n],t)},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),i=0,n=t.length;i<n;i++)o(t[i],e)},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,i=e.length;t<i;t++){var n=e[t];this._emitToSpecificTypeListeners(n.getType(),n.getData())}},e.prototype.emit=function(e,t){if(void 0===t&&(t={}),this._allowedEventTypes&&!this._allowedEventTypes.hasOwnProperty(e))throw new Error("Cannot emit this event type because it wasn't white-listed!");if(this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var i=new r(e,t);0===this._deferredCnt?this._emitEvents([i]):this._collectedEvents.push(i)}},e.prototype.deferredEmit=function(e){this._deferredCnt=this._deferredCnt+1;var t=n(e);return this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected(),t},e.prototype._emitCollected=function(){var e=this._collectedEvents;this._collectedEvents=[],e.length>0&&this._emitEvents(e)},e}();t.EventEmitter=s;var a=function(){function e(e,t){this.target=e,this.arg=t}return e}(),c=function(e){function t(t){void 0===t&&(t=null),e.call(this,t),this._emitQueue=[]}return h(t,e),t.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var i=this._listeners[e],n=0,o=i.length;n<o;n++)this._emitQueue.push(new a(i[n],t))},t.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners,i=0,n=t.length;i<n;i++)this._emitQueue.push(new a(t[i],e))},t.prototype._emitEvents=function(t){for(e.prototype._emitEvents.call(this,t);this._emitQueue.length>0;){var i=this._emitQueue.shift();o(i.target,i.arg)}},t}(s);t.OrderGuaranteeEventEmitter=c}),define(l[364],d([1,0,5,24]),function(e,t,i,n){"use strict";var o=function(e){function t(){e.call(this),this._onScroll=this._register(new n.Emitter),this.onScroll=this._onScroll.event,this._width=0,this._scrollWidth=0,this._scrollLeft=0,this._height=0,this._scrollHeight=0,this._scrollTop=0}return h(t,e),t.prototype.getWidth=function(){return this._width},t.prototype.getScrollWidth=function(){return this._scrollWidth},t.prototype.getScrollLeft=function(){return this._scrollLeft},t.prototype.getHeight=function(){return this._height},t.prototype.getScrollHeight=function(){return this._scrollHeight},t.prototype.getScrollTop=function(){return this._scrollTop},t.prototype.updateState=function(e){var t="undefined"!=typeof e.width?0|e.width:this._width,i="undefined"!=typeof e.scrollWidth?0|e.scrollWidth:this._scrollWidth,n="undefined"!=typeof e.scrollLeft?0|e.scrollLeft:this._scrollLeft,o="undefined"!=typeof e.height?0|e.height:this._height,r="undefined"!=typeof e.scrollHeight?0|e.scrollHeight:this._scrollHeight,s="undefined"!=typeof e.scrollTop?0|e.scrollTop:this._scrollTop;t<0&&(t=0),n+t>i&&(n=i-t),n<0&&(n=0),o<0&&(o=0),s+o>r&&(s=r-o),s<0&&(s=0);var a=this._width!==t,c=this._scrollWidth!==i,u=this._scrollLeft!==n,l=this._height!==o,d=this._scrollHeight!==r,h=this._scrollTop!==s;(a||c||u||l||d||h)&&(this._width=t,this._scrollWidth=i,this._scrollLeft=n,this._height=o,this._scrollHeight=r,this._scrollTop=s,this._onScroll.fire({width:this._width,scrollWidth:this._scrollWidth,scrollLeft:this._scrollLeft,height:this._height,scrollHeight:this._scrollHeight,scrollTop:this._scrollTop,widthChanged:a,scrollWidthChanged:c,scrollLeftChanged:u,heightChanged:l,scrollHeightChanged:d,scrollTopChanged:h}))},t}(i.Disposable);t.Scrollable=o}),define(l[75],d([1,0,12,7,268]),function(e,t,i,n,o){"use strict";function r(e,t,i,n){return h.start(e,t,i,n)}function s(){return h}t.ENABLE_TIMER=!1;var a=i.globals.msWriteProfilerMark;!function(e){e[e.EDITOR=0]="EDITOR",e[e.LANGUAGES=1]="LANGUAGES",e[e.WORKER=2]="WORKER",e[e.WORKBENCH=3]="WORKBENCH",e[e.STARTUP=4]="STARTUP"}(t.Topic||(t.Topic={}));var c=t.Topic,u=function(){function e(){}return e.prototype.stop=function(){},e.prototype.timeTaken=function(){return-1},e}(),l=function(){function e(e,t,i,n,r){if(this.timeKeeper=e,this.name=t,this.description=r,this.topic=i,this.stopTime=null,n)return void(this.startTime=n);if(this.startTime=new Date,this.sw=o.StopWatch.create(),a){var s=["Monaco",this.topic,this.name,"start"];a(s.join("|"))}}return e.prototype.stop=function(e){if(null===this.stopTime){if(e)return this.stopTime=e,this.sw=null,void this.timeKeeper._onEventStopped(this);if(this.stopTime=new Date,this.sw&&this.sw.stop(),this.timeKeeper._onEventStopped(this),a){var t=["Monaco",this.topic,this.name,"stop"];a(t.join("|"))}}},e.prototype.timeTaken=function(){return this.sw?this.sw.elapsed():this.stopTime?this.stopTime.getTime()-this.startTime.getTime():-1},e}(),d=function(){
function e(){this.cleaningIntervalId=-1,this.collectedEvents=[],this.listeners=[]}return e.prototype.isEnabled=function(){return t.ENABLE_TIMER},e.prototype.start=function(e,i,n,o){if(!this.isEnabled())return t.nullEvent;var r;"string"==typeof e?r=e:e===c.EDITOR?r="Editor":e===c.LANGUAGES?r="Languages":e===c.WORKER?r="Worker":e===c.WORKBENCH?r="Workbench":e===c.STARTUP&&(r="Startup"),this.initAutoCleaning();var s=new l(this,i,r,n,o);return this.addEvent(s),s},e.prototype.dispose=function(){this.cleaningIntervalId!==-1&&(i.clearInterval(this.cleaningIntervalId),this.cleaningIntervalId=-1)},e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),{dispose:function(){for(var i=0;i<t.listeners.length;i++)if(t.listeners[i]===e)return void t.listeners.splice(i,1)}}},e.prototype.addEvent=function(t){t.id=e.EVENT_ID,e.EVENT_ID++,this.collectedEvents.push(t),this.collectedEvents.length>e._EVENT_CACHE_LIMIT&&this.collectedEvents.shift()},e.prototype.initAutoCleaning=function(){var t=this;this.cleaningIntervalId===-1&&(this.cleaningIntervalId=i.setInterval(function(){var i=Date.now();t.collectedEvents.forEach(function(t){!t.stopTime&&i-t.startTime.getTime()>=e._MAX_TIMER_LENGTH&&t.stop()})},e._CLEAN_UP_INTERVAL))},e.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},e.prototype.clearCollectedEvents=function(){this.collectedEvents=[]},e.prototype._onEventStopped=function(e){for(var t=[e],i=this.listeners.slice(0),o=0;o<i.length;o++)try{i[o](t)}catch(r){n.onUnexpectedError(r)}},e.prototype.setInitialCollectedEvents=function(t,i){var n=this;this.isEnabled()&&(i&&(e.PARSE_TIME=i),t.forEach(function(e){var t=new l(n,e.name,e.topic,e.startTime,e.description);t.stop(e.stopTime),n.addEvent(t)}))},e._MAX_TIMER_LENGTH=6e4,e._CLEAN_UP_INTERVAL=12e4,e._EVENT_CACHE_LIMIT=1e3,e.EVENT_ID=1,e.PARSE_TIME=new Date,e}();t.TimeKeeper=d;var h=new d;t.nullEvent=new u,t.start=r,t.getTimeKeeper=s}),define(l[2],d([1034,7]),function(e,t){"use strict";function i(e){var i=e.detail,o=i.id;return i.parent?void(i.handler&&n&&delete n[o]):(n[o]=i,void(1===Object.keys(n).length&&setTimeout(function(){var e=n;n={},Object.keys(e).forEach(function(i){var n=e[i];n.exception?t.onUnexpectedError(n.exception):n.error&&t.onUnexpectedError(n.error),console.log("WARNING: Promise with no error callback:"+n.id),console.log(n),n.exception&&console.log(n.exception.stack)})},0)))}var n={};return e.Promise.addEventListener("error",i),{Promise:e.Promise,TPromise:e.Promise,PPromise:e.Promise}}),define(l[27],d([1,0,2,36,66]),function(e,t,i,n,o){"use strict";function r(e){return!!e&&(e instanceof s||"string"==typeof e.id&&("string"==typeof e.label&&("string"==typeof e["class"]&&("boolean"==typeof e.enabled&&("boolean"==typeof e.checked&&"function"==typeof e.run)))))}t.isAction=r;var s=function(e){function t(t,i,n,o,r){void 0===i&&(i=""),void 0===n&&(n=""),void 0===o&&(o=!0),void 0===r&&(r=null),e.call(this),this._id=t,this._label=i,this._cssClass=n,this._enabled=o,this._actionCallback=r}return h(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),t.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this.emit(t.LABEL,{source:this}))},Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),t.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this.emit(t.TOOLTIP,{source:this}))},Object.defineProperty(t.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),t.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this.emit(t.CLASS,{source:this}))},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),t.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this.emit(t.ENABLED,{source:this}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),t.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this.emit(t.CHECKED,{source:this}))},Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionCallback",{get:function(){return this._actionCallback},set:function(e){this._actionCallback=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return null!==this._actionCallback?this._actionCallback(e):i.TPromise.as(!0)},t.LABEL="label",t.TOOLTIP="tooltip",t.CLASS="class",t.ENABLED="enabled",t.CHECKED="checked",t}(n.EventEmitter);t.Action=s;var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.run=function(e,t){var n=this;return e.enabled?(this.emit(o.EventType.BEFORE_RUN,{action:e}),i.TPromise.as(e.run(t)).then(function(t){n.emit(o.EventType.RUN,{action:e,result:t})},function(t){n.emit(o.EventType.RUN,{action:e,error:t})})):i.TPromise.as(null)},t}(n.EventEmitter);t.ActionRunner=a}),define(l[16],d([1,0,7,12,2,192,5]),function(e,t,i,n,o,r,s){"use strict";function a(e){return e&&"function"==typeof e.then}function c(e){return a(e)?e:o.TPromise.as(e)}function u(e){var t=new r.CancellationTokenSource;return new o.TPromise(function(i,n){var o=e(t.token);a(o)?o.then(i,n):i(o)},function(){t.cancel()})}function l(e,t){return e.onCancellationRequested(function(){return t.cancel()}),t}function d(e,t){return new o.TPromise(function(n,o,r){e.done(function(e){try{t(e)}catch(o){i.onUnexpectedError(o)}n(e)},function(e){try{t(e)}catch(n){i.onUnexpectedError(n)}o(e)},function(e){r(e)})},function(){e.cancel()})}function p(e){function t(){return e.length?e.pop()():null}function i(e){e&&n.push(e);var r=t();return r?r.then(i):o.TPromise.as(n)}var n=[];return e=e.reverse(),o.TPromise.as(null).then(i)}function f(e){var t,i=this,n=!1;return function(){return n?t:(n=!0,t=e.apply(i,arguments))}}function g(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new o.Promise(function(i,n){return e.apply(void 0,t.concat([function(e,t){return e?n(e):i(t)}]))})}function m(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return new o.Promise(function(n,o){return t.call.apply(t,[e].concat(i,[function(e,t){return e?o(e):n(t)}]))})}t.toThenable=c,t.asWinJsPromise=u,t.wireCancellationToken=l;var v=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var i=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new o.Promise(function(e,n,o){t.activePromise.then(i,i,o).done(e)},function(){t.activePromise.cancel()})}return new o.Promise(function(e,i,n){t.queuedPromise.then(e,i,n)},function(){})}return this.activePromise=e(),new o.Promise(function(e,i,n){t.activePromise.done(function(i){t.activePromise=null,e(i)},function(e){t.activePromise=null,i(e)},n)},function(){t.activePromise.cancel()})},e}();t.Throttler=v;var y=function(){function e(){this.current=o.TPromise.as(null)}return e.prototype.queue=function(e){return this.current=this.current.then(function(){return e()})},e}();t.SimpleThrottler=y;var E=function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){var i=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new o.Promise(function(e){i.onSuccess=e},function(){}).then(function(){i.completionPromise=null,i.onSuccess=null;var e=i.task;return i.task=null,e()})),this.timeout=setTimeout(function(){i.timeout=null,i.onSuccess(null)},t),this.completionPromise},e.prototype.isTriggered=function(){return null!==this.timeout},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e}();t.Delayer=E;var S=function(e){function t(t){e.call(this,t),this.throttler=new v}return h(t,e),t.prototype.trigger=function(t,i){var n=this;return e.prototype.trigger.call(this,function(){return n.throttler.queue(t)},i)},t}(E);t.ThrottledDelayer=S;var b=function(e){function t(t,i){void 0===i&&(i=0),e.call(this,t),this.minimumPeriod=i,this.periodThrottler=new v}return h(t,e),t.prototype.trigger=function(t,i){var n=this;return e.prototype.trigger.call(this,function(){return n.periodThrottler.queue(function(){return o.Promise.join([o.TPromise.timeout(n.minimumPeriod),t()]).then(function(e){return e[1]})})},i)},t}(S);t.PeriodThrottledDelayer=b;var _=function(){function e(){var e=this;this._value=new o.TPromise(function(t,i){e._completeCallback=t,e._errorCallback=i})}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.complete=function(e){this._completeCallback(e)},e.prototype.error=function(e){this._errorCallback(e)},e}();t.PromiseSource=_;var C=function(e){function t(t){var n,o,r;e.call(this,function(e,t,i){n=e,o=t,r=i},function(){o(i.canceled())}),t.then(n,o,r)}return h(t,e),t}(o.TPromise);t.ShallowCancelThenPromise=C,t.always=d,t.sequence=p,t.once=f;var w=function(){function e(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0}return e.prototype.queue=function(e){var t=this;return new o.TPromise(function(i,n,o){t.outstandingPromises.push({factory:e,c:i,e:n,p:o}),t.consume()})},e.prototype.consume=function(){for(var e=this;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){var t=this.outstandingPromises.shift();this.runningPromises++;var i=t.factory();i.done(t.c,t.e,t.p),i.done(function(){return e.consumed()},function(){return e.consumed()})}},e.prototype.consumed=function(){this.runningPromises--,this.consume()},e}();t.Limiter=w;var I=function(e){function t(){e.call(this),this._token=-1}return h(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){this._token!==-1&&(n.clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var i=this;this.cancel(),this._token=n.setTimeout(function(){i._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var i=this;this._token===-1&&(this._token=n.setTimeout(function(){i._token=-1,e()},t))},t}(s.Disposable);t.TimeoutTimer=I;var T=function(e){function t(){e.call(this),this._token=-1}return h(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){this._token!==-1&&(n.clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=n.setInterval(function(){e()},t)},t}(s.Disposable);t.IntervalTimer=T;var A=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(n.clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.setRunner=function(e){this.runner=e},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=n.setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return this.timeoutToken!==-1},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.runner()},e}();t.RunOnceScheduler=A,t.nfcall=g,t.ninvoke=m}),define(l[358],d([1,0,5,16,94]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t,i,o){e.call(this),this._visibility=t,this._visibleClassName=i,this._invisibleClassName=o,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new n.TimeoutTimer)}return h(t,e),t.prototype.applyVisibilitySetting=function(e){return this._visibility!==o.ScrollbarVisibility.Hidden&&(this._visibility===o.ScrollbarVisibility.Visible||e)},t.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())},t.prototype.setIsNeeded=function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())},t.prototype.setDomNode=function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},t.prototype.ensureVisibility=function(){return this._isNeeded?void(this._shouldBeVisible?this._reveal():this._hide(!0)):void this._hide(!1)},t.prototype._reveal=function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(function(){e._domNode.setClassName(e._visibleClassName)},0))},t.prototype._hide=function(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))},t}(i.Disposable);t.ScrollbarVisibilityController=r}),define(l[98],d([1,0,2]),function(e,t,i){"use strict";function n(e){var t=null,n=!1;return new i.TPromise(function(i,o,r){t=new XMLHttpRequest,t.onreadystatechange=function(){n||(4===t.readyState?(t.status>=200&&t.status<300||1223===t.status?i(t):o(t),t.onreadystatechange=function(){}):r(t))},t.open(e.type||"GET",e.url,!0,e.user,e.password),t.responseType=e.responseType||"",Object.keys(e.headers||{}).forEach(function(i){t.setRequestHeader(i,e.headers[i])}),e.customRequestInitializer&&e.customRequestInitializer(t),t.send(e.data)},function(){n=!0,t.abort()})}var o;!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.http="http",e.https="https",e.file="file"}(o=t.Schemas||(t.Schemas={})),t.xhr=n}),define(l[355],d([1,0,2,259,17]),function(e,t,i,n,o){"use strict";function r(e){return{firstPage:e,total:e.length,pageSize:e.length,getPage:null}}function s(e,t){return{firstPage:e.firstPage.map(t),total:e.total,pageSize:e.pageSize,getPage:function(i){return e.getPage(i).then(function(e){return e.map(t)})}}}t.singlePagePager=r;var a=function(){function e(e,t){void 0===t&&(t=500),this.arg=e,this.pageTimeout=t,this.pages=[],this.pager=o.isArray(e)?r(e):e,this.pages=[{isResolved:!0,promise:null,promiseIndexes:new n.ArraySet,elements:this.pager.firstPage.slice()}];for(var i=Math.ceil(this.pager.total/this.pager.pageSize),s=0,a=i-1;s<a;s++)this.pages.push({isResolved:!1,promise:null,promiseIndexes:new n.ArraySet,elements:[]})}return Object.defineProperty(e.prototype,"length",{get:function(){return this.pager.total},enumerable:!0,configurable:!0}),e.prototype.isResolved=function(e){var t=Math.floor(e/this.pager.pageSize),i=this.pages[t];return!!i.isResolved},e.prototype.get=function(e){var t=Math.floor(e/this.pager.pageSize),i=e%this.pager.pageSize,n=this.pages[t];return n.elements[i]},e.prototype.resolve=function(e){var t=this,n=Math.floor(e/this.pager.pageSize),o=e%this.pager.pageSize,r=this.pages[n];return r.isResolved?i.TPromise.as(r.elements[o]):(r.promise||(r.promise=i.TPromise.timeout(this.pageTimeout).then(function(){return t.pager.getPage(n)}).then(function(e){r.elements=e,r.isResolved=!0,r.promise=null},function(e){return r.isResolved=!1,r.promise=null,i.TPromise.wrapError(e)})),new i.TPromise(function(t,i){r.promiseIndexes.set(e),r.promise.done(function(){return t(r.elements[o])})},function(){r.promise&&(r.promiseIndexes.unset(e),0===r.promiseIndexes.elements.length&&r.promise.cancel())}))},e}();t.PagedModel=a,t.mapPager=s}),define(l[354],d([1,0,7,5,2,16]),function(e,t,i,n,o,r){"use strict";function s(e){return new l(e)}var a="$initialize",c=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var i=String(++this._lastSentReq),n={c:null,e:null},r=new o.TPromise(function(e,t,i){n.c=e,n.e=t},function(){});return this._pendingReplies[i]=n,this._send({vsWorker:this._workerId,req:i,method:e,args:t}),r},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(i){}t.vsWorker&&(this._workerId!==-1&&t.vsWorker!==this._workerId||this._handleMessage(t))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var n=e;if(!this._pendingReplies[n.seq])return void console.warn("Got reply to unknown seq");var o=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){var r=n.err;return n.err.$isError&&(r=new Error,r.name=n.err.name,r.message=n.err.message,r.stack=n.err.stack),void o.e(r)}return void o.c(n.res)}var s=e,a=s.req,c=this._handler.handleMessage(s.method,s.args);c.then(function(e){t._send({vsWorker:t._workerId,seq:a,res:e,err:void 0})},function(e){t._send({vsWorker:t._workerId,seq:a,res:void 0,err:i.transformErrorForSerialization(e)})})},e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)},e}(),u=function(e){function t(t,i){var n=this;e.call(this),this._lastRequestTimestamp=-1;var r=null,s=null;this._worker=this._register(t.create("vs/base/common/worker/simpleWorker",function(e){n._protocol.handleMessage(e)},function(e){s(e)})),this._protocol=new c({sendMessage:function(e){n._worker.postMessage(e)},handleMessage:function(e,t){return o.TPromise.as(null)}}),this._protocol.setWorkerId(this._worker.getId());var u=null,l=window.require;"function"==typeof l.getConfig?u=l.getConfig():"undefined"!=typeof window.requirejs&&(u=window.requirejs.s.contexts._.config),this._lazyProxy=new o.TPromise(function(e,t,i){r=e,s=t},function(){}),this._onModuleLoaded=this._protocol.sendMessage(a,[this._worker.getId(),i,u]),this._onModuleLoaded.then(function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=h(e[i],d);r(t)},function(e){s(e),n._onError("Worker failed to load "+i,e)});var d=function(e,t){return n._request(e,t)},h=function(e,t){return function(){var i=Array.prototype.slice.call(arguments,0);return t(e,i)}}}return h(t,e),t.prototype.getProxyObject=function(){return new r.ShallowCancelThenPromise(this._lazyProxy)},t.prototype.getLastRequestTimestamp=function(){return this._lastRequestTimestamp},t.prototype._request=function(e,t){var i=this;return new o.TPromise(function(n,o,r){i._onModuleLoaded.then(function(){i._lastRequestTimestamp=Date.now(),i._protocol.sendMessage(e,t).then(n,o)},o)},function(){})},t.prototype._onError=function(e,t){console.error(e),console.info(t)},t}(n.Disposable);t.SimpleWorkerClient=u;var l=function(){function t(e){var t=this;this._protocol=new c({sendMessage:function(t){e(t)},handleMessage:function(e,i){return t._handleMessage(e,i)}})}return t.prototype.onmessage=function(e){this._protocol.handleMessage(e)},t.prototype._handleMessage=function(e,t){if(e===a)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return o.TPromise.wrapError(new Error("Missing requestHandler or method: "+e));try{return o.TPromise.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(i){return o.TPromise.wrapError(i)}},t.prototype.initialize=function(t,i,n){var r=this;if(this._protocol.setWorkerId(t),n){"undefined"!=typeof n.baseUrl&&delete n.baseUrl,"undefined"!=typeof n.paths&&"undefined"!=typeof n.paths.vs&&delete n.paths.vs;var s=n["vs/nls"];s&&s.pseudo&&e(["vs/nls"],function(e){e.setPseudoTranslation(s.pseudo)}),n.catchError=!0,self.require.config(n)}var a,c,u=new o.TPromise(function(e,t,i){a=e,c=t});return self.require([i],function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=e[0];r._requestHandler=i.create();var n=[];for(var o in r._requestHandler)"function"==typeof r._requestHandler[o]&&n.push(o);a(n)},c),u},t}();t.SimpleWorkerServer=l,t.create=s}),define(l[201],d([1,0,7,166,2,989]),function(e,t,i,n,o,r){"use strict";function s(e){a||(a=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message)}var a=!1;t.logOnceWebWorkerWarning=s;var c=function(){function e(e,t){var i=this;this._lastMessageId=0,this._promises={},this._messagesQueue=[],this._processQueueTimeout=-1,this._waitingForWorkerReply=!1,this._worker=e.create("vs/base/common/worker/workerServer",function(e){return i._onSerializedMessage(e)},function(e){var t=i._promises[1];delete i._promises[1],t.error(e)});var n=null,o=window.require;"function"==typeof o.getConfig?n=o.getConfig():"undefined"!=typeof window.requirejs&&(n=window.requirejs.s.contexts._.config),this.onModuleLoaded=this._sendMessage(r.MessageType.INITIALIZE,{id:this._worker.getId(),moduleId:t,loaderConfiguration:n})}return e.prototype.request=function(e,t){var i=this;if("$"===e.charAt(0))throw new Error("Illegal requestName: "+e);var n,r=!1;return new o.TPromise(function(o,s,a){i.onModuleLoaded.then(function(){r||(n=i._sendMessage(e,t).then(o,s,a))},s,a)},function(){n?n.cancel():r=!0})},e.prototype.dispose=function(){var e=Object.keys(this._promises);if(e.length>0){console.warn("Terminating a worker with "+e.length+" pending promises:"),console.warn(this._promises);for(var t in this._promises)e.hasOwnProperty(t)&&this._promises[t].error("Worker forcefully terminated")}this._worker.dispose()},e.prototype._sendMessage=function(e,t){var i,n,r,s=this,a={id:++this._lastMessageId,type:e,timestamp:Date.now(),payload:t},c=new o.TPromise(function(e,t,o){i=e,n=t,r=o},function(){s._removeMessage(a.id)});return this._promises[a.id]={complete:i,error:n,progress:r,type:e,payload:t},this._enqueueMessage(a),c},e.prototype._enqueueMessage=function(e){var t,i=-1;for(t=this._messagesQueue.length-1;t>=0;t--)if(this._messagesQueue[t].timestamp<=e.timestamp){i=t;break}this._messagesQueue.splice(i+1,0,e),this._processMessagesQueue()},e.prototype._removeMessage=function(e){for(var t=0,i=this._messagesQueue.length;t<i;t++)if(this._messagesQueue[t].id===e)return this._promises.hasOwnProperty(String(e))&&delete this._promises[String(e)],this._messagesQueue.splice(t,1),void this._processMessagesQueue()},e.prototype._processMessagesQueue=function(){var e=this;if(this._processQueueTimeout!==-1&&(clearTimeout(this._processQueueTimeout),this._processQueueTimeout=-1),0!==this._messagesQueue.length&&!this._waitingForWorkerReply){var t=this._messagesQueue[0].timestamp-(new Date).getTime();t=Math.max(0,t),this._processQueueTimeout=setTimeout(function(){if(e._processQueueTimeout=-1,0!==e._messagesQueue.length){e._waitingForWorkerReply=!0;var t=e._messagesQueue.shift();e._postMessage(t)}},t)}},e.prototype._postMessage=function(e){this._worker.postMessage(n.stringify(e))},e.prototype._onSerializedMessage=function(e){var t=null;try{t=n.parse(e)}catch(i){}t&&this._onmessage(t)},e.prototype._onmessage=function(e){if(e.monacoWorker&&(!e.from||e.from===this._worker.getId())){switch(e.type){case r.MessageType.REPLY:var t=e;if(this._waitingForWorkerReply=!1,!this._promises.hasOwnProperty(String(t.id)))return void this._onError("Received unexpected message from Worker:",e);switch(t.action){case r.ReplyType.COMPLETE:this._promises[t.id].complete(t.payload),delete this._promises[t.id];break;case r.ReplyType.ERROR:this._onError("Main Thread sent to worker the following message:",{type:this._promises[t.id].type,payload:this._promises[t.id].payload}),this._onError("And the worker replied with an error:",t.payload),i.onUnexpectedError(t.payload),this._promises[t.id].error(t.payload),delete this._promises[t.id];break;case r.ReplyType.PROGRESS:this._promises[t.id].progress(t.payload)}break;case r.MessageType.PRINT:var n=e;this._consoleLog(n.level,n.payload);break;default:this._onError("Received unexpected message from worker:",e)}this._processMessagesQueue()}},e.prototype._consoleLog=function(e,t){switch(e){case r.PrintType.LOG:console.log(t);break;case r.PrintType.DEBUG:console.info(t);break;case r.PrintType.INFO:console.info(t);break;case r.PrintType.WARN:console.warn(t);break;case r.PrintType.ERROR:console.error(t);break;default:this._onError("Received unexpected message from Worker:",t)}},e.prototype._onError=function(e,t){console.error(e),console.info(t)},e}();t.WorkerClient=c}),define(l[112],d([1,0,2,161,25,74,16,102]),function(e,t,i,n,o,r,s,a){"use strict";function c(e){return e===r.dirname(e)}function u(e){return s.nfcall(n.readdir,e)}function l(e){return new i.Promise(function(t){return a.exists(e,t)})}function d(e,t){return s.nfcall(a.chmod,e,t)}function h(e,t){var n=function(){return s.nfcall(a.mkdir,e,t).then(null,function(t){return"EEXIST"===t.code?s.nfcall(a.stat,e).then(function(t){return t.isDirectory?null:i.Promise.wrapError(new Error("'"+e+"' exists and is not a directory."))}):i.TPromise.wrapError(t)})};return c(e)?i.TPromise.as(!0):n().then(null,function(o){return"ENOENT"===o.code?h(r.dirname(e),t).then(n):i.TPromise.wrapError(o)})}function p(e){return m(e).then(function(t){return t.isDirectory()&&!t.isSymbolicLink()?u(e).then(function(t){return i.TPromise.join(t.map(function(t){return p(r.join(e,t))}))}).then(function(){return E(e)}):S(e)},function(e){if("ENOENT"!==e.code)return i.TPromise.wrapError(e)})}function f(e){return s.nfcall(a.realpath,e,null)}function g(e){return s.nfcall(a.stat,e)}function m(e){return s.nfcall(a.lstat,e)}function v(e){return C(e.slice(0))}function y(e,t){return s.nfcall(a.rename,e,t)}function E(e){return s.nfcall(a.rmdir,e)}function S(e){return s.nfcall(a.unlink,e)}function b(e,t,i){return s.nfcall(a.symlink,e,t,i)}function _(e){return s.nfcall(a.readlink,e)}function C(e){var t=e.shift();return g(t).then(function(e){return{path:t,stats:e}},function(t){return 0===e.length?t:v(e)})}function w(e,t){return s.nfcall(a.readFile,e,t)}function I(e,t,i){return void 0===i&&(i="utf8"),s.nfcall(a.writeFile,e,t,i)}function T(e){return u(e).then(function(t){return i.TPromise.join(t.map(function(t){return A(o.join(e,t),t)})).then(function(e){return M(e)})})}function A(e,t){return L(e).then(function(e){return e?t:null})}function L(e){return g(e).then(function(e){return e.isDirectory()},function(){return!1})}function D(e){return g(e).then(function(e){return e.isFile()},function(){return!1})}function k(e,t){return u(e).then(function(n){n=n.filter(function(e){return t.test(e)});var r=n.map(function(t){return x(o.join(e,t),t)});return i.TPromise.join(r).then(function(e){return M(e)})})}function x(e,t){return D(e).then(function(e){return e?t:null},function(e){return i.TPromise.wrapError(e)})}function M(e){return e.filter(function(e){return null!==e})}t.isRoot=c,t.readdir=u,t.exists=l,t.chmod=d,t.mkdirp=h,t.rimraf=p,t.realpath=f,t.stat=g,t.lstat=m,t.mstat=v,t.rename=y,t.rmdir=E,t.unlink=S,t.symlink=b,t.readlink=_,t.readFile=w,t.writeFile=I,t.readDirsInDir=T,t.dirExists=L,t.fileExists=D,t.readFiles=k,t.fileExistsWithResult=x}),define(l[353],d([1,0,2,17,1036,1037,968,102,29]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){var t;return new i.TPromise(function(i,a){var l=s.parse(e.url),d={hostname:l.hostname,port:l.port?parseInt(l.port):"https:"===l.protocol?443:80,path:l.path,method:e.type||"GET",headers:e.headers,agent:e.agent,rejectUnauthorized:!n.isBoolean(e.strictSSL)||e.strictSSL};e.user&&e.password&&(d.auth=e.user+":"+e.password);var h="https:"===l.protocol?o:r;t=h.request(d,function(n){i(n.statusCode>=300&&n.statusCode<400&&e.followRedirects&&e.followRedirects>0&&n.headers.location?u(c.assign({},e,{url:n.headers.location,followRedirects:e.followRedirects-1})):{req:t,res:n})}),t.on("error",a),e.timeout&&t.setTimeout(e.timeout),e.data&&t.write(e.data),t.end()},function(){return t&&t.abort()})}function l(e,t){return u(c.assign(t,{followRedirects:3})).then(function(t){return new i.TPromise(function(i,n){var o=a.createWriteStream(e);o.once("finish",function(){return i(null)}),t.res.once("error",n),t.res.pipe(o)})})}function d(e){return u(e).then(function(e){return new i.Promise(function(t,i){if(!(e.res.statusCode>=200&&e.res.statusCode<300||1223===e.res.statusCode))return i("Server returned "+e.res.statusCode);if(204===e.res.statusCode)return t(null);var n=[];e.res.on("data",function(e){return n.push(e)}),e.res.on("end",function(){return t(n.join(""))}),e.res.on("error",i)})})}function h(e){return u(e).then(function(e){return new i.Promise(function(t,i){if(!(e.res.statusCode>=200&&e.res.statusCode<300||1223===e.res.statusCode))return i("Server returned "+e.res.statusCode);if(204===e.res.statusCode)return t(null);if(!/application\/json/.test(e.res.headers["content-type"]))return i("Response doesn't appear to be JSON");var n=[];e.res.on("data",function(e){return n.push(e)}),e.res.on("end",function(){return t(JSON.parse(n.join("")))}),e.res.on("error",i)})})}t.request=u,t.download=l,t.text=d,t.json=h}),define(l[115],d([1,0,2,5,24]),function(e,t,i,n,o){"use strict";function r(e){var t=function(t,i){return e.then(function(e){return e.call(t,i)})};return{call:t}}function s(e){var t=!1,n=function(n,o){return t?e.call(n,o):i.TPromise.timeout(0).then(function(){return t=!0}).then(function(){return e.call(n,o)})};return{call:n}}function a(e){var t;return new i.Promise(function(i,n,o){return t=e(o)},function(){return t.dispose()})}function c(e,t){var i,n=new o.Emitter({onFirstListenerAdd:function(){i=e.call(t,null).then(null,function(e){return null},function(e){return n.fire(e)})},onLastListenerRemove:function(){i.cancel(),i=null}});return n.event}var u;!function(e){e[e.Common=0]="Common",e[e.Cancel=1]="Cancel"}(u||(u={}));var l;!function(e){e[e.Initialize=0]="Initialize",e[e.Success=1]="Success",e[e.Progress=2]="Progress",e[e.Error=3]="Error",e[e.ErrorObj=4]="ErrorObj"}(l||(l={}));var d;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Idle=1]="Idle"}(d||(d={}));var h=function(){function e(e){var t=this;this.protocol=e,this.channels=Object.create(null),this.activeRequests=Object.create(null),this.protocol.onMessage(function(e){return t.onMessage(e)}),this.protocol.send({type:l.Initialize})}return e.prototype.registerChannel=function(e,t){this.channels[e]=t},e.prototype.onMessage=function(e){switch(e.type){case u.Common:this.onCommonRequest(e);break;case u.Cancel:this.onCancelRequest(e)}},e.prototype.onCommonRequest=function(e){var t,o=this,r=this.channels[e.channelName];try{t=r.call(e.name,e.arg)}catch(s){t=i.Promise.wrapError(s)}var a=e.id,c=t.then(function(t){o.protocol.send({id:a,data:t,type:l.Success}),delete o.activeRequests[e.id]},function(t){t instanceof Error?o.protocol.send({id:a,data:{message:t.message,name:t.name,stack:t.stack?t.stack.split("\n"):void 0},type:l.Error}):o.protocol.send({id:a,data:t,type:l.ErrorObj}),delete o.activeRequests[e.id]},function(e){o.protocol.send({id:a,data:e,type:l.Progress})});this.activeRequests[e.id]=n.toDisposable(function(){return c.cancel()})},e.prototype.onCancelRequest=function(e){var t=this.activeRequests[e.id];t&&(t.dispose(),delete this.activeRequests[e.id])},e.prototype.dispose=function(){var e=this;Object.keys(this.activeRequests).forEach(function(t){e.activeRequests[t].dispose()}),this.activeRequests=null},e}();t.Server=h;var p=function(){function e(e){var t=this;this.protocol=e,this.state=d.Uninitialized,this.bufferedRequests=[],this.handlers=Object.create(null),this.lastRequestId=0,this.protocol.onMessage(function(e){return t.onMessage(e)})}return e.prototype.getChannel=function(e){var t=this,i=function(i,n){return t.request(e,i,n)};return{call:i}},e.prototype.request=function(e,t,i){var n={raw:{id:this.lastRequestId++,type:u.Common,channelName:e,name:t,arg:i}};return this.state===d.Uninitialized?this.bufferRequest(n):this.doRequest(n)},e.prototype.doRequest=function(e){var t=this,n=e.raw.id;return new i.Promise(function(i,o,r){t.handlers[n]=function(e){
switch(e.type){case l.Success:delete t.handlers[n],i(e.data);break;case l.Error:delete t.handlers[n];var s=new Error(e.data.message);s.stack=e.data.stack,s.name=e.data.name,o(s);break;case l.ErrorObj:delete t.handlers[n],o(e.data);break;case l.Progress:r(e.data)}},t.send(e.raw)},function(){return t.send({id:n,type:u.Cancel})})},e.prototype.bufferRequest=function(e){var t=this,n=null;return new i.Promise(function(i,o,r){t.bufferedRequests.push(e),e.flush=function(){e.flush=null,n=t.doRequest(e).then(i,o,r)}},function(){if(e.flush=null,t.state!==d.Uninitialized)return void(n&&(n.cancel(),n=null));var i=t.bufferedRequests.indexOf(e);i!==-1&&t.bufferedRequests.splice(i,1)})},e.prototype.onMessage=function(e){if(this.state===d.Uninitialized&&e.type===l.Initialize)return this.state=d.Idle,this.bufferedRequests.forEach(function(e){return e.flush&&e.flush()}),void(this.bufferedRequests=null);var t=this.handlers[e.id];t&&t(e)},e.prototype.send=function(e){try{this.protocol.send(e)}catch(t){}},e}();t.Client=p,t.getDelayedChannel=r,t.getNextTickChannel=s,t.eventToCall=a,t.eventFromCall=c}),define(l[180],d([1,0,99,2,16,29,115]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(){var t=this;e.call(this,{send:function(e){try{process.send(e)}catch(t){}},onMessage:function(e){return process.on("message",e)}}),process.once("disconnect",function(){return t.dispose()})}return h(t,e),t}(s.Server);t.Server=a;var c=function(){function e(e,t){this.modulePath=e,this.options=t;var i=t&&t.timeout?t.timeout:6e4;this.disposeDelayer=new o.Delayer(i),this.activeRequests=[],this.child=null,this._client=null,this.channels=Object.create(null)}return e.prototype.getChannel=function(e){var t=this,i=function(i,n){return t.request(e,i,n)};return{call:i}},e.prototype.request=function(e,t,i){var o=this;this.disposeDelayer.cancel();var r=this.channels[e]||(this.channels[e]=this.client.getChannel(e)),s=r.call(t,i),a=new n.Promise(function(e,t,i){s.then(e,t,i).done(function(){o.activeRequests&&(o.activeRequests.splice(o.activeRequests.indexOf(a),1),0===o.activeRequests.length&&o.disposeDelayer.trigger(function(){return o.disposeClient()}))})},function(){return s.cancel()});return this.activeRequests.push(a),a},Object.defineProperty(e.prototype,"client",{get:function(){var e=this;if(!this._client){var t=this.options&&this.options.args?this.options.args:[],n=Object.create(null);n.env=r.assign(r.clone(process.env),{VSCODE_PARENT_PID:String(process.pid)}),this.options&&this.options.env&&(n.env=r.assign(n.env,this.options.env)),this.options&&"number"==typeof this.options.debug&&(n.execArgv=["--nolazy","--debug="+this.options.debug]),this.options&&"number"==typeof this.options.debugBrk&&(n.execArgv=["--nolazy","--debug-brk="+this.options.debugBrk]),this.child=i.fork(this.modulePath,t,n),this._client=new s.Client({send:function(t){return e.child&&e.child.connected&&e.child.send(t)},onMessage:function(t){e.child.on("message",function(i){if(i&&"__$console"===i.type){var n=["%c[IPC Library: "+e.options.serverName+"]","color: darkgreen"];try{var o=JSON.parse(i.arguments);n=n.concat(Object.getOwnPropertyNames(o).map(function(e){return o[e]}))}catch(r){n.push(i.arguments)}console[i.severity].apply(console,n)}else t(i)})}});var o=function(){return e.disposeClient()};process.once("exit",o),this.child.on("error",function(t){return console.warn('IPC "'+e.options.serverName+'" errored with '+t)}),this.child.on("exit",function(t,i){process.removeListener("exit",o),e.activeRequests&&(e.activeRequests.forEach(function(e){return e.cancel()}),e.activeRequests=[]),t&&"SIGTERM"!==i&&(console.warn('IPC "'+e.options.serverName+'" crashed with exit code '+t),e.disposeDelayer.cancel(),e.disposeClient())})}return this._client},enumerable:!0,configurable:!0}),e.prototype.disposeClient=function(){this._client&&(this.child.kill(),this.child=null,this._client=null,this.channels=Object.create(null))},e.prototype.dispose=function(){this.disposeDelayer.cancel(),this.disposeDelayer=null,this.disposeClient(),this.activeRequests=null},e}();t.Client=c}),define(l[349],d([1,0,223,2,24,115]),function(e,t,i,n,o,r){"use strict";function s(e,t,i){for(void 0===i&&(i=0);i<e.length&&e[i]!==t;)i++;return i}function a(e){return new n.TPromise(function(t,n){var o=i.createServer();o.on("error",n),o.listen(e,function(){o.removeListener("error",n),t(new l(o))})})}function c(e){return new n.TPromise(function(t,n){var o=i.createConnection(e,function(){o.removeListener("error",n),t(new d(o))});o.once("error",n)})}var u=function(){function e(e){this.socket=e,this.buffer=null}return e.prototype.send=function(t){try{this.socket.write(JSON.stringify(t)),this.socket.write(e.Boundary)}catch(i){}},e.prototype.onMessage=function(e){var t=this;this.socket.on("data",function(i){for(var n=0,o=0;(o=s(i,0,n))<i.length;){var r=i.slice(n,o);t.buffer?(e(JSON.parse(Buffer.concat([t.buffer,r]).toString("utf8"))),t.buffer=null):e(JSON.parse(r.toString("utf8"))),n=o+1}if(o-n>0){var a=i.slice(n,o);t.buffer?t.buffer=Buffer.concat([t.buffer,a]):t.buffer=a}})},e.Boundary=new Buffer([0]),e}(),l=function(){function e(e){var t=this;this.server=e,this.channels=Object.create(null),this.server.on("connection",function(e){var i=new r.Server(new u(e));Object.keys(t.channels).forEach(function(e){return i.registerChannel(e,t.channels[e])}),e.once("close",function(){return i.dispose()})})}return e.prototype.registerChannel=function(e,t){this.channels[e]=t},e.prototype.dispose=function(){this.channels=null,this.server.close(),this.server=null},e}();t.Server=l;var d=function(){function e(e){var t=this;this.socket=e,this._onClose=new o.Emitter,this.ipcClient=new r.Client(new u(e)),e.once("close",function(){return t._onClose.fire()})}return Object.defineProperty(e.prototype,"onClose",{get:function(){return this._onClose.event},enumerable:!0,configurable:!0}),e.prototype.getChannel=function(e){return this.ipcClient.getChannel(e)},e.prototype.dispose=function(){this.socket.end(),this.socket=null,this.ipcClient=null},e}();t.Client=d,t.serve=a,t.connect=c}),define(l[348],d([1,0,2,17]),function(e,t,i,n){"use strict";var o=function(){function e(e){this.modelProvider=n.isFunction(e.getModel)?e:{getModel:function(){return e}}}return e.prototype.getId=function(e,t){if(!t)return null;var i=this.modelProvider.getModel();return i===t?"__root__":i.dataSource.getId(t)},e.prototype.hasChildren=function(e,t){var i=this.modelProvider.getModel();return i&&i===t&&i.entries.length>0},e.prototype.getChildren=function(e,t){var n=this.modelProvider.getModel();return i.TPromise.as(n===t?n.entries:[])},e.prototype.getParent=function(e,t){return i.TPromise.as(null)},e}();t.DataSource=o;var r=function(){function e(e){this.modelProvider=e}return e.prototype.getAriaLabel=function(e,t){var i=this.modelProvider.getModel();return i.accessibilityProvider&&i.accessibilityProvider.getAriaLabel(t)},e}();t.AccessibilityProvider=r;var s=function(){function e(e){this.modelProvider=e}return e.prototype.isVisible=function(e,t){var i=this.modelProvider.getModel();return!i.filter||i.filter.isVisible(t)},e}();t.Filter=s;var a=function(){function e(e){this.modelProvider=e}return e.prototype.getHeight=function(e,t){var i=this.modelProvider.getModel();return i.renderer.getHeight(t)},e.prototype.getTemplateId=function(e,t){var i=this.modelProvider.getModel();return i.renderer.getTemplateId(t)},e.prototype.renderTemplate=function(e,t,i){var n=this.modelProvider.getModel();return n.renderer.renderTemplate(t,i)},e.prototype.renderElement=function(e,t,i,n){var o=this.modelProvider.getModel();o.renderer.renderElement(t,i,n)},e.prototype.disposeTemplate=function(e,t,i){var n=this.modelProvider.getModel();n.renderer.disposeTemplate(t,i)},e}();t.Renderer=a}),define(l[347],d([1,0,85,7,5,41,36,2]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t){for(var i=e.getHierarchy(),n=t.getHierarchy(),o=r.commonPrefixLength(i,n),s=i[o-1],a=s.getNavigator(),c=null,u=null,l=0,d=[];s&&(null===c||null===u);)d.push(s),s===e&&(c=l),s===t&&(u=l),l++,s=a.next();if(null===c||null===u)return[];var h=Math.min(c,u),p=Math.max(c,u);return d.slice(h,p+1)}var u=function(e){function t(t){e.call(this),this._item=t}return h(t,e),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.emit("unlock"),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.LockData=u;var l=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var i=this,n=this.getLock(e);if(n){var o;return new a.Promise(function(r,s){o=n.addOneTimeDisposableListener("unlock",function(){return i.run(e,t).then(r,s)})},function(){o.dispose()})}var r;return new a.Promise(function(n,o){if(e.isDisposed())return o(new Error("Item is disposed."));var s=i.locks[e.id]=new u(e);return r=t().then(function(t){return delete i.locks[e.id],s.dispose(),t}).then(n,o)},function(){return r.cancel()})},e.prototype.getLock=function(e){var t;for(t in this.locks){var i=this.locks[t];if(e.intersects(i.item))return i}return null},e}();t.Lock=l;var d=function(e){function t(){e.call(this),this.items={}}return h(t,e),t.prototype.register=function(e){i.ok(!this.isRegistered(e.id),"item already registered: "+e.id),this.items[e.id]={item:e,disposable:this.addEmitter2(e)}},t.prototype.deregister=function(e){i.ok(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},t.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},t.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.items=null},t}(s.EventEmitter);t.ItemRegistry=d;var p=function(e){function t(t,i,n,o,r){e.call(this),this.registry=i,this.context=n,this.lock=o,this.element=r,this.id=t,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.userContent=null,this.traits={},this.depth=0,this.expanded=!1,this.emit("item:create",{item:this}),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return h(t,e),t.prototype.getElement=function(){return this.element},t.prototype.hasChildren=function(){return this.doesHaveChildren},t.prototype.getDepth=function(){return this.depth},t.prototype.isVisible=function(){return this.visible},t.prototype.setVisible=function(e){this.visible=e},t.prototype.isExpanded=function(){return this.expanded},t.prototype._setExpanded=function(e){this.expanded=e},t.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this.emit("item:reveal",t)},t.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return a.TPromise.as(!1);var t=this.lock.run(this,function(){var t,i={item:e};return e.emit("item:expanding",i),t=e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):a.TPromise.as(null),t.then(function(){return e._setExpanded(!0),e.emit("item:expanded",i),!0})});return t.then(function(t){return!e.isDisposed()&&(e.context.options.autoExpandSingleChildren&&t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then(function(){return!0}):t)})},t.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var i=a.TPromise.as(null);return this.forEachChild(function(e){i=i.then(function(){return e.collapse(!0)})}),i.then(function(){return t.collapse(!1)})}return!this.isExpanded()||this.lock.isLocked(this)?a.TPromise.as(!1):this.lock.run(this,function(){var e={item:t};return t.emit("item:collapsing",e),t._setExpanded(!1),t.emit("item:collapsed",e),a.TPromise.as(!0)})},t.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this.emit("item:addTrait",t)},t.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this.emit("item:removeTrait",t)},t.prototype.hasTrait=function(e){return this.traits[e]||!1},t.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},t.prototype.getHeight=function(){return this.height},t.prototype.refreshChildren=function(e,i,o){var r=this;if(void 0===i&&(i=!1),void 0===o&&(o=!1),!o&&!this.isExpanded())return this.needsChildrenRefresh=!0,a.TPromise.as(this);this.needsChildrenRefresh=!1;var s=function(){var o={item:r,isNested:i};r.emit("item:childrenRefreshing",o);var s;s=r.doesHaveChildren?r.context.dataSource.getChildren(r.context.tree,r.element):a.TPromise.as([]);var c=s.then(function(i){if(r.isDisposed())return a.TPromise.as(null);i=i?i.slice(0):[],i=r.sort(i);for(var n={};null!==r.firstChild;)n[r.firstChild.id]=r.firstChild,r.removeChild(r.firstChild);for(var o=0,s=i.length;o<s;o++){var c=i[o],u=r.context.dataSource.getId(r.context.tree,c),l=n[u]||new t(u,r.registry,r.context,r.lock,c);l.element=c,e&&(l.needsChildrenRefresh=e),delete n[u],r.addChild(l)}for(var d in n)n.hasOwnProperty(d)&&n[d].dispose();return e?a.Promise.join(r.mapEachChild(function(t){return t.doRefresh(e,!0)})):a.TPromise.as(null)});return c.then(null,n.onUnexpectedError).then(function(){return r.emit("item:childrenRefreshed",o)})};return i?s():this.lock.run(this,s)},t.prototype.doRefresh=function(e,t){void 0===t&&(t=!1);var i={item:this};return this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.setVisible(this._isVisible()),this.emit("item:refresh",i),this.refreshChildren(e,t)},t.prototype.refresh=function(e){return this.doRefresh(e)},t.prototype.getNavigator=function(){return new g(this)},t.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},t.prototype.getHierarchy=function(){var e=[],t=this;do e.push(t),t=t.parent;while(t);return e.reverse(),e},t.prototype.isAncestorOf=function(e){for(;e;){if(e.id===this.id)return!0;e=e.parent}return!1},t.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var i=null===this.firstChild,n=null===t,o=t===this.lastChild;i?(this.firstChild=this.lastChild=e,e.next=e.previous=null):n?(this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e):o?(this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e):(e.previous=t,e.next=t.next,t.next.previous=e,t.next=e),e.parent=this,e.depth=this.depth+1},t.prototype.removeChild=function(e){var t=this.firstChild===e,i=this.lastChild===e;t&&i?this.firstChild=this.lastChild=null:t?(e.next.previous=null,this.firstChild=e.next):i?(e.previous.next=null,this.lastChild=e.previous):(e.next.previous=e.previous,e.previous.next=e.next),e.parent=null,e.depth=null},t.prototype.forEachChild=function(e){for(var t,i=this.firstChild;i;)t=i.next,e(i),i=t},t.prototype.mapEachChild=function(e){var t=[];return this.forEachChild(function(i){t.push(e(i))}),t},t.prototype.sort=function(e){var t=this;return this.context.sorter?e.sort(function(e,i){return t.context.sorter.compare(t.context.tree,e,i)}):e},t.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)},t.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()}),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null;var t={item:this};this.emit("item:dispose",t),this.registry.deregister(this),e.prototype.dispose.call(this),this._isDisposed=!0},t}(s.EventEmitter);t.Item=p;var f=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(e){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(e){},t.prototype.render=function(){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(p),g=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t.isVisible()&&t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do if((this.item instanceof f||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{for(;this.item&&this.item!==this.start&&!this.item.next;)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);t?this.item=t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return this.start&&this.start.isExpanded()&&(this.item=this.start.lastChild,this.item&&!this.item.isVisible()&&this.previous()),this.item||null},e}();t.TreeNavigator=g;var m=function(e){function t(t){e.call(this),this.context=t,this.input=null,this.traitsToItems={}}return h(t,e),t.prototype.setInput=function(e){var t=this,i={item:this.input};this.emit("clearingInput",i),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new l,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new d,this.registryDisposable=o.combinedDisposable([this.addEmitter2(this.registry),this.registry.addListener2("item:dispose",function(e){e.item.getAllTraits().forEach(function(i){return delete t.traitsToItems[i][e.item.id]})})]);var n=this.context.dataSource.getId(this.context.tree,e);return this.input=new f(n,this.registry,this.context,this.lock,e),i={item:this.input},this.emit("setInput",i),this.refresh(this.input)},t.prototype.getInput=function(){return this.input?this.input.getElement():null},t.prototype.refresh=function(e,t){var i=this;void 0===e&&(e=null),void 0===t&&(t=!0);var n=this.getItem(e);if(!n)return a.TPromise.as(null);var o={item:n,recursive:t};return this.emit("refreshing",o),n.refresh(t).then(function(){i.emit("refreshed",o)})},t.prototype.refreshAll=function(e,t){var i=this;void 0===t&&(t=!0);var n=[];return this.deferredEmit(function(){for(var o=0,r=e.length;o<r;o++)n.push(i.refresh(e[o],t))}),a.Promise.join(n)},t.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():a.TPromise.as(!1)},t.prototype.expandAll=function(e){if(!e){e=[];for(var t,i=this.getNavigator();t=i.next();)e.push(t)}for(var n=[],o=0,r=e.length;o<r;o++)n.push(this.expand(e[o]));return a.Promise.join(n)},t.prototype.collapse=function(e,t){void 0===t&&(t=!1);var i=this.getItem(e);return i?i.collapse(t):a.TPromise.as(!1)},t.prototype.collapseAll=function(e,t){void 0===e&&(e=null),void 0===t&&(t=!1),e||(e=[this.input],t=!0);for(var i=[],n=0,o=e.length;n<o;n++)i.push(this.collapse(e[n],t));return a.Promise.join(i)},t.prototype.toggleExpansion=function(e){return this.isExpanded(e)?this.collapse(e):this.expand(e)},t.prototype.toggleExpansionAll=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(this.toggleExpansion(e[i]));return a.Promise.join(t)},t.prototype.isExpanded=function(e){var t=this.getItem(e);return!!t&&t.isExpanded()},t.prototype.getExpandedElements=function(){for(var e,t=[],i=this.getNavigator();e=i.next();)e.isExpanded()&&t.push(e.getElement());return t},t.prototype.reveal=function(e,t){var i=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then(function(e){var t=a.TPromise.as(null);return e.forEach(function(e){t=t.then(function(){return i.expand(e)})}),t}).then(function(){var n=i.getItem(e);if(n)return n.reveal(t)})},t.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(e){return e?t.resolveUnknownParentChain(e).then(function(t){return t.push(e),t}):a.TPromise.as([])})},t.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var i={highlight:this.getHighlight(),payload:t};this.emit("highlight",i)},t.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},t.prototype.isHighlighted=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("highlighted")},t.prototype.select=function(e,t){this.selectAll([e],t)},t.prototype.selectRange=function(e,t,i){var n=this.getItem(e),o=this.getItem(t);n&&o&&this.selectAll(c(n,o),i)},t.prototype.deselectRange=function(e,t,i){var n=this.getItem(e),o=this.getItem(t);n&&o&&this.deselectAll(c(n,o),i)},t.prototype.selectAll=function(e,t){this.addTraits("selected",e);var i={selection:this.getSelection(),payload:t};this.emit("selection",i)},t.prototype.deselect=function(e,t){this.deselectAll([e],t)},t.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var i={selection:this.getSelection(),payload:t};this.emit("selection",i)},t.prototype.setSelection=function(e,t){this.setTraits("selected",e);var i={selection:this.getSelection(),payload:t};this.emit("selection",i)},t.prototype.toggleSelection=function(e,t){this.toggleTrait("selected",e);var i={selection:this.getSelection(),payload:t};this.emit("selection",i)},t.prototype.isSelected=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("selected")},t.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)},t.prototype.selectNext=function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=!0);for(var n,o=this.getSelection(),r=o.length>0?o[0]:this.input,s=this.getNavigator(r,!1),a=0;a<e&&(n=s.next(),n);a++)r=n;t?this.setSelection([r],i):this.select(r,i)},t.prototype.selectPrevious=function(e,t,i){void 0===e&&(e=1),void 0===t&&(t=!0);var n=this.getSelection(),o=null,r=null;if(0===n.length){for(var s=this.getNavigator(this.input);o=s.next();)r=o;o=r}else{o=n[0];for(var s=this.getNavigator(o,!1),a=0;a<e&&(r=s.previous(),r);a++)o=r}t?this.setSelection([o],i):this.select(o,i)},t.prototype.selectParent=function(e,t){void 0===t&&(t=!0);var i=this.getSelection(),n=i.length>0?i[0]:this.input,o=this.getNavigator(n,!1),r=o.parent();r&&(t?this.setSelection([r],e):this.select(r,e))},t.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var i={focus:this.getFocus(),payload:t};this.emit("focus",i)},t.prototype.isFocused=function(e){var t=this.getItem(e);return!!t&&t.hasTrait("focused")},t.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},t.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var i,n=this.getFocus()||this.input,o=this.getNavigator(n,!1),r=0;r<e&&(i=o.next(),i);r++)n=i;this.setFocus(n,t)},t.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var i,n=this.getFocus()||this.input,o=this.getNavigator(n,!1),r=0;r<e&&(i=o.previous(),i);r++)n=i;this.setFocus(n,t)},t.prototype.focusParent=function(e){var t=this.getFocus()||this.input,i=this.getNavigator(t,!1),n=i.parent();n&&this.setFocus(n,e)},t.prototype.focusFirst=function(e){this.focusNth(0,e)},t.prototype.focusNth=function(e,t){for(var i=this.getNavigator(this.input),n=i.first(),o=0;o<e;o++)n=i.next();n&&this.setFocus(n,t)},t.prototype.focusLast=function(e){var t=this.getNavigator(this.input),i=t.last();i&&this.setFocus(i,e)},t.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new g(this.getItem(e),t)},t.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof p?e:"string"==typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},t.prototype.addTraits=function(e,t){for(var i,n=this.traitsToItems[e]||{},o=0,r=t.length;o<r;o++)i=this.getItem(t[o]),i&&(i.addTrait(e),n[i.id]=i);this.traitsToItems[e]=n},t.prototype.removeTraits=function(e,t){var i,n,o=this.traitsToItems[e]||{};if(0===t.length){for(n in o)o.hasOwnProperty(n)&&(i=o[n],i.removeTrait(e));delete this.traitsToItems[e]}else for(var r=0,s=t.length;r<s;r++)i=this.getItem(t[r]),i&&(i.removeTrait(e),delete o[i.id])},t.prototype.hasTrait=function(e,t){var i=this.getItem(t);return i&&i.hasTrait(e)},t.prototype.toggleTrait=function(e,t){var i=this.getItem(t);i&&(i.hasTrait(e)?this.removeTraits(e,[t]):this.addTraits(e,[t]))},t.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var i,n={},o=0,r=t.length;o<r;o++)i=this.getItem(t[o]),i&&(n[i.id]=i);var s,a=this.traitsToItems[e]||{},c=[];for(s in a)a.hasOwnProperty(s)&&(n.hasOwnProperty(s)?delete n[s]:c.push(a[s]));for(var o=0,r=c.length;o<r;o++)i=c[o],i.removeTrait(e),delete a[i.id];for(s in n)n.hasOwnProperty(s)&&(i=n[s],i.addTrait(e),a[s]=i);this.traitsToItems[e]=a}},t.prototype.getElementsWithTrait=function(e,t){var i,n=[],o=this.traitsToItems[e]||{};for(i in o)o.hasOwnProperty(i)&&(o[i].isVisible()||t)&&n.push(o[i].getElement());return n},t.prototype.dispose=function(){this.registry&&(this.registry.dispose(),this.registry=null),e.prototype.dispose.call(this)},t}(s.EventEmitter);t.TreeModel=m}),define(l[346],d([1,0,36,226]),function(e,t,i,n){"use strict";var o=function(e){function t(){e.call(this),this.heightMap=[],this.indexes={}}return h(t,e),t.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},t.prototype.onInsertItems=function(e,t){void 0===t&&(t=null);var i,n,o,r,s,a=0;if(null===t)o=0,s=0;else{if(o=this.indexes[t]+1,n=this.heightMap[o-1],!n)throw new Error("Tree error, onInsertItems: viewItem doesn't exist.");s=n.top+n.height}for(var c=this.heightMap.splice.bind(this.heightMap,o,0),u=[];i=e.next();)n=this.createViewItem(i),n.top=s+a,this.emit("viewItem:create",{item:n.model}),this.indexes[i.id]=o++,u.push(n),a+=n.height;for(c.apply(this.heightMap,u),r=o;r<this.heightMap.length;r++)n=this.heightMap[r],n.top+=a,this.indexes[n.model.id]=r;for(r=u.length-1;r>=0;r--)this.onInsertItem(u[r]);for(r=this.heightMap.length-1;r>=o;r--)this.onRefreshItem(this.heightMap[r]);return a},t.prototype.onInsertItem=function(e){},t.prototype.onRemoveItems=function(e){for(var t,i,n,o=null,r=0;t=e.next();){if(n=this.indexes[t],i=this.heightMap[n],!i)throw new Error("Tree error, onRemoveItems: viewItem doesn't exist.");r-=i.height,delete this.indexes[t],this.onRemoveItem(i),null===o&&(o=n)}if(0!==r)for(this.heightMap.splice(o,n-o+1),n=o;n<this.heightMap.length;n++)i=this.heightMap[n],i.top+=r,this.indexes[i.model.id]=n,this.onRefreshItem(i)},t.prototype.onRemoveItem=function(e){},t.prototype.onRefreshItemSet=function(e){var t=this,i=e.sort(function(e,i){return t.indexes[e.id]-t.indexes[i.id]});this.onRefreshItems(new n.ArrayIterator(i))},t.prototype.onRefreshItems=function(e){for(var t,i,n,o,r=null,s=0;t=e.next();){for(o=this.indexes[t.id];0!==s&&null!==r&&r<o;r++)i=this.heightMap[r],i.top+=s,this.onRefreshItem(i);i=this.heightMap[o],n=t.getHeight(),i.top+=s,s+=n-i.height,i.height=n,this.onRefreshItem(i,!0),r=o+1}if(0!==s&&null!==r)for(;r<this.heightMap.length;r++)i=this.heightMap[r],i.top+=s,this.onRefreshItem(i)},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},t.prototype.itemsCount=function(){return this.heightMap.length},t.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].model.id},t.prototype.withItemsInRange=function(e,t,i){e=this.indexAt(e),t=this.indexAt(t);for(var n=e;n<=t;n++)i(this.heightMap[n].model.id)},t.prototype.indexAt=function(e){for(var t,i,n=0,o=this.heightMap.length;n<o;)if(t=Math.floor((n+o)/2),i=this.heightMap[t],e<i.top)o=t;else{if(!(e>=i.top+i.height))return t;if(n===t)break;n=t}return this.heightMap.length},t.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},t.prototype.itemAtIndex=function(e){return this.heightMap[e]},t.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},t.prototype.createViewItem=function(e){throw new Error("not implemented")},t.prototype.dispose=function(){this.heightMap=null,this.indexes=null},t}(i.EventEmitter);t.HeightMap=o}),define(l[345],d([1,0,16,2,190,133]),function(e,t,i,n,o,r){"use strict";function s(e,t,i){var n,s,a,c,u,l=t.tokenizationSupport,d=[],h=l.getInitialState(),p=[];for(n=0,s=e.length;n<s;n++)a=e[n],c=l.tokenize(a,h),c.retokenize&&p.push(c.retokenize),u=o.renderLine(new o.RenderLineInput(a,i,0,(-1),(!1),(!1),c.tokens.map(function(e){return new r.ViewLineToken(e.startIndex,e.type)}))),d=d.concat(u.output),d.push("<br/>"),h=c.endState;return{result:d.join(""),retokenize:p}}var a=function(){function e(){}return e.colorizeElement=function(e,t,i){i=i||{};var n=i.theme||"vs",o=i.mimeType||t.getAttribute("lang")||t.getAttribute("data-lang");if(!o)return void console.error("Mode not detected");var r=t.firstChild.nodeValue;t.className+="monaco-editor "+n;var s=function(e){t.innerHTML=e};return this.colorize(e,r,o,i).then(s,function(e){return console.error(e)},s)},e.colorize=function(e,t,o,r){r=r||{},"undefined"==typeof r.tabSize&&(r.tabSize=4);var a,c,u,l,d=t.split("\n"),h=!1,p=new n.TPromise(function(e,t,i){a=e,c=t,u=i},function(){h=!0}),f=new i.RunOnceScheduler(function(){if(!h){var e=s(d,l,r.tabSize);e.retokenize.length>0?(e.retokenize.forEach(function(e){return e.then(g)}),u(e.result)):a(e.result)}},0),g=function(){return f.schedule()};return e.getOrCreateMode(o).then(function(e){return e?e.tokenizationSupport?(l=e,void g()):void c('Mode found ("'+e.getId()+'"), but does not support tokenization.'):void c('Mode not found: "'+o+'".')}),p},e.colorizeLine=function(e,t,i){void 0===i&&(i=4);var n=o.renderLine(new o.RenderLineInput(e,i,0,(-1),(!1),(!1),t));return n.output},e.colorizeModelLine=function(e,t,i){void 0===i&&(i=4);var n=e.getLineContent(t),o=e.getLineTokens(t,!1),r=o.inflate();return this.colorizeLine(n,r,i)},e}();t.Colorizer=a}),define(l[340],d([1,0,36]),function(e,t,i){"use strict";var n=function(){function e(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},e.prototype.emit=function(e,t){var n=new i.EmitterEvent(e,t);this._eventQueue?this._eventQueue.push(n):this._eventQueue=[n],this._isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}})},e.prototype._doConsumeQueue=function(){for(;this._eventQueue;){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),i=0,n=t.length;i<n;i++)t[i].handleEvents(e)}},e}();t.ViewEventDispatcher=n}),define(l[40],d([1,0,27,9,2,54]),function(e,t,i,n,o,r){"use strict";function s(e,t,i){if(e.getLineContent().length<=t)return!1;for(var o=e.findIndexOfOffset(t),r=e.getTokenType(o),s=0,a=i.length;s<a;s++)if(""===i[s]){if(""===r)return!0}else if(n.startsWith(r,i[s]))return!0;return!1}var a=r.Behaviour.TextFocus|r.Behaviour.Writeable|r.Behaviour.UpdateOnModelChange,c=function(e){
function t(t,i,n){void 0===n&&(n=a),e.call(this,t.id),this.editor=i,this._descriptor=t,this.label=t.label||"",this._enablementState=r.createActionEnablement(i,n,this),this._shouldShowInContextMenu=!!(n&r.Behaviour.ShowInContextMenu),this._supportsReadonly=!(n&r.Behaviour.Writeable)}return h(t,e),t.prototype.getId=function(){return this.id},t.prototype.dispose=function(){this._enablementState.dispose(),e.prototype.dispose.call(this)},t.prototype.getGroupId=function(){return this.id},t.prototype.shouldShowInContextMenu=function(){return this._shouldShowInContextMenu},t.prototype.getDescriptor=function(){return this._descriptor},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enablementState.value()},set:function(e){var t=new Error;console.log("setting EditorAction.enabled is UNCOOL. Use resetEnablementState and getEnablementState"),console.log(t.stack)},enumerable:!0,configurable:!0}),t.prototype.resetEnablementState=function(){this._enablementState.reset()},t.prototype.isSupported=function(){if(!this._supportsReadonly){if(this.editor.getConfiguration().readOnly)return!1;var e=this.editor.getModel();if(e&&e.hasEditableRange())return!1}return!0},t.prototype.getEnablementState=function(){return!0},t.prototype.getAlias=function(){return this._descriptor.alias},t}(i.Action);t.EditorAction=c;var u=function(e){function t(t,i,n){e.call(this,t,i),this._handlerId=n}return h(t,e),t.prototype.run=function(){return this.editor.trigger(this.getId(),this._handlerId,null),o.TPromise.as(!0)},t}(c);t.HandlerEditorAction=u;var l=function(e){function t(i,n){var o=i.enablement||{};e.call(this,{id:i.id,label:i.label},n,t._transformBehaviour(o,i.contextMenuGroupId)),this._contextMenuGroupId=i.contextMenuGroupId,this._run=i.run,this._tokensAtPosition=o.tokensAtPosition,this._wordAtPosition=o.wordAtPosition}return h(t,e),t._transformBehaviour=function(e,t){var i=0;return t?i|=r.Behaviour.ShowInContextMenu:e.textFocus&&(i|=r.Behaviour.TextFocus),e.widgetFocus&&(i|=r.Behaviour.WidgetFocus),e.writeableEditor&&(i|=r.Behaviour.Writeable),"undefined"!=typeof e.tokensAtPosition&&(i|=r.Behaviour.UpdateOnCursorPositionChange),"undefined"!=typeof e.wordAtPosition&&(i|=r.Behaviour.UpdateOnCursorPositionChange),i},t.prototype.getGroupId=function(){return this._contextMenuGroupId},t.prototype.run=function(){return o.TPromise.as(this._run(this.editor))},t.prototype.getEnablementState=function(){return this._getEnablementOnTokens()&&this._getEnablementOnWord()},t.prototype._getEnablementOnTokens=function(){if(!this._tokensAtPosition)return!0;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),i=e.getLineContext(t.lineNumber),n=t.column-1;return s(i,n,this._tokensAtPosition)},t.prototype._getEnablementOnWord=function(){if(!this._wordAtPosition)return!0;var e=this.editor.getModel(),t=this.editor.getSelection().getStartPosition(),i=e.getWordAtPosition(t);return!!i},t}(c);t.DynamicEditorAction=l}),define(l[339],d([1,0,7]),function(e,t,i){"use strict";var n=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,n){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:e,editOperations:[],afterCursorState:null,afterVersionId:-1});var o={operations:this.model.applyEdits(t)};this.currentOpenStackElement.editOperations.push(o);try{this.currentOpenStackElement.afterCursorState=n?n(o.operations):null}catch(r){i.onUnexpectedError(r),this.currentOpenStackElement.afterCursorState=null}return this.currentOpenStackElement.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{for(var t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}catch(i){return this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");var e=this.future.pop();try{for(var t=0;t<e.editOperations.length;t++)e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}catch(i){return this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e}();t.EditStack=n}),define(l[296],d([1,0,7,9,133]),function(e,t,i,n,o){"use strict";var r=4294967295,s=65535,a=1,c=Math.pow(2,32),u=new o.ViewLineToken(0,""),l=[],d=[],h=[u],p=[0],f=function(){function e(){this._inflate=[""],this._deflate={"":0}}return e}();t.TokensInflatorMap=f;var g=function(){function e(){}return e.deflateArr=function(e,t){if(0===t.length)return d;if(1===t.length&&0===t[0].startIndex&&!t[0].type)return p;var n,o,r,s,u,l=e._inflate,h=e._deflate,f=-1,g=new Array(t.length);for(n=0,o=t.length;n<o;n++)u=t[n],u.startIndex<=f&&(u.startIndex=f+1,i.onUnexpectedError({message:"Invalid tokens detected",tokens:t})),h.hasOwnProperty(u.type)?r=h[u.type]:(r=l.length,h[u.type]=r,l.push(u.type)),s=r*c+u.startIndex*a,g[n]=s,f=u.startIndex;return g},e.getStartIndex=function(e){return e/a&r},e.getType=function(e,t){var i=t/c&s;return 0===i?n.empty:e._inflate[i]},e.inflateArr=function(e,t){if(0===t.length)return l;if(1===t.length&&0===t[0])return h;for(var i=[],n=e._inflate,u=0,d=t.length;u<d;u++){var p=t[u],f=p/a&r,g=p/c&s;i.push(new o.ViewLineToken(f,n[g]))}return i},e.findIndexOfOffset=function(e,t){return this.findIndexInSegmentsArray(e,t)},e.sliceAndInflate=function(e,t,i,n,u){if(0===t.length)return l;if(1===t.length&&0===t[0])return h;var d=this.findIndexInSegmentsArray(t,i),p=[],f=e._inflate,g=t[d],m=g/c&s,v=0;p.push(new o.ViewLineToken(v,f[m]));for(var y=d+1,E=t.length;y<E;y++){g=t[y];var S=g/a&r;if(S>=n)break;m=g/c&s,v=S-i+u,p.push(new o.ViewLineToken(v,f[m]))}return p},e.findIndexInSegmentsArray=function(e,t){for(var i,n,o=0,r=e.length-1;o<r;)i=o+Math.ceil((r-o)/2),n=4294967295&e[i],n>t?r=i-1:o=i;return o},e.START_INDEX_MASK=r,e.TYPE_MASK=s,e.START_INDEX_OFFSET=a,e.TYPE_OFFSET=c,e}();t.TokensBinaryEncoding=g}),define(l[297],d([1,0,9,296,159,133]),function(e,t,i,n,o,r){"use strict";function s(e,t){for(var i=0,n=0,o=e.length;n<o;){var r=e.charCodeAt(n);if(32===r)i++;else{if(9!==r)break;i=i-i%t+t}n++}return n===o?0:i+1}function a(e,t,i){if(0===i)return null;if(!t||0===t.length)return null;if(1===t.length&&0===t[0].startIndex&&""===t[0].type)return null;var o=n.TokensBinaryEncoding.deflateArr(e,t);return new y(e,o)}function c(e,t,i){return 0===i?null:t&&0!==t.length?1===t.length&&0===t[0]?null:new y(e,t):null}function u(e,t){return t&&0!==t.length?1===t.length&&0===t[0].startIndex&&t[0].mode===e?null:t:null}var l,d=n.TokensBinaryEncoding.START_INDEX_MASK,h=n.TokensBinaryEncoding.TYPE_MASK,p=n.TokensBinaryEncoding.START_INDEX_OFFSET,f=n.TokensBinaryEncoding.TYPE_OFFSET,g={adjust:function(){},finish:function(){}},m={adjustDelta:function(){},adjustSet:function(){},finish:function(){}};!function(e){e[e.MarkerDefined=0]="MarkerDefined",e[e.ForceMove=1]="ForceMove",e[e.ForceStay=2]="ForceStay"}(l||(l={}));var v=function(){function e(e,t,i){this._lineNumber=0|e,this._metadata=0,this._setText(t,i),this._state=null,this._modeTransitions=null,this._lineTokens=null,this._markers=null}return Object.defineProperty(e.prototype,"lineNumber",{get:function(){return this._lineNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInvalid",{get:function(){return!!(1&this._metadata)},set:function(e){this._metadata=4294967294&this._metadata|(e?1:0)},enumerable:!0,configurable:!0}),e.prototype.getIndentLevel=function(){return((4294967294&this._metadata)>>1)-1},e.prototype._setPlusOneIndentLevel=function(e){this._metadata=1&this._metadata|(4026531839&e)<<1},e.prototype.updateTabSize=function(e){0===e?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(s(this._text,e))},e.prototype.setState=function(e){this._state=e},e.prototype.getState=function(){return this._state||null},e.prototype.getModeTransitions=function(e){return this._modeTransitions?this._modeTransitions:[new o.ModeTransition(0,e)]},e.prototype.setTokens=function(e,t,i,n){this._lineTokens=a(e,t,this._text.length),this._modeTransitions=u(i,n)},e.prototype._setLineTokensFromDeflated=function(e,t){this._lineTokens=c(e,t,this._text.length)},e.prototype.getTokens=function(){return this._lineTokens?this._lineTokens:0===this._text.length?E.INSTANCE:S.INSTANCE},e.prototype._createTokensAdjuster=function(){if(!this._lineTokens)return g;var e=this._lineTokens,t=e.getBinaryEncodedTokens(),i=t.length,n=0,o=0,r=function(e,r,s){for(var a=s-1;o<e&&n<i;){if(o>0&&0!==r){var c=t[n]/f&h,u=Math.max(a,o+r),l=c*f+u*p;if(r<0)for(;n>0;){var g=t[n-1]/p&d;if(!(g>=u))break;t.splice(n-1,1),i--,n--}t[n]=l}n++,n<i&&(o=t[n]/p&d)}},s=function(e,t){r(Number.MAX_VALUE,e,1)};return{adjust:r,finish:s}},e.prototype._setText=function(e,t){if(this._text=e,0===t?this._metadata=1&this._metadata:this._setPlusOneIndentLevel(s(e,t)),this._lineTokens){for(var i=this._lineTokens.getBinaryEncodedTokensMap(),n=this._lineTokens.getBinaryEncodedTokens(),o=this._text.length;n.length>0;){var r=n[n.length-1]/p&d;if(r<o)break;n.pop()}this._setLineTokensFromDeflated(i,n)}},e.prototype._createMarkersAdjuster=function(t){var i=this;if(!this._markers)return m;if(0===this._markers.length)return m;this._markers.sort(e._compareMarkers);var n=this._markers,o=n.length,r=0,s=n[r],a=function(e,t){return s.column<e||!(s.column>e)&&(t!==l.ForceMove&&(t===l.ForceStay||s.stickToPreviousCharacter))},c=function(e,c,u,l){for(;r<o&&a(e,l);){if(0!==c){var d=Math.max(u,s.column+c);s.column!==d&&(t[s.id]=!0,s.oldLineNumber=s.oldLineNumber||i._lineNumber,s.oldColumn=s.oldColumn||s.column,s.column=d)}r++,r<o&&(s=n[r])}},u=function(e,c,u){for(;r<o&&a(e,u);)s.column!==c&&(t[s.id]=!0,s.oldLineNumber=s.oldLineNumber||i._lineNumber,s.oldColumn=s.oldColumn||s.column,s.column=c),r++,r<o&&(s=n[r])},d=function(e,t){c(Number.MAX_VALUE,e,1,l.MarkerDefined)};return{adjustDelta:c,adjustSet:u,finish:d}},e.prototype.applyEdits=function(e,t,i){for(var n=0,o=this._text,r=this._createTokensAdjuster(),s=this._createMarkersAdjuster(e),a=0,c=t.length;a<c;a++){var u=t[a],d=n+u.startColumn,h=n+u.endColumn,p=h-d,f=u.text.length;r.adjust(u.startColumn-1,n,1),s.adjustDelta(u.startColumn,n,1,u.forceMoveMarkers?l.ForceMove:p>0?l.ForceStay:l.MarkerDefined);var g=Math.min(p,f);g>0&&(r.adjust(u.startColumn-1+g,n,d),u.forceMoveMarkers||s.adjustDelta(u.startColumn+g,n,d,u.forceMoveMarkers?l.ForceMove:p>f?l.ForceStay:l.MarkerDefined)),o=o.substring(0,d-1)+u.text+o.substring(h-1),n+=f-p,r.adjust(u.endColumn,n,d),s.adjustSet(u.endColumn,d+f,u.forceMoveMarkers?l.ForceMove:l.MarkerDefined)}return r.finish(n,o.length),s.finish(n,o.length),this._setText(o,i),n},e.prototype.split=function(t,i,n,o){var r=this._text.substring(0,i-1),s=this._text.substring(i-1),a=null;if(this._markers){this._markers.sort(e._compareMarkers);for(var c=0,u=this._markers.length;c<u;c++){var l=this._markers[c];if(l.column>i||l.column===i&&(n||!l.stickToPreviousCharacter)){var d=this._markers.slice(0,c);a=this._markers.slice(c),this._markers=d;break}}if(a)for(var c=0,u=a.length;c<u;c++){var l=a[c];t[l.id]=!0,l.oldLineNumber=l.oldLineNumber||this._lineNumber,l.oldColumn=l.oldColumn||l.column,l.column-=i-1}}this._setText(r,o);var h=new e(this._lineNumber+1,s,o);return a&&h.addMarkers(a),h},e.prototype.append=function(e,t,i){var n=this._text.length;this._setText(this._text+t._text,i);var o=t._lineTokens;if(o){var r=o.getBinaryEncodedTokens();if(n>0)for(var s=0,a=r.length;s<a;s++){var c=r[s],u=c/p&d,l=c/f&h,g=u+n,m=l*f+g*p;r[s]=m}var v=this._lineTokens;v?this._setLineTokensFromDeflated(v.getBinaryEncodedTokensMap(),v.getBinaryEncodedTokens().concat(r)):this._setLineTokensFromDeflated(o.getBinaryEncodedTokensMap(),r)}if(t._markers){for(var y=t._markers,s=0,a=y.length;s<a;s++){var E=y[s];e[E.id]=!0,E.oldLineNumber=E.oldLineNumber||t.lineNumber,E.oldColumn=E.oldColumn||E.column,E.column+=n}this.addMarkers(y)}},e.prototype.addMarker=function(e){e.line=this,this._markers?this._markers.push(e):this._markers=[e]},e.prototype.addMarkers=function(e){if(0!==e.length){var t,i;for(t=0,i=e.length;t<i;t++)e[t].line=this;this._markers?this._markers=this._markers.concat(e):this._markers=e.slice(0)}},e._compareMarkers=function(e,t){return e.column===t.column?(e.stickToPreviousCharacter?0:1)-(t.stickToPreviousCharacter?0:1):e.column-t.column},e.prototype.removeMarker=function(e){if(this._markers){var t=this._indexOfMarkerId(e.id);t>=0&&(e.line=null,this._markers.splice(t,1)),0===this._markers.length&&(this._markers=null)}},e.prototype.removeMarkers=function(e){if(this._markers){for(var t=0,i=this._markers.length;t<i;t++){var n=this._markers[t];e[n.id]&&(n.line=null,this._markers.splice(t,1),i--,t--)}0===this._markers.length&&(this._markers=null)}},e.prototype.getMarkers=function(){return this._markers?this._markers.slice(0):[]},e.prototype.updateLineNumber=function(e,t){if(this._markers){var i,n,o,r=this._markers;for(i=0,n=r.length;i<n;i++)o=r[i],e[o.id]=!0,o.oldLineNumber=o.oldLineNumber||this._lineNumber}this._lineNumber=t},e.prototype.deleteLine=function(e,t,i){if(this._markers){var n,o,r,s=this._markers;for(n=0,o=s.length;n<o;n++)r=s[n],e[r.id]=!0,r.oldColumn=r.oldColumn||r.column,r.oldLineNumber=r.oldLineNumber||i,r.column=t;return s}return[]},e.prototype._indexOfMarkerId=function(e){for(var t=this._markers,i=0,n=t.length;i<n;i++)if(t[i].id===e)return i},e}();t.ModelLine=v;var y=function(){function e(e,t){this.map=e,this._tokens=t}return e.prototype.getBinaryEncodedTokensMap=function(){return this.map},e.prototype.getBinaryEncodedTokens=function(){return this._tokens},e.prototype.getTokenCount=function(){return this._tokens.length},e.prototype.getTokenStartIndex=function(e){return n.TokensBinaryEncoding.getStartIndex(this._tokens[e])},e.prototype.getTokenType=function(e){return n.TokensBinaryEncoding.getType(this.map,this._tokens[e])},e.prototype.getTokenEndIndex=function(e,t){return e+1<this._tokens.length?n.TokensBinaryEncoding.getStartIndex(this._tokens[e+1]):t},e.prototype.equals=function(t){if(t instanceof e){if(this.map!==t.map)return!1;if(this._tokens.length!==t._tokens.length)return!1;for(var i=0,n=this._tokens.length;i<n;i++)if(this._tokens[i]!==t._tokens[i])return!1;return!0}if(!(t instanceof e))return!1},e.prototype.findIndexOfOffset=function(e){return n.TokensBinaryEncoding.findIndexOfOffset(this._tokens,e)},e.prototype.inflate=function(){return n.TokensBinaryEncoding.inflateArr(this.map,this._tokens)},e.prototype.sliceAndInflate=function(e,t,i){return n.TokensBinaryEncoding.sliceAndInflate(this.map,this._tokens,e,t,i)},e}();t.LineTokens=y;var E=function(){function e(){}return e.prototype.getTokenCount=function(){return 0},e.prototype.getTokenStartIndex=function(e){return 0},e.prototype.getTokenType=function(e){return i.empty},e.prototype.getTokenEndIndex=function(e,t){return 0},e.prototype.equals=function(e){return e===this},e.prototype.findIndexOfOffset=function(e){return 0},e.prototype.inflate=function(){return[]},e.prototype.sliceAndInflate=function(e,t,i){return[]},e.INSTANCE=new e,e}(),S=function(){function e(){}return e.prototype.getTokenCount=function(){return 1},e.prototype.getTokenStartIndex=function(e){return 0},e.prototype.getTokenType=function(e){return i.empty},e.prototype.getTokenEndIndex=function(e,t){return t},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(e){return 0},e.prototype.inflate=function(){return[new r.ViewLineToken(0,"")]},e.prototype.sliceAndInflate=function(e,t,i){return[new r.ViewLineToken(0,"")]},e.INSTANCE=new e,e}();t.DefaultLineTokens=S}),define(l[337],d([1,0,24,652]),function(e,t,i,n){"use strict";var o=function(){function e(){this._clock=0,this._entries=[],this._onDidChange=new i.Emitter}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t,i){var n=this;void 0===i&&(i=!1);var o={selector:e,provider:t,isBuiltin:i,_score:-1,_time:this._clock++};return this._entries.push(o),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),{dispose:function(){if(o){var e=n._entries.indexOf(o);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),o=void 0)}}}},e.prototype.has=function(e){return this.all(e).length>0},e.prototype.all=function(e){if(!e||e.isTooLargeForHavingAMode())return[];this._updateScores(e);for(var t=[],i=0,n=this._entries;i<n.length;i++){var o=n[i];o._score>0&&t.push(o.provider)}return t},e.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,function(e){return t.push(e.provider)}),t},e.prototype.orderedGroups=function(e){var t,i,n=[];return this._orderedForEach(e,function(e){t&&i===e._score?t.push(e.provider):(i=e._score,t=[e.provider],n.push(t))}),n},e.prototype._orderedForEach=function(e,t){if(e&&!e.isTooLargeForHavingAMode()){this._updateScores(e);for(var i=0;i<this._entries.length;i++){var n=this._entries[i];n._score>0&&t(n)}}},e.prototype._updateScores=function(t){var i={uri:t.uri.toString(),language:t.getModeId()};if(!this._lastCandidate||this._lastCandidate.language!==i.language||this._lastCandidate.uri!==i.uri){this._lastCandidate=i;for(var o=0,r=this._entries;o<r.length;o++){var s=r[o];s._score=n.score(s.selector,t.uri,t.getModeId()),s.isBuiltin&&s._score>0&&(s._score=.5,s._time=-1)}this._entries.sort(e._compareByScoreAndTime)}},e._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o}),define(l[37],d([1,0,337]),function(e,t,i){"use strict";!function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={}));t.DocumentHighlightKind;!function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null"}(t.SymbolKind||(t.SymbolKind={}));var n,n=t.SymbolKind;!function(e){function t(t){switch(t){case e.Method:return"method";case e.Function:return"function";case e.Constructor:return"constructor";case e.Variable:return"variable";case e.Class:return"class";case e.Interface:return"interface";case e.Namespace:return"namespace";case e.Package:return"package";case e.Module:return"module";case e.Property:return"property";case e.Enum:return"enum";case e.String:return"string";case e.File:return"file";case e.Array:return"array";case e.Number:return"number";case e.Boolean:return"boolean";case e.Object:return"object";case e.Key:return"key";case e.Null:return"null"}return"property"}function i(t){switch(t){case"method":return e.Method;case"function":return e.Function;case"constructor":return e.Constructor;case"variable":return e.Variable;case"class":return e.Class;case"interface":return e.Interface;case"namespace":return e.Namespace;case"package":return e.Package;case"module":return e.Module;case"property":return e.Property;case"enum":return e.Enum;case"string":return e.String;case"file":return e.File;case"array":return e.Array;case"number":return e.Number;case"boolean":return e.Boolean;case"object":return e.Object;case"key":return e.Key;case"null":return e.Null}return e.Property}e.from=t,e.to=i}(n=t.SymbolKind||(t.SymbolKind={})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(t.IndentAction||(t.IndentAction={}));t.IndentAction;t.ReferenceProviderRegistry=new i["default"],t.RenameProviderRegistry=new i["default"],t.SuggestRegistry=new i["default"],t.SignatureHelpProviderRegistry=new i["default"],t.HoverProviderRegistry=new i["default"],t.DocumentSymbolProviderRegistry=new i["default"],t.DocumentHighlightProviderRegistry=new i["default"],t.DefinitionProviderRegistry=new i["default"],t.CodeLensProviderRegistry=new i["default"],t.CodeActionProviderRegistry=new i["default"],t.DocumentFormattingEditProviderRegistry=new i["default"],t.DocumentRangeFormattingEditProviderRegistry=new i["default"],t.OnTypeFormattingEditProviderRegistry=new i["default"],t.LinkProviderRegistry=new i["default"]}),define(l[336],d([1,0,7,9,37,105]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(t,i,n){this._registry=t,n=n||{},n.brackets=n.brackets||[["(",")"],["{","}"],["[","]"]],this._modeId=i,this._brackets=n.brackets.map(function(t){return{open:t[0],openRegExp:e._createOpenBracketRegExp(t[0]),close:t[1],closeRegExp:e._createCloseBracketRegExp(t[1])}}),this._regExpRules=n.regExpRules||[],this._indentationRules=n.indentationRules}return e.prototype.onEnter=function(e,t){var i=this,n=e.getLineContext(t.lineNumber);return r.handleEvent(n,t.column-1,function(n,o,r){if(i._modeId===n)return i._onEnter(e,t);var s=i._registry.getOnEnterSupport(n);return s?s.onEnter(e,t):null})},e.prototype._onEnter=function(e,t){var i=e.getLineContent(t.lineNumber),n=i.substr(0,t.column-1),o=i.substr(t.column-1),r=1===t.lineNumber?"":e.getLineContent(t.lineNumber-1);return this._actualOnEnter(r,n,o)},e.prototype._actualOnEnter=function(t,i,n){for(var o=0,r=this._regExpRules.length;o<r;o++){var s=this._regExpRules[o];if(s.beforeText.test(i)){if(!s.afterText)return s.action;if(s.afterText.test(n))return s.action}}if(i.length>0&&n.length>0)for(var o=0,r=this._brackets.length;o<r;o++){var a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(n))return e._INDENT_OUTDENT}if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(i))return e._INDENT;if(this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(i))return e._INDENT;if(/^\s/.test(i)){if(this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(n))return e._OUTDENT;if(this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(t))return e._OUTDENT}}if(i.length>0)for(var o=0,r=this._brackets.length;o<r;o++){var a=this._brackets[o];if(a.openRegExp.test(i))return e._INDENT}return null},e._createOpenBracketRegExp=function(t){var i=n.escapeRegExpCharacters(t);return/\B/.test(i.charAt(0))||(i="\\b"+i),i+="\\s*$",e._safeRegExp(i)},e._createCloseBracketRegExp=function(t){var i=n.escapeRegExpCharacters(t);return/\B/.test(i.charAt(i.length-1))||(i+="\\b"),i="^\\s*"+i,e._safeRegExp(i)},e._safeRegExp=function(e){try{return new RegExp(e)}catch(t){return i.onUnexpectedError(t),null}},e._INDENT={indentAction:o.IndentAction.Indent},e._INDENT_OUTDENT={indentAction:o.IndentAction.IndentOutdent},e._OUTDENT={indentAction:o.IndentAction.Outdent},e}();t.OnEnterSupport=s}),define(l[80],d([1,0,37,643,638,336,163,24,7,48,9,162]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var h=function(){function e(i,r,a){var c=null;r&&(c=r._conf),this._conf=e._mergeConf(c,a),this._conf.brackets&&(this.brackets=new s.RichEditBrackets(i,this._conf.brackets)),this._handleOnEnter(i,this._conf),this._handleComments(i,this._conf),this.characterPair=new n.CharacterPairSupport(t.LanguageConfigurationRegistry,i,this._conf),(this._conf.__electricCharacterSupport||this._conf.brackets)&&(this.electricCharacter=new o.BracketElectricCharacterSupport(t.LanguageConfigurationRegistry,i,this.brackets,this._conf.__electricCharacterSupport)),this.wordDefinition=this._conf.wordPattern||d.DEFAULT_WORD_REGEXP}return e._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},e.prototype._handleOnEnter=function(e,i){var n={},o=!0;i.brackets&&(o=!1,n.brackets=i.brackets),i.indentationRules&&(o=!1,n.indentationRules=i.indentationRules),i.onEnterRules&&(o=!1,n.regExpRules=i.onEnterRules),o||(this.onEnter=new r.OnEnterSupport(t.LanguageConfigurationRegistry,e,n))},e.prototype._handleComments=function(e,t){var i=t.comments;if(i&&(this.comments={},i.lineComment&&(this.comments.lineCommentToken=i.lineComment),i.blockComment)){var n=i.blockComment,o=n[0],r=n[1];this.comments.blockCommentStartToken=o,this.comments.blockCommentEndToken=r}},e}();t.RichEditSupport=h;var p=function(){function e(){this._onDidChange=new a.Emitter,this.onDidChange=this._onDidChange.event,this._entries=Object.create(null)}return e.prototype.register=function(e,t){var i=this._entries[e]||null;return this._entries[e]=new h(e,i,t),this._onDidChange.fire(void 0),{dispose:function(){}}},e.prototype._getRichEditSupport=function(e){return this._entries[e]},e.prototype.getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t?t.electricCharacter||null:null},e.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t?t.comments||null:null},e.prototype.getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t?t.characterPair||null:null},e.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return t?t.wordDefinition||null:null},e.prototype.getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);return t?t.onEnter||null:null},e.prototype.getRawEnterActionAtPosition=function(e,t,i){var n,o=this.getOnEnterSupport(e.getMode().getId());if(o)try{n=o.onEnter(e,new u.Position(t,i))}catch(r){c.onUnexpectedError(r)}return n},e.prototype.getEnterActionAtPosition=function(e,t,n){var o=e.getLineContent(t),r=l.getLeadingWhitespace(o);r.length>n-1&&(r=r.substring(0,n-1));var s=this.getRawEnterActionAtPosition(e,t,n);return s?s.appendText||(s.indentAction===i.IndentAction.Indent||s.indentAction===i.IndentAction.IndentOutdent?s.appendText="\t":s.appendText=""):s={indentAction:i.IndentAction.None,appendText:""},s.removeText&&(r=r.substring(0,r.length-1)),{enterAction:s,indentation:r}},e.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t?t.brackets||null:null},e}();t.LanguageConfigurationRegistryImpl=p,t.LanguageConfigurationRegistry=new p}),define(l[335],d([1,0,9,196,14,46,80]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t){this._opts=t,this._selection=e,this._useLastEditRangeForCursorEndPosition=!1}return e.unshiftIndentCount=function(e,t,i){var o=n.CursorMoveHelper.visibleColumnFromColumn2(e,t,i),r=n.CursorMoveHelper.prevTabColumn(o,i);return r/i},e.shiftIndentCount=function(e,t,i){var o=n.CursorMoveHelper.visibleColumnFromColumn2(e,t,i),r=n.CursorMoveHelper.nextTabColumn(o,i);return r/i},e.prototype.getEditOperations=function(t,r){var a=this._selection.startLineNumber,c=this._selection.endLineNumber,u=" ".charCodeAt(0);1===this._selection.endColumn&&a!==c&&(c-=1);var l,d=this._opts.tabSize,h=this._opts.oneIndent,p=a===c,f=["",h];this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);var g=0,m=0;for(l=a;l<=c;l++,g=m){m=0;var v=t.getLineContent(l),y=i.firstNonWhitespaceIndex(v);if((!this._opts.isUnshift||0!==v.length&&0!==y)&&(p||this._opts.isUnshift||0!==v.length)){if(y===-1&&(y=v.length),l>1){var E=n.CursorMoveHelper.visibleColumnFromColumn2(v,y+1,d);if(E%d!==0){var S=s.LanguageConfigurationRegistry.getRawEnterActionAtPosition(t,l-1,t.getLineMaxColumn(l-1));if(S){if(m=g,S.appendText)for(var b=0,_=S.appendText.length;b<_&&m<d&&S.appendText.charCodeAt(b)===u;b++)m++;S.removeText&&(m=Math.max(0,m-S.removeText));for(var b=0;b<m&&(0!==y&&v.charCodeAt(y-1)===u);b++)y--}}}if(!this._opts.isUnshift||0!==y){var C=void 0;C=this._opts.isUnshift?e.unshiftIndentCount(v,y+1,d):e.shiftIndentCount(v,y+1,d);for(var b=f.length;b<=C;b++)f[b]=f[b-1]+h;r.addEditOperation(new o.Range(l,1,l,y+1),f[C])}}}this._selectionId=r.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var i=t.getInverseEditOperations()[0];return new r.Selection(i.range.endLineNumber,i.range.endColumn,i.range.endLineNumber,i.range.endColumn)}return t.getTrackedSelection(this._selectionId)},e}();t.ShiftCommand=a}),define(l[303],d([1,0,7,9,197,335,674,196,48,14,46,11,37,80]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";function f(e,t){var i={};return function(n){var o=e(n);return i.hasOwnProperty(o)||(i[o]=t(n)),i[o]}}!function(e){e[e.None=0]="None",e[e.Regular=1]="Regular",e[e.Separator=2]="Separator"}(t.WordType||(t.WordType={}));var g,m=t.WordType;!function(e){e[e.Regular=0]="Regular",e[e.Whitespace=1]="Whitespace",e[e.WordSeparator=2]="WordSeparator"}(g||(g={})),function(e){e[e.WordStart=0]="WordStart",e[e.WordEnd=1]="WordEnd"}(t.WordNavigationType||(t.WordNavigationType={}));var v=t.WordNavigationType,y=g.Regular,E=g.Whitespace,S=g.WordSeparator,b=m.None,_=m.Regular,C=m.Separator,w=function(){function e(e,t,i,n,o){this.editorId=e,this.model=t,this.configuration=i,this.modeConfiguration=n,this.viewModelHelper=o,this.helper=new T(this.model,this.configuration),this.bracketDecorations=[],this._set(new u.Range(1,1,1,1),0,new c.Position(1,1),0,new u.Range(1,1,1,1),new c.Position(1,1))}return e.prototype._set=function(t,i,n,o,r,s){this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=i,this.position=n,this.leftoverVisibleColumns=o,this.viewSelectionStart=r,this.viewPosition=s,this._cachedSelection=e.computeSelection(this.selectionStart,this.position),this._cachedViewSelection=e.computeSelection(this.viewSelectionStart,this.viewPosition),this._selStartMarker=this._ensureMarker(this._selStartMarker,this._cachedSelection.startLineNumber,this._cachedSelection.startColumn,!0),this._selEndMarker=this._ensureMarker(this._selEndMarker,this._cachedSelection.endLineNumber,this._cachedSelection.endColumn,!1),this._selDirection=this._cachedSelection.getDirection()},e.prototype._ensureMarker=function(e,t,i,n){return e?(this.model._changeMarker(e,t,i),this.model._changeMarkerStickiness(e,n),e):this.model._addMarker(t,i,n)},e.prototype.saveState=function(){return{selectionStart:this.selectionStart,viewSelectionStart:this.viewSelectionStart,position:this.position,viewPosition:this.viewPosition,leftoverVisibleColumns:this.leftoverVisibleColumns,selectionStartLeftoverVisibleColumns:this.selectionStartLeftoverVisibleColumns}},e.prototype.restoreState=function(e){var t,i=this.model.validatePosition(e.position);t=e.selectionStart?this.model.validateRange(e.selectionStart):new u.Range(i.lineNumber,i.column,i.lineNumber,i.column);var n,o=this.viewModelHelper.validateViewPosition(e.viewPosition.lineNumber,e.viewPosition.column,i);n=e.viewSelectionStart?this.viewModelHelper.validateViewRange(e.viewSelectionStart.startLineNumber,e.viewSelectionStart.startColumn,e.viewSelectionStart.endLineNumber,e.viewSelectionStart.endColumn,t):this.viewModelHelper.convertModelRangeToViewRange(t),
this._set(t,e.selectionStartLeftoverVisibleColumns,i,e.leftoverVisibleColumns,n,o)},e.prototype.updateModeConfiguration=function(e){this.modeConfiguration=e},e.prototype.duplicate=function(){var t=new e(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);return t._set(this.selectionStart,this.selectionStartLeftoverVisibleColumns,this.position,this.leftoverVisibleColumns,this.viewSelectionStart,this.viewPosition),t},e.prototype.dispose=function(){this.model._removeMarker(this._selStartMarker),this.model._removeMarker(this._selEndMarker),this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,[],this.editorId)},e.prototype.adjustBracketDecorations=function(){var e=null,t=this.getSelection();t.isEmpty()&&(e=this.model.matchBracket(this.position));var i=[];if(e){var n={stickiness:d.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match"};i.push({range:e[0],options:n}),i.push({range:e[1],options:n})}this.bracketDecorations=this.model.deltaDecorations(this.bracketDecorations,i,this.editorId)},e.computeSelection=function(e,t){var i,n,o,r;return e.isEmpty()?(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,r=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,n=e.endColumn,o=t.lineNumber,r=t.column):(i=e.startLineNumber,n=e.startColumn,o=t.lineNumber,r=t.column),new l.Selection(i,n,o,r)},e.prototype.setSelection=function(e){var t=this.model.validatePosition({lineNumber:e.positionLineNumber,column:e.positionColumn}),i=this.model.validatePosition({lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn}),n=new u.Range(i.lineNumber,i.column,i.lineNumber,i.column),o=this.viewModelHelper.convertModelPositionToViewPosition(t.lineNumber,t.column),r=this.viewModelHelper.convertModelRangeToViewRange(n);this._set(n,0,t,0,r,o)},e.prototype.setViewSelection=function(e){var t=this.viewModelHelper.validateViewRange(e.selectionStartLineNumber,e.selectionStartColumn,e.selectionStartLineNumber,e.selectionStartColumn,this.selectionStart),i=this.viewModelHelper.validateViewPosition(e.positionLineNumber,e.positionColumn,this.position);this._set(this.selectionStart,0,this.position,0,t,i)},e.prototype.setSelectionStart=function(e,t){this._set(e,this.selectionStartLeftoverVisibleColumns,this.position,this.leftoverVisibleColumns,t,this.viewPosition)},e.prototype.collapseSelection=function(){var e=new u.Range(this.position.lineNumber,this.position.column,this.position.lineNumber,this.position.column),t=new u.Range(this.viewPosition.lineNumber,this.viewPosition.column,this.viewPosition.lineNumber,this.viewPosition.column);this._set(e,0,this.position,this.leftoverVisibleColumns,t,this.viewPosition)},e.prototype.moveModelPosition=function(e,t,i,n,o){var r=this.viewModelHelper.convertModelPositionToViewPosition(t,i);this._move(e,t,i,r.lineNumber,r.column,n,o)},e.prototype.moveViewPosition=function(e,t,i,n,o){var r=this.viewModelHelper.convertViewToModelPosition(t,i);this._move(e,r.lineNumber,r.column,t,i,n,o)},e.prototype._move=function(e,t,i,n,o,r,s){if(s){var a=this.model.getEditableRange();if(t<a.startLineNumber||t===a.startLineNumber&&i<a.startColumn){t=a.startLineNumber,i=a.startColumn;var u=this.viewModelHelper.convertModelPositionToViewPosition(t,i);n=u.lineNumber,o=u.column}else if(t>a.endLineNumber||t===a.endLineNumber&&i>a.endColumn){t=a.endLineNumber,i=a.endColumn;var u=this.viewModelHelper.convertModelPositionToViewPosition(t,i);n=u.lineNumber,o=u.column}}this._actualMove(e,new c.Position(t,i),new c.Position(n,o),r)},e.prototype._actualMove=function(e,t,i,n){if(e)this._set(this.selectionStart,this.selectionStartLeftoverVisibleColumns,t,n,this.viewSelectionStart,i);else{var o=new u.Range(t.lineNumber,t.column,t.lineNumber,t.column),r=new u.Range(i.lineNumber,i.column,i.lineNumber,i.column);this._set(o,n,t,n,r,i)}},e.prototype._recoverSelectionFromMarkers=function(){var e=this.model._getMarker(this._selStartMarker),t=this.model._getMarker(this._selEndMarker);return this._selDirection===l.SelectionDirection.LTR?new l.Selection(e.lineNumber,e.column,t.lineNumber,t.column):new l.Selection(t.lineNumber,t.column,e.lineNumber,e.column)},e.prototype.recoverSelectionFromMarkers=function(e){e.cursorPositionChangeReason=d.CursorChangeReason.RecoverFromMarkers,e.shouldPushStackElementBefore=!0,e.shouldPushStackElementAfter=!0,e.shouldReveal=!1,e.shouldRevealHorizontal=!1;var t=this._recoverSelectionFromMarkers(),i=new u.Range(t.selectionStartLineNumber,t.selectionStartColumn,t.selectionStartLineNumber,t.selectionStartColumn),n=new c.Position(t.positionLineNumber,t.positionColumn),o=this.viewModelHelper.convertModelRangeToViewRange(i),r=this.viewModelHelper.convertViewToModelPosition(n.lineNumber,n.column);return this._set(i,0,n,0,o,r),!0},e.prototype.getPageSize=function(){var e=this.configuration.editor;return Math.floor(e.layoutInfo.height/e.fontInfo.lineHeight)-2},e.prototype.getSelectionStart=function(){return this.selectionStart},e.prototype.getPosition=function(){return this.position},e.prototype.getSelection=function(){return this._cachedSelection},e.prototype.getViewPosition=function(){return this.viewPosition},e.prototype.getViewSelection=function(){return this._cachedViewSelection},e.prototype.getValidViewPosition=function(){return this.viewModelHelper.validateViewPosition(this.viewPosition.lineNumber,this.viewPosition.column,this.position)},e.prototype.hasSelection=function(){return!this.getSelection().isEmpty()||!this.selectionStart.isEmpty()},e.prototype.getBracketsDecorations=function(){return this.bracketDecorations},e.prototype.getLeftoverVisibleColumns=function(){return this.leftoverVisibleColumns},e.prototype.getSelectionStartLeftoverVisibleColumns=function(){return this.selectionStartLeftoverVisibleColumns},e.prototype.setSelectionStartLeftoverVisibleColumns=function(e){this.selectionStartLeftoverVisibleColumns=e},e.prototype.validatePosition=function(e){return this.model.validatePosition(e)},e.prototype.validateViewPosition=function(e,t,i){return this.viewModelHelper.validateViewPosition(e,t,i)},e.prototype.convertViewToModelPosition=function(e,t){return this.viewModelHelper.convertViewToModelPosition(e,t)},e.prototype.convertViewSelectionToModelSelection=function(e){return this.viewModelHelper.convertViewSelectionToModelSelection(e)},e.prototype.convertModelPositionToViewPosition=function(e,t){return this.viewModelHelper.convertModelPositionToViewPosition(e,t)},e.prototype.getLineContent=function(e){return this.model.getLineContent(e)},e.prototype.findPreviousWordOnLine=function(e){return this.helper.findPreviousWordOnLine(e)},e.prototype.findNextWordOnLine=function(e){return this.helper.findNextWordOnLine(e)},e.prototype.getLeftOfPosition=function(e,t){return this.helper.getLeftOfPosition(this.model,e,t)},e.prototype.getRightOfPosition=function(e,t){return this.helper.getRightOfPosition(this.model,e,t)},e.prototype.getPositionUp=function(e,t,i,n,o){return this.helper.getPositionUp(this.model,e,t,i,n,o)},e.prototype.getPositionDown=function(e,t,i,n,o){return this.helper.getPositionDown(this.model,e,t,i,n,o)},e.prototype.getColumnAtBeginningOfLine=function(e,t){return this.helper.getColumnAtBeginningOfLine(this.model,e,t)},e.prototype.getColumnAtEndOfLine=function(e,t){return this.helper.getColumnAtEndOfLine(this.model,e,t)},e.prototype.getVisibleColumnFromColumn=function(e,t){return this.helper.visibleColumnFromColumn(this.model,e,t)},e.prototype.getColumnFromVisibleColumn=function(e,t){return this.helper.columnFromVisibleColumn(this.model,e,t)},e.prototype.getViewVisibleColumnFromColumn=function(e,t){return this.helper.visibleColumnFromColumn(this.viewModelHelper.viewModel,e,t)},e.prototype.getViewLineCount=function(){return this.viewModelHelper.viewModel.getLineCount()},e.prototype.getViewLineMaxColumn=function(e){return this.viewModelHelper.viewModel.getLineMaxColumn(e)},e.prototype.getLeftOfViewPosition=function(e,t){return this.helper.getLeftOfPosition(this.viewModelHelper.viewModel,e,t)},e.prototype.getRightOfViewPosition=function(e,t){return this.helper.getRightOfPosition(this.viewModelHelper.viewModel,e,t)},e.prototype.getViewPositionUp=function(e,t,i,n,o){return this.helper.getPositionUp(this.viewModelHelper.viewModel,e,t,i,n,o)},e.prototype.getViewPositionDown=function(e,t,i,n,o){return this.helper.getPositionDown(this.viewModelHelper.viewModel,e,t,i,n,o)},e.prototype.getColumnAtBeginningOfViewLine=function(e,t){return this.helper.getColumnAtBeginningOfLine(this.viewModelHelper.viewModel,e,t)},e.prototype.getColumnAtEndOfViewLine=function(e,t){return this.helper.getColumnAtEndOfLine(this.viewModelHelper.viewModel,e,t)},e.prototype.columnSelect=function(e,t,i,n){var o=this,r=this.helper.columnSelect(this.viewModelHelper.viewModel,e,t,i,n);return{reversed:r.reversed,viewSelections:r.viewSelections,selections:r.viewSelections.map(function(e){return o.convertViewSelectionToModelSelection(e)}),toLineNumber:i,toVisualColumn:n}},e}();t.OneCursor=w;var I=function(){function e(){}return e.jumpToBracket=function(e,t){var i=e.getBracketsDecorations();if(2!==i.length)return!1;var n=e.model.getDecorationRange(i[0]),o=e.model.getDecorationRange(i[1]),r=e.getPosition();return L.isPositionAtRangeEdges(r,n)||L.isPositionInsideRange(r,n)?(e.moveModelPosition(!1,o.endLineNumber,o.endColumn,0,!1),!0):!(!L.isPositionAtRangeEdges(r,o)&&!L.isPositionInsideRange(r,o))&&(e.moveModelPosition(!1,n.endLineNumber,n.endColumn,0,!1),!0)},e.moveTo=function(e,t,i,n,o,r){var s,a=e.model.validatePosition(i);s=n?e.validateViewPosition(n.lineNumber,n.column,a):e.convertModelPositionToViewPosition(a.lineNumber,a.column);var c="mouse"===o?d.CursorChangeReason.Explicit:d.CursorChangeReason.NotSet;return"api"===o&&(r.shouldRevealVerticalInCenter=!0),c&&(r.cursorPositionChangeReason=c),e.moveViewPosition(t,s.lineNumber,s.column,0,!1),!0},e._columnSelectOp=function(e,t,i){var n=e.getViewSelection(),o=e.getVisibleColumnFromColumn(n.selectionStartLineNumber,n.selectionStartColumn);return e.columnSelect(n.selectionStartLineNumber,o,t,i)},e.columnSelectMouse=function(e,t,i,n){var o,r=e.model.validatePosition(t);return o=i?e.validateViewPosition(i.lineNumber,i.column,r):e.convertModelPositionToViewPosition(r.lineNumber,r.column),this._columnSelectOp(e,o.lineNumber,n)},e.columnSelectLeft=function(e,t,i){return i>1&&i--,this._columnSelectOp(e,t,i)},e.columnSelectRight=function(e,t,i){for(var n=0,o=Math.min(e.getViewPosition().lineNumber,t),r=Math.max(e.getViewPosition().lineNumber,t),s=o;s<=r;s++){var a=e.getViewLineMaxColumn(s),c=e.getViewVisibleColumnFromColumn(s,a);n=Math.max(n,c)}return i<n&&i++,this._columnSelectOp(e,t,i)},e.columnSelectUp=function(e,t,i,n){var o=e?t.getPageSize():1;return i-=o,i<1&&(i=1),this._columnSelectOp(t,i,n)},e.columnSelectDown=function(e,t,i,n){var o=e?t.getPageSize():1;return i+=o,i>t.getViewLineCount()&&(i=t.getViewLineCount()),this._columnSelectOp(t,i,n)},e.moveLeft=function(e,t,i){var n,o;if(e.hasSelection()&&!t){var r=e.getViewSelection(),s=e.validateViewPosition(r.startLineNumber,r.startColumn,e.getSelection().getStartPosition());n=s.lineNumber,o=s.column}else{var a=e.getValidViewPosition(),c=e.getLeftOfViewPosition(a.lineNumber,a.column);n=c.lineNumber,o=c.column}return i.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(t,n,o,0,!0),!0},e.moveWordLeft=function(e,t,i,n){var o=e.getPosition(),r=o.lineNumber,s=o.column;1===s&&r>1&&(r-=1,s=e.model.getLineMaxColumn(r));var a=e.findPreviousWordOnLine(new c.Position(r,s));return i===v.WordStart?s=a?a.start+1:1:(a&&s<=a.end+1&&(a=e.findPreviousWordOnLine(new c.Position(r,a.start+1))),s=a?a.end+1:1),n.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveModelPosition(t,r,s,0,!0),!0},e.moveRight=function(e,t,i){var n,o;if(e.hasSelection()&&!t){var r=e.getViewSelection(),s=e.validateViewPosition(r.endLineNumber,r.endColumn,e.getSelection().getEndPosition());n=s.lineNumber,o=s.column}else{var a=e.getValidViewPosition(),c=e.getRightOfViewPosition(a.lineNumber,a.column);n=c.lineNumber,o=c.column}return i.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(t,n,o,0,!0),!0},e.moveWordRight=function(e,t,i,n){var o=e.getPosition(),r=o.lineNumber,s=o.column;s===e.model.getLineMaxColumn(r)&&r<e.model.getLineCount()&&(r+=1,s=1);var a=e.findNextWordOnLine(new c.Position(r,s));return i===v.WordEnd?s=a?a.end+1:e.model.getLineMaxColumn(r):(a&&s>=a.start+1&&(a=e.findNextWordOnLine(new c.Position(r,a.end+1))),s=a?a.start+1:e.model.getLineMaxColumn(r)),n.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveModelPosition(t,r,s,0,!0),!0},e.moveDown=function(e,t,i,n,o){var r,s,a=i?n||e.getPageSize():1;if(e.hasSelection()&&!t){var c=e.getViewSelection(),u=e.validateViewPosition(c.endLineNumber,c.endColumn,e.getSelection().getEndPosition());r=u.lineNumber,s=u.column}else{var l=e.getValidViewPosition();r=l.lineNumber,s=l.column}var h=e.getViewPositionDown(r,s,e.getLeftoverVisibleColumns(),a,!0);return o.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(t,h.lineNumber,h.column,h.leftoverVisibleColumns,!0),!0},e.translateDown=function(e,t){var i=e.getViewSelection(),n=e.getViewPositionDown(i.selectionStartLineNumber,i.selectionStartColumn,e.getSelectionStartLeftoverVisibleColumns(),1,!1);t.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(!1,n.lineNumber,n.column,e.getLeftoverVisibleColumns(),!0);var o=e.getViewPositionDown(i.positionLineNumber,i.positionColumn,e.getLeftoverVisibleColumns(),1,!1);return t.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(!0,o.lineNumber,o.column,o.leftoverVisibleColumns,!0),e.setSelectionStartLeftoverVisibleColumns(n.leftoverVisibleColumns),!0},e.moveUp=function(e,t,i,n,o){var r,s,a=i?n||e.getPageSize():1;if(e.hasSelection()&&!t){var c=e.getViewSelection(),u=e.validateViewPosition(c.startLineNumber,c.startColumn,e.getSelection().getStartPosition());r=u.lineNumber,s=u.column}else{var l=e.getValidViewPosition();r=l.lineNumber,s=l.column}var h=e.getViewPositionUp(r,s,e.getLeftoverVisibleColumns(),a,!0);return o.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(t,h.lineNumber,h.column,h.leftoverVisibleColumns,!0),!0},e.translateUp=function(e,t){var i=e.getViewSelection(),n=e.getViewPositionUp(i.selectionStartLineNumber,i.selectionStartColumn,e.getSelectionStartLeftoverVisibleColumns(),1,!1);t.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(!1,n.lineNumber,n.column,e.getLeftoverVisibleColumns(),!0);var o=e.getViewPositionUp(i.positionLineNumber,i.positionColumn,e.getLeftoverVisibleColumns(),1,!1);return t.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(!0,o.lineNumber,o.column,o.leftoverVisibleColumns,!0),e.setSelectionStartLeftoverVisibleColumns(n.leftoverVisibleColumns),!0},e.moveToBeginningOfLine=function(e,t,i){var n=e.getValidViewPosition(),o=n.lineNumber,r=n.column;return r=e.getColumnAtBeginningOfViewLine(o,r),i.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(t,o,r,0,!0),!0},e.moveToEndOfLine=function(e,t,i){var n=e.getValidViewPosition(),o=n.lineNumber,r=n.column;return r=e.getColumnAtEndOfViewLine(o,r),i.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveViewPosition(t,o,r,0,!0),!0},e.expandLineSelection=function(e,t){t.cursorPositionChangeReason=d.CursorChangeReason.Explicit;var i=e.getViewSelection(),n=i.startLineNumber,o=i.startColumn,r=i.endLineNumber,s=i.endColumn,a=e.getViewLineMaxColumn(r);if(1!==o||s!==a)o=1,s=a;else{var c=e.getViewPositionDown(r,s,0,1,!0);r=c.lineNumber,s=e.getViewLineMaxColumn(r)}return e.moveViewPosition(!1,n,o,0,!0),e.moveViewPosition(!0,r,s,0,!0),!0},e.moveToBeginningOfBuffer=function(e,t,i){return i.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveModelPosition(t,1,1,0,!0),!0},e.moveToEndOfBuffer=function(e,t,i){var n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return i.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveModelPosition(t,n,o,0,!0),!0},e.selectAll=function(e,t){var i,n,o,r,s=!0;if(e.model.hasEditableRange()){var a=e.model.getEditableRange(),c=e.getSelection();c.equalsRange(a)||(s=!1,i=a.startLineNumber,n=a.startColumn,o=a.endLineNumber,r=a.endColumn)}return s&&(i=1,n=1,o=e.model.getLineCount(),r=e.model.getLineMaxColumn(o)),e.moveModelPosition(!1,i,n,0,!1),e.moveModelPosition(!0,o,r,0,!1),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},e.line=function(e,t,i,n,o){var r=e.validatePosition(i),s=n?e.validateViewPosition(n.lineNumber,n.column,r):e.convertModelPositionToViewPosition(r.lineNumber,r.column);if(o.cursorPositionChangeReason=d.CursorChangeReason.Explicit,o.shouldRevealHorizontal=!1,t&&e.hasSelection()){var a=e.getSelectionStart().getStartPosition().lineNumber;if(r.lineNumber<a)e.moveViewPosition(e.hasSelection(),s.lineNumber,1,0,!1);else if(r.lineNumber>a){var c=s.lineNumber+1,l=1;c>e.getViewLineCount()&&(c=e.getViewLineCount(),l=e.getViewLineMaxColumn(c)),e.moveViewPosition(e.hasSelection(),c,l,0,!1)}else{var h=e.getSelectionStart().getEndPosition();e.moveModelPosition(e.hasSelection(),h.lineNumber,h.column,0,!1)}return!0}var p=r.lineNumber+1,f=1;p>e.model.getLineCount()&&(p=e.model.getLineCount(),f=e.model.getLineMaxColumn(p));var g=new u.Range(r.lineNumber,1,p,f),m=e.convertModelPositionToViewPosition(r.lineNumber,1),v=e.convertModelPositionToViewPosition(p,f);return e.setSelectionStart(g,new u.Range(m.lineNumber,m.column,v.lineNumber,v.column)),e.moveModelPosition(e.hasSelection(),g.endLineNumber,g.endColumn,0,!1),!0},e.word=function(e,t,i,n){var o,r,s=e.validatePosition(i),a=e.findPreviousWordOnLine(s),l=a&&a.wordType===m.Regular&&a.start<s.column-1&&s.column-1<=a.end,h=e.findNextWordOnLine(s),p=h&&h.wordType===m.Regular&&h.start<s.column-1&&s.column-1<=h.end;if(t&&e.hasSelection()){var f=void 0,g=void 0;if(l?(f=a.start+1,g=a.end+1):p?(f=h.start+1,g=h.end+1):(f=s.column,g=s.column),o=s.lineNumber,s.isBeforeOrEqual(e.getSelectionStart().getStartPosition())){r=f;var v=new c.Position(o,r);e.getSelectionStart().containsPosition(v)&&(r=e.getSelectionStart().endColumn)}else{r=g;var v=new c.Position(o,r);e.getSelectionStart().containsPosition(v)&&(r=e.getSelectionStart().startColumn)}}else{var f=void 0,g=void 0;l?(f=a.start+1,g=a.end+1):p?(f=h.start+1,g=h.end+1):(f=a?a.end+1:1,g=h?h.start+1:e.model.getLineMaxColumn(s.lineNumber));var y=new u.Range(s.lineNumber,f,s.lineNumber,g),E=e.convertModelPositionToViewPosition(s.lineNumber,f),S=e.convertModelPositionToViewPosition(s.lineNumber,g);e.setSelectionStart(y,new u.Range(E.lineNumber,E.column,S.lineNumber,S.column)),o=y.endLineNumber,r=y.endColumn}return n.cursorPositionChangeReason=d.CursorChangeReason.Explicit,e.moveModelPosition(e.hasSelection(),o,r,0,!1),!0},e.cancelSelection=function(e,t){return!!e.hasSelection()&&(e.collapseSelection(),!0)},e._typeInterceptorEnter=function(e,t,i){return"\n"===t&&this._enter(e,!1,i)},e.lineInsertBefore=function(e,t){var i=e.getPosition().lineNumber;if(1===i)return t.executeCommand=new o.ReplaceCommandWithoutChangingPosition(new u.Range(1,1,1,1),"\n"),!0;i--;var n=e.model.getLineMaxColumn(i);return this._enter(e,!1,t,new c.Position(i,n),new u.Range(i,n,i,n))},e.lineInsertAfter=function(e,t){var i=e.getPosition(),n=e.model.getLineMaxColumn(i.lineNumber);return this._enter(e,!1,t,new c.Position(i.lineNumber,n),new u.Range(i.lineNumber,n,i.lineNumber,n))},e.lineBreakInsert=function(e,t){return this._enter(e,!0,t)},e._enter=function(e,t,i,n,s){"undefined"==typeof n&&(n=e.getPosition()),"undefined"==typeof s&&(s=e.getSelection()),i.shouldPushStackElementBefore=!0;var a=p.LanguageConfigurationRegistry.getEnterActionAtPosition(e.model,n.lineNumber,n.column),c=a.enterAction,u=a.indentation;if(i.isAutoWhitespaceCommand=!0,c.indentAction===h.IndentAction.None)this.actualType(e,"\n"+e.model.normalizeIndentation(u+c.appendText),t,i,s);else if(c.indentAction===h.IndentAction.Indent)this.actualType(e,"\n"+e.model.normalizeIndentation(u+c.appendText),t,i,s);else if(c.indentAction===h.IndentAction.IndentOutdent){var l=e.model.normalizeIndentation(u),d=e.model.normalizeIndentation(u+c.appendText),f="\n"+d+"\n"+l;t?i.executeCommand=new o.ReplaceCommandWithoutChangingPosition(s,f):i.executeCommand=new o.ReplaceCommandWithOffsetCursorState(s,f,(-1),d.length-l.length)}else if(c.indentAction===h.IndentAction.Outdent){for(var g=r.ShiftCommand.unshiftIndentCount(u,u.length+1,e.model.getOptions().tabSize),m="",v=0;v<g;v++)m+="\t";this.actualType(e,"\n"+e.model.normalizeIndentation(m+c.appendText),t,i,s)}return!0},e._typeInterceptorAutoClosingCloseChar=function(e,t,i){if(!e.configuration.editor.autoClosingBrackets)return!1;var n=e.getSelection();if(!n.isEmpty()||!e.modeConfiguration.autoClosingPairsClose.hasOwnProperty(t))return!1;var r=e.getPosition(),s=e.model.getLineContent(r.lineNumber),a=s[r.column-1];if(a!==t)return!1;var c=new u.Range(r.lineNumber,r.column,r.lineNumber,r.column+1);return i.executeCommand=new o.ReplaceCommand(c,t),!0},e._typeInterceptorAutoClosingOpenChar=function(e,t,n){if(!e.configuration.editor.autoClosingBrackets)return!1;var r=e.getSelection();if(!r.isEmpty()||!e.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(t))return!1;var s=p.LanguageConfigurationRegistry.getCharacterPairSupport(e.model.getMode().getId());if(!s)return!1;var a=e.getPosition(),c=e.model.getLineContent(a.lineNumber),u=c[a.column-1];if(u){var l=!1;for(var d in e.modeConfiguration.autoClosingPairsClose)if(u===d){l=!0;break}if(!l&&!/\s/.test(u))return!1}var h=e.model.getLineContext(a.lineNumber),f=!1;try{f=s.shouldAutoClosePair(t,h,a.column-1)}catch(g){i.onUnexpectedError(g)}if(!f)return!1;n.shouldPushStackElementBefore=!0;var m=e.modeConfiguration.autoClosingPairsOpen[t];return n.executeCommand=new o.ReplaceCommandWithOffsetCursorState(r,t+m,0,(-m.length)),!0},e._typeInterceptorSurroundSelection=function(e,t,i){if(!e.configuration.editor.autoClosingBrackets)return!1;var n=e.getSelection();if(n.isEmpty()||!e.modeConfiguration.surroundingPairs.hasOwnProperty(t))return!1;var o,r,a,c,u,l,d=!0,h="\t".charCodeAt(0),p=" ".charCodeAt(0);for(o=n.startLineNumber;o<=n.endLineNumber;o++)for(l=e.model.getLineContent(o),r=o===n.startLineNumber?n.startColumn-1:0,a=o===n.endLineNumber?n.endColumn-1:l.length,c=r;c<a;c++)u=l.charCodeAt(c),u!==h&&u!==p&&(d=!1,o=n.endLineNumber+1,c=a);if(d)return!1;var f=e.modeConfiguration.surroundingPairs[t];return i.shouldPushStackElementBefore=!0,i.shouldPushStackElementAfter=!0,i.executeCommand=new s.SurroundSelectionCommand(n,t,f),!0},e._typeInterceptorElectricChar=function(e,t,i){var n=this;return!!e.modeConfiguration.electricChars.hasOwnProperty(t)&&(i.postOperationRunnable=function(t){return n._typeInterceptorElectricCharRunnable(e,t)},this.actualType(e,t,!1,i))},e._typeInterceptorElectricCharRunnable=function(e,t){var r,s=e.getPosition(),a=e.model.getLineContent(s.lineNumber),c=e.model.getLineContext(s.lineNumber),l=p.LanguageConfigurationRegistry.getElectricCharacterSupport(e.model.getMode().getId());if(l)try{r=l.onElectricCharacter(c,s.column-2)}catch(d){i.onUnexpectedError(d)}if(r){var h=r.matchOpenBracket,f=r.appendText;if(h){var g=e.model.findMatchingBracketUp(h,{lineNumber:s.lineNumber,column:s.column-h.length});if(g){var m=g.startLineNumber,v=e.model.getLineContent(m),y=n.getLeadingWhitespace(v),E=e.model.normalizeIndentation(y),S=e.model.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,b=a.substring(0,S-1);if(b!==E){var _=a.substring(S-1,s.column-1),C=E+_,w=new u.Range(s.lineNumber,1,s.lineNumber,s.column);t.shouldPushStackElementAfter=!0,t.executeCommand=new o.ReplaceCommand(w,C)}}}else if(f){var I=-f.length;r.advanceCount&&(I+=r.advanceCount),t.shouldPushStackElementAfter=!0,t.executeCommand=new o.ReplaceCommandWithOffsetCursorState(e.getSelection(),f,0,I)}}},e.actualType=function(e,t,i,n,r){return"undefined"==typeof r&&(r=e.getSelection()),i?n.executeCommand=new o.ReplaceCommandWithoutChangingPosition(r,t):n.executeCommand=new o.ReplaceCommand(r,t),!0},e.type=function(e,t,i){return!!this._typeInterceptorEnter(e,t,i)||(!!this._typeInterceptorAutoClosingCloseChar(e,t,i)||(!!this._typeInterceptorAutoClosingOpenChar(e,t,i)||(!!this._typeInterceptorSurroundSelection(e,t,i)||(!!this._typeInterceptorElectricChar(e,t,i)||this.actualType(e,t,!1,i)))))},e.replacePreviousChar=function(e,t,i,n){var r,s=e.getPosition(),a=Math.max(1,s.column-i);return r=new u.Range(s.lineNumber,a,s.lineNumber,s.column),n.executeCommand=new o.ReplaceCommand(r,t),!0},e._goodIndentForLine=function(e,t){var i=t-1;for(i=t-1;i>=1;i--){var o=e.model.getLineContent(i),s=n.lastNonWhitespaceIndex(o);if(s>=0)break}if(i<1)return"\t";var a,c=p.LanguageConfigurationRegistry.getEnterActionAtPosition(e.model,i,e.model.getLineMaxColumn(i));if(c.enterAction.indentAction===h.IndentAction.Outdent){var u=e.model.getOptions(),l=r.ShiftCommand.unshiftIndentCount(c.indentation,c.indentation.length,u.tabSize);a="";for(var d=0;d<l;d++)a+="\t";a=e.model.normalizeIndentation(a)}else a=c.indentation;var f=a+c.enterAction.appendText;return 0===f.length?"\t":f},e.tab=function(e,t){var i=e.getSelection();if(i.isEmpty()){t.isAutoWhitespaceCommand=!0;var n="";if(1===e.model.getLineMaxColumn(i.startLineNumber))n=e.model.normalizeIndentation(this._goodIndentForLine(e,i.startLineNumber));else{var r=e.getPosition(),s=e.model.getOptions();if(s.insertSpaces)for(var a=e.getVisibleColumnFromColumn(r.lineNumber,r.column),c=s.tabSize,u=c-a%c,l=0;l<u;l++)n+=" ";else n="\t"}return t.executeCommand=new o.ReplaceCommand(i,n),!0}if(i.startLineNumber===i.endLineNumber){var d=e.model.getLineMaxColumn(i.startLineNumber);if(1!==i.startColumn||i.endColumn!==d)return t.executeCommand=new o.ReplaceCommand(i,"\t"),!0}return this.indent(e,t)},e.indent=function(e,t){var i=e.getSelection();return t.shouldPushStackElementBefore=!0,t.shouldPushStackElementAfter=!0,t.executeCommand=new r.ShiftCommand(i,{isUnshift:!1,tabSize:e.model.getOptions().tabSize,oneIndent:e.model.getOneIndent()}),t.shouldRevealHorizontal=!1,!0},e.outdent=function(e,t){var i=e.getSelection();return t.shouldPushStackElementBefore=!0,t.shouldPushStackElementAfter=!0,t.executeCommand=new r.ShiftCommand(i,{isUnshift:!0,tabSize:e.model.getOptions().tabSize,oneIndent:e.model.getOneIndent()}),t.shouldRevealHorizontal=!1,!0},e.paste=function(e,t,i,n){var r=e.getPosition();if(n.cursorPositionChangeReason=d.CursorChangeReason.Paste,i&&"\n"===t.charAt(t.length-1)&&t.indexOf("\n")===t.length-1){var s=new u.Range(r.lineNumber,1,r.lineNumber,1);return n.executeCommand=new o.ReplaceCommand(s,t),!0}return n.executeCommand=new o.ReplaceCommand(e.getSelection(),t),!0},e._autoClosingPairDelete=function(e,t){if(!e.configuration.editor.autoClosingBrackets)return!1;if(!e.getSelection().isEmpty())return!1;var i=e.getPosition(),n=e.model.getLineContent(i.lineNumber),r=n[i.column-2];if(!e.modeConfiguration.autoClosingPairsOpen.hasOwnProperty(r))return!1;var s=n[i.column-1],a=e.modeConfiguration.autoClosingPairsOpen[r];if(s!==a)return!1;var c=new u.Range(i.lineNumber,i.column-1,i.lineNumber,i.column+1);return t.executeCommand=new o.ReplaceCommand(c,""),!0},e.deleteLeft=function(e,t){if(this._autoClosingPairDelete(e,t))return!0;var i=e.getSelection();if(i.isEmpty()){var r=e.getPosition();if(e.configuration.editor.useTabStops&&r.column>1){var s=e.getLineContent(r.lineNumber),c=n.firstNonWhitespaceIndex(s),l=c===-1?s.length+1:c+1;if(r.column<=l){var d=e.getVisibleColumnFromColumn(r.lineNumber,r.column),h=a.CursorMoveHelper.prevTabColumn(d,e.model.getOptions().tabSize),p=e.getColumnFromVisibleColumn(r.lineNumber,h);i=new u.Range(r.lineNumber,p,r.lineNumber,r.column)}else i=new u.Range(r.lineNumber,r.column-1,r.lineNumber,r.column)}else{var f=e.getLeftOfPosition(r.lineNumber,r.column);i=new u.Range(f.lineNumber,f.column,r.lineNumber,r.column)}}return!!i.isEmpty()||(i.startLineNumber!==i.endLineNumber&&(t.shouldPushStackElementBefore=!0),t.executeCommand=new o.ReplaceCommand(i,""),!0)},e.deleteWordLeftWhitespace=function(e,t){var i=e.getPosition(),r=e.getLineContent(i.lineNumber),s=i.column-2,a=n.lastNonWhitespaceIndex(r,s);return a+1<s&&(t.executeCommand=new o.ReplaceCommand(new u.Range(i.lineNumber,a+2,i.lineNumber,i.column),""),!0)},e.deleteWordLeft=function(e,t,i,n){if(this._autoClosingPairDelete(e,n))return!0;var r=e.getSelection();if(r.isEmpty()){var s=e.getPosition(),a=s.lineNumber,l=s.column;if(1===a&&1===l)return!0;if(t&&this.deleteWordLeftWhitespace(e,n))return!0;var d=e.findPreviousWordOnLine(s);i===v.WordStart?l=d?d.start+1:1:(d&&l<=d.end+1&&(d=e.findPreviousWordOnLine(new c.Position(a,d.start+1))),l=d?d.end+1:1);var h=new u.Range(a,l,a,s.column);if(!h.isEmpty())return n.executeCommand=new o.ReplaceCommand(h,""),!0}return this.deleteLeft(e,n)},e.deleteRight=function(e,t){var i=e.getSelection();if(i.isEmpty()){var n=e.getPosition(),r=e.getRightOfPosition(n.lineNumber,n.column);i=new u.Range(r.lineNumber,r.column,n.lineNumber,n.column)}return!!i.isEmpty()||(i.startLineNumber!==i.endLineNumber&&(t.shouldPushStackElementBefore=!0),t.executeCommand=new o.ReplaceCommand(i,""),!0)},e._findFirstNonWhitespaceChar=function(e,t){for(var i=e.length,n=t;n<i;n++){var o=e.charAt(n);if(" "!==o&&"\t"!==o)return n}return i},e.deleteWordRightWhitespace=function(e,t){var i=e.getPosition(),n=e.getLineContent(i.lineNumber),r=i.column-1,s=this._findFirstNonWhitespaceChar(n,r);return r+1<s&&(t.executeCommand=new o.ReplaceCommand(new u.Range(i.lineNumber,i.column,i.lineNumber,s+1),""),!0)},e.deleteWordRight=function(e,t,i,n){var r=e.getSelection();if(r.isEmpty()){var s=e.getPosition(),a=s.lineNumber,l=s.column,d=e.model.getLineCount(),h=e.model.getLineMaxColumn(a);if(a===d&&l===h)return!0;if(t&&this.deleteWordRightWhitespace(e,n))return!0;var p=e.findNextWordOnLine(s);i===v.WordEnd?p?l=p.end+1:l<h||a===d?l=h:(a++,p=e.findNextWordOnLine(new c.Position(a,1)),l=p?p.start+1:e.model.getLineMaxColumn(a)):(p&&l>=p.start+1&&(p=e.findNextWordOnLine(new c.Position(a,p.end+1))),p?l=p.start+1:l<h||a===d?l=h:(a++,p=e.findNextWordOnLine(new c.Position(a,1)),l=p?p.start+1:e.model.getLineMaxColumn(a)));var f=new u.Range(a,l,s.lineNumber,s.column);if(!f.isEmpty())return n.executeCommand=new o.ReplaceCommand(f,""),!0}return this.deleteRight(e,n)},e.deleteAllLeft=function(e,t){if(this._autoClosingPairDelete(e,t))return!0;var i=e.getSelection();if(i.isEmpty()){var n=e.getPosition(),r=n.lineNumber,s=n.column;if(1===s)return!0;var a=new u.Range(r,1,r,s);if(!a.isEmpty())return t.executeCommand=new o.ReplaceCommand(a,""),!0}return this.deleteLeft(e,t)},e.deleteAllRight=function(e,t){var i=e.getSelection();if(i.isEmpty()){var n=e.getPosition(),r=n.lineNumber,s=n.column,a=e.model.getLineMaxColumn(r);if(s===a)return!0;var c=new u.Range(r,s,r,a);if(!c.isEmpty())return t.executeCommand=new o.ReplaceCommand(c,""),!0}return this.deleteRight(e,t)},e.cut=function(e,t,i){var n=e.getSelection();if(n.isEmpty()){if(!t)return!1;var r=e.getPosition(),s=void 0,a=void 0,c=void 0,l=void 0;r.lineNumber<e.model.getLineCount()?(s=r.lineNumber,a=1,c=r.lineNumber+1,l=1):r.lineNumber>1?(s=r.lineNumber-1,a=e.model.getLineMaxColumn(r.lineNumber-1),c=r.lineNumber,l=e.model.getLineMaxColumn(r.lineNumber)):(s=r.lineNumber,a=1,c=r.lineNumber,l=e.model.getLineMaxColumn(r.lineNumber));var d=new u.Range(s,a,c,l);d.isEmpty()||(i.executeCommand=new o.ReplaceCommand(d,""))}else this.deleteRight(e,i);return!0},e}();t.OneCursorOp=I;var T=function(){function e(e,t){var i=this;this.model=e,this.configuration=t,this.moveHelper=new a.CursorMoveHelper({getIndentationOptions:function(){return i.model.getOptions()}})}return e.prototype.getLeftOfPosition=function(e,t,i){return this.moveHelper.getLeftOfPosition(e,t,i)},e.prototype.getRightOfPosition=function(e,t,i){return this.moveHelper.getRightOfPosition(e,t,i)},e.prototype.getPositionUp=function(e,t,i,n,o,r){return this.moveHelper.getPositionUp(e,t,i,n,o,r)},e.prototype.getPositionDown=function(e,t,i,n,o,r){
return this.moveHelper.getPositionDown(e,t,i,n,o,r)},e.prototype.getColumnAtBeginningOfLine=function(e,t,i){return this.moveHelper.getColumnAtBeginningOfLine(e,t,i)},e.prototype.getColumnAtEndOfLine=function(e,t,i){return this.moveHelper.getColumnAtEndOfLine(e,t,i)},e.prototype.columnSelect=function(e,t,i,n,o){return this.moveHelper.columnSelect(e,t,i,n,o)},e.prototype.visibleColumnFromColumn=function(e,t,i){return this.moveHelper.visibleColumnFromColumn(e,t,i)},e.prototype.columnFromVisibleColumn=function(e,t,i){return this.moveHelper.columnFromVisibleColumn(e,t,i)},e.prototype._createWord=function(e,t,i,n){return{start:i,end:n,wordType:t}},e.prototype.findPreviousWordOnLine=function(e){for(var t=this.model.validatePosition(e),i=A(this.configuration.editor.wordSeparators),n=this.model.getLineContent(t.lineNumber),o=b,r=t.column-2;r>=0;r--){var s=n.charCodeAt(r),a=i[s]||g.Regular;if(a===y){if(o===C)return this._createWord(n,o,r+1,this._findEndOfWord(n,i,o,r+1));o=_}else if(a===S){if(o===_)return this._createWord(n,o,r+1,this._findEndOfWord(n,i,o,r+1));o=C}else if(a===E&&o!==b)return this._createWord(n,o,r+1,this._findEndOfWord(n,i,o,r+1))}return o!==b?this._createWord(n,o,0,this._findEndOfWord(n,i,o,0)):null},e.prototype._findEndOfWord=function(e,t,i,n){for(var o=e.length,r=n;r<o;r++){var s=e.charCodeAt(r),a=t[s]||g.Regular;if(a===E)return r;if(i===_&&a===S)return r;if(i===C&&a===y)return r}return o},e.prototype.findNextWordOnLine=function(e){for(var t=this.model.validatePosition(e),i=A(this.configuration.editor.wordSeparators),n=this.model.getLineContent(t.lineNumber),o=b,r=n.length,s=t.column-1;s<r;s++){var a=n.charCodeAt(s),c=i[a]||g.Regular;if(c===y){if(o===C)return this._createWord(n,o,this._findStartOfWord(n,i,o,s-1),s);o=_}else if(c===S){if(o===_)return this._createWord(n,o,this._findStartOfWord(n,i,o,s-1),s);o=C}else if(c===E&&o!==b)return this._createWord(n,o,this._findStartOfWord(n,i,o,s-1),s)}return o!==b?this._createWord(n,o,this._findStartOfWord(n,i,o,r-1),r):null},e.prototype._findStartOfWord=function(e,t,i,n){for(var o=n;o>=0;o--){var r=e.charCodeAt(o),s=t[r]||g.Regular;if(s===E)return o+1;if(i===_&&s===S)return o+1;if(i===C&&s===y)return o+1}return 0},e}(),A=f(function(e){return e},function(e){for(var t=[],i=0;i<256;i++)t[i]=g.Regular;for(var n=0,o=e.length;n<o;n++)t[e.charCodeAt(n)]=g.WordSeparator;return t[" ".charCodeAt(0)]=g.Whitespace,t["\t".charCodeAt(0)]=g.Whitespace,t}),L=function(){function e(){}return e.rangeContainsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.isPositionInsideRange=function(e,t){return!(e.lineNumber<t.startLineNumber)&&(!(e.lineNumber>t.endLineNumber)&&(!(e.lineNumber===t.startLineNumber&&e.column<t.startColumn)&&!(e.lineNumber===t.endLineNumber&&e.column>t.endColumn)))},e.isPositionAtRangeEdges=function(e,t){return e.lineNumber===t.startLineNumber&&e.column===t.startColumn||e.lineNumber===t.endLineNumber&&e.column===t.endColumn},e}()}),define(l[334],d([1,0,7,303,46,80]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t,i,o){this.editorId=e,this.model=t,this.configuration=i,this.viewModelHelper=o,this.modeConfiguration=this.getModeConfiguration(),this.primaryCursor=new n.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(),this.killSecondaryCursors()},e.prototype.saveState=function(){return{primary:this.primaryCursor.saveState(),secondary:this.secondaryCursors.map(function(e){return e.saveState()})}},e.prototype.restoreState=function(e){this.primaryCursor.restoreState(e.primary),this.killSecondaryCursors();for(var t=0;t<e.secondary.length;t++)this.addSecondaryCursor(null),this.secondaryCursors[t].restoreState(e.secondary[t])},e.prototype.updateMode=function(){var e=this;this.modeConfiguration=this.getModeConfiguration(),this.getAll().forEach(function(t){t.updateModeConfiguration(e.modeConfiguration)})},e.prototype.getAll=function(){var e=[];return e.push(this.primaryCursor),e=e.concat(this.secondaryCursors)},e.prototype.getPosition=function(e){return 0===e?this.primaryCursor.getPosition():this.secondaryCursors[e-1].getPosition()},e.prototype.getViewPosition=function(e){return 0===e?this.primaryCursor.getViewPosition():this.secondaryCursors[e-1].getViewPosition()},e.prototype.getPositions=function(){var e=[];e.push(this.primaryCursor.getPosition());for(var t=0,i=this.secondaryCursors.length;t<i;t++)e.push(this.secondaryCursors[t].getPosition());return e},e.prototype.getViewPositions=function(){var e=[];e.push(this.primaryCursor.getViewPosition());for(var t=0,i=this.secondaryCursors.length;t<i;t++)e.push(this.secondaryCursors[t].getViewPosition());return e},e.prototype.getSelection=function(e){return 0===e?this.primaryCursor.getSelection():this.secondaryCursors[e-1].getSelection()},e.prototype.getSelections=function(){var e=[];e.push(this.primaryCursor.getSelection());for(var t=0,i=this.secondaryCursors.length;t<i;t++)e.push(this.secondaryCursors[t].getSelection());return e},e.prototype.getViewSelections=function(){var e=[];e.push(this.primaryCursor.getViewSelection());for(var t=0,i=this.secondaryCursors.length;t<i;t++)e.push(this.secondaryCursors[t].getViewSelection());return e},e.prototype.setSelections=function(e,t){if(this.primaryCursor.setSelection(e[0]),this._setSecondarySelections(e.slice(1)),t){this.primaryCursor.setViewSelection(t[0]);for(var i=0;i<this.secondaryCursors.length;i++)this.secondaryCursors[i].setViewSelection(t[i+1])}},e.prototype.killSecondaryCursors=function(){return this._setSecondarySelections([])>0},e.prototype.normalize=function(){this._mergeCursorsIfNecessary(),this.primaryCursor.adjustBracketDecorations();for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].adjustBracketDecorations()},e.prototype.addSecondaryCursor=function(e){var t=new n.OneCursor(this.editorId,this.model,this.configuration,this.modeConfiguration,this.viewModelHelper);e&&t.setSelection(e),this.secondaryCursors.push(t),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.duplicateCursors=function(){var e=[];e.push(this.primaryCursor.duplicate());for(var t=0,i=this.secondaryCursors.length;t<i;t++)e.push(this.secondaryCursors[t].duplicate());this.secondaryCursors=this.secondaryCursors.concat(e),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursor=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?this.primaryCursor:this.secondaryCursors[this.lastAddedCursorIndex-1]},e.prototype._setSecondarySelections=function(e){var t=this.secondaryCursors.length,i=e.length,n=i-t;if(t<i)for(var o=i-t,r=0;r<o;r++)this.addSecondaryCursor(null);else if(t>i)for(var s=t-i,r=0;r<s;r++)this._removeSecondaryCursor(this.secondaryCursors.length-1);for(var r=0;r<i;r++)e[r]&&this.secondaryCursors[r].setSelection(e[r]);return n},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(),this.secondaryCursors.splice(e,1)},e.prototype._mergeCursorsIfNecessary=function(){if(0!==this.secondaryCursors.length){for(var e=this.getAll(),t=[],i=0;i<e.length;i++)t.push({index:i,selection:e[i].getSelection(),viewSelection:e[i].getViewSelection()});t.sort(function(e,t){return e.viewSelection.startLineNumber===t.viewSelection.startLineNumber?e.viewSelection.startColumn-t.viewSelection.startColumn:e.viewSelection.startLineNumber-t.viewSelection.startLineNumber});for(var n=0;n<t.length-1;n++){var r=t[n],s=t[n+1],a=r.viewSelection,c=s.viewSelection;if(c.getStartPosition().isBeforeOrEqual(a.getEndPosition())){var u=r.index<s.index?n:n+1,l=r.index<s.index?n+1:n,d=t[l].index,h=t[u].index,p=t[l].selection,f=t[u].selection;if(!p.equalsSelection(f)){var g,m=p.plusRange(f),v=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn,y=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn;d===this.lastAddedCursorIndex?(g=v,this.lastAddedCursorIndex=h):g=y;var E;E=g?new o.Selection(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new o.Selection(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),t[u].selection=E,e[h].setSelection(E)}for(var S=0;S<t.length;S++)t[S].index>d&&t[S].index--;e.splice(d,1),t.splice(l,1),this._removeSecondaryCursor(d-1),n--}}}},e.prototype.getModeConfiguration=function(){var e,t={electricChars:{},autoClosingPairsOpen:{},autoClosingPairsClose:{},surroundingPairs:{}},n=r.LanguageConfigurationRegistry.getElectricCharacterSupport(this.model.getMode().getId());if(n){var o=null;try{o=n.getElectricCharacters()}catch(s){i.onUnexpectedError(s),o=null}if(o)for(e=0;e<o.length;e++)t.electricChars[o[e]]=!0}var a=r.LanguageConfigurationRegistry.getCharacterPairSupport(this.model.getMode().getId());if(a){var c=void 0;try{c=a.getAutoClosingPairs()}catch(s){i.onUnexpectedError(s),c=null}if(c)for(e=0;e<c.length;e++)t.autoClosingPairsOpen[c[e].open]=c[e].close,t.autoClosingPairsClose[c[e].close]=c[e].open;var u=void 0;try{u=a.getSurroundingPairs()}catch(s){i.onUnexpectedError(s),u=null}if(u)for(e=0;e<u.length;e++)t.surroundingPairs[u[e].open]=u[e].close}return t},e}();t.CursorCollection=s}),define(l[305],d([1,0,159,80,162]),function(e,t,i,n,o){"use strict";var r=function(){function e(){}return e._safeGetWordDefinition=function(e){return n.LanguageConfigurationRegistry.getWordDefinition(e.getId())},e.massageWordDefinitionOf=function(t){return o.ensureValidWordDefinition(e._safeGetWordDefinition(t))},e._getWordAtColumn=function(t,i,n,r){var s=r[n].startIndex,a=n+1<r.length?r[n+1].startIndex:t.length,c=r[n].mode;return o.getWordAtText(i,e.massageWordDefinitionOf(c),t.substring(s,a),s)},e.getWordAtPosition=function(t,n){if(!t._lineIsTokenized(n.lineNumber))return o.getWordAtText(n.column,e.massageWordDefinitionOf(t.getMode()),t.getLineContent(n.lineNumber),0);var r=null,s=t.getLineContent(n.lineNumber),a=t._getLineModeTransitions(n.lineNumber),c=n.column-1,u=i.ModeTransition.findIndexInSegmentsArray(a,c);return r=e._getWordAtColumn(s,n.column,u,a),!r&&u>0&&a[u].startIndex===c&&(r=e._getWordAtColumn(s,n.column,u-1,a)),r},e}();t.WordHelper=r}),define(l[333],d([1,0,36,5,9,48,14,46,11,610,609]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(e){function t(t,n,o,r,s){var a=this;e.call(this),this.lines=t,this.editorId=n,this.configuration=o,this.model=r,this.getCurrentCenteredModelRange=s,this.decorations=new l.ViewModelDecorations(this.editorId,this.configuration,{convertModelRangeToViewRange:function(e,t){return t?a.convertWholeLineModelRangeToViewRange(e):a.convertModelRangeToViewRange(e)}}),this.decorations.reset(this.model),this.cursors=new u.ViewModelCursors(this.configuration,this),this.listenersToRemove=[],this._toDispose=[],this.listenersToRemove.push(this.model.addBulkListener(function(e){return a.onEvents(e)})),this._toDispose.push(this.configuration.onDidChange(function(e){a.onEvents([new i.EmitterEvent(c.EventType.ConfigurationChanged,e)])}))}return h(t,e),t.prototype.setHiddenAreas=function(e){var t=this;this.deferredEmit(function(){var i=t.lines.setHiddenAreas(e,function(e,i){return t.emit(e,i)});i&&(t.emit(c.ViewEventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,i){return t.emit(e,i)}),t.cursors.onLineMappingChanged(function(e,i){return t.emit(e,i)}))})},t.prototype.dispose=function(){this.listenersToRemove=n.dispose(this.listenersToRemove),this._toDispose=n.dispose(this._toDispose),this.decorations.dispose(),this.decorations=null,this.lines.dispose(),this.lines=null,this.configuration=null,this.model=null},t.prototype._onTabSizeChange=function(e){var t=this,i=this.lines.setTabSize(e,function(e,i){return t.emit(e,i)});return i&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,i){return t.emit(e,i)}),this.cursors.onLineMappingChanged(function(e,i){return t.emit(e,i)})),i},t.prototype._onWrappingIndentChange=function(e){var t=this,i=this.lines.setWrappingIndent(e,function(e,i){return t.emit(e,i)});return i&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,i){return t.emit(e,i)}),this.cursors.onLineMappingChanged(function(e,i){return t.emit(e,i)})),i},t.prototype._restoreCenteredModelRange=function(e){var t=this.convertModelRangeToViewRange(e),i={range:t,verticalType:c.VerticalRevealType.Center,revealHorizontal:!1};this.emit(c.ViewEventNames.RevealRangeEvent,i)},t.prototype._onWrappingColumnChange=function(e,t){var i=this,n=this.lines.setWrappingColumn(e,t,function(e,t){return i.emit(e,t)});return n&&(this.emit(c.ViewEventNames.LineMappingChangedEvent),this.decorations.onLineMappingChanged(function(e,t){return i.emit(e,t)}),this.cursors.onLineMappingChanged(function(e,t){return i.emit(e,t)})),n},t.prototype.addEventSource=function(e){var t=this;this.listenersToRemove.push(e.addBulkListener2(function(e){return t.onEvents(e)}))},t.prototype.onEvents=function(e){var t=this;this.deferredEmit(function(){var i,n=e.some(function(e){return e.getType()===c.EventType.ModelRawContentChanged});n||(i=t.getCurrentCenteredModelRange());var o,r,s,a,u,l=!1,d=!1,h=!1;for(o=0,r=e.length;o<r;o++)switch(s=e[o],a=s.getData(),s.getType()){case c.EventType.ModelRawContentChanged:switch(u=a,u.changeType){case c.EventType.ModelRawContentChangedFlush:t.onModelFlushed(u),l=!0;break;case c.EventType.ModelRawContentChangedLinesDeleted:t.onModelLinesDeleted(u),l=!0;break;case c.EventType.ModelRawContentChangedLinesInserted:t.onModelLinesInserted(u),l=!0;break;case c.EventType.ModelRawContentChangedLineChanged:d=t.onModelLineChanged(u);break;default:console.info("ViewModel received unknown event: "),console.info(s)}break;case c.EventType.ModelTokensChanged:t.onModelTokensChanged(a);break;case c.EventType.ModelModeChanged:break;case c.EventType.ModelModeSupportChanged:break;case c.EventType.ModelContentChanged2:break;case c.EventType.ModelOptionsChanged:var p=t.lines.getOutputLineCount(),f=t._onTabSizeChange(t.model.getOptions().tabSize),g=t.lines.getOutputLineCount();f&&p!==g&&(h=!0);break;case c.EventType.ModelDecorationsChanged:t.onModelDecorationsChanged(a);break;case c.EventType.ModelDispose:break;case c.EventType.CursorPositionChanged:t.onCursorPositionChanged(a);break;case c.EventType.CursorSelectionChanged:t.onCursorSelectionChanged(a);break;case c.EventType.CursorRevealRange:t.onCursorRevealRange(a);break;case c.EventType.CursorScrollRequest:t.onCursorScrollRequest(a);break;case c.EventType.ConfigurationChanged:if(h=t._onWrappingIndentChange(t.configuration.editor.wrappingInfo.wrappingIndent)||h,h=t._onWrappingColumnChange(t.configuration.editor.wrappingInfo.wrappingColumn,t.configuration.editor.fontInfo.typicalFullwidthCharacterWidth/t.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)||h,a.readOnly){t.decorations.reset(t.model);var m={inlineDecorationsChanged:!1};t.emit(c.ViewEventNames.DecorationsChangedEvent,m)}t.emit(s.getType(),a);break;default:console.info("View received unknown event: "),console.info(s)}!l&&d&&(t.emit(c.ViewEventNames.LineMappingChangedEvent),t.decorations.onLineMappingChanged(function(e,i){return t.emit(e,i)}),t.cursors.onLineMappingChanged(function(e,i){return t.emit(e,i)})),h&&i&&t._restoreCenteredModelRange(i)})},t.prototype.onModelFlushed=function(e){var t=this;this.lines.onModelFlushed(e.versionId,function(e,i){return t.emit(e,i)}),this.decorations.reset(this.model)},t.prototype.onModelDecorationsChanged=function(e){var t=this;this.decorations.onModelDecorationsChanged(e,function(e,i){return t.emit(e,i)})},t.prototype.onModelLinesDeleted=function(e){var t=this;this.lines.onModelLinesDeleted(e.versionId,e.fromLineNumber,e.toLineNumber,function(e,i){return t.emit(e,i)})},t.prototype.onModelTokensChanged=function(e){var t=this.convertModelPositionToViewPosition(e.fromLineNumber,1).lineNumber,i=this.convertModelPositionToViewPosition(e.toLineNumber,this.model.getLineMaxColumn(e.toLineNumber)).lineNumber,e={fromLineNumber:t,toLineNumber:i};this.emit(c.ViewEventNames.TokensChangedEvent,e)},t.prototype.onModelLineChanged=function(e){var t=this,i=this.lines.onModelLineChanged(e.versionId,e.lineNumber,e.detail,function(e,i){return t.emit(e,i)});return i},t.prototype.onModelLinesInserted=function(e){var t=this;this.lines.onModelLinesInserted(e.versionId,e.fromLineNumber,e.toLineNumber,e.detail.split("\n"),function(e,i){return t.emit(e,i)})},t.prototype.validateViewRange=function(e,t,i,n,o){var r=this.validateViewPosition(t,t,o.getStartPosition()),a=this.validateViewPosition(i,n,o.getEndPosition());return new s.Range(r.lineNumber,r.column,a.lineNumber,a.column)},t.prototype.validateViewPosition=function(e,t,i){e<1&&(e=1);var n=this.getLineCount();e>n&&(e=n);var o=this.getLineMinColumn(e),s=this.getLineMaxColumn(e);t<o&&(t=o),t>s&&(t=s);var a=this.convertViewPositionToModelPosition(e,t);return a.equals(i)?new r.Position(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)},t.prototype.validateViewSelection=function(e,t){var i=new r.Position(t.selectionStartLineNumber,t.selectionStartColumn),n=new r.Position(t.positionLineNumber,t.positionColumn),o=this.validateViewPosition(e.selectionStartLineNumber,e.selectionStartColumn,i),s=this.validateViewPosition(e.positionLineNumber,e.positionColumn,n);return new a.Selection(o.lineNumber,o.column,s.lineNumber,s.column)},t.prototype.onCursorPositionChanged=function(e){var t=this;this.cursors.onCursorPositionChanged(e,function(e,i){return t.emit(e,i)})},t.prototype.onCursorSelectionChanged=function(e){var t=this;this.cursors.onCursorSelectionChanged(e,function(e,i){return t.emit(e,i)})},t.prototype.onCursorRevealRange=function(e){var t=this;this.cursors.onCursorRevealRange(e,function(e,i){return t.emit(e,i)})},t.prototype.onCursorScrollRequest=function(e){var t=this;this.cursors.onCursorScrollRequest(e,function(e,i){return t.emit(e,i)})},t.prototype.getTabSize=function(){return this.model.getOptions().tabSize},t.prototype.getLineCount=function(){return this.lines.getOutputLineCount()},t.prototype.getLineContent=function(e){return this.lines.getOutputLineContent(e)},t.prototype.getLineIndentGuide=function(e){return this.lines.getOutputIndentGuide(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getOutputLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getOutputLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=o.firstNonWhitespaceIndex(this.getLineContent(e));return t===-1?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=o.lastNonWhitespaceIndex(this.getLineContent(e));return t===-1?0:t+2},t.prototype.getLineTokens=function(e){return this.lines.getOutputLineTokens(e)},t.prototype.getLineRenderLineNumber=function(e){var t=this.convertViewPositionToModelPosition(e,1);if(1!==t.column)return"";var i=t.lineNumber;return"function"==typeof this.configuration.editor.viewInfo.lineNumbers?this.configuration.editor.viewInfo.lineNumbers(i):i.toString()},t.prototype.getDecorationsViewportData=function(e,t){return this.decorations.getDecorationsViewportData(e,t)},t.prototype.getAllDecorations=function(){return this.decorations.getAllDecorations()},t.prototype.getEOL=function(){return this.model.getEOL()},t.prototype.getValueInRange=function(e,t){var i=this.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.convertViewPositionToModelPosition=function(e,t){return this.lines.convertOutputPositionToInputPosition(e,t)},t.prototype.convertViewRangeToModelRange=function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new s.Range(t.lineNumber,t.column,i.lineNumber,i.column)},t.prototype.convertViewSelectionToModelSelection=function(e){var t=this.convertViewPositionToModelPosition(e.selectionStartLineNumber,e.selectionStartColumn),i=this.convertViewPositionToModelPosition(e.positionLineNumber,e.positionColumn);return new a.Selection(t.lineNumber,t.column,i.lineNumber,i.column)},t.prototype.getModelLineContent=function(e){return this.model.getLineContent(e)},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.convertModelPositionToViewPosition=function(e,t){return this.lines.convertInputPositionToOutputPosition(e,t)},t.prototype.convertModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new s.Range(t.lineNumber,t.column,i.lineNumber,i.column)},t.prototype.convertWholeLineModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,1),i=this.convertModelPositionToViewPosition(e.endLineNumber,this.model.getLineMaxColumn(e.endLineNumber));return new s.Range(t.lineNumber,t.column,i.lineNumber,i.column)},t.prototype.convertModelSelectionToViewSelection=function(e){var t=this.convertModelPositionToViewPosition(e.selectionStartLineNumber,e.selectionStartColumn),i=this.convertModelPositionToViewPosition(e.positionLineNumber,e.positionColumn);return new a.Selection(t.lineNumber,t.column,i.lineNumber,i.column)},t.prototype.modelPositionIsVisible=function(e){return this.lines.inputPositionIsVisible(e.lineNumber,e.column)},t}(i.EventEmitter);t.ViewModel=d}),define(l[307],d([1,0,126,48,14,46,80]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e){this._selection=e,this._usedEndToken=null}return e._haystackHasNeedleAtOffset=function(e,t,i){if(i<0)return!1;var n=t.length,o=e.length;if(i+n>o)return!1;for(var r=0;r<n;r++)if(e.charCodeAt(i+r)!==t.charCodeAt(r))return!1;return!0},e.prototype._createOperationsForBlockComment=function(t,i,n,o){var r,s=t.startLineNumber,a=t.startColumn,c=t.endLineNumber,u=t.endColumn,l=i.blockCommentStartToken,d=i.blockCommentEndToken,h=n.getLineContent(s).lastIndexOf(l,a-1+l.length),p=n.getLineContent(c).indexOf(d,u-1-d.length);h!==-1&&p!==-1?r=e._createRemoveBlockCommentOperations({startLineNumber:s,startColumn:h+1+l.length,endLineNumber:c,endColumn:p+1},l,d):(r=e._createAddBlockCommentOperations(t,l,d),this._usedEndToken=1===r.length?d:null);for(var f=0;f<r.length;f++)o.addEditOperation(r[f].range,r[f].text)},e._createRemoveBlockCommentOperations=function(e,t,n){var r=[];return o.Range.isEmpty(e)?r.push(i.EditOperation["delete"](new o.Range(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(r.push(i.EditOperation["delete"](new o.Range(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),r.push(i.EditOperation["delete"](new o.Range(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),r},e._createAddBlockCommentOperations=function(e,t,r){var s=[];return o.Range.isEmpty(e)?s.push(i.EditOperation.replace(new o.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+r)):(s.push(i.EditOperation.insert(new n.Position(e.startLineNumber,e.startColumn),t)),s.push(i.EditOperation.insert(new n.Position(e.endLineNumber,e.endColumn),r))),s},e.prototype.getEditOperations=function(e,t){var i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endLineNumber,r=this._selection.endColumn,a=e.getModeIdAtPosition(i,n),c=s.LanguageConfigurationRegistry.getComments(a);c&&c.blockCommentStartToken&&c.blockCommentEndToken&&this._createOperationsForBlockComment({startLineNumber:i,startColumn:n,endLineNumber:o,endColumn:r},c,e,t)},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();if(2===i.length){var n=i[0],o=i[1];return new r.Selection(n.range.endLineNumber,n.range.endColumn,o.range.startLineNumber,o.range.startColumn)}var s=i[0].range,a=this._usedEndToken?-this._usedEndToken.length:0;return new r.Selection(s.endLineNumber,s.endColumn+a,s.endLineNumber,s.endColumn+a)},e}();t.BlockCommentCommand=a}),define(l[332],d([1,0,9,126,48,14,46,307,80]),function(e,t,i,n,o,r,s,a,c){"use strict";!function(e){e[e.Toggle=0]="Toggle",e[e.ForceAdd=1]="ForceAdd",e[e.ForceRemove=2]="ForceRemove"}(t.Type||(t.Type={}));var u=t.Type,l=function(){function e(e,t,i){this._selection=e,this._tabSize=t,this._type=i,this._deltaColumn=0}return e._gatherPreflightCommentStrings=function(e,t,i){var n,o,r,s,a,u,l=[],d=Object.create(null);for(r=0,s=i-t+1;r<s;r++){if(a=t+r,u=e.getModeIdAtPosition(a,1),d[u])o=d[u];else{if(n=c.LanguageConfigurationRegistry.getComments(u),o=n?n.lineCommentToken:null,!o)return null;d[u]=o}l.push({ignore:!1,commentStr:o,commentStrOffset:0,commentStrLength:o.length})}return l},e._analyzeLines=function(e,t,n,o){var r,s,c,l,d,h,p,f,g=" ".charCodeAt(0),m=!0;for(p=e===u.Toggle||e!==u.ForceAdd,l=0,d=n.length;l<d;l++)r=n[l],h=o+l,f=t.getLineContent(h),s=i.firstNonWhitespaceIndex(f),s!==-1?(m=!1,r.ignore=!1,r.commentStrOffset=s,p&&!a.BlockCommentCommand._haystackHasNeedleAtOffset(f,r.commentStr,s)&&(e===u.Toggle?p=!1:e===u.ForceAdd||(r.ignore=!0)),p&&(c=s+r.commentStrLength,c<f.length&&f.charCodeAt(c)===g&&(r.commentStrLength+=1))):(e===u.Toggle?r.ignore=!0:e===u.ForceAdd?r.ignore=!0:r.ignore=!0,r.commentStrOffset=f.length);if(e===u.Toggle&&m)for(p=!1,l=0,d=n.length;l<d;l++)n[l].ignore=!1;return{supported:!0,shouldRemoveComments:p,lines:n}},e._gatherPreflightData=function(t,i,n,o){var r=e._gatherPreflightCommentStrings(i,n,o);return null===r?{supported:!1,shouldRemoveComments:!1,lines:null}:e._analyzeLines(t,i,r,n)},e.prototype._executeLineComments=function(t,i,n,r){var s;n.shouldRemoveComments?s=e._createRemoveLineCommentsOperations(n.lines,r.startLineNumber):(e._normalizeInsertionPoint(t,n.lines,r.startLineNumber,this._tabSize),s=e._createAddLineCommentsOperations(n.lines,r.startLineNumber));for(var a=new o.Position(r.positionLineNumber,r.positionColumn),c=0,u=s.length;c<u;c++)i.addEditOperation(s[c].range,s[c].text),s[c].range.isEmpty()&&s[c].range.getStartPosition().equals(a)&&(this._deltaColumn=s[c].text.length);this._selectionId=i.trackSelection(r)},e.prototype._attemptRemoveBlockComment=function(e,t,i,n){var o=t.startLineNumber,r=t.endLineNumber,s=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),c=e.getLineContent(o).lastIndexOf(i,s-1),u=e.getLineContent(r).indexOf(n,t.endColumn-1-i.length);return c!==-1&&u===-1&&(u=e.getLineContent(o).indexOf(n,c+i.length),r=o),c===-1&&u!==-1&&(c=e.getLineContent(r).lastIndexOf(i,u),o=r),!t.isEmpty()||c!==-1&&u!==-1||(c=e.getLineContent(o).indexOf(i),c!==-1&&(u=e.getLineContent(o).indexOf(n,c+i.length))),c!==-1&&u!==-1?a.BlockCommentCommand._createRemoveBlockCommentOperations({startLineNumber:o,startColumn:c+i.length+1,endLineNumber:r,endColumn:u+1},i,n):null},e.prototype._executeBlockComment=function(e,t,n){var o=e.getModeIdAtPosition(n.startLineNumber,n.startColumn),r=c.LanguageConfigurationRegistry.getComments(o);if(r&&r.blockCommentStartToken&&r.blockCommentEndToken){var s=r.blockCommentStartToken,u=r.blockCommentEndToken,l=this._attemptRemoveBlockComment(e,n,s,u);if(!l){if(n.isEmpty()){var d=e.getLineContent(n.startLineNumber),h=i.firstNonWhitespaceIndex(d);h===-1&&(h=d.length),l=a.BlockCommentCommand._createAddBlockCommentOperations({startLineNumber:n.startLineNumber,startColumn:h+1,endLineNumber:n.startLineNumber,endColumn:d.length+1},s,u)}else l=a.BlockCommentCommand._createAddBlockCommentOperations({startLineNumber:n.startLineNumber,startColumn:e.getLineFirstNonWhitespaceColumn(n.startLineNumber),endLineNumber:n.endLineNumber,endColumn:e.getLineMaxColumn(n.endLineNumber)},s,u);1===l.length&&(this._deltaColumn=s.length)}this._selectionId=t.trackSelection(n);for(var p=0;p<l.length;p++)t.addEditOperation(l[p].range,l[p].text)}},e.prototype.getEditOperations=function(t,i){var n=this._selection;this._moveEndPositionDown=!1,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,t.getLineMaxColumn(n.endLineNumber-1)));var o=e._gatherPreflightData(this._type,t,n.startLineNumber,n.endLineNumber);return o.supported?this._executeLineComments(t,i,o,n):this._executeBlockComment(t,i,n)},e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new s.Selection(i.startLineNumber,i.startColumn+this._deltaColumn,i.endLineNumber,i.endColumn+this._deltaColumn)},e._createRemoveLineCommentsOperations=function(e,t){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)s=e[i],s.ignore||a.push(n.EditOperation["delete"](new r.Range(t+i,s.commentStrOffset+1,t+i,s.commentStrOffset+s.commentStrLength+1)));return a},e._createAddLineCommentsOperations=function(e,t){var i,r,s,a=[];for(i=0,r=e.length;i<r;i++)s=e[i],s.ignore||a.push(n.EditOperation.insert(new o.Position(t+i,s.commentStrOffset+1),s.commentStr+" "));return a},e.nextVisibleColumn=function(e,t,i,n){return i?e+(t-e%t):e+n},e._normalizeInsertionPoint=function(t,i,n,o){var r,s,a,c,u,l,d=Number.MAX_VALUE,h="\t".charCodeAt(0);for(r=0,s=i.length;r<s;r++)if(!i[r].ignore){for(a=t.getLineContent(n+r),l=0,c=0,u=i[r].commentStrOffset;l<d&&c<u;c++)l=e.nextVisibleColumn(l,o,a.charCodeAt(c)===h,1);l<d&&(d=l)}for(d=Math.floor(d/o)*o,r=0,s=i.length;r<s;r++)if(!i[r].ignore){for(a=t.getLineContent(n+r),l=0,c=0,u=i[r].commentStrOffset;l<d&&c<u;c++)l=e.nextVisibleColumn(l,o,a.charCodeAt(c)===h,1);l>d?i[r].commentStrOffset=c-1:i[r].commentStrOffset=c}},e}();t.LineCommentCommand=l}),define(l[309],d([1,0,85,36,29,14,5]),function(e,t,i,n,o,r,s){"use strict";var a={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},c=function(e){function t(i,n){var r=this;void 0===n&&(n={}),e.call(this,[t.Events.UPDATED]),this.editor=i,this.options=o.mixin(n,a,!1),this.disposed=!1,this.toUnbind=[],this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=this.options.alwaysRevealFirst,this.toUnbind.push(this.editor.onDidDispose(function(){return r.dispose()})),this.toUnbind.push(this.editor.onDidUpdateDiff(function(){return r.onDiffUpdated()})),this.options.followsCaret&&this.toUnbind.push(this.editor.getModifiedEditor().onDidChangeCursorPosition(function(e){r.ignoreSelectionChange||(r.nextIdx=-1)})),this.options.alwaysRevealFirst&&this.toUnbind.push(this.editor.getModifiedEditor().onDidChangeModel(function(e){r.revealFirst=!0})),this.init()}return h(t,e),t.prototype.init=function(){var e=this.editor.getLineChanges()},t.prototype.onDiffUpdated=function(){this.init(),this.compute(this.editor.getLineChanges()),this.revealFirst&&null!==this.editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next())},t.prototype.compute=function(e){var i=this;this.ranges=[],e&&e.forEach(function(e){!i.options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(function(e){i.ranges.push({rhs:!0,range:new r.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):i.ranges.push({rhs:!0,range:new r.Range(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort(function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0}),this.emit(t.Events.UPDATED,{})},t.prototype.initIdx=function(e){for(var t=!1,i=this.editor.getPosition(),n=0,o=this.ranges.length;n<o&&!t;n++){var r=this.ranges[n].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1);
},t.prototype.move=function(e){if(i.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){this.nextIdx===-1?this.initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var n=t.range.getStartPosition();this.editor.setPosition(n),this.editor.revealPositionInCenter(n)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(){this.move(!0)},t.prototype.previous=function(){this.move(!1)},t.prototype.dispose=function(){this.toUnbind=s.dispose(this.toUnbind),this.ranges=null,this.disposed=!0,e.prototype.dispose.call(this)},t.Events={UPDATED:"navigation.updated"},t}(n.EventEmitter);t.DiffNavigator=c}),define(l[310],d([1,0,16,5,9,197,48,14,11,607,604,46]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function h(e){if(!e||0===e.length)return e;for(var t=0,i="",n=0,o=e.length;n<o;n++){var r=e.charCodeAt(n);if(r===f){if(n++,n>=o)break;var s=e.charCodeAt(n),a=null;switch(s){case f:a="\\";break;case v:a="\n";break;case y:a="\t"}a&&(i+=e.substring(t,n-1)+a,t=n+1)}if(r===g){if(n++,n>=o)break;var s=e.charCodeAt(n),a=null;switch(s){case m:a="$&"}a&&(i+=e.substring(t,n-1)+a,t=n+1)}}return 0===t?e:i+e.substring(t)}t.FIND_IDS={StartFindAction:"actions.find",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",AddSelectionToNextFindMatchAction:"editor.action.addSelectionToNextFindMatch",MoveSelectionToNextFindMatchAction:"editor.action.moveSelectionToNextFindMatch",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},t.MATCHES_LIMIT=999;var p=function(){function e(e,t){var n=this;this._editor=e,this._state=t,this._toDispose=[],this._decorations=new u.FindDecorations(e),this._toDispose.push(this._decorations),this._updateDecorationsScheduler=new i.RunOnceScheduler(function(){return n.research(!1)},100),this._toDispose.push(this._updateDecorationsScheduler),this._toDispose.push(this._editor.onDidChangeCursorPosition(function(e){e.reason!==c.CursorChangeReason.Explicit&&e.reason!==c.CursorChangeReason.Undo&&e.reason!==c.CursorChangeReason.Redo||n._decorations.setStartPosition(n._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.push(this._editor.onDidChangeModelRawContent(function(e){n._ignoreModelContentChanged||(e.changeType===c.EventType.ModelRawContentChangedFlush&&n._decorations.reset(),n._decorations.setStartPosition(n._editor.getPosition()),n._updateDecorationsScheduler.schedule())})),this._toDispose.push(this._state.addChangeListener(function(e){return n._onStateChanged(e)})),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._toDispose=n.dispose(this._toDispose)},e.prototype._onStateChanged=function(e){(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))},e._getSearchRange=function(e,t,i){var n;return n=t?e.getEditableRange():e.getFullModelRange(),i&&(n=n.intersectRanges(i)),n},e.prototype.research=function(e,i){var n=null;n="undefined"!=typeof i?i:this._decorations.getFindScope(),null!==n&&(n=new a.Range(n.startLineNumber,1,n.endLineNumber,this._editor.getModel().getLineMaxColumn(n.endLineNumber)));var o=this._findMatches(n,t.MATCHES_LIMIT);this._decorations.set(o,n),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount()),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e),!0}return!1},e.prototype._moveToPrevMatch=function(t,i){if(void 0===i&&(i=!1),!this._cannotFind()){var n=this._decorations.getFindScope(),o=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,n);o.getEndPosition().isBefore(t)&&(t=o.getEndPosition()),t.isBefore(o.getStartPosition())&&(t=o.getEndPosition());var r=t.lineNumber,a=t.column,c=this._editor.getModel(),u=new s.Position(r,a),l=c.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord);if(l&&l.isEmpty()&&l.getStartPosition().equals(u)){var d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);d||1===a?(1===r?r=c.getLineCount():r--,a=c.getLineMaxColumn(r)):a--,u=new s.Position(r,a),l=c.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord)}if(l){if(!i&&!o.containsRange(l))return this._moveToPrevMatch(l.getStartPosition(),!0);var h=this._decorations.setCurrentFindMatch(l);this._state.changeMatchInfo(h,this._decorations.getCount()),this._editor.setSelection(l),this._editor.revealRangeInCenterIfOutsideViewport(l)}}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._moveToNextMatch=function(t,i){if(void 0===i&&(i=!1),!this._cannotFind()){var n=this._decorations.getFindScope(),o=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,n);o.getEndPosition().isBefore(t)&&(t=o.getStartPosition()),t.isBefore(o.getStartPosition())&&(t=o.getStartPosition());var r=t.lineNumber,a=t.column,c=this._editor.getModel(),u=new s.Position(r,a),l=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord);if(l&&l.isEmpty()&&l.getStartPosition().equals(u)){var d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);d||a===c.getLineMaxColumn(r)?(r===c.getLineCount()?r=1:r++,a=1):a++,u=new s.Position(r,a),l=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord)}if(l){if(!i&&!o.containsRange(l))return this._moveToNextMatch(l.getEndPosition(),!0);var h=this._decorations.setCurrentFindMatch(l);this._state.changeMatchInfo(h,this._decorations.getCount()),this._editor.setSelection(l),this._editor.revealRangeInCenterIfOutsideViewport(l)}}},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype.getReplaceString=function(e){if(!this._state.isRegex)return this._state.replaceString;var t=o.createRegExp(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord,!0),i=h(this._state.replaceString);return e.replace(t,i)},e.prototype._rangeIsMatch=function(e){var t=this._editor.getSelection(),i=this._editor.getModel().getValueInRange(t),n=o.createRegExp(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord,!0),r=i.match(n);return r&&r[0].length===i.length},e.prototype.replace=function(){if(this._hasMatches()){var e=this._editor.getSelection(),t=this._editor.getModel().getValueInRange(e);if(this._rangeIsMatch(e)){var i=this.getReplaceString(t),n=new r.ReplaceCommand(e,i);this._executeEditorCommand("replace",n),this._decorations.setStartPosition(new s.Position(e.startLineNumber,e.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this.moveToNextMatch()}},e.prototype._findMatches=function(t,i){var n=e._getSearchRange(this._editor.getModel(),this._state.isReplaceRevealed,t);return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord,i)},e.prototype.replaceAll=function(){if(this._hasMatches()){for(var e=this._editor.getModel(),t=this._decorations.getFindScope(),i=this._findMatches(t,Number.MAX_VALUE),n=[],o=0,r=i.length;o<r;o++)n.push(this.getReplaceString(e.getValueInRange(i[o])));var s=new l.ReplaceAllCommand(this._editor.getSelection(),i,n);this._executeEditorCommand("replaceAll",s),this.research(!1)}},e.prototype.selectAllMatches=function(){if(this._hasMatches()){var e=this._decorations.getFindScope(),t=this._findMatches(e,Number.MAX_VALUE);this._editor.setSelections(t.map(function(e){return new d.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}))}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.executeCommand(e,t)}finally{this._ignoreModelContentChanged=!1}},e}();t.FindModelBoundToEditorModel=p;var f="\\".charCodeAt(0),g="$".charCodeAt(0),m="0".charCodeAt(0),v="n".charCodeAt(0),y="t".charCodeAt(0);t.parseReplaceString=h}),define(l[331],d([1,0,36,14]),function(e,t,i,n){"use strict";var o=function(){function e(){this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._wholeWord=!1,this._matchCase=!1,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._eventEmitter=new i.EventEmitter}return Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._eventEmitter.dispose()},e.prototype.addChangeListener=function(t){return this._eventEmitter.addListener2(e._CHANGED_EVENT,t)},e.prototype.changeMatchInfo=function(t,i){var n={moveCursor:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1},o=!1;0===i&&(t=0),t>i&&(t=i),this._matchesPosition!==t&&(this._matchesPosition=t,n.matchesPosition=!0,o=!0),this._matchesCount!==i&&(this._matchesCount=i,n.matchesCount=!0,o=!0),o&&this._eventEmitter.emit(e._CHANGED_EVENT,n)},e.prototype.change=function(t,i){var o={moveCursor:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1},r=!1;"undefined"!=typeof t.searchString&&this._searchString!==t.searchString&&(this._searchString=t.searchString,o.searchString=!0,r=!0),"undefined"!=typeof t.replaceString&&this._replaceString!==t.replaceString&&(this._replaceString=t.replaceString,o.replaceString=!0,r=!0),"undefined"!=typeof t.isRevealed&&this._isRevealed!==t.isRevealed&&(this._isRevealed=t.isRevealed,o.isRevealed=!0,r=!0),"undefined"!=typeof t.isReplaceRevealed&&this._isReplaceRevealed!==t.isReplaceRevealed&&(this._isReplaceRevealed=t.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),"undefined"!=typeof t.isRegex&&this._isRegex!==t.isRegex&&(this._isRegex=t.isRegex,o.isRegex=!0,r=!0),"undefined"!=typeof t.wholeWord&&this._wholeWord!==t.wholeWord&&(this._wholeWord=t.wholeWord,o.wholeWord=!0,r=!0),"undefined"!=typeof t.matchCase&&this._matchCase!==t.matchCase&&(this._matchCase=t.matchCase,o.matchCase=!0,r=!0),"undefined"!=typeof t.searchScope&&(n.Range.equalsRange(this._searchScope,t.searchScope)||(this._searchScope=t.searchScope,o.searchScope=!0,r=!0)),r&&this._eventEmitter.emit(e._CHANGED_EVENT,o)},e._CHANGED_EVENT="changed",e}();t.FindReplaceState=o}),define(l[312],d([1,0,16,7]),function(e,t,i,n){"use strict";var o;!function(e){e[e.IDLE=0]="IDLE",e[e.FIRST_WAIT=1]="FIRST_WAIT",e[e.SECOND_WAIT=2]="SECOND_WAIT",e[e.WAITING_FOR_ASYNC_COMPUTATION=3]="WAITING_FOR_ASYNC_COMPUTATION"}(o||(o={}));var r=function(){function e(e,t,n,r){var s=this;this._computer=e,this._state=o.IDLE,this._firstWaitScheduler=new i.RunOnceScheduler(function(){return s._triggerAsyncComputation()},this._getHoverTimeMillis()/2),this._secondWaitScheduler=new i.RunOnceScheduler(function(){return s._triggerSyncComputation()},this._getHoverTimeMillis()/2),this._loadingMessageScheduler=new i.RunOnceScheduler(function(){return s._showLoadingMessage()},3*this._getHoverTimeMillis()),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=r}return e.prototype.getComputer=function(){return this._computer},e.prototype._getHoverTimeMillis=function(){return this._computer.getHoverTimeMillis?this._computer.getHoverTimeMillis():e.HOVER_TIME},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=o.SECOND_WAIT,this._secondWaitScheduler.schedule(),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=this._computer.computeAsync().then(function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)},function(){return e._onError})):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=o.IDLE,this._onComplete(this._computer.getResult())):(this._state=o.WAITING_FOR_ASYNC_COMPUTATION,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){this._state===o.WAITING_FOR_ASYNC_COMPUTATION&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),this._state===o.WAITING_FOR_ASYNC_COMPUTATION&&(this._state=o.IDLE,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):n.onUnexpectedError(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(){this._state===o.IDLE&&(this._state=o.FIRST_WAIT,this._firstWaitScheduler.schedule(),this._loadingMessageScheduler.schedule())},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),this._state===o.FIRST_WAIT&&this._firstWaitScheduler.cancel(),this._state===o.SECOND_WAIT&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),this._state===o.WAITING_FOR_ASYNC_COMPUTATION&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=o.IDLE},e.HOVER_TIME=300,e}();t.HoverOperation=r}),define(l[330],d([1,0,7,2,37,16]),function(e,t,i,n,o,r){"use strict";function s(e){var t=o.LinkProviderRegistry.ordered(e).map(function(t){return r.asWinJsPromise(function(i){return t.provideLinks(e,i)}).then(function(e){if(Array.isArray(e))return e},function(e){i.onUnexpectedError(e)})});return n.TPromise.join(t).then(function(e){for(var t=[],i=0,n=e;i<n.length;i++){var o=n[i];o&&(t=t.concat(o))}return t})}t.getLinks=s}),define(l[221],d([1,0,36,24,25,9,114,2,14]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(e,t,i){this._parent=e,this._range=t,this._eventBus=i,this._id=s.defaultGenerator.nextId()}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._eventBus.emit("ref/changed",this)},enumerable:!0,configurable:!0}),e}();t.OneReference=u;var l=function(){function e(e){this._value=e}return e.prototype.preview=function(e,t){void 0===t&&(t=8);var i=e.startLineNumber,n=e.startColumn,o=e.endColumn,s=this._value.getWordUntilPosition({lineNumber:i,column:n-t}),a=new c.Range(i,s.startColumn,i,n),u=new c.Range(i,o,i,Number.MAX_VALUE),l={before:this._value.getValueInRange(a).replace(/^\s+/,r.empty),inside:this._value.getValueInRange(e),after:this._value.getValueInRange(u).replace(/\s+$/,r.empty)};return l},e}();t.FilePreview=l;var d=function(){function e(e,t){this._parent=e,this._uri=t,this._children=[]}return Object.defineProperty(e.prototype,"id",{get:function(){return this._uri.toString()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return o.basename(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"directory",{get:function(){return o.dirname(this.uri.fsPath)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?a.TPromise.as(this):e.resolveEditorModel({resource:this._uri}).then(function(e){if(!e)throw new Error;return t._preview=new l(e.textEditorModel),t._resolved=!0,t},function(e){return t._children=[],t._resolved=!0,t._loadFailure=e,t})},e}();t.FileReferences=d;var h=function(){function e(t){this._groups=[],this._references=[],this._eventBus=new i.EventEmitter,this.onDidChangeReferenceRange=n.fromEventEmitter(this._eventBus,"ref/changed"),t.sort(e._compareReferences);for(var o,r=0,s=t;r<s.length;r++){var a=s[r];if(o&&o.uri.toString()===a.uri.toString()||(o=new d(this,a.uri),this.groups.push(o)),0===o.children.length||!c.Range.equalsRange(a.range,o.children[o.children.length-1].range)){var l=new u(o,a.range,this._eventBus);this._references.push(l),o.children.push(l)}}}return Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this._groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),e.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),i=e.parent.children.length,n=e.parent.parent.groups.length;return t+1<i||1===n?e.parent.children[(t+1)%i]:(t=e.parent.parent.groups.indexOf(e.parent),t=(t+1)%n,e.parent.parent.groups[t].children[0])},e.prototype.nearestReference=function(e,t){var i=this._references.map(function(i,n){return{idx:n,prefixLen:r.commonPrefixLength(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)}}).sort(function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0})[0];if(i)return this._references[i.idx]},e._compareReferences=function(e,t){return e.uri.toString()<t.uri.toString()?-1:e.uri.toString()>t.uri.toString()?1:c.Range.compareRangesUsingStarts(e.range,t.range)},e}();t.ReferencesModel=h}),define(l[329],d([1,0,14,105,163,80]),function(e,t,i,n,o,r){"use strict";function s(e){var t=new l;return t.start=e.range.getStartPosition(),t.end=e.range.getEndPosition(),t}function a(e){var t=new g(e).build();return t}function c(e,t){if(!i.Range.containsPosition(e.range,t))return null;var n;if(e instanceof d)for(var o=0,r=e.children.length;o<r&&!n;o++)n=c(e.children[o],t);else e instanceof p&&(n=c(e.open,t)||c(e.elements,t)||c(e.close,t));return n||e}!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.TokenTreeBracket||(t.TokenTreeBracket={}));var u=t.TokenTreeBracket,l=function(){function e(){}return Object.defineProperty(e.prototype,"range",{get:function(){return new i.Range(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:!0,configurable:!0}),e}();t.Node=l;var d=function(e){function t(){e.apply(this,arguments)}return h(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.hasChildren?this.children[0].start:this.parent.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.hasChildren?this.children[this.children.length-1].end:this.parent.end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.children&&this.children.length>0},enumerable:!0,configurable:!0}),t.prototype.append=function(e){return!!e&&(e.parent=this,this.children||(this.children=[]),e instanceof t?e.children&&this.children.push.apply(this.children,e.children):this.children.push(e),!0)},t}(l);t.NodeList=d;var p=function(e){function t(){e.call(this),this.elements=new d,this.elements.parent=this}return h(t,e),Object.defineProperty(t.prototype,"start",{get:function(){return this.open.start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this.close.end},enumerable:!0,configurable:!0}),t}(l);t.Block=p;var f=function(){function e(e){this._model=e,this._versionId=e.getVersionId(),this._currentLineNumber=1}return e.prototype.next=function(){if(this._versionId!==this._model.getVersionId())return null;if(this._currentLineNumber>=this._model.getLineCount()+1)return null;if(this._currentLineTokens||(this._currentLineTokens=this._model.getLineTokens(this._currentLineNumber),this._currentLineText=this._model.getLineContent(this._currentLineNumber),this._currentLineModeTransitions=this._model._getLineModeTransitions(this._currentLineNumber),this._currentTokenIndex=0,this._currentTokenStart=0,this._currentModeIndex=-1,this._nextModeStart=0),this._currentTokenIndex>=this._currentLineTokens.getTokenCount())return this._currentLineNumber+=1,this._currentLineTokens=null,this.next();if(this._currentTokenStart>=this._nextModeStart){this._currentModeIndex++,this._nextModeStart=this._currentModeIndex+1<this._currentLineModeTransitions.length?this._currentLineModeTransitions[this._currentModeIndex+1].startIndex:this._currentLineText.length+1;var e=this._currentModeIndex<this._currentLineModeTransitions.length?this._currentLineModeTransitions[this._currentModeIndex]:null;this._currentModeBrackets=e?r.LanguageConfigurationRegistry.getBracketsSupport(e.modeId):null}var t=this._currentLineTokens.getTokenType(this._currentTokenIndex),s=this._currentLineTokens.getTokenEndIndex(this._currentTokenIndex,this._currentLineText.length),a=s,c=null;this._currentModeBrackets&&!n.ignoreBracketsInToken(t)&&(c=o.BracketsUtils.findNextBracketInToken(this._currentModeBrackets.forwardRegex,this._currentLineNumber,this._currentLineText,this._currentTokenStart,s)),c&&this._currentTokenStart<c.startColumn-1&&(a=c.startColumn-1,c=null);var l=null,d=!1;if(c){var h=this._currentLineText.substring(c.startColumn-1,c.endColumn-1);l=this._currentModeBrackets.textIsBracket[h],d=this._currentModeBrackets.textIsOpenBracket[h]}if(!l){var p={type:t,bracket:u.None,range:new i.Range(this._currentLineNumber,1+this._currentTokenStart,this._currentLineNumber,1+a)};return a<s?this._currentTokenStart=a:(this._currentTokenIndex+=1,this._currentTokenStart=this._currentTokenIndex<this._currentLineTokens.getTokenCount()?this._currentLineTokens.getTokenStartIndex(this._currentTokenIndex):0),p}var f=l.modeId+";"+l.open+";"+l.close,g={type:f,bracket:d?u.Open:u.Close,range:new i.Range(this._currentLineNumber,1+this._currentTokenStart,this._currentLineNumber,c.endColumn)};return c.endColumn-1<s?this._currentTokenStart=c.endColumn-1:(this._currentTokenIndex+=1,this._currentTokenStart=this._currentTokenIndex<this._currentLineTokens.getTokenCount()?this._currentLineTokens.getTokenStartIndex(this._currentTokenIndex):0),g},e}(),g=function(){function e(e){this._stack=[],this._scanner=new f(e)}return e.prototype.build=function(){for(var e=new d;e.append(this._line()||this._any()););return e},e.prototype._accept=function(e){var t=this._stack.pop()||this._scanner.next();if(!t)return!1;var i=e(t);return i?this._currentToken=t:(this._stack.push(t),this._currentToken=null),i},e.prototype._peek=function(e){var t=!1;return this._accept(function(i){return t=e(i),!1}),t},e.prototype._line=function(){var e,t=new d;for(this._peek(function(t){return e=t.range.startLineNumber,!1});this._peek(function(t){return t.range.startLineNumber===e})&&t.append(this._token()||this._block()););return t.children&&0!==t.children.length?1===t.children.length?t.children[0]:t:null},e.prototype._token=function(){return this._accept(function(e){return e.bracket===u.None})?s(this._currentToken):null},e.prototype._block=function(){var e,t;if(t=this._accept(function(t){return e=t.type,t.bracket===u.Open}),!t)return null;var i=new p;for(i.open=s(this._currentToken);i.elements.append(this._line()););if(!this._accept(function(t){return t.bracket===u.Close&&t.type===e})){var n=new d;return n.append(i.open),n.append(i.elements),n}return i.close=s(this._currentToken),i},e.prototype._any=function(){return this._accept(function(e){return!0})?s(this._currentToken):null},e}();t.build=a,t.find=c}),define(l[328],d([1,0,41,29,2,89,16]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t){this._support=t.support,this.suggestion=e,this.container=t,this.filter=t.support&&t.support.filter||r.fuzzyContiguousFilter}return e.prototype.resolveDetails=function(e,t){var i=this;return this._support&&"function"==typeof this._support.resolveCompletionItem?s.asWinJsPromise(function(n){return i._support.resolveCompletionItem(e,t,i.suggestion,n)}):o.TPromise.as(this.suggestion)},e.prototype.updateDetails=function(e){this.suggestion=n.assign(this.suggestion,e)},e.compare=function(e,t){var i=e.suggestion,n=t.suggestion;if("string"==typeof i.sortText&&"string"==typeof n.sortText){var o=i.sortText.toLowerCase(),r=n.sortText.toLowerCase();if(o<r)return-1;if(o>r)return 1}return i.label.toLowerCase()<n.label.toLowerCase()?-1:1},e}();t.CompletionItem=a;var c=function(){function e(){}return e}();t.LineContext=c;var u=function(){function e(e,t){this.raw=e,this._items=[],this._filteredItems=void 0,this._lineContext={leadingLineContent:t,characterCountDelta:0};for(var i=0,n=e;i<n.length;i++)for(var o=n[i],r=0,s=o.suggestions;r<s.length;r++){var c=s[r];this._items.push(new a(c,o))}this._items.sort(a.compare)}return Object.defineProperty(e.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext!==e&&(this._filteredItems=void 0,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._filteredItems||this._filter(),this._filteredItems},enumerable:!0,configurable:!0}),e.prototype._filter=function(){this._filteredItems=[];for(var e=this._lineContext,t=e.leadingLineContent,n=e.characterCountDelta,o=0,r=this._items;o<r.length;o++){var s=r[o],a=s.suggestion.overwriteBefore;"number"!=typeof a&&(a=s.container.currentWord.length);var c=t.length-(a+n),u=t.substr(c),l=s.filter,d=s.suggestion,h=!1;s.highlights=l(u,d.label),h=null!==s.highlights,h||d.codeSnippet===d.label||(h=!i.isFalsyOrEmpty(l(u,d.codeSnippet.replace(/{{.+?}}/g,"")))),h||"string"!=typeof d.filterText||(h=!i.isFalsyOrEmpty(l(u,d.filterText))),h&&this._filteredItems.push(s)}},e}();t.CompletionModel=u}),define(l[327],d([1,0,318,11,9,269,2]),function(e,t,i,n,o,r,s){"use strict";function a(e){for(var t=i.createHash("sha1"),n=0,o=e.lines.length;n<o;n++)t.update(e.lines[n]+"\n");return t.digest("hex")}var c=function(){function e(){}return e}();t.ModelBuilderResult=c;var u=function(){function e(){this.hash=i.createHash("sha1"),this.BOM="",this.lines=[],this.currLineIndex=0}return e.prototype.acceptLines=function(e){0===this.currLineIndex&&o.startsWithUTF8BOM(e[0])&&(this.BOM=o.UTF8_BOM_CHARACTER,e[0]=e[0].substr(1));for(var t=0,i=e.length;t<i;t++)this.lines[this.currLineIndex++]=e[t];this.hash.update(e.join("\n")+"\n")},e.prototype.finish=function(e,t,i){var o=this.lines.length-1,s="";s=0===o?i.defaultEOL===n.DefaultEndOfLine.LF?"\n":"\r\n":t>o/2?"\r\n":"\n";var a;if(i.detectIndentation){var c=r.guessIndentation(this.lines,i.tabSize,i.insertSpaces);a={tabSize:c.tabSize,insertSpaces:c.insertSpaces,trimAutoWhitespace:i.trimAutoWhitespace,defaultEOL:i.defaultEOL}}else a={tabSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:i.trimAutoWhitespace,defaultEOL:i.defaultEOL};return{rawText:{BOM:this.BOM,EOL:s,lines:this.lines,length:e,options:a},hash:this.hash.digest("hex")}},e}();t.computeHash=a;var l=function(){function e(){this.leftoverPrevChunk="",this.leftoverEndsInCR=!1,this.totalCRCount=0,this.lineBasedBuilder=new u,this.totalLength=0}return e.fromStringStream=function(t,i){return new s.TPromise(function(n,o,r){var s=!1,a=new e;t.on("data",function(e){a.acceptChunk(e)}),t.on("error",function(e){s||(s=!0,o(e))}),t.on("end",function(){s||(s=!0,n(a.finish(i)))})})},e.prototype._updateCRCount=function(e){for(var t=0,i=-1;(i=e.indexOf("\r",i+1))!==-1;)t++;this.totalCRCount+=t},e.prototype.acceptChunk=function(e){if(0!==e.length){this.totalLength+=e.length,this._updateCRCount(e),this.leftoverEndsInCR&&(e="\r"+e),13===e.charCodeAt(e.length-1)?(this.leftoverEndsInCR=!0,e=e.substr(0,e.length-1)):this.leftoverEndsInCR=!1;var t=e.split(/\r\n|\r|\n/);if(1===t.length)return void(this.leftoverPrevChunk+=t[0]);t[0]=this.leftoverPrevChunk+t[0],this.lineBasedBuilder.acceptLines(t.slice(0,t.length-1)),this.leftoverPrevChunk=t[t.length-1]}},e.prototype.finish=function(e){var t=[this.leftoverPrevChunk];return this.leftoverEndsInCR&&t.push(""),this.lineBasedBuilder.acceptLines(t),this.lineBasedBuilder.finish(this.totalLength,this.totalCRCount,e)},e}();t.ModelBuilder=l}),define(l[326],d([3,4]),function(e,t){return e.create("vs/base/common/json",t)}),define(l[123],d([1,0,326]),function(e,t,i){"use strict";function n(e,t){function i(t,i){for(var n=0,o=0;n<t||!i;){var r=e.charCodeAt(h);if(r>=y._0&&r<=y._9)o=16*o+r-y._0;else if(r>=y.A&&r<=y.F)o=16*o+r-y.A+10;else{if(!(r>=y.a&&r<=y.f))break;o=16*o+r-y.a+10}h++,n++}return n<t&&(o=-1),o}function n(e){h=e,f="",g=0,E=v.Unknown,S=m.None}function a(){var t=h;if(e.charCodeAt(h)===y._0)h++;else for(h++;h<e.length&&s(e.charCodeAt(h));)h++;
if(h<e.length&&e.charCodeAt(h)===y.dot){if(h++,!(h<e.length&&s(e.charCodeAt(h))))return S=m.UnexpectedEndOfNumber,e.substring(t,h);for(h++;h<e.length&&s(e.charCodeAt(h));)h++}var i=h;if(h<e.length&&(e.charCodeAt(h)===y.E||e.charCodeAt(h)===y.e))if(h++,(h<e.length&&e.charCodeAt(h)===y.plus||e.charCodeAt(h)===y.minus)&&h++,h<e.length&&s(e.charCodeAt(h))){for(h++;h<e.length&&s(e.charCodeAt(h));)h++;i=h}else S=m.UnexpectedEndOfNumber;return e.substring(t,i)}function c(){for(var t="",n=h;;){if(h>=p){t+=e.substring(n,h),S=m.UnexpectedEndOfString;break}var o=e.charCodeAt(h);if(o===y.doubleQuote){t+=e.substring(n,h),h++;break}if(o!==y.backslash){if(r(o)){t+=e.substring(n,h),S=m.UnexpectedEndOfString;break}h++}else{if(t+=e.substring(n,h),h++,h>=p){S=m.UnexpectedEndOfString;break}switch(o=e.charCodeAt(h++)){case y.doubleQuote:t+='"';break;case y.backslash:t+="\\";break;case y.slash:t+="/";break;case y.b:t+="\b";break;case y.f:t+="\f";break;case y.n:t+="\n";break;case y.r:t+="\r";break;case y.t:t+="\t";break;case y.u:var s=i(4,!0);s>=0?t+=String.fromCharCode(s):S=m.InvalidUnicode;break;default:S=m.InvalidEscapeCharacter}n=h}}return t}function u(){if(f="",S=m.None,g=h,h>=p)return g=p,E=v.EOF;var t=e.charCodeAt(h);if(o(t)){do h++,f+=String.fromCharCode(t),t=e.charCodeAt(h);while(o(t));return E=v.Trivia}if(r(t))return h++,f+=String.fromCharCode(t),t===y.carriageReturn&&e.charCodeAt(h)===y.lineFeed&&(h++,f+="\n"),E=v.LineBreakTrivia;switch(t){case y.openBrace:return h++,E=v.OpenBraceToken;case y.closeBrace:return h++,E=v.CloseBraceToken;case y.openBracket:return h++,E=v.OpenBracketToken;case y.closeBracket:return h++,E=v.CloseBracketToken;case y.colon:return h++,E=v.ColonToken;case y.comma:return h++,E=v.CommaToken;case y.doubleQuote:return h++,f=c(),E=v.StringLiteral;case y.slash:var i=h-1;if(e.charCodeAt(h+1)===y.slash){for(h+=2;h<p&&!r(e.charCodeAt(h));)h++;return f=e.substring(i,h),E=v.LineCommentTrivia}if(e.charCodeAt(h+1)===y.asterisk){h+=2;for(var n=p-1,u=!1;h<n;){var d=e.charCodeAt(h);if(d===y.asterisk&&e.charCodeAt(h+1)===y.slash){h+=2,u=!0;break}h++}return u||(h++,S=m.UnexpectedEndOfComment),f=e.substring(i,h),E=v.BlockCommentTrivia}return f+=String.fromCharCode(t),h++,E=v.Unknown;case y.minus:if(f+=String.fromCharCode(t),h++,h===p||!s(e.charCodeAt(h)))return E=v.Unknown;case y._0:case y._1:case y._2:case y._3:case y._4:case y._5:case y._6:case y._7:case y._8:case y._9:return f+=a(),E=v.NumericLiteral;default:for(;h<p&&l(t);)h++,t=e.charCodeAt(h);if(g!==h){switch(f=e.substring(g,h)){case"true":return E=v.TrueKeyword;case"false":return E=v.FalseKeyword;case"null":return E=v.NullKeyword}return E=v.Unknown}return f+=String.fromCharCode(t),h++,E=v.Unknown}}function l(e){if(o(e)||r(e))return!1;switch(e){case y.closeBrace:case y.closeBracket:case y.openBrace:case y.openBracket:case y.doubleQuote:case y.colon:case y.comma:return!1}return!0}function d(){var e;do e=u();while(e>=v.LineCommentTrivia&&e<=v.Trivia);return e}void 0===t&&(t=!1);var h=0,p=e.length,f="",g=0,E=v.Unknown,S=m.None;return{setPosition:n,getPosition:function(){return h},scan:t?d:u,getToken:function(){return E},getTokenValue:function(){return f},getTokenOffset:function(){return g},getTokenLength:function(){return h-g},getTokenError:function(){return S}}}function o(e){return e===y.space||e===y.tab||e===y.verticalTab||e===y.formFeed||e===y.nonBreakingSpace||e===y.ogham||e>=y.enQuad&&e<=y.zeroWidthSpace||e===y.narrowNoBreakSpace||e===y.mathematicalSpace||e===y.ideographicSpace||e===y.byteOrderMark}function r(e){return e===y.lineFeed||e===y.carriageReturn||e===y.lineSeparator||e===y.paragraphSeparator}function s(e){return e>=y._0&&e<=y._9}function a(e,t){var i,o,r=n(e),s=[],a=0;do switch(o=r.getPosition(),i=r.scan()){case v.LineCommentTrivia:case v.BlockCommentTrivia:case v.EOF:a!==o&&s.push(e.substring(a,o)),void 0!==t&&s.push(r.getTokenValue().replace(/[^\r\n]/g,t)),a=r.getPosition()}while(i!==v.EOF);return s.join("")}function c(e){switch(e){case E.InvalidSymbol:return i.localize(0,null);case E.InvalidNumberFormat:return i.localize(1,null);case E.PropertyNameExpected:return i.localize(2,null);case E.ValueExpected:return i.localize(3,null);case E.ColonExpected:return i.localize(4,null);case E.CommaExpected:return i.localize(5,null);case E.CloseBraceExpected:return i.localize(6,null);case E.CloseBracketExpected:return i.localize(7,null);case E.EndOfFileExpected:return i.localize(8,null);default:return""}}function u(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function l(e,t){function i(e,t,i,n){s.value=e,s.offset=t,s.length=i,s.type=n,s.columnOffset=void 0,r=s}var n=[],o=new Object,r=void 0,s={value:void 0,offset:void 0,length:void 0,type:void 0},a=!1;try{g(e,{onObjectBegin:function(e,i){if(t<=e)throw o;r=void 0,a=t>e,n.push("")},onObjectProperty:function(e,r,s){if(t<r)throw o;if(i(e,r,s,"property"),n[n.length-1]=e,t<=r+s)throw o},onObjectEnd:function(e,i){if(t<=e)throw o;r=void 0,n.pop()},onArrayBegin:function(e,i){if(t<=e)throw o;r=void 0,n.push(0)},onArrayEnd:function(e,i){if(t<=e)throw o;r=void 0,n.pop()},onLiteralValue:function(e,n,r){if(t<n)throw o;if(i(e,n,r,u(e)),t<=n+r)throw o},onSeparator:function(e,i,s){if(t<=i)throw o;if(":"===e&&"property"===r.type)r.columnOffset=i,a=!1,r=void 0;else if(","===e){var c=n[n.length-1];"number"==typeof c?n[n.length-1]=c+1:(a=!0,n[n.length-1]=""),r=void 0}}})}catch(c){if(c!==o)throw c}return""===n[n.length-1]&&n.pop(),{path:n,previousNode:r,isAtPropertyKey:a,matches:function(e){for(var t=0,i=0;t<e.length&&i<n.length;i++)if(e[t]===n[i]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}}function d(e,t,i){function n(e){Array.isArray(r)?r.push(e):o&&(r[o]=e)}void 0===t&&(t=[]);var o=null,r=[],s=[],a={onObjectBegin:function(){var e={};n(e),s.push(r),r=e,o=null},onObjectProperty:function(e){o=e},onObjectEnd:function(){r=s.pop()},onArrayBegin:function(){var e=[];n(e),s.push(r),r=e,o=null},onArrayEnd:function(){r=s.pop()},onLiteralValue:n,onError:function(e){t.push({error:e})}};return g(e,a,i),r[0]}function h(e,t,i){function n(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function o(e){return r.children.push(e),n(e.offset+e.length),e}void 0===t&&(t=[]);var r={type:"array",offset:-1,length:-1,children:[]},s={onObjectBegin:function(e){r=o({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,i){r=o({type:"property",offset:t,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:e,offset:t,length:i,parent:r})},onObjectEnd:function(e,t){n(e),r.length=e+t-r.offset,r=r.parent},onArrayBegin:function(e,t){r=o({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent},onLiteralValue:function(e,t,i){o({type:u(e),offset:t,length:i,parent:r,value:e})},onSeparator:function(e,t,i){"property"===r.type&&(":"===e?r.columnOffset=t:","===e&&n(t))},onError:function(e){t.push({error:e})}};g(e,s,i);var a=r.children[0];return a&&delete a.parent,a}function p(e,t){if(e){for(var i=e,n=0,o=t;n<o.length;n++){var r=o[n];if("string"==typeof r){if("object"!==i.type)return;for(var s=!1,a=0,c=i.children;a<c.length;a++){var u=c[a];if(u.children[0].value===r){i=u.children[1],s=!0;break}}if(!s)return}else{var l=r;if("array"!==i.type||l<0||l>=i.children.length)return;i=i.children[l]}}return i}}function f(e){if("array"===e.type)return e.children.map(f);if("object"===e.type){for(var t={},i=0,n=e.children;i<n.length;i++){var o=n[i];t[o.children[0].value]=f(o.children[1])}return t}return e.value}function g(e,t,i){function o(e){return e?function(){return e(f.getTokenOffset(),f.getTokenLength())}:function(){return!0}}function r(e){return e?function(t){return e(t,f.getTokenOffset(),f.getTokenLength())}:function(){return!0}}function s(){for(;;){var e=f.scan();switch(e){case v.LineCommentTrivia:case v.BlockCommentTrivia:I&&a(E.InvalidSymbol);break;case v.Unknown:a(E.InvalidSymbol);break;case v.Trivia:case v.LineBreakTrivia:break;default:return e}}}function a(e,t,i){if(void 0===t&&(t=[]),void 0===i&&(i=[]),w(e),t.length+i.length>0)for(var n=f.getToken();n!==v.EOF;){if(t.indexOf(n)!==-1){s();break}if(i.indexOf(n)!==-1)break;n=s()}}function c(e){if(f.getToken()!==v.StringLiteral)return!1;var t=f.getTokenValue();return e?_(t):m(t),s(),!0}function u(){switch(f.getToken()){case v.NumericLiteral:var e=0;try{e=JSON.parse(f.getTokenValue()),"number"!=typeof e&&(a(E.InvalidNumberFormat),e=0)}catch(t){a(E.InvalidNumberFormat)}_(e);break;case v.NullKeyword:_(null);break;case v.TrueKeyword:_(!0);break;case v.FalseKeyword:_(!1);break;default:return!1}return s(),!0}function l(){return c(!1)?(f.getToken()===v.ColonToken?(C(":"),s(),p()||a(E.ValueExpected,[],[v.CloseBraceToken,v.CommaToken])):a(E.ColonExpected,[],[v.CloseBraceToken,v.CommaToken]),!0):(a(E.PropertyNameExpected,[],[v.CloseBraceToken,v.CommaToken]),!1)}function d(){if(f.getToken()!==v.OpenBraceToken)return!1;g(),s();for(var e=!1;f.getToken()!==v.CloseBraceToken&&f.getToken()!==v.EOF;)f.getToken()===v.CommaToken?(e||a(E.ValueExpected,[],[]),C(","),s()):e&&a(E.CommaExpected,[],[]),l()||a(E.ValueExpected,[],[v.CloseBraceToken,v.CommaToken]),e=!0;return y(),f.getToken()!==v.CloseBraceToken?a(E.CloseBraceExpected,[v.CloseBraceToken],[]):s(),!0}function h(){if(f.getToken()!==v.OpenBracketToken)return!1;S(),s();for(var e=!1;f.getToken()!==v.CloseBracketToken&&f.getToken()!==v.EOF;)f.getToken()===v.CommaToken?(e||a(E.ValueExpected,[],[]),C(","),s()):e&&a(E.CommaExpected,[],[]),p()||a(E.ValueExpected,[],[v.CloseBracketToken,v.CommaToken]),e=!0;return b(),f.getToken()!==v.CloseBracketToken?a(E.CloseBracketExpected,[v.CloseBracketToken],[]):s(),!0}function p(){return h()||d()||c(!0)||u()}var f=n(e,!1),g=o(t.onObjectBegin),m=r(t.onObjectProperty),y=o(t.onObjectEnd),S=o(t.onArrayBegin),b=o(t.onArrayEnd),_=r(t.onLiteralValue),C=r(t.onSeparator),w=r(t.onError),I=i&&i.disallowComments;return s(),f.getToken()===v.EOF||(p()?(f.getToken()!==v.EOF&&a(E.EndOfFileExpected,[],[]),!0):(a(E.ValueExpected,[],[]),!1))}!function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter"}(t.ScanError||(t.ScanError={}));var m=t.ScanError;!function(e){e[e.Unknown=0]="Unknown",e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.EOF=16]="EOF"}(t.SyntaxKind||(t.SyntaxKind={}));var v=t.SyntaxKind;t.createScanner=n;var y;!function(e){e[e.nullCharacter=0]="nullCharacter",e[e.maxAsciiCharacter=127]="maxAsciiCharacter",e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.lineSeparator=8232]="lineSeparator",e[e.paragraphSeparator=8233]="paragraphSeparator",e[e.nextLine=133]="nextLine",e[e.space=32]="space",e[e.nonBreakingSpace=160]="nonBreakingSpace",e[e.enQuad=8192]="enQuad",e[e.emQuad=8193]="emQuad",e[e.enSpace=8194]="enSpace",e[e.emSpace=8195]="emSpace",e[e.threePerEmSpace=8196]="threePerEmSpace",e[e.fourPerEmSpace=8197]="fourPerEmSpace",e[e.sixPerEmSpace=8198]="sixPerEmSpace",e[e.figureSpace=8199]="figureSpace",e[e.punctuationSpace=8200]="punctuationSpace",e[e.thinSpace=8201]="thinSpace",e[e.hairSpace=8202]="hairSpace",e[e.zeroWidthSpace=8203]="zeroWidthSpace",e[e.narrowNoBreakSpace=8239]="narrowNoBreakSpace",e[e.ideographicSpace=12288]="ideographicSpace",e[e.mathematicalSpace=8287]="mathematicalSpace",e[e.ogham=5760]="ogham",e[e._=95]="_",e[e.$=36]="$",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.ampersand=38]="ampersand",e[e.asterisk=42]="asterisk",e[e.at=64]="at",e[e.backslash=92]="backslash",e[e.bar=124]="bar",e[e.caret=94]="caret",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.closeParen=41]="closeParen",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.equals=61]="equals",e[e.exclamation=33]="exclamation",e[e.greaterThan=62]="greaterThan",e[e.lessThan=60]="lessThan",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.openParen=40]="openParen",e[e.percent=37]="percent",e[e.plus=43]="plus",e[e.question=63]="question",e[e.semicolon=59]="semicolon",e[e.singleQuote=39]="singleQuote",e[e.slash=47]="slash",e[e.tilde=126]="tilde",e[e.backspace=8]="backspace",e[e.formFeed=12]="formFeed",e[e.byteOrderMark=65279]="byteOrderMark",e[e.tab=9]="tab",e[e.verticalTab=11]="verticalTab"}(y||(y={})),t.stripComments=a,function(e){e[e.InvalidSymbol=0]="InvalidSymbol",e[e.InvalidNumberFormat=1]="InvalidNumberFormat",e[e.PropertyNameExpected=2]="PropertyNameExpected",e[e.ValueExpected=3]="ValueExpected",e[e.ColonExpected=4]="ColonExpected",e[e.CommaExpected=5]="CommaExpected",e[e.CloseBraceExpected=6]="CloseBraceExpected",e[e.CloseBracketExpected=7]="CloseBracketExpected",e[e.EndOfFileExpected=8]="EndOfFileExpected"}(t.ParseErrorCode||(t.ParseErrorCode={}));var E=t.ParseErrorCode;t.getParseErrorMessage=c,t.getLocation=l,t.parse=d,t.parseTree=h,t.findNodeAtLocation=p,t.getNodeValue=f,t.visit=g}),define(l[321],d([1,0,123]),function(e,t,i){"use strict";function n(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function o(e,t){for(var i=t.length-1;i>=0;i--)e=n(e,t[i]);return e}function r(e,t,n){function o(){return v+s(m,d+E)}function r(){var e=S.scan();for(y=!1;e===i.SyntaxKind.Trivia||e===i.SyntaxKind.LineBreakTrivia;)y=y||e===i.SyntaxKind.LineBreakTrivia,e=S.scan();return e}function l(t,i,n){e.substring(i,n)!==t&&b.push({offset:i,length:n-i,content:t})}var d,h,p,f;if(t){for(p=t.offset,f=p+t.length;p>0&&!u(e,p-1);)p--;var g=i.createScanner(e,!0);g.setPosition(f),g.scan(),f=g.getPosition(),h=e.substring(p,f),d=a(h,0,n)}else h=e,p=0,f=e.length,d=0;var m,v=c(n,e),y=!1,E=0;m=n.insertSpaces?s(" ",n.tabSize):"\t";var S=i.createScanner(h,!1),b=[],_=r();if(_!==i.SyntaxKind.EOF){var C=S.getTokenOffset()+p,w=s(m,d);l(w,p,C)}for(;_!==i.SyntaxKind.EOF;){for(var I=S.getTokenOffset()+S.getTokenLength()+p,T=r(),A="";!y&&(T===i.SyntaxKind.LineCommentTrivia||T===i.SyntaxKind.BlockCommentTrivia);){var L=S.getTokenOffset()+p;l(" ",I,L),I=S.getTokenOffset()+S.getTokenLength()+p,A=T===i.SyntaxKind.LineCommentTrivia?o():"",T=r()}if(T===i.SyntaxKind.CloseBraceToken)_!==i.SyntaxKind.OpenBraceToken&&(E--,A=o());else if(T===i.SyntaxKind.CloseBracketToken)_!==i.SyntaxKind.OpenBracketToken&&(E--,A=o());else if(T!==i.SyntaxKind.EOF){switch(_){case i.SyntaxKind.OpenBracketToken:case i.SyntaxKind.OpenBraceToken:E++,A=o();break;case i.SyntaxKind.CommaToken:case i.SyntaxKind.LineCommentTrivia:A=o();break;case i.SyntaxKind.BlockCommentTrivia:A=y?o():" ";break;case i.SyntaxKind.ColonToken:A=" ";break;case i.SyntaxKind.NullKeyword:case i.SyntaxKind.TrueKeyword:case i.SyntaxKind.FalseKeyword:case i.SyntaxKind.NumericLiteral:T!==i.SyntaxKind.NullKeyword&&T!==i.SyntaxKind.FalseKeyword&&T!==i.SyntaxKind.NumericLiteral||(A=" ")}!y||T!==i.SyntaxKind.LineCommentTrivia&&T!==i.SyntaxKind.BlockCommentTrivia||(A=o())}var D=S.getTokenOffset()+p;l(A,I,D),_=T}return b}function s(e,t){for(var i="",n=0;n<t;n++)i+=e;return i}function a(e,t,i){for(var n=0,o=0,r=i.tabSize||4;n<e.length;){var s=e.charAt(n);if(" "===s)o++;else{if("\t"!==s)break;o+=r}n++}return Math.floor(o/r)}function c(e,t){for(var i=0;i<t.length;i++){var n=t.charAt(i);if("\r"===n)return i+1<t.length&&"\n"===t.charAt(i+1)?"\r\n":"\r";if("\n"===n)return"\n"}return e&&e.eol||"\n"}function u(e,t){return"\r\n".indexOf(e.charAt(t))!==-1}t.applyEdit=n,t.applyEdits=o,t.format=r}),define(l[325],d([1,0,123,321]),function(e,t,i,n){"use strict";function o(e,t,i){return r(e,t,void 0,i)}function r(e,t,n,o,r){for(var a=[],c=i.parseTree(e,a),u=void 0,l=void 0;t.length>0&&(l=t.pop(),u=i.findNodeAtLocation(c,t),void 0===u&&void 0!==n);)"string"==typeof l?(S={},S[l]=n,n=S):n=[n];if(u){if("object"===u.type&&"string"==typeof l){var d=i.findNodeAtLocation(u,[l]);if(void 0!==d){if(void 0===n){var h=u.children.indexOf(d.parent),p=void 0,f=d.parent.offset+d.parent.length;if(h>0){var g=u.children[h-1];p=g.offset+g.length}else if(p=u.offset+1,u.children.length>1){var m=u.children[1];f=m.offset}return s(e,{offset:p,length:f-p,content:""},o)}return[{offset:d.offset,length:d.length,content:JSON.stringify(n)}]}if(void 0===n)throw new Error("Property "+l+" does not exist.");var v=JSON.stringify(l)+": "+JSON.stringify(n),y=r?r(u.children.map(function(e){return e.children[0].value})):u.children.length,E=void 0;if(y>0){var g=u.children[y-1];E={offset:g.offset+g.length,length:0,content:","+v}}else E=0===u.children.length?{offset:u.offset+1,length:0,content:v}:{offset:u.offset+1,length:0,content:v+","};return s(e,E,o)}throw"array"===u.type&&"number"==typeof l?new Error("Array modification not supported yet"):new Error("Can not add "+("number"!=typeof l?"index":"property")+" to parent of type "+u.type)}if(void 0===n)throw new Error("Can not delete in empty document");return s(e,{offset:c?c.offset:0,length:c?c.length:0,content:JSON.stringify(n)},o);var S}function s(e,t,i){for(var o=n.applyEdit(e,t),r=t.offset,s=t.offset+t.content.length,a=n.format(o,{offset:r,length:s-r},i),c=a.length-1;c>=0;c--){var u=a[c];o=n.applyEdit(o,u),r=Math.min(r,u.offset),s=Math.max(s,u.offset+u.length),s+=u.content.length-u.length}var l=e.length-(o.length-s)-r;return[{offset:r,length:l,content:o.substring(r,s)}]}t.removeProperty=o,t.setProperty=r}),define(l[324],d([1,0,123,48,14]),function(e,t,i,n,o){"use strict";var r=function(){function e(){}return e.hasOpenBrace=function(e){for(;e.scan()!==i.SyntaxKind.EOF;){var t=e.getToken();if(t===i.SyntaxKind.OpenBraceToken)return!0}return!1},e.offsetToPosition=function(e,t){for(var i=0,o=e.getEOL().length,r=e.getLineCount(),s=1;s<=r;s++){var a=e.getLineContent(s).length+o,c=i+a;if(c>t)return new n.Position(s,t-i+1);i=c}return new n.Position(r,e.getLineMaxColumn(r))},e.insertSnippet=function(e,t){var r,s=e.getValueLengthInRange(new o.Range(1,1,t.lineNumber,t.column));!function(e){e[e.INVALID=0]="INVALID",e[e.AFTER_OBJECT=1]="AFTER_OBJECT",e[e.BEFORE_OBJECT=2]="BEFORE_OBJECT"}(r||(r={}));for(var a=r.INVALID,c=-1,u=r.INVALID,l=i.createScanner(e.getValue()),d=0,h=0,p=function(e,t){t!==r.INVALID&&1===d&&0===h?(a=t,c=e,u=t):a!==r.INVALID&&(a=r.INVALID,c=l.getTokenOffset())};l.scan()!==i.SyntaxKind.EOF;){var f=l.getPosition(),g=l.getToken(),m=!1;switch(g){case i.SyntaxKind.OpenBracketToken:m=!0,d++,p(f,r.BEFORE_OBJECT);break;case i.SyntaxKind.CloseBracketToken:m=!0,d--,p(f,r.INVALID);break;case i.SyntaxKind.CommaToken:m=!0,p(f,r.BEFORE_OBJECT);break;case i.SyntaxKind.OpenBraceToken:m=!0,h++,p(f,r.INVALID);break;case i.SyntaxKind.CloseBraceToken:m=!0,h--,p(f,r.AFTER_OBJECT);break;case i.SyntaxKind.Trivia:case i.SyntaxKind.LineBreakTrivia:m=!0}if(f>=s&&(a!==r.INVALID||c!==-1)){var v=void 0,y=void 0;return a!==r.INVALID?(v=m?f:l.getTokenOffset(),y=a):(v=c,y=u),y===r.AFTER_OBJECT?{position:this.offsetToPosition(e,v),prepend:",",append:""}:(l.setPosition(v),{position:this.offsetToPosition(e,v),prepend:"",append:this.hasOpenBrace(l)?",":""})}}var E=e.getLineCount();return{position:new n.Position(E,e.getLineMaxColumn(E)),prepend:"\n[",append:"]"}},e}();t.SmartSnippetInserter=r}),define(l[681],d([3,4]),function(e,t){return e.create("vs/base/common/keyCodes",t)}),define(l[13],d([1,0,681,12]),function(e,t,i,n){"use strict";function o(e,t){var i=[];e(i);for(var n={},o=0,r=i.length;o<r;o++)i[o]&&(n[i[o]]=o);t(n);var s={};for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a],s[a.toLowerCase()]=n[a]);return new u(i,s)}function r(e,t,i){var n=[],o=v.hasCtrlCmd(e),s=v.hasShift(e),a=v.hasAlt(e),c=v.hasWinCtrl(e),u=v.extractKeyCode(e),l=t.getLabelForKey(u);if(!l)return"";(o&&!i.isMacintosh||c&&i.isMacintosh)&&n.push(t.ctrlKeyLabel),s&&n.push(t.shiftKeyLabel),a&&n.push(t.altKeyLabel),o&&i.isMacintosh&&n.push(t.cmdKeyLabel),c&&!i.isMacintosh&&n.push(t.windowsKeyLabel),n.push(l);var d=n.join(t.modifierSeparator);return v.hasChord(e)?d+" "+r(v.extractChordPart(e),t,i):d}function s(e,t){e.length>0&&e.push({tagName:"span",text:"+"}),e.push({tagName:"span",className:"monaco-kbkey",text:t})}function a(e,t,i,n){void 0===n&&(n=!1);var o=[],r=v.hasCtrlCmd(e),c=v.hasShift(e),u=v.hasAlt(e),l=v.hasWinCtrl(e),d=v.extractKeyCode(e),h=t.getLabelForKey(d);if(!h)return[];(r&&!i.isMacintosh||l&&i.isMacintosh)&&s(o,t.ctrlKeyLabel),c&&s(o,t.shiftKeyLabel),u&&s(o,t.altKeyLabel),r&&i.isMacintosh&&s(o,t.cmdKeyLabel),l&&!i.isMacintosh&&s(o,t.windowsKeyLabel),s(o,h);var p=null;return v.hasChord(e)&&(p=a(v.extractChordPart(e),t,i,!0),o.push({tagName:"span",text:" "}),o=o.concat(p)),n?o:[{tagName:"span",className:"monaco-kb",children:o}]}!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.MAX_VALUE=109]="MAX_VALUE"}(t.KeyCode||(t.KeyCode={}));var c,c=t.KeyCode,u=function(){function e(e,t){this._fromKeyCode=e,this._toKeyCode=t}return e.prototype.fromKeyCode=function(e){return this._fromKeyCode[e]},e.prototype.toKeyCode=function(e){return this._toKeyCode.hasOwnProperty(e)?this._toKeyCode[e]:c.Unknown},e}(),l=o(function(e){e[c.Unknown]="unknown",e[c.Backspace]="Backspace",e[c.Tab]="Tab",e[c.Enter]="Enter",e[c.Shift]="Shift",e[c.Ctrl]="Ctrl",e[c.Alt]="Alt",e[c.PauseBreak]="PauseBreak",e[c.CapsLock]="CapsLock",e[c.Escape]="Escape",e[c.Space]="Space",e[c.PageUp]="PageUp",e[c.PageDown]="PageDown",e[c.End]="End",e[c.Home]="Home",e[c.LeftArrow]="LeftArrow",e[c.UpArrow]="UpArrow",e[c.RightArrow]="RightArrow",e[c.DownArrow]="DownArrow",e[c.Insert]="Insert",e[c.Delete]="Delete",e[c.KEY_0]="0",e[c.KEY_1]="1",e[c.KEY_2]="2",e[c.KEY_3]="3",e[c.KEY_4]="4",e[c.KEY_5]="5",e[c.KEY_6]="6",e[c.KEY_7]="7",e[c.KEY_8]="8",e[c.KEY_9]="9",e[c.KEY_A]="A",e[c.KEY_B]="B",e[c.KEY_C]="C",e[c.KEY_D]="D",e[c.KEY_E]="E",e[c.KEY_F]="F",e[c.KEY_G]="G",e[c.KEY_H]="H",e[c.KEY_I]="I",e[c.KEY_J]="J",e[c.KEY_K]="K",e[c.KEY_L]="L",e[c.KEY_M]="M",e[c.KEY_N]="N",e[c.KEY_O]="O",e[c.KEY_P]="P",e[c.KEY_Q]="Q",e[c.KEY_R]="R",e[c.KEY_S]="S",e[c.KEY_T]="T",e[c.KEY_U]="U",e[c.KEY_V]="V",e[c.KEY_W]="W",e[c.KEY_X]="X",e[c.KEY_Y]="Y",e[c.KEY_Z]="Z",e[c.ContextMenu]="ContextMenu",e[c.F1]="F1",e[c.F2]="F2",e[c.F3]="F3",e[c.F4]="F4",e[c.F5]="F5",e[c.F6]="F6",e[c.F7]="F7",e[c.F8]="F8",e[c.F9]="F9",e[c.F10]="F10",e[c.F11]="F11",e[c.F12]="F12",e[c.F13]="F13",e[c.F14]="F14",e[c.F15]="F15",e[c.F16]="F16",e[c.F17]="F17",e[c.F18]="F18",e[c.F19]="F19",e[c.NumLock]="NumLock",e[c.ScrollLock]="ScrollLock",e[c.US_SEMICOLON]=";",e[c.US_EQUAL]="=",e[c.US_COMMA]=",",e[c.US_MINUS]="-",e[c.US_DOT]=".",e[c.US_SLASH]="/",e[c.US_BACKTICK]="`",e[c.US_OPEN_SQUARE_BRACKET]="[",e[c.US_BACKSLASH]="\\",e[c.US_CLOSE_SQUARE_BRACKET]="]",e[c.US_QUOTE]="'",e[c.OEM_8]="OEM_8",e[c.OEM_102]="OEM_102",e[c.NUMPAD_0]="NumPad0",e[c.NUMPAD_1]="NumPad1",e[c.NUMPAD_2]="NumPad2",e[c.NUMPAD_3]="NumPad3",e[c.NUMPAD_4]="NumPad4",e[c.NUMPAD_5]="NumPad5",e[c.NUMPAD_6]="NumPad6",e[c.NUMPAD_7]="NumPad7",e[c.NUMPAD_8]="NumPad8",e[c.NUMPAD_9]="NumPad9",e[c.NUMPAD_MULTIPLY]="NumPad_Multiply",e[c.NUMPAD_ADD]="NumPad_Add",e[c.NUMPAD_SEPARATOR]="NumPad_Separator",e[c.NUMPAD_SUBTRACT]="NumPad_Subtract",e[c.NUMPAD_DECIMAL]="NumPad_Decimal",e[c.NUMPAD_DIVIDE]="NumPad_Divide"},function(e){e["\r"]=c.Enter}),d=o(function(e){for(var t=0,i=l._fromKeyCode.length;t<i;t++)e[t]=l._fromKeyCode[t];e[c.LeftArrow]="Left",e[c.UpArrow]="Up",e[c.RightArrow]="Right",e[c.DownArrow]="Down"},function(e){e.OEM_1=c.US_SEMICOLON,e.OEM_PLUS=c.US_EQUAL,e.OEM_COMMA=c.US_COMMA,e.OEM_MINUS=c.US_MINUS,e.OEM_PERIOD=c.US_DOT,e.OEM_2=c.US_SLASH,e.OEM_3=c.US_BACKTICK,e.OEM_4=c.US_OPEN_SQUARE_BRACKET,e.OEM_5=c.US_BACKSLASH,e.OEM_6=c.US_CLOSE_SQUARE_BRACKET,e.OEM_7=c.US_QUOTE,e.OEM_8=c.OEM_8,e.OEM_102=c.OEM_102});!function(e){function t(e){return l.fromKeyCode(e)}function i(e){return l.toKeyCode(e)}e.toString=t,e.fromString=i}(c=t.KeyCode||(t.KeyCode={}));var h=32768,p=16384,f=8192,g=4096,m=4095,v=function(){function e(){}return e.extractFirstPart=function(e){return 65535&e},e.extractChordPart=function(e){return e>>16&65535},e.hasChord=function(e){return 0!==this.extractChordPart(e)},e.hasCtrlCmd=function(e){return!!(e&h)},e.hasShift=function(e){return!!(e&p)},e.hasAlt=function(e){return!!(e&f)},e.hasWinCtrl=function(e){return!!(e&g)},e.extractKeyCode=function(e){return e&m},e}();t.BinaryKeybindings=v;var y=function(){function e(){}return e.chord=function(e,t){return e|(65535&t)<<16},e.CtrlCmd=h,e.Shift=p,e.Alt=f,e.WinCtrl=g,e}();t.KeyMod=y;var E=function(){function e(){}return e.ENTER=c.Enter,e.SHIFT_ENTER=y.Shift|c.Enter,e.CTRLCMD_ENTER=y.CtrlCmd|c.Enter,e.WINCTRL_ENTER=y.WinCtrl|c.Enter,e.TAB=c.Tab,e.SHIFT_TAB=y.Shift|c.Tab,e.ESCAPE=c.Escape,e.SPACE=c.Space,e.DELETE=c.Delete,e.SHIFT_DELETE=y.Shift|c.Delete,e.CTRLCMD_BACKSPACE=y.CtrlCmd|c.Backspace,e.UP_ARROW=c.UpArrow,e.SHIFT_UP_ARROW=y.Shift|c.UpArrow,e.CTRLCMD_UP_ARROW=y.CtrlCmd|c.UpArrow,e.DOWN_ARROW=c.DownArrow,e.SHIFT_DOWN_ARROW=y.Shift|c.DownArrow,e.CTRLCMD_DOWN_ARROW=y.CtrlCmd|c.DownArrow,e.LEFT_ARROW=c.LeftArrow,e.RIGHT_ARROW=c.RightArrow,e.HOME=c.Home,e.END=c.End,e.PAGE_UP=c.PageUp,e.SHIFT_PAGE_UP=y.Shift|c.PageUp,e.PAGE_DOWN=c.PageDown,e.SHIFT_PAGE_DOWN=y.Shift|c.PageDown,e.F2=c.F2,e.CTRLCMD_S=y.CtrlCmd|c.KEY_S,e.CTRLCMD_C=y.CtrlCmd|c.KEY_C,e.CTRLCMD_V=y.CtrlCmd|c.KEY_V,e}();t.CommonKeybindings=E;var S=function(){function e(e){this.value=e}return e._toUSLabel=function(e,t){return r(e,t.isMacintosh?_.INSTANCE:w.INSTANCE,t)},e._toUSAriaLabel=function(e,t){return r(e,C.INSTANCE,t)},e._toUSHTMLLabel=function(e,t){return a(e,t.isMacintosh?_.INSTANCE:w.INSTANCE,t)},e._toCustomLabel=function(e,t,i){return r(e,t,i)},e._toCustomHTMLLabel=function(e,t,i){return a(e,t,i)},e._toElectronAccelerator=function(e,t){return v.hasChord(e)?null:r(e,b.INSTANCE,t)},e.getUserSettingsKeybindingRegex=function(){if(!this._cachedKeybindingRegex){var e="numpad(0|1|2|3|4|5|6|7|8|9|_multiply|_add|_subtract|_decimal|_divide|_separator)",t="`|\\-|=|\\[|\\]|\\\\\\\\|;|'|,|\\.|\\/|oem_8|oem_102",i="left|up|right|down|pageup|pagedown|end|home|tab|enter|escape|space|backspace|delete|pausebreak|capslock|insert|contextmenu|numlock|scrolllock",n="[a-z]|[0-9]|f(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19)",o="(("+[e,t,i,n].join(")|(")+"))",r="((ctrl|shift|alt|cmd|win|meta)\\+)*",s="("+r+o+")";this._cachedKeybindingRegex='"\\s*('+s+"(\\s+"+s+')?)\\s*"'}return this._cachedKeybindingRegex},e.toUserSettingsLabel=function(e,t){void 0===t&&(t=n);var i=r(e,I.INSTANCE,t);return i=i.toLowerCase(),t.isMacintosh?i=i.replace(/meta/g,"cmd"):t.isWindows&&(i=i.replace(/meta/g,"win")),i},e.fromUserSettingsLabel=function(t,i){if(void 0===i&&(i=n),!t)return null;t=t.toLowerCase().trim();for(var o=!1,r=!1,s=!1,a=!1,c="";/^(ctrl|shift|alt|meta|win|cmd)(\+|\-)/.test(t);)/^ctrl(\+|\-)/.test(t)&&(i.isMacintosh?a=!0:o=!0,t=t.substr("ctrl-".length)),/^shift(\+|\-)/.test(t)&&(r=!0,t=t.substr("shift-".length)),/^alt(\+|\-)/.test(t)&&(s=!0,t=t.substr("alt-".length)),/^meta(\+|\-)/.test(t)&&(i.isMacintosh?o=!0:a=!0,t=t.substr("meta-".length)),/^win(\+|\-)/.test(t)&&(i.isMacintosh?o=!0:a=!0,t=t.substr("win-".length)),/^cmd(\+|\-)/.test(t)&&(i.isMacintosh?o=!0:a=!0,t=t.substr("cmd-".length));var u=0,l=t.indexOf(" ");l>0?(c=t.substring(0,l),u=e.fromUserSettingsLabel(t.substring(l),i)):c=t;var h=d.toKeyCode(c),p=0;return o&&(p|=y.CtrlCmd),r&&(p|=y.Shift),s&&(p|=y.Alt),a&&(p|=y.WinCtrl),p|=h,y.chord(p,u)},e.prototype.hasCtrlCmd=function(){return v.hasCtrlCmd(this.value)},e.prototype.hasShift=function(){return v.hasShift(this.value)},e.prototype.hasAlt=function(){return v.hasAlt(this.value)},e.prototype.hasWinCtrl=function(){return v.hasWinCtrl(this.value)},e.prototype.extractKeyCode=function(){return v.extractKeyCode(this.value)},e.prototype._toUSLabel=function(t){return void 0===t&&(t=n),e._toUSLabel(this.value,t)},e.prototype._toUSAriaLabel=function(t){return void 0===t&&(t=n),e._toUSAriaLabel(this.value,t)},e.prototype._toUSHTMLLabel=function(t){return void 0===t&&(t=n),e._toUSHTMLLabel(this.value,t)},e.prototype.toCustomLabel=function(t,i){
return void 0===i&&(i=n),e._toCustomLabel(this.value,t,i)},e.prototype.toCustomHTMLLabel=function(t,i){return void 0===i&&(i=n),e._toCustomHTMLLabel(this.value,t,i)},e.prototype._toElectronAccelerator=function(t){return void 0===t&&(t=n),e._toElectronAccelerator(this.value,t)},e.prototype.toUserSettingsLabel=function(t){return void 0===t&&(t=n),e.toUserSettingsLabel(this.value,t)},e._cachedKeybindingRegex=null,e}();t.Keybinding=S;var b=function(){function e(){this.ctrlKeyLabel="Ctrl",this.shiftKeyLabel="Shift",this.altKeyLabel="Alt",this.cmdKeyLabel="Cmd",this.windowsKeyLabel="Super",this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){switch(e){case c.UpArrow:return"Up";case c.DownArrow:return"Down";case c.LeftArrow:return"Left";case c.RightArrow:return"Right"}return c.toString(e)},e.INSTANCE=new e,e}();t.ElectronAcceleratorLabelProvider=b;var _=function(){function e(){this.ctrlKeyLabel="⌃",this.shiftKeyLabel="⇧",this.altKeyLabel="⌥",this.cmdKeyLabel="⌘",this.windowsKeyLabel=i.localize(0,null),this.modifierSeparator=""}return e.prototype.getLabelForKey=function(t){switch(t){case c.LeftArrow:return e.leftArrowUnicodeLabel;case c.UpArrow:return e.upArrowUnicodeLabel;case c.RightArrow:return e.rightArrowUnicodeLabel;case c.DownArrow:return e.downArrowUnicodeLabel}return c.toString(t)},e.INSTANCE=new e,e.leftArrowUnicodeLabel=String.fromCharCode(8592),e.upArrowUnicodeLabel=String.fromCharCode(8593),e.rightArrowUnicodeLabel=String.fromCharCode(8594),e.downArrowUnicodeLabel=String.fromCharCode(8595),e}();t.MacUIKeyLabelProvider=_;var C=function(){function e(){this.ctrlKeyLabel=i.localize(1,null),this.shiftKeyLabel=i.localize(2,null),this.altKeyLabel=i.localize(3,null),this.cmdKeyLabel=i.localize(4,null),this.windowsKeyLabel=i.localize(5,null),this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return c.toString(e)},e.INSTANCE=new _,e}();t.AriaKeyLabelProvider=C;var w=function(){function e(){this.ctrlKeyLabel=i.localize(6,null),this.shiftKeyLabel=i.localize(7,null),this.altKeyLabel=i.localize(8,null),this.cmdKeyLabel=i.localize(9,null),this.windowsKeyLabel=i.localize(10,null),this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return c.toString(e)},e.INSTANCE=new e,e}();t.ClassicUIKeyLabelProvider=w;var I=function(){function e(){this.ctrlKeyLabel="Ctrl",this.shiftKeyLabel="Shift",this.altKeyLabel="Alt",this.cmdKeyLabel="Meta",this.windowsKeyLabel="Meta",this.modifierSeparator="+"}return e.prototype.getLabelForKey=function(e){return d.fromKeyCode(e)},e.INSTANCE=new e,e}()}),define(l[83],d([1,0,13,12,59]),function(e,t,i,n,o){"use strict";function r(e){return a[e.keyCode]||i.KeyCode.Unknown}function s(e){c=e}var a={};!function(){a[3]=i.KeyCode.PauseBreak,a[8]=i.KeyCode.Backspace,a[9]=i.KeyCode.Tab,a[13]=i.KeyCode.Enter,a[16]=i.KeyCode.Shift,a[17]=i.KeyCode.Ctrl,a[18]=i.KeyCode.Alt,a[19]=i.KeyCode.PauseBreak,a[20]=i.KeyCode.CapsLock,a[27]=i.KeyCode.Escape,a[32]=i.KeyCode.Space,a[33]=i.KeyCode.PageUp,a[34]=i.KeyCode.PageDown,a[35]=i.KeyCode.End,a[36]=i.KeyCode.Home,a[37]=i.KeyCode.LeftArrow,a[38]=i.KeyCode.UpArrow,a[39]=i.KeyCode.RightArrow,a[40]=i.KeyCode.DownArrow,a[45]=i.KeyCode.Insert,a[46]=i.KeyCode.Delete,a[48]=i.KeyCode.KEY_0,a[49]=i.KeyCode.KEY_1,a[50]=i.KeyCode.KEY_2,a[51]=i.KeyCode.KEY_3,a[52]=i.KeyCode.KEY_4,a[53]=i.KeyCode.KEY_5,a[54]=i.KeyCode.KEY_6,a[55]=i.KeyCode.KEY_7,a[56]=i.KeyCode.KEY_8,a[57]=i.KeyCode.KEY_9,a[65]=i.KeyCode.KEY_A,a[66]=i.KeyCode.KEY_B,a[67]=i.KeyCode.KEY_C,a[68]=i.KeyCode.KEY_D,a[69]=i.KeyCode.KEY_E,a[70]=i.KeyCode.KEY_F,a[71]=i.KeyCode.KEY_G,a[72]=i.KeyCode.KEY_H,a[73]=i.KeyCode.KEY_I,a[74]=i.KeyCode.KEY_J,a[75]=i.KeyCode.KEY_K,a[76]=i.KeyCode.KEY_L,a[77]=i.KeyCode.KEY_M,a[78]=i.KeyCode.KEY_N,a[79]=i.KeyCode.KEY_O,a[80]=i.KeyCode.KEY_P,a[81]=i.KeyCode.KEY_Q,a[82]=i.KeyCode.KEY_R,a[83]=i.KeyCode.KEY_S,a[84]=i.KeyCode.KEY_T,a[85]=i.KeyCode.KEY_U,a[86]=i.KeyCode.KEY_V,a[87]=i.KeyCode.KEY_W,a[88]=i.KeyCode.KEY_X,a[89]=i.KeyCode.KEY_Y,a[90]=i.KeyCode.KEY_Z,a[93]=i.KeyCode.ContextMenu,a[96]=i.KeyCode.NUMPAD_0,a[97]=i.KeyCode.NUMPAD_1,a[98]=i.KeyCode.NUMPAD_2,a[99]=i.KeyCode.NUMPAD_3,a[100]=i.KeyCode.NUMPAD_4,a[101]=i.KeyCode.NUMPAD_5,a[102]=i.KeyCode.NUMPAD_6,a[103]=i.KeyCode.NUMPAD_7,a[104]=i.KeyCode.NUMPAD_8,a[105]=i.KeyCode.NUMPAD_9,a[106]=i.KeyCode.NUMPAD_MULTIPLY,a[107]=i.KeyCode.NUMPAD_ADD,a[108]=i.KeyCode.NUMPAD_SEPARATOR,a[109]=i.KeyCode.NUMPAD_SUBTRACT,a[110]=i.KeyCode.NUMPAD_DECIMAL,a[111]=i.KeyCode.NUMPAD_DIVIDE,a[112]=i.KeyCode.F1,a[113]=i.KeyCode.F2,a[114]=i.KeyCode.F3,a[115]=i.KeyCode.F4,a[116]=i.KeyCode.F5,a[117]=i.KeyCode.F6,a[118]=i.KeyCode.F7,a[119]=i.KeyCode.F8,a[120]=i.KeyCode.F9,a[121]=i.KeyCode.F10,a[122]=i.KeyCode.F11,a[123]=i.KeyCode.F12,a[124]=i.KeyCode.F13,a[125]=i.KeyCode.F14,a[126]=i.KeyCode.F15,a[127]=i.KeyCode.F16,a[128]=i.KeyCode.F17,a[129]=i.KeyCode.F18,a[130]=i.KeyCode.F19,a[144]=i.KeyCode.NumLock,a[145]=i.KeyCode.ScrollLock,a[186]=i.KeyCode.US_SEMICOLON,a[187]=i.KeyCode.US_EQUAL,a[188]=i.KeyCode.US_COMMA,a[189]=i.KeyCode.US_MINUS,a[190]=i.KeyCode.US_DOT,a[191]=i.KeyCode.US_SLASH,a[192]=i.KeyCode.US_BACKTICK,a[219]=i.KeyCode.US_OPEN_SQUARE_BRACKET,a[220]=i.KeyCode.US_BACKSLASH,a[221]=i.KeyCode.US_CLOSE_SQUARE_BRACKET,a[222]=i.KeyCode.US_QUOTE,a[223]=i.KeyCode.OEM_8,a[226]=i.KeyCode.OEM_102,o.isIE11orEarlier?a[91]=i.KeyCode.Meta:o.isFirefox?(a[59]=i.KeyCode.US_SEMICOLON,a[107]=i.KeyCode.US_EQUAL,a[109]=i.KeyCode.US_MINUS,n.isMacintosh&&(a[224]=i.KeyCode.Meta)):o.isWebKit&&(a[91]=i.KeyCode.Meta,n.isMacintosh?a[93]=i.KeyCode.Meta:a[92]=i.KeyCode.Meta)}(),t.lookupKeyCode=r;var c=function(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return i.KeyCode.fromString(t)}return r(e)};t.setExtractKeyCode=s;var u=n.isMacintosh?i.KeyMod.WinCtrl:i.KeyMod.CtrlCmd,l=i.KeyMod.Alt,d=i.KeyMod.Shift,h=n.isMacintosh?i.KeyMod.CtrlCmd:i.KeyMod.WinCtrl,p=function(){function e(e){var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=c(t),this.ctrlKey=this.ctrlKey||this.keyCode===i.KeyCode.Ctrl,this.altKey=this.altKey||this.keyCode===i.KeyCode.Alt,this.shiftKey=this.shiftKey||this.keyCode===i.KeyCode.Shift,this.metaKey=this.metaKey||this.keyCode===i.KeyCode.Meta,this._asKeybinding=this._computeKeybinding()}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e.prototype.asKeybinding=function(){return this._asKeybinding},e.prototype.equals=function(e){return this._asKeybinding===e},e.prototype._computeKeybinding=function(){var e=i.KeyCode.Unknown;this.keyCode!==i.KeyCode.Ctrl&&this.keyCode!==i.KeyCode.Shift&&this.keyCode!==i.KeyCode.Alt&&this.keyCode!==i.KeyCode.Meta&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=u),this.altKey&&(t|=l),this.shiftKey&&(t|=d),this.metaKey&&(t|=h),t|=e},e}();t.StandardKeyboardEvent=p}),define(l[10],d([1,0,16,7,36,5,17,59,83,77]),function(e,t,i,n,o,r,s,a,c,u){"use strict";function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(e){var t=[];return JSON.stringify(e,function(e,i){if(i instanceof Element)return"[Element]";if(s.isObject(i)||Array.isArray(i)){if(t.indexOf(i)!==-1)return"[Circular]";t.push(i)}return i})}function p(e){for(;e;){if(e===document.body)return!0;e=e.parentNode}return!1}function f(e,t){var i=e.className;if(!i)return void(J=-1);t=t.trim();var n=i.length,o=t.length;if(0===o)return void(J=-1);if(n<o)return void(J=-1);if(i===t)return J=0,void(ee=n);for(var r,s=-1;(s=i.indexOf(t,s+1))>=0;){if(r=s+o,(0===s||i.charCodeAt(s-1)===te)&&i.charCodeAt(r)===te)return J=s,void(ee=r+1);if(s>0&&i.charCodeAt(s-1)===te&&r===n)return J=s-1,void(ee=r);if(0===s&&r===n)return J=0,void(ee=r)}J=-1}function g(e,t){return f(e,t),J!==-1}function m(e,t){e.className?(f(e,t),J===-1&&(e.className=e.className+" "+t)):e.className=t}function v(e,t){f(e,t),J!==-1&&(e.className=e.className.substring(0,J)+e.className.substring(ee))}function y(e,t,i){f(e,t),J===-1||void 0!==i&&i||v(e,t),J!==-1||void 0!==i&&!i||m(e,t)}function E(e,t,i,n){return new ie(e,t,i,n)}function S(e){return function(t){return e(new u.StandardMouseEvent(t))}}function b(e){return function(t){return e(new c.StandardKeyboardEvent(t))}}function _(e,t){return E(e,"mouseout",function(i){for(var n=i.relatedTarget||i.toElement;n&&n!==e;)n=n.parentNode;n!==e&&t(i)})}function C(e,t,i,n,o){return new ae(e,t,i,n,o)}function w(e){return document.defaultView.getComputedStyle(e,null)}function I(e,t,i){var n=w(e),o="0";return n&&(o=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),ce(e,o)}function T(e){for(var t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;var o=w(e);o&&(n-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=ue.getBorderLeftWidth(e),i+=ue.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}function A(e){var i=e.getBoundingClientRect();return{left:i.left+t.StandardWindow.scrollX,top:i.top+t.StandardWindow.scrollY,width:i.width,height:i.height}}function L(e){var t=ue.getBorderLeftWidth(e)+ue.getBorderRightWidth(e),i=ue.getPaddingLeft(e)+ue.getPaddingRight(e);return e.offsetWidth-t-i}function D(e){var t=ue.getMarginLeft(e)+ue.getMarginRight(e);return e.offsetWidth+t}function k(e){var t=ue.getBorderTopWidth(e)+ue.getBorderBottomWidth(e),i=ue.getPaddingTop(e)+ue.getPaddingBottom(e);return e.offsetHeight-t-i}function x(e){var t=ue.getMarginTop(e)+ue.getMarginBottom(e);return e.offsetHeight+t}function M(e,t){if(null===e)return 0;var i=T(e),n=T(t);return i.left-n.left}function R(e,t){var i=t.map(function(t){return D(t)+M(t,e)||0}),n=Math.max.apply(Math,i);return n}function O(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function P(e,t,i){for(;e;){if(g(e,t))return e;if(i&&g(e,i))return null;e=e.parentNode}return null}function N(){var e=document.createElement("style");return e.type="text/css",e.media="screen",document.getElementsByTagName("head")[0].appendChild(e),e}function F(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function W(e,t,i){void 0===i&&(i=le),i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function B(e,t){if(void 0===t&&(t=le),!t)return null;for(var i=F(t),n=0;n<i.length;n++){var o=i[n],r=o.selectorText.replace(/::/gi,":");if(r===e)return o}return null}function K(e,t){if(void 0===t&&(t=le),t){for(var i=F(t),n=[],o=0;o<i.length;o++){var r=i[o],s=r.selectorText.replace(/::/gi,":");s.indexOf(e)!==-1&&n.push(o)}for(var o=n.length-1;o>=0;o--)t.sheet.deleteRule(n[o])}}function V(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}function H(e){for(var t=[],i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}function z(e,t){for(var i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}function U(e){return new de(e)}function G(e,t){return e.appendChild(t),t}function j(e){var t=he.exec(e);if(!t)throw new Error("Bad use of emmet");var i=document.createElement(t[1]||"div");return t[3]&&(i.id=t[3]),t[4]&&(i.className=t[4].replace(/\./g," ").trim()),i}function q(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var i=0,n=e;i<n.length;i++){var o=n[i];o.style.display=null}}function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var i=0,n=e;i<n.length;i++){var o=n[i];o.style.display="none"}}function $(e,t){for(;e;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}function X(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){var t=$(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function Q(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function Z(e){return function(t){t.preventDefault(),t.stopPropagation(),e(t)}}t.clearNode=l,t.safeStringifyDOMAware=d,t.isInDOM=p;var J,ee,te=" ".charCodeAt(0);t.hasClass=g,t.addClass=m,t.removeClass=v,t.toggleClass=y;var ie=function(e){function t(t,i,n,o){e.call(this),this._node=t,this._type=i,this._useCapture=o||!1,this._wrapHandler=function(e){e=e||window.event,n(e)},"function"==typeof this._node.addEventListener?(this._usedAddEventListener=!0,this._node.addEventListener(this._type,this._wrapHandler,this._useCapture)):(this._usedAddEventListener=!1,this._node.attachEvent("on"+this._type,this._wrapHandler))}return h(t,e),t.prototype.dispose=function(){this._wrapHandler&&(this._usedAddEventListener?this._node.removeEventListener(this._type,this._wrapHandler,this._useCapture):this._node.detachEvent("on"+this._type,this._wrapHandler),this._node=null,this._wrapHandler=null)},t}(r.Disposable);t.addDisposableListener=E,t.addStandardDisposableListener=function(e,t,i,n){var o=i;return"click"===t?o=S(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=b(i)),e.addEventListener(t,o,n||!1),{dispose:function(){o&&(e.removeEventListener(t,o,n||!1),o=null,e=null,i=null)}}},t.addDisposableNonBubblingMouseOutListener=_;var ne=function(){var e=function(e){return setTimeout(function(){return e((new Date).getTime())},0)},t=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame,i=function(e){},n=self.cancelAnimationFrame||self.cancelRequestAnimationFrame||self.msCancelAnimationFrame||self.msCancelRequestAnimationFrame||self.webkitCancelAnimationFrame||self.webkitCancelRequestAnimationFrame||self.mozCancelAnimationFrame||self.mozCancelRequestAnimationFrame||self.oCancelAnimationFrame||self.oCancelRequestAnimationFrame,o=!!t,r=t||e,s=n||i;return{isNative:o,request:function(e){return r(e)},cancel:function(e){return s(e)}}}(),oe=function(){function e(e,t){this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){n.onUnexpectedError(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();!function(){var e=[],i=null,n=!1,o=!1,r=function(){for(n=!1,i=e,e=[],o=!0;i.length>0;){i.sort(oe.sort);var t=i.shift();t.execute()}o=!1};t.scheduleAtNextAnimationFrame=function(t,i){void 0===i&&(i=0);var o=new oe(t,i);if(e.push(o),!n)if(n=!0,a.isChrome){var s;ne.request(function(){clearTimeout(s),r()}),s=setTimeout(r,1e3)}else ne.request(r);return o},t.runAtThisOrScheduleAtNextAnimationFrame=function(e,n){if(o){var r=new oe(e,n);return i.push(r),r}return t.scheduleAtNextAnimationFrame(e,n)}}();var re=16,se=function(e,t){return t},ae=function(e){function t(t,n,o,r,s){void 0===r&&(r=se),void 0===s&&(s=re),e.call(this);var a=null,c=0,u=this._register(new i.TimeoutTimer),l=function(){c=(new Date).getTime(),o(a),a=null};this._register(E(t,n,function(e){a=r(a,e);var t=(new Date).getTime()-c;t>=s?(u.cancel(),l()):u.setIfNotSet(l,s-t)}))}return h(t,e),t}(r.Disposable);t.addDisposableThrottledListener=C,t.getComputedStyle=w;var ce=function(){return function(e,t){return parseFloat(t)||0}}(),ue={getBorderLeftWidth:function(e){return I(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return I(e,"border-top-width","borderTopWidth")},getBorderRightWidth:function(e){return I(e,"border-right-width","borderRightWidth")},getBorderBottomWidth:function(e){return I(e,"border-bottom-width","borderBottomWidth")},getPaddingLeft:function(e){return I(e,"padding-left","paddingLeft")},getPaddingTop:function(e){return I(e,"padding-top","paddingTop")},getPaddingRight:function(e){return I(e,"padding-right","paddingRight")},getPaddingBottom:function(e){return I(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return I(e,"margin-left","marginLeft")},getMarginTop:function(e){return I(e,"margin-top","marginTop")},getMarginRight:function(e){return I(e,"margin-right","marginRight")},getMarginBottom:function(e){return I(e,"margin-bottom","marginBottom")},__commaSentinel:!1};t.getTopLeftOffset=T,t.getDomNodePagePosition=A,t.StandardWindow=new(function(){function e(){}return Object.defineProperty(e.prototype,"scrollX",{get:function(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollY",{get:function(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),e}()),t.getContentWidth=L,t.getTotalWidth=D,t.getContentHeight=k,t.getTotalHeight=x,t.getLargestChildWidth=R,t.isAncestor=O,t.findParentWithClass=P,t.createStyleSheet=N;var le=N();t.createCSSRule=W,t.getCSSRule=B,t.removeCSSRulesContainingSelector=K,t.isHTMLElement=V,t.EventType={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:a.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:a.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:a.isWebKit?"webkitAnimationIteration":"animationiteration"},t.EventHelper={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}},t.saveParentsScrollTop=H,t.restoreParentsScrollTop=z;var de=function(e){function i(i){var n=this;e.call(this);var r=!1,s=!1;this._eventEmitter=this._register(new o.EventEmitter);var a=function(e){s=!1,r||(r=!0,n._eventEmitter.emit("focus",{}))},c=function(e){r&&(s=!0,window.setTimeout(function(){s&&(s=!1,r=!1,n._eventEmitter.emit("blur",{}))},0))};this._register(E(i,t.EventType.FOCUS,a,!0)),this._register(E(i,t.EventType.BLUR,c,!0))}return h(i,e),i.prototype.addFocusListener=function(e){return this._eventEmitter.addListener2("focus",e)},i.prototype.addBlurListener=function(e){return this._eventEmitter.addListener2("blur",e)},i}(r.Disposable);t.trackFocus=U,t.append=G;var he=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.emmet=j,t.show=q,t.hide=Y,t.removeTabIndexAndUpdateFocus=X,t.getElementsByTagName=Q,t.finalHandler=Z}),define(l[31],d([1,0,2,17,5,9,85,10,957]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t){s.ok(n.isString(e),"Expected String as parameter");var i=document.getElementById(e);return i?new L(i,t):null}function u(e){return e[b]||(e[b]={}),e[b]}function l(e){return!!e[b]}function d(e,t){return e instanceof D?new D(e):new L(e.getHTMLElement(),t)}function p(e,t){return new L(e,t)}function f(){return new L(null,(!0))}function g(e,t,i){u(e)[t]=i}function m(e,t,i){if(l(e)){var o=u(e)[t];if(!n.isUndefined(o))return o}return i}function v(e,t){l(e)&&delete u(e)[t]}function y(e,t){g(e,_,t)}function E(e){v(e,_)}function S(e){return m(e,_)}t.withElementById=c,t.Build={withElementById:c};var b="_msDataKey",_="__$binding",C="__$listeners",w="__$visibility",I=function(){function e(e,t){this.x=e,this.y=t}return e}();t.Position=I;var T=function(){function e(e,t,i,n){this.top=e,this.right=t,this.bottom=i,this.left=n}return e}();t.Box=T;var A=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.substract=function(t){return new e(this.width-t.left-t.right,this.height-t.top-t.bottom)},e}();t.Dimension=A;var L=function(){function e(e,t){this.offdom=t,this.container=e,this.currentElement=e,this.createdElements=[],this.toUnbind={},this.captureToUnbind={}}return e.prototype.asContainer=function(){return d(this,this.offdom)},e.prototype.clone=function(){var t=new e(this.container,this.offdom);return t.currentElement=this.currentElement,t.createdElements=this.createdElements,t.captureToUnbind=this.captureToUnbind,t.toUnbind=this.toUnbind,t},e.prototype.and=function(t){t instanceof e||t instanceof D||(t=new e(t,this.offdom));var i=[this];if(t instanceof D)for(var n=0;n<t.length;n++)i.push(t.item(n));else i.push(t);return new D(i)},e.prototype.build=function(t,i){s.ok(this.offdom,"This builder was not created off-dom, so build() can not be called."),t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.ok(t,"Builder can only be build() with a container provided."),s.ok(a.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var o,r,c=t,u=c.childNodes;if(n.isNumber(i)&&i<u.length)for(o=0,r=this.createdElements.length;o<r;o++)c.insertBefore(this.createdElements[o],u[i++]);else for(o=0,r=this.createdElements.length;o<r;o++)c.appendChild(this.createdElements[o]);return this},e.prototype.appendTo=function(t,i){t?t instanceof e&&(t=t.getHTMLElement()):t=this.container,s.ok(t,"Builder can only be build() with a container provided."),s.ok(a.isHTMLElement(t),"The container must either be a HTMLElement or a Builder.");var o=t;this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement);var r=o.childNodes;return n.isNumber(i)&&i<r.length?o.insertBefore(this.currentElement,r[i]):o.appendChild(this.currentElement),this},e.prototype.append=function(t,i){return s.ok(t,"Need a child to append"),a.isHTMLElement(t)&&(t=p(t)),s.ok(t instanceof e||t instanceof D,"Need a child to append"),t.appendTo(this,i),this},e.prototype.offDOM=function(){return this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this},e.prototype.getHTMLElement=function(){return this.currentElement},e.prototype.getContainer=function(){return this.container},e.prototype.div=function(e,t){return this.doElement("div",e,t)},e.prototype.p=function(e,t){return this.doElement("p",e,t)},e.prototype.ul=function(e,t){return this.doElement("ul",e,t)},e.prototype.ol=function(e,t){return this.doElement("ol",e,t)},e.prototype.li=function(e,t){return this.doElement("li",e,t)},e.prototype.span=function(e,t){return this.doElement("span",e,t)},e.prototype.img=function(e,t){return this.doElement("img",e,t)},e.prototype.a=function(e,t){return this.doElement("a",e,t)},e.prototype.header=function(e,t){return this.doElement("header",e,t)},e.prototype.section=function(e,t){return this.doElement("section",e,t)},e.prototype.footer=function(e,t){return this.doElement("footer",e,t)},e.prototype.element=function(e,t,i){return this.doElement(e,t,i)},e.prototype.doElement=function(t,i,o){var r=document.createElement(t);if(this.currentElement=r,this.offdom&&this.createdElements.push(r),n.isObject(i)&&this.attr(i),n.isFunction(i)&&(o=i),n.isFunction(o)){var s=new e(r);o.call(s,s)}return this.offdom||this.container.appendChild(r),this},e.prototype.domFocus=function(){return this.currentElement.focus(),this},e.prototype.hasFocus=function(){var e=document.activeElement;return e===this.currentElement},e.prototype.domSelect=function(e){void 0===e&&(e=null);var t=this.currentElement;return t.select(),e&&t.setSelectionRange(e.start,e.end),this},e.prototype.domBlur=function(){return this.currentElement.blur(),this},e.prototype.domClick=function(){return this.currentElement.click(),this},e.prototype.on=function(e,t,i,o){var r=this;if(n.isArray(e))e.forEach(function(e){r.on(e,t,i,o)});else{var s=e,c=a.addDisposableListener(this.currentElement,s,function(e){t(e,r,c)},o||!1);o?(this.captureToUnbind[s]||(this.captureToUnbind[s]=[]),this.captureToUnbind[s].push(c)):(this.toUnbind[s]||(this.toUnbind[s]=[]),this.toUnbind[s].push(c));var u=this.getProperty(C,[]);u.push(c),this.setProperty(C,u),i&&n.isArray(i)&&i.push(c)}return this},e.prototype.off=function(e,t){var i=this;if(n.isArray(e))e.forEach(function(e){i.off(e)});else{var r=e;t?this.captureToUnbind[r]&&(this.captureToUnbind[r]=o.dispose(this.captureToUnbind[r])):this.toUnbind[r]&&(this.toUnbind[r]=o.dispose(this.toUnbind[r]))}return this},e.prototype.once=function(e,t,i,o){var r=this;if(n.isArray(e))e.forEach(function(e){r.once(e,t)});else{var s=e,c=a.addDisposableListener(this.currentElement,s,function(e){t(e,r,c),c.dispose()},o||!1);i&&n.isArray(i)&&i.push(c)}return this},e.prototype.preventDefault=function(e,t,i,n){var o=function(e){e.preventDefault(),t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)};return this.on(e,o,i)},e.prototype.attr=function(e,t){if(n.isObject(e)){for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];this.doSetAttr(i,o)}return this}return n.isString(e)&&!n.isString(t)?this.currentElement.getAttribute(e):(n.isString(e)&&(n.isString(t)||(t=String(t)),this.doSetAttr(e,t)),this)},e.prototype.doSetAttr=function(e,t){"class"===e&&(e="addClass"),this[e]?n.isArray(t)?this[e].apply(this,t):this[e].call(this,t):this.currentElement.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.currentElement.removeAttribute(e)},e.prototype.id=function(e){return this.currentElement.setAttribute("id",e),this},e.prototype.src=function(e){return this.currentElement.setAttribute("src",e),this},e.prototype.href=function(e){return this.currentElement.setAttribute("href",e),this},e.prototype.title=function(e){return this.currentElement.setAttribute("title",e),this},e.prototype.name=function(e){return this.currentElement.setAttribute("name",e),this},e.prototype.type=function(e){return this.currentElement.setAttribute("type",e),this},e.prototype.value=function(e){return this.currentElement.setAttribute("value",e),this},e.prototype.alt=function(e){return this.currentElement.setAttribute("alt",e),this},e.prototype.draggable=function(e){return this.currentElement.setAttribute("draggable",e?"true":"false"),this},e.prototype.tabindex=function(e){return this.currentElement.setAttribute("tabindex",e.toString()),this},e.prototype.style=function(e,t){if(n.isObject(e)){for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];this.doSetStyle(i,o)}}else{if(n.isString(e)&&!n.isString(t))return this.currentElement.style[this.cssKeyToJavaScriptProperty(e)];n.isString(e)&&n.isString(t)&&this.doSetStyle(e,t)}return this},e.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var i=e.split("-");e=i[0];for(var n=1;n<i.length;n++){var o=i[n];e=e+o.charAt(0).toUpperCase()+o.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t},e.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var i=1;i<t.length;i++){var n=t[i];e=e+n.charAt(0).toUpperCase()+n.substr(1)}}else"float"===e&&(e="cssFloat");return e},e.prototype.getComputedStyle=function(){return a.getComputedStyle(this.currentElement)},e.prototype.addClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];return t.forEach(function(t){var i=t.split(" ");i.forEach(function(t){a.addClass(e.currentElement,t)})}),this},e.prototype.setClass=function(e,t){return void 0===t&&(t=null),null===t?this.currentElement.className=e:t?this.addClass(e):this.removeClass(e),this},e.prototype.hasClass=function(e){return a.hasClass(this.currentElement,e)},e.prototype.removeClass=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];return t.forEach(function(t){var i=t.split(" ");i.forEach(function(t){a.removeClass(e.currentElement,t)})}),this},e.prototype.swapClass=function(e,t){return this.hasClass(e)?(this.removeClass(e),this.addClass(t)):(this.removeClass(t),this.addClass(e)),this},e.prototype.toggleClass=function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e),this},e.prototype.color=function(e){return this.currentElement.style.color=e,this},e.prototype.background=function(e){return this.currentElement.style.backgroundColor=e,this},e.prototype.padding=function(e,t,i,o){return n.isString(e)&&e.indexOf(" ")>=0?this.padding.apply(this,e.split(" ")):(n.isUndefinedOrNull(e)||(this.currentElement.style.paddingTop=this.toPixel(e)),n.isUndefinedOrNull(t)||(this.currentElement.style.paddingRight=this.toPixel(t)),n.isUndefinedOrNull(i)||(this.currentElement.style.paddingBottom=this.toPixel(i)),n.isUndefinedOrNull(o)||(this.currentElement.style.paddingLeft=this.toPixel(o)),this)},e.prototype.margin=function(e,t,i,o){return n.isString(e)&&e.indexOf(" ")>=0?this.margin.apply(this,e.split(" ")):(n.isUndefinedOrNull(e)||(this.currentElement.style.marginTop=this.toPixel(e)),n.isUndefinedOrNull(t)||(this.currentElement.style.marginRight=this.toPixel(t)),n.isUndefinedOrNull(i)||(this.currentElement.style.marginBottom=this.toPixel(i)),n.isUndefinedOrNull(o)||(this.currentElement.style.marginLeft=this.toPixel(o)),this)},e.prototype.position=function(e,t,i,o,r){return n.isString(e)&&e.indexOf(" ")>=0?this.position.apply(this,e.split(" ")):(n.isUndefinedOrNull(e)||(this.currentElement.style.top=this.toPixel(e)),n.isUndefinedOrNull(t)||(this.currentElement.style.right=this.toPixel(t)),n.isUndefinedOrNull(i)||(this.currentElement.style.bottom=this.toPixel(i)),n.isUndefinedOrNull(o)||(this.currentElement.style.left=this.toPixel(o)),r||(r="absolute"),this.currentElement.style.position=r,this)},e.prototype.size=function(e,t){return n.isString(e)&&e.indexOf(" ")>=0?this.size.apply(this,e.split(" ")):(n.isUndefinedOrNull(e)||(this.currentElement.style.width=this.toPixel(e)),n.isUndefinedOrNull(t)||(this.currentElement.style.height=this.toPixel(t)),this)},e.prototype.minSize=function(e,t){return n.isString(e)&&e.indexOf(" ")>=0?this.minSize.apply(this,e.split(" ")):(n.isUndefinedOrNull(e)||(this.currentElement.style.minWidth=this.toPixel(e)),n.isUndefinedOrNull(t)||(this.currentElement.style.minHeight=this.toPixel(t)),this)},e.prototype.maxSize=function(e,t){return n.isString(e)&&e.indexOf(" ")>=0?this.maxSize.apply(this,e.split(" ")):(n.isUndefinedOrNull(e)||(this.currentElement.style.maxWidth=this.toPixel(e)),n.isUndefinedOrNull(t)||(this.currentElement.style.maxHeight=this.toPixel(t)),this)},e.prototype["float"]=function(e){return this.currentElement.style.cssFloat=e,this},e.prototype.clear=function(e){return this.currentElement.style.clear=e,this},e.prototype.normal=function(){return this.currentElement.style.fontStyle="normal",this.currentElement.style.fontWeight="normal",this.currentElement.style.textDecoration="none",this},e.prototype.italic=function(){return this.currentElement.style.fontStyle="italic",this},e.prototype.bold=function(){return this.currentElement.style.fontWeight="bold",this},e.prototype.underline=function(){return this.currentElement.style.textDecoration="underline",this},e.prototype.overflow=function(e){return this.currentElement.style.overflow=e,this},e.prototype.display=function(e){return this.currentElement.style.display=e,this},e.prototype.disable=function(){return this.currentElement.setAttribute("disabled","disabled"),this},e.prototype.enable=function(){return this.currentElement.removeAttribute("disabled"),this},e.prototype.show=function(){return this.hasClass("hidden")&&this.removeClass("hidden"),this.attr("aria-hidden","false"),this.cancelVisibilityPromise(),this},e.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var n=i.TPromise.timeout(e);return this.setProperty(w,n),n.done(function(){t.removeProperty(w),t.show()}),this},e.prototype.hide=function(){return this.hasClass("hidden")||this.addClass("hidden"),this.attr("aria-hidden","true"),this.cancelVisibilityPromise(),this},e.prototype.isHidden=function(){return this.hasClass("hidden")||"none"===this.currentElement.style.display},e.prototype.toggleVisibility=function(){return this.cancelVisibilityPromise(),this.swapClass("builder-visible","hidden"),this.isHidden()?this.attr("aria-hidden","true"):this.attr("aria-hidden","false"),this},e.prototype.cancelVisibilityPromise=function(){var e=this.getProperty(w);e&&(e.cancel(),
this.removeProperty(w))},e.prototype.border=function(e,t,i){return n.isString(e)&&e.indexOf(" ")>=0?this.border.apply(this,e.split(" ")):(this.currentElement.style.borderWidth=this.toPixel(e),i&&(this.currentElement.style.borderColor=i),t&&(this.currentElement.style.borderStyle=t),this)},e.prototype.borderTop=function(e,t,i){return n.isString(e)&&e.indexOf(" ")>=0?this.borderTop.apply(this,e.split(" ")):(this.currentElement.style.borderTopWidth=this.toPixel(e),i&&(this.currentElement.style.borderTopColor=i),t&&(this.currentElement.style.borderTopStyle=t),this)},e.prototype.borderBottom=function(e,t,i){return n.isString(e)&&e.indexOf(" ")>=0?this.borderBottom.apply(this,e.split(" ")):(this.currentElement.style.borderBottomWidth=this.toPixel(e),i&&(this.currentElement.style.borderBottomColor=i),t&&(this.currentElement.style.borderBottomStyle=t),this)},e.prototype.borderLeft=function(e,t,i){return n.isString(e)&&e.indexOf(" ")>=0?this.borderLeft.apply(this,e.split(" ")):(this.currentElement.style.borderLeftWidth=this.toPixel(e),i&&(this.currentElement.style.borderLeftColor=i),t&&(this.currentElement.style.borderLeftStyle=t),this)},e.prototype.borderRight=function(e,t,i){return n.isString(e)&&e.indexOf(" ")>=0?this.borderRight.apply(this,e.split(" ")):(this.currentElement.style.borderRightWidth=this.toPixel(e),i&&(this.currentElement.style.borderRightColor=i),t&&(this.currentElement.style.borderRightStyle=t),this)},e.prototype.textAlign=function(e){return this.currentElement.style.textAlign=e,this},e.prototype.verticalAlign=function(e){return this.currentElement.style.verticalAlign=e,this},e.prototype.toPixel=function(e){return e.toString().indexOf("px")===-1?e.toString()+"px":e},e.prototype.innerHtml=function(e,t){return t?this.currentElement.innerHTML+=e:this.currentElement.innerHTML=e,this},e.prototype.text=function(e,t){return t?0===this.currentElement.children.length?this.currentElement.textContent+=e:this.currentElement.appendChild(document.createTextNode(e)):this.currentElement.textContent=e,this},e.prototype.safeInnerHtml=function(e,t){return this.innerHtml(r.escape(e),t)},e.prototype.bind=function(e){return y(this.currentElement,e),this},e.prototype.unbind=function(){return E(this.currentElement),this},e.prototype.getBinding=function(){return S(this.currentElement)},e.prototype.setProperty=function(e,t){return g(this.currentElement,e,t),this},e.prototype.getProperty=function(e,t){return m(this.currentElement,e,t)},e.prototype.removeProperty=function(e){return l(this.currentElement)&&delete u(this.currentElement)[e],this},e.prototype.parent=function(e){return s.ok(!this.offdom,"Builder was created with offdom = true and thus has no parent set"),p(this.currentElement.parentNode,e)},e.prototype.children=function(e){for(var t=this.currentElement.children,i=[],n=0;n<t.length;n++)i.push(p(t.item(n),e));return new D(i)},e.prototype.removeChild=function(e){return this.currentElement===e.parent().getHTMLElement()&&this.currentElement.removeChild(e.getHTMLElement()),this},e.prototype.select=function(e,t){s.ok(n.isString(e),"Expected String as parameter");for(var i=this.currentElement.querySelectorAll(e),o=[],r=0;r<i.length;r++)o.push(p(i.item(r),t));return new D(o)},e.prototype.matches=function(e){var t=this.currentElement,i=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return i&&i.call(t,e)},e.prototype.isEmpty=function(){return!this.currentElement.childNodes||0===this.currentElement.childNodes.length},e.prototype.unbindDescendants=function(e){if(e&&e.children)for(var t=0,i=e.children.length;t<i;t++){var o=e.children.item(t);if(l(o)){var r=u(o)[C];if(n.isArray(r))for(;r.length;)r.pop().dispose();delete o[b]}this.unbindDescendants(o)}},e.prototype.empty=function(){return this.unbindDescendants(this.currentElement),this.clearChildren(),this.offdom&&(this.createdElements=[]),this},e.prototype.clearChildren=function(){return this.currentElement&&a.clearNode(this.currentElement),this},e.prototype.destroy=function(){if(this.currentElement&&(this.currentElement.parentNode&&this.currentElement.parentNode.removeChild(this.currentElement),this.empty(),l(this.currentElement))){var e=u(this.currentElement)[C];if(n.isArray(e))for(;e.length;)e.pop().dispose();delete this.currentElement[b]}var t;for(t in this.toUnbind)this.toUnbind.hasOwnProperty(t)&&n.isArray(this.toUnbind[t])&&(this.toUnbind[t]=o.dispose(this.toUnbind[t]));for(t in this.captureToUnbind)this.captureToUnbind.hasOwnProperty(t)&&n.isArray(this.captureToUnbind[t])&&(this.captureToUnbind[t]=o.dispose(this.captureToUnbind[t]));this.currentElement=null,this.container=null,this.offdom=null,this.createdElements=null,this.captureToUnbind=null,this.toUnbind=null},e.prototype.dispose=function(){this.destroy()},e.prototype.getTotalSize=function(){var e=a.getTotalWidth(this.currentElement),t=a.getTotalHeight(this.currentElement);return new A(e,t)},e.prototype.getContentSize=function(){var e=a.getContentWidth(this.currentElement),t=a.getContentHeight(this.currentElement);return new A(e,t)},e.prototype.getClientArea=function(){if(this.currentElement!==document.body)return new A(this.currentElement.clientWidth,this.currentElement.clientHeight);if(window.innerWidth&&window.innerHeight)return new A(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientWidth)return new A(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new A(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")},e}();t.Builder=L;var D=function(e){function t(i){if(s.ok(n.isArray(i)||i instanceof t,"Expected Array or MultiBuilder as parameter"),e.call(this),this.length=0,this.builders=[],n.isArray(i))for(var o=0;o<i.length;o++)i[o]instanceof HTMLElement?this.push(p(i[o])):this.push(i[o]);else for(var o=0;o<i.length;o++)this.push(i.item(o));var r=this,a=function(e){r[e]=function(){for(var i,o=Array.prototype.slice.call(arguments),s=!1,a=0;a<r.length;a++){var c=r.item(a)[e].apply(r.item(a),o);if(c instanceof t){i||(i=[]),s=!0;for(var u=0;u<c.length;u++)i.push(c.item(u))}else n.isUndefined(c)||c instanceof L||(i||(i=[]),i.push(c))}return i&&s?new t(i):i||r}};for(var c in L.prototype)"clone"!==c&&"and"!==c&&L.prototype.hasOwnProperty(c)&&n.isFunction(L.prototype[c])&&a(c)}return h(t,e),t.prototype.item=function(e){return this.builders[e]},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var i=0;i<e.length;i++)this.builders.push(e[i]);this.length=this.builders.length},t.prototype.pop=function(){var e=this.builders.pop();return this.length=this.builders.length,e},t.prototype.concat=function(e){var t=this.builders.concat(e);return this.length=this.builders.length,t},t.prototype.shift=function(){var e=this.builders.shift();return this.length=this.builders.length,e},t.prototype.unshift=function(e){var t=this.builders.unshift(e);return this.length=this.builders.length,t},t.prototype.slice=function(e,t){var i=this.builders.slice(e,t);return this.length=this.builders.length,i},t.prototype.splice=function(e,t){var i=this.builders.splice(e,t);return this.length=this.builders.length,i},t.prototype.clone=function(){return new t(this)},t.prototype.and=function(e){e instanceof L||e instanceof t||(e=new L(e));var i=[];if(e instanceof t)for(var n=0;n<e.length;n++)i.push(e.item(n));else i.push(e);return this.push.apply(this,i),this},t}(L);t.MultiBuilder=D,t.setPropertyOnElement=g,t.getPropertyFromElement=m,t.removePropertyFromElement=v,t.bindElement=y,t.unbindElement=E,t.getBindingFromElement=S,t.Binding={setPropertyOnElement:g,getPropertyFromElement:m,removePropertyFromElement:v,bindElement:y,unbindElement:E,getBindingFromElement:S};var k=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(n.isUndefined(e))return f();if(!e)throw new Error("Bad use of $");if(a.isHTMLElement(e)||e===window)return p(e);if(n.isArray(e))return new D(e);if(e instanceof L)return d(e);if(n.isString(e)){if("<"===e[0]){var t=void 0,i=document.createElement("div");if(i.innerHTML=r.format.apply(r,arguments),0===i.children.length)throw new Error("Bad use of $");if(1===i.children.length)return t=i.firstChild,i.removeChild(t),p(t);for(var o=[];i.firstChild;)t=i.firstChild,i.removeChild(t),o.push(p(t));return new D(o)}if(1===arguments.length){var s=k.exec(e);if(!s)throw new Error("Bad use of $");var c=s[1]||"div",u=s[3]||void 0,l=(s[4]||"").replace(/\./g," "),h={};return u&&(h.id=u),l&&(h["class"]=l),f().element(c,h)}var g=f();return g.element.apply(g,arguments),g}throw new Error("Bad use of $")},t.$.Box=T,t.$.Dimension=A,t.$.Position=I,t.$.Builder=L,t.$.MultiBuilder=D,t.$.Build=t.Build,t.$.Binding=t.Binding}),define(l[183],d([1,0,31,19]),function(e,t,i,n){"use strict";function o(e){var t=[];if(e.dataTransfer.types.length>0){var i=e.dataTransfer.getData(e.dataTransfer.types[0]);if(i)try{t.push(n["default"].parse(i))}catch(o){}if(e.dataTransfer&&e.dataTransfer.files)for(var r=0;r<e.dataTransfer.files.length;r++)if(e.dataTransfer.files[r]&&e.dataTransfer.files[r].path)try{t.push(n["default"].file(e.dataTransfer.files[r].path))}catch(o){}}return t}var r=function(){function e(e,t){var n=this;i.$(e).on("dragover",function(){n.timeout||(n.timeout=setTimeout(function(){t(),n.timeout=null},800))}),i.$(e).on(["dragleave","drop","dragend"],function(){return n.clearDragTimeout()})}return e.prototype.clearDragTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e.prototype.dispose=function(){this.clearDragTimeout()},e}();t.DelayedDragHandler=r,t.extractResources=o}),define(l[220],d([1,0,5,10,244,77]),function(e,t,i,n,o,r){"use strict";function s(e,t){var i=new r.StandardMouseEvent(t);return i.preventDefault(),{leftButton:i.leftButton,posx:i.posx,posy:i.posy}}t.standardMouseMoveMerger=s;var a=function(e){function t(){e.call(this),this.hooks=[],this.mouseMoveEventMerger=null,this.mouseMoveCallback=null,this.onStopCallback=null}return h(t,e),t.prototype.dispose=function(){this.stopMonitoring(!1),e.prototype.dispose.call(this)},t.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this.hooks=i.dispose(this.hooks),this.mouseMoveEventMerger=null,this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null,e&&t()}},t.prototype.isMonitoring=function(){return this.hooks.length>0},t.prototype.startMonitoring=function(e,t,i){var s=this;if(!this.isMonitoring()){this.mouseMoveEventMerger=e,this.mouseMoveCallback=t,this.onStopCallback=i;for(var a=o.IframeUtils.getSameOriginWindowChain(),c=0;c<a.length;c++)this.hooks.push(n.addDisposableThrottledListener(a[c].window.document,"mousemove",function(e){return s.mouseMoveCallback(e)},function(e,t){return s.mouseMoveEventMerger(e,t)})),this.hooks.push(n.addDisposableListener(a[c].window.document,"mouseup",function(e){return s.stopMonitoring(!0)}));if(o.IframeUtils.hasDifferentOriginAncestor()){var u=a[a.length-1];this.hooks.push(n.addDisposableListener(u.window.document,"mouseout",function(e){var t=new r.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(n.addDisposableListener(u.window.document,"mouseover",function(e){var t=new r.StandardMouseEvent(e);"html"===t.target.tagName.toLowerCase()&&s.stopMonitoring(!0)})),this.hooks.push(n.addDisposableListener(u.window.document.body,"mouseleave",function(e){s.stopMonitoring(!0)}))}}},t}(i.Disposable);t.GlobalMouseMoveMonitor=a}),define(l[134],d([1,0,10,114,9,2,311]),function(e,t,i,n,o,r,s){"use strict";function a(e,t){void 0===t&&(t={});var i=e.map(function(e){return"string"==typeof e?{markdown:e}:"object"==typeof e?{code:e}:void 0});return c(i,t)}function c(e,t){return void 0===t&&(t={}),"string"==typeof e?u({isText:!0,text:e},t):Array.isArray(e)?u({children:e},t):e?u(e,t):void 0}function u(e,t){void 0===t&&(t={});var a=t.codeBlockRenderer,u=t.actionCallback;if(e.isText)return document.createTextNode(e.text);var p=l(e.tagName)||"div",f=document.createElement(p);if(e.className&&(f.className=e.className),e.text&&(f.textContent=e.text),e.style&&f.setAttribute("style",e.style),e.customStyle&&Object.keys(e.customStyle).forEach(function(t){f.style[t]=e.customStyle[t]}),e.children&&e.children.forEach(function(e){f.appendChild(c(e,t))}),e.formattedText&&d(f,h(e.formattedText),u),e.code&&a){var g=e.code,m=g.language,v=g.value;e.markdown="```"+m+"\n"+v+"\n```"}if(e.markdown){var y,E=new r.TPromise(function(e){return y=e}),S=new s.marked.Renderer;S.link=function(e,t,i){return'<a href="#" data-href="'+e+'" title="'+(t||i)+'">'+i+"</a>"},S.paragraph=function(e){return"<div>"+e+"</div>"},t.codeBlockRenderer&&(S.code=function(e,i){var s=t.codeBlockRenderer(i,e);if("string"==typeof s)return s;if(r.TPromise.is(s)){var a=n.defaultGenerator.nextId();return r.TPromise.join([s,E]).done(function(e){var t=e[0],i=f.querySelector('span[data-code="'+a+'"]');i&&(i.innerHTML=t)},function(e){}),'<span data-code="'+a+'">'+o.escape(e)+"</span>"}return e}),t.actionCallback&&i.addStandardDisposableListener(f,"click",function(e){if("A"===e.target.tagName){var i=e.target.dataset.href;i&&t.actionCallback(i,e)}}),f.innerHTML=s.marked(e.markdown,{sanitize:!0,renderer:S}),y()}return f}function l(e){return e&&m.hasOwnProperty(e)?e:null}function d(e,t,n){var o;if(t.type===g.Text)o=document.createTextNode(t.content);else if(t.type===g.Bold)o=document.createElement("b");else if(t.type===g.Italics)o=document.createElement("i");else if(t.type===g.Action){var r=document.createElement("a");r.href="#",i.addStandardDisposableListener(r,"click",function(e){n(String(t.index),e)}),o=r}else t.type===g.NewLine?o=document.createElement("br"):t.type===g.Root&&(o=e);e!==o&&e.appendChild(o),Array.isArray(t.children)&&t.children.forEach(function(e){d(o,e,n)})}function h(e){for(var t={type:g.Root,children:[]},i=0,n=t,o=[],r=new v(e);!r.eos();){var s=r.next(),a="\\"===s&&f(r.peek())!==g.Invalid;if(a&&(s=r.next()),!a&&p(s)&&s===r.peek()){r.advance(),n.type===g.Text&&(n=o.pop());var c=f(s);if(n.type===c||n.type===g.Action&&c===g.ActionClose)n=o.pop();else{var u={type:c,children:[]};c===g.Action&&(u.index=i,i++),n.children.push(u),o.push(n),n=u}}else if("\n"===s)n.type===g.Text&&(n=o.pop()),n.children.push({type:g.NewLine});else if(n.type!==g.Text){var l={type:g.Text,content:s};n.children.push(l),o.push(n),n=l}else n.content+=s}return n.type===g.Text&&(n=o.pop()),o.length,t}function p(e){return f(e)!==g.Invalid}function f(e){switch(e){case"*":return g.Bold;case"_":return g.Italics;case"[":return g.Action;case"]":return g.ActionClose;default:return g.Invalid}}t.renderMarkedString=a,t.renderHtml=c;var g,m={a:!0,b:!0,blockquote:!0,code:!0,del:!0,dd:!0,div:!0,dl:!0,dt:!0,em:!0,h1h2h3i:!0,img:!0,kbd:!0,li:!0,ol:!0,p:!0,pre:!0,s:!0,span:!0,sup:!0,sub:!0,strong:!0,strike:!0,ul:!0,br:!0,hr:!0},v=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();!function(e){e[e.Invalid=0]="Invalid",e[e.Root=1]="Root",e[e.Text=2]="Text",e[e.Bold=3]="Bold",e[e.Italics=4]="Italics",e[e.Action=5]="Action",e[e.ActionClose=6]="ActionClose",e[e.NewLine=7]="NewLine"}(g||(g={}))}),define(l[60],d([1,0,10]),function(e,t,i){"use strict";function n(e){return u?new a(e):new c(e)}function o(e,t){return e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.webkitTransform=t,!0)}function r(e,t){return e.getAttribute("data-transform")!==t&&(e.setAttribute("data-transform",t),e.style.transform=t,!0)}var s=function(){function e(e){this._domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontSize=-1,this._lineHeight=-1,this._className="",this._display="",this._position="",this._visibility="",this._transform="",this._lineNumber=""}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this._domNode.style.maxWidth=this._maxWidth+"px")},e.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this._domNode.style.width=this._width+"px")},e.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this._domNode.style.height=this._height+"px")},e.prototype.setTop=function(e){this._top!==e&&(this._top=e,this._domNode.style.top=this._top+"px")},e.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this._domNode.style.left=this._left+"px")},e.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this._domNode.style.bottom=this._bottom+"px")},e.prototype.setRight=function(e){this._right!==e&&(this._right=e,this._domNode.style.right=this._right+"px")},e.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this._domNode.style.fontFamily=this._fontFamily)},e.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this._domNode.style.fontSize=this._fontSize+"px")},e.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this._domNode.style.lineHeight=this._lineHeight+"px")},e.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this._domNode.className=this._className)},e.prototype.toggleClassName=function(e,t){i.toggleClass(this._domNode,e,t),this._className=this._domNode.className},e.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this._domNode.style.display=this._display)},e.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this._domNode.style.position=this._position)},e.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this._domNode.style.visibility=this._visibility)},e.prototype.setTransform=function(e){this._transform!==e&&(this._transform=e,this._setTransform(this._domNode,this._transform))},e.prototype.setLineNumber=function(e){this._lineNumber!==e&&(this._lineNumber=e,this._domNode.setAttribute("lineNumber",this._lineNumber))},e}();t.FastDomNode=s;var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._setTransform=function(e,t){e.style.webkitTransform=t},t}(s),c=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._setTransform=function(e,t){e.style.transform=t},t}(s),u=!1;!function(){var e=document.createElement("div");"undefined"!=typeof e.style.webkitTransform&&(u=!0)}(),t.createFastDomNode=n,t.StyleMutator={setMaxWidth:function(e,t){var i=t+"px";e.style.maxWidth!==i&&(e.style.maxWidth=i)},setWidth:function(e,t){var i=t+"px";e.style.width!==i&&(e.style.width=i)},setHeight:function(e,t){var i=t+"px";e.style.height!==i&&(e.style.height=i)},setTop:function(e,t){var i=t+"px";return e.style.top!==i&&(e.style.top=i,!0)},setLeft:function(e,t){var i=t+"px";return e.style.left!==i&&(e.style.left=i,!0)},setBottom:function(e,t){var i=t+"px";e.style.bottom!==i&&(e.style.bottom=i)},setRight:function(e,t){var i=t+"px";e.style.right!==i&&(e.style.right=i)},setFontSize:function(e,t){var i=t+"px";e.style.fontSize!==i&&(e.style.fontSize=i)},setLineHeight:function(e,t){var i=t+"px";e.style.lineHeight!==i&&(e.style.lineHeight=i)},setTransform:null,setDisplay:function(e,t){e.style.display!==t&&(e.style.display=t)},setVisibility:function(e,t){e.style.visibility!==t&&(e.style.visibility=t)}},function(){var e=document.createElement("div");"undefined"!=typeof e.style.webkitTransform?t.StyleMutator.setTransform=o:t.StyleMutator.setTransform=r}()}),define(l[136],d([1,0,41,5,10]),function(e,t,i,n,o){"use strict";var r;!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(r=t.EventType||(t.EventType={}));var s=function(){function e(e){this.callOnTarget=[],this.activeTouches={},this.target=e,this.handle=null}return e.prototype.dispose=function(){this.target=null,this.handle&&(this.handle.dispose(),this.handle=null)},Object.defineProperty(e.prototype,"target",{set:function(e){var t=this;this.callOnTarget=n.dispose(this.callOnTarget),this.activeTouches={},this.targetElement=e,this.targetElement&&(this.callOnTarget.push(o.addDisposableListener(this.targetElement,"touchstart",function(e){return t.onTouchStart(e)})),this.callOnTarget.push(o.addDisposableListener(this.targetElement,"touchend",function(e){return t.onTouchEnd(e)})),this.callOnTarget.push(o.addDisposableListener(this.targetElement,"touchmove",function(e){return t.onTouchMove(e)})))},enumerable:!0,configurable:!0}),e.newGestureEvent=function(e){var t=document.createEvent("CustomEvent");return t.initEvent(e,!1,!0),t},e.prototype.onTouchStart=function(t){var i=Date.now();t.preventDefault(),t.stopPropagation(),this.handle&&(this.handle.dispose(),this.handle=null);for(var n=0,o=t.targetTouches.length;n<o;n++){var s=t.targetTouches.item(n);this.activeTouches[s.identifier]={id:s.identifier,initialTarget:s.target,initialTimeStamp:i,initialPageX:s.pageX,initialPageY:s.pageY,rollingTimestamps:[i],rollingPageX:[s.pageX],rollingPageY:[s.pageY]};var a=e.newGestureEvent(r.Start);a.pageX=s.pageX,a.pageY=s.pageY,this.targetElement.dispatchEvent(a)}},e.prototype.onTouchEnd=function(t){var n=Date.now();t.preventDefault(),t.stopPropagation();for(var o=Object.keys(this.activeTouches).length,s=0,a=t.changedTouches.length;s<a;s++){var c=t.changedTouches.item(s);if(this.activeTouches.hasOwnProperty(String(c.identifier))){var u=this.activeTouches[c.identifier],l=Date.now()-u.initialTimeStamp;if(l<e.HOLD_DELAY&&Math.abs(u.initialPageX-i.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-i.tail(u.rollingPageY))<30){var d=e.newGestureEvent(r.Tap);d.initialTarget=u.initialTarget,d.pageX=i.tail(u.rollingPageX),d.pageY=i.tail(u.rollingPageY),this.targetElement.dispatchEvent(d)}else if(l>=e.HOLD_DELAY&&Math.abs(u.initialPageX-i.tail(u.rollingPageX))<30&&Math.abs(u.initialPageY-i.tail(u.rollingPageY))<30){var d=e.newGestureEvent(r.Contextmenu);d.initialTarget=u.initialTarget,d.pageX=i.tail(u.rollingPageX),d.pageY=i.tail(u.rollingPageY),this.targetElement.dispatchEvent(d)}else if(1===o){var h=i.tail(u.rollingPageX),p=i.tail(u.rollingPageY),f=i.tail(u.rollingTimestamps)-u.rollingTimestamps[0],g=h-u.rollingPageX[0],m=p-u.rollingPageY[0];this.inertia(n,Math.abs(g)/f,g>0?1:-1,h,Math.abs(m)/f,m>0?1:-1,p)}delete this.activeTouches[c.identifier]}else console.warn("move of an UNKNOWN touch",c)}},e.prototype.inertia=function(t,i,n,s,a,c,u){var l=this;this.handle=o.scheduleAtNextAnimationFrame(function(){var o=Date.now(),d=o-t,h=0,p=0,f=!0;i+=e.SCROLL_FRICTION*d,a+=e.SCROLL_FRICTION*d,i>0&&(f=!1,h=n*i*d),a>0&&(f=!1,p=c*a*d);var g=e.newGestureEvent(r.Change);g.translationX=h,g.translationY=p,l.targetElement.dispatchEvent(g),f||l.inertia(o,i,n,s+h,a,c,u+p)})},e.prototype.onTouchMove=function(t){var n=Date.now();t.preventDefault(),t.stopPropagation();for(var o=0,s=t.changedTouches.length;o<s;o++){var a=t.changedTouches.item(o);if(this.activeTouches.hasOwnProperty(String(a.identifier))){var c=this.activeTouches[a.identifier],u=e.newGestureEvent(r.Change);u.translationX=a.pageX-i.tail(c.rollingPageX),u.translationY=a.pageY-i.tail(c.rollingPageY),u.pageX=a.pageX,u.pageY=a.pageY,this.targetElement.dispatchEvent(u),c.rollingPageX.length>3&&(c.rollingPageX.shift(),c.rollingPageY.shift(),c.rollingTimestamps.shift()),c.rollingPageX.push(a.pageX),c.rollingPageY.push(a.pageY),c.rollingTimestamps.push(n)}else console.warn("end of an UNKNOWN touch",a)}},e.HOLD_DELAY=700,e.SCROLL_FRICTION=-.005,e}();t.Gesture=s}),define(l[49],d([1,0,393,5,31,12,27,10,66,17,36,136,83,13,956]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g=function(e){function t(t,i){var n=this;if(e.call(this),this._callOnDispose=[],this._context=t||this,this._action=i,i instanceof s.Action){var o=i.addBulkListener2(function(e){n.builder&&e.forEach(function(e){switch(e.getType()){case s.Action.ENABLED:n._updateEnabled();break;case s.Action.LABEL:n._updateLabel(),n._updateTooltip();break;case s.Action.TOOLTIP:n._updateTooltip();break;case s.Action.CLASS:n._updateClass();break;case s.Action.CHECKED:n._updateChecked();break;default:n._updateUnknown(e)}})});this._callOnDispose.push(o)}}return h(t,e),Object.defineProperty(t.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this;this.builder=o.$(e),this.gesture=new d.Gesture(e),this.builder.on(a.EventType.CLICK,function(e){return t.onClick(e)}),this.builder.on(d.EventType.Tap,function(e){return t.onClick(e)}),r.isMacintosh&&this.builder.on(a.EventType.CONTEXT_MENU,function(e){return t.onClick(e)}),this.builder.on(a.EventType.MOUSE_DOWN,function(e){a.EventHelper.stop(e),0===e.button&&t._action.enabled&&t.builder.addClass("active")}),this.builder.on([a.EventType.MOUSE_UP,a.EventType.MOUSE_OUT],function(e){a.EventHelper.stop(e),0===e.button&&t._action.enabled&&t.builder.removeClass("active")})},t.prototype.onClick=function(e){a.EventHelper.stop(e,!0);var t;u.isUndefinedOrNull(this._context)?t=e:(t=this._context,t.event=e),this._actionRunner.run(this._action,t)},t.prototype.focus=function(){this.builder&&this.builder.domFocus()},t.prototype.blur=function(){this.builder&&this.builder.domBlur()},t.prototype._updateEnabled=function(){},t.prototype._updateLabel=function(){},t.prototype._updateTooltip=function(){},t.prototype._updateClass=function(){},t.prototype._updateChecked=function(){},t.prototype._updateUnknown=function(e){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.builder&&(this.builder.destroy(),this.builder=null),this.gesture&&(this.gesture.dispose(),this.gesture=null),this._callOnDispose=n.dispose(this._callOnDispose)},t}(l.EventEmitter);t.BaseActionItem=g;var m=function(e){function t(i,n){e.call(this,t.ID,i,i?"separator text":"separator"),this.checked=!1,this.enabled=!1,this.order=n}return h(t,e),t.ID="vs.actions.separator",t}(s.Action);t.Separator=m;var v=function(e){function t(t,i,n){void 0===n&&(n={}),e.call(this,t,i),this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass=""}return h(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.$e=o.$("a.action-label").appendTo(this.builder),this.$e.attr({role:"button"}),this.options.label&&this.options.keybinding&&o.$("span.keybinding").text(this.options.keybinding).appendTo(this.builder),this._updateClass(),this._updateLabel(),this._updateTooltip(),this._updateEnabled(),this._updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.$e.domFocus()},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this.getAction().label)},t.prototype._updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=i.localize(0,null,e,this.options.keybinding))),e&&this.$e.attr({title:e})},t.prototype._updateClass=function(){this.cssClass&&this.$e.removeClass(this.cssClass),this.options.icon?(this.cssClass=this.getAction()["class"],this.$e.addClass("icon"),this.cssClass&&this.$e.addClass(this.cssClass),this._updateEnabled()):this.$e.removeClass("icon")},t.prototype._updateEnabled=function(){this.getAction().enabled?(this.builder.removeClass("disabled"),this.$e.removeClass("disabled"),this.$e.attr({tabindex:0})):(this.builder.addClass("disabled"),this.$e.addClass("disabled"),a.removeTabIndexAndUpdateFocus(this.$e.getHTMLElement()))},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("checked"):this.$e.removeClass("checked")},t}(g);t.ActionItem=v;var y=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.render=function(t){var i=document.createElement("div");o.$(i).addClass("progress-item");var n=document.createElement("div");o.$(n).addClass("label"),n.textContent=this.getAction().label,n.title=this.getAction().label,e.prototype.render.call(this,n);var r=document.createElement("div");r.textContent="…",o.$(r).addClass("tag","progress");var s=document.createElement("div");s.textContent="✓",o.$(s).addClass("tag","done");var a=document.createElement("div");a.textContent="!",o.$(a).addClass("tag","error"),this.callOnDispose.push(this.addListener2(c.EventType.BEFORE_RUN,function(){o.$(r).addClass("active"),o.$(s).removeClass("active"),o.$(a).removeClass("active")})),this.callOnDispose.push(this.addListener2(c.EventType.RUN,function(e){o.$(r).removeClass("active"),e.error?(o.$(s).removeClass("active"),o.$(a).addClass("active")):(o.$(a).removeClass("active"),o.$(s).addClass("active"))})),i.appendChild(n),i.appendChild(r),i.appendChild(s),i.appendChild(a),t.appendChild(i)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(g);t.ProgressItem=y,function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(t.ActionsOrientation||(t.ActionsOrientation={}));var E=t.ActionsOrientation,S={orientation:E.HORIZONTAL,context:null},b=function(e){function t(t,i){var n=this;void 0===i&&(i=S),e.call(this),this.options=i,this._context=i.context,this.toDispose=[],this._actionRunner=this.options.actionRunner,this._actionRunner||(this._actionRunner=new s.ActionRunner,this.toDispose.push(this._actionRunner)),this.toDispose.push(this.addEmitter2(this._actionRunner)),this.items=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",i.animated!==!1&&a.addClass(this.domNode,"animated");var r=this.options.orientation===E.VERTICAL;r&&(this.domNode.className+=" vertical"),o.$(this.domNode).on(a.EventType.KEY_DOWN,function(e){var t=new p.StandardKeyboardEvent(e),i=!0;t.equals(r?f.CommonKeybindings.UP_ARROW:f.CommonKeybindings.LEFT_ARROW)?n.focusPrevious():t.equals(r?f.CommonKeybindings.DOWN_ARROW:f.CommonKeybindings.RIGHT_ARROW)?n.focusNext():t.equals(f.CommonKeybindings.ESCAPE)?n.cancel():t.equals(f.CommonKeybindings.ENTER)||t.equals(f.CommonKeybindings.SPACE)||(i=!1),i&&(t.preventDefault(),t.stopPropagation())}),o.$(this.domNode).on(a.EventType.CONTEXT_MENU,function(e){e.preventDefault(),e.stopPropagation()}),o.$(this.domNode).on(a.EventType.KEY_UP,function(e){var t=new p.StandardKeyboardEvent(e);t.equals(f.CommonKeybindings.ENTER)||t.equals(f.CommonKeybindings.SPACE)?(n.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(f.CommonKeybindings.TAB)||t.equals(f.CommonKeybindings.SHIFT_TAB))&&n.updateFocusedItem()}),this.focusTracker=a.trackFocus(this.domNode),this.focusTracker.addBlurListener(function(){document.activeElement!==n.domNode&&a.isAncestor(document.activeElement,n.domNode)||(n.emit(a.EventType.BLUR,{}),n.focusedItem=void 0)}),this.focusTracker.addFocusListener(function(){return n.updateFocusedItem()}),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),t=t instanceof o.Builder?t.getHTMLElement():t,t.appendChild(this.domNode)}return h(t,e),t.prototype.setAriaLabel=function(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")},t.prototype.updateFocusedItem=function(){for(var e=0;e<this.actionsList.children.length;e++){
var t=this.actionsList.children[e];if(a.isAncestor(document.activeElement,t)){this.focusedItem=e;break}}},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.items.forEach(function(t){return t.setActionContext(e)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){e&&(this._actionRunner=e,this.items.forEach(function(t){return t.actionRunner=e}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return o.$(this.domNode)},t.prototype.push=function(e,t){var i=this;void 0===t&&(t={}),Array.isArray(e)||(e=[e]);var n=u.isNumber(t.index)?t.index:null;e.forEach(function(e){var o=document.createElement("li");o.className="action-item",o.setAttribute("role","presentation");var r=null;i.options.actionItemProvider&&(r=i.options.actionItemProvider(e)),r||(r=new v(i.context,e,t)),r.actionRunner=i._actionRunner,r.setActionContext(i.context),i.addEmitter2(r),r.render(o),null===n||n<0||n>=i.actionsList.children.length?i.actionsList.appendChild(o):i.actionsList.insertBefore(o,i.actionsList.children[n++]),i.items.push(r)})},t.prototype.clear=function(){for(var e;e=this.items.pop();)e.dispose();o.$(this.actionsList).empty()},t.prototype.length=function(){return this.items.length},t.prototype.isEmpty=function(){return 0===this.items.length},t.prototype.onContentsChange=function(){this.emit(c.EventType.CONTENTS_CHANGED)},t.prototype.focus=function(e){e&&"undefined"==typeof this.focusedItem&&(this.focusedItem=0),this.updateFocus()},t.prototype.focusNext=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=this.items.length-1);var e,t=this.focusedItem;do this.focusedItem=(this.focusedItem+1)%this.items.length,e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){"undefined"==typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.items.length-1),e=this.items[this.focusedItem];while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.updateFocus=function(){if("undefined"==typeof this.focusedItem)return void this.domNode.focus();for(var e=0;e<this.items.length;e++){var t=this.items[e],i=t;e===this.focusedItem?u.isFunction(i.focus)&&i.focus():u.isFunction(i.blur)&&i.blur()}},t.prototype.doTrigger=function(e){if("undefined"!=typeof this.focusedItem){var t=this.items[this.focusedItem],i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i).done()}},t.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this.emit(c.EventType.CANCEL)},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){null!==this.items&&this.clear(),this.items=null,this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),this.toDispose=n.dispose(this.toDispose),this.getContainer().destroy(),e.prototype.dispose.call(this)},t}(l.EventEmitter);t.ActionBar=b;var _=function(e){function t(t,i,n,o){e.call(this,t,i),this.select=document.createElement("select"),this.select.className="action-bar-select "+(r.isWindows?"windows":""),this.options=n,this.selected=o,this.toDispose=[],this.registerListeners()}return h(t,e),t.prototype.setOptions=function(e,t){this.options=e,this.selected=t,this.doSetOptions()},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(a.addStandardDisposableListener(this.select,"change",function(t){e.actionRunner.run(e._action,e.getActionContext(t.target.value)).done()}))},t.prototype.getActionContext=function(e){return e},t.prototype.focus=function(){this.select&&this.select.focus()},t.prototype.blur=function(){this.select&&this.select.blur()},t.prototype.render=function(e){a.addClass(e,"select-container"),e.appendChild(this.select),this.doSetOptions()},t.prototype.doSetOptions=function(){var e=this;this.select.options.length=0,this.options.forEach(function(t){e.select.add(e.createOption(t))}),this.selected>=0&&(this.select.selectedIndex=this.selected)},t.prototype.createOption=function(e){var t=document.createElement("option");return t.value=e,t.text=e,t},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(g);t.SelectActionItem=_}),define(l[120],d([1,0,388,12,31,952]),function(e,t,i,n,o){"use strict";function r(e){u=o.$(".aria-container").appendTo(e),l=o.$(".alert").appendTo(u).attr({role:"alert","aria-atomic":"true"}),d=o.$(".status").appendTo(u).attr({role:"status","aria-atomic":"true"})}function s(e){c(l,e)}function a(e){n.isMacintosh?s(e):c(d,e)}function c(e,t){u&&(e.getHTMLElement().textContent===t&&(t=i.localize(0,null,t)),o.$(e).empty(),o.$(e).text(t))}var u,l,d;t.setARIAContainer=r,t.alert=s,t.status=a}),define(l[300],d([1,0,36,10,31,83,13,950]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t){var i=this;e.call(this),this.$el=o.$("a.monaco-button").attr({tabIndex:"0",role:"button"}).appendTo(t),this.$el.on(n.EventType.CLICK,function(e){return i.enabled?void i.emit(n.EventType.CLICK,e):void n.EventHelper.stop(e)}),this.$el.on(n.EventType.KEY_DOWN,function(e){var t=new r.StandardKeyboardEvent(e),o=!1;i.enabled&&t.equals(s.CommonKeybindings.ENTER)||t.equals(s.CommonKeybindings.SPACE)?(i.emit(n.EventType.CLICK,e),o=!0):t.equals(s.CommonKeybindings.ESCAPE)&&(i.$el.domBlur(),o=!0),o&&n.EventHelper.stop(t,!0)})}return h(t,e),t.prototype.getElement=function(){return this.$el.getHTMLElement()},Object.defineProperty(t.prototype,"label",{set:function(e){this.$el.hasClass("monaco-text-button")||this.$el.addClass("monaco-text-button"),this.$el.text(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{set:function(e){this.$el.addClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return!this.$el.hasClass("disabled")},set:function(e){e?(this.$el.removeClass("disabled"),this.$el.attr({"aria-disabled":"false",tabIndex:"0"})):(this.$el.addClass("disabled"),this.$el.attr("aria-disabled",String(!0)),n.removeTabIndexAndUpdateFocus(this.$el.getHTMLElement()))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.$el&&(this.$el.dispose(),this.$el=null),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.Button=a}),define(l[298],d([1,0,31,10,5,36,945]),function(e,t,i,n,o,r){"use strict";function s(e,t,i,n,o){var r=function(e,t,i,n){return t?e:n?i:e},s=function(e,t,i,n,o){return o?r(e,t,i,n):r(i,n,e,t)},u=function(){var o=t.top-e.height,r=t.top+t.height,a=o>=i.top&&o+e.height<=i.top+i.height,u=r>=i.top&&r+e.height<=i.top+i.height;return s(o,a,r,u,n===c.ABOVE)}(),l=function(){var n=t.left,r=t.left+t.width-e.width,c=n>=i.left&&n+e.width<=i.left+i.width,u=r>=i.left&&r+e.width<=i.left+i.width;return s(n,c,r,u,o===a.LEFT)}();return{top:u,left:l}}!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.AnchorAlignment||(t.AnchorAlignment={}));var a=t.AnchorAlignment;!function(e){e[e.BELOW=0]="BELOW",e[e.ABOVE=1]="ABOVE"}(t.AnchorPosition||(t.AnchorPosition={}));var c=t.AnchorPosition,u=function(e){function t(t){var n=this;e.call(this),this.$view=i.$(".context-view").hide(),this.setContainer(t),this.toDispose=[{dispose:function(){n.setContainer(null)}}],this.toDisposeOnClean=null}return h(t,e),t.prototype.setContainer=function(e){var n=this;this.$container&&(this.$container.off(t.BUBBLE_UP_EVENTS),this.$container.off(t.BUBBLE_DOWN_EVENTS,!0),this.$container=null),e&&(this.$container=i.$(e),this.$view.appendTo(this.$container),this.$container.on(t.BUBBLE_UP_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!1)}),this.$container.on(t.BUBBLE_DOWN_EVENTS,function(e){n.onDOMEvent(e,document.activeElement,!0)},null,!0))},t.prototype.show=function(e){this.isVisible()&&this.hide(),this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show(),this.toDisposeOnClean=e.render(this.$view.getHTMLElement()),this.delegate=e,this.doLayout()},t.prototype.layout=function(){if(this.isVisible()){if(this.delegate.canRelayout===!1)return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}},t.prototype.doLayout=function(){var e,t=this.delegate.getAnchor();if(n.isHTMLElement(t)){var i=n.getDomNodePagePosition(t);e={top:i.top,left:i.left,width:i.width,height:i.height}}else{var o=t;e={top:o.y,left:o.x,width:o.width||0,height:o.height||0}}var r={top:n.StandardWindow.scrollY,left:n.StandardWindow.scrollX,height:window.innerHeight,width:window.innerWidth},u=this.$view.getTotalSize(),l={width:u.width,height:u.height},d=this.delegate.anchorPosition||c.BELOW,h=this.delegate.anchorAlignment||a.LEFT,p=s(l,e,r,d,h),f=n.getDomNodePagePosition(this.$container.getHTMLElement());p.top-=f.top,p.left-=f.left,this.$view.removeClass("top","bottom","left","right"),this.$view.addClass(d===c.BELOW?"bottom":"top"),this.$view.addClass(h===a.LEFT?"left":"right"),this.$view.style({top:p.top+"px",left:p.left+"px",width:"initial"})},t.prototype.hide=function(e){this.delegate&&this.delegate.onHide&&this.delegate.onHide(e),this.delegate=null,this.toDisposeOnClean&&(this.toDisposeOnClean.dispose(),this.toDisposeOnClean=null),this.$view.hide()},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e,t,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):i&&!n.isAncestor(e.target,this.$container.getHTMLElement())&&this.hide())},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=o.dispose(this.toDispose)},t.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],t.BUBBLE_DOWN_EVENTS=["click"],t}(r.EventEmitter);t.ContextView=u}),define(l[338],d([1,0,31,9,943]),function(e,t,i,n){"use strict";var o=function(){function e(e,t,n){this.$el=i.$(".monaco-count-badge").appendTo(e),this.titleFormat=n||"",this.setCount(t||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.$el.text(""+this.count),this.$el.title(n.format(this.titleFormat,this.count))},e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.CountBadge=o}),define(l[295],d([1,0,31,2,136,27,49,36,5,941]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,n){var r=this;e.call(this),this.toDispose=[],this.$el=i.$(".dropdown").appendTo(t),this.$label=i.$(".dropdown-label"),(n.tick||n.action)&&this.$label.addClass("tick");var a=n.labelRenderer;if(!a&&n.action){this.$action=i.$(".dropdown-action").appendTo(this.$el);var c=new s.ActionItem(null,n.action,{icon:!0,label:!0});c.actionRunner=this,c.render(this.$action.getHTMLElement()),a=function(e){return e.innerText="",c}}a||(a=function(e){return i.$(e).text(n.label||""),null}),this.$label.on(["mousedown",o.EventType.Tap],function(e){e.preventDefault(),e.stopPropagation(),r.show()}).appendTo(this.$el);var u=a(this.$label.getHTMLElement());u&&this.toDispose.push(u),this.toDispose.push(new o.Gesture(this.$label.getHTMLElement()))}return h(t,e),Object.defineProperty(t.prototype,"tooltip",{set:function(e){this.$label.title(e)},enumerable:!0,configurable:!0}),t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.onEvent=function(e,t){this.hide()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hide(),this.toDispose=c.dispose(this.toDispose),this.$boxContainer&&(this.$boxContainer.destroy(),this.$boxContainer=null),this.$contents&&(this.$contents.destroy(),this.$contents=null),this.$label&&(this.$label.destroy(),this.$label=null)},t}(r.ActionRunner);t.BaseDropdown=u;var l=function(e){function t(t,i){e.call(this,t,i),this.contextViewProvider=i.contextViewProvider}return h(t,e),Object.defineProperty(t.prototype,"contextViewProvider",{get:function(){return this._contextViewProvider},set:function(e){this._contextViewProvider=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.$el.addClass("active"),this._contextViewProvider.showContextView({getAnchor:function(){return e.$el.getHTMLElement()},render:function(t){return e.renderContents(t)},onDOMEvent:function(t,i){e.onEvent(t,i)},onHide:function(){e.$el.removeClass("active")}})},t.prototype.hide=function(){this._contextViewProvider&&this._contextViewProvider.hideContextView()},t.prototype.renderContents=function(e){return null},t}(u);t.Dropdown=l;var d=function(e){function t(t,i){e.call(this,t,i),this._contextMenuProvider=i.contextMenuProvider,this.actions=i.actions||[],this.actionProvider=i.actionProvider,this.menuClassName=i.menuClassName||""}return h(t,e),Object.defineProperty(t.prototype,"contextMenuProvider",{get:function(){return this._contextMenuProvider},set:function(e){this._contextMenuProvider=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuOptions",{get:function(){return this._menuOptions},set:function(e){this._menuOptions=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.actionProvider?this.actionProvider.getActions():this._actions},set:function(e){this._actions=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;this.$el.addClass("active"),this._contextMenuProvider.showContextMenu({getAnchor:function(){return e.$el.getHTMLElement()},getActions:function(){return n.TPromise.as(e.actions)},getActionsContext:function(){return e.menuOptions?e.menuOptions.context:null},getActionItem:function(t){return e.menuOptions&&e.menuOptions.actionItemProvider?e.menuOptions.actionItemProvider(t):null},getKeyBinding:function(t){return e.menuOptions&&e.menuOptions.getKeyBinding?e.menuOptions.getKeyBinding(t):null},getMenuClassName:function(){return e.menuClassName},onHide:function(){return e.$el.removeClass("active")}})},t.prototype.hide=function(){},t}(u);t.DropdownMenu=d;var p=function(e){function t(t){e.call(this),this.el=document.createElement("div"),this.el.className="dropdown-group",t.appendChild(this.el)}return h(t,e),Object.defineProperty(t.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),t}(a.EventEmitter);t.DropdownGroup=p}),define(l[211],d([1,0,9,10,29,253]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e){this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",this.didEverRender=!1,e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){void 0===t&&(t=[]),e||(e=""),this.didEverRender&&this.text===e&&o.equals(this.highlights,t)||(Array.isArray(t)||(t=[]),this.text=e,this.highlights=t,this.render())},e.prototype.render=function(){n.clearNode(this.domNode);for(var e,t=[],o=0,s=0;s<this.highlights.length;s++)e=this.highlights[s],e.end!==e.start&&(o<e.start&&(t.push("<span>"),t.push(r.expand(i.escape(this.text.substring(o,e.start)))),t.push("</span>"),o=e.end),t.push('<span class="highlight">'),t.push(r.expand(i.escape(this.text.substring(e.start,e.end)))),t.push("</span>"),o=e.end);o<this.text.length&&(t.push("<span>"),t.push(r.expand(i.escape(this.text.substring(o)))),t.push("</span>")),this.domNode.innerHTML=t.join(""),this.didEverRender=!0},e.prototype.dispose=function(){this.text=null,this.highlights=null},e}();t.HighlightedLabel=s}),define(l[341],d([1,0,10,25,17,211,76,937]),function(e,t,i,n,o,r,s){"use strict";function a(e){if(!e)return null;if("string"==typeof e)return e;if(o.isFunction(e.getWorkspace)){var t=e.getWorkspace();return t?t.resource.fsPath:void 0}return e.fsPath}var c=function(){function e(e,t,n){this.labelHighlights=[],this.domNode=i.append(e,i.emmet(".monaco-file-label")),this.labelNode=new r.HighlightedLabel(i.append(this.domNode,i.emmet("span.file-name"))),this.directoryNode=i.append(this.domNode,i.emmet("span.file-path")),n&&(this.basepath=a(n)),t&&this.setValue(t)}return e.prototype.getHTMLElement=function(){return this.domNode},e.prototype.setValue=function(e,t){var i=a(e);this.path=i,this.labelHighlights=t,this.render()},e.prototype.render=function(){this.domNode.title=this.path,this.labelNode.set(n.basename(this.path),this.labelHighlights);var e=n.dirname(this.path);this.directoryNode.textContent=e&&"."!==e?s.getPathLabel(e,this.basepath):""},e}();t.FileLabel=c}),define(l[342],d([1,0,31,926]),function(e,t,i){"use strict";var n=function(){function e(e,t,n){this.$el=i.$(".monaco-left-right-widget").appendTo(e),this.toDispose=[n(i.$(".right").appendTo(this.$el).getHTMLElement()),t(i.$("span.left").appendTo(this.$el).getHTMLElement())].filter(function(e){return!!e})}return e.prototype.dispose=function(){this.$el&&(this.$el.destroy(),this.$el=null)},e}();t.LeftRightWidget=n}),define(l[343],d([1,0,10]),function(e,t,i){"use strict";function n(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0}function o(e){try{e.parentElement.removeChild(e)}catch(t){}}var r=function(){function e(e){this.renderers=e,this.cache=Object.create(null),this.scrollingRow=null}return e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var n=i.emmet(".monaco-list-row"),o=this.renderers[e],r=o.renderTemplate(n);t={domNode:n,templateId:e,templateData:r}}return t},e.prototype.release=function(e){if(e){var t=n(e.domNode);if(!t)return o(e.domNode),void this.getTemplateCache(e.templateId).push(e);if(this.scrollingRow){var r=n(this.scrollingRow.domNode);if(r>t)return o(e.domNode),void this.getTemplateCache(e.templateId).push(e);this.scrollingRow.domNode.parentElement&&(o(this.scrollingRow.domNode),i.removeClass(this.scrollingRow.domNode,"scrolling"),this.getTemplateCache(this.scrollingRow.templateId).push(this.scrollingRow))}this.scrollingRow=e,i.addClass(this.scrollingRow.domNode,"scrolling")}},e.prototype.getTemplateCache=function(e){return this.cache[e]||(this.cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;if(this.cache&&Object.keys(this.cache).forEach(function(t){e.cache[t].forEach(function(i){var n=e.renderers[t];n.disposeTemplate(i.templateData),i.domNode=null,i.templateData=null}),delete e.cache[t]}),this.scrollingRow){var t=this.renderers[this.scrollingRow.templateId];t.disposeTemplate(this.scrollingRow.templateData),this.scrollingRow=null}},e.prototype.dispose=function(){this.garbageCollect(),this.cache=null,this.renderers=null},e}();t.RowCache=r}),define(l[344],d([1,0,380,2,31,10,7,120,17,24,27,134,83,13,912]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";!function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.Severity||(t.Severity={}));var f=t.Severity,g=function(){function e(){}return e}();t.IMessageListOptions=g;var m=function(){function e(t,i,n){void 0===n&&(n={purgeInterval:e.DEFAULT_MESSAGE_PURGER_INTERVAL,maxMessages:e.DEFAULT_MAX_MESSAGES,maxMessageLength:e.DEFAULT_MAX_MESSAGE_LENGTH}),this.messages=[],this.messageListPurger=null,this.containerElementId=t,this.usageLogger=i,this.options=n,this._onMessagesShowing=new u.Emitter,this._onMessagesCleared=new u.Emitter}return Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this._onMessagesShowing.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this._onMessagesCleared.event},enumerable:!0,configurable:!0}),e.prototype.showMessage=function(e,t){var i=this;if(Array.isArray(t)){var n=[];return t.forEach(function(t){return n.push(i.showMessage(e,t))}),function(){return n.forEach(function(e){return e()})}}var o=this.getMessageText(t);return o&&"string"==typeof o?this.doShowMessage(t,o,e):function(){}},e.prototype.getMessageText=function(e){return c.isString(e)?e:e instanceof Error?s.toErrorMessage(e,!1):e.message?e.message:null},e.prototype.doShowMessage=function(e,t,n){var o=this;this.purgeMessages(),this.messages.unshift({id:e,text:t,severity:n,time:Date.now(),actions:e.actions}),this.renderMessages(!0,1);var r;return r=n===f.Error?i.localize(0,null,t):n===f.Warning?i.localize(1,null,t):i.localize(2,null,t),a.alert(r),function(){o.hideMessage(e)}},e.prototype.renderMessages=function(e,t){var i=this,n=o.withElementById(this.containerElementId);n&&(this.messageListContainer?(o.$(this.messageListContainer).empty(),o.$(this.messageListContainer).removeClass("transition")):this.messageListContainer=o.$(".global-message-list").appendTo(n),e&&o.$(this.messageListContainer).style("top","-35px"),o.$(this.messageListContainer).ul({"class":"message-list"},function(n){var r=i.prepareMessages();r.length>0?i._onMessagesShowing.fire():i._onMessagesCleared.fire(),r.forEach(function(e,s){i.renderMessage(e,o.$(n),r.length,t)}),e&&setTimeout(function(){o.$(i.messageListContainer).addClass("transition"),o.$(i.messageListContainer).style("top","0")},50)}))},e.prototype.renderMessage=function(e,t,s,a){var c=this;t.li({"class":"message-list-entry message-list-entry-with-action"},function(t){var s=c.getMessageActions(e);t.div({"class":"actions-container"},function(t){for(var i=function(i){var o=s[i];t.div({"class":"message-action"},function(t){t.a({"class":"action-button",tabindex:"0",role:"button"}).text(o.label).on([r.EventType.CLICK,r.EventType.KEY_DOWN],function(t){if(t instanceof KeyboardEvent){var i=new h.StandardKeyboardEvent(t);if(!i.equals(p.CommonKeybindings.ENTER)&&!i.equals(p.CommonKeybindings.SPACE))return}r.EventHelper.stop(t,!0),c.usageLogger&&c.usageLogger.publicLog("workbenchActionExecuted",{id:o.id,from:"message"}),(o.run()||n.TPromise.as(null)).then(null,function(e){return c.showMessage(f.Error,e)}).done(function(t){t!==!1&&c.hideMessage(e.text)})})})},o=s.length-1;o>=0;o--)i(o)});var a=e.text.substr(0,c.options.maxMessageLength);t.div({"class":"message-left-side"},function(t){t.addClass("message-overflow-ellipsis");var n=e.severity,r=n===f.Error?i.localize(3,null):n===f.Warning?i.localize(4,null):i.localize(5,null);o.$().span({"class":"message-left-side severity "+(n===f.Error?"app-error":n===f.Warning?"app-warning":"app-info"),text:r}).appendTo(t);var s=d.renderHtml({tagName:"span",className:"message-left-side",formattedText:a});o.$(s).title(s.textContent).appendTo(t)})})},e.prototype.getMessageActions=function(e){var t,o=this;return t=e.actions&&e.actions.length>0?e.actions:[new l.Action("close.message.action",i.localize(6,null),null,(!0),function(){return o.hideMessage(e.text),n.TPromise.as(!0)})]},e.prototype.prepareMessages=function(){for(var e=[],t={},i=0,n=0;n<this.messages.length;n++){var o=this.messages[n];c.isUndefinedOrNull(t[o.text])?(o.count=1,e.push(o),t[o.text]=i++):e[t[o.text]].count++}return e.length>this.options.maxMessages?e.splice(e.length-this.options.maxMessages,e.length):e},e.prototype.disposeMessages=function(e){e.forEach(function(e){e.actions&&e.actions.forEach(function(e){e.dispose()})})},e.prototype.hideMessages=function(){this.hideMessage()},e.prototype.show=function(){this.messageListContainer&&this.messageListContainer.isHidden()&&this.messageListContainer.show()},e.prototype.hide=function(){this.messageListContainer&&!this.messageListContainer.isHidden()&&this.messageListContainer.hide()},e.prototype.hideMessage=function(e){for(var t=!1,i=0;i<this.messages.length;i++){var n=this.messages[i],o=!1;o=!e||(c.isString(e)&&n.text===e||n.id===e),o&&(this.disposeMessages(this.messages.splice(i,1)),i--,t=!0)}t&&this.renderMessages(!1,-1)},e.prototype.purgeMessages=function(){var e=this;this.messageListPurger&&this.messageListPurger.cancel(),this.messageListPurger=n.TPromise.timeout(this.options.purgeInterval).then(function(){for(var t=!1,i=0,n=0;n<e.messages.length;n++){var o=e.messages[n];o.severity===f.Error||o.actions||(e.disposeMessages(e.messages.splice(n,1)),i--,n--,t=!0)}t&&e.renderMessages(!1,i)})},e.DEFAULT_MESSAGE_PURGER_INTERVAL=1e4,e.DEFAULT_MAX_MESSAGES=5,e.DEFAULT_MAX_MESSAGE_LENGTH=500,e}();t.MessageList=m}),define(l[210],d([1,0,2,85,59,31,10,82,5,254]),function(e,t,i,n,o,r,s,a,c){"use strict";var u="done",l="active",d="infinite",h="discrete",p="progress-container",f="progress-bit",g=function(){function e(e){this.toUnbind=[],this.workedVal=0,this.create(e)}return e.prototype.create=function(e){var t=this;e.div({"class":p},function(e){t.element=e.clone(),e.div({"class":f}).on([s.EventType.ANIMATION_START,s.EventType.ANIMATION_END,s.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case s.EventType.ANIMATION_START:case s.EventType.ANIMATION_END:t.animationRunning=e.type===s.EventType.ANIMATION_START;break;case s.EventType.ANIMATION_ITERATION:t.animationStopToken&&t.animationStopToken(null)}},t.toUnbind),t.bit=e.getHTMLElement()})},e.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.removeClass(l),this.element.removeClass(d),this.element.removeClass(h),this.workedVal=0,this.totalWork=void 0},e.prototype.done=function(){return this.doDone(!0)},e.prototype.stop=function(){return this.doDone(!1)},e.prototype.doDone=function(e){var t=this;return this.element.addClass(u),this.element.hasClass(d)?(this.bit.style.opacity="0",e?i.TPromise.timeout(200).then(function(){return t.off()}):this.off()):(this.bit.style.width="inherit",e?i.TPromise.timeout(200).then(function(){return t.off()}):this.off()),this},e.prototype.infinite=function(){if(this.bit.style.width="2%",this.bit.style.opacity="1",this.element.removeClass(h),this.element.removeClass(u),this.element.addClass(l),this.element.addClass(d),!o.hasCSSAnimationSupport()){var e=a.v4().asHex();this.currentProgressToken=e,this.manualInfinite(e)}return this},e.prototype.manualInfinite=function(e){var t=this;this.bit.style.width="5%",this.bit.style.display="inherit";var n=0,o=function(){i.TPromise.timeout(50).then(function(){e===t.currentProgressToken&&(t.element.hasClass(u)?(t.bit.style.display="none",t.bit.style.left="0"):t.element.isHidden()?o():(n=(n+1)%95,t.bit.style.left=n+"%",o()))})};o()},e.prototype.total=function(e){return this.workedVal=0,this.totalWork=e,this},e.prototype.hasTotal=function(){return!isNaN(this.totalWork)},e.prototype.worked=function(e){return n.ok(!isNaN(this.totalWork),"Total work not set"),e=Number(e),n.ok(!isNaN(e),"Value is not a number"),e=Math.max(1,e),this.workedVal+=e,this.workedVal=Math.min(this.totalWork,this.workedVal),this.element.hasClass(d)&&this.element.removeClass(d),this.element.hasClass(u)&&this.element.removeClass(u),this.element.hasClass(l)||this.element.addClass(l),this.element.hasClass(h)||this.element.addClass(h),this.bit.style.width=100*(this.workedVal/this.totalWork)+"%",this},e.prototype.getContainer=function(){return r.$(this.element)},e.prototype.dispose=function(){this.toUnbind=c.dispose(this.toUnbind)},e}();t.ProgressBar=g}),define(l[291],d([1,0,377,58,25,31,10,909]),function(e,t,i,n,o,r,s){"use strict";var a={".bmp":"image/bmp",".gif":"image/gif",".jpg":"image/jpg",".jpeg":"image/jpg",".jpe":"image/jpg",".png":"image/png",".tiff":"image/tiff",".tif":"image/tiff",".ico":"image/x-icon",".tga":"image/x-tga",".psd":"image/vnd.adobe.photoshop",".mid":"audio/midi",".midi":"audio/midi",".mp4a":"audio/mp4",".mpga":"audio/mpeg",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".m2a":"audio/mpeg",".m3a":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".spx":"audio/ogg",".aac":"audio/x-aac",".wav":"audio/x-wav",".wma":"audio/x-ms-wma",".mp4":"video/mp4",".mp4v":"video/mp4",".mpg4":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpe":"video/mpeg",".m1v":"video/mpeg",".m2v":"video/mpeg",".ogv":"video/ogg",".qt":"video/quicktime",".mov":"video/quicktime",".webm":"video/webm",".mkv":"video/x-matroska",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".wmv":"video/x-ms-wmv",".flv":"video/x-flv",".avi":"video/x-msvideo",".movie":"video/x-sgi-movie"},c=function(){function e(){}return e.show=function(e,t,c,u){r.$(c).addClass("monaco-resource-viewer");var l,d=o.extname(t.toString());d&&(l=a[d.toLowerCase()]),l||(l=n.MIME_BINARY),l.indexOf("image/")>=0?r.$(c).empty().style({paddingLeft:"20px"}).img({src:t.toString()+"?"+Date.now()}).on(s.EventType.LOAD,function(){u&&u.scanDomNode()}):l.indexOf("audio/")>=0?r.$(c).empty().style({paddingLeft:"20px"}).element("audio").attr({src:t.toString()+"?"+Date.now(),text:i.localize(0,null),controls:"controls"}).on(s.EventType.LOAD,function(){u&&u.scanDomNode()}):l.indexOf("video/")>=0?r.$(c).empty().style({paddingLeft:"20px"}).element("video").attr({src:t.toString()+"?"+Date.now(),text:i.localize(1,null),controls:"controls"}).on(s.EventType.LOAD,function(){u&&u.scanDomNode()}):(r.$(c).empty().style({paddingLeft:"20px"}).span({text:i.localize(2,null)}),u&&u.scanDomNode())},e}();t.ResourceViewer=c}),define(l[122],d([1,0,5,31,59,12,17,10,136,36,77,908]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var d=t.Orientation,p=function(e){function t(t,i,s){var u=this;void 0===s&&(s={}),e.call(this),this.$e=n.$(".monaco-sash").appendTo(t),r.isMacintosh&&this.$e.addClass("mac"),this.gesture=new c.Gesture(this.$e.getHTMLElement()),this.$e.on(a.EventType.MOUSE_DOWN,function(e){u.onMouseDown(e)}),this.$e.on(a.EventType.DBLCLICK,function(e){u.emit("reset",e)}),this.$e.on(c.EventType.Start,function(e){u.onTouchStart(e)}),this.orientation=s.orientation||d.VERTICAL,this.$e.addClass(this.getOrientation()),this.size=s.baseSize||5,o.isIPad&&(this.size*=4,this.$e.addClass("touch")),this.orientation===d.HORIZONTAL?this.$e.size(null,this.size):this.$e.size(this.size),this.isDisabled=!1,this.hidden=!1,this.layoutProvider=i}return h(t,e),t.prototype.getHTMLElement=function(){return this.$e.getHTMLElement()},t.prototype.getOrientation=function(){return this.orientation===d.HORIZONTAL?"horizontal":"vertical"},t.prototype.onMouseDown=function(e){var t=this;if(a.EventHelper.stop(e,!1),!this.isDisabled){n.$(a.getElementsByTagName("iframe")).style("pointer-events","none");var i=new l.StandardMouseEvent(e),o=i.posx,s=i.posy,c={startX:o,currentX:o,startY:s,currentY:s};this.$e.addClass("active"),this.emit("start",c);var u=n.$(window),d=this.getOrientation()+"-cursor-container"+(r.isMacintosh?"-mac":""),h=o,p=s;u.on("mousemove",function(e){a.EventHelper.stop(e,!1);var i=new l.StandardMouseEvent(e),n={startX:o,currentX:i.posx,startY:s,currentY:i.posy};h=i.posx,p=i.posy,t.emit("change",n)}).once("mouseup",function(e){a.EventHelper.stop(e,!1),t.$e.removeClass("active"),t.emit("end"),u.off("mousemove"),document.body.classList.remove(d),n.$(a.getElementsByTagName("iframe")).style("pointer-events","auto")}),document.body.classList.add(d)}},t.prototype.onTouchStart=function(e){var t=this;a.EventHelper.stop(e);var n=[],o=e.pageX,r=e.pageY;this.emit("start",{startX:o,currentX:o,startY:r,currentY:r});var u=o,l=r;n.push(a.addDisposableListener(this.$e.getHTMLElement(),c.EventType.Change,function(e){s.isNumber(e.pageX)&&s.isNumber(e.pageY)&&(t.emit("change",{startX:o,currentX:e.pageX,startY:r,currentY:e.pageY}),u=e.pageX,l=e.pageY)})),n.push(a.addDisposableListener(this.$e.getHTMLElement(),c.EventType.End,function(e){t.emit("end"),i.dispose(n)}))},t.prototype.layout=function(){var e;if(this.orientation===d.VERTICAL){var t=this.layoutProvider;e={left:t.getVerticalSashLeft(this)-this.size/2+"px"},t.getVerticalSashTop&&(e.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(e.height=t.getVerticalSashHeight(this)+"px")}else{var i=this.layoutProvider;e={top:i.getHorizontalSashTop(this)-this.size/2+"px"},i.getHorizontalSashLeft&&(e.left=i.getHorizontalSashLeft(this)+"px"),i.getHorizontalSashWidth&&(e.width=i.getHorizontalSashWidth(this)+"px")}this.$e.style(e)},t.prototype.show=function(){this.hidden=!1,this.$e.show()},t.prototype.hide=function(){this.hidden=!0,
this.$e.hide()},t.prototype.isHidden=function(){return this.hidden},t.prototype.enable=function(){this.$e.removeClass("disabled"),this.isDisabled=!1},t.prototype.disable=function(){this.$e.addClass("disabled"),this.isDisabled=!0},t.prototype.dispose=function(){this.$e&&(this.$e.destroy(),this.$e=null),e.prototype.dispose.call(this)},t}(u.EventEmitter);t.Sash=p}),define(l[151],d([1,0,5,36,17,29,10,995,122,83,13,24,892]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function p(e){return e.reduce(function(e,t){return e+t})}!function(e){e[e.VERTICAL=0]="VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL"}(t.Orientation||(t.Orientation={}));var f=t.Orientation;!function(e){e[e.Flexible=0]="Flexible",e[e.Fixed=1]="Fixed"}(t.ViewSizing||(t.ViewSizing={}));var g=t.ViewSizing,m=function(e){function t(t){e.call(this),this.size=0,this._sizing=o.isUndefined(t.sizing)?g.Flexible:t.sizing,this._fixedSize=o.isUndefined(t.fixedSize)?22:t.fixedSize,this._minimumSize=o.isUndefined(t.minimumSize)?22:t.minimumSize}return h(t,e),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this._fixedSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumSize",{get:function(){return this.sizing===g.Fixed?this.fixedSize:this._minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximumSize",{get:function(){return this.sizing===g.Fixed?this.fixedSize:Number.POSITIVE_INFINITY},enumerable:!0,configurable:!0}),t.prototype.setFlexible=function(e){this._sizing=g.Flexible,this.emit("change",o.isUndefined(e)?this._minimumSize:e)},t.prototype.setFixed=function(e){this._sizing=g.Fixed,this._fixedSize=o.isUndefined(e)?this._fixedSize:e,this.emit("change",this._fixedSize)},t}(n.EventEmitter);t.View=m;var v=function(e){function t(t){e.call(this,t),this.headerSize=o.isUndefined(t.headerSize)?22:t.headerSize}return h(t,e),t.prototype.render=function(e,t){this.header=document.createElement("div"),this.header.className="header";var i=this.headerSize+"px";t===f.HORIZONTAL?this.header.style.width=i:this.header.style.height=i,this.headerSize>0&&(this.renderHeader(this.header),e.appendChild(this.header)),this.body=document.createElement("div"),this.body.className="body",this.layoutBodyContainer(t),this.renderBody(this.body),e.appendChild(this.body)},t.prototype.layout=function(e,t){this.layoutBodyContainer(t),this.layoutBody(e-this.headerSize)},t.prototype.layoutBodyContainer=function(e){var t="calc(100% - "+this.headerSize+"px)";e===f.HORIZONTAL?this.body.style.width=t:this.body.style.height=t},t.prototype.dispose=function(){this.header=null,this.body=null,e.prototype.dispose.call(this)},t}(m);t.HeaderView=v,function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED"}(t.CollapsibleState||(t.CollapsibleState={}));var y=t.CollapsibleState,E=function(e){function t(t){e.call(this,t),this.ariaHeaderLabel=t&&t.ariaHeaderLabel,this.changeState(o.isUndefined(t.initialState)?y.EXPANDED:t.initialState)}return h(t,e),t.prototype.render=function(t,i){var n=this;e.prototype.render.call(this,t,i),s.addClass(this.header,"collapsible"),s.addClass(this.body,"collapsible"),this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","toolbar"),this.ariaHeaderLabel&&this.header.setAttribute("aria-label",this.ariaHeaderLabel),this.header.setAttribute("aria-expanded",String(this.state===y.EXPANDED)),this.headerKeyListener=s.addDisposableListener(this.header,s.EventType.KEY_DOWN,function(e){var t=new u.StandardKeyboardEvent(e),i=!1;t.equals(l.CommonKeybindings.ENTER)||t.equals(l.CommonKeybindings.SPACE)||t.equals(l.CommonKeybindings.LEFT_ARROW)&&n.state===y.EXPANDED||t.equals(l.CommonKeybindings.RIGHT_ARROW)&&n.state===y.COLLAPSED?(n.toggleExpansion(),i=!0):t.equals(l.CommonKeybindings.ESCAPE)?(n.header.blur(),i=!0):t.equals(l.CommonKeybindings.UP_ARROW)?(n.emit("focusPrevious"),i=!0):t.equals(l.CommonKeybindings.DOWN_ARROW)&&(n.emit("focusNext"),i=!0),i&&s.EventHelper.stop(t,!0)}),this.headerClickListener=s.addDisposableListener(this.header,s.EventType.CLICK,function(){return n.toggleExpansion()}),this.focusTracker=s.trackFocus(this.header),this.focusTracker.addFocusListener(function(){s.addClass(n.header,"focused")}),this.focusTracker.addBlurListener(function(){s.removeClass(n.header,"focused")})},t.prototype.focus=function(){this.header&&this.header.focus()},t.prototype.layout=function(t,i){this.layoutHeader(),e.prototype.layout.call(this,t,i)},t.prototype.isExpanded=function(){return this.state===y.EXPANDED},t.prototype.expand=function(){this.isExpanded()||this.changeState(y.EXPANDED)},t.prototype.collapse=function(){this.isExpanded()&&this.changeState(y.COLLAPSED)},t.prototype.toggleExpansion=function(){this.isExpanded()?this.collapse():this.expand()},t.prototype.layoutHeader=function(){this.header&&(this.state===y.COLLAPSED?s.addClass(this.header,"collapsed"):s.removeClass(this.header,"collapsed"))},t.prototype.changeState=function(e){this.state=e,this.header&&this.header.setAttribute("aria-expanded",String(this.state===y.EXPANDED)),this.layoutHeader()},t.prototype.dispose=function(){this.headerClickListener&&(this.headerClickListener.dispose(),this.headerClickListener=null),this.headerKeyListener&&(this.headerKeyListener.dispose(),this.headerKeyListener=null),this.focusTracker&&(this.focusTracker.dispose(),this.focusTracker=null),e.prototype.dispose.call(this)},t}(v);t.AbstractCollapsibleView=E;var S=function(e){function t(t){e.call(this,t),this.previousSize=null}return h(t,e),t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),t===y.EXPANDED?this.setFlexible(this.previousSize||this._minimumSize):(this.previousSize=this.size,this.setFixed())},t}(E);t.CollapsibleView=S;var b=function(e){function t(t){e.call(this,r.mixin({sizing:g.Fixed},t)),this._expandedBodySize=o.isUndefined(t.expandedBodySize)?22:t.expandedBodySize}return h(t,e),Object.defineProperty(t.prototype,"fixedSize",{get:function(){return this.state===y.EXPANDED?this.expandedSize:this.headerSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedSize",{get:function(){return this.expandedBodySize+this.headerSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandedBodySize",{get:function(){return this._expandedBodySize},set:function(e){this._expandedBodySize=e,this.setFixed(this.fixedSize)},enumerable:!0,configurable:!0}),t.prototype.changeState=function(t){e.prototype.changeState.call(this,t),this.setFixed(this.fixedSize)},t}(E);t.FixedCollapsibleView=b;var _=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.render=function(){},t.prototype.focus=function(){},t.prototype.layout=function(){},t}(m),C=function(e){function t(t){e.call(this,{sizing:g.Fixed,fixedSize:0}),this.size=t.size}return h(t,e),t}(_),w=function(e){function t(){e.call(this,{sizing:g.Fixed,minimumSize:0,fixedSize:0})}return h(t,e),t.prototype.setFlexible=function(t){e.prototype.setFlexible.call(this,t)},t.prototype.setFixed=function(t){e.prototype.setFixed.call(this,t)},t}(_),I=function(){function e(e,t){t=t||{},this.orientation=o.isUndefined(t.orientation)?f.VERTICAL:t.orientation,this.el=document.createElement("div"),s.addClass(this.el,"monaco-split-view"),s.addClass(this.el,this.orientation===f.VERTICAL?"vertical":"horizontal"),e.appendChild(this.el),this.size=null,this.viewElements=[],this.views=[],this.viewChangeListeners=[],this.viewFocusPreviousListeners=[],this.viewFocusNextListeners=[],this.viewFocusListeners=[],this.initialWeights=[],this.sashes=[],this.sashesListeners=[],this.animationTimeout=null,this._onFocus=new d.Emitter,this.sashOrientation=this.orientation===f.VERTICAL?c.Orientation.HORIZONTAL:c.Orientation.VERTICAL,this.orientation===f.VERTICAL?(this.measureContainerSize=function(){return s.getContentHeight(e)},this.layoutViewElement=function(e,t){return e.style.height=t+"px"},this.eventWrapper=function(e){return{start:e.startY,current:e.currentY}}):(this.measureContainerSize=function(){return s.getContentWidth(e)},this.layoutViewElement=function(e,t){return e.style.width=t+"px"},this.eventWrapper=function(e){return{start:e.startX,current:e.currentX}}),this.addView(new w,1,0)}return Object.defineProperty(e.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!0,configurable:!0}),e.prototype.addView=function(e,t,i){var n=this;if(void 0===t&&(t=1),void 0===i&&(i=this.views.length-1),t<=0)throw new Error("Initial weight must be a positive number.");var o=this.views.length,r=document.createElement("div");if(s.addClass(r,"split-view-view"),this.viewElements.splice(i,0,r),e.render(r,this.orientation),this.views.splice(i,0,e),this.initialWeights.splice(i,0,t),i===o?this.el.appendChild(r):this.el.insertBefore(r,this.el.children.item(i)),this.views.length>2){var a=new c.Sash(this.el,this,{orientation:this.sashOrientation});this.sashes.splice(i-1,0,a),this.sashesListeners.push(a.addListener2("start",function(e){return n.onSashStart(a,n.eventWrapper(e))})),this.sashesListeners.push(a.addListener2("change",function(e){return n.onSashChange(a,n.eventWrapper(e))}))}this.viewChangeListeners.splice(i,0,e.addListener2("change",function(t){return n.onViewChange(e,t)})),this.onViewChange(e,e.minimumSize);var u=s.trackFocus(r);this.viewFocusListeners.splice(i,0,u),u.addFocusListener(function(){return n._onFocus.fire(e)}),this.viewFocusPreviousListeners.splice(i,0,e.addListener2("focusPrevious",function(){return i>0&&n.views[i-1].focus()})),this.viewFocusNextListeners.splice(i,0,e.addListener2("focusNext",function(){return i<n.views.length&&n.views[i+1].focus()}))},e.prototype.removeView=function(e){var t=this.views.indexOf(e);if(!(t<0)){var i=new C(e);this.views[t]=i,this.onViewChange(i,0);var n=Math.max(t-1,0);this.sashes[n].dispose(),this.sashes.splice(n,1),this.viewChangeListeners[t].dispose(),this.viewChangeListeners.splice(t,1),this.viewFocusPreviousListeners[t].dispose(),this.viewFocusPreviousListeners.splice(t,1),this.viewFocusListeners[t].dispose(),this.viewFocusListeners.splice(t,1),this.viewFocusNextListeners[t].dispose(),this.viewFocusNextListeners.splice(t,1),this.views.splice(t,1),this.el.removeChild(this.viewElements[t]),this.viewElements.splice(t,1),i.dispose(),e.dispose()}},e.prototype.layout=function(e){if(e=e||this.measureContainerSize(),null===this.size)return this.size=e,void this.initialLayout();e=Math.max(e,this.views.reduce(function(e,t){return e+t.minimumSize},0));var t=Math.abs(this.size-e),i=a.countToArray(this.views.length-1,-1),n=this.views.map(function(e){return e.size-e.minimumSize}),o=this.views.map(function(e){return e.maximumSize-e.size});e<this.size?this.expandCollapse(Math.min(t,p(n)),n,o,i,[]):e>this.size&&this.expandCollapse(Math.min(t,p(o)),n,o,[],i),this.size=e,this.layoutViews()},e.prototype.onSashStart=function(e,t){var i=this.sashes.indexOf(e),n=this.views.map(function(e){return e.size-e.minimumSize}),o=this.views.map(function(e){return e.maximumSize-e.size}),r=a.countToArray(i,-1),s=a.countToArray(i+1,this.views.length),c=r.map(function(e){return n[e]}),u=s.map(function(e){return n[e]}),l=r.map(function(e){return o[e]}),d=s.map(function(e){return o[e]});this.state={start:t.start,sizes:this.views.map(function(e){return e.size}),up:r,down:s,maxUp:Math.min(p(c),p(d)),maxDown:Math.min(p(l),p(u)),collapses:n,expands:o}},e.prototype.onSashChange=function(e,t){for(var i=t.current-this.state.start,n=0;n<this.views.length;n++)this.views[n].size=this.state.sizes[n];i<0?this.expandCollapse(Math.min(-i,this.state.maxUp),this.state.collapses,this.state.expands,this.state.up,this.state.down):this.expandCollapse(Math.min(i,this.state.maxDown),this.state.collapses,this.state.expands,this.state.down,this.state.up),this.layoutViews()},e.prototype.expandCollapse=function(e,t,i,n,o){var r=this,s=e,a=s;n.forEach(function(e){var i=Math.min(t[e],s);s-=i,r.views[e].size-=i}),o.forEach(function(e){var t=Math.min(i[e],a);a-=t,r.views[e].size+=t})},e.prototype.initialLayout=function(){var e=this,t=0,i=0;this.views.forEach(function(n,o){n.sizing===g.Flexible?t+=e.initialWeights[o]:i+=n.fixedSize});var n=this.size-i;this.views.forEach(function(i,o){i.sizing===g.Flexible?i.size=e.initialWeights[o]*n/t:i.size=i.fixedSize});var o=this.getLastFlexibleViewIndex();o>=0&&(this.views[o].size+=this.size-this.views.reduce(function(e,t){return e+t.size},0)),this.layoutViews()},e.prototype.getLastFlexibleViewIndex=function(e){void 0===e&&(e=null);for(var t=this.views.length-1;t>=0;t--)if(e!==t&&this.views[t].sizing===g.Flexible)return t;return-1},e.prototype.layoutViews=function(){for(var e=0;e<this.views.length;e++)this.layoutViewElement(this.viewElements[e],this.views[e].size),this.views[e].layout(this.views[e].size,this.orientation);this.sashes.forEach(function(e){return e.layout()});var t=!1,i=this.views.map(function(e){return t=e.size-e.minimumSize>0||t});t=!1;var n=this.views.map(function(e){return t=e.maximumSize-e.size>0||t}),o=this.views.slice().reverse();t=!1;var r=o.map(function(e){return t=e.size-e.minimumSize>0||t}).reverse();t=!1;var s=o.map(function(e){return t=e.maximumSize-e.size>0||t}).reverse();this.sashes.forEach(function(e,t){i[t]&&s[t+1]||n[t]&&r[t+1]?e.enable():e.disable()})},e.prototype.onViewChange=function(e,t){if(e!==this.voidView&&(this.areAllViewsFixed()?this.voidView.setFlexible():this.voidView.setFixed()),null!==this.size&&t!==e.size){this.setupAnimation();var i,n,o,r=this.views.indexOf(e),s=Math.abs(t-e.size),c=a.countToArray(r-1,-1),u=a.countToArray(r+1,this.views.length),l=u.concat(c),d=this.views.map(function(e){return Math.max(e.size-e.minimumSize,0)}),h=this.views.map(function(e){return Math.max(e.maximumSize-e.size,0)});t<e.size?(i=Math.min(l.reduce(function(e,t){return e+h[t]},0),s),n=[r],o=l):(i=Math.min(l.reduce(function(e,t){return e+d[t]},0),s),n=l,o=[r]),this.expandCollapse(i,d,h,n,o),this.layoutViews()}},e.prototype.setupAnimation=function(){var e=this;o.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),s.addClass(this.el,"animated"),this.animationTimeout=window.setTimeout(function(){return e.clearAnimation()},200)},e.prototype.clearAnimation=function(){this.animationTimeout=null,s.removeClass(this.el,"animated")},Object.defineProperty(e.prototype,"voidView",{get:function(){return this.views[this.views.length-1]},enumerable:!0,configurable:!0}),e.prototype.areAllViewsFixed=function(){var e=this;return this.views.every(function(t,i){return t.sizing===g.Fixed||i===e.views.length-1})},e.prototype.getVerticalSashLeft=function(e){return this.getSashPosition(e)},e.prototype.getHorizontalSashTop=function(e){return this.getSashPosition(e)},e.prototype.getSashPosition=function(e){for(var t=this.sashes.indexOf(e),i=0,n=0;n<=t;n++)i+=this.views[n].size;return i},e.prototype.dispose=function(){var e=this;o.isNumber(this.animationTimeout)&&window.clearTimeout(this.animationTimeout),this.orientation=null,this.size=null,this.viewElements.forEach(function(t){return e.el.removeChild(t)}),this.el=null,this.viewElements=[],this.views=i.dispose(this.views),this.sashes=i.dispose(this.sashes),this.sashesListeners=i.dispose(this.sashesListeners),this.measureContainerSize=null,this.layoutViewElement=null,this.eventWrapper=null,this.state=null},e}();t.SplitView=I}),define(l[207],d([1,0,371,2,31,17,27,49,295,889]),function(e,t,i,n,o,r,s,a,c){"use strict";t.CONTEXT="context.toolbar";var u=function(){function e(e,t,i){var n=this;void 0===i&&(i={orientation:a.ActionsOrientation.HORIZONTAL}),this.options=i,this.toggleMenuAction=new l(function(){return n.toggleMenuActionItem&&n.toggleMenuActionItem.show()});var r=document.createElement("div");r.className="monaco-toolbar",e.appendChild(r),this.actionBar=new a.ActionBar(o.$(r),{orientation:i.orientation,ariaLabel:i.ariaLabel,actionItemProvider:function(e){return e.id===l.ID?(n.toggleMenuActionItem&&n.toggleMenuActionItem.dispose(),n.toggleMenuActionItem=new d(e,e.menuActions,t,n.options.actionItemProvider,n.actionRunner,n.options.getKeyBinding,"toolbar-toggle-more"),n.toggleMenuActionItem.setActionContext(n.actionBar.context),n.toggleMenuActionItem):i.actionItemProvider?i.actionItemProvider(e):null}})}return Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this.actionBar.actionRunner},set:function(e){this.actionBar.actionRunner=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{set:function(e){this.actionBar.context=e,this.toggleMenuActionItem&&this.toggleMenuActionItem.setActionContext(e)},enumerable:!0,configurable:!0}),e.prototype.getContainer=function(){return this.actionBar.getContainer()},e.prototype.setAriaLabel=function(e){this.actionBar.setAriaLabel(e)},e.prototype.setActions=function(e,t){var i=this;return function(){var n=e?e.slice(0):[];i.hasSecondaryActions=t&&t.length>0,i.hasSecondaryActions&&(i.toggleMenuAction.menuActions=t.slice(0),n.push(i.toggleMenuAction)),i.actionBar.clear(),i.actionBar.push(n,{icon:!0,label:!1})}},e.prototype.addPrimaryAction=function(e){var t=this;return function(){if(t.hasSecondaryActions){var i=t.actionBar.length();t.actionBar.push(e,{icon:!0,label:!1,index:i})}else t.actionBar.push(e,{icon:!0,label:!1})}},e.prototype.dispose=function(){this.actionBar.dispose(),this.toggleMenuAction.dispose(),this.toggleMenuActionItem&&this.toggleMenuActionItem.dispose()},e}();t.ToolBar=u;var l=function(e){function t(n){e.call(this,t.ID,i.localize(0,null),null,!0),this.toggleDropdownMenu=n}return h(t,e),t.prototype.run=function(){return this.toggleDropdownMenu(),n.TPromise.as(!0)},Object.defineProperty(t.prototype,"menuActions",{get:function(){return this._menuActions},set:function(e){this._menuActions=e},enumerable:!0,configurable:!0}),t.ID="toolbar.toggle.more",t}(s.Action),d=function(e){function t(t,i,n,o,r,s,a){e.call(this,null,t),this.menuActionsOrProvider=i,this.contextMenuProvider=n,this.actionItemProvider=o,this.actionRunner=r,this.keybindings=s,this.clazz=a}return h(t,e),t.prototype.render=function(e){var t=this,i=function(e){return t.builder=o.$("a.action-label").attr({tabIndex:"0",role:"button","aria-haspopup":"true",title:t._action.label||"","class":t.clazz}),t.builder.appendTo(e),null},n={contextMenuProvider:this.contextMenuProvider,labelRenderer:i};r.isArray(this.menuActionsOrProvider)?n.actions=this.menuActionsOrProvider:n.actionProvider=this.menuActionsOrProvider,this.dropdownMenu=new c.DropdownMenu(e,n),this.dropdownMenu.menuOptions={actionItemProvider:this.actionItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.keybindings,context:this._context},this.toUnbind=this.addEmitter2(this.dropdownMenu)},t.prototype.setActionContext=function(t){e.prototype.setActionContext.call(this,t),this.dropdownMenu&&(this.dropdownMenu.menuOptions.context=t)},t.prototype.show=function(){this.dropdownMenu&&this.dropdownMenu.show()},t.prototype.dispose=function(){this.toUnbind.dispose(),this.dropdownMenu.dispose(),e.prototype.dispose.call(this)},t}(a.BaseActionItem);t.DropdownMenuActionItem=d}),define(l[100],d([1,0,5,77,83,10]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.onclick=function(e,t){this._register(r.addDisposableListener(e,r.EventType.CLICK,function(e){return t(new n.StandardMouseEvent(e))}))},t.prototype.onmousedown=function(e,t){this._register(r.addDisposableListener(e,r.EventType.MOUSE_DOWN,function(e){return t(new n.StandardMouseEvent(e))}))},t.prototype.onmouseover=function(e,t){this._register(r.addDisposableListener(e,r.EventType.MOUSE_OVER,function(e){return t(new n.StandardMouseEvent(e))}))},t.prototype.onnonbubblingmouseout=function(e,t){this._register(r.addDisposableNonBubblingMouseOutListener(e,function(e){return t(new n.StandardMouseEvent(e))}))},t.prototype.onkeydown=function(e,t){this._register(r.addDisposableListener(e,r.EventType.KEY_DOWN,function(e){return t(new o.StandardKeyboardEvent(e))}))},t.prototype.onkeyup=function(e,t){this._register(r.addDisposableListener(e,r.EventType.KEY_UP,function(e){return t(new o.StandardKeyboardEvent(e))}))},t.prototype.oninput=function(e,t){this._register(r.addDisposableListener(e,r.EventType.INPUT,t))},t.prototype.onblur=function(e,t){this._register(r.addDisposableListener(e,r.EventType.BLUR,t))},t.prototype.onfocus=function(e,t){this._register(r.addDisposableListener(e,r.EventType.FOCUS,t))},t.prototype.onchange=function(e,t){this._register(r.addDisposableListener(e,r.EventType.CHANGE,t))},t}(i.Disposable);t.Widget=s}),define(l[351],d([1,0,10,13,100,946]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t){var i=this;e.call(this),this._opts=t,this._checked=this._opts.isChecked,this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.className=this._className(),this.domNode.tabIndex=0,this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.onclick(this.domNode,function(e){i.checked=!i._checked,i._opts.onChange(!1),e.preventDefault()}),this.onkeydown(this.domNode,function(e){return e.keyCode===n.KeyCode.Space||e.keyCode===n.KeyCode.Enter?(i.checked=!i._checked,i._opts.onChange(!0),void e.preventDefault()):void(i._opts.onKeyDown&&i._opts.onKeyDown(e))})}return h(t,e),t.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.className=this._className()},enumerable:!0,configurable:!0}),t.prototype._className=function(){return"custom-checkbox "+this._opts.actionClassName+" "+(this._checked?"checked":"unchecked")},t.prototype.width=function(){return 22},t.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},t.prototype.disable=function(){i.removeTabIndexAndUpdateFocus(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},t}(o.Widget);t.Checkbox=r}),define(l[106],d([1,0,382,59,10,134,120,49,298,24,100,932]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=o.emmet;!function(e){e[e.INFO=1]="INFO",e[e.WARNING=2]="WARNING",e[e.ERROR=3]="ERROR"}(t.MessageType||(t.MessageType={}));var p=t.MessageType,f=function(e){function t(t,i,r){var s=this;e.call(this),this.state="idle",this._onDidChange=this._register(new u.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new u.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=i,this.options=r||Object.create(null),this.message=null,this.cachedHeight=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation,this.showValidationMessage=this.options.validationOptions.showMessage||!1),this.element=o.append(t,d(".monaco-inputbox.idle"));var c=this.options.flexibleHeight?"textarea":"input",l=o.append(this.element,d(".wrapper"));this.input=o.append(l,d(c+".input")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,function(){return o.addClass(s.element,"synthetic-focus")}),this.onblur(this.input,function(){return o.removeClass(s.element,"synthetic-focus")}),this.options.flexibleHeight?this.mirror=o.append(l,d("div.mirror")):(this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off")),this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&(this.input.setAttribute("placeholder",this.placeholder),this.input.title=this.placeholder),this.oninput(this.input,function(){return s.onValueChange()}),this.onblur(this.input,function(){return s.onBlur()}),this.onfocus(this.input,function(){return s.onFocus()}),this.placeholder&&n.isIE11orEarlier&&(this.onclick(this.input,function(e){o.EventHelper.stop(e,!0),s.input.focus()}),n.isIE9&&this.onkeyup(this.input,function(){return s.onValueChange()})),setTimeout(function(){return s.layout()},0),this.options.actions&&(this.actionbar=this._register(new a.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1}))}return h(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.input&&this.input.setAttribute("placeholder",e)},t.prototype.setAriaLabel=function(e){this.ariaLabel=e,this.input&&(e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label"))},t.prototype.setContextViewProvider=function(e){this.contextViewProvider=e},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return null===this.cachedHeight?o.getTotalHeight(this.element):this.cachedHeight},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.input.disabled=!0,this._hideMessage()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},Object.defineProperty(t.prototype,"width",{get:function(){return o.getTotalWidth(this.input)},set:function(e){this.input.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.showMessage=function(e,t){this.message=e,o.removeClass(this.element,"idle"),o.removeClass(this.element,"info"),o.removeClass(this.element,"warning"),o.removeClass(this.element,"error"),o.addClass(this.element,this.classForType(e.type));var n;n=e.type===p.ERROR?i.localize(0,null,e.content):e.type===p.WARNING?i.localize(1,null,e.content):i.localize(2,null,e.content),s.alert(n),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,o.removeClass(this.element,"info"),o.removeClass(this.element,"warning"),o.removeClass(this.element,"error"),o.addClass(this.element,"idle"),this._hideMessage()},t.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)},t.prototype.validate=function(){var e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e},t.prototype.classForType=function(e){switch(e){case p.INFO:return"info";case p.WARNING:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,i=function(){return t.style.width=o.getTotalWidth(e.element)+"px"};this.state="open",this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:c.AnchorAlignment.RIGHT,render:function(n){t=o.append(n,d(".monaco-inputbox-container")),i();var s={tagName:"span",className:"monaco-inputbox-message"};e.message.formatContent?s.formattedText=e.message.content:s.text=e.message.content;var a=r.renderHtml(s);return o.addClass(a,e.classForType(e.message.type)),o.append(t,a),null},layout:i})}},t.prototype._hideMessage=function(){this.contextViewProvider&&"open"===this.state&&(this.state="idle",this.contextViewProvider.hideContextView())},t.prototype.onValueChange=function(){if(this._onDidChange.fire(this.value),this.validate(),this.mirror){var e=this.value.charCodeAt(this.value.length-1),t=10===e?" ":"";this.mirror.textContent=this.value+t,this.layout()}"open"===this.state&&this.contextViewProvider.layout()},t.prototype.layout=function(){if(this.mirror){var e=this.cachedHeight;this.cachedHeight=o.getTotalHeight(this.mirror),e!==this.cachedHeight&&(this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedHeight))}},t.prototype.dispose=function(){this._hideMessage(),this.element=null,this.input=null,this.contextViewProvider=null,this.message=null,this.placeholder=null,this.ariaLabel=null,this.validation=null,this.showValidationMessage=null,this.state=null,this.actionbar=null,e.prototype.dispose.call(this)},t}(l.Widget);t.InputBox=f}),define(l[283],d([1,0,384,10,106,351,100,24,13,933]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=i.localize(0,null),l=i.localize(1,null),d=i.localize(2,null),p=i.localize(3,null),f=function(e){function t(t,i,n){var o=this;e.call(this),this._onDidOptionChange=this._register(new a.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new a.Emitter),this.onKeyDown=this._onKeyDown.event,this._onInput=this._register(new a.Emitter),this.onInput=this._onInput.event,this._onKeyUp=this._register(new a.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCaseSensitiveKeyDown=this._register(new a.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this.contextViewProvider=i,this.width=n.width||100,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||p,this.regex=null,this.wholeWords=null,this.caseSensitive=null,this.domNode=null,this.inputBox=null,this.buildDomNode(n.appendCaseSensitiveLabel||"",n.appendWholeWordsLabel||"",n.appendRegexLabel||""),Boolean(t)&&t.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,function(e){return o._onKeyDown.fire(e)}),this.onkeyup(this.inputBox.inputElement,function(e){return o._onKeyUp.fire(e)}),this.oninput(this.inputBox.inputElement,function(e){return o._onInput.fire()})}return h(t,e),t.prototype.enable=function(){n.removeClass(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},t.prototype.disable=function(){n.addClass(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.clear=function(){this.clearValidation(),this.setValue(""),this.focus()},t.prototype.setWidth=function(e){this.width=e,this.domNode.style.width=this.width+"px",this.contextViewProvider.layout(),this.setInputWidth()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.setMatchCountState=function(e){this.matchCount.setState(e),this.setInputWidth()},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},t.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e,this.setInputWidth()},t.prototype.getWholeWords=function(){return this.wholeWords.checked},t.prototype.setWholeWords=function(e){this.wholeWords.checked=e,this.setInputWidth()},t.prototype.getRegex=function(){return this.regex.checked},t.prototype.setRegex=function(e){this.regex.checked=e,this.setInputWidth()},t.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},t.prototype.setInputWidth=function(){var e=this.width-this.matchCount.width()-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e},t.prototype.buildDomNode=function(e,t,i){var s=this;this.domNode=document.createElement("div"),this.domNode.style.width=this.width+"px",n.addClass(this.domNode,"monaco-findInput"),this.inputBox=this._register(new o.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",
ariaLabel:this.label||"",validationOptions:{validation:this.validation||null,showMessage:!0}})),this.regex=this._register(new r.Checkbox({actionClassName:"regex",title:u+i,isChecked:!1,onChange:function(e){s._onDidOptionChange.fire(e),e||s.inputBox.focus(),s.setInputWidth(),s.validate()}})),this.wholeWords=this._register(new r.Checkbox({actionClassName:"whole-word",title:l+t,isChecked:!1,onChange:function(e){s._onDidOptionChange.fire(e),e||s.inputBox.focus(),s.setInputWidth(),s.validate()}})),this.caseSensitive=this._register(new r.Checkbox({actionClassName:"case-sensitive",title:d+e,isChecked:!1,onChange:function(e){s._onDidOptionChange.fire(e),e||s.inputBox.focus(),s.setInputWidth(),s.validate()},onKeyDown:function(e){s._onCaseSensitiveKeyDown.fire(e)}})),this.matchCount=this._register(new g({onClick:function(e){s.inputBox.focus(),e.preventDefault()}}));var a=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(e){if(e.equals(c.CommonKeybindings.LEFT_ARROW)||e.equals(c.CommonKeybindings.RIGHT_ARROW)||e.equals(c.CommonKeybindings.ESCAPE)){var t=a.indexOf(document.activeElement);if(t>=0){var i=void 0;e.equals(c.CommonKeybindings.RIGHT_ARROW)?i=(t+1)%a.length:e.equals(c.CommonKeybindings.LEFT_ARROW)&&(i=0===t?a.length-1:t-1),e.equals(c.CommonKeybindings.ESCAPE)?a[t].blur():i>=0&&a[i].focus(),n.EventHelper.stop(e,!0)}}}),this.setInputWidth();var h=document.createElement("div");h.className="controls",h.appendChild(this.matchCount.domNode),h.appendChild(this.caseSensitive.domNode),h.appendChild(this.wholeWords.domNode),h.appendChild(this.regex.domNode),this.domNode.appendChild(h)},t.prototype.validate=function(){this.inputBox.validate()},t.prototype.showMessage=function(e){this.inputBox.showMessage(e)},t.prototype.clearMessage=function(){this.inputBox.hideMessage()},t.prototype.clearValidation=function(){this.inputBox.hideMessage()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.OPTION_CHANGE="optionChange",t}(s.Widget);t.FindInput=f;var g=function(e){function t(t){e.call(this),this.domNode=document.createElement("div"),this.domNode.className="matchCount",this.setState({isVisible:!1,count:"0",title:""}),this.onclick(this.domNode,t.onClick)}return h(t,e),t.prototype.width=function(){return this.isVisible?30:0},t.prototype.setState=function(e){n.clearNode(this.domNode),this.domNode.appendChild(document.createTextNode(e.count)),this.domNode.title=e.title,this.isVisible=e.isVisible,this.isVisible?this.domNode.style.display="block":this.domNode.style.display="none"},t}(s.Widget)}),define(l[200],d([1,0,220,100,16]),function(e,t,i,n,o){"use strict";t.ARROW_IMG_SIZE=11;var r=function(e){function n(n){var r=this;e.call(this),this._onActivate=n.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=n.bgWidth+"px",this.bgDomNode.style.height=n.bgHeight+"px","undefined"!=typeof n.top&&(this.bgDomNode.style.top="0px"),"undefined"!=typeof n.left&&(this.bgDomNode.style.left="0px"),"undefined"!=typeof n.bottom&&(this.bgDomNode.style.bottom="0px"),"undefined"!=typeof n.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=n.className,this.domNode.style.position="absolute",this.domNode.style.width=t.ARROW_IMG_SIZE+"px",this.domNode.style.height=t.ARROW_IMG_SIZE+"px","undefined"!=typeof n.top&&(this.domNode.style.top=n.top+"px"),"undefined"!=typeof n.left&&(this.domNode.style.left=n.left+"px"),"undefined"!=typeof n.bottom&&(this.domNode.style.bottom=n.bottom+"px"),"undefined"!=typeof n.right&&(this.domNode.style.right=n.right+"px"),this._mouseMoveMonitor=this._register(new i.GlobalMouseMoveMonitor),this.onmousedown(this.bgDomNode,function(e){return r._arrowMouseDown(e)}),this.onmousedown(this.domNode,function(e){return r._arrowMouseDown(e)}),this._mousedownRepeatTimer=this._register(new o.IntervalTimer),this._mousedownScheduleRepeatTimer=this._register(new o.TimeoutTimer)}return h(n,e),n.prototype._arrowMouseDown=function(e){var t=this,n=function(){t._mousedownRepeatTimer.cancelAndSet(function(){return t._onActivate()},1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(n,200),this._mouseMoveMonitor.startMonitoring(i.standardMouseMoveMerger,function(e){},function(){t._mousedownRepeatTimer.cancel(),t._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()},n}(n.Widget);t.ScrollbarArrow=r}),define(l[279],d([1,0,12,10,77,220,100,60,200,358]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=140,d=function(e){function t(t){var i=this;e.call(this),this._canUseTranslate3d=t.canUseTranslate3d,this._lazyRender=t.lazyRender,this._host=t.host,this._scrollable=t.scrollable,this._scrollbarState=t.scrollbarState,this._visibilityController=this._register(new u.ScrollbarVisibilityController(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),this._mouseMoveMonitor=this._register(new r.GlobalMouseMoveMonitor),this._shouldRender=!0,this.domNode=a.createFastDomNode(document.createElement("div")),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,function(e){return i._domNodeMouseDown(e)})}return h(t,e),t.prototype._createArrow=function(e){var t=this._register(new c.ScrollbarArrow(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)},t.prototype._createSlider=function(e,t,i,n){var o=this;this.slider=a.createFastDomNode(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),this.slider.setWidth(i),this.slider.setHeight(n),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,function(e){return o._sliderMouseDown(e)})},t.prototype.setCanUseTranslate3d=function(e){return this._canUseTranslate3d=e,!0},t.prototype._onElementSize=function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollSize=function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollPosition=function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},t.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},t.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._canUseTranslate3d?this.domNode.setTransform("translate3d(0px, 0px, 0px)"):this.domNode.setTransform(""),this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},t.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},t.prototype.delegateMouseDown=function(e){var t=new o.StandardMouseEvent(e),i=this.domNode.domNode.getClientRects()[0].top,n=i+this._scrollbarState.getSliderPosition(),r=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),s=this._sliderMousePosition(t);n<=s&&s<=r?this._sliderMouseDown(t):this._onMouseDown(t)},t.prototype._onMouseDown=function(e){var t=n.getDomNodePagePosition(this.domNode.domNode),i=this._mouseDownRelativePosition(e,t)-this._scrollbarState.getArrowSize()-this._scrollbarState.getSliderSize()/2;this.setDesiredScrollPosition(this._scrollbarState.convertSliderPositionToScrollPosition(i)),this._sliderMouseDown(e)},t.prototype._sliderMouseDown=function(e){var t=this;if(e.leftButton){var n=this._sliderOrthogonalMousePosition(e),o=this._getScrollPosition(),s=this._sliderMousePosition(e)-this._scrollbarState.getSliderPosition();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(r.standardMouseMoveMerger,function(e){var r=t._sliderOrthogonalMousePosition(e),a=Math.abs(r-n);if(i.isWindows&&a>l)t.setDesiredScrollPosition(o);else{var c=t._sliderMousePosition(e)-s;t.setDesiredScrollPosition(t._scrollbarState.convertSliderPositionToScrollPosition(c))}},function(){t.slider.toggleClassName("active",!1),t._host.onDragEnd()}),e.preventDefault(),this._host.onDragStart()}},t.prototype.validateScrollPosition=function(e){return this._scrollbarState.validateScrollPosition(e)},t.prototype.setDesiredScrollPosition=function(e){e=this.validateScrollPosition(e);var t=this._getScrollPosition();this._setScrollPosition(e);var i=this._getScrollPosition();return t!==i&&(this._onElementScrollPosition(this._getScrollPosition()),!0)},t}(s.Widget);t.AbstractScrollbar=d}),define(l[356],d([1,0,279,77,94,273,200]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,a){var c=this;if(e.call(this,{canUseTranslate3d:i.canUseTranslate3d,lazyRender:i.lazyRender,host:a,scrollbarState:new r.ScrollbarState(i.horizontalHasArrows?i.arrowSize:0,i.horizontal===o.ScrollbarVisibility.Hidden?0:i.horizontalScrollbarSize,i.vertical===o.ScrollbarVisibility.Hidden?0:i.verticalScrollbarSize),visibility:i.horizontal,extraScrollbarClassName:"horizontal",scrollable:t}),i.horizontalHasArrows){var u=(i.arrowSize-s.ARROW_IMG_SIZE)/2,l=(i.horizontalScrollbarSize-s.ARROW_IMG_SIZE)/2;this._createArrow({className:"left-arrow",top:l,left:u,bottom:void 0,right:void 0,bgWidth:i.arrowSize,bgHeight:i.horizontalScrollbarSize,onActivate:function(){return c._host.onMouseWheel(new n.StandardMouseWheelEvent(null,1,0))}}),this._createArrow({className:"right-arrow",top:l,left:void 0,bottom:void 0,right:u,bgWidth:i.arrowSize,bgHeight:i.horizontalScrollbarSize,onActivate:function(){return c._host.onMouseWheel(new n.StandardMouseWheelEvent(null,(-1),0))}})}this._createSlider(Math.floor((i.horizontalScrollbarSize-i.horizontalSliderSize)/2),0,null,i.horizontalSliderSize)}return h(t,e),t.prototype._updateSlider=function(e,t){this.slider.setWidth(e),this._canUseTranslate3d?(this.slider.setTransform("translate3d("+t+"px, 0px, 0px)"),this.slider.setLeft(0)):(this.slider.setTransform(""),this.slider.setLeft(t))},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e.posx-t.left},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posy},t.prototype._getScrollPosition=function(){return this._scrollable.getScrollLeft()},t.prototype._setScrollPosition=function(e){this._scrollable.updateState({scrollLeft:e})},t}(i.AbstractScrollbar);t.HorizontalScrollbar=a}),define(l[357],d([1,0,279,77,94,273,200]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,a){var c=this;if(e.call(this,{canUseTranslate3d:i.canUseTranslate3d,lazyRender:i.lazyRender,host:a,scrollbarState:new r.ScrollbarState(i.verticalHasArrows?i.arrowSize:0,i.vertical===o.ScrollbarVisibility.Hidden?0:i.verticalScrollbarSize,0),visibility:i.vertical,extraScrollbarClassName:"vertical",scrollable:t}),i.verticalHasArrows){var u=(i.arrowSize-s.ARROW_IMG_SIZE)/2,l=(i.verticalScrollbarSize-s.ARROW_IMG_SIZE)/2;this._createArrow({className:"up-arrow",top:u,left:l,bottom:void 0,right:void 0,bgWidth:i.verticalScrollbarSize,bgHeight:i.arrowSize,onActivate:function(){return c._host.onMouseWheel(new n.StandardMouseWheelEvent(null,0,1))}}),this._createArrow({className:"down-arrow",top:void 0,left:l,bottom:u,right:void 0,bgWidth:i.verticalScrollbarSize,bgHeight:i.arrowSize,onActivate:function(){return c._host.onMouseWheel(new n.StandardMouseWheelEvent(null,0,(-1)))}})}this._createSlider(0,Math.floor((i.verticalScrollbarSize-i.verticalSliderSize)/2),i.verticalSliderSize,null)}return h(t,e),t.prototype._updateSlider=function(e,t){this.slider.setHeight(e),this._canUseTranslate3d?(this.slider.setTransform("translate3d(0px, "+t+"px, 0px)"),this.slider.setTop(0)):(this.slider.setTransform(""),this.slider.setTop(t))},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e.posy-t.top},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posx},t.prototype._getScrollPosition=function(){return this._scrollable.getScrollTop()},t.prototype._setScrollPosition=function(e){this._scrollable.updateState({scrollTop:e})},t}(i.AbstractScrollbar);t.VerticalScrollbar=a}),define(l[138],d([1,0,59,10,12,77,356,357,94,5,364,100,16,60,24,894]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g){"use strict";function m(e){var t={canUseTranslate3d:e.canUseTranslate3d&&i.canUseTranslate3d,lazyRender:"undefined"!=typeof e.lazyRender&&e.lazyRender,className:"undefined"!=typeof e.className?e.className:"",useShadows:"undefined"==typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"==typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!=typeof e.flipAxes&&e.flipAxes,scrollYToX:"undefined"!=typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!=typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,arrowSize:"undefined"!=typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!=typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!=typeof e.horizontal?e.horizontal:c.ScrollbarVisibility.Auto,horizontalScrollbarSize:"undefined"!=typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!=typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!=typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!=typeof e.vertical?e.vertical:c.ScrollbarVisibility.Auto,verticalScrollbarSize:"undefined"!=typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!=typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!=typeof e.verticalSliderSize?e.verticalSliderSize:0,saveLastScrollTimeOnClassName:"undefined"!=typeof e.saveLastScrollTimeOnClassName?e.saveLastScrollTimeOnClassName:null};return t.horizontalSliderSize="undefined"!=typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!=typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,o.isMacintosh&&(t.className+=" mac"),t}var v=500,y=50,E=function(e){function t(t,i){var n=this;e.call(this),this._onScroll=this._register(new g.Emitter),this.onScroll=this._onScroll.event,t.style.overflow="hidden",this._options=m(i),this._scrollable=this._register(new l.Scrollable),this._register(this._scrollable.onScroll(function(e){n._onDidScroll(e),n._onScroll.fire(e)}));var o={onMouseWheel:function(e){return n._onMouseWheel(e)},onDragStart:function(){return n._onDragStart()},onDragEnd:function(){return n._onDragEnd()}};this._verticalScrollbar=this._register(new a.VerticalScrollbar(this._scrollable,this._options,o)),this._horizontalScrollbar=this._register(new s.HorizontalScrollbar(this._scrollable,this._options,o)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(t),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows&&(this._leftShadowDomNode=f.createFastDomNode(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=f.createFastDomNode(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=f.createFastDomNode(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,function(e){return n._onMouseOver(e)}),this.onnonbubblingmouseout(this._listenOnDomNode,function(e){return n._onMouseOut(e)}),this._hideTimeout=this._register(new p.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0}return h(t,e),t.prototype.dispose=function(){this._mouseWheelToDispose=u.dispose(this._mouseWheelToDispose),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)},t.prototype.updateState=function(e){this._scrollable.updateState(e)},t.prototype.getWidth=function(){return this._scrollable.getWidth()},t.prototype.getScrollWidth=function(){return this._scrollable.getScrollWidth()},t.prototype.getScrollLeft=function(){return this._scrollable.getScrollLeft()},t.prototype.getHeight=function(){return this._scrollable.getHeight()},t.prototype.getScrollHeight=function(){return this._scrollable.getScrollHeight()},t.prototype.getScrollTop=function(){return this._scrollable.getScrollTop()},t.prototype.updateClassName=function(e){this._options.className=e,o.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},t.prototype.updateOptions=function(e){var t=m(e);this._options.handleMouseWheel=t.handleMouseWheel,this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._shouldRender=this._horizontalScrollbar.setCanUseTranslate3d(t.canUseTranslate3d)||this._shouldRender,this._shouldRender=this._verticalScrollbar.setCanUseTranslate3d(t.canUseTranslate3d)||this._shouldRender,this._options.lazyRender||this._render()},t.prototype._setListeningToMouseWheel=function(e){var t=this,i=this._mouseWheelToDispose.length>0;if(i!==e&&(this._mouseWheelToDispose=u.dispose(this._mouseWheelToDispose),e)){var o=function(e){var i=new r.StandardMouseWheelEvent(e);t._onMouseWheel(i)};this._mouseWheelToDispose.push(n.addDisposableListener(this._listenOnDomNode,"mousewheel",o)),this._mouseWheelToDispose.push(n.addDisposableListener(this._listenOnDomNode,"DOMMouseScroll",o))}},t.prototype._onMouseWheel=function(e){if(o.isMacintosh&&e.browserEvent&&this._options.saveLastScrollTimeOnClassName){var t=e.browserEvent.target;if(t&&1===t.nodeType){var i=n.findParentWithClass(t,this._options.saveLastScrollTimeOnClassName);i&&i.setAttribute("last-scroll-time",String((new Date).getTime()))}}var r=-1,s=-1;if(e.deltaY||e.deltaX){var a=e.deltaY*this._options.mouseWheelScrollSensitivity,c=e.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.flipAxes&&(a=e.deltaX,c=e.deltaY),this._options.scrollYToX&&!c&&(c=e.deltaY,a=0),o.isMacintosh&&(a&&Math.abs(c)<.2&&(c=0),Math.abs(a)>.5*Math.abs(c)&&(c=0)),a){var u=this._scrollable.getScrollTop();r=this._verticalScrollbar.validateScrollPosition((r!==-1?r:u)-y*a),r===u&&(r=-1)}if(c){var l=this._scrollable.getScrollLeft();s=this._horizontalScrollbar.validateScrollPosition((s!==-1?s:l)-y*c),s===l&&(s=-1)}r===-1&&s===-1||(r!==-1&&(this._shouldRender=this._verticalScrollbar.setDesiredScrollPosition(r)||this._shouldRender,r=-1),s!==-1&&(this._shouldRender=this._horizontalScrollbar.setDesiredScrollPosition(s)||this._shouldRender,s=-1))}e.preventDefault(),e.stopPropagation()},t.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._reveal(),this._options.lazyRender||this._render()},t.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},t.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getScrollTop()>0,t=this._scrollable.getScrollLeft()>0;this._leftShadowDomNode.setClassName("shadow"+(t?" left":"")),this._topShadowDomNode.setClassName("shadow"+(e?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(e?" top":"")+(t?" left":""))}},t.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},t.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},t.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},t.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},t.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},t.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},t.prototype._scheduleHide=function(){var e=this;this._hideTimeout.cancelAndSet(function(){return e._hide()},v)},t}(d.Widget);t.ScrollableElement=E;var S=function(e){function t(t,i){var n=this;e.call(this,t,i),this._element=t,this.onScroll(function(e){e.scrollTopChanged&&(n._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(n._element.scrollLeft=e.scrollLeft)}),this.scanDomNode()}return h(t,e),t.prototype.scanDomNode=function(){this.updateState({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,scrollLeft:this._element.scrollLeft,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight,scrollTop:this._element.scrollTop})},t}(E);t.DomScrollableElement=S}),define(l[359],d([1,0,29,5,136,10,138,94,959,343]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=["click","dblclick","mouseup","mousedown","mouseover","mousemove","mouseout","contextmenu"],d={useShadows:!0},h=function(){function e(e,t,n,r){var l=this;void 0===r&&(r=d),this.delegate=t,this.items=[],this.itemId=0,this.rangeMap=new c.RangeMap,this.renderers=i.toObject(n,function(e){return e.templateId}),this.cache=new u.RowCache(this.renderers),this.lastRenderTop=0,this.lastRenderHeight=0,this._domNode=document.createElement("div"),this._domNode.className="monaco-list",this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.gesture=new o.Gesture(this.rowsContainer),this.scrollableElement=new s.ScrollableElement(this.rowsContainer,{canUseTranslate3d:!1,horizontal:a.ScrollbarVisibility.Hidden,vertical:a.ScrollbarVisibility.Auto,useShadows:i.getOrDefault(r,function(e){return e.useShadows},d.useShadows),saveLastScrollTimeOnClassName:"monaco-list-row"});var h=this.scrollableElement.onScroll(function(e){return l.render(e.scrollTop,e.height)});this._domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this._domNode),this.toDispose=[this.rangeMap,this.gesture,h,this.scrollableElement],this.layout()}return Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t){for(var i=this,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);c.each(r,function(e){return i.removeItemFromDOM(i.items[e])});var s=n.map(function(e){return{id:String(i.itemId++),element:e,size:i.delegate.getHeight(e),templateId:i.delegate.getTemplateId(e),row:null}});(d=this.rangeMap).splice.apply(d,[e,t].concat(s));var a=(h=this.items).splice.apply(h,[e,t].concat(s)),u=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);c.each(u,function(e){return i.insertItemInDOM(i.items[e],e)});var l=this.getContentHeight();return this.rowsContainer.style.height=l+"px",this.scrollableElement.updateState({scrollHeight:l}),a.map(function(e){return e.element});var d,h},Object.defineProperty(e.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){return this.scrollableElement.getHeight()},enumerable:!0,configurable:!0}),e.prototype.element=function(e){return this.items[e].element},e.prototype.elementHeight=function(e){return this.items[e].size},e.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},e.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},e.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},e.prototype.layout=function(e){this.scrollableElement.updateState({height:e||r.getContentHeight(this._domNode)})},e.prototype.render=function(e,t){var i=this,n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o=this.getRenderRange(e,t),r=c.relativeComplement(o,n),s=c.relativeComplement(n,o);r.forEach(function(e){return c.each(e,function(e){return i.insertItemInDOM(i.items[e],e)})}),s.forEach(function(e){return c.each(e,function(e){return i.removeItemFromDOM(i.items[e])})}),this.rowsContainer.style.transform="translate3d(0px, -"+e+"px, 0px)",this.lastRenderTop=e,this.lastRenderHeight=t},e.prototype.insertItemInDOM=function(e,t){e.row||(e.row=this.cache.alloc(e.templateId)),e.row.domNode.parentElement||this.rowsContainer.appendChild(e.row.domNode);var i=this.renderers[e.templateId];e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.style.height=e.size+"px",e.row.domNode.setAttribute("data-index",""+t),i.renderElement(e.element,t,e.row.templateData)},e.prototype.removeItemFromDOM=function(e){this.cache.release(e.row),e.row=null},e.prototype.getContentHeight=function(){return this.rangeMap.size},e.prototype.getScrollTop=function(){return this.scrollableElement.getScrollTop()},e.prototype.setScrollTop=function(e){this.scrollableElement.updateState({scrollTop:e})},e.prototype.addListener=function(e,t,n){var o=this;if(l.indexOf(e)>-1){var s=t;t=function(e){var t=o.getItemIndex(e);if(!(t<0)){var n=o.items[t].element;s(i.assign(e,{element:n,index:t}))}}}return r.addDisposableListener(this.domNode,e,t,n)},e.prototype.getItemIndex=function(e){for(var t=e.target;t instanceof HTMLElement&&t!==this.rowsContainer;){var i=t,n=i.getAttribute("data-index");if(n){var o=Number(n);if(!isNaN(o))return o}t=i.parentElement}return-1},e.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},e.prototype.dispose=function(){this.items=null,this._domNode&&this._domNode.parentElement&&(this._domNode.parentNode.removeChild(this._domNode),this._domNode=null),this.toDispose=n.dispose(this.toDispose)},e}();t.ListView=h}),define(l[360],d([1,0,5,17,10,24,267,359,914]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(){function e(e,t){this.controller=e,this.renderer=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{container:e,data:t}},e.prototype.renderElement=function(e,t,i){this.controller.renderElement(e,t,i.container),this.renderer.renderElement(e,t,i.data)},e.prototype.disposeTemplate=function(e){return this.renderer.disposeTemplate(e.data)},e}(),u=function(){function e(e){this._trait=e,this._onChange=new r.Emitter,this.indexes=[]}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,i){for(var n=i-t,o=e+t,r=[],s=0,a=r;s<a.length;s++){var c=a[s];c>=e&&c<o||r.push(c>e?c+n:c)}this.indexes=r,this._onChange.fire({indexes:r})},e.prototype.renderElement=function(e,t,i){o.toggleClass(i,this._trait,this.contains(t))},e.prototype.set=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=this.indexes;return this.indexes=e,this._onChange.fire({indexes:e}),i},e.prototype.get=function(){return this.indexes},e.prototype.contains=function(e){return this.indexes.some(function(t){return t===e})},e.prototype.wrapRenderer=function(e){return new c(this,e)},e.prototype.dispose=function(){this.indexes=null,this._onChange=i.dispose(this._onChange)},e}(),l=function(e){function t(t){e.call(this,"focused"),this.getElementId=t}return h(t,e),t.prototype.renderElement=function(t,i,n){e.prototype.renderElement.call(this,t,i,n),n.setAttribute("role","option"),n.setAttribute("id",this.getElementId(i))},t}(u),d=function(){function e(e,t){var i=this;this.list=e,this.view=t,this.toDispose=[],this.toDispose.push(t.addListener("mousedown",function(e){return i.onMouseDown(e)})),this.toDispose.push(t.addListener("click",function(e){return i.onClick(e)}))}return e.prototype.onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},e.prototype.onClick=function(e){e.preventDefault(),e.stopPropagation(),this.view.domNode.focus(),this.list.setFocus(e.index),this.list.setSelection(e.index)},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e}(),p={},f=function(){function e(t,i,n,o){var c=this;void 0===o&&(o=p),this.idPrefix="list_id_"+ ++e.InstanceCount,this.focus=new l(function(e){return c.getElementId(e)}),this.selection=new u("selected"),this.eventBufferer=new r.EventBufferer,n=n.map(function(e){return e=c.focus.wrapRenderer(e),e=c.selection.wrapRenderer(e)}),this.view=new a.ListView(t,i,n,o),this.view.domNode.setAttribute("role","listbox"),this.view.domNode.tabIndex=0,this.controller=new d(this,this.view),this._onDOMFocus=s.domEvent(this.view.domNode,"focus")}return Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return this.eventBufferer.wrapEvent(r.mapEvent(this.focus.onChange,function(t){return e.toListEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return this.eventBufferer.wrapEvent(r.mapEvent(this.selection.onChange,function(t){return e.toListEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t){for(var i=this,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this.eventBufferer.bufferEvents(function(){i.focus.splice(e,t,n.length),i.selection.splice(e,t,n.length),(o=i.view).splice.apply(o,[e,t].concat(n));var o})},Object.defineProperty(e.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{
get:function(){return this.view.getScrollTop()},enumerable:!0,configurable:!0}),e.prototype.layout=function(e){this.view.layout(e)},e.prototype.setSelection=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.eventBufferer.bufferEvents(function(){t=t.concat((i=e.selection).set.apply(i,t)),t.forEach(function(t){return e.view.splice(t,1,e.view.element(t))});var i})},e.prototype.selectNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var i=this.selection.get(),n=i.length>0?i[0]+e:0;this.setSelection(t?n%this.length:Math.min(n,this.length-1))}},e.prototype.selectPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var i=this.selection.get(),n=i.length>0?i[0]-e:0;t&&n<0&&(n=this.length+n%this.length),this.setSelection(Math.max(n,0))}},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.setFocus=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.eventBufferer.bufferEvents(function(){t=t.concat((i=e.focus).set.apply(i,t)),t.forEach(function(t){return e.view.splice(t,1,e.view.element(t))});var i})},e.prototype.focusNext=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var i=this.focus.get(),n=i.length>0?i[0]+e:0;this.setFocus(t?n%this.length:Math.min(n,this.length-1))}},e.prototype.focusPrevious=function(e,t){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var i=this.focus.get(),n=i.length>0?i[0]-e:0;t&&n<0&&(n=(this.length+n%this.length)%this.length),this.setFocus(Math.max(n,0))}},e.prototype.focusNextPage=function(){var e=this,t=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);t=0===t?0:t-1;var i=this.view.element(t),n=this.getFocusedElements()[0];if(n!==i)this.setFocus(t);else{var o=this.view.getScrollTop();this.view.setScrollTop(o+this.view.renderHeight-this.view.elementHeight(t)),this.view.getScrollTop()!==o&&setTimeout(function(){return e.focusNextPage()},0)}},e.prototype.focusPreviousPage=function(){var e,t=this,i=this.view.getScrollTop();e=0===i?this.view.indexAt(i):this.view.indexAfter(i-1);var n=this.view.element(e),o=this.getFocusedElements()[0];if(o!==n)this.setFocus(e);else{var r=i;this.view.setScrollTop(i-this.view.renderHeight),this.view.getScrollTop()!==r&&setTimeout(function(){return t.focusPreviousPage()},0)}},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map(function(t){return e.view.element(t)})},e.prototype.reveal=function(e,t){var i=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(n.isNumber(t)){t=t<0?0:t,t=t>1?1:t;var s=r-this.view.renderHeight;this.view.setScrollTop(s*t+o)}else{var a=o+r,c=i+this.view.renderHeight;o<i?this.view.setScrollTop(o):a>=c&&this.view.setScrollTop(a-this.view.renderHeight)}},e.prototype.getElementId=function(e){return this.idPrefix+"_"+e},e.prototype.toListEvent=function(e){var t=this,i=e.indexes;return{indexes:i,elements:i.map(function(e){return t.view.element(e)})}},e.prototype.dispose=function(){this.view=i.dispose(this.view),this.focus=i.dispose(this.focus),this.selection=i.dispose(this.selection)},e.InstanceCount=0,e}();t.List=f}),define(l[361],d([1,0,12,59,2,5,10,289,136,9,77,83,216,226,138,94,346,217,13]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y,E){"use strict";function S(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0}function b(e){try{e.parentElement.removeChild(e)}catch(t){}}function _(e,t){return!e&&!t||!(!e||!t)&&(e.accept===t.accept&&(e.bubble===t.bubble&&e.effect===t.effect))}var C=function(){function e(e){this.context=e,this._cache={"":[]},this.scrollingRow=null}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var i=document.createElement("div");i.className="content";var n=document.createElement("div");n.appendChild(i),t={element:n,templateId:e,templateData:this.context.renderer.renderTemplate(this.context.tree,e,i)}}return t},e.prototype.release=function(e,t){var i=S(t.element);if(!i)return b(t.element),void this.cache(e).push(t);if(this.scrollingRow){var n=S(this.scrollingRow.element);if(n>i)return b(t.element),void this.cache(e).push(t);this.scrollingRow.element.parentElement&&(b(this.scrollingRow.element),s.removeClass(this.scrollingRow.element,"scrolling"),this.cache(this.scrollingRow.templateId).push(this.scrollingRow))}this.scrollingRow=t,s.addClass(this.scrollingRow.element,"scrolling")},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach(function(t){e._cache[t].forEach(function(i){e.context.renderer.disposeTemplate(e.context.tree,t,i.templateData),i.element=null,i.templateData=null}),delete e._cache[t]}),this.scrollingRow&&(this.context.renderer.disposeTemplate(this.context.tree,this.scrollingRow.templateId,this.scrollingRow.templateData),this.scrollingRow=null)},e.prototype.dispose=function(){this.garbageCollect(),this._cache=null,this.context=null},e}();t.RowCache=C;var w=function(){function e(e,t){var i=this;this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach(function(e){return i._styles[e]=!0}),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.model&&this.element){var i=["monaco-tree-row"];if(i.push.apply(i,Object.keys(this._styles)),this.model.hasChildren()&&i.push("has-children"),this.element.className=i.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem"),this.model.hasTrait("focused")){var n=u.safeBtoa(this.model.id),o=this.context.accessibilityProvider.getAriaLabel(this.context.tree,this.model.getElement());this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",n),o?this.element.setAttribute("aria-label",o):this.element.setAttribute("aria-labelledby",n)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id"),this.element.removeAttribute("aria-label"),this.element.removeAttribute("aria-labelledby");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(this.model.isExpanded())):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var r=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());r!==this.uri&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),r?(this.uri=r,this.draggable=!0,this.unbindDragStart=s.addDisposableListener(this.element,"dragstart",function(e){t.onDragStart(e)})):this.uri=null),e||this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}},e.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[T.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(i){console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart&&(this.unbindDragStart.dispose(),this.unbindDragStart=null),this.uri=null,this.element[T.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null,this.model=null},e}();t.ViewItem=w;var I=function(e){function t(t,i,n){e.call(this,t,i),this.row={element:n,templateData:null,templateId:null}}return h(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" ")}},t.prototype.insertInDOM=function(e,t){},t.prototype.removeFromDOM=function(){},t}(w),T=function(e){function t(t,i){var o=this;e.call(this),this.lastClickTimeStamp=0,this.isRefreshing=!1,this.refreshingPreviousChildrenIds={},this.context={dataSource:t.dataSource,renderer:t.renderer,controller:t.controller,dnd:t.dnd,filter:t.filter,sorter:t.sorter,tree:t.tree,accessibilityProvider:t.accessibilityProvider,options:t.options,cache:new C(t)},this.modelListeners=[],this.viewListeners=[],this.dragAndDropListeners=[],this.model=null,this.items={},this.domNode=document.createElement("div"),this.domNode.className="monaco-tree no-focused-item",this.domNode.tabIndex=0,this.domNode.setAttribute("role","tree"),this.context.options.ariaLabel&&this.domNode.setAttribute("aria-label",this.context.options.ariaLabel),this.context.options.alwaysFocused&&s.addClass(this.domNode,"focused"),this.context.options.bare&&s.addClass(this.domNode,"bare"),this.context.options.paddingOnRow||s.addClass(this.domNode,"no-row-padding"),this.wrapper=document.createElement("div"),this.wrapper.className="monaco-tree-wrapper",this.scrollableElement=new g.ScrollableElement(this.wrapper,{canUseTranslate3d:!1,horizontal:m.ScrollbarVisibility.Hidden,vertical:"undefined"!=typeof t.options.verticalScrollMode?t.options.verticalScrollMode:m.ScrollbarVisibility.Auto,useShadows:t.options.useShadows,saveLastScrollTimeOnClassName:"monaco-tree-row"}),this.scrollableElement.onScroll(function(e){o.render(e.scrollTop,e.height),o.emit("scroll",e)}),n.isIE11orEarlier?(this.wrapper.style.msTouchAction="none",this.wrapper.style.msContentZooming="none"):this.wrapperGesture=new c.Gesture(this.wrapper),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-tree-rows";var r=s.trackFocus(this.domNode);r.addFocusListener(function(){return o.onFocus()}),r.addBlurListener(function(){return o.onBlur()}),this.viewListeners.push(r),this.viewListeners.push(s.addDisposableListener(this.domNode,"keydown",function(e){return o.onKeyDown(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"keyup",function(e){return o.onKeyUp(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"mousedown",function(e){return o.onMouseDown(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"mouseup",function(e){return o.onMouseUp(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,"click",function(e){return o.onClick(e)})),this.viewListeners.push(s.addDisposableListener(this.domNode,"contextmenu",function(e){return o.onContextMenu(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,c.EventType.Tap,function(e){return o.onTap(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,c.EventType.Change,function(e){return o.onTouchChange(e)})),n.isIE11orEarlier&&(this.viewListeners.push(s.addDisposableListener(this.wrapper,"MSPointerDown",function(e){return o.onMsPointerDown(e)})),this.viewListeners.push(s.addDisposableListener(this.wrapper,"MSGestureTap",function(e){return o.onMsGestureTap(e)})),this.viewListeners.push(s.addDisposableThrottledListener(this.wrapper,"MSGestureChange",function(e){return o.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation(),t.preventDefault();var i={translationY:t.translationY,translationX:t.translationX};return e&&(i.translationY+=e.translationY,i.translationX+=e.translationX),i}))),this.viewListeners.push(s.addDisposableListener(window,"dragover",function(e){return o.onDragOver(e)})),this.viewListeners.push(s.addDisposableListener(window,"drop",function(e){return o.onDrop(e)})),this.viewListeners.push(s.addDisposableListener(window,"dragend",function(e){return o.onDragEnd(e)})),this.viewListeners.push(s.addDisposableListener(window,"dragleave",function(e){return o.onDragOver(e)})),this.wrapper.appendChild(this.rowsContainer),this.domNode.appendChild(this.scrollableElement.getDomNode()),i.appendChild(this.domNode),this.lastRenderTop=0,this.lastRenderHeight=0,this.didJustPressContextMenuKey=!1,this.currentDropTarget=null,this.currentDropTargets=[],this.shouldInvalidateDropReaction=!1,this.dragAndDropScrollInterval=null,this.dragAndDropScrollTimeout=null,this.onHiddenScrollTop=null,this.onRowsChanged(),this.layout(),this.setupMSGesture()}return h(t,e),t.prototype.createViewItem=function(e){return new w(this.context,e)},t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop,this.onHiddenScrollTop=null,this.setupMSGesture()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout(function(){return e.msGesture.target=e.wrapper},100))},t.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e){this.isTreeVisible()&&(this.viewHeight=e||s.getContentHeight(this.wrapper))},t.prototype.render=function(e,t){var i,n,o=e,r=e+t,s=this.lastRenderTop+this.lastRenderHeight;for(i=this.indexAfter(r)-1,n=this.indexAt(Math.max(s,o));i>=n;i--)this.insertItemInDOM(this.itemAtIndex(i));for(i=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(r))-1,n=this.indexAt(o);i>=n;i--)this.insertItemInDOM(this.itemAtIndex(i));for(i=this.indexAt(this.lastRenderTop),n=Math.min(this.indexAt(o),this.indexAfter(s));i<n;i++)this.removeItemFromDOM(this.itemAtIndex(i));for(i=Math.max(this.indexAfter(r),this.indexAt(this.lastRenderTop)),n=this.indexAfter(s);i<n;i++)this.removeItemFromDOM(this.itemAtIndex(i));var a=this.itemAtIndex(this.indexAt(o));a&&(this.rowsContainer.style.top=a.top-o+"px"),this.lastRenderTop=o,this.lastRenderHeight=r-o},t.prototype.setModel=function(e){var t=this;this.releaseModel(),this.model=e,this.modelListeners.push(this.model.addBulkListener2(function(e){return t.onModelEvents(e)}))},t.prototype.onModelEvents=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var o=e[i],r=o.getData();switch(o.getType()){case"refreshing":this.onRefreshing();break;case"refreshed":this.onRefreshed();break;case"clearingInput":this.onClearingInput(r);break;case"setInput":this.onSetInput(r);break;case"item:childrenRefreshing":this.onItemChildrenRefreshing(r);break;case"item:childrenRefreshed":this.onItemChildrenRefreshed(r);break;case"item:refresh":t.push(r.item);break;case"item:expanding":this.onItemExpanding(r);break;case"item:expanded":this.onItemExpanded(r);break;case"item:collapsing":this.onItemCollapsing(r);break;case"item:reveal":this.onItemReveal(r);break;case"item:addTrait":this.onItemAddTrait(r);break;case"item:removeTrait":this.onItemRemoveTrait(r);break;case"focus":this.onModelFocusChange()}}t.length>0&&this.onItemsRefresh(t)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e)},t.prototype.focusNextPage=function(e){var t=this,i=this.indexAt(this.scrollTop+this.viewHeight);i=0===i?0:i-1;var n=this.itemAtIndex(i).model.getElement(),o=this.model.getFocus();if(o!==n)this.model.setFocus(n,e);else{var r=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==r&&setTimeout(function(){t.focusNextPage(e)},0)}},t.prototype.focusPreviousPage=function(e){var t,i=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var n=this.itemAtIndex(t).model.getElement(),o=this.model.getFocus();if(o!==n)this.model.setFocus(n,e);else{var r=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==r&&setTimeout(function(){i.focusPreviousPage(e)},0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){return this.scrollableElement.getHeight()},set:function(e){this.scrollableElement.updateState({height:e,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){return this.scrollableElement.getScrollTop()},set:function(e){this.scrollableElement.updateState({scrollTop:e,scrollHeight:this.getTotalHeight()})},enumerable:!0,configurable:!0}),t.prototype.getScrollPosition=function(){var e=this.getTotalHeight()-this.viewHeight;return e<=0?0:this.scrollTop/e},t.prototype.setScrollPosition=function(e){var t=this.getTotalHeight()-this.viewHeight;this.scrollTop=t*e},t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new f.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new I(this.context,e.item,this.wrapper),this.emit("viewItem:create",{item:this.inputItem.model})},t.prototype.onItemChildrenRefreshing=function(e){var i=e.item,n=this.items[i.id];if(n&&(n.loadingPromise=o.TPromise.timeout(t.LOADING_DECORATION_DELAY).then(function(){n.loadingPromise=null,n.loading=!0})),!e.isNested){for(var r,s=[],a=i.getNavigator();r=a.next();)s.push(r.id);this.refreshingPreviousChildrenIds[i.id]=s}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,i=e.item,n=this.items[i.id];if(n&&(n.loadingPromise&&(n.loadingPromise.cancel(),n.loadingPromise=null),n.loading=!1),!e.isNested){for(var o,r=this.refreshingPreviousChildrenIds[i.id],s=[],c=i.getNavigator();o=c.next();)s.push(o);var u=Math.abs(r.length-s.length)>1e3,l=void 0,d=void 0;if(!u){var h=new a.LcsDiff({getLength:function(){return r.length},getElementHash:function(e){return r[e]}},{getLength:function(){return s.length},getElementHash:function(e){return s[e].id}},null);l=h.ComputeDiff(),d=l.some(function(e){if(e.modifiedLength>0)for(var i=e.modifiedStart,n=e.modifiedStart+e.modifiedLength;i<n;i++)if(t.items.hasOwnProperty(s[i].id))return!0;return!1})}if(!u&&!d&&l.length<50)for(var p=0,g=l.length;p<g;p++){var m=l[p];if(m.originalLength>0&&this.onRemoveItems(new f.ArrayIterator(r,m.originalStart,m.originalStart+m.originalLength)),m.modifiedLength>0){var v=s[m.modifiedStart-1]||i;v=v.getDepth()>0?v:null,this.onInsertItems(new f.ArrayIterator(s,m.modifiedStart,m.modifiedStart+m.modifiedLength),v?v.id:null)}}else(u||l.length)&&(this.onRemoveItems(new f.ArrayIterator(r)),this.onInsertItems(new f.ArrayIterator(s)));(u||l.length)&&this.onRowsChanged()}},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)})),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,i=this.items[t.id];if(i){i.expanded=!0;var n=this.onInsertItems(t.getNavigator(),t.id),o=this.scrollTop;i.top+i.height<=this.scrollTop&&(o+=n),this.onRowsChanged(o)}},t.prototype.onItemCollapsing=function(e){var t=e.item,i=this.items[t.id];i&&(i.expanded=!1,this.onRemoveItems(new f.MappedIterator(t.getNavigator(),function(e){return e&&e.id})),this.onRowsChanged())},t.prototype.getRelativeTop=function(e){if(e.isVisible()){var t=this.items[e.id];if(t)return(t.top-this.scrollTop)/(this.viewHeight-t.height)}return-1},t.prototype.onItemReveal=function(e){var t=e.item,i=e.relativeTop,n=this.items[t.id];if(n)if(null!==i){i=i<0?0:i,i=i>1?1:i;var o=n.height-this.viewHeight;this.scrollTop=o*i+n.top}else{var r=n.top+n.height,s=this.scrollTop+this.viewHeight;n.top<this.scrollTop?this.scrollTop=n.top:r>=s&&(this.scrollTop=r-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,i=e.trait,n=this.items[t.id];n&&n.addClass(i),"highlighted"===i&&(s.addClass(this.domNode,i),n&&(this.highlightedItemWasDraggable=!!n.draggable,n.draggable&&(n.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,i=e.trait,n=this.items[t.id];n&&n.removeClass(i),"highlighted"===i&&(s.removeClass(this.domNode,i),this.highlightedItemWasDraggable&&(n.draggable=!0),this.highlightedItemWasDraggable=!1)},t.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();s.toggleClass(this.domNode,"no-focused-item",!e),e?this.domNode.setAttribute("aria-activedescendant",u.safeBtoa(this.context.dataSource.getId(this.context.tree,e))):this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(i){t.onDragStart(e,i)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),this.emit("viewItem:dispose",{item:this.inputItem.model}),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new l.StandardMouseEvent(e),i=this.getItemAround(t.target);i&&(n.isIE10orLater&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,i.model.getElement(),t))}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new l.StandardMouseEvent(e);if(!(t.ctrlKey&&i.isNative&&i.isMacintosh)){var n=this.getItemAround(t.target);n&&this.context.controller.onMouseDown(this.context.tree,n.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new l.StandardMouseEvent(e);if(!(t.ctrlKey&&i.isNative&&i.isMacintosh)){var n=this.getItemAround(t.target);n&&this.context.controller.onMouseUp(this.context.tree,n.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,i;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var n=new d.StandardKeyboardEvent(e);if(i=this.model.getFocus(),!i)return;var o=this.context.dataSource.getId(this.context.tree,i),r=this.items[o],a=s.getDomNodePagePosition(r.element);t=new y.KeyboardContextMenuEvent(a.left+a.width,a.top,n)}else{var c=new l.StandardMouseEvent(e),u=this.getItemAround(c.target);if(!u)return;i=u.model.getElement(),t=new y.MouseContextMenuEvent(c)}this.context.controller.onContextMenu(this.context.tree,i,t)},t.prototype.onKeyDown=function(e){var t=new d.StandardKeyboardEvent(e);this.didJustPressContextMenuKey=t.keyCode===E.KeyCode.ContextMenu||t.shiftKey&&t.keyCode===E.KeyCode.F10,this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||this.context.controller.onKeyDown(this.context.tree,t)},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new d.StandardKeyboardEvent(e))},t.prototype.onDragStart=function(e,i){if(!this.model.getHighlight()){var n,o=e.model.getElement(),r=this.model.getSelection();if(n=r.indexOf(o)>-1?r:[o],i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData("URL",e.uri),i.dataTransfer.setDragImage)if(1===n.length&&e.element)i.dataTransfer.setDragImage(e.element,i.offsetX||6,i.offsetY||6);else if(n.length>1){var s=document.createElement("div");s.className="monaco-tree-drag-image",s.textContent=""+n.length,document.body.appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new p.ElementsDragAndDropData(n),t.currentExternalDragAndDropData=new p.ExternalElementsDragAndDropData(n),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new l.DragMouseEvent(i))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=s.getTopLeftOffset(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval(function(){if(void 0!==e.dragAndDropMouseY){var i=e.dragAndDropMouseY-t,n=0,o=e.viewHeight-35;i<35?n=Math.max(-14,.2*(i-35)):i>o&&(n=Math.min(14,.2*(i-o))),e.scrollTop+=n}},10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout(function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null},1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var i=this,n=new l.DragMouseEvent(e),r=this.getItemAround(n.target);if(!r)return this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=n.posy,!this.currentDragAndDropData)if(t.currentExternalDragAndDropData)this.currentDragAndDropData=t.currentExternalDragAndDropData;else{if(!n.dataTransfer.types)return!1;this.currentDragAndDropData=new p.DesktopDragAndDropData}this.currentDragAndDropData.update(n);var s,a,c=r.model;do{if(s=c?c.getElement():this.model.getInput(),a=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,s,n),!a||a.bubble!==y.DragOverBubble.BUBBLE_UP)break;c=c&&c.parent}while(c);if(!c)return this.currentDropElement=null,!1;var u=a&&a.accept;u?(this.currentDropElement=c.getElement(),n.preventDefault(),n.dataTransfer.dropEffect=a.effect===y.DragOverEffect.COPY?"copy":"move"):this.currentDropElement=null;var d=c.id===this.inputItem.id?this.inputItem:this.items[c.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==d||!_(this.currentDropElementReaction,a))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[],this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null)),this.currentDropTarget=d,this.currentDropElementReaction=a,u)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),a.bubble===y.DragOverBubble.BUBBLE_DOWN)for(var h,f=c.getNavigator();h=f.next();)r=this.items[h.id],r&&(r.dropTarget=!0,this.currentDropTargets.push(r));this.currentDropPromise=o.TPromise.timeout(500).then(function(){return i.context.tree.expand(i.currentDropElement).then(function(){i.shouldInvalidateDropReaction=!0})})}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new l.DragMouseEvent(e);t.preventDefault(),this.currentDragAndDropData.update(t),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach(function(e){return e.dropTarget=!1}),this.currentDropTargets=[]),this.currentDropPromise&&(this.currentDropPromise.cancel(),this.currentDropPromise=null),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,t.currentExternalDragAndDropData=null,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},t.prototype.onFocus=function(){this.context.options.alwaysFocused||s.addClass(this.domNode,"focused")},t.prototype.onBlur=function(){this.context.options.alwaysFocused||s.removeClass(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;return t===(e.MSPOINTER_TYPE_MOUSE||"mouse")?void(this.lastPointerType="mouse"):void(t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)))}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,i=this.itemAfter(e);i&&i.element&&(t=i.element),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop},t.prototype.getItemAround=function(e){var i=this.inputItem;do{if(e[t.BINDING]&&(i=e[t.BINDING]),e===this.wrapper||e===this.domNode)return i;if(e===document.body)return null}while(e=e.parentElement)},t.prototype.releaseModel=function(){this.model&&(this.modelListeners=r.dispose(this.modelListeners),this.model=null)},t.prototype.dispose=function(){this.scrollableElement.dispose(),this.releaseModel(),this.modelListeners=null,this.viewListeners=r.dispose(this.viewListeners),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.domNode=null,this.wrapperGesture&&(this.wrapperGesture.dispose(),this.wrapperGesture=null),this.context.cache&&(this.context.cache.dispose(),this.context.cache=null),e.prototype.dispose.call(this)},t.BINDING="monaco-tree-row",t.LOADING_DECORATION_DELAY=800,t.currentExternalDragAndDropData=null,t}(v.HeightMap);t.TreeView=T}),define(l[274],d([1,0,1003,5,201,10]),function(e,t,i,n,o,r){"use strict";function s(t,i){return e.toUrl("./"+t)}var a=i.getCrossOriginWorkerScriptUrl||s,c=function(){function e(e,t,i,n,o){this.id=t,this.worker=new Worker(a("workerMain.js",i)),this.postMessage(e),this.worker.onmessage=function(e){n(e.data)},"function"==typeof this.worker.addEventListener&&this.worker.addEventListener("error",o)}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e){this.worker.postMessage(e)},e.prototype.dispose=function(){
this.worker.terminate(),this.worker=null},e}(),u=function(){function t(t,i,n){var o=this;this.id=i,this._listeners=[],this.loaded=!1,this.beforeLoadMessages=[],this.postMessage(t),this.iframe=document.createElement("iframe"),this.iframe.id=this.iframeId(),this.iframe.src=e.toUrl("./workerMainCompatibility.html"),this.iframe.frameborder=this.iframe.height=this.iframe.width="0",this.iframe.style.display="none",this._listeners.push(r.addDisposableListener(this.iframe,"load",function(){return o.onLoaded()})),this.onMessage=function(e){n(e.data)},this._listeners.push(r.addDisposableListener(window,"message",this.onMessage)),document.body.appendChild(this.iframe)}return t.prototype.dispose=function(){this._listeners=n.dispose(this._listeners),window.removeEventListener("message",this.onMessage),window.frames[this.iframeId()].close()},t.prototype.iframeId=function(){return"worker_iframe_"+this.id},t.prototype.onLoaded=function(){for(this.loaded=!0;this.beforeLoadMessages.length>0;)this.postMessage(this.beforeLoadMessages.shift())},t.prototype.getId=function(){return this.id},t.prototype.postMessage=function(e){if(this.loaded===!0){var t=window.frames[this.iframeId()];t.postMessage?t.postMessage(e,"*"):t.contentWindow.postMessage(e,"*")}else this.beforeLoadMessages.push(e)},t}(),l=function(){function e(e){this._fallbackToIframe=e,this._webWorkerFailedBeforeError=!1}return e.prototype.create=function(t,i,n){var r=this,s=++e.LAST_WORKER_ID;if(this._fallbackToIframe){if(this._webWorkerFailedBeforeError)return new u(t,s,i);try{return new c(t,s,"service"+s,i,function(e){o.logOnceWebWorkerWarning(e),r._webWorkerFailedBeforeError=e,n(e)})}catch(a){return o.logOnceWebWorkerWarning(a),new u(t,s,i)}}if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new c(t,s,"service"+s,i,function(e){o.logOnceWebWorkerWarning(e),r._webWorkerFailedBeforeError=e,n(e)})},e.LAST_WORKER_ID=0,e}();t.DefaultWorkerFactory=l}),define(l[363],d([1,0,48,14,11,53,10]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t,i,o,r,s){void 0===i&&(i=0),void 0===o&&(o=null),void 0===r&&(r=null),void 0===s&&(s=null),this.element=e,this.type=t,this.mouseColumn=i,this.position=o,!r&&o&&(r=new n.Range(o.lineNumber,o.column,o.lineNumber,o.column)),this.range=r,this.detail=s}return e.prototype._typeToString=function(){return this.type===o.MouseTargetType.TEXTAREA?"TEXTAREA":this.type===o.MouseTargetType.GUTTER_GLYPH_MARGIN?"GUTTER_GLYPH_MARGIN":this.type===o.MouseTargetType.GUTTER_LINE_NUMBERS?"GUTTER_LINE_NUMBERS":this.type===o.MouseTargetType.GUTTER_LINE_DECORATIONS?"GUTTER_LINE_DECORATIONS":this.type===o.MouseTargetType.GUTTER_VIEW_ZONE?"GUTTER_VIEW_ZONE":this.type===o.MouseTargetType.CONTENT_TEXT?"CONTENT_TEXT":this.type===o.MouseTargetType.CONTENT_EMPTY?"CONTENT_EMPTY":this.type===o.MouseTargetType.CONTENT_VIEW_ZONE?"CONTENT_VIEW_ZONE":this.type===o.MouseTargetType.CONTENT_WIDGET?"CONTENT_WIDGET":this.type===o.MouseTargetType.OVERVIEW_RULER?"OVERVIEW_RULER":this.type===o.MouseTargetType.SCROLLBAR?"SCROLLBAR":this.type===o.MouseTargetType.OVERLAY_WIDGET?"OVERLAY_WIDGET":"UNKNOWN"},e.prototype.toString=function(){return this._typeToString()+": "+this.position+" - "+this.range+" - "+this.detail},e}(),c=function(){function e(e){return"[^/]*"+e+"[^/]*"}function t(){return"[^/]+"}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var i=!1;return"$"===e[e.length-1]&&(i=!0,e.pop()),new RegExp(n+e.join("\\/")+(i?"$":""))}var n="^"+r.ClassNames.OVERFLOW_GUARD+"\\/";return{IS_TEXTAREA_COVER:i(e(r.ClassNames.TEXTAREA_COVER),"$"),IS_TEXTAREA:i(r.ClassNames.TEXTAREA,"$"),IS_VIEW_LINES:i(t(),t(),r.ClassNames.VIEW_LINES,"$"),IS_CURSORS_LAYER:i(t(),t(),e(r.ClassNames.VIEW_CURSORS_LAYER),"$"),IS_CHILD_OF_VIEW_LINES:i(t(),t(),r.ClassNames.VIEW_LINES),IS_CHILD_OF_SCROLLABLE_ELEMENT:i(e(r.ClassNames.SCROLLABLE_ELEMENT)),IS_CHILD_OF_CONTENT_WIDGETS:i(t(),t(),r.ClassNames.CONTENT_WIDGETS),IS_CHILD_OF_OVERFLOWING_CONTENT_WIDGETS:new RegExp("^"+r.ClassNames.OVERFLOWING_CONTENT_WIDGETS+"\\/"),IS_CHILD_OF_OVERLAY_WIDGETS:i(r.ClassNames.OVERLAY_WIDGETS),IS_CHILD_OF_VIEW_OVERLAYS:i(r.ClassNames.MARGIN_VIEW_OVERLAYS),IS_CHILD_OF_VIEW_ZONES:i(t(),t(),r.ClassNames.VIEW_ZONES)}}(),u=function(){function e(e,t){this._context=e,this._viewHelper=t}return e.prototype.getClassNamePathTo=function(e,t){for(var i,n=[];e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i=e.className,i&&n.unshift(i)),e=e.parentNode;return n.join("/")},e.prototype.mouseTargetIsWidget=function(e){var t=e.target,i=this.getClassNamePathTo(t,this._viewHelper.viewDomNode);return!(!c.IS_CHILD_OF_CONTENT_WIDGETS.test(i)&&!c.IS_CHILD_OF_OVERFLOWING_CONTENT_WIDGETS.test(i))||!!c.IS_CHILD_OF_OVERLAY_WIDGETS.test(i)},e.prototype.createMouseTarget=function(e,t,i){try{var n=this._unsafeCreateMouseTarget(e,t,i);return n}catch(t){return this.createMouseTargetFromUnknownTarget(t.target)}},e.prototype._unsafeCreateMouseTarget=function(e,t,i){var n=Math.max(0,this._viewHelper.getScrollTop()+(t.posy-t.editorPos.top)),r=this._viewHelper.getScrollLeft()+(t.posx-t.editorPos.left)-e.contentLeft,s=this._getMouseColumn(r),u=t.target,l=this.getClassNamePathTo(u,this._viewHelper.viewDomNode);if(c.IS_CHILD_OF_CONTENT_WIDGETS.test(l)||c.IS_CHILD_OF_OVERFLOWING_CONTENT_WIDGETS.test(l))return this.createMouseTargetFromContentWidgetsChild(u,s);if(c.IS_CHILD_OF_OVERLAY_WIDGETS.test(l))return this.createMouseTargetFromOverlayWidgetsChild(u,s);var d=u.hasAttribute&&u.hasAttribute("lineNumber")?u.getAttribute("lineNumber"):null,h=u.hasAttribute&&u.hasAttribute("column")?u.getAttribute("column"):null;if(d&&h)return this.createMouseTargetFromViewCursor(u,parseInt(d,10),parseInt(h,10),s);if(c.IS_TEXTAREA_COVER.test(l))return this._context.configuration.editor.viewInfo.glyphMargin?this.createMouseTargetFromGlyphMargin(u,n,s):this._context.configuration.editor.viewInfo.lineNumbers?this.createMouseTargetFromLineNumbers(u,n,s):this.createMouseTargetFromLinesDecorationsChild(u,n,s);if(c.IS_TEXTAREA.test(l))return new a(u,o.MouseTargetType.TEXTAREA);if(c.IS_CHILD_OF_VIEW_ZONES.test(l)){var p=this._getZoneAtCoord(n);return p?new a(u,o.MouseTargetType.CONTENT_VIEW_ZONE,s,p.position,null,p):this.createMouseTargetFromUnknownTarget(u)}if(c.IS_VIEW_LINES.test(l)){if(this._viewHelper.isAfterLines(n))return this.createMouseTargetFromViewLines(u,n,s);var p=this._getZoneAtCoord(n);if(p)return new a(u,o.MouseTargetType.CONTENT_VIEW_ZONE,s,p.position,null,p);var f=this._doHitTest(t,n);return f.position?this.createMouseTargetFromHitTestPosition(u,f.position.lineNumber,f.position.column,r,s):this.createMouseTargetFromViewLines(u,n,s)}if(!i||c.IS_CHILD_OF_VIEW_LINES.test(l)){var f=this._doHitTest(t,n);if(f.position)return this.createMouseTargetFromHitTestPosition(u,f.position.lineNumber,f.position.column,r,s);if(f.hitTarget){u=f.hitTarget,l=this.getClassNamePathTo(u,this._viewHelper.viewDomNode);var g=u.hasAttribute&&u.hasAttribute("lineNumber")?u.getAttribute("lineNumber"):null,m=u.hasAttribute&&u.hasAttribute("column")?u.getAttribute("column"):null;if(g&&m)return this.createMouseTargetFromViewCursor(u,parseInt(g,10),parseInt(m,10),s)}}if(c.IS_CURSORS_LAYER.test(l))return new a(u,o.MouseTargetType.UNKNOWN);if(c.IS_CHILD_OF_SCROLLABLE_ELEMENT.test(l))return this.createMouseTargetFromScrollbar(u,n,s);if(c.IS_CHILD_OF_VIEW_OVERLAYS.test(l)){var v=Math.abs(t.posx-t.editorPos.left);return v<=e.glyphMarginWidth?this.createMouseTargetFromGlyphMargin(u,n,s):(v-=e.glyphMarginWidth,v<=e.lineNumbersWidth?this.createMouseTargetFromLineNumbers(u,n,s):(v-=e.lineNumbersWidth,this.createMouseTargetFromLinesDecorationsChild(u,n,s)))}return/OverviewRuler/i.test(l)?this.createMouseTargetFromScrollbar(u,n,s):this.createMouseTargetFromUnknownTarget(u)},e.prototype._isChild=function(e,t,i){for(;e&&e!==document.body;){if(e===t)return!0;if(e===i)return!1;e=e.parentNode}return!1},e.prototype._findAttribute=function(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null},e.prototype._doHitTestWithCaretRangeFromPoint=function(e,t){var i=this._viewHelper.getLineNumberAtVerticalOffset(t),n=this._viewHelper.getVerticalOffsetForLineNumber(i),o=n+Math.floor(this._context.configuration.editor.lineHeight/2),r=e.posy+(o-t);r<=e.editorPos.top&&(r=e.editorPos.top+1),r>=e.editorPos.top+this._context.configuration.editor.layoutInfo.height&&(r=e.editorPos.top+this._context.configuration.editor.layoutInfo.height-1);var a=this._actualDoHitTestWithCaretRangeFromPoint(e.viewportx,r-s.StandardWindow.scrollY);return a.position?a:this._actualDoHitTestWithCaretRangeFromPoint(e.viewportx,e.viewporty)},e.prototype._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var i=document.caretRangeFromPoint(e,t);if(!i||!i.startContainer)return{position:null,hitTarget:null};var n,o=i.startContainer;if(o.nodeType===o.TEXT_NODE){var s=o.parentNode,a=s?s.parentNode:null,c=a?a.parentNode:null,u=c&&c.nodeType===c.ELEMENT_NODE?c.className:null;if(u===r.ClassNames.VIEW_LINE)return{position:this._viewHelper.getPositionFromDOMInfo(s,i.startOffset),hitTarget:null};n=o.parentNode}else if(o.nodeType===o.ELEMENT_NODE){var s=o.parentNode,a=s?s.parentNode:null,l=a&&a.nodeType===a.ELEMENT_NODE?a.className:null;if(l===r.ClassNames.VIEW_LINE)return{position:this._viewHelper.getPositionFromDOMInfo(o,o.textContent.length),hitTarget:null};n=o}return{position:null,hitTarget:n}},e.prototype._doHitTestWithCaretPositionFromPoint=function(e){var t=document.caretPositionFromPoint(e.viewportx,e.viewporty),i=document.createRange();i.setStart(t.offsetNode,t.offset),i.collapse(!0);var n=this._viewHelper.getPositionFromDOMInfo(i.startContainer.parentNode,i.startOffset);return i.detach(),{position:n,hitTarget:null}},e.prototype._doHitTestWithMoveToPoint=function(e){var t=null,i=null,n=document.body.createTextRange();try{n.moveToPoint(e.viewportx,e.viewporty)}catch(o){return{position:null,hitTarget:null}}n.collapse(!0);var s=n?n.parentElement():null,a=s?s.parentNode:null,c=a?a.parentNode:null,u=c&&c.nodeType===c.ELEMENT_NODE?c.className:"";if(u===r.ClassNames.VIEW_LINE){var l=n.duplicate();l.moveToElementText(s),l.setEndPoint("EndToStart",n),t=this._viewHelper.getPositionFromDOMInfo(s,l.text.length),l.moveToElementText(this._viewHelper.viewDomNode)}else i=s;return n.moveToElementText(this._viewHelper.viewDomNode),{position:t,hitTarget:i}},e.prototype._doHitTest=function(e,t){return document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e):document.body.createTextRange?this._doHitTestWithMoveToPoint(e):{position:null,hitTarget:null}},e.prototype._getZoneAtCoord=function(e){var t=this._viewHelper.getWhitespaceAtVerticalOffset(e);if(t){var n=t.verticalOffset+t.height/2,o=this._context.model.getLineCount(),r=null,s=void 0,a=null;return t.afterLineNumber!==o&&(a=new i.Position(t.afterLineNumber+1,1)),t.afterLineNumber>0&&(r=new i.Position(t.afterLineNumber,this._context.model.getLineMaxColumn(t.afterLineNumber))),s=null===a?r:null===r?a:e<n?r:a,{viewZoneId:t.id,afterLineNumber:t.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null},e.prototype._getFullLineRangeAtCoord=function(e){if(this._viewHelper.isAfterLines(e)){var t=this._context.model.getLineCount(),i=this._context.model.getLineMaxColumn(t);return{range:new n.Range(t,i,t,i),isAfterLines:!0}}var o=this._viewHelper.getLineNumberAtVerticalOffset(e),r=this._context.model.getLineMaxColumn(o);return{range:new n.Range(o,1,o,r),isAfterLines:!1}},e.prototype.getMouseColumn=function(e,t){var i=this._viewHelper.getScrollLeft()+(t.posx-t.editorPos.left)-e.contentLeft;return this._getMouseColumn(i)},e.prototype._getMouseColumn=function(e){if(e<0)return 1;var t=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,i=Math.round(e/t);return i+1},e.prototype.createMouseTargetFromViewCursor=function(e,t,n,r){return new a(e,o.MouseTargetType.CONTENT_TEXT,r,new i.Position(t,n))},e.prototype.createMouseTargetFromViewLines=function(e,t,n){var r=this._context.model.getLineCount(),s=this._context.model.getLineMaxColumn(r);return new a(e,o.MouseTargetType.CONTENT_EMPTY,n,new i.Position(r,s))},e.prototype.createMouseTargetFromHitTestPosition=function(e,t,r,s,c){var u=new i.Position(t,r),l=this._viewHelper.getLineWidth(t);if(s>l)return new a(e,o.MouseTargetType.CONTENT_EMPTY,c,u);var d=this._viewHelper.visibleRangeForPosition2(t,r);if(!d)return new a(e,o.MouseTargetType.UNKNOWN,c,u);var h=d.left;if(s===h)return new a(e,o.MouseTargetType.CONTENT_TEXT,c,u);var p;if(r>1){var f=d.left;if(p=!1,p=p||f<s&&s<h,p=p||h<s&&s<f){var g=new n.Range(t,r,t,r-1);return new a(e,o.MouseTargetType.CONTENT_TEXT,c,u,g)}}var m=this._context.model.getLineMaxColumn(t);if(r<m){var v=this._viewHelper.visibleRangeForPosition2(t,r+1);if(v){var y=v.left;if(p=!1,p=p||h<s&&s<y,p=p||y<s&&s<h){var g=new n.Range(t,r,t,r+1);return new a(e,o.MouseTargetType.CONTENT_TEXT,c,u,g)}}}return new a(e,o.MouseTargetType.CONTENT_TEXT,c,u)},e.prototype.createMouseTargetFromContentWidgetsChild=function(e,t){var i=this._findAttribute(e,"widgetId",this._viewHelper.viewDomNode);return i?new a(e,o.MouseTargetType.CONTENT_WIDGET,t,null,null,i):new a(e,o.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromOverlayWidgetsChild=function(e,t){var i=this._findAttribute(e,"widgetId",this._viewHelper.viewDomNode);return i?new a(e,o.MouseTargetType.OVERLAY_WIDGET,t,null,null,i):new a(e,o.MouseTargetType.UNKNOWN)},e.prototype.createMouseTargetFromLinesDecorationsChild=function(e,t,n){var r=this._getZoneAtCoord(t);if(r)return new a(e,o.MouseTargetType.GUTTER_VIEW_ZONE,n,r.position,null,r);var s=this._getFullLineRangeAtCoord(t);return new a(e,o.MouseTargetType.GUTTER_LINE_DECORATIONS,n,new i.Position(s.range.startLineNumber,s.range.startColumn),s.range,s.isAfterLines)},e.prototype.createMouseTargetFromLineNumbers=function(e,t,n){var r=this._getZoneAtCoord(t);if(r)return new a(e,o.MouseTargetType.GUTTER_VIEW_ZONE,n,r.position,null,r);var s=this._getFullLineRangeAtCoord(t);return new a(e,o.MouseTargetType.GUTTER_LINE_NUMBERS,n,new i.Position(s.range.startLineNumber,s.range.startColumn),s.range,s.isAfterLines)},e.prototype.createMouseTargetFromGlyphMargin=function(e,t,n){var r=this._getZoneAtCoord(t);if(r)return new a(e,o.MouseTargetType.GUTTER_VIEW_ZONE,n,r.position,null,r);var s=this._getFullLineRangeAtCoord(t);return new a(e,o.MouseTargetType.GUTTER_GLYPH_MARGIN,n,new i.Position(s.range.startLineNumber,s.range.startColumn),s.range,s.isAfterLines)},e.prototype.createMouseTargetFromScrollbar=function(e,t,n){var r=this._viewHelper.getLineNumberAtVerticalOffset(t),s=this._context.model.getLineMaxColumn(r);return new a(e,o.MouseTargetType.SCROLLBAR,n,new i.Position(r,s))},e.prototype.createMouseTargetFromUnknownTarget=function(e){var t=this._isChild(e,this._viewHelper.viewDomNode,this._viewHelper.viewDomNode),i=null;return t&&(i=this._findAttribute(e,"widgetId",this._viewHelper.viewDomNode)),i?new a(e,o.MouseTargetType.OVERLAY_WIDGET,null,null,i):new a(e,o.MouseTargetType.UNKNOWN)},e}();t.MouseTargetFactory=u}),define(l[271],d([1,0,5,77,10,220]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i){e.call(this,t),this.editorPos=o.getDomNodePagePosition(i),this.viewportx=this.posx-o.StandardWindow.scrollX,this.viewporty=this.posy-o.StandardWindow.scrollY}return h(t,e),t}(n.StandardMouseEvent);t.EditorMouseEvent=s;var a=function(){function e(e){this._editorViewDomNode=e}return e.prototype._create=function(e){return new s(e,this._editorViewDomNode)},e.prototype.onContextMenu=function(e,t){var i=this;return o.addDisposableListener(e,"contextmenu",function(e){t(i._create(e))})},e.prototype.onMouseUp=function(e,t){var i=this;return o.addDisposableListener(e,"mouseup",function(e){t(i._create(e))})},e.prototype.onMouseDown=function(e,t){var i=this;return o.addDisposableListener(e,"mousedown",function(e){t(i._create(e))})},e.prototype.onMouseLeave=function(e,t){var i=this;return o.addDisposableNonBubblingMouseOutListener(e,function(e){t(i._create(e))})},e.prototype.onMouseMoveThrottled=function(e,t,i,n){var r=this,s=function(e,t){return i(e,r._create(t))};return o.addDisposableThrottledListener(e,"mousemove",t,s,n)},e}();t.EditorMouseEventFactory=a;var c=function(e){function t(t){e.call(this),this._editorViewDomNode=t,this._globalMouseMoveMonitor=this._register(new r.GlobalMouseMoveMonitor)}return h(t,e),t.prototype.startMonitoring=function(e,t,i){var n=this,o=function(t,i){return e(t,new s(i,n._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(o,t,i)},t}(i.Disposable);t.GlobalEditorMouseMoveMonitor=c}),define(l[262],d([1,0,117,60]),function(e,t,i,n){"use strict";var o=function(e){function t(t){var i=this;e.call(this,t),this.domNode=this._createDomNode(),this._lines=[],this._rendLineNumberStart=1,this._scrollDomNode=null,this._scrollDomNodeIsAbove=!1,this._renderer=new r(function(){return i._createLine()},function(){return i._extraDomNodeHTML()})}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._lines=null},t.prototype._extraDomNodeHTML=function(){return""},t.prototype.onConfigurationChanged=function(e){for(var t=0;t<this._lines.length;t++)this._lines[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._lines=[],this._rendLineNumberStart=1,this._scrollDomNode=null,!0},t.prototype.onModelLinesDeleted=function(e){var t,i=Math.max(e.fromLineNumber-this._rendLineNumberStart,0),n=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(e.fromLineNumber<this._rendLineNumberStart&&(e.toLineNumber<this._rendLineNumberStart?this._rendLineNumberStart-=e.toLineNumber-e.fromLineNumber+1:this._rendLineNumberStart=e.fromLineNumber),i<=n){for(t=i;t<=n;t++){var o=this._lines[t].getDomNode();o&&this.domNode.domNode.removeChild(o)}this._lines.splice(i,n-i+1)}for(t=i;t<this._lines.length;t++)this._lines[t].onLinesDeletedAbove();return!0},t.prototype.onModelLineChanged=function(e){var t=e.lineNumber-this._rendLineNumberStart,i=!1;t>=0&&t<this._lines.length&&(this._lines[t].onContentChanged(),i=!0);for(var n=Math.max(t,0);n<this._lines.length;n++)this._lines[n].onLineChangedAbove(),i=!0;return i},t.prototype.onModelLinesInserted=function(e){var t;if(e.fromLineNumber<=this._rendLineNumberStart){for(this._rendLineNumberStart+=e.toLineNumber-e.fromLineNumber+1,t=0;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0}if(e.fromLineNumber>=this._rendLineNumberStart+this._lines.length)return!1;var i=Math.min(e.fromLineNumber-this._rendLineNumberStart,this._lines.length-1),n=Math.min(e.toLineNumber-this._rendLineNumberStart,this._lines.length-1);if(i<=n){for(t=i;t<=n;t++){var o=this._createLine();this._lines.splice(t,0,o)}var r=n-i+1;for(t=0;t<r;t++){var s=this._lines.pop(),a=s.getDomNode();a&&this.domNode.domNode.removeChild(a)}}for(t=n;t<this._lines.length;t++)this._lines[t].onLinesInsertedAbove();return!0},t.prototype.onModelTokensChanged=function(e){if(0===this._lines.length)return!1;var t=e.fromLineNumber-this._rendLineNumberStart,i=e.toLineNumber-this._rendLineNumberStart;if(i<0||t>=this._lines.length)return!1;for(var n=Math.min(Math.max(t,0),this._lines.length-1),o=Math.min(Math.max(i,0),this._lines.length-1),r=!1,s=n;s<=o;s++)r=!0,this._lines[s].onTokensChanged();return r},t.prototype._renderLines=function(e){var t={domNode:this.domNode.domNode,rendLineNumberStart:this._rendLineNumberStart,lines:this._lines,linesLength:this._lines.length,getInlineDecorationsForLineInViewport:function(t){return e.getInlineDecorationsForLineInViewport(t)},viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:this._scrollDomNode,scrollDomNodeIsAbove:this._scrollDomNodeIsAbove},i=this._renderer.renderWithManyUpdates(t,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._rendLineNumberStart=i.rendLineNumberStart,this._lines=i.lines,this._scrollDomNode=i.scrollDomNode,this._scrollDomNodeIsAbove=i.scrollDomNodeIsAbove},t.prototype._createDomNode=function(){var e=n.createFastDomNode(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},t.prototype._createLine=function(){throw new Error("Implement me!")},t}(i.ViewPart);t.ViewLayer=o;var r=function(){function e(e,t){this._createLine=e,this._extraDomNodeHTML=t}return e.prototype.renderWithManyUpdates=function(e,t,i,n){return this._render(e,t,i,n)},e.prototype._render=function(e,t,i,n){var o={domNode:e.domNode,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength,getInlineDecorationsForLineInViewport:e.getInlineDecorationsForLineInViewport,viewportTop:e.viewportTop,viewportHeight:e.viewportHeight,scrollDomNode:e.scrollDomNode,scrollDomNodeIsAbove:e.scrollDomNodeIsAbove},r=!0;if(o.scrollDomNode){var s=this._getScrollDomNodeTime(o.scrollDomNode);(new Date).getTime()-s<1e3&&(r=!1)}if(r&&(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart)){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(var a=t;a<=i;a++)o.lines[a-t]=this._createLine();return this._finishRendering(o,!0,n),o.scrollDomNode=null,o}this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),n,t);var c,u,l;return o.rendLineNumberStart>t?(c=t,u=Math.min(i,o.rendLineNumberStart-1),c<=u&&(this._insertLinesBefore(o,c,u,n,t),o.linesLength+=u-c+1,o.scrollDomNode&&o.scrollDomNodeIsAbove&&(o.scrollDomNode.parentNode&&o.scrollDomNode.parentNode.removeChild(o.scrollDomNode),o.scrollDomNode=null))):o.rendLineNumberStart<t&&(l=Math.min(o.linesLength,t-o.rendLineNumberStart),l>0&&(this._removeLinesBefore(o,l),o.linesLength-=l)),o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i?(c=o.rendLineNumberStart+o.linesLength,u=i,c<=u&&(this._insertLinesAfter(o,c,u,n,t),o.linesLength+=u-c+1,o.scrollDomNode&&!o.scrollDomNodeIsAbove&&(o.scrollDomNode.parentNode&&o.scrollDomNode.parentNode.removeChild(o.scrollDomNode),o.scrollDomNode=null))):o.rendLineNumberStart+o.linesLength-1>i&&(c=Math.max(0,i-o.rendLineNumberStart+1),u=o.linesLength-1,l=u-c+1,l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)),this._finishRendering(o,!1,n),o},e.prototype._renderUntouchedLines=function(e,t,i,n,o){var r,s;for(r=t;r<=i;r++){s=e.rendLineNumberStart+r;var a=e.lines[r].getDomNode();a&&e.lines[r].layoutLine(s,n[s-o])}},e.prototype._insertLinesBefore=function(e,t,i,n,o){var r,s,a=[];for(s=t;s<=i;s++)r=this._createLine(),a.push(r);e.lines=a.concat(e.lines)},e.prototype._getScrollDomNodeTime=function(e){var t=e.getAttribute("last-scroll-time");return t?parseInt(t,10):0},e.prototype._removeIfNotScrollDomNode=function(e,t,i){var n=this._getScrollDomNodeTime(t);if(!n)return void e.domNode.removeChild(t);if(e.scrollDomNode){var o=this._getScrollDomNodeTime(e.scrollDomNode);if(o>n)return void e.domNode.removeChild(t);e.scrollDomNode.parentNode&&e.scrollDomNode.parentNode.removeChild(e.scrollDomNode),e.scrollDomNode=null}e.scrollDomNode=t,e.scrollDomNodeIsAbove=i},e.prototype._removeLinesBefore=function(e,t){var i;for(i=0;i<t;i++){var n=e.lines[i].getDomNode();n&&this._removeIfNotScrollDomNode(e,n,!0)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,i,n,o){var r,s,a=[];for(s=t;s<=i;s++)r=this._createLine(),a.push(r);e.lines=e.lines.concat(a)},e.prototype._removeLinesAfter=function(e,t){var i,n=e.linesLength-t;for(i=0;i<t;i++){var o=e.lines[n+i].getDomNode();o&&this._removeIfNotScrollDomNode(e,o,!1)}e.lines.splice(n,t)},e._resolveInlineDecorations=function(e){for(var t=[],i=0,n=e.linesLength;i<n;i++){var o=i+e.rendLineNumberStart;t[i]=e.getInlineDecorationsForLineInViewport(o)}return t},e.prototype._finishRenderingNewLines=function(e,t,i,n){var o=e.domNode.lastChild;t||!o?e.domNode.innerHTML=this._extraDomNodeHTML()+i.join(""):o.insertAdjacentHTML("afterend",i.join(""));for(var r=e.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];n[s]&&(a.setDomNode(r),r=r.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,i){var n=document.createElement("div");n.innerHTML=t.join("");for(var o,r,s=0;s<e.linesLength;s++){var a=e.lines[s];i[s]&&(r=n.firstChild,o=a.getDomNode(),o.parentNode.replaceChild(r,o),a.setDomNode(r))}},e.prototype._finishRendering=function(t,i,n){var o,r,s,a,c=e._resolveInlineDecorations(t),u=!1,l=[],d=[],h=!1,p=[],f=[];for(o=0,r=t.linesLength;o<r;o++)if(s=t.lines[o],a=o+t.rendLineNumberStart,s.shouldUpdateHTML(t.rendLineNumberStart,a,c[o])){var g=s.getDomNode();g?(s.getLineOuterHTML(f,a,n[o]),p[o]=!0,h=!0):(s.getLineOuterHTML(d,a,n[o]),l[o]=!0,u=!0)}u&&this._finishRenderingNewLines(t,i,d,l),h&&this._finishRenderingInvalidLines(t,f,p)},e}()}),define(l[366],d([1,0,5,10,138,11,53]),function(e,t,i,n,o,r,s){"use strict";function a(e,t,i){e.hasOwnProperty(i)&&(t[i]=e[i])}var c=function(){function e(e,t,i,c,u){var l=this;this.toDispose=[],this.configuration=e,this.privateViewEventBus=t,this.linesContent=i;var d=this.configuration.editor.viewInfo.scrollbar,h={canUseTranslate3d:this.configuration.editor.viewInfo.canUseTranslate3d,listenOnDomNode:c,vertical:d.vertical,horizontal:d.horizontal,className:s.ClassNames.SCROLLABLE_ELEMENT+" "+this.configuration.editor.viewInfo.theme,useShadows:!1,lazyRender:!0,saveLastScrollTimeOnClassName:s.ClassNames.VIEW_LINE};a(d,h,"verticalHasArrows"),a(d,h,"horizontalHasArrows"),a(d,h,"verticalScrollbarSize"),a(d,h,"verticalSliderSize"),a(d,h,"horizontalScrollbarSize"),a(d,h,"horizontalSliderSize"),a(d,h,"handleMouseWheel"),a(d,h,"arrowSize"),a(d,h,"mouseWheelScrollSensitivity"),this.scrollbar=new o.ScrollableElement(i,h),this.onLayoutInfoChanged(),this.toDispose.push(this.scrollbar),this.toDispose.push(this.scrollbar.onScroll(function(e){l.privateViewEventBus.emit(r.EventType.ViewScrollChanged,e)})),this.toDispose.push(this.configuration.onDidChange(function(e){if(l.scrollbar.updateClassName(s.ClassNames.SCROLLABLE_ELEMENT+" "+l.configuration.editor.viewInfo.theme),e.viewInfo.scrollbar||e.viewInfo.canUseTranslate3d){var t={canUseTranslate3d:l.configuration.editor.viewInfo.canUseTranslate3d,handleMouseWheel:l.configuration.editor.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:l.configuration.editor.viewInfo.scrollbar.mouseWheelScrollSensitivity};l.scrollbar.updateOptions(t)}}));var p=function(e,t,i){var n={};if(t){var o=e.scrollTop;o&&(n.scrollTop=l.getScrollTop()+o,e.scrollTop=0)}if(i){var r=e.scrollLeft;r&&(n.scrollLeft=l.getScrollLeft()+r,e.scrollLeft=0)}l.setScrollPosition(n)};this.toDispose.push(n.addDisposableListener(c,"scroll",function(e){return p(c,!0,!0)})),this.toDispose.push(n.addDisposableListener(i,"scroll",function(e){return p(i,!0,!1)})),this.toDispose.push(n.addDisposableListener(u,"scroll",function(e){return p(u,!0,!1)}))}return e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e.prototype.renderScrollbar=function(){this.scrollbar.renderNow()},e.prototype.onLayoutInfoChanged=function(){this.scrollbar.updateState({width:this.configuration.editor.layoutInfo.contentWidth,height:this.configuration.editor.layoutInfo.contentHeight})},e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},e.prototype.getScrollbarContainerDomNode=function(){return this.scrollbar.getDomNode()},e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},e.prototype.getWidth=function(){return this.scrollbar.getWidth()},e.prototype.getScrollWidth=function(){return this.scrollbar.getScrollWidth()},e.prototype.getScrollLeft=function(){return this.scrollbar.getScrollLeft()},e.prototype.getHeight=function(){return this.scrollbar.getHeight()},e.prototype.getScrollHeight=function(){return this.scrollbar.getScrollHeight()},e.prototype.getScrollTop=function(){return this.scrollbar.getScrollTop()},e.prototype.setScrollPosition=function(e){this.scrollbar.updateState(e)},e.prototype.setScrollHeight=function(e){this.scrollbar.updateState({scrollHeight:e})},e.prototype.setScrollWidth=function(e){this.scrollbar.updateState({scrollWidth:e})},e}();t.ScrollManager=c}),define(l[367],d([1,0,11,626,125,366]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,o,s,a,c){e.call(this),this.configuration=t,this.privateViewEventBus=o,this.model=i,this.scrollManager=new r.ScrollManager(t,o,s,a,c),this.configuration.setLineCount(this.model.getLineCount()),this.linesLayout=new n.LinesLayout(t,i),this._updateHeight()}return h(t,e),t.prototype.dispose=function(){this.scrollManager.dispose()},t.prototype.updateLineCount=function(){this.configuration.setLineCount(this.model.getLineCount())},t.prototype.onZonesChanged=function(){return this._updateHeight(),!1},t.prototype.onModelFlushed=function(){return this.linesLayout.onModelFlushed(),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesDeleted=function(e){return this.linesLayout.onModelLinesDeleted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onModelLinesInserted=function(e){return this.linesLayout.onModelLinesInserted(e),this.updateLineCount(),this._updateHeight(),!1},t.prototype.onConfigurationChanged=function(e){return this.linesLayout.onConfigurationChanged(e),e.layoutInfo&&(this.scrollManager.onLayoutInfoChanged(),this._emitLayoutChangedEvent()),this._updateHeight(),!1},t.prototype._updateHeight=function(){this.scrollManager.setScrollHeight(this.getTotalHeight())},t.prototype.getCurrentViewport=function(){return new i.Viewport(this.scrollManager.getScrollTop(),this.scrollManager.getScrollLeft(),this.scrollManager.getWidth(),this.scrollManager.getHeight())},t.prototype.getCenteredViewLineNumberInViewport=function(){return this.linesLayout.getCenteredLineInViewport(this.getCurrentViewport())},t.prototype._emitLayoutChangedEvent=function(){this.privateViewEventBus.emit(i.EventType.ViewLayoutChanged,this.configuration.editor.layoutInfo)},t.prototype.emitLayoutChangedEvent=function(){this._emitLayoutChangedEvent()},t.prototype._computeScrollWidth=function(e,i){var n=this.configuration.editor.wrappingInfo.isViewportWrapping;return n?Math.max(e,i):Math.max(e+t.LINES_HORIZONTAL_EXTRA_PX,i)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width);this.scrollManager.setScrollWidth(t),this._updateHeight()},t.prototype.saveState=function(){var e=this.scrollManager.getScrollTop(),t=this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e),i=this.linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(t);return{scrollTop:e,scrollTopWithoutViewZones:e-i,scrollLeft:this.scrollManager.getScrollLeft()}},t.prototype.restoreState=function(e){var t=e.scrollTop;"number"!=typeof e.scrollTopWithoutViewZones||this.linesLayout.hasWhitespace()||(t=e.scrollTopWithoutViewZones),this.scrollManager.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:t})},t.prototype.addWhitespace=function(e,t,i){return this.linesLayout.insertWhitespace(e,t,i)},t.prototype.changeWhitespace=function(e,t,i){return this.linesLayout.changeWhitespace(e,t,i)},t.prototype.removeWhitespace=function(e){return this.linesLayout.removeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this.linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.heightInPxForLine=function(e){return this.linesLayout.getHeightForLineNumber(e)},t.prototype.isAfterLines=function(e){return this.linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this.linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getTotalHeight=function(){var e=0;return this.scrollManager.getScrollWidth()>this.scrollManager.getWidth()&&(e=this.configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize),
this.linesLayout.getTotalHeight(this.getCurrentViewport(),e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this.linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){return this.linesLayout.getLinesViewportData(this.getCurrentViewport())},t.prototype.getWhitespaceViewportData=function(){return this.linesLayout.getWhitespaceViewportData(this.getCurrentViewport())},t.prototype.getWhitespaces=function(){return this.linesLayout.getWhitespaces()},t.prototype.getOverviewRulerInsertData=function(){var e=this.scrollManager.getOverviewRulerLayoutInfo();return{parent:e.parent,insertBefore:e.insertBefore}},t.prototype.getScrollbarContainerDomNode=function(){return this.scrollManager.getScrollbarContainerDomNode()},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollManager.delegateVerticalScrollbarMouseDown(e)},t.prototype.getScrollWidth=function(){return this.scrollManager.getScrollWidth()},t.prototype.getScrollLeft=function(){return this.scrollManager.getScrollLeft()},t.prototype.getScrollHeight=function(){return this.scrollManager.getScrollHeight()},t.prototype.getScrollTop=function(){return this.scrollManager.getScrollTop()},t.prototype.setScrollPosition=function(e){this.scrollManager.setScrollPosition(e)},t.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollManager.getScrollTop()},t.prototype.renderScrollbar=function(){this.scrollManager.renderScrollbar()},t.LINES_HORIZONTAL_EXTRA_PX=30,t}(o.ViewEventHandler);t.LayoutProvider=s}),define(l[368],d([1,0,10,60,53,117,880]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i){e.call(this,t),this._viewDomNode=i,this._widgets={},this._contentWidth=0,this._contentLeft=0,this._lineHeight=this._context.configuration.editor.lineHeight,this._renderData={},this.domNode=document.createElement("div"),this.domNode.className=o.ClassNames.CONTENT_WIDGETS,this.overflowingContentWidgetsDomNode=document.createElement("div"),this.overflowingContentWidgetsDomNode.className=o.ClassNames.OVERFLOWING_CONTENT_WIDGETS}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null,this.domNode=null},t.prototype.onModelFlushed=function(){return!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onCursorPositionChanged=function(e){return!1},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onCursorRevealRange=function(e){return!1},t.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),!0},t.prototype.onLayoutChanged=function(e){if(this._contentLeft=e.contentLeft,this._contentWidth!==e.contentWidth){this._contentWidth=e.contentWidth;for(var t=Object.keys(this._widgets),i=0,o=t.length;i<o;i++){var r=t[i];n.StyleMutator.setMaxWidth(this._widgets[r].widget.getDomNode(),this._contentWidth)}}return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.addWidget=function(e){var t={allowEditorOverflow:e.allowEditorOverflow||!1,widget:e,position:null,preference:null,isVisible:!1};this._widgets[e.getId()]=t;var i=e.getDomNode();i.style.position="absolute",n.StyleMutator.setMaxWidth(i,this._contentWidth),n.StyleMutator.setVisibility(i,"hidden"),i.setAttribute("widgetId",e.getId()),t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i):this.domNode.appendChild(i),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t,i){var n=this._widgets[e.getId()];n.position=t,n.preference=i,this.setShouldRender()},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t];delete this._widgets[t];var n=i.widget.getDomNode();n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},t.prototype._layoutBoxInViewport=function(e,t,i){var n=i.visibleRangeForPosition(e);if(!n)return null;var o=t.clientWidth,r=t.clientHeight,s=n.top,a=s,c=n.top+this._lineHeight,u=i.viewportHeight-c,l=s-r,d=a>=r,h=c,p=u>=r,f=n.left;return f+o>i.viewportLeft+i.viewportWidth&&(f=i.viewportLeft+i.viewportWidth-o),f<i.viewportLeft&&(f=i.viewportLeft),{aboveTop:l,fitsAbove:d,belowTop:h,fitsBelow:p,left:f}},t.prototype._layoutBoxInPage=function(e,t,n){var o=n.visibleRangeForPosition(e);if(!o)return null;var r=o.left-n.viewportLeft,s=t.clientWidth,a=t.clientHeight;if(r+s<0||r>this._contentWidth)return null;var c=o.top-a,u=o.top+this._lineHeight,l=r+this._contentLeft,d=i.getDomNodePagePosition(this._viewDomNode),h=d.top+c-i.StandardWindow.scrollY,p=d.top+u-i.StandardWindow.scrollY,f=d.left+l-i.StandardWindow.scrollX,g=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,v=22,y=h>=0,E=p+a<=m-v;if(f+s+20>g){var S=f-(g-s-20);f-=S,l-=S}if(f<0){var S=f;f-=S,l-=S}return{aboveTop:c,fitsAbove:y,belowTop:u,fitsBelow:E,left:l}},t.prototype._prepareRenderWidgetAtExactPosition=function(e,t){var i=t.visibleRangeForPosition(e);return i?{top:i.top,left:i.left}:null},t.prototype._prepareRenderWidget=function(e,t){var i=this;if(!e.position||!e.preference)return null;var n=this._context.model.validateModelPosition(e.position);if(!this._context.model.modelPositionIsVisible(n))return null;for(var r=this._context.model.convertModelPositionToViewPosition(n.lineNumber,n.column),s=null,a=function(){if(!s){var n=e.widget.getDomNode();s=e.allowEditorOverflow?i._layoutBoxInPage(r,n,t):i._layoutBoxInViewport(r,n,t)}},c=1;c<=2;c++)for(var u=0;u<e.preference.length;u++){var l=e.preference[u];if(l===o.ContentWidgetPositionPreference.ABOVE){if(a(),!s)return null;if(2===c||s.fitsAbove)return{top:s.aboveTop,left:s.left}}else{if(l!==o.ContentWidgetPositionPreference.BELOW)return this._prepareRenderWidgetAtExactPosition(r,t);if(a(),!s)return null;if(2===c||s.fitsBelow)return{top:s.belowTop,left:s.left}}}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");for(var t={},i=Object.keys(this._widgets),n=0,o=i.length;n<o;n++){var r=i[n],s=this._prepareRenderWidget(this._widgets[r],e);s&&(t[r]=s)}this._renderData=t},t.prototype.render=function(e){for(var t=this._renderData,i=Object.keys(this._widgets),o=0,r=i.length;o<r;o++){var s=i[o],a=this._widgets[s],c=this._widgets[s].widget.getDomNode();t.hasOwnProperty(s)?(a.allowEditorOverflow?(n.StyleMutator.setTop(c,t[s].top),n.StyleMutator.setLeft(c,t[s].left)):(n.StyleMutator.setTop(c,t[s].top+e.viewportTop-e.bigNumbersDelta),n.StyleMutator.setLeft(c,t[s].left)),a.isVisible||(n.StyleMutator.setVisibility(c,"inherit"),c.setAttribute("monaco-visible-content-widget","true"),a.isVisible=!0)):a.isVisible&&(c.removeAttribute("monaco-visible-content-widget"),a.isVisible=!1,n.StyleMutator.setVisibility(c,"hidden"))}},t}(r.ViewPart);t.ViewContentWidgets=s}),define(l[369],d([1,0,59,60,238,190,53,633,193]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e,t,i){var n=e.findIndexOfOffset(t);return n<=i?n:i}function l(e){return new g(e)}function d(e){return new m(e)}function p(e){return new f(e)}var f=function(){function e(e){this._context=e,this._renderWhitespace=this._context.configuration.editor.viewInfo.renderWhitespace,this._renderControlCharacters=this._context.configuration.editor.viewInfo.renderControlCharacters,this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth,this._lineHeight=this._context.configuration.editor.lineHeight,this._stopRenderingLineAfter=this._context.configuration.editor.viewInfo.stopRenderingLineAfter,this._domNode=null,this._isInvalid=!0,this._isMaybeInvalid=!1,this._lineParts=null,this._charOffsetInPart=[],this._lastRenderedPartIndex=0}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=n.createFastDomNode(e)},e.prototype.onContentChanged=function(){this._isInvalid=!0},e.prototype.onLinesInsertedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLinesDeletedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onLineChangedAbove=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onModelDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onConfigurationChanged=function(e){e.viewInfo.renderWhitespace&&(this._renderWhitespace=this._context.configuration.editor.viewInfo.renderWhitespace),e.viewInfo.renderControlCharacters&&(this._renderControlCharacters=this._context.configuration.editor.viewInfo.renderControlCharacters),e.fontInfo&&(this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth),e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.stopRenderingLineAfter&&(this._stopRenderingLineAfter=this._context.configuration.editor.viewInfo.stopRenderingLineAfter),this._isInvalid=!0},e.prototype.shouldUpdateHTML=function(e,t,i){var n=null;return(this._isMaybeInvalid||this._isInvalid)&&(n=o.createLineParts(t,this._context.model.getLineMinColumn(t),this._context.model.getLineContent(t),this._context.model.getTabSize(),this._context.model.getLineTokens(t),i,this._renderWhitespace)),this._isMaybeInvalid&&(this._isInvalid||this._lineParts&&this._lineParts.equals(n)||(this._isInvalid=!0),this._isMaybeInvalid=!1),this._isInvalid&&(this._lineParts=n),this._isInvalid},e.prototype.getLineOuterHTML=function(e,t,i){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(i.toString()),e.push("px;height:"),e.push(this._lineHeight.toString()),e.push('px;" class="'),e.push(s.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(e){return this._isInvalid=!1,this._render(e,this._lineParts)},e.prototype.layoutLine=function(e,t){this._domNode.setLineNumber(String(e)),this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight)},e.prototype._render=function(e,t){this._cachedWidth=-1;var i=r.renderLine(new r.RenderLineInput(this._context.model.getLineContent(e),this._context.model.getTabSize(),this._spaceWidth,this._stopRenderingLineAfter,this._renderWhitespace,this._renderControlCharacters,t.getParts()));return this._charOffsetInPart=i.charOffsetInPart,this._lastRenderedPartIndex=i.lastRenderedPartIndex,i.output},e.prototype._getReadingTarget=function(){return this._domNode.domNode.firstChild},e.prototype.getWidth=function(){return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget().offsetWidth),this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,i,n){e=0|e,t=0|t,i=0|i;var o=0|this._stopRenderingLineAfter;return o!==-1&&e>o&&t>o?null:(o!==-1&&e>o&&(e=o),o!==-1&&t>o&&(t=o),this._readVisibleRangesForRange(e,t,i,n))},e.prototype._readVisibleRangesForRange=function(e,t,i,n){return e===t?this._readRawVisibleRangesForPosition(e,i,n):this._readRawVisibleRangesForRange(e,t,i,n)},e.prototype._readRawVisibleRangesForPosition=function(e,t,i){if(0===this._charOffsetInPart.length)return[new c.HorizontalRange(0,0)];var n=u(this._lineParts,e-1,this._lastRenderedPartIndex),o=this._charOffsetInPart[e-1];return a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),n,o,n,o,t,this._getScaleRatio(),i)},e.prototype._readRawVisibleRangesForRange=function(e,t,i,n){if(1===e&&t===this._charOffsetInPart.length)return[new c.HorizontalRange(0,this.getWidth())];var o=u(this._lineParts,e-1,this._lastRenderedPartIndex),r=this._charOffsetInPart[e-1],s=u(this._lineParts,t-1,this._lastRenderedPartIndex),l=this._charOffsetInPart[t-1];return a.RangeUtil.readHorizontalRanges(this._getReadingTarget(),o,r,s,l,i,this._getScaleRatio(),n)},e.prototype._getScaleRatio=function(){return 1},e.prototype.getColumnOfNodeOffset=function(e,t,i){for(var n=t.textContent.length,r=-1;t;)t=t.previousSibling,r++;var s=this._lineParts.getParts();return o.getColumnOfLinePartOffset(this._stopRenderingLineAfter,s,this._context.model.getLineMaxColumn(e),this._charOffsetInPart,r,n,i)},e}();t.ViewLine=f;var g=function(e){function t(t){e.call(this,t)}return h(t,e),t.prototype._getScaleRatio=function(){return screen.logicalXDPI/screen.deviceXDPI},t}(f),m=function(e){function t(t){e.call(this,t)}return h(t,e),t.prototype._readVisibleRangesForRange=function(t,i,n,o){var r=e.prototype._readVisibleRangesForRange.call(this,t,i,n,o);if(!r||0===r.length||t===i||1===t&&i===this._charOffsetInPart.length)return r;var s=this._readRawVisibleRangesForPosition(i-1,n,o),a=this._readRawVisibleRangesForPosition(i,n,o);if(s&&s.length>0&&a&&a.length>0){var c=s[0],u=a[0],l=c.left<=u.left,d=r[r.length-1];l&&d.left<u.left&&(d.width=u.left-d.left)}return r},t}(f);t.createLine=function(){return window.screen&&window.screen.deviceXDPI&&(navigator.userAgent.indexOf("Trident/6.0")>=0||navigator.userAgent.indexOf("Trident/5.0")>=0)?l:i.isWebKit?d:p}()}),define(l[370],d([1,0,60,53,117,848]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t){e.call(this,t),this._widgets={},this._verticalScrollbarWidth=0,this._horizontalScrollbarHeight=0,this._editorHeight=0,this._editorWidth=0,this.domNode=document.createElement("div"),this.domNode.className=n.ClassNames.OVERLAY_WIDGETS}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets=null},t.prototype.onLayoutChanged=function(e){return this._verticalScrollbarWidth=e.verticalScrollbarWidth,this._horizontalScrollbarHeight=e.horizontalScrollbarHeight,this._editorHeight=e.height,this._editorWidth=e.width,!0},t.prototype.addWidget=function(e){this._widgets[e.getId()]={widget:e,preference:null};var t=e.getDomNode();t.style.position="absolute",t.setAttribute("widgetId",e.getId()),this.domNode.appendChild(t),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t){var i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t],n=i.widget.getDomNode();delete this._widgets[t],n.parentNode.removeChild(n),this.setShouldRender()}},t.prototype._renderWidget=function(e){var t="data-editor-restoreStyleTop",o=e.widget.getDomNode();if(null!==e.preference)if(e.preference===n.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER)o.hasAttribute(t)||o.setAttribute(t,o.style.top),i.StyleMutator.setTop(o,0),i.StyleMutator.setRight(o,2*this._verticalScrollbarWidth);else if(e.preference===n.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){o.hasAttribute(t)||o.setAttribute(t,o.style.top);var r=o.clientHeight;i.StyleMutator.setTop(o,this._editorHeight-r-2*this._horizontalScrollbarHeight),i.StyleMutator.setRight(o,2*this._verticalScrollbarWidth)}else e.preference===n.OverlayWidgetPositionPreference.TOP_CENTER&&(o.hasAttribute(t)||o.setAttribute(t,o.style.top),i.StyleMutator.setTop(o,0),o.style.right="50%");else if(o.hasAttribute(t)){var s=o.getAttribute(t);o.removeAttribute(t),o.style.top=s}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){i.StyleMutator.setWidth(this.domNode,this._editorWidth);for(var t=Object.keys(this._widgets),n=0,o=t.length;n<o;n++){var r=t[n];this._renderWidget(this._widgets[r])}},t}(o.ViewPart);t.ViewOverlayWidgets=r}),define(l[261],d([1,0,60,11,59,635]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t,i,n,s,a,c,u){var l=this;this._canvasLeftOffset=e,this._domNode=document.createElement("canvas"),this._domNode.className=t,this._domNode.style.position="absolute",this._lanesCount=3,this._canUseTranslate3d=s,this._zoneManager=new r.OverviewZoneManager(u),this._zoneManager.setMinimumHeight(a),this._zoneManager.setMaximumHeight(c),this._zoneManager.setUseDarkColor(!1),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(i),this._zoneManager.setLineHeight(n),this._zoomListener=o.onDidChangeZoomLevel(function(){l._zoneManager.setPixelRatio(o.getPixelRatio()),l._domNode.style.width=l._zoneManager.getDOMWidth()+"px",l._domNode.style.height=l._zoneManager.getDOMHeight()+"px",l._domNode.width=l._zoneManager.getCanvasWidth(),l._domNode.height=l._zoneManager.getCanvasHeight(),l.render(!0)}),this._zoneManager.setPixelRatio(o.getPixelRatio())}return e.prototype.dispose=function(){this._zoomListener.dispose(),this._zoneManager=null},e.prototype.setLayout=function(e,t){i.StyleMutator.setTop(this._domNode,e.top),i.StyleMutator.setRight(this._domNode,e.right);var n=!1;n=this._zoneManager.setDOMWidth(e.width)||n,n=this._zoneManager.setDOMHeight(e.height)||n,n&&(this._domNode.style.width=this._zoneManager.getDOMWidth()+"px",this._domNode.style.height=this._zoneManager.getDOMHeight()+"px",this._domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.height=this._zoneManager.getCanvasHeight(),t&&this.render(!0))},e.prototype.getLanesCount=function(){return this._lanesCount},e.prototype.setLanesCount=function(e,t){this._lanesCount=e,t&&this.render(!0)},e.prototype.setUseDarkColor=function(e,t){this._zoneManager.setUseDarkColor(e),t&&this.render(!0)},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPixelWidth=function(){return this._zoneManager.getCanvasWidth()},e.prototype.getPixelHeight=function(){return this._zoneManager.getCanvasHeight()},e.prototype.setScrollHeight=function(e,t){this._zoneManager.setOuterHeight(e),t&&this.render(!0)},e.prototype.setLineHeight=function(e,t){this._zoneManager.setLineHeight(e),t&&this.render(!0)},e.prototype.setCanUseTranslate3d=function(e,t){this._canUseTranslate3d=e,t&&this.render(!0)},e.prototype.setZones=function(e,t){this._zoneManager.setZones(e),t&&this.render(!1)},e.prototype.render=function(t){if(!e.hasCanvas)return!1;if(0===this._zoneManager.getOuterHeight())return!1;this._canUseTranslate3d?i.StyleMutator.setTransform(this._domNode,"translate3d(0px, 0px, 0px)"):i.StyleMutator.setTransform(this._domNode,"");var n=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),r=this._zoneManager.resolveColorZones(),s=this._zoneManager.getId2Color(),a=this._domNode.getContext("2d");if(a.clearRect(0,0,n,o),r.length>0){var c=n-this._canvasLeftOffset;this._lanesCount>=3?this._renderThreeLanes(a,r,s,c):2===this._lanesCount?this._renderTwoLanes(a,r,s,c):1===this._lanesCount&&this._renderOneLane(a,r,s,c)}return!0},e.prototype._renderOneLane=function(e,t,i,o){this._renderVerticalPatch(e,t,i,n.OverviewRulerLane.Left|n.OverviewRulerLane.Center|n.OverviewRulerLane.Right,this._canvasLeftOffset,o)},e.prototype._renderTwoLanes=function(e,t,i,o){var r=Math.floor(o/2),s=o-r,a=this._canvasLeftOffset,c=this._canvasLeftOffset+r;this._renderVerticalPatch(e,t,i,n.OverviewRulerLane.Left|n.OverviewRulerLane.Center,a,r),this._renderVerticalPatch(e,t,i,n.OverviewRulerLane.Right,c,s)},e.prototype._renderThreeLanes=function(e,t,i,o){var r=Math.floor(o/3),s=Math.floor(o/3),a=o-r-s,c=this._canvasLeftOffset,u=this._canvasLeftOffset+r,l=this._canvasLeftOffset+r+a;this._renderVerticalPatch(e,t,i,n.OverviewRulerLane.Left,c,r),this._renderVerticalPatch(e,t,i,n.OverviewRulerLane.Center,u,a),this._renderVerticalPatch(e,t,i,n.OverviewRulerLane.Right,l,s)},e.prototype._renderVerticalPatch=function(e,t,i,n,o,r){for(var s=0,a=0,c=0,u=0,l=t.length;u<l;u++){var d=t[u];if(d.position&n){var h=d.colorId,p=d.from,f=d.to;h!==s?(e.fillRect(o,a,r,c-a),s=h,e.fillStyle=i[s],a=p,c=f):c>=p?c=Math.max(c,f):(e.fillRect(o,a,r,c-a),a=p,c=f)}}e.fillRect(o,a,r,c-a)},e.hasCanvas=window.navigator.userAgent.indexOf("MSIE 8")===-1,e}();t.OverviewRulerImpl=s}),define(l[372],d([1,0,125,261]),function(e,t,i,n){"use strict";var o=function(e){function t(t,i,o,r,s,a){e.call(this),this._context=t,this._overviewRuler=new n.OverviewRulerImpl(0,i,o,this._context.configuration.editor.lineHeight,this._context.configuration.editor.viewInfo.canUseTranslate3d,r,s,a),this._context.addEventHandler(this)}return h(t,e),t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._overviewRuler.dispose()},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!0),!0):!!e.viewInfo.canUseTranslate3d&&(this._overviewRuler.setCanUseTranslate3d(this._context.configuration.editor.viewInfo.canUseTranslate3d,!0),!0)},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return!0},t.prototype.onScrollChanged=function(t){return this._overviewRuler.setScrollHeight(t.scrollHeight,!0),e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype.setLayout=function(e){this._overviewRuler.setLayout(e,!0)},t.prototype.setZones=function(e){this._overviewRuler.setZones(e,!0)},t}(i.ViewEventHandler);t.OverviewRuler=o}),define(l[373],d([1,0,60,117,846]),function(e,t,i,n){"use strict";var o=function(e){function t(t,i){e.call(this,t),this._layoutProvider=i,this.domNode=document.createElement("div"),this.domNode.className="view-rulers",this._rulers=this._context.configuration.editor.viewInfo.rulers,this._height=this._context.configuration.editor.layoutInfo.contentHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!!(e.viewInfo.rulers||e.layoutInfo||e.fontInfo)&&(this._rulers=this._context.configuration.editor.viewInfo.rulers,this._height=this._context.configuration.editor.layoutInfo.contentHeight,this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,!0)},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){for(var t=this.domNode.children.length,n=Math.max(t,this._rulers.length),o=0;o<n;o++)if(o>=this._rulers.length)this.domNode.removeChild(this.domNode.lastChild);else{var r=void 0;o<t?r=this.domNode.children[o]:(r=document.createElement("div"),r.className="view-ruler",this.domNode.appendChild(r)),i.StyleMutator.setHeight(r,Math.min(this._layoutProvider.getTotalHeight(),1e6)),i.StyleMutator.setLeft(r,this._rulers[o]*this._typicalHalfwidthCharacterWidth)}},t}(n.ViewPart);t.Rulers=o}),define(l[374],d([1,0,10,60,53,117,845]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t){e.call(this,t),this._scrollTop=0,this._width=0,this._shouldShow=!1,this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows,this._domNode=document.createElement("div")}return h(t,e),t.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){return e.viewInfo.scrollbar&&(this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows),this._updateShouldShow()},t.prototype.onLayoutChanged=function(e){return this._width!==e.width&&(this._width=e.width,!0)},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){n.StyleMutator.setWidth(this._domNode,this._width),i.toggleClass(this._domNode,o.ClassNames.SCROLL_DECORATION,this._shouldShow)},t}(r.ViewPart);t.ScrollDecorationViewPart=s}),define(l[375],d([1,0,7,60,53,117]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i){e.call(this,t),this._lineHeight=this._context.configuration.editor.lineHeight,this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this._whitespaceManager=i,this.domNode=document.createElement("div"),this.domNode.className=o.ClassNames.VIEW_ZONES,this.domNode.style.position="absolute",this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._zones={}}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._whitespaceManager=null,this._zones={}},t.prototype._recomputeWhitespacesProps=function(){for(var e=!1,t=Object.keys(this._zones),i=0,n=t.length;i<n;i++){var o=t[i],r=this._zones[o],s=this._computeWhitespaceProps(r.delegate);this._whitespaceManager.changeWhitespace(parseInt(o,10),s.afterViewLineNumber,s.heightInPx)&&(this._safeCallOnComputedHeight(r.delegate,s.heightInPx),e=!0)}return e},t.prototype.onConfigurationChanged=function(e){return e.lineHeight?(this._lineHeight=this._context.configuration.editor.lineHeight,this._recomputeWhitespacesProps()):(e.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),!1)},t.prototype.onLineMappingChanged=function(){return this._recomputeWhitespacesProps()},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype._getZoneOrdinal=function(e){return"undefined"!=typeof e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e)};var t;if("undefined"!=typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t={lineNumber:i,column:this._context.model.getModelLineMaxColumn(i)}}var n;n=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var o=this._context.model.convertModelPositionToViewPosition(t.lineNumber,t.column),r=this._context.model.modelPositionIsVisible(n);return{afterViewLineNumber:o.lineNumber,heightInPx:r?this._heightInPixels(e):0}},t.prototype.addZone=function(e){var t=this._computeWhitespaceProps(e),i=this._whitespaceManager.addWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(e),t.heightInPx),o={whitespaceId:i,delegate:e,isVisible:!1};return this._safeCallOnComputedHeight(o.delegate,t.heightInPx),o.delegate.domNode.style.position="absolute",o.delegate.domNode.style.width="100%",n.StyleMutator.setDisplay(o.delegate.domNode,"none"),this._zones[o.whitespaceId.toString()]=o,o.delegate.domNode.setAttribute("monaco-view-zone",o.whitespaceId.toString()),this.domNode.appendChild(o.delegate.domNode),this.setShouldRender(),o.whitespaceId},t.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return delete this._zones[e.toString()],this._whitespaceManager.removeWhitespace(t.whitespaceId),t.delegate.domNode.removeAttribute("monaco-visible-view-zone"),t.delegate.domNode.removeAttribute("monaco-view-zone"),t.delegate.domNode.parentNode.removeChild(t.delegate.domNode),this.setShouldRender(),!0}return!1},t.prototype.layoutZone=function(e){var t=!1;if(this._zones.hasOwnProperty(e.toString())){var i=this._zones[e.toString()],n=this._computeWhitespaceProps(i.delegate);t=this._whitespaceManager.changeWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx)||t,t&&(this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender())}return t},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return t.delegate.suppressMouseDown}return!1},t.prototype._heightInPixels=function(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(n){i.onUnexpectedError(n)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(n){i.onUnexpectedError(n)}},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){for(var t=this._whitespaceManager.getWhitespaceViewportData(),i={},o=!1,r=0,s=t.length;r<s;r++)i[t[r].id.toString()]=t[r],o=!0;for(var a=Object.keys(this._zones),r=0,s=a.length;r<s;r++){var c=a[r],u=this._zones[c];i.hasOwnProperty(c)?(n.StyleMutator.setTop(u.delegate.domNode,i[c].verticalOffset-e.bigNumbersDelta),n.StyleMutator.setHeight(u.delegate.domNode,i[c].height),u.isVisible||(n.StyleMutator.setDisplay(u.delegate.domNode,"block"),u.delegate.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(i[c].verticalOffset))):(u.isVisible&&(n.StyleMutator.setDisplay(u.delegate.domNode,"none"),u.delegate.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(-1e6)))}o&&n.StyleMutator.setWidth(this.domNode,Math.max(e.scrollWidth,this._contentWidth))},t}(r.ViewPart);t.ViewZones=s}),define(l[376],d([1,0,16,24,13,5,265,48,14,11]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l;!function(e){e[e.Type=0]="Type",e[e.Paste=1]="Paste"}(l||(l={}));var d=function(e){function t(t,o,r,u,d){var h=this;e.call(this),this._onKeyDown=this._register(new n.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new n.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new n.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new n.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new n.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new n.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new n.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new n.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this.Browser=t,this.textArea=r,this.model=u,this.flushAnyAccumulatedEvents=d,this.selection=new c.Range(1,1,1,1),this.selections=[new c.Range(1,1,1,1)],this.cursorPosition=new a.Position(1,1),this._nextCommand=l.Type,this.asyncTriggerCut=new i.RunOnceScheduler(function(){return h._onCut.fire()},0),this.lastCopiedValue=null,this.lastCopiedValueIsFromEmptySelection=!1,this.textAreaState=s.createTextAreaState(o),this.hasFocus=!1,this.lastCompositionEndTime=0,this._register(this.textArea.onKeyDown(function(e){return h._onKeyDownHandler(e)})),this._register(this.textArea.onKeyUp(function(e){return h._onKeyUp.fire(e)})),this._register(this.textArea.onKeyPress(function(e){return h._onKeyPressHandler(e)})),this.textareaIsShownAtCursor=!1,this._register(this.textArea.onCompositionStart(function(e){if(!h.textareaIsShownAtCursor){h.textareaIsShownAtCursor=!0;var t=!0;t&&(h.Browser.isIE11orEarlier||h.setTextAreaState("compositionstart",h.textAreaState.toEmpty()));var i,n;h.Browser.isIE11orEarlier?(i=h.selection.startLineNumber,n=h.selection.startColumn-h.textAreaState.getSelectionStart()):(i=h.cursorPosition.lineNumber,n=h.cursorPosition.column),h._onCompositionStart.fire({showAtLineNumber:i,showAtColumn:n})}})),this._register(this.textArea.onCompositionUpdate(function(e){
h.textAreaState=h.textAreaState.fromText(e.data);var t=h.textAreaState.updateComposition();h._onType.fire(t),h._onCompositionUpdate.fire(e)}));var p=function(){h.textAreaState=h.textAreaState.fromTextArea(h.textArea);var e=h.textAreaState.deduceInput();h._nextCommand===l.Type?""!==e.text&&h._onType.fire(e):(h.executePaste(e.text),h._nextCommand=l.Type)};this._register(this.textArea.onCompositionEnd(function(e){h.textAreaState=h.textAreaState.fromText(e.data);var t=h.textAreaState.updateComposition();h._onType.fire(t),h.lastCompositionEndTime=(new Date).getTime(),h.textareaIsShownAtCursor&&(h.textareaIsShownAtCursor=!1,h._onCompositionEnd.fire())})),this._register(this.textArea.onInput(function(){h.textareaIsShownAtCursor||p()})),this._register(this.textArea.onCut(function(e){h.flushAnyAccumulatedEvents(),h._ensureClipboardGetsEditorSelection(e),h.asyncTriggerCut.schedule()})),this._register(this.textArea.onCopy(function(e){h.flushAnyAccumulatedEvents(),h._ensureClipboardGetsEditorSelection(e)})),this._register(this.textArea.onPaste(function(e){e.canUseTextData()?h.executePaste(e.getTextData()):(h.textArea.getSelectionStart()!==h.textArea.getSelectionEnd()&&h.setTextAreaState("paste",h.textAreaState.toEmpty()),h._nextCommand=l.Paste)})),this._writePlaceholderAndSelectTextArea("ctor")}return h(t,e),t.prototype.dispose=function(){this.asyncTriggerCut.dispose(),e.prototype.dispose.call(this)},t.prototype.setStrategy=function(e){this.textAreaState=this.textAreaState.toStrategy(e)},t.prototype.setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this.hasFocus&&this._writePlaceholderAndSelectTextArea("focusgain"))},t.prototype.setCursorSelections=function(e,t){this.selection=e,this.selections=[e].concat(t),this._writePlaceholderAndSelectTextArea("selection changed")},t.prototype.setCursorPosition=function(e){this.cursorPosition=e},t.prototype.setTextAreaState=function(e,t){this.hasFocus||(t=t.resetSelection()),t.applyToTextArea(e,this.textArea,this.hasFocus),this.textAreaState=t},t.prototype._onKeyDownHandler=function(e){e.equals(o.CommonKeybindings.ESCAPE)&&e.preventDefault(),this._onKeyDown.fire(e)},t.prototype._onKeyPressHandler=function(e){!this.hasFocus},t.prototype.executePaste=function(e){if(""!==e){var t=!1;this.Browser.enableEmptySelectionClipboard&&(t=e===this.lastCopiedValue&&this.lastCopiedValueIsFromEmptySelection),this._onPaste.fire({text:e,pasteOnNewLine:t})}},t.prototype.writePlaceholderAndSelectTextAreaSync=function(){this._writePlaceholderAndSelectTextArea("focusTextArea")},t.prototype._writePlaceholderAndSelectTextArea=function(e){this.textareaIsShownAtCursor||(this.Browser.isIPad?this.setTextAreaState(e,this.textAreaState.toEmpty()):this.setTextAreaState(e,this.textAreaState.fromEditorSelection(this.model,this.selection)))},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._getPlainTextToCopy();if(e.canUseTextData()?e.setTextData(t):this.setTextAreaState("copy or cut",this.textAreaState.fromText(t)),this.Browser.enableEmptySelectionClipboard){this.Browser.isFirefox?this.lastCopiedValue=t.replace(/\r\n/g,"\n"):this.lastCopiedValue=t;var i=this.selections;this.lastCopiedValueIsFromEmptySelection=1===i.length&&i[0].isEmpty()}},t.prototype._getPlainTextToCopy=function(){var e=this.model.getEOL(),t=this.selections;if(1===t.length){var i=t[0];if(i.isEmpty()){if(this.Browser.enableEmptySelectionClipboard){var n=this.model.convertViewPositionToModelPosition(i.startLineNumber,1).lineNumber;return this.model.getModelLineContent(n)+e}return""}return this.model.getValueInRange(i,u.EndOfLinePreference.TextDefined)}t=t.slice(0).sort(c.Range.compareRangesUsingStarts);for(var o=[],r=0;r<t.length;r++)o.push(this.model.getValueInRange(t[r],u.EndOfLinePreference.TextDefined));return o.join(e)},t}(r.Disposable);t.TextAreaHandler=d}),define(l[260],d([1,0,13,60,48,53,100]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,n){var o=this;e.call(this),this.allowEditorOverflow=!0,this._id=t,this._editor=n,this._isVisible=!1,this._containerDomNode=document.createElement("div"),this._containerDomNode.className="monaco-editor-hover monaco-editor-background",this._domNode=document.createElement("div"),this._domNode.style.display="inline-block",this._containerDomNode.appendChild(this._domNode),this._containerDomNode.tabIndex=0,this.onkeydown(this._containerDomNode,function(e){e.equals(i.CommonKeybindings.ESCAPE)&&o.hide()}),this._editor.applyFontInfo(this._domNode),this._register(this._editor.onDidChangeConfiguration(function(e){e.fontInfo&&o._editor.applyFontInfo(o._domNode)})),this._editor.addContentWidget(this),this._showAtPosition=null}return h(t,e),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t){this._showAtPosition=new o.Position(e.lineNumber,e.column),this._isVisible=!0;var i=Math.min(800,parseInt(this._containerDomNode.style.maxWidth,10));n.StyleMutator.setWidth(this._containerDomNode,i),n.StyleMutator.setHeight(this._containerDomNode,0),n.StyleMutator.setLeft(this._containerDomNode,0);var r=Math.min(i,this._domNode.clientWidth+5),s=this._domNode.clientHeight+1;n.StyleMutator.setWidth(this._containerDomNode,r),n.StyleMutator.setHeight(this._containerDomNode,s),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=t,t&&this._containerDomNode.focus()},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this._isVisible?{position:this._showAtPosition,preference:[r.ContentWidgetPositionPreference.ABOVE,r.ContentWidgetPositionPreference.BELOW]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t}(s.Widget);t.ContentHoverWidget=a;var c=function(e){function t(t,i){var n=this;e.call(this),this._id=t,this._editor=i,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-editor-hover monaco-editor-background",this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","presentation"),this._showAtLineNumber=-1,this._editor.applyFontInfo(this._domNode),this._register(this._editor.onDidChangeConfiguration(function(e){e.fontInfo&&n._editor.applyFontInfo(n._domNode)})),this._editor.addOverlayWidget(this)}return h(t,e),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this._isVisible||(this._isVisible=!0,this._domNode.style.display="block");var t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(this._showAtLineNumber),n=this._editor.getScrollTop();this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=i-n+"px"},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t}(s.Widget);t.GlyphHoverWidget=c}),define(l[378],d([1,0,312,260]),function(e,t,i,n){"use strict";var o=function(){function e(e){this._editor=e,this._lineNumber=-1}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e,t,i,n=[],o=this._editor.getLineDecorations(this._lineNumber);for(e=0,t=o.length;e<t;e++)i=o[e],i.options.glyphMarginClassName&&i.options.glyphMarginHoverMessage&&n.push({value:i.options.glyphMarginHoverMessage});return n},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),r=function(e){function t(n){var r=this;e.call(this,t.ID,n),this._lastLineNumber=-1,this._computer=new o(this._editor),this._hoverOperation=new i.HoverOperation(this._computer,function(e){return r._withResult(e)},null,function(e){return r._withResult(e)})}return h(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start())},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){var i=document.createDocumentFragment();t.forEach(function(e){var t=document.createElement("div"),n=null;e.className?(n=document.createElement("span"),n.textContent=e.value,n.className=e.className,t.appendChild(n)):t.textContent=e.value,i.appendChild(t)}),this._domNode.textContent="",this._domNode.appendChild(i),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(n.GlyphHoverWidget);t.ModesGlyphHoverWidget=r}),define(l[379],d([1,0,5,10,48,53]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t){this.allowEditorOverflow=!0,this.editor=e,this.onclick=t,this.toDispose=[],this.editor.addContentWidget(this)}return e.prototype.dispose=function(){this.editor.removeContentWidget(this),this.toDispose=i.dispose(this.toDispose)},e.prototype.getId=function(){return"__lightBulpWidget"},e.prototype.getDomNode=function(){var e=this;return this.domNode||(this.domNode=document.createElement("div"),this.domNode.style.width="20px",this.domNode.style.height="20px",this.domNode.className="lightbulp-glyph",this.toDispose.push(n.addDisposableListener(this.domNode,"click",function(t){e.editor.focus(),e.onclick(e.position)}))),this.domNode},e.prototype.getPosition=function(){return this.visible?{position:this.position,preference:[r.ContentWidgetPositionPreference.BELOW,r.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.show=function(e){this.visible&&o.Position.equals(this.position,e)||(this.position=e,this.visible=!0,this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.visible&&(this.visible=!1,this.editor.layoutContentWidget(this))},e}();t.LightBulpWidget=s}),define(l[187],d([1,0,5,29,10,122,14,779]),function(e,t,i,n,o,r,s){"use strict";var a={showArrow:!0,showFrame:!0,frameColor:"",className:""},c="vs.editor.contrib.zoneWidget",u=function(){function e(e,t,i,n,o,r){this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this._onDomNodeTop=o,this._onComputedHeight=r}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}();t.ViewZoneDelegate=u;var l=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}();t.OverlayWidgetDelegate=l;var d=function(){function e(e,t){var o=this;void 0===t&&(t={}),this._viewZone=null,this._overlayWidget=null,this._disposables=new i.Disposables,this.container=null,this.editor=e,this.options=n.mixin(n.clone(a),t),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(function(e){var t=o._getWidth(e);o.domNode.style.width=t+"px",o._onWidth(t)}))}return e.prototype.create=function(){o.addClass(this.domNode,"zone-widget"),o.addClass(this.domNode,this.options.className),this.container=document.createElement("div"),o.addClass(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this._fillContainer(this.container),this._initSash()},e.prototype._getWidth=function(e){return void 0===e&&(e=this.editor.getLayoutInfo()),e.width-e.verticalScrollbarWidth},e.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},e.prototype._onViewZoneHeight=function(e){this.domNode.style.height=e+"px";var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px",this._doLayout(t,this._getWidth()),this._resizeSash.layout()},e.prototype.show=function(e,t){var i=s.Range.isIRange(e)?e:new s.Range(e.lineNumber,e.column,e.lineNumber,e.column);this._showImpl(i,t)},e.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight,t=0;if(this.options.showArrow){var i=Math.round(e/3);t+=2*i}if(this.options.showFrame){var n=Math.round(e/9);t+=2*n}return t},e.prototype._showImpl=function(e,t){var i=this,n={lineNumber:e.startLineNumber,column:e.startColumn},o=this._getWidth();this.domNode.style.width=o+"px",this.editor.revealPosition(n);var r=document.createElement("div"),s=document.createElement("div"),a=this.editor.getConfiguration().lineHeight,d=0,h=0;this.options.showArrow&&(d=Math.round(a/3),s=document.createElement("div"),s.className="zone-widget-arrow below",s.style.top=-d+"px",s.style.borderWidth=d+"px",s.style.left=this.editor.getOffsetForColumn(n.lineNumber,n.column)+"px",s.style.borderBottomColor=this.options.frameColor,r.appendChild(s)),this.options.showFrame&&(h=Math.round(a/9)),this.editor.changeViewZones(function(e){i._viewZone&&e.removeZone(i._viewZone.id),i._overlayWidget&&(i.editor.removeOverlayWidget(i._overlayWidget),i._overlayWidget=null),i.domNode.style.top="-1000px",i._viewZone=new u(r,n.lineNumber,n.column,t,function(e){return i._onViewZoneTop(e)},function(e){return i._onViewZoneHeight(e)}),i._viewZone.id=e.addZone(i._viewZone),i._overlayWidget=new l(c+i._viewZone.id,i.domNode),i.editor.addOverlayWidget(i._overlayWidget)}),this.options.showFrame&&(this.container.style.borderTopColor=this.options.frameColor,this.container.style.borderBottomColor=this.options.frameColor,this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px");var p=t*a-this._decoratingElementsHeight();this.container.style.top=d+"px",this.container.style.height=p+"px",this.container.style.overflow="hidden",this._doLayout(p,o),this.editor.setSelection(e);var f=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.editor.revealLine(f),this.position=n},e.prototype.dispose=function(){var e=this;this._disposables.dispose(),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(function(t){t.removeZone(e._viewZone.id),e._viewZone=null})},e.prototype._onWidth=function(e){},e.prototype._doLayout=function(e,t){},e.prototype._initSash=function(){var e=this;this._resizeSash=new r.Sash(this.domNode,this,{orientation:r.Orientation.HORIZONTAL}),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.disable());var t;this._disposables.add(this._resizeSash.addListener2("start",function(i){e._viewZone&&(t={startY:i.startY,heightInLines:e._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.addListener2("end",function(){t=void 0})),this._disposables.add(this._resizeSash.addListener2("change",function(i){if(t){var n=(i.currentY-t.startY)/e.editor.getConfiguration().lineHeight,o=n<0?Math.ceil(n):Math.floor(n),r=t.heightInLines+o;r>5&&r<35&&e.editor.changeViewZones(function(t){e._viewZone.heightInLines=r,t.layoutZone(e._viewZone.id)})}}))},e.prototype.getHorizontalSashLeft=function(){return 0},e.prototype.getHorizontalSashTop=function(){return parseInt(this.domNode.style.height)-this._decoratingElementsHeight()/2},e.prototype.getHorizontalSashWidth=function(){return this.editor.getLayoutInfo().width},e}();t.ZoneWidget=d}),define(l[381],d([3,4]),function(e,t){return e.create("vs/base/common/processes",t)}),define(l[258],d([1,0,381,29,12,17,181]),function(e,t,i,n,o,r,s){"use strict";function a(e,t){var i=n.clone(e);return i.cwd&&(i.cwd=t.resolve(i.cwd)),i.env&&(i.env=t.resolve(i.env)),i}function c(e,t){var i=n.clone(e);return i.command=t.resolve(i.command),i.args=t.resolve(i.args),i.options&&(i.options=a(i.options,t)),i}!function(e){e[e.stdout=0]="stdout",e[e.stderr=1]="stderr"}(t.Source||(t.Source={}));var u=(t.Source,function(e){function t(t,i){void 0===i&&(i=new s.ValidationStatus),e.call(this,t,i)}return h(t,e),t.prototype.parse=function(e,n){void 0===n&&(n={globals:null,emptyCommand:!1,noDefaults:!1});var r=this.parseExecutable(e,n.globals);if(this.status.isFatal())return r;var a;return e.windows&&o.platform===o.Platform.Windows?a=this.parseExecutable(e.windows):e.osx&&o.platform===o.Platform.Mac?a=this.parseExecutable(e.osx):e.linux&&o.platform===o.Platform.Linux&&(a=this.parseExecutable(e.linux)),a&&(r=t.mergeExecutable(r,a)),r&&r.command||n.emptyCommand?(n.noDefaults||s.Parser.merge(r,{command:void 0,isShellCommand:!1,args:[],options:{}},!1),r):(this.status.state=s.ValidationState.Fatal,this.log(i.localize(0,null)),null)},t.prototype.parseExecutable=function(e,t){var n=void 0,o=void 0,a=void 0,c=void 0;return this.is(e.command,r.isString)&&(n=e.command),this.is(e.isShellCommand,r.isBoolean,s.ValidationState.Warning,i.localize(1,null,e.isShellCommand))&&(o=e.isShellCommand),this.is(e.args,r.isStringArray,s.ValidationState.Warning,i.localize(2,null,e.isShellCommand))&&(a=e.args.slice(0)),this.is(e.options,r.isObject)&&(c=this.parseCommandOptions(e.options)),{command:n,isShellCommand:o,args:a,options:c}},t.prototype.parseCommandOptions=function(e){var t={};return e?(this.is(e.cwd,r.isString,s.ValidationState.Warning,i.localize(3,null,e.cwd))&&(t.cwd=e.cwd),r.isUndefined(e.env)||(t.env=n.clone(e.env)),t):t},t.mergeExecutable=function(e,t){return e?(s.Parser.merge(e,t,!0),e):t},t}(s.Parser));t.ExecutableParser=u,t.resolveCommandOptions=a,t.resolveExecutable=c}),define(l[383],d([3,4]),function(e,t){return e.create("vs/base/common/severity",t)}),define(l[33],d([1,0,383,9]),function(e,t,i,n){"use strict";var o;!function(e){e[e.Ignore=0]="Ignore",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(o||(o={}));var o;!function(e){function t(t){return t?n.equalsIgnoreCase(s,t)?e.Error:n.equalsIgnoreCase(a,t)||n.equalsIgnoreCase(c,t)?e.Warning:n.equalsIgnoreCase(u,t)?e.Info:e.Ignore:e.Ignore}function o(e){return l[e]||n.empty}function r(e,t){return t-e}var s="error",a="warning",c="warn",u="info",l=Object.create(null);l[e.Error]=i.localize(0,null),l[e.Warning]=i.localize(1,null),l[e.Info]=i.localize(2,null),e.fromValue=t,e.toString=o,e.compare=r}(o||(o={})),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o}),define(l[385],d([1,0,24,13,48,14,46,2,192,33,19]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(){return{editor:void 0,languages:void 0,CancellationTokenSource:c.CancellationTokenSource,Emitter:i.Emitter,KeyCode:n.KeyCode,KeyMod:n.KeyMod,Position:o.Position,Range:r.Range,Selection:s.Selection,SelectionDirection:s.SelectionDirection,Severity:u["default"],Promise:a.TPromise,Uri:l["default"]}}t.createMonacoBaseAPI=d}),define(l[386],d([1,0,19,2,14,89,670,623,649,642,162,385]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function p(){return new m}var f=function(e){function t(){e.apply(this,arguments)}return h(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var i=l.getWordAtText(e.column,l.ensureValidWordDefinition(t),this._lines[e.lineNumber-1],0);return i?new o.Range(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var i=this.getWordAtPosition(e,t);return i?{word:this._lines[e.lineNumber-1].substring(i.startColumn-1,e.column-1),startColumn:i.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype._getAllWords=function(e){var t=this,i=[];return this._lines.forEach(function(n){t._wordenize(n,e).forEach(function(e){i.push(n.substring(e.start,e.end))})}),i},t.prototype.getAllUniqueWords=function(e,t){var i=!1,n={};return this._getAllWords(e).filter(function(e){return t&&!i&&t===e?(i=!0,!1):!n[e]&&(n[e]=!0,!0)})},t.prototype._wordenize=function(e,t){for(var i,n=[];(i=t.exec(e))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n},t.prototype.getValueInRange=function(e){if(e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(var r=i+1;r<n;r++)o.push(this._lines[r]);return o.push(this._lines[n].substring(0,e.endColumn-1)),o.join(t)},t}(a.MirrorModel2);t.MirrorModel=f;var g=function(){function e(){this._foreignModule=null}return e.prototype.computeDiff=function(e,t,i){var o=this._getModel(e),r=this._getModel(t);if(!o||!r)return null;var a=o.getLinesContent(),c=r.getLinesContent(),u=new s.DiffComputer(a,c,{shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldConsiderTrimWhitespaceInEmptyCase:!0});return n.TPromise.as(u.computeDiff())},e.prototype.computeDirtyDiff=function(e,t,i){var o=this._getModel(e),r=this._getModel(t);if(!o||!r)return null;var a=o.getLinesContent(),c=r.getLinesContent(),u=new s.DiffComputer(a,c,{shouldPostProcessCharChanges:!1,shouldIgnoreTrimWhitespace:i,shouldConsiderTrimWhitespaceInEmptyCase:!1});return n.TPromise.as(u.computeDiff())},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?n.TPromise.as(c.computeLinks(t)):null},e.prototype.textualSuggest=function(e,t,i,o){var r=this._getModel(e);return r?n.TPromise.as(this._suggestFiltered(r,t,new RegExp(i,o))):null},e.prototype._suggestFiltered=function(e,t,i){var n=this._suggestUnfiltered(e,t,i);return[{currentWord:n.currentWord,suggestions:n.suggestions.filter(function(e){return!!r.fuzzyContiguousFilter(n.currentWord,e.label)}),incomplete:n.incomplete}]},e.prototype._suggestUnfiltered=function(e,t,i){var n=e.getWordUntilPosition(t,i).word,o=e.getAllUniqueWords(i,n),r=o.filter(function(e){return!/^-?\d*\.?\d/.test(e)}).map(function(e){return{type:"text",label:e,codeSnippet:e,noAutoAccept:!0}});return{currentWord:n,suggestions:r}},e.prototype.navigateValueSet=function(e,t,i,o,r){var s=this._getModel(e);if(!s)return null;var a=new RegExp(o,r);t.startColumn===t.endColumn&&(t.endColumn+=1);var c=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a),d=null;null!==l&&(d=s.getValueInRange(l));var h=u.BasicInplaceReplace.INSTANCE.navigateValueSet(t,c,l,d,i);return n.TPromise.as(h)},e.prototype.loadForeignModule=function(e,t){var i=this;return new n.TPromise(function(n,o){self.require([e],function(e){var o={getMirrorModels:function(){return i._getModels()}};i._foreignModule=e.create(o,t);var r=[];for(var s in i._foreignModule)"function"==typeof i._foreignModule[s]&&r.push(s);n(r)},o)})},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return n.TPromise.wrapError(new Error("Missing requestHandler or method: "+e));try{return n.TPromise.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return n.TPromise.wrapError(i)}},e}();t.BaseEditorSimpleWorker=g;var m=function(e){function t(){e.call(this),this._models=Object.create(null)}return h(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(i){return t.push(e._models[i])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new f(i["default"].parse(e.url),e.value.lines,e.value.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){if(this._models[e]){var i=this._models[e];i.onEvents(t)}},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(g);t.EditorSimpleWorkerImpl=m,t.create=p;var v=self,y="function"==typeof v.importScripts;y&&(v.monaco=d.createMonacoBaseAPI())}),define(l[387],d([3,4]),function(e,t){return e.create("vs/base/node/processes",t)}),define(l[172],d([1,0,74,99,1032,251,387,2,17,19,29,25,12,284,258]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g){"use strict";function m(t,i){if(p.isWindows)try{var o={stdio:["pipe","pipe","ignore"]};i&&(o.cwd=i),n.execFileSync("taskkill",["/T","/F","/PID",t.pid.toString()],o)}catch(r){return{success:!1,error:r}}else if(p.isLinux||p.isMacintosh)try{var s=u["default"].parse(e.toUrl("vs/base/node/terminateProcess.sh")).fsPath,a=n.spawnSync(s,[t.pid.toString()]);if(a.error)return{success:!1,error:a.error}}catch(r){return{success:!1,error:r}}else t.kill("SIGKILL");return{success:!0}}function v(){return process.env.comspec||"cmd.exe"}var y=n.exec,E=n.spawn;t.Source=g.Source,t.terminateProcess=m,t.getWindowsShell=v;var S=function(){function e(e,t,i,n){var o=this;if(n)this.cmd=e,this.args=t,this.shell=i,this.options=n;else if(i&&t)this.module=e,this.args=t,this.shell=!1,this.options=i;else{var r=e;this.cmd=r.command,this.shell=r.isShellCommand,this.args=r.args.slice(0),this.options=r.options||{}}if(this.childProcess=null,this.terminateRequested=!1,this.options.env){var s=Object.create(null);Object.keys(process.env).forEach(function(e){s[e]=process.env[e]}),Object.keys(this.options.env).forEach(function(e){s[e]=o.options.env[e]}),this.options.env=s}}return e.prototype.getSanitizedCommand=function(){var t=this.cmd.toLowerCase(),n=t.lastIndexOf(i.sep);return n!==-1&&(t=t.substring(n+1)),e.WellKnowCommands[t]?t:"other"},e.prototype.start=function(){var e=this;return p.isWindows&&(this.options&&this.options.cwd&&d.isUNC(this.options.cwd)||!this.options&&!this.options.cwd&&d.isUNC(process.cwd()))?a.Promise.wrapError(s.localize(0,null)):this.useExec().then(function(t){var i,n,o,s=new a.PPromise(function(e,t,r){i=e,n=t,o=r});if(t){var u=e.cmd;e.args&&(u=u+" "+e.args.join(" ")),e.childProcess=y(u,e.options,function(t,r,s){e.childProcess=null;var a=t;a&&a.killed?n({killed:e.terminateRequested,stdout:r.toString(),stderr:s.toString()}):e.handleExec(i,o,t,r,s)})}else{var d=null,h=function(t){e.childProcess=null,e.childProcessPromise=null,e.handleClose(t,i,o,n);var r={terminated:e.terminateRequested};c.isNumber(t)&&(r.cmdCode=t),i(r)};if(e.shell&&p.isWindows){var f=l.clone(e.options);f.windowsVerbatimArguments=!0,f.detached=!1;var g=!1,m=!1,S=[],b=e.ensureQuotes(e.cmd);S.push(b.value),g=b.quoted,e.args&&e.args.forEach(function(t){b=e.ensureQuotes(t),S.push(b.value),m=m&&b.quoted});var _=["/s","/c"];g?m?_.push('"'+S.join(" ")+'"'):S.length>1?_.push('"'+S[0]+'" '+S.slice(1).join(" ")):_.push('"'+S[0]+'"'):_.push(S.join(" ")),d=E(v(),_,f)}else e.cmd?d=E(e.cmd,e.args,e.options):e.module&&(e.childProcessPromise=new a.TPromise(function(t,s,a){r.fork(e.module,e.args,e.options,function(r,a){return r?(s(r),void n({terminated:e.terminateRequested,error:r})):(e.childProcess=a,e.childProcess.on("close",h),e.handleSpawn(a,i,o,n,!1),void t(a))})}));d&&(e.childProcess=d,e.childProcessPromise=a.TPromise.as(d),d.on("error",function(t){e.childProcess=null,n({terminated:e.terminateRequested,error:t})}),d.pid&&(e.childProcess.on("close",h),e.handleSpawn(d,i,o,n,!0)))}return s})},e.prototype.handleClose=function(e,t,i,n){},e.prototype.ensureQuotes=function(t){return e.regexp.test(t)?{value:'"'+t+'"',quoted:!0}:{value:t,quoted:t.length>0&&'"'===t[0]&&'"'===t[t.length-1]}},e.prototype.isRunning=function(){return null!==this.childProcessPromise},Object.defineProperty(e.prototype,"pid",{get:function(){return this.childProcessPromise.then(function(e){return e.pid},function(e){return-1})},enumerable:!0,configurable:!0}),e.prototype.terminate=function(){var e=this;return this.childProcessPromise?this.childProcessPromise.then(function(t){e.terminateRequested=!0;var i=m(t,e.options.cwd);return i.success&&(e.childProcess=null),i},function(e){return{success:!0}}):a.TPromise.as({success:!0})},e.prototype.useExec=function(){var e=this;return new a.TPromise(function(t,i,n){e.shell&&p.isWindows||t(!1);var o=E(v(),["/s","/c"]);o.on("error",function(e){t(!0)}),o.on("exit",function(e){t(!1)})})},e.WellKnowCommands={ant:!0,cmake:!0,eslint:!0,gradle:!0,grunt:!0,gulp:!0,jake:!0,jenkins:!0,jshint:!0,make:!0,maven:!0,msbuild:!0,msc:!0,nmake:!0,npm:!0,rake:!0,tsc:!0,xbuild:!0},e.regexp=/^[^"].* .*[^"]/,e}();t.AbstractProcess=S;var b=function(e){function t(t,i,n,o){e.call(this,t,i,n,o)}return h(t,e),t.prototype.handleExec=function(e,t,i,n,o){[n,o].forEach(function(e,i){var n=new f.LineDecoder,o=n.write(e);o.forEach(function(e){t({line:e,source:0===i?g.Source.stdout:g.Source.stderr})});var r=n.end();r&&t({line:r,source:0===i?g.Source.stdout:g.Source.stderr})}),e({terminated:this.terminateRequested,error:i})},t.prototype.handleSpawn=function(e,t,i,n,o){var r=this;this.stdoutLineDecoder=new f.LineDecoder,this.stderrLineDecoder=new f.LineDecoder,e.stdout.on("data",function(e){var t=r.stdoutLineDecoder.write(e);t.forEach(function(e){return i({line:e,source:g.Source.stdout})})}),e.stderr.on("data",function(e){var t=r.stderrLineDecoder.write(e);t.forEach(function(e){return i({line:e,source:g.Source.stderr})})})},t.prototype.handleClose=function(e,t,i,n){[this.stdoutLineDecoder.end(),this.stderrLineDecoder.end()].forEach(function(e,t){e&&i({line:e,source:0===t?g.Source.stdout:g.Source.stderr})})},t}(S);t.LineProcess=b;var _=function(e){function t(t,i,n,o){e.call(this,t,i,n,o)}return h(t,e),t.prototype.handleExec=function(e,t,i,n,o){t({data:n,source:g.Source.stdout}),t({data:o,source:g.Source.stderr}),e({terminated:this.terminateRequested,error:i})},t.prototype.handleSpawn=function(e,t,i,n,o){e.stdout.on("data",function(e){i({data:e,source:g.Source.stdout})}),e.stderr.on("data",function(e){i({data:e,source:g.Source.stderr})})},t}(S);t.BufferProcess=_;var C=function(e){function t(t,i,n,o){e.call(this,t,i,n,o)}return h(t,e),t.prototype.handleExec=function(e,t,i,n,r){var s=new o.PassThrough;s.end(n);var a=new o.PassThrough;a.end(r),t({stdin:null,stdout:s,stderr:a}),e({terminated:this.terminateRequested,error:i})},t.prototype.handleSpawn=function(e,t,i,n,o){o?process.nextTick(function(){i({stdin:e.stdin,stdout:e.stdout,stderr:e.stderr})}):i({stdin:e.stdin,stdout:e.stdout,stderr:e.stderr})},t}(S);t.StreamProcess=C}),define(l[390],d([3,4]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenModel",t)}),define(l[391],d([3,4]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenWidget",t)}),define(l[392],d([3,4]),function(e,t){return e.create("vs/base/parts/tree/browser/treeDefaults",t)}),define(l[81],d([1,0,392,2,27,12,7,10,13]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(){}return e.prototype.getHeight=function(e,t){return 20},e.prototype.getTemplateId=function(e,t){return"legacy"},e.prototype.renderTemplate=function(e,t,i){return{root:i,element:null,previousCleanupFn:null}},e.prototype.renderElement=function(e,t,i,n){for(n.previousCleanupFn&&n.previousCleanupFn(e,n.element);n.root.firstChild;)n.root.removeChild(n.root.firstChild);n.element=t,n.previousCleanupFn=this.render(e,t,n.root)},e.prototype.disposeTemplate=function(e,t,i){i.previousCleanupFn&&i.previousCleanupFn(e,i.element),i.root=null,i.element=null,i.previousCleanupFn=null},e.prototype.render=function(e,t,i,n){return i.textContent=""+t,null},e}();t.LegacyRenderer=u,function(e){e[e.ON_MOUSE_DOWN=0]="ON_MOUSE_DOWN",e[e.ON_MOUSE_UP=1]="ON_MOUSE_UP";
}(t.ClickBehavior||(t.ClickBehavior={}));var l=t.ClickBehavior,d=function(){function e(){this._arr=[]}return e.prototype.set=function(e,t){this._arr.push({keybinding:e,callback:t})},e.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var i=this._arr[t];if(e===i.keybinding)return i.callback}return null},e}();t.KeybindingDispatcher=d;var p=function(){function e(e){var t=this;void 0===e&&(e={clickBehavior:l.ON_MOUSE_UP}),this.options=e,this.downKeyBindingDispatcher=new d,this.downKeyBindingDispatcher.set(c.CommonKeybindings.SPACE,function(e,i){return t.onSpace(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.UP_ARROW,function(e,i){return t.onUp(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.PAGE_UP,function(e,i){return t.onPageUp(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.DOWN_ARROW,function(e,i){return t.onDown(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.PAGE_DOWN,function(e,i){return t.onPageDown(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.LEFT_ARROW,function(e,i){return t.onLeft(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.RIGHT_ARROW,function(e,i){return t.onRight(e,i)}),this.downKeyBindingDispatcher.set(c.CommonKeybindings.ESCAPE,function(e,i){return t.onEscape(e,i)}),this.upKeyBindingDispatcher=new d,this.upKeyBindingDispatcher.set(c.CommonKeybindings.ENTER,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(c.CommonKeybindings.CTRLCMD_ENTER,this.onEnter.bind(this))}return e.prototype.onMouseDown=function(e,t,i,n){if(void 0===n&&(n="mouse"),this.options.clickBehavior===l.ON_MOUSE_DOWN&&i.leftButton){if(i.target){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;if(a.findParentWithClass(i.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,i,n)}return!1},e.prototype.onClick=function(e,t,i){var n=r.isMacintosh;return n&&i.ctrlKey?(i.preventDefault(),i.stopPropagation(),!1):!i.middleButton&&((!i.target||!i.target.tagName||"input"!==i.target.tagName.toLowerCase())&&((this.options.clickBehavior!==l.ON_MOUSE_DOWN||!i.leftButton)&&this.onLeftClick(e,t,i)))},e.prototype.onLeftClick=function(e,t,i,n){void 0===n&&(n="mouse");var o={origin:n,originalEvent:i};if(e.getInput()===t)e.clearFocus(o),e.clearSelection(o);else{var r=i&&i.browserEvent&&"mousedown"===i.browserEvent.type;r||i.preventDefault(),i.stopPropagation(),e.DOMFocus(),e.setSelection([t],o),e.setFocus(t,o),e.isExpanded(t)?e.collapse(t).done(null,s.onUnexpectedError):e.expand(t).done(null,s.onUnexpectedError)}return!0},e.prototype.onContextMenu=function(e,t,i){return(!i.target||!i.target.tagName||"input"!==i.target.tagName.toLowerCase())&&(i&&(i.preventDefault(),i.stopPropagation()),!1)},e.prototype.onTap=function(e,t,i){var n=i.initialTarget;return(!n||!n.tagName||"input"!==n.tagName.toLowerCase())&&this.onLeftClick(e,t,i,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},e.prototype.onKey=function(e,t,i){var n=e.dispatch(i.asKeybinding());return!(!n||!n(t,i))&&(i.preventDefault(),i.stopPropagation(),!0)},e.prototype.onUp=function(e,t){var i={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(i):(e.focusPrevious(1,i),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onPageUp=function(e,t){var i={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(i):(e.focusPreviousPage(i),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onDown=function(e,t){var i={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(i):(e.focusNext(1,i),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onPageDown=function(e,t){var i={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(i):(e.focusNextPage(i),e.reveal(e.getFocus()).done(null,s.onUnexpectedError)),!0},e.prototype.onLeft=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(i);else{var n=e.getFocus();e.collapse(n).then(function(t){if(n&&!t)return e.focusParent(i),e.reveal(e.getFocus())}).done(null,s.onUnexpectedError)}return!0},e.prototype.onRight=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(i);else{var n=e.getFocus();e.expand(n).done(null,s.onUnexpectedError)}return!0},e.prototype.onEnter=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var n=e.getFocus();return n&&e.setSelection([n],i),!0},e.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.toggleExpansion(i),!0},e.prototype.onEscape=function(e,t){var i={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(i),!0):e.getSelection().length?(e.clearSelection(i),!0):!!e.getFocus()&&(e.clearFocus(i),!0)},e}();t.DefaultController=p;var f=function(){function e(){}return e.prototype.getDragURI=function(e,t){return null},e.prototype.onDragStart=function(e,t,i){},e.prototype.onDragOver=function(e,t,i,n){return null},e.prototype.drop=function(e,t,i,n){},e}();t.DefaultDragAndDrop=f;var g=function(){function e(){}return e.prototype.isVisible=function(e,t){return!0},e}();t.DefaultFilter=g;var m=function(){function e(){}return e.prototype.compare=function(e,t,i){return 0},e}();t.DefaultSorter=m;var v=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return null},e}();t.DefaultAccessibilityProvider=v;var y=function(e){function t(t,n){e.call(this,"vs.tree.collapse",i.localize(0,null),"monaco-tree-action collapse-all",n),this.viewer=t}return h(t,e),t.prototype.run=function(e){return this.viewer.getHighlight()?n.TPromise.as(null):(this.viewer.collapseAll(),this.viewer.clearSelection(),this.viewer.clearFocus(),this.viewer.DOMFocus(),this.viewer.focusFirst(),n.TPromise.as(null))},t}(o.Action);t.CollapseAllAction=y}),define(l[92],d([1,0,390,2,17,89,9,25,277,49,81,211,10,225]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g=0,m=function(){function e(e){void 0===e&&(e=[]),this.id=(g++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){return null},e.prototype.getAriaLabel=function(){return this.getLabel()},e.prototype.getDetail=function(){return null},e.prototype.getIcon=function(){return null},e.prototype.getDescription=function(){return null},e.prototype.getResource=function(){return null},e.prototype.getExtraClass=function(){return null},e.prototype.isHidden=function(){return this.hidden},e.prototype.setHidden=function(e){this.hidden=e},e.prototype.setHighlights=function(e,t,i){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=i},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},e.prototype.run=function(e,t){return!1},e.compare=function(e,t,i){i&&(i=s.stripWildcards(i).toLowerCase());var n=e.getHighlights()[0]||[],o=t.getHighlights()[0]||[];if(n.length&&!o.length)return-1;if(!n.length&&o.length)return 1;var r=e.getLabel(),a=t.getLabel();if(r===a){var u=e.getResource(),l=t.getResource();u&&l&&(r=u.fsPath,a=l.fsPath)}return c.compareAnything(r,a,i)},e.compareByScore=function(e,t,i,n,o){var r=e.getLabel(),s=t.getLabel(),a=c.compareByPrefix(r,s,i);if(a)return a;var u=f.score(r,i,o),l=f.score(s,i,o);if(u!==l)return u>l?-1:1;var d=e.getResource(),h=t.getResource();if(d&&h){var p=f.score(d.fsPath,i,o),g=f.score(h.fsPath,i,o);if(p!==g)return p>g?-1:1}return r.length!==s.length?r.length<s.length?-1:1:d&&h&&d.fsPath.length!==h.fsPath.length?d.fsPath.length<h.fsPath.length?-1:1:r===s&&d&&h?c.compareAnything(d.fsPath,h.fsPath,n):c.compareAnything(r,s,n)},e.highlight=function(e,t,i){void 0===i&&(i=!1);var n=[],o=[],c=s.stripWildcards(t),u=e.getLabel(),l=e.getDescription();if(e.getResource())if(t.toLowerCase()===e.getResource().fsPath.toLowerCase())n.push({start:0,end:u.length}),o.push({start:0,end:l.length});else if(i||t.indexOf(a.nativeSep)>=0){var d=r.matchesFuzzy(t,u,i);if(d)n=d;else{var h=l?l+a.nativeSep:"",p=h.length,f=r.matchesFuzzy(t,h+u,i);f||t===c||(f=r.matchesFuzzy(c,h+u,i)),f&&f.forEach(function(e){e.start<p&&e.end>p?(n.push({start:0,end:e.end-p}),o.push({start:e.start,end:p})):e.start>=p?n.push({start:e.start-p,end:e.end-p}):o.push(e)})}}else n=r.matchesFuzzy(t,u);else n=r.matchesFuzzy(t,u);return{labelHighlights:n,descriptionHighlights:o}},e}();t.QuickOpenEntry=m;var v=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getHeight=function(){return 0},t.prototype.render=function(e,t,i){return null},t}(m);t.QuickOpenEntryItem=v;var y=function(e){function t(t,i,n){e.call(this),this.entry=t,this.groupLabel=i,this.withBorder=n}return h(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():e.prototype.getAriaLabel.call(this)},t.prototype.getDetail=function(){return this.entry?this.entry.getDetail():e.prototype.getDetail.call(this)},t.prototype.getResource=function(){return this.entry?this.entry.getResource():e.prototype.getResource.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getEntry=function(){return this.entry},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.getExtraClass=function(){return this.entry?this.entry.getExtraClass():e.prototype.getExtraClass.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,i,n){this.entry?this.entry.setHighlights(t,i,n):e.prototype.setHighlights.call(this,t,i,n)},t.prototype.setHidden=function(t){this.entry?this.entry.setHidden(t):e.prototype.setHidden.call(this,t)},t.prototype.run=function(t,i){return this.entry?this.entry.run(t,i):e.prototype.run.call(this,t,i)},t}(m);t.QuickOpenEntryGroup=y;var E="quickOpenEntry",S="quickOpenEntryGroup",b="quickOpenEntryItem",_=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getTemplateId=function(e,t){return b},t.prototype.render=function(t,i,n,o){return i instanceof v?i.render(t,n,o):e.prototype.render.call(this,t,i,n,o)},t}(l.LegacyRenderer),C=function(){function e(){}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return n.TPromise.as(null)},e.prototype.hasSecondaryActions=function(e,t){return!1},e.prototype.getSecondaryActions=function(e,t){return n.TPromise.as(null)},e.prototype.getActionItem=function(e,t,i){return null},e}(),w=function(){function e(e,t){void 0===e&&(e=new C),void 0===t&&(t=null),this.actionProvider=e,this.actionRunner=t,this.entryItemRenderer=new _}return e.prototype.getHeight=function(e){return e instanceof v?e.getHeight():e.getDetail()?44:22},e.prototype.getTemplateId=function(e){return e instanceof v?b:e instanceof y?S:E},e.prototype.renderTemplate=function(e,t){if(e===b)return this.entryItemRenderer.renderTemplate(null,e,t);var i;e===S&&(i=document.createElement("div"),p.addClass(i,"results-group"),t.appendChild(i)),p.addClass(t,"actions");var n=document.createElement("div");p.addClass(n,"sub-content"),t.appendChild(n);var o=document.createElement("div");p.addClass(o,"primary-action-bar"),t.appendChild(o);var r=new u.ActionBar(o,{actionRunner:this.actionRunner}),s=document.createElement("div");p.addClass(s,"quick-open-entry"),n.appendChild(s);var a=document.createElement("span");s.appendChild(a);var c=new d.HighlightedLabel(s),l=document.createElement("span");s.appendChild(l),p.addClass(l,"quick-open-entry-description");var h=new d.HighlightedLabel(l),f=document.createElement("div");s.appendChild(f),p.addClass(f,"quick-open-entry-meta");var g=new d.HighlightedLabel(f);return{container:t,entry:s,icon:a,label:c,detail:g,description:h,group:i,actionBar:r}},e.prototype.renderElement=function(e,t,i){if(t===b)return void this.entryItemRenderer.renderElement(null,e,t,i);var n=i;if(this.actionProvider.hasActions(null,e)?p.addClass(n.container,"has-actions"):p.removeClass(n.container,"has-actions"),n.actionBar.context=e,this.actionProvider.getActions(null,e).then(function(e){n.actionBar.isEmpty()&&e&&e.length>0?n.actionBar.push(e,{icon:!0,label:!1}):n.actionBar.isEmpty()||e&&0!==e.length||n.actionBar.clear()}),e instanceof y){var o=e;o.showBorder()?p.addClass(n.container,"results-group-separator"):p.removeClass(n.container,"results-group-separator");var r=o.getGroupLabel()||"";i.group.textContent=r}if(e instanceof m){var s=e.getHighlights(),a=s[0],c=s[1],u=s[2],l=e.getExtraClass();l?p.addClass(n.entry,l):n.entry.className="quick-open-entry";var d=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";n.icon.className=d,n.label.set(e.getLabel(),a||[]),n.detail.set(e.getDetail(),u),n.description.set(e.getDescription(),c||[]),n.description.element.title=e.getDescription()}},e.prototype.disposeTemplate=function(e,t){if(e===b)this.entryItemRenderer.disposeTemplate(null,e,t);else{var i=t;i.actionBar.dispose(),i.actionBar=null,i.container=null,i.entry=null,i.description.dispose(),i.description=null,i.detail.dispose(),i.detail=null,i.group=null,i.icon=null,i.label.dispose(),i.label=null}},e}(),I=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=new C),this._entries=e,this._dataSource=this,this._renderer=new w(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),e.prototype.addEntries=function(e){o.isArray(e)&&(this._entries=this._entries.concat(e))},e.prototype.setEntries=function(e){o.isArray(e)&&(this._entries=e)},e.prototype.getEntries=function(e){return e?this._entries.filter(function(e){return!e.isHidden()}):this._entries},e.prototype.getId=function(e){return e.getId()},e.prototype.getLabel=function(e){return e.getLabel()},e.prototype.getAriaLabel=function(e){var t=e.getAriaLabel();return t?i.localize(0,null,e.getAriaLabel()):i.localize(1,null)},e.prototype.isVisible=function(e){return!e.isHidden()},e.prototype.run=function(e,t,i){return e.run(t,i)},e}();t.QuickOpenModel=I}),define(l[395],d([1,0,31,10,66,49,81,884]),function(e,t,i,n,o,r,s){"use strict";var a=i.$,c=function(e){function t(t){e.call(this),this.actionProvider=t.actionProvider,this.actionRunner=t.actionRunner}return h(t,e),t.prototype.getHeight=function(e,t){return this.getContentHeight(e,t)},t.prototype.render=function(e,i,s,c){var u=this;try{n.clearNode(s)}catch(l){if(!/The node to be removed is no longer a child of this node/.test(l.message))throw l}c&&c(e,i);var d,h,p=a(s).addClass("actions"),f=a(".sub-content").appendTo(p);this.actionProvider.hasActions(e,i)?(p.addClass("has-actions"),d=new r.ActionBar(a(".primary-action-bar").appendTo(p),{context:this.getActionContext(e,i),actionItemProvider:function(t){return u.actionProvider.getActionItem(e,i,t)},actionRunner:this.actionRunner}),this.actionProvider.getActions(e,i).then(function(e){d.push(e,{icon:!0,label:!1})}),h=d.addListener2(o.EventType.RUN,function(e){e.error&&u.onError(e.error)})):p.removeClass("has-actions");var g=(c?c[t.CONTENTS_CLEANUP_FN_KEY]:t.NO_OP)||t.NO_OP;g(e,i);var m=this.renderContents(e,i,f.getHTMLElement(),null),v=function(){h&&h.dispose(),d&&d.dispose(),m&&m(e,i)};return v[t.CONTENTS_CLEANUP_FN_KEY]=m,v},t.prototype.getContentHeight=function(e,t){return 20},t.prototype.renderContents=function(e,t,i,n){return null},t.prototype.getActionContext=function(e,t){return null},t.prototype.onError=function(e){},t.prototype.dispose=function(){this.actionProvider=null},t.CONTENTS_CLEANUP_FN_KEY="__$ActionsRenderer.contentCleanupFn",t.NO_OP=function(){},t}(s.LegacyRenderer);t.ActionsRenderer=c}),define(l[119],d([1,0,81,36,347,361,226,881]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t,n){if(void 0===n&&(n={}),this.tree=e,this.configuration=t,this.options=n,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer||new i.LegacyRenderer,this.controller=t.controller||new i.DefaultController,this.dnd=t.dnd||new i.DefaultDragAndDrop,this.filter=t.filter||new i.DefaultFilter,this.sorter=t.sorter||null,this.accessibilityProvider=t.accessibilityProvider||new i.DefaultAccessibilityProvider}return e}();t.TreeContext=a;var c=function(e){function t(t,i,n){void 0===n&&(n={}),e.call(this),this.container=t,this.configuration=i,this.options=n,this.options.twistiePixels="number"==typeof this.options.twistiePixels?this.options.twistiePixels:32,this.options.indentPixels="number"==typeof this.options.indentPixels?this.options.indentPixels:12,this.options.alwaysFocused=this.options.alwaysFocused===!0,this.options.bare=this.options.bare===!0,this.options.useShadows=this.options.useShadows!==!1,this.options.paddingOnRow=this.options.paddingOnRow!==!1,this.context=new a(this,i,n),this.model=new o.TreeModel(this.context),this.view=new r.TreeView(this.context,this.container),this.view.setModel(this.model),this.addEmitter2(this.model),this.addEmitter2(this.view)}return h(t,e),t.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},t.prototype.layout=function(e){this.view.layout(e)},t.prototype.DOMFocus=function(){this.view.focus()},t.prototype.isDOMFocused=function(){return this.view.isFocused()},t.prototype.DOMBlur=function(){this.view.blur()},t.prototype.onVisible=function(){this.view.onVisible()},t.prototype.onHidden=function(){this.view.onHidden()},t.prototype.setInput=function(e){return this.model.setInput(e)},t.prototype.getInput=function(){return this.model.getInput()},t.prototype.refresh=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),this.model.refresh(e,t)},t.prototype.refreshAll=function(e,t){return void 0===t&&(t=!0),this.model.refreshAll(e,t)},t.prototype.expand=function(e){return this.model.expand(e)},t.prototype.expandAll=function(e){return this.model.expandAll(e)},t.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e)},t.prototype.collapseAll=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.model.collapseAll(e,t)},t.prototype.toggleExpansion=function(e){return this.model.toggleExpansion(e)},t.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)},t.prototype.isExpanded=function(e){return this.model.isExpanded(e)},t.prototype.getExpandedElements=function(){return this.model.getExpandedElements()},t.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},t.prototype.getRelativeTop=function(e){var t=this.model.getItem(e);return this.view.getRelativeTop(t)},t.prototype.getScrollPosition=function(){return this.view.getScrollPosition()},t.prototype.setScrollPosition=function(e){this.view.setScrollPosition(e)},t.prototype.getContentHeight=function(){return this.view.getTotalHeight()},t.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t)},t.prototype.getHighlight=function(){return this.model.getHighlight()},t.prototype.isHighlighted=function(e){return this.model.isFocused(e)},t.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},t.prototype.select=function(e,t){this.model.select(e,t)},t.prototype.selectRange=function(e,t,i){this.model.selectRange(e,t,i)},t.prototype.deselectRange=function(e,t,i){this.model.deselectRange(e,t,i)},t.prototype.selectAll=function(e,t){this.model.selectAll(e,t)},t.prototype.deselect=function(e,t){this.model.deselect(e,t)},t.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)},t.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},t.prototype.toggleSelection=function(e,t){this.model.toggleSelection(e,t)},t.prototype.isSelected=function(e){return this.model.isSelected(e)},t.prototype.getSelection=function(){return this.model.getSelection()},t.prototype.clearSelection=function(e){this.model.setSelection([],e)},t.prototype.selectNext=function(e,t,i){this.model.selectNext(e,t,i)},t.prototype.selectPrevious=function(e,t,i){this.model.selectPrevious(e,t,i)},t.prototype.selectParent=function(e,t){this.model.selectParent(e,t)},t.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},t.prototype.isFocused=function(e){return this.model.isFocused(e)},t.prototype.getFocus=function(){return this.model.getFocus()},t.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},t.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},t.prototype.focusParent=function(e){this.model.focusParent(e)},t.prototype.focusFirst=function(e){this.model.focusFirst(e)},t.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},t.prototype.focusLast=function(e){this.model.focusLast(e)},t.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},t.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},t.prototype.clearFocus=function(e){this.model.setFocus(null,e)},t.prototype.addTraits=function(e,t){this.model.addTraits(e,t)},t.prototype.removeTraits=function(e,t){this.model.removeTraits(e,t)},t.prototype.toggleTrait=function(e,t){this.model.hasTrait(e,t)?this.model.removeTraits(e,[t]):this.model.addTraits(e,[t])},t.prototype.hasTrait=function(e,t){return this.model.hasTrait(e,t)},t.prototype.getNavigator=function(){return new s.MappedNavigator(this.model.getNavigator(),function(e){return e&&e.getElement()})},t.prototype.dispose=function(){null!==this.model&&(this.model.dispose(),this.model=null),null!==this.view&&(this.view.dispose(),this.view=null),e.prototype.dispose.call(this)},t}(n.EventEmitter);t.Tree=c}),define(l[397],d([1,0,391,2,12,59,66,17,7,82,90,348,31,106,33,119,210,83,81,10,13,5,94,888]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y,E,S,b,_,C){"use strict";var w=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.onContextMenu=function(t,i,n){return o.isMacintosh?this.onLeftClick(t,i,n):e.prototype.onContextMenu.call(this,t,i,n)},t}(E.DefaultController);t.QuickOpenController=w,function(e){e[e.ELEMENT_SELECTED=0]="ELEMENT_SELECTED",e[e.FOCUS_LOST=1]="FOCUS_LOST",e[e.CANCELED=2]="CANCELED"}(t.HideReason||(t.HideReason={}));var I=t.HideReason,T=i.localize(0,null),A=function(){function e(e,t,i,n){this.toUnbind=[],this.container=e,this.callbacks=t,this.options=i,this.usageLogger=n,this.model=null}return e.prototype.getModel=function(){return this.model},e.prototype.setCallbacks=function(e){this.callbacks=e},e.prototype.create=function(){var e=this;this.builder=p.$().div(function(t){t.on(S.EventType.KEY_DOWN,function(t){var i=new y.StandardKeyboardEvent(t);i.keyCode===b.KeyCode.Escape&&(S.EventHelper.stop(t,!0),e.hide(I.CANCELED))}).on(S.EventType.CONTEXT_MENU,function(e){return S.EventHelper.stop(e,!0)}).on(S.EventType.FOCUS,function(t){return e.gainingFocus()},null,!0).on(S.EventType.BLUR,function(t){return e.loosingFocus(t)},null,!0),e.progressBar=new v.ProgressBar(t.clone()),e.progressBar.getContainer().hide(),t.div({"class":"quick-open-input"},function(t){e.inputContainer=t,e.inputBox=new f.InputBox(t.getHTMLElement(),null,{placeholder:e.options.inputPlaceHolder||"",ariaLabel:T}),e.inputElement=e.inputBox.inputElement,e.inputElement.setAttribute("role","combobox"),e.inputElement.setAttribute("aria-haspopup","false"),e.inputElement.setAttribute("aria-autocomplete","list"),S.addDisposableListener(e.inputBox.inputElement,S.EventType.KEY_DOWN,function(t){var i=new y.StandardKeyboardEvent(t);if(i.keyCode!==b.KeyCode.Tab)if(i.keyCode===b.KeyCode.Tab||i.keyCode===b.KeyCode.DownArrow||i.keyCode===b.KeyCode.UpArrow||i.keyCode===b.KeyCode.PageDown||i.keyCode===b.KeyCode.PageUp)S.EventHelper.stop(t,!0),e.navigateInTree(i.keyCode,i.shiftKey);else if(i.keyCode===b.KeyCode.Enter){S.EventHelper.stop(t,!0);var n=e.tree.getFocus();n&&e.elementSelected(n,t)}else!r.isIE9||i.keyCode!==b.KeyCode.Backspace&&i.keyCode!==b.KeyCode.Delete||e.onType()}),S.addDisposableListener(e.inputBox.inputElement,S.EventType.INPUT,function(t){e.onType()})}),e.treeContainer=t.div({"class":"quick-open-tree"},function(t){e.tree=new m.Tree(t.getHTMLElement(),{dataSource:new d.DataSource(e),controller:new w({clickBehavior:E.ClickBehavior.ON_MOUSE_UP}),renderer:new d.Renderer(e),filter:new d.Filter(e),accessibilityProvider:new d.AccessibilityProvider(e)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:C.ScrollbarVisibility.Visible,ariaLabel:i.localize(1,null)}),e.treeElement=e.tree.getHTMLElement(),e.toUnbind.push(e.tree.addListener2(s.EventType.FOCUS,function(t){e.elementFocused(t.focus,t)})),e.toUnbind.push(e.tree.addListener2(s.EventType.SELECTION,function(t){t.selection&&t.selection.length>0&&e.elementSelected(t.selection[0],t)}))}).on(S.EventType.KEY_DOWN,function(t){var i=new y.StandardKeyboardEvent(t);e.quickNavigateConfiguration&&(i.keyCode!==b.KeyCode.DownArrow&&i.keyCode!==b.KeyCode.UpArrow&&i.keyCode!==b.KeyCode.PageDown&&i.keyCode!==b.KeyCode.PageUp||(S.EventHelper.stop(t,!0),e.navigateInTree(i.keyCode)))}).on(S.EventType.KEY_UP,function(t){var i=new y.StandardKeyboardEvent(t),n=i.keyCode;if(e.quickNavigateConfiguration){var r=e.quickNavigateConfiguration.keybindings,s=n===b.KeyCode.Enter||r.some(function(e){if(e.hasShift()&&n===b.KeyCode.Shift)return!(i.ctrlKey||i.altKey||i.metaKey);if(e.hasAlt()&&n===b.KeyCode.Alt)return!0;if(o.isMacintosh){if(e.hasCtrlCmd()&&n===b.KeyCode.Meta)return!0;if(e.hasWinCtrl()&&n===b.KeyCode.Ctrl)return!0}else{if(e.hasCtrlCmd()&&n===b.KeyCode.Ctrl)return!0;if(e.hasWinCtrl()&&n===b.KeyCode.Meta)return!0}return!1});if(s){var a=e.tree.getFocus();a&&e.elementSelected(a,t)}}}).clone()}).addClass("quick-open-widget").addClass(r.isIE10orEarlier?" no-shadow":"").build(this.container),this.layoutDimensions&&this.layout(this.layoutDimensions)},e.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?this.helpText.hide():this.helpText.show()),this.callbacks.onType(e)},e.prototype.quickNavigate=function(e,t){this.isVisible&&(this.quickNavigateConfiguration||(this.quickNavigateConfiguration=e,this.tree.DOMFocus()),this.navigateInTree(t?b.KeyCode.DownArrow:b.KeyCode.UpArrow))},e.prototype.navigateInTree=function(e,t){var i=this.tree.getInput(),n=i?i.entries:[],o=this.tree.getFocus(),r=!1,s=!1;if(n.length>1&&(!(e===b.KeyCode.UpArrow||e===b.KeyCode.Tab&&t)||o!==n[0]&&o?e!==b.KeyCode.DownArrow&&(e!==b.KeyCode.Tab||t)||o!==n[n.length-1]||(this.tree.focusFirst(),r=!0):(this.tree.focusLast(),r=!0)),!r)switch(e){case b.KeyCode.DownArrow:this.tree.focusNext();break;case b.KeyCode.UpArrow:this.tree.focusPrevious();break;case b.KeyCode.PageDown:this.tree.focusNextPage();break;case b.KeyCode.PageUp:this.tree.focusPreviousPage();break;case b.KeyCode.Tab:t?this.tree.focusPrevious():this.tree.focusNext()}o=this.tree.getFocus(),o&&(s?this.tree.reveal(o,0).done(null,c.onUnexpectedError):this.tree.reveal(o).done(null,c.onUnexpectedError))},e.prototype.elementFocused=function(e,t){if(e&&this.isVisible()){this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var i={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(e,l.Mode.PREVIEW,i)}},e.prototype.elementSelected=function(e,t){var i=!0;if(this.isVisible()){var n={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};i=this.model.runner.run(e,l.Mode.OPEN,n)}if(this.usageLogger){var o=this.model.entries.indexOf(e),r=this.model.entries.length;this.usageLogger.publicLog("quickOpenWidgetItemAccepted",{index:o,count:r,isQuickNavigate:!!this.quickNavigateConfiguration})}i&&this.hide(I.ELEMENT_SELECTED)},e.prototype.extractKeyMods=function(e){var t=e&&(e.ctrlKey||e.metaKey||e.payload&&e.payload.originalEvent&&(e.payload.originalEvent.ctrlKey||e.payload.originalEvent.metaKey));return t?[b.KeyMod.CtrlCmd]:[]},e.prototype.show=function(e,t){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=t?t.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(this.inputContainer.hide(),this.options.enableAnimations&&this.treeContainer.removeClass("transition"),this.builder.show(),this.tree.DOMFocus()):(this.inputContainer.show(),this.options.enableAnimations&&this.treeContainer.addClass("transition"),this.builder.show(),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||a.isString(e)?this.helpText.hide():this.helpText.show()),a.isString(e)?this.doShowWithPrefix(e):this.doShowWithInput(e,t&&t.autoFocus?t.autoFocus:{}),this.callbacks.onShow&&this.callbacks.onShow()},e.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},e.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},e.prototype.setInputAndLayout=function(e,t){var i=this,n=u.generateUuid();this.currentInputToken=n,this.setTreeHeightForInput(e).then(function(){i.currentInputToken===n&&i.tree.setInput(null).then(function(){return i.model=e,i.inputElement.setAttribute("aria-haspopup",String(e&&e.entries&&e.entries.length>0)),i.tree.setInput(e)}).done(function(){i.tree.layout(),e&&e.entries.some(function(t){return i.isElementVisible(e,t)})&&i.autoFocus(e,t)},c.onUnexpectedError)})},e.prototype.isElementVisible=function(e,t){return!e.filter||e.filter.isVisible(t)},e.prototype.autoFocus=function(e,t){var i=this;void 0===t&&(t={});var n=e.entries.filter(function(t){return i.isElementVisible(e,t)});if(t.autoFocusPrefixMatch){for(var o=void 0,r=void 0,s=t.autoFocusPrefixMatch,a=s.toLowerCase(),u=0;u<n.length;u++){var l=n[u],d=e.dataSource.getLabel(l);if(o||0!==d.indexOf(s)?r||0!==d.toLowerCase().indexOf(a)||(r=l):o=l,o&&r)break}var h=o||r;if(h)return this.tree.setFocus(h),void this.tree.reveal(h,0).done(null,c.onUnexpectedError)}t.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus(),0).done(null,c.onUnexpectedError)):"number"==typeof t.autoFocusIndex?n.length>t.autoFocusIndex&&(this.tree.focusNth(t.autoFocusIndex),this.tree.reveal(this.tree.getFocus()).done(null,c.onUnexpectedError)):t.autoFocusSecondEntry?n.length>1&&this.tree.focusNth(1):t.autoFocusLastEntry&&n.length>1&&this.tree.focusLast()},e.prototype.refresh=function(e,t){var i=this;this.isVisible()&&this.setTreeHeightForInput(e).then(function(){i.tree.refresh().done(function(){i.tree.layout(),!i.tree.getFocus()&&e&&e.entries.some(function(t){return i.isElementVisible(e,t)})&&i.autoFocus(e,t)},c.onUnexpectedError)})},e.prototype.setTreeHeightForInput=function(e){var t=this,i=this.getHeight(e)+"px",o=this.treeContainer.style("height");return this.treeContainer.style({height:i}),this.treeContainer.hasClass("transition")&&o!==i?new n.TPromise(function(e,i){var n=[],o=!1,r=function(){o||(o=!0,n=_.dispose(n),e(null))};t.treeContainer.once("webkitTransitionEnd",r,n),
t.treeContainer.once("transitionend",r,n)}):n.TPromise.as(null)},e.prototype.getHeight=function(t){var i=this,n=t.renderer;if(!t){var o=n.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*o:0}var r,s=0;this.layoutDimensions&&this.layoutDimensions.height&&(r=.4*(this.layoutDimensions.height-50)),(!r||r>e.MAX_ITEMS_HEIGHT)&&(r=e.MAX_ITEMS_HEIGHT);for(var a=t.entries.filter(function(e){return i.isElementVisible(t,e)}),c=this.options.maxItemsToShow||a.length,u=0;u<c&&u<a.length;u++){var l=n.getHeight(a[u]);if(!(s+l<=r))break;s+=l}return s},e.prototype.hide=function(e){var t=this;if(this.isVisible()){if(this.visible=!1,this.builder.hide(),this.builder.domBlur(),e===I.CANCELED&&this.model){var i=this.model.entries.filter(function(e){return t.isElementVisible(t.model,e)}).length;this.usageLogger&&this.usageLogger.publicLog("quickOpenWidgetCancelled",{count:i,isQuickNavigate:!!this.quickNavigateConfiguration})}this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style({height:(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px"}),this.progressBar.stop().getContainer().hide(),this.tree.isDOMFocused()?this.tree.DOMBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),e===I.CANCELED?this.callbacks.onCancel():this.callbacks.onOk(),this.callbacks.onHide&&this.callbacks.onHide(e===I.FOCUS_LOST)}},e.prototype.getQuickNavigateConfiguration=function(){return this.quickNavigateConfiguration},e.prototype.setPlaceHolder=function(e){this.inputBox&&this.inputBox.setPlaceHolder(e)},e.prototype.setValue=function(e){this.inputBox&&(this.inputBox.value=e,this.inputBox.select())},e.prototype.setPassword=function(e){this.inputBox&&(this.inputBox.inputElement.type=e?"password":"text")},e.prototype.setInput=function(e,t,i){this.isVisible()&&(this.setInputAndLayout(e,t),this.inputBox&&this.inputBox.setAriaLabel(i||T))},e.prototype.getInput=function(){return this.tree.getInput()},e.prototype.showInputDecoration=function(e){this.inputBox&&this.inputBox.showMessage({type:e===g["default"].Info?f.MessageType.INFO:e===g["default"].Warning?f.MessageType.WARNING:f.MessageType.ERROR,content:""})},e.prototype.clearInputDecoration=function(){this.inputBox&&this.inputBox.hideMessage()},e.prototype.runFocus=function(){var e=this.tree.getFocus();return!!e&&(this.elementSelected(e),!0)},e.prototype.getProgressBar=function(){return this.progressBar},e.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");t&&this.builder.removeClass(t),e?(this.builder.addClass(e),this.builder.setProperty("extra-class",e)):t&&this.builder.removeProperty("extra-class")},e.prototype.isVisible=function(){return this.visible},e.prototype.layout=function(t){this.layoutDimensions=t;var i=Math.min(.62*this.layoutDimensions.width,e.MAX_WIDTH);this.builder&&(this.builder.style({width:i+"px",marginLeft:"-"+i/2+"px"}),this.inputContainer.style({width:i-12+"px"}))},e.prototype.gainingFocus=function(){this.isLoosingFocus=!1},e.prototype.loosingFocus=function(e){var t=this;if(this.isVisible()){var i=e.relatedTarget;!this.quickNavigateConfiguration&&S.isAncestor(i,this.builder.getHTMLElement())||(this.isLoosingFocus=!0,n.TPromise.timeout(0).then(function(){if(t.isLoosingFocus){var e=t.callbacks.onFocusLost&&t.callbacks.onFocusLost();e||t.hide(I.FOCUS_LOST)}}))}},e.prototype.dispose=function(){this.toUnbind=_.dispose(this.toUnbind),this.progressBar.dispose(),this.inputBox.dispose(),this.tree.dispose()},e.MAX_WIDTH=600,e.MAX_ITEMS_HEIGHT=440,e}();t.QuickOpenWidget=A}),define(l[398],d([3,4]),function(e,t){return e.create("vs/editor/common/config/commonEditorConfig",t)}),define(l[399],d([3,4]),function(e,t){return e.create("vs/editor/common/config/defaultConfig",t)}),define(l[135],d([1,0,399,12,162]),function(e,t,i,n,o){"use strict";t.DEFAULT_INDENTATION={tabSize:4,insertSpaces:!0,detectIndentation:!0},t.DEFAULT_TRIM_AUTO_WHITESPACE=!0;var r="Consolas, 'Courier New', monospace",s="Menlo, Monaco, 'Courier New', monospace",a="'Droid Sans Mono', 'Courier New', monospace, 'Droid Sans Fallback'";t.GOLDEN_LINE_HEIGHT_RATIO=n.isMacintosh?1.5:1.35;var c=function(){function e(){this.editor={experimentalScreenReader:!0,rulers:[],wordSeparators:o.USUAL_WORD_SEPARATORS,selectionClipboard:!0,ariaLabel:i.localize(0,null),lineNumbers:!0,selectOnLineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!1,lineDecorationsWidth:10,revealHorizontalRightPadding:30,roundedSelection:!0,theme:"vs",readOnly:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},overviewRulerLanes:2,cursorBlinking:"blink",mouseWheelZoom:!1,cursorStyle:"line",fontLigatures:!1,disableTranslate3d:!1,hideCursorInOverviewRuler:!1,scrollBeyondLastLine:!0,automaticLayout:!1,wrappingColumn:300,wrappingIndent:"same",wordWrapBreakBeforeCharacters:"([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋",wordWrapBreakAfterCharacters:" \t})]?|&,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ’”〉》」』】〕）］｝｣",wordWrapBreakObtrusiveCharacters:".",tabFocusMode:!1,hover:!0,contextmenu:!0,mouseWheelScrollSensitivity:1,quickSuggestions:!0,quickSuggestionsDelay:10,parameterHints:!0,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:!0,selectionHighlight:!0,outlineMarkers:!1,referenceInfos:!0,folding:!0,renderWhitespace:!1,renderControlCharacters:!1,renderIndentGuides:!1,useTabStops:!0,fontFamily:n.isMacintosh?s:n.isLinux?a:r,fontSize:n.isMacintosh?12:14,lineHeight:0}}return e}();t.DefaultConfig=new c}),define(l[157],d([1,0,36,9,48,14,11,297,269,135,177,657]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=999;t.LONG_LINE_BOUNDARY=1e3;var f=function(e){function i(t,n){t.push(s.EventType.ModelRawContentChanged,s.EventType.ModelOptionsChanged),e.call(this,t),this._shouldSimplifyMode=n.length>i.MODEL_SYNC_LIMIT,this._shouldDenyMode=n.length>i.MODEL_TOKENIZATION_LIMIT,this._options=n.options,this._constructLines(n),this._setVersionId(1),this._isDisposed=!1,this._isDisposing=!1}return h(i,e),i.prototype.isTooLargeForHavingAMode=function(){return this._shouldDenyMode},i.prototype.isTooLargeForHavingARichMode=function(){return this._shouldSimplifyMode},i.prototype.getOptions=function(){return this._options},i.prototype.updateOptions=function(e){var t=!1,i={tabSize:!1,insertSpaces:!1,trimAutoWhitespace:!1};if("undefined"!=typeof e.insertSpaces&&this._options.insertSpaces!==e.insertSpaces&&(t=!0,i.insertSpaces=!0,this._options.insertSpaces=e.insertSpaces),"undefined"!=typeof e.tabSize){var n=0|e.tabSize;if(this._options.tabSize!==n){t=!0,i.tabSize=!0,this._options.tabSize=n;for(var o=0,r=this._lines.length;o<r;o++)this._lines[o].updateTabSize(n)}}"undefined"!=typeof e.trimAutoWhitespace&&this._options.trimAutoWhitespace!==e.trimAutoWhitespace&&(t=!0,i.trimAutoWhitespace=!0,this._options.trimAutoWhitespace=e.trimAutoWhitespace),t&&this.emit(s.EventType.ModelOptionsChanged,i)},i.prototype.detectIndentation=function(e,t){var i=this._lines.map(function(e){return e.text}),n=c.guessIndentation(i,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize})},i.prototype._normalizeIndentationFromWhitespace=function(e){for(var t=this._options.tabSize,i=this._options.insertSpaces,n=0,o=0;o<e.length;o++)"\t"===e.charAt(o)?n+=t:n++;var r="";if(!i){var s=Math.floor(n/t);n%=t;for(var o=0;o<s;o++)r+="\t"}for(var o=0;o<n;o++)r+=" ";return r},i.prototype.normalizeIndentation=function(e){var t=n.firstNonWhitespaceIndex(e);return t===-1&&(t=e.length),this._normalizeIndentationFromWhitespace(e.substring(0,t))+e.substring(t)},i.prototype.getOneIndent=function(){var e=this._options.tabSize,t=this._options.insertSpaces;if(t){for(var i="",n=0;n<e;n++)i+=" ";return i}return"\t"},i.prototype.getVersionId=function(){return this._versionId},i.prototype.getAlternativeVersionId=function(){return this._alternativeVersionId},i.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=[],t=this._EOL.length,i=0,n=this._lines.length;i<n;i++)e.push(this._lines[i].text.length+t);this._lineStarts=new l.PrefixSumComputer(e)}},i.prototype.getOffsetAt=function(e){var t=this.validatePosition(e);return this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(t.lineNumber-2)+t.column-1},i.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].text.length;return new o.Position(t.index+1,Math.min(t.remainder+1,i+1))},i.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)},i.prototype._setVersionId=function(e){this._versionId=e,this._alternativeVersionId=this._versionId},i.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},i.prototype.isDisposed=function(){return this._isDisposed},i.prototype.dispose=function(){this._isDisposed=!0,this._lines=null,this._EOL=null,this._BOM=null,e.prototype.dispose.call(this)},i.prototype._createContentChangedFlushEvent=function(){return{changeType:s.EventType.ModelRawContentChangedFlush,detail:null,versionId:-1,isUndoing:!1,isRedoing:!1}},i.prototype._emitContentChanged2=function(e,t,i,n,o,a,c,u){var l={range:new r.Range(e,t,i,n),rangeLength:o,text:a,eol:this._EOL,versionId:this.getVersionId(),isUndoing:c,isRedoing:u};this._isDisposing||this.emit(s.EventType.ModelContentChanged2,l)},i.prototype._resetValue=function(e,t){this._constructLines(t),this._increaseVersionId(),e.detail=this.toRawText(),e.versionId=this._versionId},i.prototype.toRawText=function(){return{BOM:this._BOM,EOL:this._EOL,lines:this.getLinesContent(),length:this.getValueLength(),options:this._options}},i.prototype.equals=function(e){if(this._BOM!==e.BOM)return!1;if(this._EOL!==e.EOL)return!1;if(this._lines.length!==e.lines.length)return!1;for(var t=0,i=this._lines.length;t<i;t++)if(this._lines[t].text!==e.lines[t])return!1;return!0},i.prototype.setValue=function(e){if(null!==e){var t=null;t=i.toRawText(e,{tabSize:this._options.tabSize,insertSpaces:this._options.insertSpaces,trimAutoWhitespace:this._options.trimAutoWhitespace,detectIndentation:!1,defaultEOL:this._options.defaultEOL}),this.setValueFromRawText(t)}},i.prototype.setValueFromRawText=function(e){if(null!==e){var t=this.getFullModelRange(),i=this.getValueLengthInRange(t),n=this.getLineCount(),o=this.getLineMaxColumn(n),r=this._createContentChangedFlushEvent();this._resetValue(r,e),this._emitModelContentChangedFlushEvent(r),this._emitContentChanged2(1,1,n,o,i,this.getValue(),!1,!1)}},i.prototype.getValue=function(e,t){void 0===t&&(t=!1);var i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._BOM+n:n},i.prototype.getValueLength=function(e,t){void 0===t&&(t=!1);var i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._BOM.length+n:n},i.prototype.getEmptiedValueInRange=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=s.EndOfLinePreference.TextDefined);var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this._repeatCharacter(t,n.endColumn-n.startColumn);var o=this._getEndOfLine(i),r=n.startLineNumber-1,a=n.endLineNumber-1,c=[];c.push(this._repeatCharacter(t,this._lines[r].text.length-n.startColumn+1));for(var u=r+1;u<a;u++)c.push(this._repeatCharacter(t,this._lines[u].text.length));return c.push(this._repeatCharacter(t,n.endColumn-1)),c.join(o)},i.prototype._repeatCharacter=function(e,t){for(var i="",n=0;n<t;n++)i+=e;return i},i.prototype.getValueInRange=function(e,t){void 0===t&&(t=s.EndOfLinePreference.TextDefined);var i=this.validateRange(e);if(i.isEmpty())return"";if(i.startLineNumber===i.endLineNumber)return this._lines[i.startLineNumber-1].text.substring(i.startColumn-1,i.endColumn-1);var n=this._getEndOfLine(t),o=i.startLineNumber-1,r=i.endLineNumber-1,a=[];a.push(this._lines[o].text.substring(i.startColumn-1));for(var c=o+1;c<r;c++)a.push(this._lines[c].text);return a.push(this._lines[r].text.substring(0,i.endColumn-1)),a.join(n)},i.prototype.getValueLengthInRange=function(e,t){void 0===t&&(t=s.EndOfLinePreference.TextDefined);var i=this.validateRange(e);if(i.isEmpty())return 0;if(i.startLineNumber===i.endLineNumber)return i.endColumn-i.startColumn;var n=this.getOffsetAt(new o.Position(i.startLineNumber,i.startColumn)),r=this.getOffsetAt(new o.Position(i.endLineNumber,i.endColumn));return r-n},i.prototype.isDominatedByLongLines=function(){var e,i,n,o=0,r=0,s=this._lines;for(e=0,i=this._lines.length;e<i;e++)n=s[e].text.length,n>=t.LONG_LINE_BOUNDARY?r+=n:o+=n;return r>o},i.prototype.getLineCount=function(){return this._lines.length},i.prototype.getLineContent=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text},i.prototype.getIndentLevel=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getIndentLevel()},i.prototype._resetIndentRanges=function(){this._indentRanges=null},i.prototype._getIndentRanges=function(){return this._indentRanges||(this._indentRanges=d.computeRanges(this)),this._indentRanges},i.prototype.getIndentRanges=function(){var e=this._getIndentRanges();return d.IndentRange.deepCloneArr(e)},i.prototype.getLineIndentGuide=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");for(var t=this._getIndentRanges(),i=t.length-1;i>=0;i--){var n=t[i];if(n.startLineNumber===e)return Math.ceil(n.indent/this._options.tabSize);if(n.startLineNumber<e&&e<=n.endLineNumber)return 1+Math.floor(n.indent/this._options.tabSize);if(n.endLineNumber+1===e)return Math.ceil(n.indent/this._options.tabSize)}return 0},i.prototype.getLinesContent=function(){for(var e=[],t=0,i=this._lines.length;t<i;t++)e[t]=this._lines[t].text;return e},i.prototype.getEOL=function(){return this._EOL},i.prototype.setEOL=function(e){var t=e===s.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._EOL!==t){var i=this.getFullModelRange(),n=this.getValueLengthInRange(i),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._EOL=t,this._lineStarts=null,this._increaseVersionId();var a=this._createContentChangedFlushEvent();a.detail=this.toRawText(),a.versionId=this._versionId,this._emitModelContentChangedFlushEvent(a),this._emitContentChanged2(1,1,o,r,n,this.getValue(),!1,!1)}},i.prototype.getLineMinColumn=function(e){return 1},i.prototype.getLineMaxColumn=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].text.length+1},i.prototype.getLineFirstNonWhitespaceColumn=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=n.firstNonWhitespaceIndex(this._lines[e-1].text);return t===-1?0:t+1},i.prototype.getLineLastNonWhitespaceColumn=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");var t=n.lastNonWhitespaceIndex(this._lines[e-1].text);return t===-1?0:t+2},i.prototype.validateLineNumber=function(e){return e<1&&(e=1),e>this._lines.length&&(e=this._lines.length),e},i.prototype.validatePosition=function(e){var t=e.lineNumber?e.lineNumber:1,i=e.column?e.column:1;if(t<1)t=1,i=1;else if(t>this._lines.length)t=this._lines.length,i=this.getLineMaxColumn(t);else{var n=this.getLineMaxColumn(t);i<1?i=1:i>n&&(i=n)}return new o.Position(t,i)},i.prototype.validateRange=function(e){var t=this.validatePosition(new o.Position(e.startLineNumber,e.startColumn)),i=this.validatePosition(new o.Position(e.endLineNumber,e.endColumn));return new r.Range(t.lineNumber,t.column,i.lineNumber,i.column)},i.prototype.modifyPosition=function(e,t){return this.getPositionAt(this.getOffsetAt(e)+t)},i.prototype.getFullModelRange=function(){var e=this.getLineCount();return new r.Range(1,1,e,this.getLineMaxColumn(e))},i.prototype._emitModelContentChangedFlushEvent=function(e){this._isDisposing||this.emit(s.EventType.ModelRawContentChanged,e)},i.toRawText=function(e,t){for(var i=0,o=-1;(o=e.indexOf("\r",o+1))!==-1;)i++;var r=e.split(/\r\n|\r|\n/),a="";n.startsWithUTF8BOM(r[0])&&(a=n.UTF8_BOM_CHARACTER,r[0]=r[0].substr(1));var u=r.length-1,l="";l=0===u?t.defaultEOL===s.DefaultEndOfLine.LF?"\n":"\r\n":i>u/2?"\r\n":"\n";var d;if(t.detectIndentation){var h=c.guessIndentation(r,t.tabSize,t.insertSpaces);d={tabSize:h.tabSize,insertSpaces:h.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL}}else d={tabSize:t.tabSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL};return{BOM:a,EOL:l,lines:r,length:e.length,options:d}},i.prototype._constructLines=function(e){for(var t=e.options.tabSize,i=e.lines,n=[],o=0,r=i.length;o<r;o++)n[o]=new a.ModelLine(o+1,i[o],t);this._BOM=e.BOM,this._EOL=e.EOL,this._lines=n,this._lineStarts=null,this._resetIndentRanges()},i.prototype._getEndOfLine=function(e){switch(e){case s.EndOfLinePreference.LF:return"\n";case s.EndOfLinePreference.CRLF:return"\r\n";case s.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},i._isMultiline=function(e){var t="\\".charCodeAt(0),i="n".charCodeAt(0),n="r".charCodeAt(0);if(!e||0===e.length)return!1;for(var o=0,r=e.length;o<r;o++){var s=e.charCodeAt(o);if(s===t){if(o++,o>=r)break;var a=e.charCodeAt(o);if(a===i||a===n)return!0}}return!1},i.parseSearchRequest=function(e,t,o,r){if(""===e)return null;var s=null;try{s=n.createRegExp(e,t,o,r,!0)}catch(a){return null}return s?{regex:s,isMultiline:t&&i._isMultiline(e)}:null},i.prototype.findMatches=function(e,t,n,o,s,a){void 0===a&&(a=p);var c=i.parseSearchRequest(e,n,o,s);if(!c)return[];var u;return u=r.Range.isIRange(t)?t:this.getFullModelRange(),c.isMultiline?this._doFindMatchesMultiline(u,c.regex,a):this._doFindMatchesLineByLine(u,c.regex,a)},i.prototype._doFindMatchesMultiline=function(e,t,i){for(var n,o=this.getOffsetAt(e.getStartPosition()),s=this.getValueInRange(e),a=[],c=0,u=0,l=0;n=t.exec(s);){var d=o+n.index,h=d+n[0].length;if(c===d&&u===h)return a;var p=this.getPositionAt(d),f=this.getPositionAt(h);if(a[l++]=new r.Range(p.lineNumber,p.column,f.lineNumber,f.column),l>=i)return a;c=d,u=h}return a},i.prototype._doFindMatchesLineByLine=function(e,t,i){var n,o=[],r=0;if(e.startLineNumber===e.endLineNumber)return n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1,e.endColumn-1),r=this._findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,r,o,i),o;n=this._lines[e.startLineNumber-1].text.substring(e.startColumn-1),r=this._findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,r,o,i);for(var s=e.startLineNumber+1;s<e.endLineNumber&&r<i;s++)r=this._findMatchesInLine(t,this._lines[s-1].text,s,0,r,o,i);return r<i&&(n=this._lines[e.endLineNumber-1].text.substring(0,e.endColumn-1),r=this._findMatchesInLine(t,n,e.endLineNumber,0,r,o,i)),o},i.prototype.findNextMatch=function(e,t,n,o,r){var s=i.parseSearchRequest(e,n,o,r);if(!s)return null;var a=this.validatePosition(t);return s.isMultiline?this._doFindNextMatchMultiline(a,s.regex):this._doFindNextMatchLineByLine(a,s.regex)},i.prototype._doFindNextMatchMultiline=function(e,t){var i=this.getOffsetAt(e),n=this.getValueInRange(new r.Range(e.lineNumber,e.column,this.getLineCount(),this.getLineMaxColumn(this.getLineCount()))),s=t.exec(n);if(s){var a=i+s.index,c=a+s[0].length,u=this.getPositionAt(a),l=this.getPositionAt(c);return new r.Range(u.lineNumber,u.column,l.lineNumber,l.column)}return 1!==e.lineNumber||e.column!==-1?this._doFindNextMatchMultiline(new o.Position(1,1),t):null},i.prototype._doFindNextMatchLineByLine=function(e,t){var i,n,o=this.getLineCount(),r=e.lineNumber;if(i=this._lines[r-1].text.substring(e.column-1),n=this._findFirstMatchInLine(t,i,r,e.column-1))return n;for(var s=1;s<=o;s++){var a=(r+s-1)%o;if(i=this._lines[a].text,n=this._findFirstMatchInLine(t,i,a+1,0))return n}return null},i.prototype.findPreviousMatch=function(e,t,n,o,r){var s=i.parseSearchRequest(e,n,o,r);if(!s)return null;var a=this.validatePosition(t);return s.isMultiline?this._doFindPreviousMatchMultiline(a,s.regex):this._doFindPreviousMatchLineByLine(a,s.regex)},i.prototype._doFindPreviousMatchMultiline=function(e,t){var i=this._doFindMatchesMultiline(new r.Range(1,1,e.lineNumber,e.column),t,10*p);return i.length>0?i[i.length-1]:e.lineNumber!==this.getLineCount()||e.column!==this.getLineMaxColumn(this.getLineCount())?this._doFindPreviousMatchMultiline(new o.Position(this.getLineCount(),this.getLineMaxColumn(this.getLineCount())),t):null},i.prototype._doFindPreviousMatchLineByLine=function(e,t){var i,n,o=this.getLineCount(),r=e.lineNumber;if(i=this._lines[r-1].text.substring(0,e.column-1),n=this._findLastMatchInLine(t,i,r))return n;for(var s=1;s<=o;s++){var a=(o+r-s-1)%o;if(i=this._lines[a].text,n=this._findLastMatchInLine(t,i,a+1))return n}return null},i.prototype._findFirstMatchInLine=function(e,t,i,n){var o=e.exec(t);return o?new r.Range(i,o.index+1+n,i,o.index+1+o[0].length+n):null},i.prototype._findLastMatchInLine=function(e,t,i){for(var n,o=null;n=e.exec(t);){var s=new r.Range(i,n.index+1,i,n.index+1+n[0].length);if(s.equalsRange(o))break;o=s}return o},i.prototype._findMatchesInLine=function(e,t,i,n,o,s,a){var c;e.lastIndex=0;do if(c=e.exec(t)){var u=new r.Range(i,c.index+1+n,i,c.index+1+c[0].length+n);if(u.equalsRange(s[s.length-1]))return o;if(s.push(u),o++,o>=a)return o}while(c);return o},i.MODEL_SYNC_LIMIT=5242880,i.MODEL_TOKENIZATION_LIMIT=20971520,i.DEFAULT_CREATION_OPTIONS={tabSize:u.DEFAULT_INDENTATION.tabSize,insertSpaces:u.DEFAULT_INDENTATION.insertSpaces,detectIndentation:!1,defaultEOL:s.DefaultEndOfLine.LF,trimAutoWhitespace:u.DEFAULT_TRIM_AUTO_WHITESPACE},i}(i.OrderGuaranteeEventEmitter);t.TextModel=f;var g=function(){function e(){}return e.fromString=function(e,t){return f.toRawText(e,t)},e.fromStringWithModelOptions=function(e,t){var i=t.getOptions();return f.toRawText(e,{tabSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:i.trimAutoWhitespace,detectIndentation:!1,defaultEOL:i.defaultEOL})},e}();t.RawText=g}),define(l[402],d([3,4]),function(e,t){return e.create("vs/editor/common/controller/cursor",t)}),define(l[403],d([1,0,402,7,36,5,197,334,303,48,14,46,11,80]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g;!function(e){e[e.Primary=0]="Primary",e[e.TopMost=1]="TopMost",e[e.BottomMost=2]="BottomMost"}(g||(g={}));var m=function(e){function t(t,i,n,o,r){var s=this;e.call(this,[p.EventType.CursorPositionChanged,p.EventType.CursorSelectionChanged,p.EventType.CursorRevealRange,p.EventType.CursorScrollRequest]),this._columnSelectToLineNumber=0,this._columnSelectToVisualColumn=0,this.editorId=t,this.configuration=i,this.model=n,this.viewModelHelper=o,this.enableEmptySelectionClipboard=r,this.viewModelHelper||(this.viewModelHelper={viewModel:this.model,convertModelPositionToViewPosition:function(e,t){return new u.Position(e,t)},convertModelRangeToViewRange:function(e){return e},convertViewToModelPosition:function(e,t){return new u.Position(e,t)},convertViewSelectionToModelSelection:function(e){return e},validateViewPosition:function(e,t,i){return i},validateViewRange:function(e,t,i,n,o){return o}}),this.cursors=new a.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.cursorUndoStack=[],this.typingListeners={},this._isHandling=!1,this.modelUnbinds=[],this.modelUnbinds.push(this.model.onDidChangeRawContent(function(e){s._onModelContentChanged(e)})),this.modelUnbinds.push(this.model.onDidChangeMode(function(e){s._onModelModeChanged()})),this.modelUnbinds.push(f.LanguageConfigurationRegistry.onDidChange(function(){s._onModelModeChanged()})),this._handlers={},this._registerHandlers()}return h(t,e),t.prototype.dispose=function(){this.modelUnbinds=r.dispose(this.modelUnbinds),this.model=null,this.cursors.dispose(),this.cursors=null,this.configuration=null,this.viewModelHelper=null,e.prototype.dispose.call(this)},t.prototype.saveState=function(){for(var e,t=this.cursors.getSelections(),i=[],n=0;n<t.length;n++)e=t[n],i.push({inSelectionMode:!e.isEmpty(),selectionStart:{lineNumber:e.selectionStartLineNumber,column:e.selectionStartColumn},position:{lineNumber:e.positionLineNumber,column:e.positionColumn}});return i},t.prototype.restoreState=function(e){for(var t,i=this,n=[],o=0;o<e.length;o++){t=e[o];var r=1,s=1;t.position&&t.position.lineNumber&&(r=t.position.lineNumber),t.position&&t.position.column&&(s=t.position.column);var a=r,c=s;t.selectionStart&&t.selectionStart.lineNumber&&(a=t.selectionStart.lineNumber),t.selectionStart&&t.selectionStart.column&&(c=t.selectionStart.column),n.push({selectionStartLineNumber:a,selectionStartColumn:c,positionLineNumber:r,positionColumn:s})}this._onHandler("restoreState",function(e){return i.cursors.setSelections(n),!1},"restoreState",null)},t.prototype.setEditableRange=function(e){this.model.setEditableRange(e)},t.prototype.getEditableRange=function(){return this.model.getEditableRange()},t.prototype.addTypingListener=function(e,t){this.typingListeners.hasOwnProperty(e)||(this.typingListeners[e]=[]),this.typingListeners[e].push(t)},t.prototype.removeTypingListener=function(e,t){if(this.typingListeners.hasOwnProperty(e))for(var i=this.typingListeners[e],n=0;n<i.length;n++)if(i[n]===t)return void i.splice(n,1)},t.prototype._onModelModeChanged=function(){this.cursors.updateMode()},t.prototype._onModelContentChanged=function(e){var t=this;e.changeType===p.EventType.ModelRawContentChangedFlush?(this.cursors.dispose(),this.cursors=new a.CursorCollection(this.editorId,this.model,this.configuration,this.viewModelHelper),this.emitCursorPositionChanged("model",p.CursorChangeReason.ContentFlush),this.emitCursorSelectionChanged("model",p.CursorChangeReason.ContentFlush)):this._isHandling||this._onHandler("recoverSelectionFromMarkers",function(e){var i=t._invokeForAll(e,function(e,t,i){return t.recoverSelectionFromMarkers(i)});return e.shouldPushStackElementBefore=!1,e.shouldPushStackElementAfter=!1,i},"modelChange",null)},t.prototype.getSelection=function(){return this.cursors.getSelection(0)},t.prototype.getSelections=function(){return this.cursors.getSelections()},t.prototype.getPosition=function(){return this.cursors.getPosition(0)},t.prototype.setSelections=function(e,t){var i=this;this._onHandler("setSelections",function(e){return e.shouldReveal=!1,i.cursors.setSelections(t),!1},e,null)},t.prototype._createAndInterpretHandlerCtx=function(e,t,i){var n={cursorPositionChangeReason:p.CursorChangeReason.NotSet,shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,shouldRevealTarget:g.Primary,eventSource:e,eventData:t,executeCommands:[],isAutoWhitespaceCommand:[],hasExecutedCommands:!1,isCursorUndo:!1,postOperationRunnables:[],shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1,requestScrollDeltaLines:0,setColumnSelectToLineNumber:0,setColumnSelectToVisualColumn:0};return i(n),this._interpretHandlerContext(n),this.cursors.normalize(),n.hasExecutedCommands},t.prototype._onHandler=function(e,t,i,o){this._isHandling=!0,this.charactersTyped="";var r=!1;try{var s,a,c,u,l,d,h,f=this.cursors.getSelections(),g=this.cursors.getViewSelections(),m=this.cursors.saveState(),v=i,y=this._createAndInterpretHandlerCtx(v,o,function(e){r=t(e),s=e.cursorPositionChangeReason,a=e.shouldReveal,l=e.shouldRevealTarget,c=e.shouldRevealVerticalInCenter,u=e.shouldRevealHorizontal,d=e.isCursorUndo,h=e.requestScrollDeltaLines});y&&(this.cursorUndoStack=[]);for(var E=0;E<this.charactersTyped.length;E++){var S=this.charactersTyped.charAt(E);if(this.typingListeners.hasOwnProperty(S))for(var b=this.typingListeners[S].slice(0),_=0,C=b.length;_<C;_++)try{b[_]()}catch(w){n.onUnexpectedError(w)}}var I=this.cursors.getSelections(),T=this.cursors.getViewSelections(),A=!1;if(f.length!==I.length)A=!0;else{for(var E=0,L=f.length;!A&&E<L;E++)f[E].equalsSelection(I[E])||(A=!0);for(var E=0,L=g.length;!A&&E<L;E++)g[E].equalsSelection(T[E])||(A=!0)}A&&(y||d||this.cursorUndoStack.push(m),this.cursorUndoStack.length>50&&(this.cursorUndoStack=this.cursorUndoStack.splice(0,this.cursorUndoStack.length-50)),this.emitCursorPositionChanged(v,s),a&&this.emitCursorRevealRange(l,c?p.VerticalRevealType.Center:p.VerticalRevealType.Simple,u),this.emitCursorSelectionChanged(v,s)),h&&this.emitCursorScrollRequest(h)}catch(D){n.onUnexpectedError(D)}return this._isHandling=!1,r},t.prototype._interpretHandlerContext=function(e){e.shouldPushStackElementBefore&&(this.model.pushStackElement(),e.shouldPushStackElementBefore=!1),this._columnSelectToLineNumber=e.setColumnSelectToLineNumber,this._columnSelectToVisualColumn=e.setColumnSelectToVisualColumn,e.hasExecutedCommands=this._internalExecuteCommands(e.executeCommands,e.isAutoWhitespaceCommand,e.postOperationRunnables)||e.hasExecutedCommands,e.executeCommands=[],e.shouldPushStackElementAfter&&(this.model.pushStackElement(),e.shouldPushStackElementAfter=!1);for(var t=!1,i=0,n=e.postOperationRunnables.length;i<n;i++)if(e.postOperationRunnables[i]){t=!0;break}if(t){var o=e.postOperationRunnables.slice(0);e.postOperationRunnables=[],this._invokeForAll(e,function(e,t,i){return o[e]&&o[e](i),!1}),this._interpretHandlerContext(e)}},t.prototype._interpretCommandResult=function(e){return!!e&&(this.cursors.setSelections(e),!0)},t.prototype._getEditOperationsFromCommand=function(e,t,o,r){var s=this,a=[],c=0,u=function(e,i){e.isEmpty()&&""===i||a.push({identifier:{major:t,minor:c++},range:e,text:i,forceMoveMarkers:!1,isAutoWhitespaceEdit:r})},l=!1,h=function(t,i){var n,o;if(t.isEmpty())if("boolean"==typeof i)n=i,o=i;else{var r=s.model.getLineMaxColumn(t.startLineNumber);t.startColumn===r?(n=!0,o=!0):(n=!1,o=!1)}else t.getDirection()===d.SelectionDirection.LTR?(n=!1,o=!0):(n=!0,o=!1);var a=e.selectionStartMarkers.length;return e.selectionStartMarkers[a]=s.model._addMarker(t.selectionStartLineNumber,t.selectionStartColumn,n),e.positionMarkers[a]=s.model._addMarker(t.positionLineNumber,t.positionColumn,o),a.toString()},p={addEditOperation:u,trackSelection:h};try{o.getEditOperations(this.model,p)}catch(f){return f.friendlyMessage=i.localize(0,null),n.onUnexpectedError(f),{operations:[],hadTrackedRange:!1}}return{operations:a,hadTrackedRange:l}},t.prototype._getEditOperations=function(e,t,i){for(var n,o,r=[],s=[],a=0;a<t.length;a++)t[a]?(n=this._getEditOperationsFromCommand(e,a,t[a],i[a]),r=r.concat(n.operations),s[a]=n.hadTrackedRange,o=o||s[a]):s[a]=!1;return{operations:r,hadTrackedRanges:s,anyoneHadTrackedRange:o}},t.prototype._getLoserCursorMap=function(e){e=e.slice(0),e.sort(function(e,t){return-l.Range.compareRangesUsingEnds(e.range,t.range)});for(var t,i,n,o={},r=1;r<e.length;r++)if(t=e[r-1],i=e[r],t.range.getStartPosition().isBefore(i.range.getEndPosition())){n=t.identifier.major>i.identifier.major?t.identifier.major:i.identifier.major,o[n.toString()]=!0;for(var s=0;s<e.length;s++)e[s].identifier.major===n&&(e.splice(s,1),s<r&&r--,s--);r>0&&r--}return o},t.prototype._collapseDeleteCommands=function(e,t,i){if(1!==e.length){var n=e.every(function(e){if(!(e instanceof s.ReplaceCommand))return!1;var t=e;return!(t.getText().length>0)});if(n){var o=e,r=o.map(function(e,t){return{range:o[t].getRange(),postOperationRunnable:i[t],order:t}});r.sort(function(e,t){return l.Range.compareRangesUsingStarts(e.range,t.range)});for(var a=r[0],c=1;c<r.length;c++)if(a.range.endLineNumber===r[c].range.startLineNumber&&a.range.endColumn===r[c].range.startColumn){var u=new l.Range(a.range.startLineNumber,a.range.startColumn,r[c].range.endLineNumber,r[c].range.endColumn);a.range=u,o[r[c].order].setRange(u),o[a.order].setRange(u)}else a=r[c]}}},t.prototype._internalExecuteCommands=function(e,t,i){var n={selectionStartMarkers:[],positionMarkers:[]};this._collapseDeleteCommands(e,t,i);for(var o=this._innerExecuteCommands(n,e,t,i),r=0;r<n.selectionStartMarkers.length;r++)this.model._removeMarker(n.selectionStartMarkers[r]),this.model._removeMarker(n.positionMarkers[r]);return o},t.prototype._arrayIsEmpty=function(e){var t,i;for(t=0,
i=e.length;t<i;t++)if(e[t])return!1;return!0},t.prototype._innerExecuteCommands=function(e,t,i,n){var o=this;if(this.configuration.editor.readOnly)return!1;if(this._arrayIsEmpty(t))return!1;var r=this.cursors.getSelections(),s=this._getEditOperations(e,t,i);if(0===s.operations.length&&!s.anyoneHadTrackedRange)return!1;for(var a=s.operations,c=this.model.getEditableRange(),u=c.getStartPosition(),l=c.getEndPosition(),h=0;h<a.length;h++){var p=a[h].range;if(!u.isBeforeOrEqual(p.getStartPosition())||!p.getEndPosition().isBeforeOrEqual(l))return!1}var f=this._getLoserCursorMap(a);if(f.hasOwnProperty("0"))return console.warn("Ignoring commands"),!1;for(var g=[],h=0;h<a.length;h++)f.hasOwnProperty(a[h].identifier.major.toString())||g.push(a[h]);var m,v=this.model.pushEditOperations(r,g,function(i){for(var n=[],a=0;a<r.length;a++)n[a]=[];for(var a=0;a<i.length;a++){var c=i[a];c.identifier&&n[c.identifier.major].push(c)}for(var u=function(e,t){return e.identifier.minor-t.identifier.minor},l=[],a=0;a<r.length;a++)n[a].length>0||s.hadTrackedRanges[a]?(n[a].sort(u),l[a]=t[a].computeCursorState(o.model,{getInverseEditOperations:function(){return n[a]},getTrackedSelection:function(t){var i=parseInt(t,10),n=o.model._getMarker(e.selectionStartMarkers[i]),r=o.model._getMarker(e.positionMarkers[i]);return new d.Selection(n.lineNumber,n.column,r.lineNumber,r.column)}})):l[a]=r[a];return l}),y=[];for(m in f)f.hasOwnProperty(m)&&y.push(parseInt(m,10));y.sort(function(e,t){return t-e});for(var h=0;h<y.length;h++)v.splice(y[h],1),n.splice(y[h],1);return this._interpretCommandResult(v)},t.prototype.emitCursorPositionChanged=function(e,t){var i=this.cursors.getPositions(),n=i[0],o=i.slice(1),r=this.cursors.getViewPositions(),s=r[0],a=r.slice(1),c=!0;if(this.model.hasEditableRange()){var u=this.model.getEditableRange();u.containsPosition(n)||(c=!1)}var l={position:n,viewPosition:s,secondaryPositions:o,secondaryViewPositions:a,reason:t,source:e,isInEditableRange:c};this.emit(p.EventType.CursorPositionChanged,l)},t.prototype.emitCursorSelectionChanged=function(e,t){var i=this.cursors.getSelections(),n=i[0],o=i.slice(1),r=this.cursors.getViewSelections(),s=r[0],a=r.slice(1),c={selection:n,viewSelection:s,secondarySelections:o,secondaryViewSelections:a,source:e,reason:t};this.emit(p.EventType.CursorSelectionChanged,c)},t.prototype.emitCursorScrollRequest=function(e){var t={deltaLines:e};this.emit(p.EventType.CursorScrollRequest,t)},t.prototype.emitCursorRevealRange=function(e,t,i){var n=this.cursors.getPositions(),o=this.cursors.getViewPositions(),r=n[0],s=o[0];if(e===g.TopMost)for(var a=1;a<n.length;a++)n[a].isBefore(r)&&(r=n[a],s=o[a]);else if(e===g.BottomMost)for(var a=1;a<n.length;a++)r.isBeforeOrEqual(n[a])&&(r=n[a],s=o[a]);else if(n.length>1)return;var c=new l.Range(r.lineNumber,r.column,r.lineNumber,r.column),u=new l.Range(s.lineNumber,s.column,s.lineNumber,s.column),d={range:c,viewRange:u,verticalType:t,revealHorizontal:i};this.emit(p.EventType.CursorRevealRange,d)},t.prototype.trigger=function(e,t,i){if(this._handlers.hasOwnProperty(t)){var n=this._handlers[t];this._onHandler(t,n,e,i)}},t.prototype._registerHandlers=function(){var e=this,t=p.Handler;this._handlers[t.JumpToBracket]=function(t){return e._jumpToBracket(t)},this._handlers[t.MoveTo]=function(t){return e._moveTo(!1,t)},this._handlers[t.MoveToSelect]=function(t){return e._moveTo(!0,t)},this._handlers[t.ColumnSelect]=function(t){return e._columnSelectMouse(t)},this._handlers[t.AddCursorUp]=function(t){return e._addCursorUp(t)},this._handlers[t.AddCursorDown]=function(t){return e._addCursorDown(t)},this._handlers[t.CreateCursor]=function(t){return e._createCursor(t)},this._handlers[t.LastCursorMoveToSelect]=function(t){return e._lastCursorMoveTo(t)},this._handlers[t.CursorLeft]=function(t){return e._moveLeft(!1,t)},this._handlers[t.CursorLeftSelect]=function(t){return e._moveLeft(!0,t)},this._handlers[t.CursorWordLeft]=function(t){return e._moveWordLeft(!1,c.WordNavigationType.WordStart,t)},this._handlers[t.CursorWordStartLeft]=function(t){return e._moveWordLeft(!1,c.WordNavigationType.WordStart,t)},this._handlers[t.CursorWordEndLeft]=function(t){return e._moveWordLeft(!1,c.WordNavigationType.WordEnd,t)},this._handlers[t.CursorWordLeftSelect]=function(t){return e._moveWordLeft(!0,c.WordNavigationType.WordStart,t)},this._handlers[t.CursorWordStartLeftSelect]=function(t){return e._moveWordLeft(!0,c.WordNavigationType.WordStart,t)},this._handlers[t.CursorWordEndLeftSelect]=function(t){return e._moveWordLeft(!0,c.WordNavigationType.WordEnd,t)},this._handlers[t.CursorRight]=function(t){return e._moveRight(!1,t)},this._handlers[t.CursorRightSelect]=function(t){return e._moveRight(!0,t)},this._handlers[t.CursorWordRight]=function(t){return e._moveWordRight(!1,c.WordNavigationType.WordEnd,t)},this._handlers[t.CursorWordStartRight]=function(t){return e._moveWordRight(!1,c.WordNavigationType.WordStart,t)},this._handlers[t.CursorWordEndRight]=function(t){return e._moveWordRight(!1,c.WordNavigationType.WordEnd,t)},this._handlers[t.CursorWordRightSelect]=function(t){return e._moveWordRight(!0,c.WordNavigationType.WordEnd,t)},this._handlers[t.CursorWordStartRightSelect]=function(t){return e._moveWordRight(!0,c.WordNavigationType.WordStart,t)},this._handlers[t.CursorWordEndRightSelect]=function(t){return e._moveWordRight(!0,c.WordNavigationType.WordEnd,t)},this._handlers[t.CursorUp]=function(t){return e._moveUp(!1,!1,t)},this._handlers[t.CursorUpSelect]=function(t){return e._moveUp(!0,!1,t)},this._handlers[t.CursorDown]=function(t){return e._moveDown(!1,!1,t)},this._handlers[t.CursorDownSelect]=function(t){return e._moveDown(!0,!1,t)},this._handlers[t.CursorPageUp]=function(t){return e._moveUp(!1,!0,t)},this._handlers[t.CursorPageUpSelect]=function(t){return e._moveUp(!0,!0,t)},this._handlers[t.CursorPageDown]=function(t){return e._moveDown(!1,!0,t)},this._handlers[t.CursorPageDownSelect]=function(t){return e._moveDown(!0,!0,t)},this._handlers[t.CursorHome]=function(t){return e._moveToBeginningOfLine(!1,t)},this._handlers[t.CursorHomeSelect]=function(t){return e._moveToBeginningOfLine(!0,t)},this._handlers[t.CursorEnd]=function(t){return e._moveToEndOfLine(!1,t)},this._handlers[t.CursorEndSelect]=function(t){return e._moveToEndOfLine(!0,t)},this._handlers[t.CursorTop]=function(t){return e._moveToBeginningOfBuffer(!1,t)},this._handlers[t.CursorTopSelect]=function(t){return e._moveToBeginningOfBuffer(!0,t)},this._handlers[t.CursorBottom]=function(t){return e._moveToEndOfBuffer(!1,t)},this._handlers[t.CursorBottomSelect]=function(t){return e._moveToEndOfBuffer(!0,t)},this._handlers[t.CursorColumnSelectLeft]=function(t){return e._columnSelectLeft(t)},this._handlers[t.CursorColumnSelectRight]=function(t){return e._columnSelectRight(t)},this._handlers[t.CursorColumnSelectUp]=function(t){return e._columnSelectUp(!1,t)},this._handlers[t.CursorColumnSelectPageUp]=function(t){return e._columnSelectUp(!0,t)},this._handlers[t.CursorColumnSelectDown]=function(t){return e._columnSelectDown(!1,t)},this._handlers[t.CursorColumnSelectPageDown]=function(t){return e._columnSelectDown(!0,t)},this._handlers[t.SelectAll]=function(t){return e._selectAll(t)},this._handlers[t.LineSelect]=function(t){return e._line(!1,t)},this._handlers[t.LineSelectDrag]=function(t){return e._line(!0,t)},this._handlers[t.LastCursorLineSelect]=function(t){return e._lastCursorLine(!1,t)},this._handlers[t.LastCursorLineSelectDrag]=function(t){return e._lastCursorLine(!0,t)},this._handlers[t.LineInsertBefore]=function(t){return e._lineInsertBefore(t)},this._handlers[t.LineInsertAfter]=function(t){return e._lineInsertAfter(t)},this._handlers[t.LineBreakInsert]=function(t){return e._lineBreakInsert(t)},this._handlers[t.WordSelect]=function(t){return e._word(!1,t)},this._handlers[t.WordSelectDrag]=function(t){return e._word(!0,t)},this._handlers[t.LastCursorWordSelect]=function(t){return e._lastCursorWord(t)},this._handlers[t.CancelSelection]=function(t){return e._cancelSelection(t)},this._handlers[t.RemoveSecondaryCursors]=function(t){return e._removeSecondaryCursors(t)},this._handlers[t.Type]=function(t){return e._type(t)},this._handlers[t.ReplacePreviousChar]=function(t){return e._replacePreviousChar(t)},this._handlers[t.Tab]=function(t){return e._tab(t)},this._handlers[t.Indent]=function(t){return e._indent(t)},this._handlers[t.Outdent]=function(t){return e._outdent(t)},this._handlers[t.Paste]=function(t){return e._paste(t)},this._handlers[t.ScrollLineUp]=function(t){return e._scrollUp(!1,t)},this._handlers[t.ScrollLineDown]=function(t){return e._scrollDown(!1,t)},this._handlers[t.ScrollPageUp]=function(t){return e._scrollUp(!0,t)},this._handlers[t.ScrollPageDown]=function(t){return e._scrollDown(!0,t)},this._handlers[t.DeleteLeft]=function(t){return e._deleteLeft(t)},this._handlers[t.DeleteWordLeft]=function(t){return e._deleteWordLeft(!0,c.WordNavigationType.WordStart,t)},this._handlers[t.DeleteWordStartLeft]=function(t){return e._deleteWordLeft(!1,c.WordNavigationType.WordStart,t)},this._handlers[t.DeleteWordEndLeft]=function(t){return e._deleteWordLeft(!1,c.WordNavigationType.WordEnd,t)},this._handlers[t.DeleteRight]=function(t){return e._deleteRight(t)},this._handlers[t.DeleteWordRight]=function(t){return e._deleteWordRight(!0,c.WordNavigationType.WordEnd,t)},this._handlers[t.DeleteWordStartRight]=function(t){return e._deleteWordRight(!1,c.WordNavigationType.WordStart,t)},this._handlers[t.DeleteWordEndRight]=function(t){return e._deleteWordRight(!1,c.WordNavigationType.WordEnd,t)},this._handlers[t.DeleteAllLeft]=function(t){return e._deleteAllLeft(t)},this._handlers[t.DeleteAllRight]=function(t){return e._deleteAllRight(t)},this._handlers[t.Cut]=function(t){return e._cut(t)},this._handlers[t.ExpandLineSelection]=function(t){return e._expandLineSelection(t)},this._handlers[t.Undo]=function(t){return e._undo(t)},this._handlers[t.CursorUndo]=function(t){return e._cursorUndo(t)},this._handlers[t.Redo]=function(t){return e._redo(t)},this._handlers[t.ExecuteCommand]=function(t){return e._externalExecuteCommand(t)},this._handlers[t.ExecuteCommands]=function(t){return e._externalExecuteCommands(t)}},t.prototype._invokeForAllSorted=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!0),this._doInvokeForAll(e,!0,t,i,n)},t.prototype._invokeForAll=function(e,t,i,n){return void 0===i&&(i=!0),void 0===n&&(n=!0),this._doInvokeForAll(e,!1,t,i,n)},t.prototype._doInvokeForAll=function(e,t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=!0);var r=!1,s=this.cursors.getAll();t&&(s=s.sort(function(e,t){return l.Range.compareRangesUsingStarts(e.getSelection(),t.getSelection())}));var a;e.shouldPushStackElementBefore=n,e.shouldPushStackElementAfter=o;for(var c=0;c<s.length;c++)a={cursorPositionChangeReason:p.CursorChangeReason.NotSet,shouldReveal:!0,shouldRevealVerticalInCenter:!1,shouldRevealHorizontal:!0,executeCommand:null,isAutoWhitespaceCommand:!1,postOperationRunnable:null,shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1,requestScrollDeltaLines:0},r=i(c,s[c],a)||r,0===c&&(e.cursorPositionChangeReason=a.cursorPositionChangeReason,e.shouldRevealHorizontal=a.shouldRevealHorizontal,e.shouldReveal=a.shouldReveal,e.shouldRevealVerticalInCenter=a.shouldRevealVerticalInCenter,e.requestScrollDeltaLines=a.requestScrollDeltaLines),e.shouldPushStackElementBefore=e.shouldPushStackElementBefore||a.shouldPushStackElementBefore,e.shouldPushStackElementAfter=e.shouldPushStackElementAfter||a.shouldPushStackElementAfter,e.executeCommands[c]=a.executeCommand,e.isAutoWhitespaceCommand[c]=a.isAutoWhitespaceCommand,e.postOperationRunnables[c]=a.postOperationRunnable;return r},t.prototype._jumpToBracket=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.jumpToBracket(t,i)})},t.prototype._moveTo=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(i,n,o){return c.OneCursorOp.moveTo(n,e,t.eventData.position,t.eventData.viewPosition,t.eventSource,o)})},t.prototype._getColumnSelectToLineNumber=function(){if(!this._columnSelectToLineNumber){var e=this.cursors.getAll()[0],t=e.getViewPosition();return t.lineNumber}return this._columnSelectToLineNumber},t.prototype._getColumnSelectToVisualColumn=function(){if(!this._columnSelectToVisualColumn){var e=this.cursors.getAll()[0],t=e.getViewPosition();return e.getViewVisibleColumnFromColumn(t.lineNumber,t.column)}return this._columnSelectToVisualColumn},t.prototype._columnSelectMouse=function(e){var t=this.cursors.getAll(),i=c.OneCursorOp.columnSelectMouse(t[0],e.eventData.position,e.eventData.viewPosition,e.eventData.mouseColumn-1);return e.shouldRevealTarget=i.reversed?g.TopMost:g.BottomMost,e.shouldReveal=!0,e.setColumnSelectToLineNumber=i.toLineNumber,e.setColumnSelectToVisualColumn=i.toVisualColumn,this.cursors.setSelections(i.selections,i.viewSelections),!0},t.prototype._columnSelectOp=function(e,t){var i=this.cursors.getAll()[0],n=t(i,this._getColumnSelectToLineNumber(),this._getColumnSelectToVisualColumn());return e.shouldRevealTarget=n.reversed?g.TopMost:g.BottomMost,e.shouldReveal=!0,e.setColumnSelectToLineNumber=n.toLineNumber,e.setColumnSelectToVisualColumn=n.toVisualColumn,this.cursors.setSelections(n.selections,n.viewSelections),!0},t.prototype._columnSelectLeft=function(e){return this._columnSelectOp(e,function(e,t,i){return c.OneCursorOp.columnSelectLeft(e,t,i)})},t.prototype._columnSelectRight=function(e){return this._columnSelectOp(e,function(e,t,i){return c.OneCursorOp.columnSelectRight(e,t,i)})},t.prototype._columnSelectUp=function(e,t){return this._columnSelectOp(t,function(t,i,n){return c.OneCursorOp.columnSelectUp(e,t,i,n)})},t.prototype._columnSelectDown=function(e,t){return this._columnSelectOp(t,function(t,i,n){return c.OneCursorOp.columnSelectDown(e,t,i,n)})},t.prototype._createCursor=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;this.cursors.addSecondaryCursor({selectionStartLineNumber:1,selectionStartColumn:1,positionLineNumber:1,positionColumn:1});var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(i,n,o){return n===t&&(e.eventData.wholeLine?c.OneCursorOp.line(n,!1,e.eventData.position,e.eventData.viewPosition,o):c.OneCursorOp.moveTo(n,!1,e.eventData.position,e.eventData.viewPosition,e.eventSource,o))}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._lastCursorMoveTo=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(i,n,o){return n===t&&c.OneCursorOp.moveTo(n,!0,e.eventData.position,e.eventData.viewPosition,e.eventSource,o)}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._addCursorUp=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),e.shouldRevealTarget=g.TopMost,this._invokeForAll(e,function(e,i,n){return e>=t&&c.OneCursorOp.translateUp(i,n)})},t.prototype._addCursorDown=function(e){if(this.configuration.editor.readOnly)return!1;var t=this.cursors.getSelections().length;return this.cursors.duplicateCursors(),e.shouldRevealTarget=g.BottomMost,this._invokeForAll(e,function(e,i,n){return e>=t&&c.OneCursorOp.translateDown(i,n)})},t.prototype._moveLeft=function(e,t){return this._invokeForAll(t,function(t,i,n){return c.OneCursorOp.moveLeft(i,e,n)})},t.prototype._moveWordLeft=function(e,t,i){return this._invokeForAll(i,function(i,n,o){return c.OneCursorOp.moveWordLeft(n,e,t,o)})},t.prototype._moveRight=function(e,t){return this._invokeForAll(t,function(t,i,n){return c.OneCursorOp.moveRight(i,e,n)})},t.prototype._moveWordRight=function(e,t,i){return this._invokeForAll(i,function(i,n,o){return c.OneCursorOp.moveWordRight(n,e,t,o)})},t.prototype._moveDown=function(e,t,i){return this._invokeForAll(i,function(n,o,r){return c.OneCursorOp.moveDown(o,e,t,i.eventData&&i.eventData.pageSize||0,r)})},t.prototype._moveUp=function(e,t,i){return this._invokeForAll(i,function(n,o,r){return c.OneCursorOp.moveUp(o,e,t,i.eventData&&i.eventData.pageSize||0,r)})},t.prototype._moveToBeginningOfLine=function(e,t){return this._invokeForAll(t,function(t,i,n){return c.OneCursorOp.moveToBeginningOfLine(i,e,n)})},t.prototype._moveToEndOfLine=function(e,t){return this._invokeForAll(t,function(t,i,n){return c.OneCursorOp.moveToEndOfLine(i,e,n)})},t.prototype._moveToBeginningOfBuffer=function(e,t){return this._invokeForAll(t,function(t,i,n){return c.OneCursorOp.moveToBeginningOfBuffer(i,e,n)})},t.prototype._moveToEndOfBuffer=function(e,t){return this._invokeForAll(t,function(t,i,n){return c.OneCursorOp.moveToEndOfBuffer(i,e,n)})},t.prototype._selectAll=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.selectAll(t,i)})},t.prototype._line=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(i,n,o){return c.OneCursorOp.line(n,e,t.eventData.position,t.eventData.viewPosition,o)})},t.prototype._lastCursorLine=function(e,t){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var i=this.cursors.getLastAddedCursor();return this._invokeForAll(t,function(n,o,r){return o===i&&c.OneCursorOp.line(o,e,t.eventData.position,t.eventData.viewPosition,r)}),t.shouldReveal=!1,t.shouldRevealHorizontal=!1,!0},t.prototype._expandLineSelection=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.expandLineSelection(t,i)})},t.prototype._lineInsertBefore=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.lineInsertBefore(t,i)})},t.prototype._lineInsertAfter=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.lineInsertAfter(t,i)})},t.prototype._lineBreakInsert=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.lineBreakInsert(t,i)})},t.prototype._word=function(e,t){return this.cursors.killSecondaryCursors(),this._invokeForAll(t,function(i,n,o){return c.OneCursorOp.word(n,e,t.eventData.position,o)})},t.prototype._lastCursorWord=function(e){if(this.configuration.editor.readOnly||this.model.hasEditableRange())return!1;var t=this.cursors.getLastAddedCursor();return this._invokeForAll(e,function(i,n,o){return n===t&&c.OneCursorOp.word(n,!0,e.eventData.position,o)}),e.shouldReveal=!1,e.shouldRevealHorizontal=!1,!0},t.prototype._removeSecondaryCursors=function(e){return this.cursors.killSecondaryCursors(),!0},t.prototype._cancelSelection=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.cancelSelection(t,i)})},t.prototype._type=function(e){var t=this,i=e.eventData.text;if("keyboard"===e.eventSource){var n,o,r;for(n=0,o=i.length;n<o;n++)r=i.charAt(n),this.charactersTyped+=r,e.hasExecutedCommands=this._createAndInterpretHandlerCtx(e.eventSource,e.eventData,function(i){t._invokeForAll(i,function(e,t,i){return c.OneCursorOp.type(t,r,i)},!1,!1),e.cursorPositionChangeReason=i.cursorPositionChangeReason,e.shouldReveal=i.shouldReveal,e.shouldRevealVerticalInCenter=i.shouldRevealVerticalInCenter,e.shouldRevealHorizontal=i.shouldRevealHorizontal})||e.hasExecutedCommands}else this._invokeForAll(e,function(e,t,n){return c.OneCursorOp.actualType(t,i,!1,n)});return!0},t.prototype._replacePreviousChar=function(e){var t=e.eventData.text,i=e.eventData.replaceCharCnt;return this._invokeForAll(e,function(e,n,o){return c.OneCursorOp.replacePreviousChar(n,t,i,o)})},t.prototype._tab=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.tab(t,i)},!1,!1)},t.prototype._indent=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.indent(t,i)})},t.prototype._outdent=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.outdent(t,i)})},t.prototype._paste=function(e){var t=this._distributePasteToCursors(e);return t?this._invokeForAllSorted(e,function(e,i,n){return c.OneCursorOp.paste(i,t[e],!1,n)}):this._invokeForAll(e,function(t,i,n){return c.OneCursorOp.paste(i,e.eventData.text,e.eventData.pasteOnNewLine,n)})},t.prototype._scrollUp=function(e,t){return t.requestScrollDeltaLines=e?-this.cursors.getAll()[0].getPageSize():-1,!0},t.prototype._scrollDown=function(e,t){return t.requestScrollDeltaLines=e?this.cursors.getAll()[0].getPageSize():1,!0},t.prototype._distributePasteToCursors=function(e){if(e.eventData.pasteOnNewLine)return null;var t=this.cursors.getSelections();if(1===t.length)return null;for(var i=0;i<t.length;i++)if(t[i].startLineNumber!==t[i].endLineNumber)return null;var n=e.eventData.text.split(/\r\n|\r|\n/);return n.length!==t.length?null:n},t.prototype._deleteLeft=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.deleteLeft(t,i)},!1,!1)},t.prototype._deleteWordLeft=function(e,t,i){return this._invokeForAll(i,function(i,n,o){return c.OneCursorOp.deleteWordLeft(n,e,t,o)},!1,!1)},t.prototype._deleteRight=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.deleteRight(t,i)},!1,!1)},t.prototype._deleteWordRight=function(e,t,i){return this._invokeForAll(i,function(i,n,o){return c.OneCursorOp.deleteWordRight(n,e,t,o)},!1,!1)},t.prototype._deleteAllLeft=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.deleteAllLeft(t,i)},!1,!1)},t.prototype._deleteAllRight=function(e){return this._invokeForAll(e,function(e,t,i){return c.OneCursorOp.deleteAllRight(t,i)},!1,!1)},t.prototype._cut=function(e){var t=this;return this._invokeForAll(e,function(e,i,n){return c.OneCursorOp.cut(i,t.enableEmptySelectionClipboard,n)})},t.prototype._undo=function(e){return e.cursorPositionChangeReason=p.CursorChangeReason.Undo,e.hasExecutedCommands=!0,this._interpretCommandResult(this.model.undo()),!0},t.prototype._cursorUndo=function(e){return 0!==this.cursorUndoStack.length&&(e.cursorPositionChangeReason=p.CursorChangeReason.Undo,e.isCursorUndo=!0,this.cursors.restoreState(this.cursorUndoStack.pop()),!0)},t.prototype._redo=function(e){return e.cursorPositionChangeReason=p.CursorChangeReason.Redo,e.hasExecutedCommands=!0,this._interpretCommandResult(this.model.redo()),!0},t.prototype._externalExecuteCommand=function(e){return this.cursors.killSecondaryCursors(),this._invokeForAll(e,function(t,i,n){return n.shouldPushStackElementBefore=!0,n.shouldPushStackElementAfter=!0,n.executeCommand=e.eventData,!1})},t.prototype._externalExecuteCommands=function(e){return this._invokeForAll(e,function(t,i,n){return n.shouldPushStackElementBefore=!0,n.shouldPushStackElementAfter=!0,n.executeCommand=e.eventData[t],!1})},t}(o.EventEmitter);t.Cursor=m}),define(l[404],d([3,4]),function(e,t){return e.create("vs/editor/common/model/textModelWithTokens",t)}),define(l[185],d([1,0,404,16,7,5,268,75,2,11,157,305,655,195,105,163,159,656,296,80]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y,E,S){"use strict";var b=function(){function e(e,t){var i=this;this._modePromise=e,this._externalModePromise=new c.TPromise(function(e,t,n){i._externalModePromise_c=e,i._externalModePromise_e=t},function(){}),this._model=t,this._isDisposed=!1,c.TPromise.timeout(0).then(function(){return i._modePromise}).then(function(e){if(i._isDisposed)return void i._externalModePromise_c(!1);var t=i._model;i.dispose(),t.setMode(e),t._warmUpTokens(),i._externalModePromise_c(!0)}).done(null,function(e){i._externalModePromise_e(e),o.onUnexpectedError(e)})}return e.prototype.getModePromise=function(){return this._externalModePromise},e.prototype.dispose=function(){this._modePromise=null,this._model=null,this._isDisposed=!0},e}(),_=function(){function e(e,t){var i=this;this._retokenizePromise=e,this._model=t,this._isDisposed=!1,this.isFulfilled=!1,c.TPromise.timeout(0).then(function(){return i._retokenizePromise}).then(function(){i._isDisposed||(i.isFulfilled=!0,i._model.onRetokenizerFulfilled())}).done(null,o.onUnexpectedError)}return e.prototype.getRange=function(){return null},e.prototype.dispose=function(){this._retokenizePromise=null,this._model=null,this._isDisposed=!0},e}();t.FullModelRetokenizer=_;var C=function(){function e(e,t){this.modeTransitions=t.getModeTransitions(e),this._text=t.text,this._lineTokens=t.getTokens()}return e.prototype.getLineContent=function(){return this._text},e.prototype.getTokenCount=function(){return this._lineTokens.getTokenCount()},e.prototype.getTokenStartIndex=function(e){return this._lineTokens.getTokenStartIndex(e)},e.prototype.getTokenEndIndex=function(e){return this._lineTokens.getTokenEndIndex(e,this._text.length)},e.prototype.getTokenType=function(e){return this._lineTokens.getTokenType(e)},e.prototype.getTokenText=function(e){var t=this._lineTokens.getTokenStartIndex(e),i=this._lineTokens.getTokenEndIndex(e,this._text.length);return this._text.substring(t,i)},e.prototype.findIndexOfOffset=function(e){return this._lineTokens.findIndexOfOffset(e)},e}(),w=function(e){function t(t,i,o){var r=this;if(t.push(u.EventType.ModelTokensChanged),t.push(u.EventType.ModelModeChanged),t.push(u.EventType.ModelModeSupportChanged),e.call(this,t,i),this._mode=null,this._modeListener=null,this._modeToModelBinder=null,this._tokensInflatorMap=null,this._invalidLineStartIndex=0,this._lastState=null,this._revalidateTokensTimeout=-1,this._scheduleRetokenizeNow=null,this._retokenizers=null,o)if(c.TPromise.is(o)){var s=o._value;if(s&&"function"==typeof s.getId)this._mode=this._massageMode(s),this._resetModeListener(this._mode);else{var a=o;this._modeToModelBinder=new b(a,this),this._mode=new f.NullMode}}else this._mode=this._massageMode(o),this._resetModeListener(this._mode);else this._mode=new f.NullMode;this._revalidateTokensTimeout=-1,this._scheduleRetokenizeNow=new n.RunOnceScheduler(function(){return r._retokenizeNow()},200),this._retokenizers=[],this._resetTokenizationState()}return h(t,e),t.prototype.dispose=function(){this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),this._resetModeListener(null),this._clearTimers(),this._mode=null,this._lastState=null,this._tokensInflatorMap=null,this._retokenizers=r.dispose(this._retokenizers),this._scheduleRetokenizeNow.dispose(),e.prototype.dispose.call(this)},t.prototype._shouldAutoTokenize=function(){return!1},t.prototype._massageMode=function(e){return this.isTooLargeForHavingAMode()?new f.NullMode:this.isTooLargeForHavingARichMode()?e.toSimplifiedMode():e},t.prototype.whenModeIsReady=function(){var e=this;return this._modeToModelBinder?this._modeToModelBinder.getModePromise().then(function(){return e._mode}):c.TPromise.as(this._mode)},t.prototype.onRetokenizerFulfilled=function(){this._scheduleRetokenizeNow.schedule()},t.prototype._retokenizeNow=function(){var e=this._retokenizers.filter(function(e){return e.isFulfilled});this._retokenizers=this._retokenizers.filter(function(e){return!e.isFulfilled});for(var t=!1,i=0;i<e.length;i++)e[i].getRange()||(t=!0);if(t){for(var i=0,n=this._lines.length;i<n;i++)this._lines[i].isInvalid=!0;this._invalidLineStartIndex=0}else{for(var o=Number.MAX_VALUE,i=0;i<e.length;i++){var r=e[i].getRange();o=Math.min(o,r.startLineNumber);for(var s=r.startLineNumber;s<=r.endLineNumber;s++)this._lines[s-1].isInvalid=!0}o-1<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=o-1)}this._beginBackgroundTokenization();for(var i=0;i<e.length;i++)e[i].dispose()},t.prototype._createRetokenizer=function(e,t){return new _(e,this)},t.prototype._resetValue=function(t,i){e.prototype._resetValue.call(this,t,i),this._resetTokenizationState()},t.prototype._resetMode=function(e,t){this._mode=t,this._resetModeListener(t),this._resetTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount())},t.prototype._resetModeListener=function(e){var t=this;this._modeListener&&(this._modeListener.dispose(),this._modeListener=null),e&&"function"==typeof e.addSupportChangedListener&&(this._modeListener=e.addSupportChangedListener(function(e){return t._onModeSupportChanged(e)}))},t.prototype._onModeSupportChanged=function(e){this._emitModelModeSupportChangedEvent(e),e.tokenizationSupport&&(this._resetTokenizationState(),this.emitModelTokensChangedEvent(1,this.getLineCount()))},t.prototype._resetTokenizationState=function(){this._retokenizers=r.dispose(this._retokenizers),this._scheduleRetokenizeNow.cancel(),this._clearTimers();for(var e=0;e<this._lines.length;e++)this._lines[e].setState(null);this._initializeTokenizationState()},t.prototype._clearTimers=function(){this._revalidateTokensTimeout!==-1&&(clearTimeout(this._revalidateTokensTimeout),this._revalidateTokensTimeout=-1)},t.prototype._initializeTokenizationState=function(){var e=null;if(this._mode.tokenizationSupport)try{e=this._mode.tokenizationSupport.getInitialState()}catch(i){i.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,o.onUnexpectedError(i),this._mode=new f.NullMode}e||(e=new f.NullState(this._mode,null)),this._lines[0].setState(e),this._lastState=null,this._tokensInflatorMap=new E.TokensInflatorMap,this._invalidLineStartIndex=0,this._beginBackgroundTokenization()},t.prototype.getLineTokens=function(e,t){if(void 0===t&&(t=!1),e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return t||this._updateTokensUntilLine(e,!0),this._lines[e-1].getTokens()},t.prototype.getLineContext=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._updateTokensUntilLine(e,!0),new C(this._mode,this._lines[e-1])},t.prototype._getInternalTokens=function(e){return this._updateTokensUntilLine(e,!0),this._lines[e-1].getTokens()},t.prototype.getMode=function(){return this._mode},t.prototype.setMode=function(e){if(e)if(this._modeToModelBinder&&(this._modeToModelBinder.dispose(),this._modeToModelBinder=null),c.TPromise.is(e))this._modeToModelBinder=new b(e,this);else{var t=this._massageMode(e);if(this._mode!==t){var i={oldMode:this._mode,newMode:t};this._resetMode(i,t),this._emitModelModeChangedEvent(i)}}},t.prototype.getModeIdAtPosition=function(e,t){var i=this.validatePosition({lineNumber:e,column:t}),n=i.lineNumber,o=i.column;if(1===o)return this.getStateBeforeLine(n).getMode().getId();if(o===this.getLineMaxColumn(n))return this.getStateAfterLine(n).getMode().getId();var r=this._getLineModeTransitions(n),s=v.ModeTransition.findIndexInSegmentsArray(r,o-1);return r[s].modeId},t.prototype._invalidateLine=function(e){this._lines[e].isInvalid=!0,e<this._invalidLineStartIndex&&(this._invalidLineStartIndex<this._lines.length&&(this._lines[this._invalidLineStartIndex].isInvalid=!0),this._invalidLineStartIndex=e,this._beginBackgroundTokenization())},t._toLineTokens=function(e){if(!e||0===e.length)return[];if(e[0]instanceof y.LineToken)return e;for(var t=[],i=0,n=e.length;i<n;i++)t[i]=new y.LineToken(e[i].startIndex,e[i].type);return t},t._toModeTransitions=function(e){if(!e||0===e.length)return[];if(e[0]instanceof v.ModeTransition)return e;for(var t=[],i=0,n=e.length;i<n;i++)t[i]=new v.ModeTransition(e[i].startIndex,e[i].mode);return t},t.prototype._updateLineTokens=function(e,i,n,o){this._lines[e].setTokens(i,t._toLineTokens(o.tokens),n,t._toModeTransitions(o.modeTransitions))},t.prototype._beginBackgroundTokenization=function(){var e=this;this._shouldAutoTokenize()&&this._revalidateTokensTimeout===-1&&(this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1,e._revalidateTokensNow()},0))},t.prototype._warmUpTokens=function(){for(var e=Math.min(100,this.getLineCount()),t=e,i=1;i<=e;i++){var n=this._lines[i-1].text;if(n.length>=200){t=i-1;break}}this._revalidateTokensNow(t),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization()},t.prototype._revalidateTokensNow=function(e){void 0===e&&(e=this._invalidLineStartIndex+1e6);var t=a.start(a.Topic.EDITOR,"backgroundTokenization");e=Math.min(this._lines.length,e);for(var i,n=20,o=this._invalidLineStartIndex+1,r=0,c=0,u=0,l=s.StopWatch.create(!1),d=o;d<=e;d++){
if(i=l.elapsed(),i>n){e=d-1;break}if(c=this._lines[d-1].text.length,r>0&&(u=i/r*c,i+u>n)){e=d-1;break}this._updateTokensUntilLine(d,!1),r+=c}i=l.elapsed(),o<=e&&this.emitModelTokensChangedEvent(o,e),this._invalidLineStartIndex<this._lines.length&&this._beginBackgroundTokenization(),t.stop()},t.prototype.getStateBeforeLine=function(e){return this._updateTokensUntilLine(e-1,!0),this._lines[e-1].getState()},t.prototype.getStateAfterLine=function(e){return this._updateTokensUntilLine(e,!0),e<this._lines.length?this._lines[e].getState():this._lastState},t.prototype._getLineModeTransitions=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._updateTokensUntilLine(e,!0),this._lines[e-1].getModeTransitions(this._mode)},t.prototype._updateTokensUntilLine=function(e,i){for(var n=this._lines.length,r=e-1,s=1e9,a=this._invalidLineStartIndex+1,c=e,u=this._invalidLineStartIndex;u<=r;u++){var l=u+1,d=null,h=this._lines[u].text;if(this._mode.tokenizationSupport){try{d=this._mode.tokenizationSupport.tokenize(this._lines[u].text,this._lines[u].getState(),0,s)}catch(p){p.friendlyMessage=t.MODE_TOKENIZATION_FAILED_MSG,o.onUnexpectedError(p)}d&&d.retokenize&&this._retokenizers.push(this._createRetokenizer(d.retokenize,u+1)),d&&d.tokens&&d.tokens.length>0&&(d.actualStopOffset=Math.max(d.actualStopOffset,d.tokens[d.tokens.length-1].startIndex+1)),d&&d.actualStopOffset<h.length&&(d.tokens.push({startIndex:d.actualStopOffset,type:""}),d.endState=this._lines[u].getState())}if(d||(d=f.nullTokenize(this._mode,h,this._lines[u].getState())),d.modeTransitions||(d.modeTransitions=[]),0===d.modeTransitions.length&&d.modeTransitions.push({startIndex:0,mode:this._mode}),this._updateLineTokens(u,this._tokensInflatorMap,this._mode,d),this._lines[u].isInvalid&&(this._lines[u].isInvalid=!1),l<n)if(null!==this._lines[l].getState()&&d.endState.equals(this._lines[l].getState())){for(var g=u+1;g<n&&!this._lines[g].isInvalid;){if(g+1<n){if(null===this._lines[g+1].getState())break}else if(null===this._lastState)break;g++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,g),u=g-1}else this._lines[l].setState(d.endState);else this._lastState=d.endState}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,r+1),i&&a<=c&&this.emitModelTokensChangedEvent(a,c)},t.prototype.emitModelTokensChangedEvent=function(e,t){var i={fromLineNumber:e,toLineNumber:t};this._isDisposing||this.emit(u.EventType.ModelTokensChanged,i)},t.prototype._emitModelModeChangedEvent=function(e){this._isDisposing||this.emit(u.EventType.ModelModeChanged,e)},t.prototype._emitModelModeSupportChangedEvent=function(e){this._isDisposing||this.emit(u.EventType.ModelModeSupportChanged,e)},t.prototype._lineIsTokenized=function(e){return this._invalidLineStartIndex>e-1},t.prototype._getWordDefinition=function(){return d.WordHelper.massageWordDefinitionOf(this._mode)},t.prototype.getWordAtPosition=function(e){return d.WordHelper.getWordAtPosition(this,this.validatePosition(e))},t.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.tokenIterator=function(e,t){var i=new p.TokenIterator(this,this.validatePosition(e)),n=t(i);return i._invalidate(),n},t.prototype.findMatchingBracketUp=function(e,t){var i=this.validatePosition(t),n=this._lines[i.lineNumber-1].getModeTransitions(this._mode),o=v.ModeTransition.findIndexInSegmentsArray(n,i.column-1),r=n[o],s=S.LanguageConfigurationRegistry.getBracketsSupport(r.modeId);if(!s)return null;var a=s.textIsBracket[e];return a?this._findMatchingBracketUp(a,i):null},t.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))},t.prototype._matchBracket=function(e){var t=e.lineNumber,i=this._lines[t-1].text,n=this._lines[t-1].getTokens(),o=n.findIndexOfOffset(e.column-1),r=n.getTokenStartIndex(o),s=this._lines[t-1].getModeTransitions(this._mode),a=v.ModeTransition.findIndexInSegmentsArray(s,e.column-1),c=s[a],u=S.LanguageConfigurationRegistry.getBracketsSupport(c.modeId);if(o>0&&r===e.column-1){var l=o-1,d=n.getTokenType(l);if(!g.ignoreBracketsInToken(d)){var h=n.getTokenStartIndex(l),p=c,f=u;if(a>0&&c.startIndex===e.column-1&&(p=s[a-1],f=S.LanguageConfigurationRegistry.getBracketsSupport(p.modeId)),f){h=Math.max(h,e.column-1-f.maxBracketLength);var y=m.BracketsUtils.findPrevBracketInToken(f.reversedRegex,t,i,h,r);if(y&&y.startColumn<=e.column&&e.column<=y.endColumn){var E=i.substring(y.startColumn-1,y.endColumn-1),b=this._matchFoundBracket(y,f.textIsBracket[E],f.textIsOpenBracket[E]);if(b)return b}}}}if(!g.ignoreBracketsInToken(n.getTokenType(o))&&u){r=Math.max(r,e.column-1-u.maxBracketLength);var _=n.getTokenEndIndex(o,i.length);for(_=Math.min(_,e.column-1+u.maxBracketLength);;){var y=m.BracketsUtils.findNextBracketInText(u.forwardRegex,t,i.substring(r,_),r);if(!y)break;if(y.startColumn<=e.column&&e.column<=y.endColumn){var E=i.substring(y.startColumn-1,y.endColumn-1),b=this._matchFoundBracket(y,u.textIsBracket[E],u.textIsOpenBracket[E]);if(b)return b}r=y.endColumn-1}}return null},t.prototype._matchFoundBracket=function(e,t,i){if(i){var n=this._findMatchingBracketDown(t,e.getEndPosition());if(n)return[e,n]}else{var n=this._findMatchingBracketUp(t,e.getStartPosition());if(n)return[e,n]}return null},t.prototype._findMatchingBracketUp=function(e,t){for(var i=e.modeId,n=e.reversedRegex,o=-1,r=t.lineNumber;r>=1;r--){var s=this._lines[r-1].getTokens(),a=this._lines[r-1].text,c=this._lines[r-1].getModeTransitions(this._mode),u=c.length-1,l=c[u].startIndex,d=c[u].modeId,h=s.getTokenCount()-1,p=a.length;r===t.lineNumber&&(h=s.findIndexOfOffset(t.column-1),p=t.column-1,u=v.ModeTransition.findIndexInSegmentsArray(c,t.column-1),l=c[u].startIndex,d=c[u].modeId);for(var f=h;f>=0;f--){var y=s.getTokenType(f),E=s.getTokenStartIndex(f);if(E<l&&(u--,l=c[u].startIndex,d=c[u].modeId),d===i&&!g.ignoreBracketsInToken(y))for(;;){var S=m.BracketsUtils.findPrevBracketInToken(n,r,a,E,p);if(!S)break;var b=a.substring(S.startColumn-1,S.endColumn-1);if(b===e.open?o++:b===e.close&&o--,0===o)return S;p=S.startColumn-1}p=E}}return null},t.prototype._findMatchingBracketDown=function(e,t){for(var i=e.modeId,n=e.forwardRegex,o=1,r=t.lineNumber,s=this.getLineCount();r<=s;r++){var a=this._lines[r-1].getTokens(),c=this._lines[r-1].text,u=this._lines[r-1].getModeTransitions(this._mode),l=0,d=l+1<u.length?u[l+1].startIndex:c.length+1,h=u[l].modeId,p=0,f=a.getTokenStartIndex(p);r===t.lineNumber&&(p=a.findIndexOfOffset(t.column-1),f=Math.max(f,t.column-1),l=v.ModeTransition.findIndexInSegmentsArray(u,t.column-1),d=l+1<u.length?u[l+1].startIndex:c.length+1,h=u[l].modeId);for(var y=p,E=a.getTokenCount();y<E;y++){var S=a.getTokenType(y),b=a.getTokenEndIndex(y,c.length);if(f>=d&&(l++,d=l+1<u.length?u[l+1].startIndex:c.length+1,h=u[l].modeId),h===i&&!g.ignoreBracketsInToken(S))for(;;){var _=m.BracketsUtils.findNextBracketInToken(n,r,c,f,b);if(!_)break;var C=c.substring(_.startColumn-1,_.endColumn-1);if(C===e.open?o++:C===e.close&&o--,0===o)return _;f=_.endColumn-1}f=b}}return null},t.prototype.findPrevBracket=function(e){for(var t=this.validatePosition(e),i=/[\(\)\[\]\{\}]/,n=t.lineNumber;n>=1;n--){var o=this._lines[n-1].getTokens(),r=this._lines[n-1].text,s=o.getTokenCount()-1,a=r.length;n===t.lineNumber&&(s=o.findIndexOfOffset(t.column-1),a=t.column-1);for(var c=s;c>=0;c--){var u=o.getTokenType(c),l=o.getTokenStartIndex(c);if(!g.ignoreBracketsInToken(u)){var d=m.BracketsUtils.findPrevBracketInToken(i,n,r,l,a);if(d)return this._toFoundBracket(d)}a=l}}return null},t.prototype.findNextBracket=function(e){for(var t=this.validatePosition(e),i=/[\(\)\[\]\{\}]/,n=t.lineNumber,o=this.getLineCount();n<=o;n++){var r=this._lines[n-1].getTokens(),s=this._lines[n-1].text,a=0,c=r.getTokenStartIndex(a);n===t.lineNumber&&(a=r.findIndexOfOffset(t.column-1),c=Math.max(c,t.column-1));for(var u=a,l=r.getTokenCount();u<l;u++){var d=r.getTokenType(u),h=r.getTokenEndIndex(u,s.length);if(!g.ignoreBracketsInToken(d)){var p=m.BracketsUtils.findNextBracketInToken(i,n,s,c,h);if(p)return this._toFoundBracket(p)}c=h}}return null},t.prototype._toFoundBracket=function(e){if(!e)return null;var t=this.getValueInRange(e);switch(t){case"(":return{range:e,open:"(",close:")",isOpen:!0};case")":return{range:e,open:"(",close:")",isOpen:!1};case"[":return{range:e,open:"[",close:"]",isOpen:!0};case"]":return{range:e,open:"[",close:"]",isOpen:!1};case"{":return{range:e,open:"{",close:"}",isOpen:!0};case"}":return{range:e,open:"{",close:"}",isOpen:!1}}return null},t.MODE_TOKENIZATION_FAILED_MSG=i.localize(0,null),t}(l.TextModel);t.TextModelWithTokens=w}),define(l[406],d([1,0,114,48,185]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t,i){this.id=e,this.column=t,this.stickToPreviousCharacter=i,this.oldLineNumber=0,this.oldColumn=0,this.line=null}return e.prototype.toString=function(){return"{'"+this.id+"';"+this.column+","+this.stickToPreviousCharacter+",["+this.oldLineNumber+","+this.oldColumn+"]}"},e}();t.LineMarker=r;var s=0,a=function(e){function t(t,n,o){e.call(this,t,n,o),this._markerIdGenerator=new i.IdGenerator(++s+";"),this._markerIdToMarker={}}return h(t,e),t.prototype.dispose=function(){this._markerIdToMarker=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,i){e.prototype._resetValue.call(this,t,i),this._markerIdToMarker={}},t.prototype._addMarker=function(e,t,i){var o=this.validatePosition(new n.Position(e,t)),s=new r(this._markerIdGenerator.nextId(),o.column,i);return this._markerIdToMarker[s.id]=s,this._lines[o.lineNumber-1].addMarker(s),s.id},t.prototype._addMarkers=function(e){for(var t=Object.create(null),i=[],n=0,o=e.length;n<o;n++){var s=e[n],a=new r(this._markerIdGenerator.nextId(),s.column,s.stickToPreviousCharacter);this._markerIdToMarker[a.id]=a,t[s.lineNumber]||(t[s.lineNumber]=[]),t[s.lineNumber].push(a),i.push(a.id)}for(var c=Object.keys(t),n=0,o=c.length;n<o;n++){var u=parseInt(c[n],10);this._lines[u-1].addMarkers(t[c[n]])}return i},t.prototype._changeMarker=function(e,t,i){if(this._markerIdToMarker.hasOwnProperty(e)){var o=this._markerIdToMarker[e],r=this.validatePosition(new n.Position(t,i));r.lineNumber!==o.line.lineNumber&&(o.line.removeMarker(o),this._lines[r.lineNumber-1].addMarker(o)),o.column=r.column}},t.prototype._changeMarkerStickiness=function(e,t){if(this._markerIdToMarker.hasOwnProperty(e)){var i=this._markerIdToMarker[e];i.stickToPreviousCharacter!==t&&(i.stickToPreviousCharacter=t)}},t.prototype._getMarker=function(e){if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];return new n.Position(t.line.lineNumber,t.column)}return null},t.prototype._getMarkersCount=function(){return Object.keys(this._markerIdToMarker).length},t.prototype._getLineMarkers=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value "+e+" for `lineNumber`");return this._lines[e-1].getMarkers()},t.prototype._removeMarker=function(e){if(this._markerIdToMarker.hasOwnProperty(e)){var t=this._markerIdToMarker[e];t.line.removeMarker(t),delete this._markerIdToMarker[e]}},t.prototype._removeMarkers=function(e){for(var t=Object.create(null),i=0,n=e.length;i<n;i++){var o=e[i];if(this._markerIdToMarker.hasOwnProperty(o)){var r=this._markerIdToMarker[o],s=r.line.lineNumber;t[s]||(t[s]=Object.create(null)),t[s][o]=!0,delete this._markerIdToMarker[o]}}for(var a=Object.keys(t),i=0,n=a.length;i<n;i++){var s=parseInt(a[i],10);this._lines[s-1].removeMarkers(t[a[i]])}},t.prototype._getMarkersInMap=function(e){for(var t=[],i=Object.keys(e),n=0,o=i.length;n<o;n++){var r=i[n];this._markerIdToMarker.hasOwnProperty(r)&&t.push(this._markerIdToMarker[r])}return t},t}(o.TextModelWithTokens);t.TextModelWithMarkers=a}),define(l[407],d([1,0,114,14,11,406,185]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,n){e.call(this,t,n),this.trackedRangeId=n.addTrackedRange({startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:n.getLineMaxColumn(i)},o.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges)}return h(t,e),t.prototype.getRange=function(){return this._model.getTrackedRange(this.trackedRangeId)},t.prototype.dispose=function(){var t=this._model;t.isValidTrackedRange(this.trackedRangeId)&&t.removeTrackedRange(this.trackedRangeId),e.prototype.dispose.call(this)},t}(s.FullModelRetokenizer),c=function(){function e(e,t,i){this.id=e,this.startMarkerId=t,this.endMarkerId=i}return e}(),u=0,l=function(e){function t(t,n,o){e.call(this,t,n,o),this._rangeIdGenerator=new i.IdGenerator(++u+";"),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}}return h(t,e),t.prototype._createRetokenizer=function(e,t){return new a(e,t,this)},t.prototype.dispose=function(){this._ranges=null,this._markerIdToRangeId=null,this._multiLineTrackedRanges=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,i){e.prototype._resetValue.call(this,t,i),this._ranges={},this._markerIdToRangeId={},this._multiLineTrackedRanges={}},t.prototype._setRangeIsMultiLine=function(e,t){var i=this._multiLineTrackedRanges.hasOwnProperty(e);!i&&t?this._multiLineTrackedRanges[e]=!0:i&&!t&&delete this._multiLineTrackedRanges[e]},t.prototype._shouldStartMarkerSticksToPreviousCharacter=function(e){return e===o.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges||e===o.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},t.prototype._shouldEndMarkerSticksToPreviousCharacter=function(e){return e===o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges||e===o.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore},t.prototype._getTrackedRangesCount=function(){return Object.keys(this._ranges).length},t.prototype.addTrackedRange=function(e,t){e=this.validateRange(e);var i=this._shouldStartMarkerSticksToPreviousCharacter(t),n=this._shouldEndMarkerSticksToPreviousCharacter(t),o=this._addMarker(e.startLineNumber,e.startColumn,i),r=this._addMarker(e.endLineNumber,e.endColumn,n),s=new c(this._rangeIdGenerator.nextId(),o,r);return this._ranges[s.id]=s,this._markerIdToRangeId[o]=s.id,this._markerIdToRangeId[r]=s.id,this._setRangeIsMultiLine(s.id,e.startLineNumber!==e.endLineNumber),s.id},t.prototype._addTrackedRanges=function(e,t){for(var i=[],n=0,o=e.length;n<o;n++){var r=e[n],s=t[n];i.push({lineNumber:r.startLineNumber,column:r.startColumn,stickToPreviousCharacter:this._shouldStartMarkerSticksToPreviousCharacter(s)}),i.push({lineNumber:r.endLineNumber,column:r.endColumn,stickToPreviousCharacter:this._shouldEndMarkerSticksToPreviousCharacter(s)})}for(var a=this._addMarkers(i),u=[],n=0,o=e.length;n<o;n++){var r=e[n],l=a[2*n],d=a[2*n+1],h=new c(this._rangeIdGenerator.nextId(),l,d);this._ranges[h.id]=h,this._markerIdToRangeId[l]=h.id,this._markerIdToRangeId[d]=h.id,this._setRangeIsMultiLine(h.id,r.startLineNumber!==r.endLineNumber),u.push(h.id)}return u},t.prototype.changeTrackedRange=function(e,t){if(this._ranges.hasOwnProperty(e)){t=this.validateRange(t);var i=this._ranges[e];this._changeMarker(i.startMarkerId,t.startLineNumber,t.startColumn),this._changeMarker(i.endMarkerId,t.endLineNumber,t.endColumn),this._setRangeIsMultiLine(i.id,t.startLineNumber!==t.endLineNumber)}},t.prototype.changeTrackedRangeStickiness=function(e,t){if(this._ranges.hasOwnProperty(e)){var i=this._ranges[e];this._changeMarkerStickiness(i.startMarkerId,this._shouldStartMarkerSticksToPreviousCharacter(t)),this._changeMarkerStickiness(i.endMarkerId,this._shouldEndMarkerSticksToPreviousCharacter(t))}},t.prototype.isValidTrackedRange=function(e){return!(this._isDisposed||!this._ranges)&&this._ranges.hasOwnProperty(e)},t.prototype.removeTrackedRange=function(e){if(this._ranges.hasOwnProperty(e)){var t=this._ranges[e];this._removeMarker(t.startMarkerId),this._removeMarker(t.endMarkerId),this._setRangeIsMultiLine(t.id,!1),delete this._ranges[t.id],delete this._markerIdToRangeId[t.startMarkerId],delete this._markerIdToRangeId[t.endMarkerId]}},t.prototype.removeTrackedRanges=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var o=e[i];if(this._ranges.hasOwnProperty(o)){var r=this._ranges[o];t.push(r.startMarkerId),t.push(r.endMarkerId),this._setRangeIsMultiLine(r.id,!1),delete this._ranges[r.id],delete this._markerIdToRangeId[r.startMarkerId],delete this._markerIdToRangeId[r.endMarkerId]}}t.length>0&&this._removeMarkers(t)},t.prototype._newEditorRange=function(e,t){return t.isBefore(e)?new n.Range(e.lineNumber,e.column,e.lineNumber,e.column):new n.Range(e.lineNumber,e.column,t.lineNumber,t.column)},t.prototype.getTrackedRange=function(e){var t=this._ranges[e],i=this._getMarker(t.startMarkerId),n=this._getMarker(t.endMarkerId);return this._newEditorRange(i,n)},t.prototype._getMultiLineTrackedRanges=function(e,t){for(var i=[],n=Object.keys(this._multiLineTrackedRanges),o=0,r=n.length;o<r;o++){var s=n[o],a=this._ranges[s],c=this._getMarker(a.startMarkerId);if(!(c.lineNumber>t)){var u=this._getMarker(a.endMarkerId);u.lineNumber<e||i.push({id:a.id,range:this._newEditorRange(c,u)})}}return i},t.prototype.getLinesTrackedRanges=function(e,t){var i,n,o,r,s,a,c,u,l=this._getMultiLineTrackedRanges(e,t),d={};for(r=0,s=l.length;r<s;r++)d[l[r].id]=!0;for(a=e;a<=t;a++)for(i=this._getLineMarkers(a),r=0,s=i.length;r<s;r++)n=i[r],this._markerIdToRangeId.hasOwnProperty(n.id)&&(o=this._markerIdToRangeId[n.id],d.hasOwnProperty(o)||(c=this._getMarker(this._ranges[o].startMarkerId),u=this._getMarker(this._ranges[o].endMarkerId),l.push({id:o,range:this._newEditorRange(c,u)}),d[o]=!0));return l},t.prototype._onChangedMarkers=function(e){var t,i,n,o,r,s,a={};for(r=0,s=e.length;r<s;r++)o=e[r],this._markerIdToRangeId.hasOwnProperty(o.id)&&(n=this._markerIdToRangeId[o.id],i=this._ranges[n],a.hasOwnProperty(i.id)?t=a[i.id]:(t={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},a[i.id]=t),o.id===i.startMarkerId?(t.startLineNumber=o.oldLineNumber,t.startColumn=o.oldColumn):(t.endLineNumber=o.oldLineNumber,t.endColumn=o.oldColumn),this._setRangeIsMultiLine(i.id,this._getMarker(i.startMarkerId).lineNumber!==this._getMarker(i.endMarkerId).lineNumber));return a},t}(r.TextModelWithMarkers);t.TextModelWithTrackedRanges=l}),define(l[408],d([1,0,7,168,9,114,14,11,407]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){return e.replace(/[^a-z0-9\-]/gi," ")}function l(e){return new v(e)}function d(e,t){return void 0===t&&(t=null),new E(e,t)}var p=function(){function e(){this.changedMarkers={},this.oldDecorationRange={},this.oldDecorationOptions={},this.newOrChangedDecorations={},this.removedDecorations={}}return e.prototype.addNewDecoration=function(e){this.newOrChangedDecorations[e]=!0},e.prototype.addRemovedDecoration=function(e,t,i,n){this.newOrChangedDecorations.hasOwnProperty(e)&&delete this.newOrChangedDecorations[e],this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=i),this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=n),this.removedDecorations[e]=!0},e.prototype.addMovedDecoration=function(e,t){this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=t),this.newOrChangedDecorations[e]=!0},e.prototype.addUpdatedDecoration=function(e,t){this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=t),this.newOrChangedDecorations[e]=!0},e}();t.DeferredEventsBuilder=p;var f=0,g=function(e){function t(t,i,n){t.push(a.EventType.ModelDecorationsChanged),e.call(this,t,i,n),this._decorationIdGenerator=new r.IdGenerator(++f+";"),this.decorations={},this.rangeIdToDecorationId={},this._currentDeferredEvents=null}return h(t,e),t.prototype.dispose=function(){this.decorations=null,this.rangeIdToDecorationId=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,i){e.prototype._resetValue.call(this,t,i),this.decorations={},this.rangeIdToDecorationId={}},t.prototype.changeDecorations=function(e,t){var n=this;return void 0===t&&(t=0),this._withDeferredEvents(function(o){var r={addDecoration:function(e,i){return n._addDecorationImpl(o,t,n.validateRange(e),l(i))},changeDecoration:function(e,t){n._changeDecorationImpl(o,e,n.validateRange(t))},changeDecorationOptions:function(e,t){n._changeDecorationOptionsImpl(o,e,l(t))},removeDecoration:function(e){n._removeDecorationImpl(o,e)},deltaDecorations:function(e,i){return n._deltaDecorationsImpl(o,t,e,n._normalizeDeltaDecorations(i))}},s=null;try{s=e(r)}catch(a){i.onUnexpectedError(a)}return r.addDecoration=null,r.changeDecoration=null,r.removeDecoration=null,r.deltaDecorations=null,s})},t.prototype.deltaDecorations=function(e,t,i){return void 0===i&&(i=0),e||(e=[]),this.changeDecorations(function(i){return i.deltaDecorations(e,t)},i)},t.prototype.removeAllDecorationsWithOwnerId=function(e){for(var t=[],i=Object.keys(this.decorations),n=0,o=i.length;n<o;n++){var r=i[n],s=this.decorations[r];s.ownerId===e&&t.push(s.id)}this._removeDecorationsImpl(null,t)},t.prototype.getDecorationOptions=function(e){return this.decorations.hasOwnProperty(e)?this.decorations[e].options:null},t.prototype.getDecorationRange=function(e){if(this.decorations.hasOwnProperty(e)){var t=this.decorations[e];return this.getTrackedRange(t.rangeId)}return null},t.prototype.getLineDecorations=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=!1),e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)},t.prototype._getDecorationsInRange=function(e,t,i,n,o,r){var s,c,u,l,d=[],h=this.getLinesTrackedRanges(e,i);for(c=0,l=h.length;c<l;c++)if(u=h[c],this.rangeIdToDecorationId.hasOwnProperty(u.id)){if(s=this.decorations[this.rangeIdToDecorationId[u.id]],o&&s.ownerId&&s.ownerId!==o)continue;if(r&&(s.options.className===a.ClassName.EditorErrorDecoration||s.options.className===a.ClassName.EditorWarningDecoration))continue;if(u.range.startLineNumber===e&&u.range.endColumn<t)continue;if(u.range.endLineNumber===i&&u.range.startColumn>n)continue;d.push({id:s.id,ownerId:s.ownerId,range:u.range,options:s.options})}return d},t.prototype.getLinesDecorations=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=!1);var o=this.getLineCount();return e=Math.min(o,Math.max(1,e)),t=Math.min(o,Math.max(1,t)),this._getDecorationsInRange(e,1,t,Number.MAX_VALUE,i,n)},t.prototype.getDecorationsInRange=function(e,t,i){var n=this.validateRange(e);return this._getDecorationsInRange(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn,t,i)},t.prototype.getAllDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);for(var i=[],n=Object.keys(this.decorations),o=0,r=n.length;o<r;o++){var s=n[o],c=this.decorations[s];e&&c.ownerId&&c.ownerId!==e||(!t||c.options.className!==a.ClassName.EditorErrorDecoration&&c.options.className!==a.ClassName.EditorWarningDecoration)&&i.push({id:c.id,ownerId:c.ownerId,range:this.getTrackedRange(c.rangeId),options:c.options})}return i},t.prototype._withDeferredEvents=function(e){var t=this;return this.deferredEmit(function(){var i=!t._currentDeferredEvents;i&&(t._currentDeferredEvents=new p);try{var n=e(t._currentDeferredEvents);i&&t._handleCollectedEvents(t._currentDeferredEvents)}finally{i&&(t._currentDeferredEvents=null)}return n})},t.prototype._handleCollectedEvents=function(e){var t=this._getMarkersInMap(e.changedMarkers),i=this._onChangedMarkers(t);this._onChangedRanges(e,i),this._handleCollectedDecorationsEvents(e);for(var n=0,o=t.length;n<o;n++)t[n].oldLineNumber=0,t[n].oldColumn=0},t.prototype._onChangedRanges=function(e,t){for(var i=Object.keys(t),n=0,o=i.length;n<o;n++){var r=i[n];if(this.rangeIdToDecorationId.hasOwnProperty(r)){var s=this.rangeIdToDecorationId[r];e.addMovedDecoration(s,t[r])}}},t.prototype._handleCollectedDecorationsEvents=function(e){for(var t,i,n=[],o=[],r=[],s=Object.keys(e.newOrChangedDecorations),c=0,u=s.length;c<u;c++){var l=s[c];r.push(l),t=this._getDecorationData(l),t.isForValidation=t.options.className===a.ClassName.EditorErrorDecoration||t.options.className===a.ClassName.EditorWarningDecoration,n.push(t),e.oldDecorationRange.hasOwnProperty(l)&&(i=e.oldDecorationRange[l],i.startLineNumber=i.startLineNumber||t.range.startLineNumber,i.startColumn=i.startColumn||t.range.startColumn,i.endLineNumber=i.endLineNumber||t.range.endLineNumber,i.endColumn=i.endColumn||t.range.endColumn)}s=Object.keys(e.removedDecorations);for(var c=0,u=s.length;c<u;c++){var l=s[c];r.push(l),o.push(l)}if(r.length>0){var d={ids:r,addedOrChangedDecorations:n,removedDecorations:o,oldOptions:e.oldDecorationOptions,oldRanges:e.oldDecorationRange};this.emitModelDecorationsChangedEvent(d)}},t.prototype._getDecorationData=function(e){var t=this.decorations[e];return{id:t.id,ownerId:t.ownerId,range:this.getTrackedRange(t.rangeId),isForValidation:!1,options:t.options}},t.prototype.emitModelDecorationsChangedEvent=function(e){this._isDisposing||this.emit(a.EventType.ModelDecorationsChanged,e)},t.prototype._normalizeDeltaDecorations=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var o=e[i];t.push(new y(i,this.validateRange(o.range),l(o.options)))}return t},t.prototype._addDecorationImpl=function(e,t,i,n){var o=this.addTrackedRange(i,n.stickiness),r=new m(this._decorationIdGenerator.nextId(),t,o,n);return this.decorations[r.id]=r,this.rangeIdToDecorationId[o]=r.id,e.addNewDecoration(r.id),r.id},t.prototype._addDecorationsImpl=function(e,t,i){for(var n=this._addTrackedRanges(i.map(function(e){return e.range}),i.map(function(e){return e.options.stickiness})),o=[],r=0,s=i.length;r<s;r++){var a=n[r],c=new m(this._decorationIdGenerator.nextId(),t,a,i[r].options);this.decorations[c.id]=c,this.rangeIdToDecorationId[a]=c.id,e.addNewDecoration(c.id),o.push(c.id)}return o},t.prototype._changeDecorationImpl=function(e,t,i){if(this.decorations.hasOwnProperty(t)){var n=this.decorations[t],o=this.getTrackedRange(n.rangeId);this.changeTrackedRange(n.rangeId,i),e.addMovedDecoration(t,o)}},t.prototype._changeDecorationOptionsImpl=function(e,t,i){if(this.decorations.hasOwnProperty(t)){var n=this.decorations[t],o=n.options;o.stickiness!==i.stickiness&&this.changeTrackedRangeStickiness(n.rangeId,i.stickiness),n.options=i,e.addUpdatedDecoration(t,o)}},t.prototype._removeDecorationImpl=function(e,t){if(this.decorations.hasOwnProperty(t)){var i=this.decorations[t],n=null;e&&(n=this.getTrackedRange(i.rangeId)),this.removeTrackedRange(i.rangeId),delete this.rangeIdToDecorationId[i.rangeId],delete this.decorations[t],e&&e.addRemovedDecoration(t,i.ownerId,n,i.options)}},t.prototype._removeDecorationsImpl=function(e,t){for(var i=[],n=0,o=t.length;n<o;n++){var r=t[n];if(this.decorations.hasOwnProperty(r)){var s=this.decorations[r];if(e){var a=this.getTrackedRange(s.rangeId);e.addRemovedDecoration(r,s.ownerId,a,s.options)}i.push(s.rangeId),delete this.rangeIdToDecorationId[s.rangeId],delete this.decorations[r]}}i.length>0&&this.removeTrackedRanges(i)},t.prototype._resolveOldDecorations=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var o=e[i];if(this.decorations.hasOwnProperty(o)){var r=this.decorations[o];t.push({id:o,range:this.getTrackedRange(r.rangeId),options:r.options})}}return t},t.prototype._deltaDecorationsImpl=function(e,t,i,n){if(0===i.length)return this._addDecorationsImpl(e,t,n);if(0===n.length)return this._removeDecorationsImpl(e,i),[];var o=this._resolveOldDecorations(i);o.sort(function(e,t){return s.Range.compareRangesUsingStarts(e.range,t.range)}),n.sort(function(e,t){return s.Range.compareRangesUsingStarts(e.range,t.range)});for(var r=[],a=0,c=o.length,u=0,l=n.length,d=[],h=[];a<c&&u<l;){var p=o[a],f=n[u],g=s.Range.compareRangesUsingStarts(p.range,f.range);g<0?(h.push(p.id),a++):g>0?(d.push(f),u++):p.options.equals(f.options)?(r[f.index]=p.id,a++,u++):(h.push(p.id),a++)}for(;a<c;)h.push(o[a].id),a++;for(;u<l;)d.push(n[u]),u++;if(h.length>0&&this._removeDecorationsImpl(e,h),d.length>0)for(var m=this._addDecorationsImpl(e,t,d),v=0,y=d.length;v<y;v++)r[d[v].index]=m[v];return r},t}(c.TextModelWithTrackedRanges);t.TextModelWithDecorations=g;var m=function(){function e(e,t,i,n){this.id=e,this.ownerId=t,this.rangeId=i,this.options=n}return e}(),v=function(){function e(e){this.stickiness=e.stickiness||a.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,this.className=u(e.className||o.empty),this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||o.empty,this.hoverMessage=e.hoverMessage||[],this.isWholeLine=e.isWholeLine||!1,this.overviewRuler=d(e.overviewRuler,e.showInOverviewRuler),this.glyphMarginClassName=u(e.glyphMarginClassName||o.empty),this.linesDecorationsClassName=u(e.linesDecorationsClassName||o.empty),this.inlineClassName=u(e.inlineClassName||o.empty),this.beforeContentClassName=u(e.beforeContentClassName||o.empty),this.afterContentClassName=u(e.afterContentClassName||o.empty)}return e._overviewRulerEquals=function(e,t){return e.color===t.color&&e.position===t.position&&e.darkColor===t.darkColor},e.prototype.equals=function(t){return this.stickiness===t.stickiness&&this.className===t.className&&this.glyphMarginHoverMessage===t.glyphMarginHoverMessage&&this.isWholeLine===t.isWholeLine&&this.showInOverviewRuler===t.showInOverviewRuler&&this.glyphMarginClassName===t.glyphMarginClassName&&this.linesDecorationsClassName===t.linesDecorationsClassName&&this.inlineClassName===t.inlineClassName&&this.beforeContentClassName===t.beforeContentClassName&&this.afterContentClassName===t.afterContentClassName&&n.markedStringsEquals(this.hoverMessage,t.hoverMessage)&&e._overviewRulerEquals(this.overviewRuler,t.overviewRuler)},e}(),y=function(){function e(e,t,i){this.index=e,this.range=t,this.options=i}return e}(),E=function(){function e(e,t){this.color=o.empty,this.darkColor=o.empty,this.position=a.OverviewRulerLane.Center,t&&(this.color=t),e&&e.color&&(this.color=e.color),e&&e.darkColor&&(this.darkColor=e.darkColor),e&&e.hasOwnProperty("position")&&(this.position=e.position)}return e}()}),define(l[409],d([1,0,14,11,339,297,408,9]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i,r){t.push(n.EventType.ModelRawContentChanged),t.push(n.EventType.ModelContentChanged2),e.call(this,t,i,r),this._commandManager=new o.EditStack(this),this._isUndoing=!1,this._isRedoing=!1,this._hasEditableRange=!1,this._editableRangeId=null,this._trimAutoWhitespaceLines=null}return h(t,e),t.prototype.onDidChangeRawContent=function(e){return this.addListener2(n.EventType.ModelRawContentChanged,e)},t.prototype.onDidChangeContent=function(e){return this.addListener2(n.EventType.ModelContentChanged2,e)},t.prototype.dispose=function(){this._commandManager=null,e.prototype.dispose.call(this)},t.prototype._resetValue=function(t,i){e.prototype._resetValue.call(this,t,i),this._commandManager=new o.EditStack(this),this._hasEditableRange=!1,this._editableRangeId=null,this._trimAutoWhitespaceLines=null},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){var o=this;return this.deferredEmit(function(){if(o._options.trimAutoWhitespace&&o._trimAutoWhitespaceLines){for(var r=t.map(function(e){return{range:o.validateRange(e.range),text:e.text}}),s=!0,a=0,c=e.length;a<c;a++){for(var u=e[a],l=!1,d=0,h=r.length;d<h;d++){var p=r[d].range,f=p.startLineNumber>u.endLineNumber,g=u.startLineNumber>p.endLineNumber;if(!f&&!g){l=!0;break}}if(!l){s=!1;break}}if(s)for(var a=0,c=o._trimAutoWhitespaceLines.length;a<c;a++){for(var m=o._trimAutoWhitespaceLines[a],v=o.getLineMaxColumn(m),y=!0,d=0,h=r.length;d<h;d++){var p=r[d].range,E=r[d].text;if(!(m<p.startLineNumber||m>p.endLineNumber||m===p.startLineNumber&&p.startColumn===v&&p.isEmpty()&&E&&E.length>0&&"\n"===E.charAt(0))){y=!1;break}}y&&t.push({identifier:null,range:new i.Range(m,1,m,v),text:null,forceMoveMarkers:!1,isAutoWhitespaceEdit:!1})}o._trimAutoWhitespaceLines=null}return o._commandManager.pushEditOperation(e,t,n)})},t.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},t.prototype._toSingleEditOperation=function(e){for(var t=!1,n=e[0].range,o=e[e.length-1].range,r=new i.Range(n.startLineNumber,n.startColumn,o.endLineNumber,o.endColumn),s=n.startLineNumber,a=n.startColumn,c=[],u=0,l=e.length;u<l;u++){
var d=e[u],h=d.range;t=t||d.forceMoveMarkers;for(var p=s;p<h.startLineNumber;p++)p===s?c.push(this._lines[p-1].text.substring(a-1)):(c.push("\n"),c.push(this._lines[p-1].text));if(h.startLineNumber===s?c.push(this._lines[h.startLineNumber-1].text.substring(a-1,h.startColumn-1)):(c.push("\n"),c.push(this._lines[h.startLineNumber-1].text.substring(0,h.startColumn-1))),d.lines)for(var f=0,g=d.lines.length;f<g;f++)0!==f&&c.push("\n"),c.push(d.lines[f]);s=d.range.endLineNumber,a=d.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:r,rangeLength:this.getValueLengthInRange(r),lines:c.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},t._sortOpsAscending=function(e,t){var n=i.Range.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n},t._sortOpsDescending=function(e,t){var n=i.Range.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n},t.prototype.applyEdits=function(e){if(0===e.length)return[];for(var i=[],n=0;n<e.length;n++){var o=e[n],r=this.validateRange(o.range);i[n]={sortIndex:n,identifier:o.identifier,range:r,rangeLength:this.getValueLengthInRange(r),lines:o.text?o.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:o.forceMoveMarkers,isAutoWhitespaceEdit:o.isAutoWhitespaceEdit||!1}}i.sort(t._sortOpsAscending);for(var n=0,s=i.length-1;n<s;n++){var c=i[n].range.getEndPosition(),u=i[n+1].range.getStartPosition();if(u.isBefore(c))throw new Error("Overlapping ranges are not allowed!")}i=this._reduceOperations(i);for(var l=this.getEditableRange(),d=l.getStartPosition(),h=l.getEndPosition(),n=0;n<i.length;n++){var p=i[n].range;if(!d.isBeforeOrEqual(p.getStartPosition())||!p.getEndPosition().isBeforeOrEqual(h))throw new Error("Editing outside of editable range not allowed!")}for(var f=t._getInverseEditRanges(i),g=[],m=[],n=0;n<i.length;n++){var o=i[n],v=f[n];if(g[n]={identifier:o.identifier,range:v,text:this.getValueInRange(o.range),forceMoveMarkers:o.forceMoveMarkers},this._options.trimAutoWhitespace&&o.isAutoWhitespaceEdit&&o.range.isEmpty())for(var y=v.startLineNumber;y<=v.endLineNumber;y++){var E="";y===v.startLineNumber&&(E=this.getLineContent(o.range.startLineNumber),a.firstNonWhitespaceIndex(E)!==-1)||m.push({lineNumber:y,oldContent:E})}}if(this._applyEdits(i),this._trimAutoWhitespaceLines=null,this._options.trimAutoWhitespace&&m.length>0){m.sort(function(e,t){return t.lineNumber-e.lineNumber}),this._trimAutoWhitespaceLines=[];for(var n=0,S=m.length;n<S;n++){var y=m[n].lineNumber;if(!(n>0&&m[n-1].lineNumber===y)){var b=m[n].oldContent,_=this.getLineContent(y);0!==_.length&&_!==b&&a.firstNonWhitespaceIndex(_)===-1&&this._trimAutoWhitespaceLines.push(y)}}}return g},t._getInverseEditRanges=function(e){for(var t,n,o=[],r=null,s=0,a=e.length;s<a;s++){var c=e[s],u=void 0,l=void 0;r?r.range.endLineNumber===c.range.startLineNumber?(u=t,l=n+(c.range.startColumn-r.range.endColumn)):(u=t+(c.range.startLineNumber-r.range.endLineNumber),l=c.range.startColumn):(u=c.range.startLineNumber,l=c.range.startColumn);var d=void 0;if(c.lines&&c.lines.length>0){var h=c.lines.length,p=c.lines[0],f=c.lines[h-1];d=1===h?new i.Range(u,l,u,l+p.length):new i.Range(u,l,u+h-1,f.length+1)}else d=new i.Range(u,l,u,l);t=d.endLineNumber,n=d.endColumn,o.push(d),r=c}return o},t.prototype._applyEdits=function(e){var o=this,s=this._options.tabSize;e.sort(t._sortOpsDescending),this._withDeferredEvents(function(t){for(var a=[],c=[],u=[],l=function(e){e.startColumn===e.endColumn&&0===e.text.length||u.push(e)},d=function(){if(0!==u.length){u.reverse();for(var e=u[0].lineNumber,i=0,n=1,r=u.length;n<r;n++){var c=u[n].lineNumber;c!==e&&(o._invalidateLine(e-1),o._lines[e-1].applyEdits(t.changedMarkers,u.slice(i,n),s),o._lineStarts&&o._lineStarts.changeValue(e-1,o._lines[e-1].text.length+o._EOL.length),a.push(o._createLineChangedEvent(e)),e=c,i=n)}o._invalidateLine(e-1),o._lines[e-1].applyEdits(t.changedMarkers,u.slice(i,u.length),s),o._lineStarts&&o._lineStarts.changeValue(e-1,o._lines[e-1].text.length+o._EOL.length),a.push(o._createLineChangedEvent(e)),u=[]}},h=e[e.length-1].range.startLineNumber,p=e[0].range.endLineNumber+1,f=0,g=0,m=e.length;g<m;g++){var v=e[g],y=v.range.startLineNumber,E=v.range.startColumn,S=v.range.endLineNumber,b=v.range.endColumn;if(y!==S||E!==b||v.lines&&0!==v.lines.length){var _=S-y,C=v.lines?v.lines.length-1:0,w=Math.min(_,C);f+=C-_;for(var I=w;I>=0;I--){var T=y+I;l({lineNumber:T,startColumn:T===y?E:1,endColumn:T===S?b:o.getLineMaxColumn(T),text:v.lines?v.lines[I]:"",forceMoveMarkers:v.forceMoveMarkers})}if(w<_){d();var A=y+w,L=o.getLineMaxColumn(A),D=o._lines[S-1].split(t.changedMarkers,b,!1,s);o._invalidateLine(A-1);for(var k=S-A,x=[],I=0;I<k;I++){var M=A+I;x=x.concat(o._lines[M].deleteLine(t.changedMarkers,L,M+1))}o._lines.splice(A,k),o._lineStarts&&o._lineStarts.removeValues(A,k),o._lines[A-1].append(t.changedMarkers,D,s),o._lineStarts&&o._lineStarts.changeValue(A-1,o._lines[A-1].text.length+o._EOL.length),o._lines[A-1].addMarkers(x),a.push(o._createLineChangedEvent(A)),a.push(o._createLinesDeletedEvent(A+1,A+k))}if(w<C){d();var R=y+w,O=R===y?E:1;v.lines&&(O+=v.lines[w].length);var P=o._lines[R-1].split(t.changedMarkers,O,v.forceMoveMarkers,s);o._lineStarts&&o._lineStarts.changeValue(R-1,o._lines[R-1].text.length+o._EOL.length),a.push(o._createLineChangedEvent(R)),o._invalidateLine(R-1);for(var N=[],F=[],I=w+1;I<=C;I++){var W=y+I;o._lines.splice(W-1,0,new r.ModelLine(W,v.lines[I],s)),N.push(v.lines[I]),F.push(v.lines[I].length+o._EOL.length)}N[N.length-1]+=P.text,o._lineStarts&&o._lineStarts.insertValues(y+w,F),o._lines[y+C-1].append(t.changedMarkers,P,s),o._lineStarts&&o._lineStarts.changeValue(y+C-1,o._lines[y+C-1].text.length+o._EOL.length),a.push(o._createLinesInsertedEvent(R+1,y+C,N.join("\n")))}c.push({range:new i.Range(y,E,S,b),rangeLength:v.rangeLength,text:v.lines?v.lines.join(o.getEOL()):"",eol:o._EOL,versionId:-1,isUndoing:o._isUndoing,isRedoing:o._isRedoing})}}d(),p=Math.max(1,Math.min(o.getLineCount(),p+f)),0!==f&&(p=o.getLineCount());for(var B=h;B<=p;B++)o._lines[B-1].updateLineNumber(t.changedMarkers,B);if(0!==a.length||0!==c.length){0===a.length&&a.push(o._createLineChangedEvent(h));var K=Math.max(a.length,c.length),V=o.getVersionId()+K;o._setVersionId(V);for(var g=a.length-1,H=V;g>=0;g--,H--)a[g].versionId=H;for(var g=c.length-1,H=V;g>=0;g--,H--)c[g].versionId=H;for(var g=0,m=a.length;g<m;g++)o.emit(n.EventType.ModelRawContentChanged,a[g]);for(var g=0,m=c.length;g<m;g++)o.emit(n.EventType.ModelContentChanged2,c[g])}o._resetIndentRanges()})},t.prototype._assertLineNumbersOK=function(){for(var e=0,t=0,i=this._lines.length;t<i;t++){var n=this._lines[t],o=t+1;if(n.lineNumber!==o)throw new Error("Invalid lineNumber at line: "+o+"; text is: "+this.getValue());for(var r=n.getMarkers(),s=0,a=r.length;s<a;s++){e++;var c=r[s].id,u=this._markerIdToMarker[c];if(u.line!==n)throw new Error("Misplaced marker with id "+c)}}var l=Object.keys(this._markerIdToMarker).length;if(l!==e)throw new Error("There are misplaced markers!")},t.prototype.undo=function(){var e=this;return this._withDeferredEvents(function(){e._isUndoing=!0;var t=e._commandManager.undo();return e._isUndoing=!1,t?(e._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null})},t.prototype.redo=function(){var e=this;return this._withDeferredEvents(function(){e._isRedoing=!0;var t=e._commandManager.redo();return e._isRedoing=!1,t?(e._overwriteAlternativeVersionId(t.recordedVersionId),t.selections):null})},t.prototype.setEditableRange=function(e){this._commandManager.clear(),this._hasEditableRange&&(this.removeTrackedRange(this._editableRangeId),this._editableRangeId=null,this._hasEditableRange=!1),e&&(this._hasEditableRange=!0,this._editableRangeId=this.addTrackedRange(e,n.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges))},t.prototype.hasEditableRange=function(){return this._hasEditableRange},t.prototype.getEditableRange=function(){return this._hasEditableRange?this.getTrackedRange(this._editableRangeId):this.getFullModelRange()},t.prototype._createLineChangedEvent=function(e){return{changeType:n.EventType.ModelRawContentChangedLineChanged,lineNumber:e,detail:this._lines[e-1].text,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing}},t.prototype._createLinesDeletedEvent=function(e,t){return{changeType:n.EventType.ModelRawContentChangedLinesDeleted,fromLineNumber:e,toLineNumber:t,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing}},t.prototype._createLinesInsertedEvent=function(e,t,i){return{changeType:n.EventType.ModelRawContentChangedLinesInserted,fromLineNumber:e,toLineNumber:t,detail:i,versionId:-1,isUndoing:this._isUndoing,isRedoing:this._isRedoing}},t}(s.TextModelWithDecorations);t.EditableTextModel=c}),define(l[247],d([1,0,19,11,409,157]),function(e,t,i,n,o,r){"use strict";var s=0,a={},c=function(e){function t(t,o,r){if(void 0===r&&(r=null),e.call(this,[n.EventType.ModelDispose],t,o),s++,this.id="$model"+s,"undefined"==typeof r||null===r?this._associatedResource=i["default"].parse("inmemory://model/"+s):this._associatedResource=r,a[String(this._associatedResource)])throw new Error("Cannot instantiate a second Model with the same URI!");this._attachedEditorCount=0,a[String(this._associatedResource)]=!0}return h(t,e),t.prototype.onDidChangeModeSupport=function(e){return this.addListener2(n.EventType.ModelModeSupportChanged,e)},t.prototype.onDidChangeDecorations=function(e){return this.addListener2(n.EventType.ModelDecorationsChanged,e)},t.prototype.onDidChangeOptions=function(e){return this.addListener2(n.EventType.ModelOptionsChanged,e)},t.prototype.onWillDispose=function(e){return this.addListener2(n.EventType.ModelDispose,e)},t.prototype.onDidChangeMode=function(e){return this.addListener2(n.EventType.ModelModeChanged,e)},t.prototype.addBulkListener=function(t){return e.prototype.addBulkListener.call(this,t)},t.createFromString=function(e,i,n,o){void 0===i&&(i=r.TextModel.DEFAULT_CREATION_OPTIONS),void 0===n&&(n=null),void 0===o&&(o=null);var s=r.TextModel.toRawText(e,i);return new t(s,n,o)},t.prototype.getModeId=function(){return this.getMode().getId()},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._isDisposing=!0,delete a[String(this._associatedResource)],this.emit(n.EventType.ModelDispose),e.prototype.dispose.call(this),this._isDisposing=!1},t.prototype.onBeforeAttached=function(){this._attachedEditorCount++,this._warmUpTokens()},t.prototype.onBeforeDetached=function(){this._attachedEditorCount--},t.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},Object.defineProperty(t.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),t}(o.EditableTextModel);t.Model=c}),define(l[411],d([3,4]),function(e,t){return e.create("vs/editor/common/modes/modesRegistry",t)}),define(l[412],d([3,4]),function(e,t){return e.create("vs/editor/common/modes/supports/suggestSupport",t)}),define(l[413],d([3,4]),function(e,t){return e.create("vs/editor/common/services/bulkEdit",t)}),define(l[414],d([3,4]),function(e,t){return e.create("vs/editor/common/services/modeServiceImpl",t)}),define(l[415],d([3,4]),function(e,t){return e.create("vs/editor/common/services/modelServiceImpl",t)}),define(l[416],d([3,4]),function(e,t){return e.create("vs/editor/contrib/accessibility/browser/accessibility",t)}),define(l[417],d([3,4]),function(e,t){return e.create("vs/editor/contrib/carretOperations/common/carretOperations",t)}),define(l[418],d([3,4]),function(e,t){return e.create("vs/editor/contrib/clipboard/browser/clipboard",t)}),define(l[419],d([3,4]),function(e,t){return e.create("vs/editor/contrib/comment/common/comment",t)}),define(l[420],d([3,4]),function(e,t){return e.create("vs/editor/contrib/contextmenu/browser/contextmenu",t)}),define(l[421],d([3,4]),function(e,t){return e.create("vs/editor/contrib/defineKeybinding/browser/defineKeybinding",t)}),define(l[422],d([3,4]),function(e,t){return e.create("vs/editor/contrib/find/browser/findWidget",t)}),define(l[423],d([1,0,422,7,13,9,10,283,106,100,53,310,824]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=i.localize(0,null),f=i.localize(1,null),g=i.localize(2,null),m=i.localize(3,null),v=i.localize(4,null),y=i.localize(5,null),E=i.localize(6,null),S=i.localize(7,null),b=i.localize(8,null),_=i.localize(9,null),C=i.localize(10,null),w=i.localize(11,null),I=i.localize(12,null),T=i.localize(13,null),A=function(e){function t(t,i,n,o,r){var s=this;e.call(this),this._codeEditor=t,this._controller=i,this._state=n,this._contextViewProvider=o,this._keybindingService=r,this._isVisible=!1,this._isReplaceVisible=!1,this._register(this._state.addChangeListener(function(e){return s._onStateChanged(e)})),this._buildDomNode(),this._updateButtons(),this._register(this._codeEditor.onDidChangeConfiguration(function(e){e.readOnly&&(s._codeEditor.getConfiguration().readOnly&&s._state.change({isReplaceRevealed:!1},!1),s._updateButtons())})),this._register(this._codeEditor.onDidChangeCursorSelection(function(){s._isVisible&&s._updateToggleSelectionFindButton()})),this._codeEditor.addOverlayWidget(this)}return h(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:l.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}:null},t.prototype._onStateChanged=function(e){if(e.searchString&&(this._findInput.setValue(this._state.searchString),this._updateButtons()),e.replaceString&&(this._replaceInputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal(!0):this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getConfiguration().readOnly||this._isReplaceVisible||(this._isReplaceVisible=!0,this._updateButtons()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;s.toggleClass(this._domNode,"no-results",t),this._updateMatchesCount()}},t.prototype._updateMatchesCount=function(){this._state.matchesCount>=d.MATCHES_LIMIT?this._matchesCount.title=w:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);var e;if(this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=d.MATCHES_LIMIT&&(t+="+");var i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=r.format(I,i,t)}else e=T;this._matchesCount.appendChild(document.createTextNode(e))},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&e.startLineNumber!==e.endLineNumber,i=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(i||t))},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0;this._prevBtn.setEnabled(this._isVisible&&e),this._nextBtn.setEnabled(this._isVisible&&e),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),s.toggleClass(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var t=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&t)},t.prototype._reveal=function(e){var t=this;this._isVisible||(this._isVisible=!0,this._updateButtons(),setTimeout(function(){s.addClass(t._domNode,"visible"),e||(s.addClass(t._domNode,"noanimation"),setTimeout(function(){s.removeClass(t._domNode,"noanimation")},200))},0),this._codeEditor.layoutOverlayWidget(this))},t.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),s.removeClass(this._domNode,"visible"),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this))},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInputBox.select(),this._replaceInputBox.focus()},t.prototype._onFindInputKeyDown=function(e){switch(e.asKeybinding()){case o.CommonKeybindings.ENTER:return this._codeEditor.getAction(d.FIND_IDS.NextMatchFindAction).run().done(null,n.onUnexpectedError),void e.preventDefault();case o.CommonKeybindings.SHIFT_ENTER:return this._codeEditor.getAction(d.FIND_IDS.PreviousMatchFindAction).run().done(null,n.onUnexpectedError),void e.preventDefault();case o.CommonKeybindings.TAB:return this._isReplaceVisible?this._replaceInputBox.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault();case o.CommonKeybindings.CTRLCMD_DOWN_ARROW:return this._codeEditor.focus(),void e.preventDefault()}},t.prototype._onReplaceInputKeyDown=function(e){switch(e.asKeybinding()){case o.CommonKeybindings.ENTER:return this._controller.replace(),void e.preventDefault();case o.CommonKeybindings.CTRLCMD_ENTER:return this._controller.replaceAll(),void e.preventDefault();case o.CommonKeybindings.TAB:return this._findInput.focusOnCaseSensitive(),void e.preventDefault();case o.CommonKeybindings.SHIFT_TAB:return this._findInput.focus(),void e.preventDefault();case o.CommonKeybindings.CTRLCMD_DOWN_ARROW:return this._codeEditor.focus(),void e.preventDefault()}},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybindings(e);return 0===t.length?"":" ("+this._keybindingService.getLabelFor(t[0])+")"},t.prototype._buildFindPart=function(){var e=this;this._findInput=this._register(new a.FindInput(null,this._contextViewProvider,{width:t.FIND_INPUT_AREA_WIDTH,label:p,placeholder:f,appendCaseSensitiveLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleRegexCommand),validation:function(t){if(0===t.length)return null;if(!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(i){return{content:i.message}}}})),this._register(this._findInput.onKeyDown(function(t){return e._onFindInputKeyDown(t)})),this._register(this._findInput.onInput(function(){e._state.change({searchString:e._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(function(t){t.equals(o.CommonKeybindings.SHIFT_TAB)&&e._isReplaceVisible&&(e._replaceInputBox.focus(),t.preventDefault())})),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new D({label:g+this._keybindingLabelFor(d.FIND_IDS.PreviousMatchFindAction),className:"previous",onTrigger:function(){e._codeEditor.getAction(d.FIND_IDS.PreviousMatchFindAction).run().done(null,n.onUnexpectedError)},onKeyDown:function(e){}})),this._nextBtn=this._register(new D({label:m+this._keybindingLabelFor(d.FIND_IDS.NextMatchFindAction),className:"next",onTrigger:function(){e._codeEditor.getAction(d.FIND_IDS.NextMatchFindAction).run().done(null,n.onUnexpectedError)},onKeyDown:function(e){}}));var i=document.createElement("div");return i.className="find-part",i.appendChild(this._findInput.domNode),i.appendChild(this._matchesCount),i.appendChild(this._prevBtn.domNode),i.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new L({parent:i,title:v,onChange:function(){if(e._toggleSelectionFind.checked){var t=e._codeEditor.getSelection();t.isEmpty()||e._state.change({searchScope:t},!0)}else e._state.change({searchScope:null},!0)}})),this._closeBtn=this._register(new D({label:y+this._keybindingLabelFor(d.FIND_IDS.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){e._state.change({isRevealed:!1},!1)},onKeyDown:function(t){t.equals(o.CommonKeybindings.TAB)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),i.appendChild(this._closeBtn.domNode),i},t.prototype._buildReplacePart=function(){var e=this,i=document.createElement("div");i.className="replace-input",i.style.width=t.REPLACE_INPUT_AREA_WIDTH+"px",this._replaceInputBox=this._register(new c.InputBox(i,null,{ariaLabel:E,placeholder:S})),this._register(s.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(t){return e._onReplaceInputKeyDown(t)})),this._register(s.addStandardDisposableListener(this._replaceInputBox.inputElement,"input",function(t){e._state.change({replaceString:e._replaceInputBox.value},!1)})),this._replaceBtn=this._register(new D({label:b+this._keybindingLabelFor(d.FIND_IDS.ReplaceOneAction),className:"replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(o.CommonKeybindings.SHIFT_TAB)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new D({label:_+this._keybindingLabelFor(d.FIND_IDS.ReplaceAllAction),className:"replace-all",onTrigger:function(){e._controller.replaceAll()},onKeyDown:function(e){}}));var n=document.createElement("div");return n.className="replace-part",n.appendChild(i),n.appendChild(this._replaceBtn.domNode),n.appendChild(this._replaceAllBtn.domNode),n},t.prototype._buildDomNode=function(){var e=this,t=this._buildFindPart(),i=this._buildReplacePart();this._toggleReplaceBtn=this._register(new D({label:C,className:"toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!0)},onKeyDown:function(e){}})),this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","false"),this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(t),this._domNode.appendChild(i)},t.ID="editor.contrib.findWidget",t.PART_WIDTH=275,t.FIND_INPUT_AREA_WIDTH=t.PART_WIDTH-54,t.REPLACE_INPUT_AREA_WIDTH=t.FIND_INPUT_AREA_WIDTH,t}(u.Widget);t.FindWidget=A;var L=function(e){function t(i){var n=this;e.call(this),this._opts=i,this._domNode=document.createElement("div"),this._domNode.className="monaco-checkbox",this._domNode.title=this._opts.title,this._checkbox=document.createElement("input"),this._checkbox.type="checkbox",this._checkbox.className="checkbox",this._checkbox.id="checkbox-"+t._COUNTER++,this._label=document.createElement("label"),this._label.className="label",this._label.htmlFor=this._checkbox.id,this._domNode.appendChild(this._checkbox),this._domNode.appendChild(this._label),this._opts.parent.appendChild(this._domNode),this.onchange(this._checkbox,function(e){n._opts.onChange()})}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(e){this._checkbox.checked=e},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._checkbox.focus()},t.prototype.enable=function(){this._checkbox.removeAttribute("disabled")},t.prototype.disable=function(){this._checkbox.disabled=!0},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t._COUNTER=0,t}(u.Widget),D=function(e){function t(t){var i=this;e.call(this),this._opts=t,this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className="button "+this._opts.className,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,function(e){i._opts.onTrigger(),e.preventDefault()}),this.onkeydown(this._domNode,function(e){return e.equals(o.CommonKeybindings.SPACE)||e.equals(o.CommonKeybindings.ENTER)?(i._opts.onTrigger(),void e.preventDefault()):void i._opts.onKeyDown(e)})}return h(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){s.toggleClass(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(e))},t.prototype.toggleClass=function(e,t){s.toggleClass(this._domNode,e,t)},t}(u.Widget)}),define(l[424],d([3,4]),function(e,t){return e.create("vs/editor/contrib/find/common/findController",t)}),define(l[425],d([3,4]),function(e,t){return e.create("vs/editor/contrib/folding/browser/folding",t)}),define(l[426],d([3,4]),function(e,t){return e.create("vs/editor/contrib/format/common/formatActions",t)}),define(l[427],d([3,4]),function(e,t){return e.create("vs/editor/contrib/goToDeclaration/browser/goToDeclaration",t)}),define(l[428],d([3,4]),function(e,t){return e.create("vs/editor/contrib/gotoError/browser/gotoError",t)}),define(l[429],d([3,4]),function(e,t){return e.create("vs/editor/contrib/hover/browser/hover",t)}),define(l[430],d([3,4]),function(e,t){return e.create("vs/editor/contrib/hover/browser/modesContentHover",t)}),define(l[431],d([3,4]),function(e,t){return e.create("vs/editor/contrib/inPlaceReplace/common/inPlaceReplace",t)}),define(l[432],d([3,4]),function(e,t){return e.create("vs/editor/contrib/indentation/common/indentation",t)}),define(l[433],d([3,4]),function(e,t){return e.create("vs/editor/contrib/linesOperations/common/linesOperations",t)}),define(l[434],d([3,4]),function(e,t){return e.create("vs/editor/contrib/links/browser/links",t)}),define(l[435],d([3,4]),function(e,t){return e.create("vs/editor/contrib/multicursor/common/multicursor",t)}),define(l[436],d([3,4]),function(e,t){return e.create("vs/editor/contrib/parameterHints/browser/parameterHints",t)}),define(l[437],d([3,4]),function(e,t){return e.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",t)}),define(l[438],d([3,4]),function(e,t){return e.create("vs/editor/contrib/quickFix/browser/quickFix",t)}),define(l[439],d([3,4]),function(e,t){return e.create("vs/editor/contrib/quickFix/browser/quickFixSelectionWidget",t)}),define(l[440],d([1,0,439,7,2,10,81,119,53,120,94,5,792]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function p(e){return e&&"object"==typeof e.command&&"string"==typeof e.command.title}function f(e){return i.localize(0,null,e.command.title)}function g(e,t){return 19}var m=r.emmet,v=function(){function e(e,t){this.parent=e,this.message=t}return e}();t.Message=v;var y=function(){function e(e){this.child=new v(this,e)}return e}();t.MessageRoot=y;var E=function(){function e(){this.root=null}return e.prototype.isRoot=function(e){return e instanceof y||!(e instanceof v)&&(!!Array.isArray(e)&&(this.root=e,!0))},e.prototype.getId=function(e,t){if(t instanceof y)return"messageroot";if(t instanceof v)return"message"+t.message;if(Array.isArray(t))return"root";if(p(t))return t.id;throw n.illegalArgument("element")},e.prototype.getParent=function(e,t){return t instanceof y?o.TPromise.as(null):t instanceof v?o.TPromise.as(t.parent):o.TPromise.as(this.isRoot(t)?null:this.root)},e.prototype.getChildren=function(e,t){return t instanceof y?o.TPromise.as([t.child]):t instanceof v?o.TPromise.as([]):o.TPromise.as(this.isRoot(t)?t:[])},e.prototype.hasChildren=function(e,t){return this.isRoot(t)},e}(),S=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.onLeftClick=function(e,t,i){return i.preventDefault(),i.stopPropagation(),t instanceof v||e.setSelection([t],{origin:"mouse"}),!0},t}(s.DefaultController),b=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){if(p(t))return f(t)},e}();t.AccessibilityProvider=b;var _=function(){function e(){}return e.prototype.getHeight=function(e,t){return g(e,t)},e.prototype.getTemplateId=function(e,t){return t instanceof v?"message":"default"},e.prototype.renderTemplate=function(e,t,i){if("message"===t){var n=r.append(i,m("span"));return n.style.opacity="0.7",n.style.paddingLeft="12px",{element:n}}var o={},s=r.append(i,m(".text"));o.main=r.append(s,m(".main"));var a=r.append(s,m(".docs"));return o.documentationLabel=r.append(a,m("span.docs-label")),o},e.prototype.renderElement=function(e,t,i,n){if("message"===i)return void(n.element.textContent=t.message);var o=t;n.main.textContent=o.command.title,n.documentationLabel.textContent=""},e.prototype.disposeTemplate=function(e,t,i){},e}(),C=function(){function e(t,o,r,s){var c=this;this.allowEditorOverflow=!0,this.editor=t,this._onShown=r,this._onHidden=s,this.shouldShowEmptyList=!0,this.isActive=!1,this.isLoading=!1,this.isAuto=!1,this.modelListenersToRemove=[],this.model=null,this.telemetryData=Object.create(null),this.telemetryService=o,this.listenersToRemove=[],this.domnode=m(".editor-widget.quickfix-widget.monaco-editor-background.no-icons"),this.domnode.style.width=e.WIDTH+"px",this.tree=new a.Tree(this.domnode,{dataSource:new E,renderer:new _,controller:new S,accessibilityProvider:new b},{twistiePixels:0,alwaysFocused:!0,verticalScrollMode:l.ScrollbarVisibility.Visible,useShadows:!1,ariaLabel:i.localize(3,null)}),this.listenersToRemove.push(this.tree.addListener2("selection",function(e){if(e.selection&&e.selection.length>0){var t=e.selection[0];!p(t)||t instanceof y||t instanceof v||(c.telemetryData.selectedIndex=c.tree.getInput().indexOf(t),c.telemetryData.wasCancelled=!1,c.submitTelemetryData(),u.alert(i.localize(4,null,t.command.title)),c.model.accept(t,c.range),c.editor.focus())}}));var d=null;this.listenersToRemove.push(this.tree.addListener2("focus",function(e){var t=e.focus,i=e.payload;if(t!==d){var o=[];d&&o.push(d),t&&(o.push(t),p(t)&&c._ariaAlert(f(t))),d=t,c.tree.refreshAll(o).done(function(){if(c.updateWidgetHeight(),t)return c.tree.reveal(t,i&&i.firstSuggestion?0:null)},n.onUnexpectedError)}})),this.editor.addContentWidget(this),this.listenersToRemove.push(this.editor.onDidChangeCursorSelection(function(e){c.isActive&&c.editor.layoutContentWidget(c)})),this.hide()}return e.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&u.alert(this._lastAriaAlertLabel))},e.prototype.setModel=function(t){var i=this;this.releaseModel(),this.model=t;var o,s=null;this.modelListenersToRemove.push(this.model.addListener2("loading",function(t){i.isActive||(s=i.telemetryService.timedPublicLog("QuickFixSelectionWidgetLoadingTime"),i.isLoading=!0,i.isAuto=!!t.auto,i.isAuto||(o=setTimeout(function(){r.removeClass(i.domnode,"empty"),i.tree.setInput(e.LOADING_MESSAGE).done(null,n.onUnexpectedError),i.updateWidgetHeight(),i.show()},50)),t.retrigger||(i.telemetryData={wasAutomaticallyTriggered:t.characterTriggered}))})),this.modelListenersToRemove.push(this.model.addListener2("suggest",function(e){i.isLoading=!1,"undefined"!=typeof o&&(clearTimeout(o),o=void 0);for(var t=e.fixes,a=-1,c=t[0],u=-1,l=0,d=t.length;l<d;l++){var h=t[l],p=h.score;p>u&&(u=p,c=h,a=l);
}r.removeClass(i.domnode,"empty"),i.tree.setInput(t).done(null,n.onUnexpectedError),i.tree.setFocus(c,{firstSuggestion:!0}),i.updateWidgetHeight(),i.range=e.range,i.show(),i.telemetryData=i.telemetryData||{},i.telemetryData.suggestionCount=t.length,i.telemetryData.suggestedIndex=a,s&&(s.data={reason:"results"},s.stop(),s=null)})),this.modelListenersToRemove.push(this.model.addListener2("empty",function(t){var a=i.isLoading;i.isLoading=!1,"undefined"!=typeof o&&(clearTimeout(o),o=void 0),t.auto?i.hide():a?i.shouldShowEmptyList?(r.removeClass(i.domnode,"empty"),i.tree.setInput(e.NO_SUGGESTIONS_MESSAGE).done(null,n.onUnexpectedError),i.updateWidgetHeight(),i.show()):i.hide():r.addClass(i.domnode,"empty"),s&&(s.data={reason:"empty"},s.stop(),s=null)})),this.modelListenersToRemove.push(this.model.addListener2("cancel",function(e){i.isLoading=!1,"undefined"!=typeof o&&(clearTimeout(o),o=void 0),e.retrigger||(i.hide(),i.telemetryData&&(i.telemetryData.selectedIndex=-1,i.telemetryData.wasCancelled=!0,i.submitTelemetryData())),s&&(s.data={reason:"cancel"},s.stop(),s=null)}))},e.prototype.selectNextPage=function(){return this.isLoading?!this.isAuto:!!this.isActive&&(this.tree.focusNextPage(),!0)},e.prototype.selectNext=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusNext(1),e===this.tree.getFocus()&&this.tree.focusFirst(),!0}return!1},e.prototype.selectPreviousPage=function(){return this.isLoading?!this.isAuto:!!this.isActive&&(this.tree.focusPreviousPage(),!0)},e.prototype.selectPrevious=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return this.tree.focusPrevious(1),e===this.tree.getFocus()&&this.tree.focusLast(),!0}return!1},e.prototype.acceptSelectedSuggestion=function(){if(this.isLoading)return!this.isAuto;if(this.isActive){var e=this.tree.getFocus();return e?this.tree.setSelection([e]):this.model.cancelDialog(),!0}return!1},e.prototype.releaseModel=function(){this.modelListenersToRemove=d.dispose(this.modelListenersToRemove),this.model=null},e.prototype.show=function(){this.isActive=!0,this.tree.layout(),this.editor.layoutContentWidget(this),this._onShown()},e.prototype.hide=function(){this._onHidden(),this.isActive=!1,this.editor.layoutContentWidget(this)},e.prototype.getPosition=function(){return this.isActive?{position:this.editor.getPosition(),preference:[c.ContentWidgetPositionPreference.BELOW,c.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.getDomNode=function(){return this.domnode},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("QuickFixSelectionWidget",this.telemetryData),this.telemetryData=Object.create(null)},e.prototype.updateWidgetHeight=function(){var t,i=this.tree.getInput();if(i===e.LOADING_MESSAGE||i===e.NO_SUGGESTIONS_MESSAGE)t=19;else{var n=i;t=19*Math.min(n.length-1,11);var o=this.tree.getFocus();t+=o?g(this.tree,o):19}this.domnode.style.height=t+"px",this.tree.layout(t),this.editor.layoutContentWidget(this)},e.prototype.destroy=function(){this.releaseModel(),this.domnode=null,this.tree.dispose(),this.tree=null,this.listenersToRemove=d.dispose(this.listenersToRemove)},e.ID="editor.widget.QuickFixSelectionWidget",e.WIDTH=360,e.LOADING_MESSAGE=new y(i.localize(1,null)),e.NO_SUGGESTIONS_MESSAGE=new y(i.localize(2,null)),e}();t.QuickFixSelectionWidget=C}),define(l[441],d([3,4]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referenceSearch",t)}),define(l[442],d([3,4]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesController",t)}),define(l[443],d([3,4]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/browser/referencesWidget",t)}),define(l[444],d([3,4]),function(e,t){return e.create("vs/editor/contrib/rename/browser/rename",t)}),define(l[445],d([3,4]),function(e,t){return e.create("vs/editor/contrib/rename/browser/renameInputField",t)}),define(l[446],d([1,0,445,7,5,2,14,53,784]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(){function e(e){this.allowEditorOverflow=!0,this._currentAcceptInput=null,this._currentCancelInput=null,this._editor=e,this._editor.addContentWidget(this)}return e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){return this._domNode||(this._inputField=document.createElement("input"),this._inputField.className="rename-input",this._inputField.type="text",this._inputField.setAttribute("aria-label",i.localize(0,null)),this._domNode=document.createElement("div"),this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px",this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputField)),this._domNode},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[a.ContentWidgetPositionPreference.BELOW,a.ContentWidgetPositionPreference.ABOVE]}:null},e.prototype.acceptInput=function(){this._currentAcceptInput&&this._currentAcceptInput()},e.prototype.cancelInput=function(){this._currentCancelInput&&this._currentCancelInput()},e.prototype.getInput=function(e,t,i,a){var c=this;this._position={lineNumber:e.startLineNumber,column:e.startColumn},this._inputField.value=t,this._inputField.setAttribute("selectionStart",i.toString()),this._inputField.setAttribute("selectionEnd",a.toString()),this._inputField.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var u,l=[];return u=function(){o.dispose(l),c._hide()},new r.TPromise(function(i,o){c._currentCancelInput=function(){return c._currentAcceptInput=null,c._currentCancelInput=null,o(n.canceled()),!0},c._currentAcceptInput=function(){return 0===c._inputField.value.trim().length||c._inputField.value===t?void c._currentCancelInput():(c._currentAcceptInput=null,c._currentCancelInput=null,void i(c._inputField.value))};var r=function(){s.Range.containsPosition(e,c._editor.getPosition())||c._currentCancelInput()};l.push(c._editor.onDidChangeCursorSelection(r)),l.push(c._editor.onDidBlurEditor(c._currentCancelInput)),c._show()},this._currentCancelInput).then(function(e){return u(),e},function(e){return u(),r.TPromise.wrapError(e)})},e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber),this._visible=!0,this._editor.layoutContentWidget(this),setTimeout(function(){e._inputField.focus(),e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},25)},e.prototype._hide=function(){this._visible=!1,this._editor.layoutContentWidget(this)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c}),define(l[447],d([3,4]),function(e,t){return e.create("vs/editor/contrib/rename/common/rename",t)}),define(l[448],d([3,4]),function(e,t){return e.create("vs/editor/contrib/smartSelect/common/jumpToBracket",t)}),define(l[449],d([3,4]),function(e,t){return e.create("vs/editor/contrib/smartSelect/common/smartSelect",t)}),define(l[450],d([3,4]),function(e,t){return e.create("vs/editor/contrib/suggest/browser/suggest",t)}),define(l[451],d([3,4]),function(e,t){return e.create("vs/editor/contrib/suggest/browser/suggestWidget",t)}),define(l[452],d([3,4]),function(e,t){return e.create("vs/editor/contrib/toggleTabFocusMode/common/toggleTabFocusMode",t)}),define(l[453],d([3,4]),function(e,t){return e.create("vs/editor/contrib/toggleWordWrap/common/toggleWordWrap",t)}),define(l[454],d([3,4]),function(e,t){return e.create("vs/editor/contrib/zoneWidget/browser/peekViewWidget",t)}),define(l[455],d([3,4]),function(e,t){return e.create("vs/editor/node/languageConfiguration",t)}),define(l[456],d([3,4]),function(e,t){return e.create("vs/editor/node/textMate/TMSnippets",t)}),define(l[457],d([3,4]),function(e,t){return e.create("vs/editor/node/textMate/TMSyntax",t)}),define(l[458],d([3,4]),function(e,t){return e.create("vs/languages/html/common/html.contribution",t)}),define(l[459],d([3,4]),function(e,t){return e.create("vs/platform/actions/browser/menuItemActionItem",t)}),define(l[460],d([3,4]),function(e,t){return e.create("vs/platform/actions/browser/menusExtensionPoint",t)}),define(l[461],d([3,4]),function(e,t){return e.create("vs/platform/configuration/common/configurationRegistry",t)}),define(l[462],d([3,4]),function(e,t){return e.create("vs/platform/extensionManagement/common/extensionManagement",t)}),define(l[463],d([3,4]),function(e,t){return e.create("vs/platform/extensions/common/abstractExtensionService",t)}),define(l[464],d([3,4]),function(e,t){return e.create("vs/platform/extensions/common/extensionsRegistry",t)}),define(l[465],d([3,4]),function(e,t){return e.create("vs/platform/jsonschemas/common/jsonContributionRegistry",t)}),define(l[466],d([3,4]),function(e,t){return e.create("vs/platform/jsonschemas/common/jsonValidationExtensionPoint",t)}),define(l[467],d([3,4]),function(e,t){return e.create("vs/platform/keybinding/browser/keybindingServiceImpl",t)}),define(l[468],d([3,4]),function(e,t){return e.create("vs/platform/markers/common/problemMatcher",t)}),define(l[469],d([3,4]),function(e,t){return e.create("vs/platform/message/common/message",t)}),define(l[470],d([3,4]),function(e,t){return e.create("vs/platform/telemetry/common/telemetryService",t)}),define(l[471],d([3,4]),function(e,t){return e.create("vs/workbench/api/node/mainThreadMessageService",t)}),define(l[472],d([3,4]),function(e,t){return e.create("vs/workbench/browser/actions/configureLocale",t)}),define(l[473],d([3,4]),function(e,t){return e.create("vs/workbench/browser/actions/openSettings",t)}),define(l[474],d([3,4]),function(e,t){return e.create("vs/workbench/browser/actions/toggleSidebarPosition",t)}),define(l[475],d([3,4]),function(e,t){return e.create("vs/workbench/browser/actions/toggleSidebarVisibility",t)}),define(l[476],d([3,4]),function(e,t){return e.create("vs/workbench/browser/actions/toggleStatusbarVisibility",t)}),define(l[477],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/activitybar/activityAction",t)}),define(l[478],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/activitybar/activitybarPart",t)}),define(l[479],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/compositePart",t)}),define(l[480],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/binaryDiffEditor",t)}),define(l[481],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/binaryEditor",t)}),define(l[482],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editor.contribution",t)}),define(l[483],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorActions",t)}),define(l[484],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorPart",t)}),define(l[485],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorPicker",t)}),define(l[486],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/editorStatus",t)}),define(l[487],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/stringEditor",t)}),define(l[488],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/tabsTitleControl",t)}),define(l[489],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/textDiffEditor",t)}),define(l[490],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/editor/titleControl",t)}),define(l[491],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/panel/panelPart",t)}),define(l[492],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/quickopen/quickOpenController",t)}),define(l[493],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/sidebar/sidebarPart",t)}),define(l[494],d([3,4]),function(e,t){return e.create("vs/workbench/browser/parts/statusbar/statusbarPart",t)}),define(l[495],d([3,4]),function(e,t){return e.create("vs/workbench/browser/quickopen",t)}),define(l[496],d([3,4]),function(e,t){return e.create("vs/workbench/browser/viewlet",t)}),define(l[497],d([3,4]),function(e,t){return e.create("vs/workbench/common/editor/diffEditorInput",t)}),define(l[498],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/actions",t)}),define(l[499],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/crashReporter",t)}),define(l[500],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/darwin/cli.contribution",t)}),define(l[501],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/integration",t)}),define(l[502],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/main.contribution",t)}),define(l[503],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/shell",t)}),define(l[504],d([3,4]),function(e,t){return e.create("vs/workbench/electron-browser/update",t)}),define(l[505],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/breakpointWidget",t)}),define(l[506],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugEditorContribution",t)}),define(l[507],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugEditorModelManager",t)}),define(l[508],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugHover",t)}),define(l[509],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugViewer",t)}),define(l[510],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/browser/debugViews",t)}),define(l[511],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/common/debugModel",t)}),define(l[512],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debug.contribution",t)}),define(l[513],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugActions",t)}),define(l[514],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/electron-browser/debugService",t)}),define(l[515],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/node/debugAdapter",t)}),define(l[516],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/node/debugConfigurationManager",t)}),define(l[517],d([3,4]),function(e,t){return e.create("vs/workbench/parts/debug/node/rawDebugSession",t)}),define(l[518],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/balance",t)}),define(l[519],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/editPoints",t)}),define(l[520],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/evaluateMath",t)}),define(l[521],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/expandAbbreviation",t)}),define(l[522],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/incrementDecrement",t)}),define(l[523],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/matchingPair",t)}),define(l[524],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/mergeLines",t)}),define(l[525],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/reflectCssValue",t)}),define(l[526],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/removeTag",t)}),define(l[527],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/selectItem",t)}),define(l[528],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/splitJoinTag",t)}),define(l[529],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/toggleComment",t)}),define(l[530],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/updateImageSize",t)}),define(l[531],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/updateTag",t)}),define(l[532],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/actions/wrapWithAbbreviation",t)}),define(l[533],d([3,4]),function(e,t){return e.create("vs/workbench/parts/emmet/node/emmet.contribution",t)}),define(l[534],d([3,4]),function(e,t){return e.create("vs/workbench/parts/execution/electron-browser/terminal.contribution",t)}),define(l[535],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionEditor",t)}),define(l[536],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionTipsService",t)}),define(l[537],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensions.contribution",t)}),define(l[538],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsActions",t)}),define(l[539],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsInput",t)}),define(l[540],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsQuickOpen",t)}),define(l[541],d([3,4]),function(e,t){return e.create("vs/workbench/parts/extensions/electron-browser/extensionsWorkbenchExtension",t)}),define(l[542],d([3,4]),function(e,t){return e.create("vs/workbench/parts/feedback/browser/feedback",t)}),define(l[543],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/editors/binaryFileEditor",t)}),define(l[544],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/editors/textFileEditor",t)}),define(l[545],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileActions",t)}),define(l[546],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileActions.contribution",t)}),define(l[547],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/fileTracker",t)}),define(l[548],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/files.contribution",t)}),define(l[549],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/saveErrorHandler",t)}),define(l[550],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/emptyView",t)}),define(l[551],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/explorerView",t)}),define(l[552],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/explorerViewer",t)}),define(l[553],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/openEditorsView",t)}),define(l[554],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/browser/views/openEditorsViewer",t)}),define(l[555],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/common/editors/textFileEditorModel",t)}),define(l[556],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/electron-browser/electronFileActions",t)}),define(l[557],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/electron-browser/files.electron.contribution",t)}),define(l[558],d([3,4]),function(e,t){return e.create("vs/workbench/parts/files/electron-browser/textFileServices",t)}),define(l[559],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitActions",t)}),define(l[560],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitActions.contribution",t)}),define(l[561],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitQuickOpen",t)}),define(l[562],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitServices",t)}),define(l[563],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitWidgets",t)}),define(l[564],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/browser/gitWorkbenchContributions",t)}),define(l[565],d([3,4]),function(e,t){return e.create("vs/workbench/parts/git/node/git.lib",t)}),define(l[566],d([3,4]),function(e,t){return e.create("vs/workbench/parts/html/browser/html.contribution",t)}),define(l[567],d([3,4]),function(e,t){return e.create("vs/workbench/parts/html/browser/htmlPreviewPart",t)}),define(l[568],d([3,4]),function(e,t){return e.create("vs/workbench/parts/markers/common/messages",t)}),define(l[569],d([3,4]),function(e,t){return e.create("vs/workbench/parts/output/browser/output.contribution",t)}),define(l[570],d([3,4]),function(e,t){return e.create("vs/workbench/parts/output/browser/outputActions",t)}),define(l[571],d([3,4]),function(e,t){return e.create("vs/workbench/parts/output/common/outputEditorInput",t)}),define(l[572],d([3,4]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/commandsHandler",t)}),define(l[573],d([3,4]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/gotoLineHandler",t)}),define(l[574],d([3,4]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/gotoSymbolHandler",t)}),define(l[575],d([3,4]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/helpHandler",t)}),define(l[576],d([3,4]),function(e,t){return e.create("vs/workbench/parts/quickopen/browser/quickopen.contribution",t)}),define(l[577],d([3,4]),function(e,t){return e.create("vs/workbench/parts/search/browser/replaceService",t)}),define(l[578],d([3,4]),function(e,t){return e.create("vs/workbench/parts/search/browser/search.contribution",t)}),define(l[579],d([3,4]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchActions",t)}),define(l[580],d([3,4]),function(e,t){return e.create("vs/workbench/parts/search/browser/searchWidget",t)}),define(l[581],d([3,4]),function(e,t){return e.create("vs/workbench/parts/snippets/electron-browser/snippets.contribution",t)}),define(l[582],d([3,4]),function(e,t){return e.create("vs/workbench/parts/tasks/browser/taskQuickOpen",t)}),define(l[583],d([3,4]),function(e,t){return e.create("vs/workbench/parts/tasks/common/taskTemplates",t)}),define(l[584],d([3,4]),function(e,t){return e.create("vs/workbench/parts/tasks/electron-browser/task.contribution",t)}),define(l[585],d([3,4]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerConfiguration",t)}),define(l[586],d([3,4]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerDetector",t)}),define(l[587],d([3,4]),function(e,t){return e.create("vs/workbench/parts/tasks/node/processRunnerSystem",t)}),define(l[588],d([3,4]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminal.contribution",t)}),define(l[589],d([3,4]),function(e,t){return e.create("vs/workbench/parts/terminal/electron-browser/terminalActions",t)}),define(l[590],d([3,4]),function(e,t){return e.create("vs/workbench/parts/themes/electron-browser/themes.contribution",t)}),define(l[591],d([3,4]),function(e,t){return e.create("vs/workbench/parts/update/electron-browser/update.contribution",t)}),define(l[592],d([3,4]),function(e,t){return e.create("vs/workbench/services/files/electron-browser/fileService",t)}),define(l[593],d([3,4]),function(e,t){return e.create("vs/workbench/services/files/node/fileService",t)}),define(l[594],d([3,4]),function(e,t){return e.create("vs/workbench/services/history/browser/history",t)}),define(l[595],d([3,4]),function(e,t){return e.create("vs/workbench/services/keybinding/electron-browser/keybindingService",t)}),define(l[596],d([3,4]),function(e,t){return e.create("vs/workbench/services/message/electron-browser/messageService",t)}),define(l[597],d([3,4]),function(e,t){return e.create("vs/workbench/services/request/node/requestService",t)}),define(l[598],d([3,4]),function(e,t){return e.create("vs/workbench/services/themes/electron-browser/themeService",t)}),define(l[599],d([3,4]),function(e,t){return e.create("vs/workbench/services/thread/electron-browser/threadService",t)}),define(l[600],d([1,0,2,166,7]),function(e,t,i,n,o){"use strict";function r(e){var t=0;return function(i,n,o){var r=String(++t),s=new u(function(){e(c.cancel(r))});return a[r]=s,e(c.request(r,i,n,o)),s}}function s(e){function t(){var t=h;h=[],e(t)}function o(e){0===h.length&&process.nextTick(t),h.push(e)}function s(e,t,n){try{return i.TPromise.as(l.handle(e,t,n))}catch(o){return i.TPromise.wrapError(o)}}var u=r(o),l=null,d=Object.create(null),h=[],p=[],f=function(){var e=p.shift();p.length>0&&process.nextTick(f);var t=n.parse(e);if(t.seq){if(!a.hasOwnProperty(t.seq))return void console.warn("Got reply to unknown seq");var i=a[t.seq];if(delete a[t.seq],t.err){var r=t.err;return t.err.$isError&&(r=new Error,r.name=t.err.name,r.message=t.err.message,r.stack=t.err.stack),void i.resolveErr(r)}return void i.resolveOk(t.res)}if(t.cancel)return void(d[t.cancel]&&d[t.cancel].cancel());if(t.err)return void console.error(t.err);var u=t.rpcId;if(!l)throw new Error("got message before big handler attached!");var h=t.req;d[h]=s(u,t.method,t.args),d[h].then(function(e){delete d[h],o(c.replyOK(h,e))},function(e){delete d[h],o(c.replyErr(h,e))})},g={callOnRemote:u,setManyHandler:function(e){l=e},handle:function(e){0===p.length&&process.nextTick(f),p=p.concat(e)}};return g}var a={},c=function(){function e(){}return e.cancel=function(e){return'{"cancel":"'+e+'"}'},e.request=function(e,t,i,o){return'{"req":"'+e+'","rpcId":"'+t+'","method":"'+i+'","args":'+n.stringify(o)+"}"},e.replyOK=function(e,t){return"undefined"==typeof t?'{"seq":"'+e+'"}':'{"seq":"'+e+'","res":'+n.stringify(t)+"}"},e.replyErr=function(e,t){return"undefined"==typeof t?'{"seq":"'+e+'","err":null}':'{"seq":"'+e+'","err":'+n.stringify(o.transformErrorForSerialization(t))+"}"},e}(),u=function(){function e(e){this._onCancel=e,this._actual=null,this._actualOk=null,this._actualErr=null,this._hasValue=!1,this._value=null,this._hasErr=!1,this._err=null,this._isCanceled=!1}return e.prototype._ensureActual=function(){var e=this;return this._actual||(this._actual=new i.TPromise(function(t,i){e._actualOk=t,e._actualErr=i},this._onCancel),this._hasValue&&this._actualOk(this._value),this._hasErr&&this._actualErr(this._err)),this._actual},e.prototype.resolveOk=function(e){this._isCanceled||this._hasErr||(this._hasValue=!0,this._value=e,this._actual&&this._actualOk(e))},e.prototype.resolveErr=function(e){this._isCanceled||this._hasValue||(this._hasErr=!0,this._err=e,this._actual&&this._actualErr(e))},e.prototype.then=function(e,t){if(!this._isCanceled)return this._ensureActual().then(e,t)},e.prototype.done=function(e,t){this._isCanceled||this._ensureActual().done(e,t)},e.prototype.cancel=function(){this._hasValue||this._hasErr||(this._isCanceled=!0,this._actual?this._actual.cancel():this._onCancel())},e}();t.create=s}),define(l[70],d([1,0,7]),function(e,t,i){"use strict";var n=function(){function e(e){this._staticArguments=e}return e.prototype.appendStaticArguments=function(e){this._staticArguments.push.apply(this._staticArguments,e)},e.prototype.staticArguments=function(e){return isNaN(e)?this._staticArguments.slice(0):this._staticArguments[e]},e.prototype._validate=function(e){if(!e)throw i.illegalArgument("can not be falsy")},e}();t.AbstractDescriptor=n;var o=function(e){function t(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];e.call(this,i),this._ctor=t}return h(t,e),Object.defineProperty(t.prototype,"ctor",{get:function(){return this._ctor},enumerable:!0,configurable:!0}),t.prototype.bind=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var n=[];return n=n.concat(this.staticArguments()),n=n.concat(e),new(t.bind.apply(t,[void 0].concat([this._ctor],n)))},t}(n);t.SyncDescriptor=o,t.createSyncDescriptor=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new(o.bind.apply(o,[void 0].concat([e],t)))};var r=function(e){function t(t,i){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(e.call(this,n),this._moduleName=t,this._ctorName=i,"string"!=typeof t)throw new Error("Invalid AsyncDescriptor arguments, expected `moduleName` to be a string!")}return h(t,e),t.create=function(e,i){return new t(e,i)},Object.defineProperty(t.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ctorName",{get:function(){return this._ctorName},enumerable:!0,configurable:!0}),t.prototype.bind=function(){for(var e=[],i=0;i<arguments.length;i++)e[i-0]=arguments[i];var n=[];return n=n.concat(this.staticArguments()),n=n.concat(e),new(t.bind.apply(t,[void 0].concat([this.moduleName,this.ctorName],n)))},t}(n);t.AsyncDescriptor=r;var s=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return new(r.bind.apply(r,[void 0].concat([e,t],i)))};t.createAsyncDescriptor0=s,t.createAsyncDescriptor1=s,t.createAsyncDescriptor2=s,t.createAsyncDescriptor3=s,t.createAsyncDescriptor4=s,t.createAsyncDescriptor5=s,t.createAsyncDescriptor6=s,t.createAsyncDescriptor7=s}),define(l[96],d([1,0,70]),function(e,t,i){"use strict";function n(e,t){r.push({id:e,descriptor:new i.SyncDescriptor(t)})}function o(){return r}t.Services="di.services";var r=[];t.registerSingleton=n,t.getServices=o}),define(l[6],d([1,0]),function(e,t){"use strict";function i(e,t,i,n){t[r.DI_TARGET]===t?t[r.DI_DEPENDENCIES].push({id:e,index:i,optional:n}):(t[r.DI_DEPENDENCIES]=[{id:e,index:i,optional:n}],t[r.DI_TARGET]=t)}function n(e){var t=function(e,n,o){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");i(t,e,o,!1)};return t.toString=function(){return e},t}function o(e){return function(t,n,o){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");i(e,t,o,!0)}}var r;!function(e){function t(t){return t[e.DI_DEPENDENCIES]||[]}e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=t}(r=t._util||(t._util={})),t.IInstantiationService=n("instantiationService"),t.createDecorator=n,t.optional=o}),define(l[109],d([1,0,6]),function(e,t,i){"use strict";t.ID_CODE_EDITOR_SERVICE="codeEditorService",t.ICodeEditorService=i.createDecorator(t.ID_CODE_EDITOR_SERVICE)}),define(l[605],d([1,0,24,109]),function(e,t,i,n){"use strict";var o=function(){function e(){this.serviceId=n.ICodeEditorService,this._codeEditors=Object.create(null),this._onCodeEditorAdd=new i.Emitter,this._onCodeEditorRemove=new i.Emitter}return e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorAdd",{get:function(){return this._onCodeEditorAdd.event},enumerable:!0,configurable:!0}),e.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},Object.defineProperty(e.prototype,"onCodeEditorRemove",{get:function(){return this._onCodeEditorRemove.event},enumerable:!0,configurable:!0}),e.prototype.getCodeEditor=function(e){return this._codeEditors[e]||null},e.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map(function(t){return e._codeEditors[t]})},e.prototype.getFocusedCodeEditor=function(){for(var e=null,t=this.listCodeEditors(),i=0;i<t.length;i++){var n=t[i];if(n.isFocused())return n;n.hasWidgetFocus()&&(e=n)}return e},e}();t.AbstractCodeEditorService=o}),define(l[606],d([1,0,29,9,19,10,11,605,5]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){var t=i.deepClone(e);i.mixin(t,e.light);var n=i.deepClone(e);return i.mixin(n,e.dark),{light:t,dark:n}}var l=function(e){function t(t){void 0===t&&(t=r.createStyleSheet()),e.call(this),this._styleSheet=t,this._decorationOptionProviders=Object.create(null)}return h(t,e),t.prototype.registerDecorationType=function(e,t,i){var n=this._decorationOptionProviders[e];n||(n=i?new p(this._styleSheet,e,i,t):new f(this._styleSheet,e,t),this._decorationOptionProviders[e]=n),n.refCount++},t.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders[e];t&&(t.refCount--,t.refCount<=0&&(delete this._decorationOptionProviders[e],t.dispose(),this.listCodeEditors().forEach(function(t){return t.removeDecorations(e);
})))},t.prototype.resolveDecorationOptions=function(e,t){var i=this._decorationOptionProviders[e];if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)},t}(a.AbstractCodeEditorService);t.CodeEditorServiceImpl=l;var d,p=function(){function e(e,t,i,n){this._parentTypeKey=i,this.refCount=0;var o=u(n);this._beforeContentClassName=g.createCSSRules(e,t,i,m.BeforeContentClassName,{light:g.getCSSTextForModelDecorationContentClassName(o.light.before),dark:g.getCSSTextForModelDecorationContentClassName(o.dark.before)}),this._afterContentClassName=g.createCSSRules(e,t,i,m.AfterContentClassName,{light:g.getCSSTextForModelDecorationContentClassName(o.light.after),dark:g.getCSSTextForModelDecorationContentClassName(o.dark.after)}),(this._beforeContentClassName||this._afterContentClassName)&&(this._disposable=c.toDisposable(function(){r.removeCSSRulesContainingSelector(v.getDeletionSubstring(t),e)}))}return e.prototype.getOptions=function(e,t){var i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentClassName&&(i.beforeContentClassName=this._beforeContentClassName),this._afterContentClassName&&(i.afterContentClassName=this._afterContentClassName),i},e.prototype.dispose=function(){this._disposable&&(this._disposable.dispose(),delete this._disposable)},e}(),f=function(){function e(e,t,i){this.refCount=0;var n=u(i);this.className=g.createCSSRules(e,t,null,m.ClassName,{light:g.getCSSTextForModelDecorationClassName(n.light),dark:g.getCSSTextForModelDecorationClassName(n.dark)}),this.inlineClassName=g.createCSSRules(e,t,null,m.InlineClassName,{light:g.getCSSTextForModelDecorationInlineClassName(n.light),dark:g.getCSSTextForModelDecorationInlineClassName(n.dark)}),this.beforeContentClassName=g.createCSSRules(e,t,null,m.BeforeContentClassName,{light:g.getCSSTextForModelDecorationContentClassName(n.light.before),dark:g.getCSSTextForModelDecorationContentClassName(n.dark.before)}),this.afterContentClassName=g.createCSSRules(e,t,null,m.AfterContentClassName,{light:g.getCSSTextForModelDecorationContentClassName(n.light.after),dark:g.getCSSTextForModelDecorationContentClassName(n.dark.after)}),this.glyphMarginClassName=g.createCSSRules(e,t,null,m.GlyphMarginClassName,{light:g.getCSSTextForModelDecorationGlyphMarginClassName(n.light),dark:g.getCSSTextForModelDecorationGlyphMarginClassName(n.dark)}),this.isWholeLine=Boolean(i.isWholeLine),"undefined"==typeof n.light.overviewRulerColor&&"undefined"==typeof n.dark.overviewRulerColor||(this.overviewRuler={color:n.light.overviewRulerColor||n.dark.overviewRulerColor,darkColor:n.dark.overviewRulerColor||n.light.overviewRulerColor,position:i.overviewRulerLane||s.OverviewRulerLane.Center}),this._disposable=c.toDisposable(function(){r.removeCSSRulesContainingSelector(v.getDeletionSubstring(t),e)})}return e.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},e.prototype.dispose=function(){this._disposable&&(this._disposable.dispose(),delete this._disposable)},e}(),g=function(){function e(){}return e.getCSSTextForModelDecorationClassName=function(t){var i=[];return e.collectCSSText(t,["backgroundColor","outline","outlineColor","outlineStyle","outlineWidth"],i),e.collectBorderSettingsCSSText(t,i),i.join("")},e.getCSSTextForModelDecorationInlineClassName=function(t){var i=[];return e.collectCSSText(t,["textDecoration","cursor","color","letterSpacing"],i),i.join("")},e.getCSSTextForModelDecorationContentClassName=function(t){var i=[];if("undefined"!=typeof t){if(e.collectBorderSettingsCSSText(t,i),"undefined"!=typeof t.contentIconPath&&i.push(n.format(this._CSS_MAP.contentIconPath,o["default"].file(t.contentIconPath).toString())),"undefined"!=typeof t.contentText){var r=t.contentText.replace(/\"/g,'\\"');i.push(n.format(this._CSS_MAP.contentText,r))}e.collectCSSText(t,["textDecoration","color","backgroundColor","margin"],i),e.collectCSSText(t,["width","height"],i)&&i.push("display:inline-block;")}return i.join("")},e.getCSSTextForModelDecorationGlyphMarginClassName=function(e){var t=[];return"undefined"!=typeof e.gutterIconPath&&(t.push(n.format(this._CSS_MAP.gutterIconPath,o["default"].parse(e.gutterIconPath).toString())),"undefined"!=typeof e.gutterIconSize&&t.push(n.format(this._CSS_MAP.gutterIconSize,e.gutterIconSize))),t.join("")},e.collectBorderSettingsCSSText=function(t,i){return!!e.collectCSSText(t,e.border_rules,i)&&(i.push(n.format("box-sizing: border-box;")),!0)},e.collectCSSText=function(e,t,i){for(var o=i.length,r=0,s=t;r<s.length;r++){var a=s[r];"undefined"!=typeof e[a]&&i.push(n.format(this._CSS_MAP[a],e[a]))}return i.length!==o},e.createCSSRules=function(e,t,i,n,o){function s(o,s){var a=v.getSelector(o,t,i,n);r.createCSSRule(a,s,e)}var a=!1;if(o.light.length>0&&(s(d.Light,o.light),a=!0),o.dark.length>0&&(s(d.Dark,o.dark),s(d.HighContrastBlack,o.dark),a=!0),a){var c=v.getClassName(t,n);return i&&(c=c+" "+v.getClassName(i,n)),c}},e._CSS_MAP={color:"color:{0} !important;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},e.border_rules=["border","borderColor","borderColor","borderSpacing","borderStyle","borderWidth"],e}();!function(e){e[e.Light=0]="Light",e[e.Dark=1]="Dark",e[e.HighContrastBlack=2]="HighContrastBlack"}(d||(d={}));var m;!function(e){e[e.ClassName=0]="ClassName",e[e.InlineClassName=1]="InlineClassName",e[e.GlyphMarginClassName=2]="GlyphMarginClassName",e[e.BeforeContentClassName=3]="BeforeContentClassName",e[e.AfterContentClassName=4]="AfterContentClassName"}(m||(m={}));var v=function(){function e(){}return e._getSelectorPrefixOf=function(e){return e===d.Light?".monaco-editor.vs":e===d.Dark?".monaco-editor.vs-dark":".monaco-editor.hc-black"},e.getClassName=function(e,t){return"ced-"+e+"-"+t},e.getSelector=function(e,t,i,n){var o=this._getSelectorPrefixOf(e)+" ."+this.getClassName(t,n);return i&&(o=o+"."+this.getClassName(i,n)),n===m.BeforeContentClassName?o+="::before":n===m.AfterContentClassName&&(o+="::after"),o},e.getDeletionSubstring=function(e){return".ced-"+e+"-"},e}()}),define(l[206],d([1,0,6]),function(e,t,i){"use strict";function n(e,t){for(var i in e)if(e[i]===t)return i;throw new Error("Member not found in prototype")}function o(e,t){var i=n(e.prototype,t);e.prototype[i]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var o=this;return o.compatWorkerService.CompatWorker(o,i,t,e)}}t.ICompatWorkerService=i.createDecorator("compatWorkerService"),t.CompatWorkerAttr=o}),define(l[127],d([1,0,6]),function(e,t,i){"use strict";t.ID_EDITOR_WORKER_SERVICE="editorWorkerService",t.IEditorWorkerService=i.createDecorator(t.ID_EDITOR_WORKER_SERVICE)}),define(l[45],d([1,0,6]),function(e,t,i){"use strict";t.IModeService=i.createDecorator("modeService")}),define(l[38],d([1,0,6]),function(e,t,i){"use strict";t.IModelService=i.createDecorator("modelService")});var g=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},m=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};define(l[611],d([1,0,16,5,2,354,274,11,305,127,38,386,201]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";var f=6e4,v=3e5,y=function(){function e(e){this.serviceId=u.IEditorWorkerService,this._workerManager=new E(e)}return e.prototype.computeDiff=function(e,t,i){return this._workerManager.withWorker().then(function(n){return n.computeDiff(e,t,i)})},e.prototype.computeDirtyDiff=function(e,t,i){return this._workerManager.withWorker().then(function(n){return n.computeDirtyDiff(e,t,i)})},e.prototype.computeLinks=function(e){return this._workerManager.withWorker().then(function(t){return t.computeLinks(e)})},e.prototype.textualSuggest=function(e,t){return this._workerManager.withWorker().then(function(i){return i.textualSuggest(e,t)})},e.prototype.navigateValueSet=function(e,t,i){return this._workerManager.withWorker().then(function(n){return n.navigateValueSet(e,t,i)})},e=g([m(0,l.IModelService)],e)}();t.EditorWorkerServiceImpl=y;var E=function(e){function t(t){var n=this;e.call(this),this._modelService=t,this._editorWorkerClient=null;var o=this._register(new i.IntervalTimer);o.cancelAndSet(function(){return n._checkStopWorker()},Math.round(v/2))}return h(t,e),t.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),e.prototype.dispose.call(this)},t.prototype._checkStopWorker=function(){if(this._editorWorkerClient){var e=(new Date).getTime()-this._lastWorkerUsedTime;e>v&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},t.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new _(this._modelService)),o.TPromise.as(this._editorWorkerClient)},t}(n.Disposable),S=function(e){function t(t,n,o){var r=this;if(e.call(this),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=t,this._modelService=n,!o){var s=new i.IntervalTimer;s.cancelAndSet(function(){return r._checkStopModelSync()},Math.round(f/2)),this._register(s)}}return h(t,e),t.prototype.dispose=function(){for(var t in this._syncedModels)n.dispose(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),e.prototype.dispose.call(this)},t.prototype.esureSyncedResources=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.toString();this._syncedModels[n]||this._beginModelSync(i),this._syncedModels[n]&&(this._syncedModelsLastUsedTime[n]=(new Date).getTime())}},t.prototype._checkStopModelSync=function(){var e=(new Date).getTime(),t=[];for(var i in this._syncedModelsLastUsedTime){var n=e-this._syncedModelsLastUsedTime[i];n>f&&t.push(i)}for(var o=0;o<t.length;o++)this._stopModelSync(t[o])},t.prototype._beginModelSync=function(e){var t=this,i=e.toString(),n=this._modelService.getModel(e);if(n&&!n.isTooLargeForHavingARichMode()){this._proxy.acceptNewModel({url:n.uri.toString(),value:n.toRawText(),versionId:n.getVersionId()});var o=[];o.push(n.addBulkListener(function(e){for(var n=[],o=0,r=e.length;o<r;o++){var s=e[o];switch(s.getType()){case a.EventType.ModelContentChanged2:n.push(s.getData());break;case a.EventType.ModelDispose:return void t._stopModelSync(i)}}n.length>0&&t._proxy.acceptModelChanged(i.toString(),n)})),o.push({dispose:function(){t._proxy.acceptRemovedModel(i)}}),this._syncedModels[i]=o}},t.prototype._stopModelSync=function(e){var t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],n.dispose(t)},t}(n.Disposable),b=function(){function e(e){this._instance=e,this._proxyObj=o.TPromise.as(this._instance)}return e.prototype.dispose=function(){this._instance.dispose(),this._instance=null,this._proxyObj=null},e.prototype.getProxyObject=function(){return new i.ShallowCancelThenPromise(this._proxyObj)},e}(),_=function(e){function t(t){e.call(this),this._modelService=t,this._workerFactory=new s.DefaultWorkerFactory((!1)),this._worker=null,this._modelManager=null}return h(t,e),t.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new r.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(e){p.logOnceWebWorkerWarning(e),this._worker=new b(new d.EditorSimpleWorkerImpl)}return this._worker},t.prototype._getProxy=function(){var e=this;return new i.ShallowCancelThenPromise(this._getOrCreateWorker().getProxyObject().then(null,function(t){return p.logOnceWebWorkerWarning(t),e._worker=new b(new d.EditorSimpleWorkerImpl),e._getOrCreateWorker().getProxyObject()}))},t.prototype._getOrCreateModelManager=function(e){return this._modelManager||(this._modelManager=this._register(new S(e,this._modelService,(!1)))),this._modelManager},t.prototype._withSyncedResources=function(e){var t=this;return this._getProxy().then(function(i){return t._getOrCreateModelManager(i).esureSyncedResources(e),i})},t.prototype.computeDiff=function(e,t,i){return this._withSyncedResources([e,t]).then(function(n){return n.computeDiff(e.toString(),t.toString(),i)})},t.prototype.computeDirtyDiff=function(e,t,i){return this._withSyncedResources([e,t]).then(function(n){return n.computeDirtyDiff(e.toString(),t.toString(),i)})},t.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then(function(t){return t.computeLinks(e.toString())})},t.prototype.textualSuggest=function(e,t){var i=this;return this._withSyncedResources([e]).then(function(n){var o=i._modelService.getModel(e);if(!o)return null;var r=c.WordHelper.massageWordDefinitionOf(o.getMode()),s=r.source,a=(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"");return n.textualSuggest(e.toString(),t,s,a)})},t.prototype.navigateValueSet=function(e,t,i){var n=this;return this._withSyncedResources([e]).then(function(o){var r=n._modelService.getModel(e);if(!r)return null;var s=c.WordHelper.massageWordDefinitionOf(r.getMode()),a=s.source,u=(s.global?"g":"")+(s.ignoreCase?"i":"")+(s.multiline?"m":"");return o.navigateValueSet(e.toString(),t,i,a,u)})},t}(n.Disposable);t.EditorWorkerClient=_}),define(l[612],d([1,0,2,14,38,329]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e){this._modelService=e}return e.prototype.getRangesToPosition=function(e,t){return i.TPromise.as(this.getRangesToPositionSync(e,t))},e.prototype.getRangesToPositionSync=function(e,t){var i=this._modelService.getModel(e),n=[];return i&&this._doGetRangesToPosition(i,t).forEach(function(e){n.push({type:void 0,range:e})}),n},e.prototype._doGetRangesToPosition=function(e,t){var i,o,s=r.build(e);i=r.find(s,t);for(var a=[];i;)o&&n.Range.equalsRange(o,i.range)||a.push(i.range),o=i.range,i=i.parent;return a=a.reverse()},e=g([m(0,o.IModelService)],e)}();t.TokenSelectionSupport=s}),define(l[613],d([1,0,455,123,112,45,80]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e){var t=this;this._modeService=e,this._handleModes(this._modeService.getRegisteredModes()),this._modeService.onDidAddModes(function(e){return t._handleModes(e)})}return e.prototype._handleModes=function(e){var t=this;e.forEach(function(e){return t._handleMode(e)})},e.prototype._handleMode=function(e){var t=this,i=this._modeService.onDidCreateMode(function(n){if(n.getId()===e){var o=t._modeService.getConfigurationFiles(e);o.forEach(function(i){return t._handleConfigFile(e,i)}),i.dispose()}})},e.prototype._handleConfigFile=function(e,t){var r=this;o.readFile(t).then(function(o){var s=[],a=n.parse(o.toString(),s);s.length&&console.error(i.localize(0,null,t,s.join("\n"))),r._handleConfig(e,a)},function(e){console.error(e)})},e.prototype._handleConfig=function(e,t){var i={};t.comments&&(i.comments=t.comments),t.brackets&&(i.brackets=t.brackets),t.autoClosingPairs&&(i.autoClosingPairs=this._mapCharacterPairs(t.autoClosingPairs)),t.surroundingPairs&&(i.surroundingPairs=this._mapCharacterPairs(t.surroundingPairs)),s.LanguageConfigurationRegistry.register(e,i)},e.prototype._mapCharacterPairs=function(e){return e.map(function(e){var t=e[0],i=e[1];return{open:t,close:i}})},e=g([m(0,r.IModeService)],e)}();t.LanguageConfigurationFileHandler=a}),define(l[23],d([1,0,6]),function(e,t,i){"use strict";function n(e,t,i){function n(e,t){for(var i=e,n=0;n<t.length;n++)if(i=i[t[n]],!i)return;return i}var o=t.split("."),r=n(e,o);return"undefined"==typeof r?i:r}t.IConfigurationService=i.createDecorator("configurationService"),t.getConfigurationValue=n}),define(l[51],d([1,0,6]),function(e,t,i){"use strict";t.IContextViewService=i.createDecorator("contextViewService"),t.IContextMenuService=i.createDecorator("contextMenuService");var n=function(){function e(e,t){this.label=e,this.entries=t}return e}();t.ContextSubMenu=n}),define(l[56],d([1,0,6]),function(e,t,i){"use strict";t.IEditorService=i.createDecorator("editorService"),function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(t.Position||(t.Position={}));var n=t.Position;t.POSITIONS=[n.LEFT,n.CENTER,n.RIGHT],function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Direction||(t.Direction={}));t.Direction}),define(l[28],d([1,0,6]),function(e,t,i){"use strict";t.IEventService=i.createDecorator("eventService")}),define(l[618],d([1,0,36,28]),function(e,t,i,n){"use strict";var o=function(e){function t(){e.call(this),this.serviceId=n.IEventService}return h(t,e),t}(i.EventEmitter);t.EventService=o}),define(l[111],d([1,0,462,6]),function(e,t,i,n){"use strict";t.IExtensionManagementService=n.createDecorator("extensionManagementService"),t.IExtensionGalleryService=n.createDecorator("extensionGalleryService"),function(e){e[e.NoneOrRelevance=0]="NoneOrRelevance",e[e.LastUpdatedDate=1]="LastUpdatedDate",e[e.Title=2]="Title",e[e.PublisherName=3]="PublisherName",e[e.InstallCount=4]="InstallCount",e[e.PublishedDate=5]="PublishedDate",e[e.AverageRating=6]="AverageRating"}(t.SortBy||(t.SortBy={}));t.SortBy;!function(e){e[e.Default=0]="Default",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(t.SortOrder||(t.SortOrder={}));t.SortOrder;t.IExtensionTipsService=n.createDecorator("extensionTipsService"),t.ExtensionsLabel=i.localize(0,null),t.ExtensionsChannelId="extensions"}),define(l[620],d([1,0,115,111]),function(e,t,i,n){"use strict";var o=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"event:onInstallExtension":return i.eventToCall(this.service.onInstallExtension);case"event:onDidInstallExtension":return i.eventToCall(this.service.onDidInstallExtension);case"event:onUninstallExtension":return i.eventToCall(this.service.onUninstallExtension);case"event:onDidUninstallExtension":return i.eventToCall(this.service.onDidUninstallExtension);case"install":return this.service.install(t);case"uninstall":return this.service.uninstall(t);case"getInstalled":return this.service.getInstalled(t)}},e}();t.ExtensionManagementChannel=o;var r=function(){function e(e){this.channel=e,this.serviceId=n.IExtensionManagementService,this._onInstallExtension=i.eventFromCall(this.channel,"event:onInstallExtension"),this._onDidInstallExtension=i.eventFromCall(this.channel,"event:onDidInstallExtension"),this._onUninstallExtension=i.eventFromCall(this.channel,"event:onUninstallExtension"),this._onDidUninstallExtension=i.eventFromCall(this.channel,"event:onDidUninstallExtension")}return Object.defineProperty(e.prototype,"onInstallExtension",{get:function(){return this._onInstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidInstallExtension",{get:function(){return this._onDidInstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUninstallExtension",{get:function(){return this._onUninstallExtension},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUninstallExtension",{get:function(){return this._onDidUninstallExtension},enumerable:!0,configurable:!0}),e.prototype.install=function(e){return this.channel.call("install",e)},e.prototype.uninstall=function(e){return this.channel.call("uninstall",e)},e.prototype.getInstalled=function(e){return this.channel.call("getInstalled",e)},e}();t.ExtensionManagementChannelClient=r}),define(l[103],d([1,0,6]),function(e,t,i){"use strict";t.IExtensionService=i.createDecorator("extensionService")}),define(l[34],d([1,0,25,66,6]),function(e,t,i,n,o){"use strict";t.IFileService=o.createDecorator("fileService"),function(e){e[e.UPDATED=0]="UPDATED",e[e.ADDED=1]="ADDED",e[e.DELETED=2]="DELETED"}(t.FileChangeType||(t.FileChangeType={}));var r=t.FileChangeType;t.EventType={FILE_CHANGES:"files:fileChanges"};var s=function(e){function t(t){e.call(this),this._changes=t}return h(t,e),Object.defineProperty(t.prototype,"changes",{get:function(){return this._changes},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return!!e&&this.containsAny([e],t)},t.prototype.containsAny=function(e,t){return!(!e||!e.length)&&this._changes.some(function(n){return n.type===t&&(t===r.DELETED?e.some(function(e){return!!e&&i.isEqualOrParent(e.fsPath,n.resource.fsPath)}):e.some(function(e){return!!e&&e.fsPath===n.resource.fsPath}))})},t.prototype.getAdded=function(){return this.getOfType(r.ADDED)},t.prototype.gotAdded=function(){return this.hasType(r.ADDED)},t.prototype.getDeleted=function(){return this.getOfType(r.DELETED)},t.prototype.gotDeleted=function(){return this.hasType(r.DELETED)},t.prototype.getUpdated=function(){return this.getOfType(r.UPDATED)},t.prototype.gotUpdated=function(){return this.hasType(r.UPDATED)},t.prototype.getOfType=function(e){return this._changes.filter(function(t){return t.type===e})},t.prototype.hasType=function(e){return this._changes.some(function(t){return t.type===e})},t}(n.Event);t.FileChangesEvent=s,function(e){e[e.FILE_IS_BINARY=0]="FILE_IS_BINARY",e[e.FILE_IS_DIRECTORY=1]="FILE_IS_DIRECTORY",e[e.FILE_NOT_FOUND=2]="FILE_NOT_FOUND",e[e.FILE_NOT_MODIFIED_SINCE=3]="FILE_NOT_MODIFIED_SINCE",e[e.FILE_MODIFIED_SINCE=4]="FILE_MODIFIED_SINCE",e[e.FILE_MOVE_CONFLICT=5]="FILE_MOVE_CONFLICT",e[e.FILE_READ_ONLY=6]="FILE_READ_ONLY",e[e.FILE_TOO_LARGE=7]="FILE_TOO_LARGE"}(t.FileOperationResult||(t.FileOperationResult={}));t.FileOperationResult;t.MAX_FILE_SIZE=52428800,t.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange"},t.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:!0,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:18},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:19},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:20},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:21},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:22},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:23},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:24},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:25},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:26},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:27},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:28},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:29},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:30},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:31},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:32},gbk:{labelLong:"Chinese (GBK)",labelShort:"GBK",order:33},gb18030:{labelLong:"Chinese (GB18030)",labelShort:"GB18030",order:34},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:35},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:36},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:37},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:38},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:39},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:40},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:41},"koi8-ru":{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:42},"koi8-t":{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:43},GB2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:44}}}),define(l[188],d([1,0,413,41,78,19,2,34,126,14,46]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e,t,i,n,o){void 0===o&&(o=null);var r=p(e,t,i);return r.add(n),r.progress(o),r.finish()}function p(e,t,n){function o(e){u=e}function r(e){l.push.apply(l,e)}function a(){for(var e,t=0,n=l;t<n.length;t++){var o=n[t];d.hasChanged(o.resource)&&(e||(e=[]),e.push(o.resource.fsPath))}if(e)return i.localize(0,null,e.join(", "))}function c(){if(0===l.length)return s.TPromise.as(void 0);var e=a();if(e)return s.TPromise.wrapError(e);var i,o;n&&n.getModel()&&(i=n.getModel().uri,o=n.getSelections());var r=new v(t,i,o,l,u);return r.prepare().then(function(e){var t=a();if(t)throw new Error(t);return d.stop(),r.apply()})}var u,l=[],d=new f(e).start();return{progress:o,add:r,finish:c}}var f=function(){function e(e){this._eventService=e}return e.prototype.start=function(){var e=Object.create(null),t=this._eventService.addListener2(a.EventType.FILE_CHANGES,function(t){t.changes.forEach(function(t){var i=String(t.resource),n=e[i];n||(e[i]=n=[]),n.push(t)})});return{stop:function(){t.dispose()},hasChanged:function(t){return!!e[t.toString()]},allChanges:function(){return n.merge(o.values(e))}}},e}(),g=function(){function e(e){this._endCursorSelection=null,this._model=e,this._edits=[]}return e.prototype.addEdit=function(e){var t;t=e.range?e.range:this._model.getFullModelRange(),this._edits.push(c.EditOperation.replace(u.Range.lift(t),e.newText))},e.prototype.apply=function(){var t=this;0!==this._edits.length&&(this._edits.sort(e._editCompare),this._initialSelections=this._getInitialSelections(),this._model.pushEditOperations(this._initialSelections,this._edits,function(e){return t._getEndCursorSelections(e)}))},e.prototype._getInitialSelections=function(){var e=this._edits[0].range,t=new l.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);return[t]},e.prototype._getEndCursorSelections=function(e){for(var t=0,i=0;i<e.length;i++)for(var n=e[i].range,o=0;o<this._initialSelections.length;o++){var r=this._initialSelections[o];if(u.Range.areIntersectingOrTouching(n,r)){t=i;break}}var s=e[t].range;return this._endCursorSelection=new l.Selection(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn),[this._endCursorSelection]},e.prototype.getEndCursorSelection=function(){return this._endCursorSelection},e._editCompare=function(e,t){return u.Range.compareRangesUsingStarts(e.range,t.range)},e}(),m=function(e){function t(t,i){e.call(this,t),this._knownInitialSelections=i}return h(t,e),t.prototype._getInitialSelections=function(){return this._knownInitialSelections},t}(g),v=function(){function e(e,t,i,n,o){void 0===o&&(o=null),this.progress=o,this._numberOfResourcesToModify=0,this._numberOfChanges=0,this._edits=Object.create(null),this._editorService=e,this._sourceModel=t,this._sourceSelections=i,this._sourceModelTask=null;for(var r=0,s=n;r<s.length;r++){var a=s[r];this._addEdit(a)}}return e.prototype.resourcesCount=function(){return this._numberOfResourcesToModify},e.prototype.changeCount=function(){return this._numberOfChanges},e.prototype._addEdit=function(e){var t=this._edits[e.resource.toString()];t||(this._edits[e.resource.toString()]=t=[],this._numberOfResourcesToModify+=1),this._numberOfChanges+=1,t.push(e)},e.prototype.prepare=function(){var e=this;if(this._tasks)throw new Error("illegal state - already prepared");this._tasks=[];var t=[];return this.progress&&this.progress.total(2*this._numberOfResourcesToModify),o.forEach(this._edits,function(i){var n=e._editorService.resolveEditorModel({resource:r["default"].parse(i.key)}).then(function(t){if(!t||!t.textEditorModel)throw new Error("Cannot load file "+i.key);var n,o=t.textEditorModel;e._sourceModel&&o.uri.toString()===e._sourceModel.toString()?(e._sourceModelTask=new m(o,e._sourceSelections),n=e._sourceModelTask):n=new g(o),i.value.forEach(function(e){return n.addEdit(e)}),e._tasks.push(n),e.progress&&e.progress.worked(1)});t.push(n)}),s.TPromise.join(t).then(function(t){return e})},e.prototype.apply=function(){var e=this;this._tasks.forEach(function(t){return e.applyTask(t)});var t=null;return this._sourceModelTask&&(t=this._sourceModelTask.getEndCursorSelection()),t},e.prototype.applyTask=function(e){e.apply(),this.progress&&this.progress.worked(1)},e}();t.bulkEdit=d,t.createBulkEdit=p}),define(l[110],d([1,0,41]),function(e,t,i){"use strict";var n=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];this._entries=[];for(var i=0,n=e;i<n.length;i++){var o=n[i];this.set(o[0],o[1])}}return e.prototype.set=function(t,n){var o=[t,n],r=i.binarySearch(this._entries,o,e._entryCompare);if(!(r<0)){var s=this._entries[r];return this._entries[r]=o,s[1]}this._entries.splice(~r,0,o)},e.prototype.forEach=function(e){for(var t=0,i=this._entries;t<i.length;t++){var n=i[t],o=n[0],r=n[1];e(o,r)}},e.prototype.has=function(t){return i.binarySearch(this._entries,e._searchEntry(t),e._entryCompare)>=0},e.prototype.get=function(t){var n=i.binarySearch(this._entries,e._searchEntry(t),e._entryCompare);if(n>=0)return this._entries[n][1]},e._searchEntry=function(t){return e._dummy[0]=t,e._dummy},e._entryCompare=function(e,t){var i=e[0].toString(),n=t[0].toString();return i<n?-1:i>n?1:0},e._dummy=[void 0,void 0],e}();t.ServiceCollection=n}),define(l[625],d([1,0,2,7,17,85,996,70,6,110]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(){function t(e,t){void 0===e&&(e=new u.ServiceCollection),void 0===t&&(t=!1),this._services=e,this._strict=t,this._services.set(c.IInstantiationService,this)}return t.prototype.createChild=function(e){var i=this;return this._services.forEach(function(t,n){e.has(t)||(n instanceof a.SyncDescriptor&&(n=i._createAndCacheServiceInstance(t,n)),e.set(t,n))}),new t(e,this._strict)},t.prototype.invokeFunction=function(e){for(var t=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var r;try{return r={get:function(e,i){var n=t._getOrCreateServiceInstance(e);if(!n&&i!==c.optional)throw new Error("[invokeFunction] unkown service '"+e+"'");return n}},e.apply(void 0,[r].concat(i))}finally{r.get=function(){throw n.illegalState("service accessor is only valid during the invocation of its target method")}}},t.prototype.createInstance=function(e){
for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return e instanceof a.AsyncDescriptor?this._createInstanceAsync(e,t):e instanceof a.SyncDescriptor?this._createInstance(e,t):this._createInstance(new a.SyncDescriptor(e),t)},t.prototype._createInstanceAsync=function(t,o){var r,s=this;return new i.TPromise(function(i,c,u){e([t.moduleName],function(e){if(r&&c(r),!e)return c(n.illegalArgument("module not found: "+t.moduleName));var u;if(u=t.ctorName?e[t.ctorName]:e,"function"!=typeof u)return c(n.illegalArgument("not a function: "+t.ctorName||t.moduleName));try{o.unshift.apply(o,t.staticArguments()),i(s._createInstance(new a.SyncDescriptor(u),o))}catch(l){return c(l)}},c)},function(){r=n.canceled()})},t.prototype._createInstance=function(e,t){var i=this,n=e.staticArguments().concat(t),r=c._util.getServiceDependencies(e.ctor).sort(function(e,t){return e.index-t.index}),s=r.map(function(t){var n=i._getOrCreateServiceInstance(t.id);if(!n&&i._strict&&!t.optional)throw new Error("[createInstance] "+e.ctor.name+" depends on UNKNOWN service "+t.id+".");return n}),a=r.length>0?r[0].index:n.length;if(n.length!==a){console.warn("[createInstance] First service dependency of "+e.ctor.name+" at position "+(a+1)+" conflicts with "+n.length+" static arguments");var u=a-n.length;n=u>0?n.concat(new Array(u)):n.slice(0,a)}var l=[e.ctor];l.push.apply(l,n),l.push.apply(l,s);var d=o.create.apply(null,l);return e._validate(d),d},t.prototype._getOrCreateServiceInstance=function(e){var t=this._services.get(e);return t instanceof a.SyncDescriptor?this._createAndCacheServiceInstance(e,t):t},t.prototype._createAndCacheServiceInstance=function(e,t){function i(){var e=new Error("[createInstance] cyclic dependency between services");throw e.message=n.toString(),e}r.ok(this._services.get(e)instanceof a.SyncDescriptor);for(var n=new s.Graph(function(e){return e.id.toString()}),o=0,u=[{id:e,desc:t}];u.length;){var l=u.pop();n.lookupOrInsertNode(l),o++>100&&i();for(var d=c._util.getServiceDependencies(l.desc.ctor),h=0,p=d;h<p.length;h++){var f=p[h],g=this._services.get(f.id);if(g||console.warn("[createInstance] "+e+" depends on "+f.id+" which is NOT registered."),g instanceof a.SyncDescriptor){var m={id:f.id,desc:g};n.insertEdge(l,m),u.push(m)}}}for(;;){var v=n.roots();if(0===v.length){0!==n.length&&i();break}for(var y=0,E=v;y<E.length;y++){var S=E[y],b=this._createInstance(S.data.desc,[]);this._services.set(S.data.id,b),n.removeNode(S.data)}}return this._services.get(e)},t}();t.InstantiationService=l}),define(l[20],d([1,0,6]),function(e,t,i){"use strict";function n(e,t){var i=e.getType(),n=t.getType();if(i!==n)return i-n;switch(i){case o.KbDefinedExpression:return e.cmp(t);case o.KbNotExpression:return e.cmp(t);case o.KbEqualsExpression:return e.cmp(t);case o.KbNotEqualsExpression:return e.cmp(t);default:throw new Error("Unknown KbExpr!")}}!function(e){e[e.KbDefinedExpression=1]="KbDefinedExpression",e[e.KbNotExpression=2]="KbNotExpression",e[e.KbEqualsExpression=3]="KbEqualsExpression",e[e.KbNotEqualsExpression=4]="KbNotEqualsExpression",e[e.KbAndExpression=5]="KbAndExpression"}(t.KbExprType||(t.KbExprType={}));var o=t.KbExprType,r=function(){function e(e){this.key=e}return e.prototype.getType=function(){return o.KbDefinedExpression},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!!e[this.key]},e.prototype.normalize=function(){return this},e.prototype.serialize=function(){return this.key},e}();t.KbDefinedExpression=r;var s=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return o.KbEqualsExpression},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e[this.key]==this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new r(this.key):new c(this.key):this},e.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" == '"+this.value+"'"},e}();t.KbEqualsExpression=s;var a=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.getType=function(){return o.KbNotEqualsExpression},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e[this.key]!=this.value},e.prototype.normalize=function(){return"boolean"==typeof this.value?this.value?new c(this.key):new r(this.key):this},e.prototype.serialize=function(){return"boolean"==typeof this.value?this.normalize().serialize():this.key+" != '"+this.value+"'"},e}();t.KbNotEqualsExpression=a;var c=function(){function e(e){this.key=e}return e.prototype.getType=function(){return o.KbNotExpression},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!e[this.key]},e.prototype.normalize=function(){return this},e.prototype.serialize=function(){return"!"+this.key},e}();t.KbNotExpression=c;var u=function(){function e(t){this.expr=e._normalizeArr(t)}return e.prototype.getType=function(){return o.KbAndExpression},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var i=0,n=this.expr.length;i<n;i++)if(!this.expr[i].equals(t.expr[i]))return!1;return!0}},e.prototype.evaluate=function(e){for(var t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0},e._normalizeArr=function(t){var i=[];if(t){for(var o=0,r=t.length;o<r;o++){var s=t[o];s&&(s=s.normalize(),s&&(s instanceof e?i=i.concat(s.expr):i.push(s)))}i.sort(n)}return i},e.prototype.normalize=function(){return 0===this.expr.length?null:1===this.expr.length?this.expr[0]:this},e.prototype.serialize=function(){return 0===this.expr.length?"":1===this.expr.length?this.normalize().serialize():this.expr.map(function(e){return e.serialize()}).join(" && ")},e}();t.KbAndExpression=u,t.KbExpr={has:function(e){return new r(e)},equals:function(e,t){return new s(e,t)},notEquals:function(e,t){return new a(e,t)},not:function(e){return new c(e)},and:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return new u(e)},deserialize:function(e){if(!e)return null;var i=e.split("&&"),n=new u(i.map(function(e){return t.KbExpr._deserializeOne(e)}));return n.normalize()},_deserializeOne:function(e){if(e=e.trim(),e.indexOf("!=")>=0){var i=e.split("!=");return new a(i[0].trim(),t.KbExpr._deserializeValue(i[1]))}if(e.indexOf("==")>=0){var i=e.split("==");return new s(i[0].trim(),t.KbExpr._deserializeValue(i[1]))}return/^\!\s*/.test(e)?new c(e.substr(1).trim()):new r(e)},_deserializeValue:function(e){if(e=e.trim(),"true"===e)return!0;if("false"===e)return!1;var t=/^'([^']*)'$/.exec(e);return t?t[1].trim():e}},t.IKeybindingService=i.createDecorator("keybindingService"),t.SET_CONTEXT_COMMAND_ID="setContext"}),define(l[627],d([1,0,27,7,36,5,75,2,110,20,135,403,196,665,48,14,46,40,11,622,319,333,1013]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y,E,S,b,_,C){"use strict";var w=0,I=function(e){function t(t,i,n,o,r,a){var d=this;e.call(this),this.domElement=t,this.id=++w,this._codeEditorService=o;var h=s.start(s.Topic.EDITOR,"CodeEditor.ctor");this._lifetimeDispose=[],this._keybindingService=r.createScoped(t),this._editorIdContextKey=this._keybindingService.createKey("editorId",this.getId()),this._editorFocusContextKey=this._keybindingService.createKey(E.KEYBINDING_CONTEXT_EDITOR_FOCUS,void 0),this._editorTabMovesFocusKey=this._keybindingService.createKey(E.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS,!1),this._hasMultipleSelectionsKey=this._keybindingService.createKey(E.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS,!1),this._hasNonEmptySelectionKey=this._keybindingService.createKey(E.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION,!1),this._langIdKey=this._keybindingService.createKey(E.KEYBINDING_CONTEXT_EDITOR_LANGUAGE_ID,void 0),this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},i=i||{},"undefined"==typeof i.ariaLabel&&(i.ariaLabel=l.DefaultConfig.editor.ariaLabel),this._configuration=this._createConfiguration(i),this._configuration.editor.tabFocusMode&&this._editorTabMovesFocusKey.set(!0),this._lifetimeDispose.push(this._configuration.onDidChange(function(e){return d.emit(E.EventType.ConfigurationChanged,e)})),this._telemetryService=a,this._instantiationService=n.createChild(new c.ServiceCollection([u.IKeybindingService,this._keybindingService])),this._attachModel(null),this.contributions={},h.stop(),this._codeEditorService.addCodeEditor(this)}return h(t,e),t.prototype.onDidChangeModelRawContent=function(e){return this.addListener2(E.EventType.ModelRawContentChanged,e)},t.prototype.onDidChangeModelContent=function(e){return this.addListener2(E.EventType.ModelContentChanged2,e)},t.prototype.onDidChangeModelMode=function(e){return this.addListener2(E.EventType.ModelModeChanged,e)},t.prototype.onDidChangeModelOptions=function(e){return this.addListener2(E.EventType.ModelOptionsChanged,e)},t.prototype.onDidChangeModelModeSupport=function(e){return this.addListener2(E.EventType.ModelModeSupportChanged,e)},t.prototype.onDidChangeModelDecorations=function(e){return this.addListener2(E.EventType.ModelDecorationsChanged,e)},t.prototype.onDidChangeConfiguration=function(e){return this.addListener2(E.EventType.ConfigurationChanged,e)},t.prototype.onDidChangeModel=function(e){return this.addListener2(E.EventType.ModelChanged,e)},t.prototype.onDidChangeCursorPosition=function(e){return this.addListener2(E.EventType.CursorPositionChanged,e)},t.prototype.onDidChangeCursorSelection=function(e){return this.addListener2(E.EventType.CursorSelectionChanged,e)},t.prototype.onDidFocusEditorText=function(e){return this.addListener2(E.EventType.EditorTextFocus,e)},t.prototype.onDidBlurEditorText=function(e){return this.addListener2(E.EventType.EditorTextBlur,e)},t.prototype.onDidFocusEditor=function(e){return this.addListener2(E.EventType.EditorFocus,e)},t.prototype.onDidBlurEditor=function(e){return this.addListener2(E.EventType.EditorBlur,e)},t.prototype.onDidDispose=function(e){return this.addListener2(E.EventType.Disposed,e)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return E.EditorType.ICodeEditor},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._lifetimeDispose=r.dispose(this._lifetimeDispose);for(var t=Object.keys(this.contributions),i=0,n=t.length;i<n;i++){var o=t[i];this.contributions[o].dispose()}this.contributions={},this._postDetachModelCleanup(this._detachModel()),this._configuration.dispose(),this._keybindingService.dispose(),this.emit(E.EventType.Disposed),e.prototype.dispose.call(this)},t.prototype.captureState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return new f.EditorState(this,e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e),this._configuration.editor.tabFocusMode?this._editorTabMovesFocusKey.set(!0):this._editorTabMovesFocusKey.reset()},t.prototype.getConfiguration=function(){return this._configuration.editorClone},t.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),this.model){var t=!(!e||!e.preserveBOM),i=E.EndOfLinePreference.TextDefined;return e&&e.lineEnding&&"\n"===e.lineEnding?i=E.EndOfLinePreference.LF:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=E.EndOfLinePreference.CRLF),this.model.getValue(i,t)}return""},t.prototype.setValue=function(e){this.model&&this.model.setValue(e)},t.prototype.getModel=function(){return this.model},t.prototype.setModel=function(e){if(void 0===e&&(e=null),this.model!==e){var t=s.start(s.Topic.EDITOR,"CodeEditor.setModel"),i=this._detachModel();this._attachModel(e);var n={oldModelUrl:i?i.uri:null,newModelUrl:e?e.uri:null};t.stop(),this.emit(E.EventType.ModelChanged,n),this._postDetachModelCleanup(i)}},t.prototype.getVisibleColumnFromPosition=function(e){if(!this.model)return e.column;var t=this.model.validatePosition(e),i=this.model.getOptions().tabSize;return p.CursorMoveHelper.visibleColumnFromColumn(this.model,t.lineNumber,t.column,i)+1},t.prototype.getPosition=function(){return this.cursor?this.cursor.getPosition().clone():null},t.prototype.setPosition=function(e,t,i,n){if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),this.cursor){if(!g.Position.isIPosition(e))throw new Error("Invalid arguments");this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}]),t&&this.revealPosition(e,i,n)}},t.prototype._sendRevealRange=function(e,t,i){if(this.model&&this.cursor){if(!m.Range.isIRange(e))throw new Error("Invalid arguments");var n=this.model.validateRange(e),o={range:n,viewRange:null,verticalType:t,revealHorizontal:i};this.cursor.emit(E.EventType.CursorRevealRange,o)}},t.prototype.revealLine=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},E.VerticalRevealType.Simple,!1)},t.prototype.revealLineInCenter=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},E.VerticalRevealType.Center,!1)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1},E.VerticalRevealType.CenterIfOutsideViewport,!1)},t.prototype.revealPosition=function(e,t,i){if(void 0===t&&(t=!1),void 0===i&&(i=!1),!g.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},t?E.VerticalRevealType.Center:E.VerticalRevealType.Simple,i)},t.prototype.revealPositionInCenter=function(e){if(!g.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},E.VerticalRevealType.Center,!0)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){if(!g.Position.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},E.VerticalRevealType.CenterIfOutsideViewport,!0)},t.prototype.getSelection=function(){return this.cursor?this.cursor.getSelection().clone():null},t.prototype.getSelections=function(){if(!this.cursor)return null;for(var e=this.cursor.getSelections(),t=[],i=0,n=e.length;i<n;i++)t[i]=e[i].clone();return t},t.prototype.setSelection=function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=!1);var o=v.Selection.isISelection(e),r=m.Range.isIRange(e);if(!o&&!r)throw new Error("Invalid arguments");if(o)this._setSelectionImpl(e,t,i,n);else if(r){var s={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(s,t,i,n)}},t.prototype._setSelectionImpl=function(e,t,i,n){if(this.cursor){var o=new v.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[o]),t&&this.revealRange(o,i,n)}},t.prototype.revealLines=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},E.VerticalRevealType.Simple,!1)},t.prototype.revealLinesInCenter=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},E.VerticalRevealType.Center,!1)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this._sendRevealRange({startLineNumber:e,startColumn:1,endLineNumber:t,endColumn:1},E.VerticalRevealType.CenterIfOutsideViewport,!1)},t.prototype.revealRange=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!0),this._sendRevealRange(e,t?E.VerticalRevealType.Center:E.VerticalRevealType.Simple,i)},t.prototype.revealRangeInCenter=function(e){this._sendRevealRange(e,E.VerticalRevealType.Center,!0)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this._sendRevealRange(e,E.VerticalRevealType.CenterIfOutsideViewport,!0)},t.prototype.setSelections=function(e){if(this.cursor){if(!e||0===e.length)throw new Error("Invalid arguments");for(var t=0,i=e.length;t<i;t++)if(!v.Selection.isISelection(e[t]))throw new Error("Invalid arguments");this.cursor.setSelections("api",e)}},t.prototype.onVisible=function(){},t.prototype.onHide=function(){},t.prototype.getContribution=function(e){return this.contributions[e]||null},t.prototype.addAction=function(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");var t=this._instantiationService.createInstance(y.DynamicEditorAction,e,this);this.contributions[t.getId()]=t},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this.contributions),n=0,o=t.length;n<o;n++){var r=t[n],s=this.contributions[r];i.isAction(s)&&e.push(s)}return e},t.prototype.getAction=function(e){var t=this.contributions[e];return t&&i.isAction(t)?t:null},t.prototype.trigger=function(e,t,i){i=i||{};var o=this.getAction(t);if(null!==o)o.enabled&&(this._telemetryService.publicLog("editorActionInvoked",{name:o.label,id:o.id}),a.TPromise.as(o.run()).done(null,n.onUnexpectedError));else{if(!this.cursor)return;this.cursor.trigger(e,t,i)}},t.prototype.executeCommand=function(e,t){this.cursor&&this.cursor.trigger(e,E.Handler.ExecuteCommand,t)},t.prototype.pushUndoStop=function(){return!!this.cursor&&(!this._configuration.editor.readOnly&&(this.model.pushStackElement(),!0))},t.prototype.executeEdits=function(e,t){var i=this;return!!this.cursor&&(!this._configuration.editor.readOnly&&(this.model.pushEditOperations(this.cursor.getSelections(),t,function(){return i.cursor.getSelections()}),!0))},t.prototype.executeCommands=function(e,t){this.cursor&&this.cursor.trigger(e,E.Handler.ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this.model?this.model.changeDecorations(e,this.id):null},t.prototype.getLineDecorations=function(e){return this.model?this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly):null},t.prototype.deltaDecorations=function(e,t){return this.model?0===e.length&&0===t.length?e:this.model.deltaDecorations(e,t,this.id):[]},t.prototype.setDecorations=function(e,t){var i={},n=this._decorationTypeSubtypes[e]||{};this._decorationTypeSubtypes[e]=i;for(var o=[],r=0,s=t;r<s.length;r++){var a=s[r],c=e;if(a.renderOptions){var u=C.hash(a.renderOptions).toString(16);c=e+"-"+u,n[u]||i[u]||this._codeEditorService.registerDecorationType(c,a.renderOptions,e),i[u]=!0}var l=this._codeEditorService.resolveDecorationOptions(c,!!a.hoverMessage);a.hoverMessage&&(l.hoverMessage=a.hoverMessage),o.push({range:a.range,options:l})}for(var u in n)i[u]||this._codeEditorService.removeDecorationType(e+"-"+u);var d=this._decorationTypeKeysToIds[e]||[];this._decorationTypeKeysToIds[e]=this.deltaDecorations(d,o)},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.addTypingListener=function(e,t){var i=this;return this.cursor?(this.cursor.addTypingListener(e,t),{dispose:function(){i.cursor&&i.cursor.removeTypingListener(e,t)}}):{dispose:function(){}}},t.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo},t.prototype._attachModel=function(e){var t=this;if(this.model=e?e:null,this.listenersToRemove=[],this.viewModel=null,this.cursor=null,this.model){this.domElement.setAttribute("data-mode-id",this.model.getMode().getId()),this._langIdKey.set(this.model.getMode().getId()),this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines()),this.model.onBeforeAttached();var i=new S.CharacterHardWrappingLineMapperFactory(this._configuration.editor.wrappingInfo.wordWrapBreakBeforeCharacters,this._configuration.editor.wrappingInfo.wordWrapBreakAfterCharacters,this._configuration.editor.wrappingInfo.wordWrapBreakObtrusiveCharacters),n=new b.SplitLinesCollection(this.model,i,this.model.getOptions().tabSize,this._configuration.editor.wrappingInfo.wrappingColumn,this._configuration.editor.fontInfo.typicalFullwidthCharacterWidth/this._configuration.editor.fontInfo.typicalHalfwidthCharacterWidth,this._configuration.editor.wrappingInfo.wrappingIndent);this.viewModel=new _.ViewModel(n,this.id,this._configuration,this.model,function(){return t.getCenteredRangeInViewport()});var o={viewModel:this.viewModel,convertModelPositionToViewPosition:function(e,i){return t.viewModel.convertModelPositionToViewPosition(e,i)},convertModelRangeToViewRange:function(e){return t.viewModel.convertModelRangeToViewRange(e)},convertViewToModelPosition:function(e,i){return t.viewModel.convertViewPositionToModelPosition(e,i)},convertViewSelectionToModelSelection:function(e){return t.viewModel.convertViewSelectionToModelSelection(e)},validateViewPosition:function(e,i,n){return t.viewModel.validateViewPosition(e,i,n)},validateViewRange:function(e,i,n,o,r){return t.viewModel.validateViewRange(e,i,n,o,r)}};this.cursor=new d.Cursor(this.id,this._configuration,this.model,o,this._enableEmptySelectionClipboard()),this.viewModel.addEventSource(this.cursor),this._createView(),this.listenersToRemove.push(this._getViewInternalEventBus().addBulkListener2(function(e){for(var i=0,n=e.length;i<n;i++){var o=e[i].getType(),r=e[i].getData();switch(o){case E.EventType.ViewFocusGained:t.emit(E.EventType.EditorTextFocus),t.emit(E.EventType.EditorFocus,{});break;case"scroll":t.emit("scroll",r);break;case E.EventType.ViewFocusLost:t.emit(E.EventType.EditorTextBlur);break;case E.EventType.ContextMenu:t.emit(E.EventType.ContextMenu,r);break;case E.EventType.MouseDown:t.emit(E.EventType.MouseDown,r);break;case E.EventType.MouseUp:t.emit(E.EventType.MouseUp,r);break;case E.EventType.KeyUp:t.emit(E.EventType.KeyUp,r);break;case E.EventType.MouseMove:t.emit(E.EventType.MouseMove,r);break;case E.EventType.MouseLeave:t.emit(E.EventType.MouseLeave,r);break;case E.EventType.KeyDown:t.emit(E.EventType.KeyDown,r);break;case E.EventType.ViewLayoutChanged:t.emit(E.EventType.EditorLayout,r)}}})),this.listenersToRemove.push(this.model.addBulkListener(function(e){for(var i=0,n=e.length;i<n;i++){var o=e[i].getType(),r=e[i].getData();switch(o){case E.EventType.ModelDecorationsChanged:t.emit(E.EventType.ModelDecorationsChanged,r);break;case E.EventType.ModelModeChanged:t.domElement.setAttribute("data-mode-id",t.model.getMode().getId()),t._langIdKey.set(t.model.getMode().getId()),t.emit(E.EventType.ModelModeChanged,r);break;case E.EventType.ModelModeSupportChanged:t.emit(E.EventType.ModelModeSupportChanged,r);break;case E.EventType.ModelRawContentChanged:t.emit(E.EventType.ModelRawContentChanged,r);break;case E.EventType.ModelContentChanged2:t.emit(E.EventType.ModelContentChanged2,r);break;case E.EventType.ModelOptionsChanged:t.emit(E.EventType.ModelOptionsChanged,r);break;case E.EventType.ModelDispose:t.setModel(null)}}}));var r=function(e){var t=[e.selection].concat(e.secondarySelections);return t.some(function(e){return!e.isEmpty()})};this.listenersToRemove.push(this.cursor.addBulkListener2(function(e){for(var i=!1,n=!1,o=!1,s=!1,a=0,c=e.length;a<c;a++){var u=e[a].getType(),l=e[a].getData();switch(u){case E.EventType.CursorPositionChanged:var d=l;i=!0,n=d.secondaryPositions.length>0,t.emit(E.EventType.CursorPositionChanged,l);break;case E.EventType.CursorSelectionChanged:var h=l;i=!0,n=h.secondarySelections.length>0,o=!0,s=r(h),t.emit(E.EventType.CursorSelectionChanged,l)}}i&&(n?t._hasMultipleSelectionsKey.set(!0):t._hasMultipleSelectionsKey.reset()),o&&(s?t._hasNonEmptySelectionKey.set(!0):t._hasNonEmptySelectionKey.reset())}))}else this.hasView=!1},t.prototype._postDetachModelCleanup=function(e){if(e){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var t in this._decorationTypeSubtypes){var i=this._decorationTypeSubtypes[t];for(var n in i)this._codeEditorService.removeDecorationType(t+"-"+n)}this._decorationTypeSubtypes={}}e.removeAllDecorationsWithOwnerId(this.id)}},t.prototype._detachModel=function(){this.model&&this.model.onBeforeDetached(),this.hasView=!1,this.listenersToRemove=r.dispose(this.listenersToRemove),this.cursor&&(this.cursor.dispose(),this.cursor=null),this.viewModel&&(this.viewModel.dispose(),this.viewModel=null);var e=this.model;return this.model=null,this.domElement.removeAttribute("data-mode-id"),e},t}(o.EventEmitter);t.CommonCodeEditor=I}),define(l[35],d([1,0,27,2,85,70,20,6]),function(e,t,i,n,o,r,s,a){"use strict";!function(e){e[e.EditorTitle=1]="EditorTitle",e[e.EditorContext=2]="EditorContext",e[e.ExplorerContext=3]="ExplorerContext"}(t.MenuId||(t.MenuId={}));t.MenuId;t.IMenuService=a.createDecorator("menuService");var c=function(e){function t(i,n){e.call(this,t._getMenuItemId(i),i.command.title),this._item=i,this._keybindingService=n,this.order=1e5}return h(t,e),t._getMenuItemId=function(e){var t=e.command.id;return e.alt&&(t+="||"+e.alt.id),t},Object.defineProperty(t.prototype,"resource",{get:function(){return this._resource},set:function(e){this._resource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._item.command},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"altCommand",{get:function(){return this._item.alt},enumerable:!0,configurable:!0}),t.prototype.run=function(e){var t=(e===!0&&this._item.alt||this._item.command).id;return this._keybindingService.executeCommand(t,this._resource)},t=g([m(1,s.IKeybindingService)],t)}(i.Action);t.MenuItemAction=c;var u=function(e){function t(t,i,n){e.call(this,t,i),this._keybindingService=n}return h(t,e),t.prototype.run=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return(i=this._keybindingService).executeCommand.apply(i,[this.id].concat(e));var i},t=g([m(2,s.IKeybindingService)],t)}(i.Action);t.ExecuteCommandAction=u;var l=function(){function e(e,t,i,n,o,s){this._id=t,this._label=i,this._keybindings=n,this._keybindingContext=o,this._keybindingWeight=s,this._descriptor=r.createSyncDescriptor(e,this._id,this._label)}return Object.defineProperty(e.prototype,"syncDescriptor",{get:function(){return this._descriptor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindings",{get:function(){return this._keybindings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindingContext",{get:function(){return this._keybindingContext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keybindingWeight",{get:function(){return this._keybindingWeight},enumerable:!0,configurable:!0}),e}();t.SyncActionDescriptor=l;var d=function(e){function t(t,i,n,o,r,s){void 0===o&&(o=""),void 0===r&&(r=""),void 0===s&&(s=!0),e.call(this,n,o,r,s),this._instantiationService=t,this._descriptor=i}return h(t,e),Object.defineProperty(t.prototype,"cachedAction",{get:function(){return this._cachedAction},set:function(e){this._cachedAction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._cachedAction instanceof i.Action?this._cachedAction.id:this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._cachedAction instanceof i.Action?this._cachedAction.label:this._label},set:function(e){this._cachedAction instanceof i.Action?this._cachedAction.label=e:this._setLabel(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this._cachedAction instanceof i.Action?this._cachedAction["class"]:this._cssClass},set:function(e){this._cachedAction instanceof i.Action?this._cachedAction["class"]=e:this._setClass(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._cachedAction instanceof i.Action?this._cachedAction.enabled:this._enabled},set:function(e){this._cachedAction instanceof i.Action?this._cachedAction.enabled=e:this._setEnabled(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._cachedAction instanceof i.Action?this._cachedAction.order:this._order},set:function(e){this._cachedAction instanceof i.Action?this._cachedAction.order=e:this._order=e},enumerable:!0,configurable:!0}),t.prototype.run=function(e){return this._cachedAction?this._cachedAction.run(e):this._createAction().then(function(t){return t.run(e)})},t.prototype._createAction=function(){var e=this,t=n.TPromise.as(void 0);return t.then(function(){return e._instantiationService.createInstance(e._descriptor)}).then(function(t){return o.ok(t instanceof i.Action,"Action must be an instanceof Base Action"),e._cachedAction=t,e._emitterUnbind=e.addEmitter2(e._cachedAction),t})},t.prototype.dispose=function(){this._emitterUnbind&&this._emitterUnbind.dispose(),this._cachedAction&&this._cachedAction.dispose(),e.prototype.dispose.call(this)},t}(i.Action);t.DeferredAction=d}),define(l[189],d([1,0,20,45]),function(e,t,i,n){"use strict";var o=function(){function e(t,i){this._modeService=i,this._schemeKey=t.createKey(e.Scheme,void 0),this._langIdKey=t.createKey(e.LangId,void 0),this._resourceKey=t.createKey(e.Resource,void 0)}return e.prototype.set=function(e){this._resourceKey.set(e),this._schemeKey.set(e&&e.scheme),this._langIdKey.set(e&&this._modeService.getModeIdByFilenameOrFirstLine(e.fsPath))},e.prototype.reset=function(){this._schemeKey.reset(),this._langIdKey.reset(),this._resourceKey.reset()},e.Scheme="resourceScheme",e.LangId="resourceLangId",e.Resource="resource",e=g([m(0,i.IKeybindingService),m(1,n.IModeService)],e)}();t.ResourceContextKey=o}),define(l[308],d([1,0,24,5,78,20,35,103,189]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=new(function(){function e(){this.commands=Object.create(null),this.menuItems=Object.create(null)}return e.prototype.addCommand=function(e){var t=this.commands[e.id];return this.commands[e.id]=e,void 0!==t},e.prototype.hasCommand=function(e){return void 0!==this.commands[e]},e.prototype.addMenuItems=function(e,t){var i=this.menuItems[e];i?i.push.apply(i,t):this.menuItems[e]=t},e.prototype.getMenuItems=function(e){var t=[],i=this.menuItems[e];if(i)for(var n=0,o=i;n<o.length;n++){var s=o[n],a=this.commands[s.command];if(a){var c=r.KbExpr.deserialize(s.when),u=this.commands[s.alt];t.push({when:c,command:a,alt:u,group:s.group})}}return t},e}());t.MenuRegistry=u;var l=function(){function e(e){this._extensionService=e,this.serviceId=s.IMenuService}return e.prototype.createMenu=function(e,t){return new d(e,t,this._extensionService)},e.prototype.getCommandActions=function(){return o.values(u.commands)},e=g([m(0,a.IExtensionService)],e)}();t.MenuService=l;var d=function(){function e(t,n,o){var r=this;this._keybindingService=n,this._extensionService=o,this._menuGroups=[],this._disposables=[],this._onDidChange=new i.Emitter,this._extensionService.onReady().then(function(i){var n,o=u.getMenuItems(t),a=Object.create(null);
o.sort(e._compareMenuItems);for(var c=0,l=o;c<l.length;c++){var d=l[c],h=e._group(d.group);n&&n[0]===h||(n=[h,[]],r._menuGroups.push(n)),n[1].push(new s.MenuItemAction(d,r._keybindingService)),e._fillInKbExprKeys(d.when,a)}r._disposables.push(r._keybindingService.onDidChangeContext(function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(a[n])return void r._onDidChange.fire()}})),r._onDidChange.fire(r)})}return e.prototype.dispose=function(){this._disposables=n.dispose(this._disposables),this._onDidChange.dispose()},Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.getActions=function(){for(var e=[],t=0,i=this._menuGroups;t<i.length;t++){for(var n=i[t],o=n[0],r=n[1],s=[],a=0,u=r;a<u.length;a++){var l=u[a];this._keybindingService.contextMatchesRules(l.item.when)&&(l.resource=this._keybindingService.getContextValue(c.ResourceContextKey.Resource),s.push(l))}r.length>0&&e.push([o,s])}return e},e._fillInKbExprKeys=function(e,t){if(e)for(var i=e.serialize().split(" && "),n=0,o=i;n<o.length;n++){var r=o[n],s=/^\S+/.exec(r);s&&(t[s[0]]=!0)}},e._compareMenuItems=function(t,i){return t.group===i.group?t.command.title.localeCompare(i.command.title):t.group?i.group?e._compareGroupId(t.group,i.group):-1:1},e._compareGroupId=function(e,t){var i=Number(e.substr(e.lastIndexOf("@")+1))||0,n=Number(t.substr(t.lastIndexOf("@")+1))||0;return i!==n?i<n?-1:1:e.localeCompare(t)},e._group=function(e){return e&&(e.substr(0,e.lastIndexOf("@"))||e)},e=g([m(1,r.IKeybindingService),m(2,a.IExtensionService)],e)}()}),define(l[191],d([1,0,13,12,20]),function(e,t,i,n,o){"use strict";function r(e,t){return e.length<t?e+new Array(t-e.length).join(" "):e}function s(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}var a=function(){function e(e,t,i,n){this.keybinding=e,this.command=t,this.actualCommand=this.command?this.command.replace(/^\^/,""):this.command,this.when=i,this.isDefault=n}return e.fromKeybindingItem=function(t,i){var n=null;return t.when&&(n=t.when.normalize()),new e(t.keybinding,t.command,n,i)},e}();t.NormalizedKeybindingItem=a;var c=function(){function e(t,n,o){void 0===o&&(o=!0),t=t.slice(0).sort(s),this._defaultKeybindings=t,this._shouldWarnOnConflict=o,this._defaultBoundCommands=Object.create(null);for(var r=0,a=t.length;r<a;r++)this._defaultBoundCommands[t[r].command]=!0;this._map=Object.create(null),this._lookupMap=Object.create(null),this._lookupMapUnreachable=Object.create(null),this._chords=Object.create(null);for(var c=e.combine(t,n),r=0,a=c.length;r<a;r++){var u=c[r];if(0!==u.keybinding){var l={when:u.when,keybinding:u.keybinding,commandId:u.command};if(i.BinaryKeybindings.hasChord(u.keybinding)){var d=i.BinaryKeybindings.extractFirstPart(u.keybinding),h=i.BinaryKeybindings.extractChordPart(u.keybinding);this._chords[d]=this._chords[d]||Object.create(null),this._chords[d][h]=this._chords[d][h]||[],this._chords[d][h].push(l),this._addKeyPress(d,l,u)}else this._addKeyPress(u.keybinding,l,u)}}}return e._isTargetedForRemoval=function(e,t,i,n){if(e.actualCommand!==i)return!1;if(t&&e.keybinding!==t)return!1;if(n){if(!e.when)return!1;if(!n.equals(e.when))return!1}return!0},e.combine=function(e,t){for(var i=e.map(function(e){return a.fromKeybindingItem(e,!0)}),n=[],o=0,r=t.length;o<r;o++){var s=a.fromKeybindingItem(t[o],!1);if(s.command&&0!==s.command.length&&"-"===s.command.charAt(0))for(var c=s.command.substr(1),u=s.keybinding,l=s.when,d=i.length-1;d>=0;d--)this._isTargetedForRemoval(i[d],u,c,l)&&i.splice(d,1);else n.push(s)}return i.concat(n)},e.prototype._addKeyPress=function(t,n,o){if(!this._map[t])return this._map[t]=[n],void this._addToLookupMap(o);for(var r=this._map[t],s=r.length-1;s>=0;s--){var a=r[s];a.commandId!==o.command&&(i.BinaryKeybindings.hasChord(a.keybinding)&&i.BinaryKeybindings.hasChord(n.keybinding)&&a.keybinding!==n.keybinding||e.whenIsEntirelyIncluded(!0,a.when,o.when)&&(this._shouldWarnOnConflict&&o.isDefault&&console.warn("Conflict detected, command `"+a.commandId+"` cannot be triggered by "+i.Keybinding.toUserSettingsLabel(t)+" due to "+o.command),this._lookupMapUnreachable[a.commandId]=this._lookupMapUnreachable[a.commandId]||[],this._lookupMapUnreachable[a.commandId].push(a.keybinding)))}r.push(n),this._addToLookupMap(o)},e.whenIsEntirelyIncluded=function(e,t,i){if(e||(t=t?t.normalize():null,i=i?i.normalize():null),!i)return!0;if(!t)return!1;for(var n=t.serialize().split(" && "),o=i.serialize().split(" && "),r=Object.create(null),s=0,a=n.length;s<a;s++)r[n[s]]=!0;for(var s=0,a=o.length;s<a;s++)if(!r[o[s]])return!1;return!0},e.prototype._addToLookupMap=function(e){e.command&&(this._lookupMap[e.command]=this._lookupMap[e.command]||[],this._lookupMap[e.command].push(e))},e.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands},e.prototype.getDefaultKeybindings=function(){var e=new u;e.writeLine("[");var t=this._defaultKeybindings.length-1;return this._defaultKeybindings.forEach(function(i,n){l.writeKeybindingItem(e,i),n!==t?e.writeLine(","):e.writeLine()}),e.writeLine("]"),e.toString()},e.prototype.lookupKeybinding=function(e){var t=this._lookupMap[e];if(!t)return[];var n=t.map(function(e){return e.keybinding}),o=this._lookupMapUnreachable[e];o&&(n=n.filter(function(e){return o.indexOf(e)===-1}));var r=[],s=n.filter(function(e){return!(r.indexOf(e)>=0)&&(r.push(e),!0)});return s.map(function(e){return new i.Keybinding(e)}).reverse()},e.prototype.resolve=function(e,t,n){var o=null;if(0!==t){var r=this._chords[t];if(!r)return null;o=r[n]}else o=this._map[n];var s=this._findCommand(e,o);return s?0===t&&i.BinaryKeybindings.hasChord(s.keybinding)?{enterChord:n,commandId:null}:{enterChord:0,commandId:s.commandId}:null},e.prototype._findCommand=function(t,i){if(!i)return null;for(var n=i.length-1;n>=0;n--){var o=i[n];if(e.contextMatchesRules(t,o.when))return o}return null},e.contextMatchesRules=function(e,t){return!t||t.evaluate(e)},e}();t.KeybindingResolver=c;var u=function(){function e(){this._lines=[],this._currentLine=""}return e.prototype.write=function(e){this._currentLine+=e},e.prototype.writeLine=function(e){void 0===e&&(e=""),this._lines.push(this._currentLine+e),this._currentLine=""},e.prototype.toString=function(){return this.writeLine(),this._lines.join("\n")},e}();t.OutputBuilder=u;var l=function(){function e(){}return e.writeKeybindingItem=function(t,i){var n=JSON.stringify(e.writeKeybinding(i.keybinding));t.write('{ "key": '+r(n+",",25)+' "command": ');var o=i.when?i.when.serialize():"",s=JSON.stringify(i.command);o.length>0?(t.write(s+","),t.writeLine(),t.write('                                     "when": "'+o+'" ')):t.write(s+" "),t.write("}")},e.readKeybindingItem=function(t,i){var n=e.readKeybinding(t.key),o=e.readKeybindingWhen(t.when);return{keybinding:n,command:t.command,when:o,weight1:1e3,weight2:i}},e.writeKeybinding=function(e,t){return void 0===t&&(t=n),i.Keybinding.toUserSettingsLabel(e,t)},e.readKeybinding=function(e,t){return void 0===t&&(t=n),i.Keybinding.fromUserSettingsLabel(e,t)},e.readKeybindingWhen=function(e){return o.KbExpr.deserialize(e)},e}();t.IOSupport=l}),define(l[72],d([1,0,6]),function(e,t,i){"use strict";t.ILifecycleService=i.createDecorator("lifecycleService"),t.NullLifecycleService={serviceId:null,onWillShutdown:function(){return{dispose:function(){}}},onShutdown:function(){return{dispose:function(){}}}}}),define(l[118],d([1,0,6]),function(e,t,i){"use strict";t.IMarkerService=i.createDecorator("markerService"),function(e){e[e["transient"]=1]="transient",e[e.permanent=2]="permanent"}(t.MarkerType||(t.MarkerType={}));t.MarkerType}),define(l[634],d([1,0,41,98,9,78,19,24,33,118]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l;!function(e){function t(e){var t=/^(.*)→(.*)$/.exec(e);return{owner:t[1],resource:s["default"].parse(t[2])}}function i(e){return e.owner+"→"+e.resource}function n(e,t){return new RegExp(o.format(a,e?o.escapeRegExpCharacters(e):".*",t?o.escapeRegExpCharacters(t.toString()):".*"))}function r(e,t){return e+"→"+t}e.fromValue=t,e.valueOf=i;var a="^({0})→({1})$";e.selector=n,e.raw=r}(l||(l={}));var d=function(){function e(){this.serviceId=u.IMarkerService,this._data=Object.create(null),this._stats=this._emptyStats(),this._onMarkerChanged=new a.Emitter}return e.prototype.getStatistics=function(){return this._stats},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChanged?this._onMarkerChanged.event:null},enumerable:!0,configurable:!0}),e.prototype.changeOne=function(e,t,i){this._doChangeOne(e,t,i)&&this._onMarkerChanged.fire([t])},e.prototype.remove=function(e,t){if(!i.isFalsyOrEmpty(t)){for(var n,o=0,r=t;o<r.length;o++){var s=r[o];this._doChangeOne(e,s,void 0)&&(n||(n=[]),n.push(s))}n&&this._onMarkerChanged.fire(n)}},e.prototype._doChangeOne=function(e,t,n){var o=l.raw(e,t),r=this._data[o],s=!i.isFalsyOrEmpty(r),a=!i.isFalsyOrEmpty(n),c=this._computeStats(r),u=this._computeStats(n);if(s||a)return a?this._data[o]=n:s&&delete this._data[o],this._isStatRelevant(t)&&(this._updateStatsMinus(c),this._updateStatsPlus(u)),!0},e.prototype.changeAll=function(e,t){var n=this,o=Object.create(null),s=this._emptyStats();if(this._forEach(e,void 0,void 0,-1,function(e,t){var i=l.fromValue(e.key).resource;n._isStatRelevant(i)&&n._updateStatsPlus(s,n._computeStats(e.value)),o[i.toString()]=i,t()}),this._updateStatsMinus(s),!i.isFalsyOrEmpty(t)){var a=this._emptyStats();t.forEach(function(t){o[t.resource.toString()]=t.resource,r.lookupOrInsert(n._data,l.raw(e,t.resource),[]).push(t.marker),n._isStatRelevant(t.resource)&&n._updateStatsMarker(a,t.marker)}),this._updateStatsPlus(a)}this._onMarkerChanged.fire(r.values(o))},e.prototype.read=function(e){var t=this;void 0===e&&(e=Object.create(null));var i=[];return this._forEach(e.owner,e.resource,e.selector,e.take,function(e){return t._fromEntry(e,i)}),i},e.prototype._isStatRelevant=function(e){return e.scheme!==n.Schemas.inMemory},e.prototype._forEach=function(e,t,i,n,o){var s=i||l.selector(e,t),a=0;r.forEach(this._data,function(e,t){if(s.test(e.key)&&(o(e,t),n>0&&a++>=n))return!1})},e.prototype._fromEntry=function(t,i){var n=l.fromValue(t.key);t.value.forEach(function(t){var o=e._sanitize(t);o&&i.push({owner:n.owner,resource:n.resource,code:t.code,message:t.message,source:t.source,severity:t.severity,startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn})})},e.prototype._computeStats=function(e){var t=0,i=0,n=0,o=0;if(e)for(var r=0;r<e.length;r++){var s=e[r];if(s.severity)switch(s.severity){case c["default"].Error:t++;break;case c["default"].Warning:i++;break;case c["default"].Info:n++;break;default:o++}else o++}return{errors:t,warnings:i,infos:n,unknwons:o}},e.prototype._emptyStats=function(){return{errors:0,warnings:0,infos:0,unknwons:0}},e.prototype._updateStatsPlus=function(e,t){t||(t=e,e=this._stats),e.errors+=t.errors,e.warnings+=t.warnings,e.infos+=t.infos,e.unknwons+=t.unknwons},e.prototype._updateStatsMinus=function(e,t){t||(t=e,e=this._stats),e.errors-=t.errors,e.warnings-=t.warnings,e.infos-=t.infos,e.unknwons-=t.unknwons},e.prototype._updateStatsMarker=function(e,t){switch(t.severity){case c["default"].Error:e.errors++;break;case c["default"].Warning:e.warnings++;break;case c["default"].Info:e.infos++;break;default:e.unknwons++}},e._sanitize=function(e){return!!e.message&&(e.code=e.code||null,e.startLineNumber=e.startLineNumber>0?e.startLineNumber:1,e.startColumn=e.startColumn>0?e.startColumn:1,e.endLineNumber=e.endLineNumber>=e.startLineNumber?e.endLineNumber:e.startLineNumber,e.endColumn=e.endColumn>0?e.endColumn:e.startColumn,!0)},e}();t.MarkerService=d}),define(l[294],d([1,0,468,29,9,85,25,17,33,19,181]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e){return!!a.isString(e.name)}function p(e,t){var i,n=t.fileLocation;return n===m.Absolute?i=e:n===m.Relative&&(i=s.join(t.filePrefix,e)),i=i.replace(/\\/g,"/"),"/"!==i[0]&&(i="/"+i),u["default"].parse("file://"+i)}function f(e){var t=e.pattern;return a.isArray(t)?new b(e):new S(e)}function g(e){return _[e]}!function(e){e[e.Auto=0]="Auto",e[e.Relative=1]="Relative",e[e.Absolute=2]="Absolute"}(t.FileLocationKind||(t.FileLocationKind={}));var m,m=t.FileLocationKind;!function(e){function t(t){return t=t.toLowerCase(),"absolute"===t?e.Absolute:"relative"===t?e.Relative:void 0}e.fromString=t}(m=t.FileLocationKind||(t.FileLocationKind={})),t.problemPatternProperties=["file","message","location","line","column","endLine","endColumn","code","severity","loop","mostSignifikant"],function(e){e[e.allDocuments=0]="allDocuments",e[e.openDocuments=1]="openDocuments",e[e.closedDocuments=2]="closedDocuments"}(t.ApplyToKind||(t.ApplyToKind={}));var v,v=t.ApplyToKind;!function(e){function t(t){return t=t.toLowerCase(),"alldocuments"===t?e.allDocuments:"opendocuments"===t?e.openDocuments:"closeddocuments"===t?e.closedDocuments:void 0}e.fromString=t}(v=t.ApplyToKind||(t.ApplyToKind={})),t.isNamedProblemMatcher=d;var y={E:"error",W:"warning",I:"info"};t.getResource=p,t.createLineMatcher=f;var E=function(){function e(e){this.matcher=e}return e.prototype.handle=function(e,t){return void 0===t&&(t=0),{match:null,"continue":!1}},e.prototype.next=function(e){return null},Object.defineProperty(e.prototype,"matchLength",{get:function(){throw new Error("Subclass reponsibility")},enumerable:!0,configurable:!0}),e.prototype.fillProblemData=function(e,t,i){this.fillProperty(e,"file",t,i,!0),this.fillProperty(e,"message",t,i,!0),this.fillProperty(e,"code",t,i,!0),this.fillProperty(e,"severity",t,i,!0),this.fillProperty(e,"location",t,i,!0),this.fillProperty(e,"line",t,i),this.fillProperty(e,"column",t,i),this.fillProperty(e,"endLine",t,i),this.fillProperty(e,"endColumn",t,i)},e.prototype.fillProperty=function(e,t,i,n,r){if(void 0===r&&(r=!1),a.isUndefined(e[t])&&!a.isUndefined(i[t])&&i[t]<n.length){var s=n[i[t]];r&&(s=o.trim(s)),e[t]=s}},e.prototype.getMarkerMatch=function(e){var t=this.getLocation(e);if(e.file&&t&&e.message){var i={severity:this.getSeverity(e),startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.startLineNumber,endColumn:t.endColumn,message:e.message};return a.isUndefined(e.code)||(i.code=e.code),{description:this.matcher,resource:this.getResource(e.file),marker:i}}},e.prototype.getResource=function(e){return p(e,this.matcher)},e.prototype.getLocation=function(e){if(e.location)return this.parseLocationInfo(e.location);if(!e.line)return null;var t=parseInt(e.line),i=e.column?parseInt(e.column):void 0,n=e.endLine?parseInt(e.endLine):void 0,o=e.endColumn?parseInt(e.endColumn):void 0;return this.createLocation(t,i,n,o)},e.prototype.parseLocationInfo=function(e){if(!e||!e.match(/(\d+|\d+,\d+|\d+,\d+,\d+,\d+)/))return null;var t=e.split(","),i=parseInt(t[0]),n=t.length>1?parseInt(t[1]):void 0;return t.length>3?this.createLocation(i,n,parseInt(t[2]),parseInt(t[3])):this.createLocation(i,n,void 0,void 0)},e.prototype.createLocation=function(e,t,i,n){return e&&t&&n?{startLineNumber:e,startColumn:t,endLineNumber:i||e,endColumn:n}:e&&t?{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}:{startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:Number.MAX_VALUE}},e.prototype.getSeverity=function(e){var t=null;if(e.severity){var i=e.severity;i&&i.length>0&&(1===i.length&&y[i[0]]&&(i=y[i[0]]),t=c["default"].fromValue(i))}return null!==t&&t!==c["default"].Ignore||(t=this.matcher.severity||c["default"].Error),t},e}(),S=function(e){function t(t){e.call(this,t),this.pattern=t.pattern}return h(t,e),Object.defineProperty(t.prototype,"matchLength",{get:function(){return 1},enumerable:!0,configurable:!0}),t.prototype.handle=function(e,t){void 0===t&&(t=0),r.ok(e.length-t===1);var i=Object.create(null),n=this.pattern.regexp.exec(e[t]);if(n){this.fillProblemData(i,this.pattern,n);var o=this.getMarkerMatch(i);if(o)return{match:o,"continue":!1}}return{match:null,"continue":!1}},t.prototype.next=function(e){return null},t}(E),b=function(e){function t(t){e.call(this,t),this.patterns=t.pattern}return h(t,e),Object.defineProperty(t.prototype,"matchLength",{get:function(){return this.patterns.length},enumerable:!0,configurable:!0}),t.prototype.handle=function(e,t){void 0===t&&(t=0),r.ok(e.length-t===this.patterns.length),this.data=Object.create(null);for(var i=this.data,o=0;o<this.patterns.length;o++){var s=this.patterns[o],a=s.regexp.exec(e[o+t]);if(!a)return{match:null,"continue":!1};s.loop&&o===this.patterns.length-1&&(i=n.clone(i)),this.fillProblemData(i,s,a)}var c=this.patterns[this.patterns.length-1].loop;return c||(this.data=null),{match:this.getMarkerMatch(i),"continue":c}},t.prototype.next=function(e){var t=this.patterns[this.patterns.length-1];r.ok(t.loop===!0&&null!==this.data);var i=t.regexp.exec(e);if(!i)return this.data=null,null;var o=n.clone(this.data);return this.fillProblemData(o,t,i),this.getMarkerMatch(o)},t}(E),_=Object.create(null);_.msCompile={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(\w{1,2}\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},_["gulp-tsc"]={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(\d+)\s+(.*)$/,file:1,location:2,code:3,message:4},_.tsc={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(TS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},_.cpp={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(C\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},_.csc={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(CS\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},_.vb={regexp:/^([^\s].*)\((\d+|\d+,\d+|\d+,\d+,\d+,\d+)\):\s+(error|warning|info)\s+(BC\d+)\s*:\s*(.*)$/,file:1,location:2,severity:3,code:4,message:5},_.lessCompile={regexp:/^\s*(.*) in file (.*) line no. (\d+)$/,message:1,file:2,line:3},_.jshint={regexp:/^(.*):\s+line\s+(\d+),\s+col\s+(\d+),\s(.+?)(?:\s+\((\w)(\d+)\))?$/,file:1,line:2,column:3,message:4,severity:5,code:6},_["jshint-stylish"]=[{regexp:/^(.+)$/,file:1},{regexp:/^\s+line\s+(\d+)\s+col\s+(\d+)\s+(.+?)(?:\s+\((\w)(\d+)\))?$/,line:1,column:2,message:3,severity:4,code:5,loop:!0}],_["eslint-compact"]={regexp:/^(.+):\sline\s(\d+),\scol\s(\d+),\s(Error|Warning|Info)\s-\s(.+)\s\((.+)\)$/,file:1,line:2,column:3,severity:4,message:5,code:6},_["eslint-stylish"]=[{regexp:/^([^\s].*)$/,file:1},{regexp:/^\s+(\d+):(\d+)\s+(error|warning|info)\s+(.+?)\s\s+(.*)$/,line:1,column:2,severity:3,message:4,code:5,loop:!0}],_.go={regexp:/^([^:]*: )?((.:)?[^:]*):(\d+)(:(\d+))?: (.*)$/,file:2,line:4,column:6,message:7},t.defaultPattern=g;var C;!function(e){function t(e){return a.isString(e.name)}var i;!function(e){e.Error="error",e.Warning="warning",e.Info="info"}(i=e.ProblemSeverity||(e.ProblemSeverity={})),e.isNamedProblemMatcher=t}(C=t.Config||(t.Config={}));var w=function(e){function o(t,i,n){void 0===n&&(n=new l.ValidationStatus),e.call(this,i,n),this.resolver=t}return h(o,e),o.prototype.parse=function(e){var t=this.createProblemMatcher(e);return this.checkProblemMatcherValid(e,t)?(this.addWatchingMatcher(e,t),t):null},o.prototype.checkProblemMatcherValid=function(e,t){return!(!(t&&t.pattern&&t.owner)||a.isUndefined(t.fileLocation))||(this.status.state=l.ValidationState.Fatal,this.log(i.localize(0,null,JSON.stringify(e,null,4))),!1)},o.prototype.createProblemMatcher=function(e){var t=null,o=e.owner?e.owner:"external",r=a.isString(e.applyTo)?v.fromString(e.applyTo):v.allDocuments;r||(r=v.allDocuments);var s,u=void 0,d=void 0;if(a.isUndefined(e.fileLocation))u=m.Relative,d="${cwd}";else if(a.isString(e.fileLocation))s=m.fromString(e.fileLocation),s&&(u=s,s===m.Relative&&(d="${cwd}"));else if(a.isStringArray(e.fileLocation)){var h=e.fileLocation;h.length>0&&(s=m.fromString(h[0]),1===h.length&&s===m.Absolute?u=s:2===h.length&&s===m.Relative&&h[1]&&(u=s,d=h[1]))}var p=e.pattern?this.createProblemPattern(e.pattern):void 0,f=e.severity?c["default"].fromValue(e.severity):void 0;if(f===c["default"].Ignore&&(this.status.state=l.ValidationState.Info,this.log(i.localize(1,null,e.severity)),f=c["default"].Error),a.isString(e.base)){var g=e.base;if(g.length>1&&"$"===g[0]){var y=this.resolver.get(g.substring(1));y&&(t=n.clone(y),e.owner&&(t.owner=o),u&&(t.fileLocation=u),d&&(t.filePrefix=d),e.pattern&&(t.pattern=p),e.severity&&(t.severity=f))}}else u&&(t={owner:o,applyTo:r,fileLocation:u,pattern:p},d&&(t.filePrefix=d),f&&(t.severity=f));return C.isNamedProblemMatcher(e)&&(t.name=e.name),t},o.prototype.createProblemPattern=function(e){var t;if(!a.isString(e)){if(a.isArray(e)){for(var n=e,o=[],r=0;r<n.length;r++)t=this.createSingleProblemPattern(n[r],!1),r<n.length-1&&!a.isUndefined(t.loop)&&t.loop&&(t.loop=!1,this.status.state=l.ValidationState.Error,this.log(i.localize(2,null))),o.push(t);return this.validateProblemPattern(o),o}return t=this.createSingleProblemPattern(e,!0),!a.isUndefined(t.loop)&&t.loop&&(t.loop=!1,this.status.state=l.ValidationState.Error,this.log(i.localize(3,null))),this.validateProblemPattern([t]),t}var s=e;return s.length>1&&"$"===s[0]?g(s.substring(1)):null},o.prototype.createSingleProblemPattern=function(e,i){var o={regexp:this.createRegularExpression(e.regexp)};return t.problemPatternProperties.forEach(function(t){a.isUndefined(e[t])||(o[t]=e[t])}),i&&(o=o.location?n.mixin(o,{file:1,message:0},!1):n.mixin(o,{file:1,line:2,column:3,message:0},!1)),o},o.prototype.validateProblemPattern=function(e){var t,n,o,r,s=0;e.forEach(function(e){t=t||!a.isUndefined(e.file),n=n||!a.isUndefined(e.message),o=o||!a.isUndefined(e.location),r=r||!a.isUndefined(e.line),e.regexp&&s++}),s!==e.length&&(this.status.state=l.ValidationState.Error,this.log(i.localize(4,null))),t&&n&&(o||r)||(this.status.state=l.ValidationState.Error,this.log(i.localize(5,null)))},o.prototype.addWatchingMatcher=function(e,t){var n=this.createRegularExpression(e.watchedTaskBeginsRegExp),o=this.createRegularExpression(e.watchedTaskEndsRegExp);if(n&&o)return void(t.watching={activeOnStart:!1,beginsPattern:{regexp:n},endsPattern:{regexp:o}});if(!a.isUndefinedOrNull(e.watching)){var r=e.watching,s=this.createWatchingPattern(r.beginsPattern),c=this.createWatchingPattern(r.endsPattern);return s&&c?void(t.watching={activeOnStart:!!a.isBoolean(r.activeOnStart)&&r.activeOnStart,beginsPattern:s,endsPattern:c}):void((s||c)&&(this.status.state=l.ValidationState.Error,this.log(i.localize(6,null))))}},o.prototype.createWatchingPattern=function(e){if(a.isUndefinedOrNull(e))return null;var t,i;return a.isString(e)?t=this.createRegularExpression(e):(t=this.createRegularExpression(e.regexp),a.isNumber(e.file)&&(i=e.file)),t?i?{regexp:t,file:i}:{regexp:t}:null},o.prototype.createRegularExpression=function(e){var t=null;if(!e)return t;try{t=new RegExp(e)}catch(n){this.status.state=l.ValidationState.Fatal,this.log(i.localize(7,null,e))}return t},o}(l.Parser);t.ProblemMatcherParser=w;var I=function(){function e(){this.matchers=Object.create(null)}return e.prototype.add=function(e,t){this.matchers[e]=t},e.prototype.get=function(e){return this.matchers[e]},e.prototype.exists=function(e){return!!this.matchers[e]},e.prototype.remove=function(e){delete this.matchers[e]},e}();t.ProblemMatcherRegistry=I,t.registry=new I,t.registry.add("msCompile",{owner:"msCompile",applyTo:v.allDocuments,fileLocation:m.Absolute,pattern:g("msCompile")}),t.registry.add("lessCompile",{owner:"lessCompile",applyTo:v.allDocuments,fileLocation:m.Absolute,pattern:g("lessCompile"),severity:c["default"].Error}),t.registry.add("tsc",{owner:"typescript",applyTo:v.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:g("tsc")});var T={owner:"typescript",applyTo:v.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:g("tsc"),watching:{activeOnStart:!0,beginsPattern:{regexp:/^\s*(?:message TS6032:|\d{1,2}:\d{1,2}:\d{1,2}(?: AM| PM)? -) File change detected\. Starting incremental compilation\.\.\./},endsPattern:{regexp:/^\s*(?:message TS6042:|\d{1,2}:\d{1,2}:\d{1,2}(?: AM| PM)? -) Compilation complete\. Watching for file changes\./}}};T.tscWatch=!0,t.registry.add("tsc-watch",T),t.registry.add("gulp-tsc",{owner:"typescript",applyTo:v.closedDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:g("gulp-tsc")}),t.registry.add("jshint",{owner:"jshint",applyTo:v.allDocuments,fileLocation:m.Absolute,pattern:g("jshint")}),t.registry.add("jshint-stylish",{owner:"jshint",applyTo:v.allDocuments,fileLocation:m.Absolute,pattern:g("jshint-stylish")}),t.registry.add("eslint-compact",{owner:"eslint",applyTo:v.allDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:g("eslint-compact")}),t.registry.add("eslint-stylish",{owner:"eslint",applyTo:v.allDocuments,fileLocation:m.Absolute,pattern:g("eslint-stylish")}),t.registry.add("go",{owner:"go",applyTo:v.allDocuments,fileLocation:m.Relative,filePrefix:"${cwd}",pattern:g("go")})}),define(l[18],d([1,0,469,2,33,6,27]),function(e,t,i,n,o,r,s){"use strict";t.CloseAction=new s.Action("close.message",i.localize(0,null),null,(!0),function(){return n.TPromise.as(!0)}),t.CancelAction=new s.Action("close.message",i.localize(1,null),null,(!0),function(){return n.TPromise.as(!0)}),t.IMessageService=r.createDecorator("messageService"),t.Severity=o["default"]}),define(l[194],d([1,0,459,20,35,18,33,5,49,267,24]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e,t){var i=e.getActions();if(0!==i.length){for(var n=0,o=i;n<o.length;n++){var r=o[n],s=r[0],a=r[1];"navigation"===s?Array.isArray(t)?t.unshift.apply(t,a):(u=t.primary).unshift.apply(u,a):Array.isArray(t)?t.push.apply(t,[new c.Separator].concat(a)):(l=t.secondary).push.apply(l,[new c.Separator].concat(a))}var u,l}}function p(e,t,i){if(e instanceof o.MenuItemAction)return new v(e,t,i)}t.fillInActions=d,t.createActionItem=p;var f=new(function(e){function t(){var t=this;e.call(this),this._subscriptions=[],this._subscriptions.push(u.domEvent(document.body,"keydown")(function(e){return t.fire(e.altKey)})),this._subscriptions.push(u.domEvent(document.body,"keyup")(function(e){return t.fire(!1)})),this._subscriptions.push(u.domEvent(document.body,"mouseleave")(function(e){return t.fire(!1)}))}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._subscriptions=a.dispose(this._subscriptions)},t}(l.Emitter)),v=function(e){function t(t,i,n){e.call(this,void 0,t,{icon:!!t.command.iconClass,label:!t.command.iconClass}),this._keybindingService=i,this._messageService=n,this._altKeyDown=!1}return h(t,e),Object.defineProperty(t.prototype,"_command",{get:function(){var e=this._action,t=e.command,i=e.altCommand;return this._altKeyDown&&i||t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(e){var t=this;e.preventDefault(),e.stopPropagation(),this._action.run(this._altKeyDown).done(void 0,function(e){t._messageService.show(s["default"].Error,e)})},t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t);var n,o;this._callOnDispose.push(u.domEvent(t,"mouseleave")(function(e){o=!1,i._altKeyDown||n.dispose()})),this._callOnDispose.push(u.domEvent(t,"mouseenter")(function(e){o=!0,n=f.event(function(e){i._altKeyDown=e,i._updateLabel(),i._updateTooltip(),i._updateClass(),o||n.dispose()})}))},t.prototype._updateLabel=function(){this.options.label&&this.$e.text(this._command.title)},t.prototype._updateTooltip=function(){var e=this.$e.getHTMLElement(),t=this._keybindingService.lookupKeybindings(this._command.id)[0],n=t&&this._keybindingService.getLabelFor(t);e.title=n?i.localize(0,null,this._command.title,n):this._command.title},t.prototype._updateClass=function(){if(this.options.icon){var e=this.$e.getHTMLElement(),t=this._action,i=t.command,n=t.altCommand;this._command!==i?e.classList.remove(i.iconClass):n&&e.classList.remove(n.iconClass),e.classList.add("icon",this._command.iconClass)}},t=g([m(1,n.IKeybindingService),m(2,r.IMessageService)],t)}(c.ActionItem)}),define(l[164],d([1,0,2,6]),function(e,t,i,n){"use strict";t.IOpenerService=n.createDecorator("openerService"),t.NullOpenerService=Object.freeze({serviceId:void 0,open:function(){return i.TPromise.as(void 0)}})}),define(l[639],d([1,0,166,98,2,56,20]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t){this._editorService=e,this._keybindingService=t}return e.prototype.open=function(e){var t,r=this,s=e.scheme,a=e.path,c=e.query,u=e.fragment;if(s===n.Schemas.http||s===n.Schemas.https)window.open(e.toString(!0));else if("command"===s&&this._keybindingService.hasCommand(a)){var l=void 0;try{l=i.parse(c),Array.isArray(l)||(l=[l])}catch(d){}t=(h=this._keybindingService).executeCommand.apply(h,[a].concat(l))}else t=this._editorService.resolveEditorModel({resource:e}).then(function(t){if(t){var i;return/^L\d+$/.test(u)&&(i={startLineNumber:parseInt(u.substr(1)),startColumn:1}),r._editorService.openEditor({resource:e,options:{selection:i}})}});return o.TPromise.as(t).then(void 0,function(e){});var h},e=g([m(0,r.IEditorService),m(1,s.IKeybindingService)],e)}();t.OpenerService=a}),define(l[640],d([1,0,96,639,164]),function(e,t,i,n,o){"use strict";i.registerSingleton(o.IOpenerService,n.OpenerService)}),define(l[641],d([1,0,74,19]),function(e,t,i,n){"use strict";var o=i.dirname(n["default"].parse(e.toUrl("")).fsPath),r=i.join(o,"package.json");Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e.__$__nodeRequire(r)}),define(l[15],d([1,0,17,85]),function(e,t,i,n){"use strict";var o=function(){function e(){this.data={}}return e.prototype.add=function(e,t){n.ok(i.isString(e)),n.ok(i.isObject(t)),n.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new o;var r=function(){function e(){this.toBeInstantiated=[],this.instances=[]}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.toBeInstantiated.length>0;){var t=this.toBeInstantiated.shift();this.instantiate(t)}},e.prototype.instantiate=function(e){var t=this.instantiationService.createInstance(e);this.instances.push(t)},e.prototype._register=function(e){this.instantiationService?this.instantiate(e):this.toBeInstantiated.push(e)},e.prototype._getInstances=function(){return this.instances.slice(0)},e.prototype._setInstances=function(e){this.instances=e},e}();t.BaseRegistry=r}),define(l[61],d([1,0,15]),function(e,t,i){"use strict";var n;!function(e){function t(e){i.Registry.as(r.EditorContributions).registerEditorBrowserContribution(e)}function n(){return i.Registry.as(r.EditorContributions).getEditorBrowserContributions()}e.registerEditorContribution=t,e.getEditorContributions=n}(n=t.EditorBrowserRegistry||(t.EditorBrowserRegistry={}));var o=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}(),r={EditorContributions:"editor.contributions"},s=function(){function e(){this.editorContributions=[]}return e.prototype.registerEditorBrowserContribution=function(e){this.editorContributions.push(new o(e))},e.prototype.getEditorBrowserContributions=function(){return this.editorContributions.slice(0)},e}();i.Registry.add(r.EditorContributions,new s)}),define(l[121],d([1,0,411,24,15]),function(e,t,i,n,o){"use strict";t.Extensions={ModesRegistry:"editor.modesRegistry"};var r=function(){function e(){this._onDidAddCompatModes=new n.Emitter,this.onDidAddCompatModes=this._onDidAddCompatModes.event,this._onDidAddLanguages=new n.Emitter,this.onDidAddLanguages=this._onDidAddLanguages.event,this._compatModes=[],this._languages=[]}return e.prototype.registerCompatModes=function(e){this._compatModes=this._compatModes.concat(e),this._onDidAddCompatModes.fire(e)},e.prototype.registerCompatMode=function(e){this._compatModes.push(e),this._onDidAddCompatModes.fire([e])},e.prototype.getCompatModes=function(){
return this._compatModes.slice(0)},e.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidAddLanguages.fire([e])},e.prototype.registerLanguages=function(e){this._languages=this._languages.concat(e),this._onDidAddLanguages.fire(e)},e.prototype.getLanguages=function(){return this._languages.slice(0)},e}();t.EditorModesRegistry=r,t.ModesRegistry=new r,o.Registry.add(t.Extensions.ModesRegistry,t.ModesRegistry),t.ModesRegistry.registerLanguage({id:"plaintext",extensions:[".txt",".gitignore"],aliases:[i.localize(0,null),"text"],mimetypes:["text/plain"]})}),define(l[645],d([1,0,2,11,206,274,201,38,121]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(e){var t=this;this.serviceId=o.ICompatWorkerService,this.isInMainThread=!0,this._workerFactory=new r.DefaultWorkerFactory((!0)),this._worker=null,this._workerCreatedPromise=new i.TPromise(function(e,i,n){t._triggerWorkersCreatedPromise=e},function(){}),this._modelListeners=Object.create(null);var s=function(e){if(e.isTooLargeForHavingARichMode())return!1;for(var t=e.getModeId(),i=c.ModesRegistry.getCompatModes(),n=0;n<i.length;n++)if(i[n].id===t)return!0;return!1},a=function(e){s(e)&&(t._modelListeners[e.uri.toString()]=e.addBulkListener(function(i){var o=i.filter(function(e){return e.getType()===n.EventType.ModelRawContentChanged}).map(function(e){return e.getData()});0!==o.length&&t._call("$","acceptModelEvents",[e.uri,{contentChanged:o}])}),t._call("$","acceptNewModel",[{url:e.uri,versionId:e.getVersionId(),value:e.toRawText(),modeId:e.getMode().getId()}]))},u=function(e){t._modelListeners[e.uri.toString()]&&(t._modelListeners[e.uri.toString()].dispose(),delete t._modelListeners[e.uri.toString()],t._call("$","acceptDidDisposeModel",[e.uri]))};e.onModelAdded(a),e.onModelRemoved(u),e.onModelModeChanged(function(e){u(e.model),a(e.model)})}return e.prototype.registerCompatMode=function(e){this._call("$","instantiateCompatMode",[e.getId()])},e.prototype.CompatWorker=function(e,t,i,n){return this._call(e.getId(),t,n)},e.prototype._ensureWorkers=function(){if(this._triggerWorkersCreatedPromise){this._createWorker();var e=this._triggerWorkersCreatedPromise;this._triggerWorkersCreatedPromise=null,e(null)}},e.prototype._afterWorkers=function(){var e=this;this._ensureWorkers();var t=!1;return new i.TPromise(function(i,n,o){e._workerCreatedPromise.then(function(){t||i(null)},n,o)},function(){t=!0})},e.prototype._createWorker=function(e){var t=this;void 0===e&&(e=!1),this._worker=new s.WorkerClient(this._workerFactory,"vs/editor/common/worker/editorWorkerServer"),this._worker.onModuleLoaded=this._worker.request("initialize",{modesRegistryData:{compatModes:c.ModesRegistry.getCompatModes(),languages:c.ModesRegistry.getLanguages()}}).then(function(){c.ModesRegistry.onDidAddCompatModes(function(e){return t._call("$","acceptCompatModes",[e])}),c.ModesRegistry.onDidAddLanguages(function(e){return t._call("$","acceptLanguages",[e])})},function(i){t._worker.dispose(),t._worker=null,e?console.warn("Creating the web worker already failed twice. Giving up!"):t._createWorker(!0)})},e.prototype._call=function(e,t,i){var n=this;return this._afterWorkers().then(function(o){if(null===n._worker)throw new Error("Cannot fulfill request...");return n._worker.request("request",{target:e,methodName:t,args:i})})},e=g([m(0,a.IModelService)],e)}();t.MainThreadCompatWorkerService=u}),define(l[646],d([1,0,7,24,58,9,121]),function(e,t,i,n,o,r,s){"use strict";var a=Object.prototype.hasOwnProperty,c=function(){function e(e){var t=this;void 0===e&&(e=!0),this._onDidAddModes=new n.Emitter,this.onDidAddModes=this._onDidAddModes.event,this.knownModeIds={},this.mime2LanguageId={},this.name2LanguageId={},this.id2Name={},this.id2Extensions={},this.compatModes={},this.lowerName2Id={},this.id2ConfigurationFiles={},e&&(this._registerCompatModes(s.ModesRegistry.getCompatModes()),s.ModesRegistry.onDidAddCompatModes(function(e){return t._registerCompatModes(e)}),this._registerLanguages(s.ModesRegistry.getLanguages()),s.ModesRegistry.onDidAddLanguages(function(e){return t._registerLanguages(e)}))}return e.prototype._registerCompatModes=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];this._registerLanguage({id:n.id,extensions:n.extensions,filenames:n.filenames,firstLine:n.firstLine,aliases:n.aliases,mimetypes:n.mimetypes}),this.compatModes[n.id]={moduleId:n.moduleId,ctorName:n.ctorName,deps:n.deps},t.push(n.id)}this._onDidAddModes.fire(t)},e.prototype._registerLanguages=function(e){for(var t=[],i=0;i<e.length;i++)this._registerLanguage(e[i]),t.push(e[i].id);this._onDidAddModes.fire(t)},e.prototype._setLanguageName=function(e,t,i){var n=this.id2Name[e];if(n){if(!i)return;delete this.name2LanguageId[n]}this.name2LanguageId[t]=e,this.id2Name[e]=t},e.prototype._registerLanguage=function(e){this.knownModeIds[e.id]=!0;var t=null;if("undefined"!=typeof e.mimetypes&&Array.isArray(e.mimetypes))for(var n=0;n<e.mimetypes.length;n++)t||(t=e.mimetypes[n]),this.mime2LanguageId[e.mimetypes[n]]=e.id;if(t||(t="text/x-"+e.id,this.mime2LanguageId[t]=e.id),Array.isArray(e.extensions)){this.id2Extensions[e.id]=this.id2Extensions[e.id]||[];for(var s=0,a=e.extensions;s<a.length;s++){var c=a[s];o.registerTextMime({mime:t,extension:c}),this.id2Extensions[e.id].push(c)}}if(Array.isArray(e.filenames))for(var u=0,l=e.filenames;u<l.length;u++){var d=l[u];o.registerTextMime({mime:t,filename:d})}if(Array.isArray(e.filenamePatterns))for(var h=0,p=e.filenamePatterns;h<p.length;h++){var f=p[h];o.registerTextMime({mime:t,filepattern:f})}if("string"==typeof e.firstLine&&e.firstLine.length>0){var g=e.firstLine;"^"!==g.charAt(0)&&(g="^"+g);try{var m=new RegExp(g);r.regExpLeadsToEndlessLoop(m)||o.registerTextMime({mime:t,firstline:m})}catch(v){i.onUnexpectedError(v)}}if(this.lowerName2Id[e.id.toLowerCase()]=e.id,"undefined"!=typeof e.aliases&&Array.isArray(e.aliases))for(var n=0;n<e.aliases.length;n++)e.aliases[n]&&0!==e.aliases[n].length&&(this.lowerName2Id[e.aliases[n].toLowerCase()]=e.id);var y="undefined"!=typeof e.aliases&&Array.isArray(e.aliases)&&e.aliases.length>0;if(y&&null===e.aliases[0]);else{var E=(y?e.aliases[0]:null)||e.id;this._setLanguageName(e.id,E,y)}"string"==typeof e.configuration&&(this.id2ConfigurationFiles[e.id]=this.id2ConfigurationFiles[e.id]||[],this.id2ConfigurationFiles[e.id].push(e.configuration))},e.prototype.isRegisteredMode=function(e){return!!a.call(this.mime2LanguageId,e)||a.call(this.knownModeIds,e)},e.prototype.getRegisteredModes=function(){return Object.keys(this.knownModeIds)},e.prototype.getRegisteredLanguageNames=function(){return Object.keys(this.name2LanguageId)},e.prototype.getLanguageName=function(e){return this.id2Name[e]||null},e.prototype.getModeIdForLanguageNameLowercase=function(e){return this.lowerName2Id[e]||null},e.prototype.getConfigurationFiles=function(e){return this.id2ConfigurationFiles[e]||[]},e.prototype.getMimeForMode=function(e){for(var t=Object.keys(this.mime2LanguageId),i=0,n=t.length;i<n;i++){var o=t[i],r=this.mime2LanguageId[o];if(r===e)return o}return null},e.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map(function(e){return e.trim()}).map(function(e){return t.mime2LanguageId[e]||e}).filter(function(e){return t.knownModeIds[e]}):[]},e.prototype.getModeIdsFromLanguageName=function(e){return e&&a.call(this.name2LanguageId,e)?[this.name2LanguageId[e]]:[]},e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t)return[];var i=o.guessMimeTypes(e,t);return this.extractModeIds(i.join(","))},e.prototype.getCompatMode=function(e){return this.compatModes[e]||null},e.prototype.getExtensions=function(e){var t=this.name2LanguageId[e];return t?this.id2Extensions[t]:[]},e}();t.LanguagesRegistry=c}),define(l[647],d([1,0,5,59,10,53,61,813]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e){var t=this;this.editor=e,this.toDispose=[],n.isIPad&&(this.toDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.update())}return e.prototype.update=function(){var e=!!this.widget,t=!this.editor.getConfiguration().readOnly;!e&&t?this.widget=new c(this.editor):e&&!t&&(this.widget.dispose(),this.widget=null)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),this.widget&&(this.widget.dispose(),this.widget=null)},e.ID="editor.contrib.iPadShowKeyboard",e}();t.IPadShowKeyboard=a;var c=function(){function e(e){var t=this;this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._toDispose=[],this._toDispose.push(o.addDisposableListener(this._domNode,"touchstart",function(e){t.editor.focus()})),this._toDispose.push(o.addDisposableListener(this._domNode,"focus",function(e){t.editor.focus()})),this.editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this.editor.removeOverlayWidget(this),this._toDispose=i.dispose(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:r.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}},e.ID="editor.contrib.ShowKeyboardWidget",e}();s.EditorBrowserRegistry.registerEditorContribution(a)}),define(l[648],d([1,0,52,12,5,11,61,20,16,14]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(e){function t(t,o){if(e.call(this),n.isLinux){var s=t.getConfiguration().contribInfo.selectionClipboard;this._register(t.onDidChangeConfiguration(function(e){e.contribInfo&&(s=t.getConfiguration().contribInfo.selectionClipboard)})),this._register(t.onMouseDown(function(e){s&&t.getModel()&&e.event.middleButton&&(e.event.preventDefault(),t.focus(),e.target.position&&t.setPosition(e.target.position),process.nextTick(function(){i.clipboard.readText("selection")}))}));var a=this._register(new c.RunOnceScheduler(function(){var e=t.getModel();if(e){var n=t.getSelections();n=n.slice(0),n.sort(u.Range.compareRangesUsingStarts);for(var o=[],s=0;s<n.length;s++){var a=n[s];if(a.isEmpty())return;o.push(e.getValueInRange(a,r.EndOfLinePreference.TextDefined))}var c=o.join(e.getEOL());i.clipboard.writeText(c,"selection")}},100));this._register(t.onDidChangeCursorSelection(function(e){s&&a.schedule()}))}}return h(t,e),t.prototype.getId=function(){return t.ID},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.ID="editor.contrib.selectionClipboard",t=g([m(1,a.IKeybindingService)],t)}(o.Disposable);s.EditorBrowserRegistry.registerEditorContribution(l)}),define(l[650],d([1,0,121]),function(e,t,i){"use strict";i.ModesRegistry.registerCompatMode({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],moduleId:"vs/languages/handlebars/common/handlebars",ctorName:"HandlebarsMode"})}),define(l[651],d([1,0,121]),function(e,t,i){"use strict";i.ModesRegistry.registerCompatMode({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],moduleId:"vs/languages/razor/common/razor",ctorName:"RAZORMode"})}),define(l[108],d([1,0,465,15,36]),function(e,t,i,n,o){"use strict";function r(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}t.Extensions={JSONContribution:"base.contributions.json"};var s=function(){function e(){this.schemasById={},this.eventEmitter=new o.EventEmitter}return e.prototype.addRegistryChangedListener=function(e){return this.eventEmitter.addListener2("registryChanged",e)},e.prototype.registerSchema=function(e,t){this.schemasById[r(e)]=t,this.eventEmitter.emit("registryChanged",{})},e.prototype.getSchemaContributions=function(){return{schemas:this.schemasById}},e}(),a=new s;n.Registry.add(t.Extensions.JSONContribution,a),a.registerSchema("http://json-schema.org/draft-04/schema#",{id:"http://json-schema.org/draft-04/schema#",title:i.localize(0,null),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{"default":0}]},simpleTypes:{type:"string","enum":["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri",description:i.localize(1,null)},$schema:{type:"string",format:"uri",description:i.localize(2,null)},title:{type:"string",description:i.localize(3,null)},description:{type:"string",description:i.localize(4,null)},"default":{description:i.localize(5,null)},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0,description:i.localize(6,null)},maximum:{type:"number",description:i.localize(7,null)},exclusiveMaximum:{type:"boolean","default":!1,description:i.localize(8,null)},minimum:{type:"number",description:i.localize(9,null)},exclusiveMinimum:{type:"boolean","default":!1,description:i.localize(10,null)},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:i.localize(11,null)},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:i.localize(12,null)},pattern:{type:"string",format:"regex",description:i.localize(13,null)},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{},description:i.localize(14,null)},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],"default":{},description:i.localize(15,null)},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:i.localize(16,null)},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:i.localize(17,null)},uniqueItems:{type:"boolean","default":!1,description:i.localize(18,null)},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}],description:i.localize(19,null)},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}],description:i.localize(20,null)},required:{allOf:[{$ref:"#/definitions/stringArray"}],description:i.localize(21,null)},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],"default":{},description:i.localize(22,null)},definitions:{type:"object",additionalProperties:{$ref:"#"},"default":{},description:i.localize(23,null)},properties:{type:"object",additionalProperties:{$ref:"#"},"default":{},description:i.localize(24,null)},patternProperties:{type:"object",additionalProperties:{$ref:"#"},"default":{},description:i.localize(25,null)},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]},description:i.localize(26,null)},"enum":{type:"array",minItems:1,uniqueItems:!0,description:i.localize(27,null)},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}],description:i.localize(28,null)},format:{anyOf:[{type:"string",description:i.localize(29,null),"enum":["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:i.localize(30,null)},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:i.localize(31,null)},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}],description:i.localize(32,null)},not:{allOf:[{$ref:"#"}],description:i.localize(33,null)}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},"default":{}})}),define(l[95],d([1,0,464,7,25,33,108,15]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t,n){if(!t)return n.push(i.localize(0,null)),!1;if("string"!=typeof t.publisher)return n.push(i.localize(1,null,"publisher")),!1;if("string"!=typeof t.name)return n.push(i.localize(2,null,"name")),!1;if("string"!=typeof t.version)return n.push(i.localize(3,null,"version")),!1;if(!t.engines)return n.push(i.localize(4,null,"engines")),!1;if("string"!=typeof t.engines.vscode)return n.push(i.localize(5,null,"engines.vscode")),!1;if("undefined"!=typeof t.extensionDependencies&&!u(t.extensionDependencies))return n.push(i.localize(6,null,"extensionDependencies")),!1;if("undefined"!=typeof t.activationEvents){if(!u(t.activationEvents))return n.push(i.localize(7,null,"activationEvents")),!1;if("undefined"==typeof t.main)return n.push(i.localize(8,null,"activationEvents","main")),!1}if("undefined"!=typeof t.main){if("string"!=typeof t.main)return n.push(i.localize(9,null,"main")),!1;var r=o.normalize(o.join(e,t.main));if(r.indexOf(e)&&n.push(i.localize(10,null,r,e)),"undefined"==typeof t.activationEvents)return n.push(i.localize(11,null,"activationEvents","main")),!1}return!0}function u(e){if(!Array.isArray(e))return!1;for(var t=0,i=e.length;t<i;t++)if("string"!=typeof e[t])return!1;return!0}var l=function(){function e(e,t){this._messageHandler=e,this._source=t}return e.prototype._msg=function(e,t){this._messageHandler({type:e,message:t,source:this._source})},e.prototype.error=function(e){this._msg(r["default"].Error,e)},e.prototype.warn=function(e){this._msg(r["default"].Warning,e)},e.prototype.info=function(e){this._msg(r["default"].Info,e)},e}();t.isValidExtensionDescription=c;var d=Object.hasOwnProperty,h=a.Registry.as(s.Extensions.JSONContribution),p=function(){function e(e,t){this.name=e,this._registry=t,this._handler=null,this._messageHandler=null}return e.prototype.setHandler=function(e){if(this._handler)throw new Error("Handler already set!");this._handler=e,this._handle()},e.prototype.handle=function(e){this._messageHandler=e,this._handle()},e.prototype._handle=function(){var e=this;this._handler&&this._messageHandler&&this._registry.registerPointListener(this.name,function(t){var i=t.map(function(t){return{description:t,value:t.contributes[e.name],collector:new l(e._messageHandler,t.extensionFolderPath)}});e._handler(i)})},e}(),f="vscode://schemas/vscode-extensions",g={"default":{name:"{{name}}",description:"{{description}}",author:"{{author}}",version:"{{1.0.0}}",main:"{{pathToMain}}",dependencies:{}},properties:{displayName:{description:i.localize(12,null),type:"string"},categories:{description:i.localize(13,null),type:"array",items:{type:"string","enum":["Languages","Snippets","Linters","Themes","Debuggers","Productivity","Other"]}},galleryBanner:{type:"object",description:i.localize(14,null),properties:{color:{description:i.localize(15,null),type:"string"},theme:{description:i.localize(16,null),type:"string","enum":["dark","light"]}}},publisher:{description:i.localize(17,null),type:"string"},activationEvents:{description:i.localize(18,null),type:"array",items:{type:"string"}},extensionDependencies:{description:i.localize(19,null),type:"array",items:{type:"string"}},scripts:{type:"object",properties:{"vscode:prepublish":{description:i.localize(20,null),type:"string"}}},contributes:{description:i.localize(21,null),type:"object",properties:{},"default":{}}}},m=function(){function e(){this._extensionsMap={},this._extensionsArr=[],this._activationMap={},this._pointListeners=[],this._extensionPoints={},this._oneTimeActivationEventListeners={}}return e.prototype.registerPointListener=function(t,i){var n={extensionPoint:t,listener:i};this._pointListeners.push(n),this._triggerPointListener(n,e._filterWithExtPoint(this.getAllExtensionDescriptions(),t))},e.prototype.registerExtensionPoint=function(e,t){if(d.call(this._extensionPoints,e))throw new Error("Duplicate extension point: "+e);var i=new p(e,this);return this._extensionPoints[e]=i,g.properties.contributes.properties[e]=t,h.registerSchema(f,g),i},e.prototype.handleExtensionPoints=function(e){var t=this;Object.keys(this._extensionPoints).forEach(function(i){t._extensionPoints[i].handle(e)})},e.prototype._triggerPointListener=function(e,t){if(t&&0!==t.length)try{e.listener(t)}catch(i){n.onUnexpectedError(i)}},e.prototype.registerExtensions=function(t){for(var i=0,n=t.length;i<n;i++){var o=t[i];if(d.call(this._extensionsMap,o.id))console.error("Extension `"+o.id+"` is already registered");else if(this._extensionsMap[o.id]=o,this._extensionsArr.push(o),Array.isArray(o.activationEvents))for(var r=0,s=o.activationEvents.length;r<s;r++){var a=o.activationEvents[r];this._activationMap[a]=this._activationMap[a]||[],this._activationMap[a].push(o)}}for(var i=0,n=this._pointListeners.length;i<n;i++){var c=this._pointListeners[i],u=e._filterWithExtPoint(t,c.extensionPoint);this._triggerPointListener(c,u)}},e._filterWithExtPoint=function(e,t){return e.filter(function(e){return e.contributes&&d.call(e.contributes,t)})},e.prototype.getExtensionDescriptionsForActivationEvent=function(e){return d.call(this._activationMap,e)?this._activationMap[e].slice(0):[]},e.prototype.getAllExtensionDescriptions=function(){return this._extensionsArr.slice(0)},e.prototype.getExtensionDescription=function(e){return d.call(this._extensionsMap,e)?this._extensionsMap[e]:null},e.prototype.registerOneTimeActivationEventListener=function(e,t){d.call(this._oneTimeActivationEventListeners,e)||(this._oneTimeActivationEventListeners[e]=[]),this._oneTimeActivationEventListeners[e].push(t)},e.prototype.triggerActivationEventListeners=function(e){if(d.call(this._oneTimeActivationEventListeners,e)){var t=this._oneTimeActivationEventListeners[e];delete this._oneTimeActivationEventListeners[e];for(var i=0,o=t.length;i<o;i++){var r=t[i];try{r()}catch(s){n.onUnexpectedError(s)}}}},e}(),v={ExtensionsRegistry:"ExtensionsRegistry"};a.Registry.add(v.ExtensionsRegistry,new m),t.ExtensionsRegistry=a.Registry.as(v.ExtensionsRegistry),h.registerSchema(f,g)}),define(l[654],d([1,0,10,460,25,114,78,95,308,35]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l;!function(e){function t(e){switch(e){case"editor/title":return u.MenuId.EditorTitle;case"editor/context":return u.MenuId.EditorContext;case"explorer/context":return u.MenuId.ExplorerContext}}function i(e,t){if(!Array.isArray(e))return t.error(n.localize(0,null)),!1;for(var i=0,o=e;i<o.length;i++){var r=o[i];if("string"!=typeof r.command)return t.error(n.localize(1,null,"command")),!1;if(r.alt&&"string"!=typeof r.alt)return t.error(n.localize(2,null,"alt")),!1;if(r.when&&"string"!=typeof r.when)return t.error(n.localize(3,null,"when")),!1;if(r.group&&"string"!=typeof r.group)return t.error(n.localize(4,null,"group")),!1}return!0}function o(e,t){return e?"string"!=typeof e.command?(t.error(n.localize(14,null,"command")),!1):"string"!=typeof e.title?(t.error(n.localize(15,null,"title")),!1):e.category&&"string"!=typeof e.category?(t.error(n.localize(16,null,"category")),!1):!!r(e.icon,t):(t.error(n.localize(13,null)),!1)}function r(e,t){return"undefined"==typeof e||("string"==typeof e||("string"==typeof e.dark&&"string"==typeof e.light||(t.error(n.localize(17,null)),!1)))}e.parseMenuId=t,e.isValidMenuItems=i;var s={type:"object",properties:{command:{description:n.localize(5,null),type:"string"},alt:{description:n.localize(6,null),type:"string"},when:{description:n.localize(7,null),type:"string"},group:{description:n.localize(8,null),type:"string"}}};e.menusContribtion={description:n.localize(9,null),type:"object",properties:{"editor/title":{description:n.localize(10,null),type:"array",items:s},"editor/context":{description:n.localize(11,null),type:"array",items:s},"explorer/context":{description:n.localize(12,null),type:"array",items:s}}},e.isValidCommand=o;var a={type:"object",properties:{command:{description:n.localize(18,null),type:"string"},title:{description:n.localize(19,null),type:"string"},category:{description:n.localize(20,null),type:"string"},icon:{description:n.localize(21,null),anyOf:["string",{type:"object",properties:{light:{description:n.localize(22,null),type:"string"},dark:{description:n.localize(23,null),type:"string"}}}]}}};e.commandsContribution={description:n.localize(24,null),oneOf:[a,{type:"array",items:a}]}}(l||(l={})),a.ExtensionsRegistry.registerExtensionPoint("commands",l.commandsContribution).setHandler(function(e){function t(e,t){if(l.isValidCommand(e,t.collector)){var r,a=e.icon,u=e.category,d=e.title,h=e.command;if(a)if(r=s.nextId(),"string"==typeof a){var p=o.join(t.description.extensionFolderPath,a);i.createCSSRule(".icon."+r,'background-image: url("'+p+'")')}else{var f=o.join(t.description.extensionFolderPath,a.light),g=o.join(t.description.extensionFolderPath,a.dark);i.createCSSRule(".icon."+r,'background-image: url("'+f+'")'),i.createCSSRule(".vs-dark .icon."+r+", hc-black .icon."+r,'background-image: url("'+g+'")')}c.MenuRegistry.addCommand({id:h,title:d,category:u,iconClass:r})&&t.collector.info(n.localize(25,null,e.command))}}for(var s=new r.IdGenerator("contrib-cmd-icon-"),a=0,u=e;a<u.length;a++){var d=u[a],h=d.value;if(Array.isArray(h))for(var p=0,f=h;p<f.length;p++){var g=f[p];t(g,d)}else t(h,d)}}),a.ExtensionsRegistry.registerExtensionPoint("menus",l.menusContribtion).setHandler(function(e){for(var t=function(e){var t=e.value,i=e.collector;s.forEach(t,function(e){if(l.isValidMenuItems(e.value,i)){var t=l.parseMenuId(e.key);if(!t)return void i.warn(n.localize(26,null,e.key));for(var o=0,r=e.value;o<r.length;o++){var s=r[o];c.MenuRegistry.hasCommand(s.command)||i.warn(n.localize(27,null,s.command)),s.alt&&!c.MenuRegistry.hasCommand(s.alt)&&i.warn(n.localize(28,null,s.alt)),s.command===s.alt&&i.info(n.localize(29,null)),s.alt&&t!==u.MenuId.EditorTitle&&"navigation"!==s.group&&i.info(n.localize(30,null))}c.MenuRegistry.addMenuItems(t,e.value)}})},i=0,o=e;i<o.length;i++){var r=o[i];t(r)}})}),define(l[67],d([1,0,461,24,15,29,95,108]),function(e,t,i,n,o,r,s,a){"use strict";t.Extensions={Configuration:"base.contributions.configuration"};var c="vscode://schemas/settings",u=o.Registry.as(a.Extensions.JSONContribution),l=function(){function e(){this.configurationContributors=[],this.configurationSchema={allOf:[]},this._onDidRegisterConfiguration=new n.Emitter,u.registerSchema(c,this.configurationSchema)}return Object.defineProperty(e.prototype,"onDidRegisterConfiguration",{get:function(){return this._onDidRegisterConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.registerConfiguration=function(e){this.configurationContributors.push(e),this.registerJSONConfiguration(e),this._onDidRegisterConfiguration.fire(this)},e.prototype.getConfigurations=function(){return this.configurationContributors.slice(0)},e.prototype.registerJSONConfiguration=function(e){var t=r.clone(e);this.configurationSchema.allOf.push(t),u.registerSchema(c,this.configurationSchema)},e}(),d=new l;o.Registry.add(t.Extensions.Configuration,d);var h=s.ExtensionsRegistry.registerExtensionPoint("configuration",{description:i.localize(0,null),type:"object",defaultSnippets:[{body:{title:"",properties:{}}}],properties:{title:{description:i.localize(1,null),type:"string"},properties:{description:i.localize(2,null),type:"object",additionalProperties:{$ref:"http://json-schema.org/draft-04/schema#"}}}});h.setHandler(function(e){for(var t=0;t<e.length;t++){var n=e[t].value,o=e[t].collector;if(n.type&&"object"!==n.type?o.warn(i.localize(3,null)):n.type="object",n.title&&"string"!=typeof n.title&&o.error(i.localize(4,null)),n.properties&&"object"!=typeof n.properties)return void o.error(i.localize(5,null));var s=r.clone(n);s.id=e[t].description.id,d.registerConfiguration(s)}})}),define(l[147],d([1,0,398,24,5,29,12,67,15,135,11,631,94]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";function f(e){return"false"!==e&&Boolean(e)}function g(e,t){return"undefined"==typeof e?t:f(e)}function m(e,t){var i=parseFloat(e);return isNaN(i)&&(i=t),i}function v(e,t,i){void 0===t&&(t=C),void 0===i&&(i=_);var n=parseInt(e,10);return isNaN(n)&&(n=0),n=Math.max(t,n),n=Math.min(i,n),0|n}function y(e){if(!Array.isArray(e))return[];var t=e,i=t.map(function(e){return v(e)});return i.sort(),i}function E(e){return"indent"===e?l.WrappingIndent.Indent:"same"===e?l.WrappingIndent.Same:l.WrappingIndent.None}function S(e){return"line"===e?l.TextEditorCursorStyle.Line:"block"===e?l.TextEditorCursorStyle.Block:"underline"===e?l.TextEditorCursorStyle.Underline:l.TextEditorCursorStyle.Line}function b(e,t){return"undefined"==typeof e?t:v(e)}var _=2147483647,C=-2147483648;t.EditorZoom=new(function(){function e(){this._zoomLevel=0,this._onDidChangeZoomLevel=new n.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-9,e),9),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e}());var w=function(){function e(){}return e.getValue=function(){return this._value},e.setValue=function(e){this._value!==e&&(this._value=e,this._onChange.fire(this._value))},e._value=!1,e._onChange=new n.Emitter,e.onChange=e._onChange.event,e}();t.GlobalScreenReaderNVDA=w;var I=function(){function e(e){this._editor=r.clone(u.DefaultConfig.editor),this._mergeOptionsIn(e)}return e.prototype.getEditorOptions=function(){return this._editor},e.prototype._mergeOptionsIn=function(e){this._editor=r.mixin(this._editor,e||{})},e.prototype.updateOptions=function(e){this._mergeOptionsIn(e)},e}();t.ConfigurationWithDefaults=I;var T=function(){function e(){}return e.createInternalEditorOptions=function(e,t,i,n,o,r,s,a){var c,u=v(i.wrappingColumn,-1);c="undefined"!=typeof i.stopRenderingLineAfter?v(i.stopRenderingLineAfter,-1):u>=0?-1:1e4;var h=m(i.mouseWheelScrollSensitivity,1),p=this._sanitizeScrollbarOpts(i.scrollbar,h),g=f(i.glyphMargin),b=i.lineNumbers,_=v(i.lineNumbersMinChars,1),C=v(i.lineDecorationsWidth,0);i.folding&&(C+=16);var w=d.EditorLayoutProvider.compute({outerWidth:e,outerHeight:t,showGlyphMargin:g,lineHeight:n.lineHeight,showLineNumbers:!!b,lineNumbersMinChars:_,lineDecorationsWidth:C,maxDigitWidth:n.maxDigitWidth,lineCount:s,verticalScrollbarWidth:p.verticalScrollbarSize,horizontalScrollbarHeight:p.horizontalScrollbarSize,scrollbarArrowSize:p.arrowSize,verticalScrollbarHasArrows:p.verticalHasArrows});r&&u>0&&(u=0);var I;I=0===u?{isViewportWrapping:!0,wrappingColumn:Math.max(1,Math.floor((w.contentWidth-w.verticalScrollbarWidth)/n.typicalHalfwidthCharacterWidth))}:u>0?{isViewportWrapping:!1,wrappingColumn:u}:{isViewportWrapping:!1,wrappingColumn:-1};var T=new l.EditorWrappingInfo({isViewportWrapping:I.isViewportWrapping,wrappingColumn:I.wrappingColumn,wrappingIndent:E(i.wrappingIndent),wordWrapBreakBeforeCharacters:String(i.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:String(i.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:String(i.wordWrapBreakObtrusiveCharacters)}),A=f(i.readOnly),L=f(i.tabFocusMode);A&&(L=!0);var D=new l.InternalEditorViewOptions({theme:i.theme,canUseTranslate3d:a,experimentalScreenReader:f(i.experimentalScreenReader),rulers:y(i.rulers),ariaLabel:String(i.ariaLabel),lineNumbers:b,selectOnLineNumbers:f(i.selectOnLineNumbers),glyphMargin:g,revealHorizontalRightPadding:v(i.revealHorizontalRightPadding,0),roundedSelection:f(i.roundedSelection),overviewRulerLanes:v(i.overviewRulerLanes,0,3),cursorBlinking:i.cursorBlinking,mouseWheelZoom:f(i.mouseWheelZoom),cursorStyle:S(i.cursorStyle),hideCursorInOverviewRuler:f(i.hideCursorInOverviewRuler),scrollBeyondLastLine:f(i.scrollBeyondLastLine),editorClassName:o,stopRenderingLineAfter:c,renderWhitespace:f(i.renderWhitespace),renderControlCharacters:f(i.renderControlCharacters),renderIndentGuides:f(i.renderIndentGuides),scrollbar:p}),k=new l.EditorContribOptions({selectionClipboard:f(i.selectionClipboard),hover:f(i.hover),contextmenu:f(i.contextmenu),quickSuggestions:f(i.quickSuggestions),quickSuggestionsDelay:v(i.quickSuggestionsDelay),parameterHints:f(i.parameterHints),iconsInSuggestions:f(i.iconsInSuggestions),formatOnType:f(i.formatOnType),suggestOnTriggerCharacters:f(i.suggestOnTriggerCharacters),acceptSuggestionOnEnter:f(i.acceptSuggestionOnEnter),selectionHighlight:f(i.selectionHighlight),outlineMarkers:f(i.outlineMarkers),referenceInfos:f(i.referenceInfos),folding:f(i.folding)});return new l.InternalEditorOptions({lineHeight:n.lineHeight,readOnly:A,wordSeparators:String(i.wordSeparators),autoClosingBrackets:f(i.autoClosingBrackets),useTabStops:f(i.useTabStops),tabFocusMode:L,layoutInfo:w,fontInfo:n,viewInfo:D,wrappingInfo:T,contribInfo:k
})},e._sanitizeScrollbarOpts=function(e,t){var i=function(e){switch(e){case"hidden":return p.ScrollbarVisibility.Hidden;case"visible":return p.ScrollbarVisibility.Visible;default:return p.ScrollbarVisibility.Auto}},n=b(e.horizontalScrollbarSize,10),o=b(e.verticalScrollbarSize,14);return new l.InternalEditorScrollbarOptions({vertical:i(e.vertical),horizontal:i(e.horizontal),arrowSize:b(e.arrowSize,11),useShadows:g(e.useShadows,!0),verticalHasArrows:g(e.verticalHasArrows,!1),horizontalHasArrows:g(e.horizontalHasArrows,!1),horizontalScrollbarSize:n,horizontalSliderSize:b(e.horizontalSliderSize,n),verticalScrollbarSize:o,verticalSliderSize:b(e.verticalSliderSize,o),handleMouseWheel:g(e.handleMouseWheel,!0),mouseWheelScrollSensitivity:t})},e}(),A=function(e){function i(i,o){var r=this;void 0===o&&(o=null),e.call(this),this._onDidChange=this._register(new n.Emitter),this.onDidChange=this._onDidChange.event,this._configWithDefaults=new I(i),this._elementSizeObserver=o,this._isDominatedByLongLines=!1,this._lineCount=1,this.editor=this._computeInternalOptions(),this.editorClone=this.editor.clone(),this._register(t.EditorZoom.onDidChangeZoomLevel(function(e){return r._recomputeOptions()}))}return h(i,e),i.prototype.dispose=function(){e.prototype.dispose.call(this)},i.prototype._recomputeOptions=function(){this._setOptions(this._computeInternalOptions())},i.prototype._setOptions=function(e){if(!this.editor||!this.editor.equals(e)){var t=this.editor.createChangeEvent(e);this.editor=e,this.editorClone=this.editor.clone(),this._onDidChange.fire(t)}},i.prototype.getRawOptions=function(){return this._configWithDefaults.getEditorOptions()},i.prototype._computeInternalOptions=function(){var e=this._configWithDefaults.getEditorOptions(),i=this._getEditorClassName(e.theme,f(e.fontLigatures)),n=String(e.fontFamily)||u.DefaultConfig.editor.fontFamily,o=v(e.fontSize,0,100)||u.DefaultConfig.editor.fontSize,r=v(e.lineHeight,0,150);0===r&&(r=Math.round(u.GOLDEN_LINE_HEIGHT_RATIO*o));var s=1+.1*t.EditorZoom.getZoomLevel();o*=s,r*=s;var a=f(e.disableTranslate3d),c=this._getCanUseTranslate3d();return a&&(c=!1),T.createInternalEditorOptions(this.getOuterWidth(),this.getOuterHeight(),e,this.readConfiguration(new l.BareFontInfo({fontFamily:n,fontSize:o,lineHeight:r})),i,this._isDominatedByLongLines,this._lineCount,c)},i.prototype.updateOptions=function(e){this._configWithDefaults.updateOptions(e),this._recomputeOptions()},i.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this._recomputeOptions()},i.prototype.setLineCount=function(e){this._lineCount=e,this._recomputeOptions()},i}(o.Disposable);t.CommonEditorConfiguration=A;var L=function(){function e(){}return e.apply=function(t,i){if(t){var n=i;Array.isArray(i)||(n=[i]);for(var o=0;o<n.length;o++){var s=n[o];if(s&&"function"==typeof s.updateOptions){var a=s.getEditorType();if(a!==l.EditorType.ICodeEditor&&a!==l.EditorType.IDiffEditor)continue;var c=t[e.EDITOR_SECTION];if(a===l.EditorType.IDiffEditor){var u=t[e.DIFF_EDITOR_SECTION];u&&(c=c?r.mixin(c,u):u)}c&&(delete c.readOnly,s.updateOptions(c))}}}},e.EDITOR_SECTION="editor",e.DIFF_EDITOR_SECTION="diffEditor",e}();t.EditorConfiguration=L;var D=c.Registry.as(a.Extensions.Configuration),k={id:"editor",order:5,type:"object",title:i.localize(0,null),properties:{"editor.fontFamily":{type:"string","default":u.DefaultConfig.editor.fontFamily,description:i.localize(1,null)},"editor.fontSize":{type:"number","default":u.DefaultConfig.editor.fontSize,description:i.localize(2,null)},"editor.lineHeight":{type:"number","default":u.DefaultConfig.editor.lineHeight,description:i.localize(3,null)},"editor.lineNumbers":{type:"boolean","default":u.DefaultConfig.editor.lineNumbers,description:i.localize(4,null)},"editor.glyphMargin":{type:"boolean","default":u.DefaultConfig.editor.glyphMargin,description:i.localize(5,null)},"editor.rulers":{type:"array",items:{type:"number"},"default":u.DefaultConfig.editor.rulers,description:i.localize(6,null)},"editor.wordSeparators":{type:"string","default":u.DefaultConfig.editor.wordSeparators,description:i.localize(7,null)},"editor.tabSize":{type:"number","default":u.DEFAULT_INDENTATION.tabSize,minimum:1,description:i.localize(8,null),errorMessage:i.localize(9,null)},"editor.insertSpaces":{type:"boolean","default":u.DEFAULT_INDENTATION.insertSpaces,description:i.localize(10,null),errorMessage:i.localize(11,null)},"editor.detectIndentation":{type:"boolean","default":u.DEFAULT_INDENTATION.detectIndentation,description:i.localize(12,null)},"editor.roundedSelection":{type:"boolean","default":u.DefaultConfig.editor.roundedSelection,description:i.localize(13,null)},"editor.scrollBeyondLastLine":{type:"boolean","default":u.DefaultConfig.editor.scrollBeyondLastLine,description:i.localize(14,null)},"editor.wrappingColumn":{type:"integer","default":u.DefaultConfig.editor.wrappingColumn,minimum:-1,description:i.localize(15,null)},"editor.wrappingIndent":{type:"string","enum":["none","same","indent"],"default":u.DefaultConfig.editor.wrappingIndent,description:i.localize(16,null)},"editor.mouseWheelScrollSensitivity":{type:"number","default":u.DefaultConfig.editor.mouseWheelScrollSensitivity,description:i.localize(17,null)},"editor.quickSuggestions":{type:"boolean","default":u.DefaultConfig.editor.quickSuggestions,description:i.localize(18,null)},"editor.quickSuggestionsDelay":{type:"integer","default":u.DefaultConfig.editor.quickSuggestionsDelay,minimum:0,description:i.localize(19,null)},"editor.parameterHints":{type:"boolean","default":u.DefaultConfig.editor.parameterHints,description:i.localize(20,null)},"editor.autoClosingBrackets":{type:"boolean","default":u.DefaultConfig.editor.autoClosingBrackets,description:i.localize(21,null)},"editor.formatOnType":{type:"boolean","default":u.DefaultConfig.editor.formatOnType,description:i.localize(22,null)},"editor.suggestOnTriggerCharacters":{type:"boolean","default":u.DefaultConfig.editor.suggestOnTriggerCharacters,description:i.localize(23,null)},"editor.acceptSuggestionOnEnter":{type:"boolean","default":u.DefaultConfig.editor.acceptSuggestionOnEnter,description:i.localize(24,null)},"editor.selectionHighlight":{type:"boolean","default":u.DefaultConfig.editor.selectionHighlight,description:i.localize(25,null)},"editor.overviewRulerLanes":{type:"integer","default":3,description:i.localize(26,null)},"editor.cursorBlinking":{type:"string","enum":["blink","visible","hidden"],"default":u.DefaultConfig.editor.cursorBlinking,description:i.localize(27,null)},"editor.mouseWheelZoom":{type:"boolean","default":u.DefaultConfig.editor.mouseWheelZoom,description:i.localize(28,null)},"editor.cursorStyle":{type:"string","enum":["block","line"],"default":u.DefaultConfig.editor.cursorStyle,description:i.localize(29,null)},"editor.fontLigatures":{type:"boolean","default":u.DefaultConfig.editor.fontLigatures,description:i.localize(30,null)},"editor.hideCursorInOverviewRuler":{type:"boolean","default":u.DefaultConfig.editor.hideCursorInOverviewRuler,description:i.localize(31,null)},"editor.renderWhitespace":{type:"boolean","default":u.DefaultConfig.editor.renderWhitespace,description:i.localize(32,null)},"editor.renderControlCharacters":{type:"boolean","default":u.DefaultConfig.editor.renderControlCharacters,description:i.localize(33,null)},"editor.renderIndentGuides":{type:"boolean","default":u.DefaultConfig.editor.renderIndentGuides,description:i.localize(34,null)},"editor.referenceInfos":{type:"boolean","default":u.DefaultConfig.editor.referenceInfos,description:i.localize(35,null)},"editor.folding":{type:"boolean","default":u.DefaultConfig.editor.folding,description:i.localize(36,null)},"editor.useTabStops":{type:"boolean","default":u.DefaultConfig.editor.useTabStops,description:i.localize(37,null)},"editor.trimAutoWhitespace":{type:"boolean","default":u.DEFAULT_TRIM_AUTO_WHITESPACE,description:i.localize(38,null)},"editor.stablePeek":{type:"boolean","default":!1,description:i.localize(39,null)},"diffEditor.renderSideBySide":{type:"boolean","default":!0,description:i.localize(40,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean","default":!0,description:i.localize(41,null)}}};s.isLinux&&(k.properties["editor.selectionClipboard"]={type:"boolean","default":u.DefaultConfig.editor.selectionClipboard,description:i.localize(42,null)}),D.registerConfiguration(k)}),define(l[132],d([1,0,24,5,12,59,147,11,675]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(){this._keys=Object.create(null),this._values=Object.create(null)}return e.prototype.has=function(e){return!!this._values[e.getId()]},e.prototype.get=function(e){return this._values[e.getId()]},e.prototype.put=function(e,t){this._keys[e.getId()]=e,this._values[e.getId()]=t},e.prototype.getKeys=function(){var e=this;return Object.keys(this._keys).map(function(t){return e._keys[t]})},e}(),l=function(){function e(e){this._chr=e,this._width=0}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),e.prototype.render=function(e){if(" "===this._chr){for(var t="&nbsp;",i=0;i<8;i++)t+=t;e.innerHTML=t}else{for(var n=this._chr,i=0;i<8;i++)n+=n;e.textContent=n}},e.prototype.read=function(e){this._width=e.offsetWidth/256},e}(),d=function(e){function t(){e.call(this),this._changeMonitorTimeout=-1,this._onDidChange=this._register(new i.Emitter),this.onDidChange=this._onDidChange.event,this._cache=new u}return h(t,e),t.prototype.dispose=function(){this._changeMonitorTimeout!==-1&&(clearTimeout(this._changeMonitorTimeout),this._changeMonitorTimeout=-1),e.prototype.dispose.call(this)},t.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var i=t._actualReadConfiguration(e);(i.typicalHalfwidthCharacterWidth<=2||i.typicalFullwidthCharacterWidth<=2||i.spaceWidth<=2||i.maxDigitWidth<=2)&&(i.typicalHalfwidthCharacterWidth=Math.max(i.typicalHalfwidthCharacterWidth,5),i.typicalFullwidthCharacterWidth=Math.max(i.typicalFullwidthCharacterWidth,5),i.spaceWidth=Math.max(i.spaceWidth,5),i.maxDigitWidth=Math.max(i.maxDigitWidth,5),this._installChangeMonitor()),this._cache.put(e,i)}return this._cache.get(e)},t.prototype._installChangeMonitor=function(){var e=this;this._changeMonitorTimeout===-1&&(this._changeMonitorTimeout=setTimeout(function(){e._changeMonitorTimeout=-1,e._monitorForChanges()},500))},t.prototype._monitorForChanges=function(){for(var e=!1,i=this._cache.getKeys(),n=0;n<i.length;n++){var o=i[n],r=t._actualReadConfiguration(o);r.typicalHalfwidthCharacterWidth<=2||r.typicalFullwidthCharacterWidth<=2||r.maxDigitWidth<=2?e=!0:(this._cache.put(o,r),this._onDidChange.fire())}e&&this._installChangeMonitor()},t._testElementId=function(e){return"editorSizeProvider"+e},t._createTestElements=function(e,t){var i=document.createElement("div");p.applyFontInfoSlow(i,e),i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";for(var n=0,o=t.length;n<o;n++){i.appendChild(document.createElement("br"));var r=document.createElement("span");r.id=this._testElementId(n),t[n].render(r),i.appendChild(r)}return i.appendChild(document.createElement("br")),i},t._readFromTestElements=function(e){for(var t=0,i=e.length;t<i;t++)e[t].read(document.getElementById(this._testElementId(t)))},t._runReaders=function(e,t){var i=this._createTestElements(e,t);document.body.appendChild(i),this._readFromTestElements(t),document.body.removeChild(i)},t._actualReadConfiguration=function(e){var t=new l("n"),i=new l("ｍ"),n=new l(" "),o=["0","1","2","3","4","5","6","7","8","9"].map(function(e){return new l(e)});this._runReaders(e,o.concat([t,i,n]));for(var r=0,s=0,c=o.length;s<c;s++)r=Math.max(r,o[s].width);return new a.FontInfo({fontFamily:e.fontFamily,fontSize:e.fontSize,lineHeight:e.lineHeight,typicalHalfwidthCharacterWidth:t.width,typicalFullwidthCharacterWidth:i.width,spaceWidth:n.width,maxDigitWidth:r})},t.INSTANCE=new t,t}(n.Disposable),p=function(e){function t(t,i){var n=this;void 0===i&&(i=null),e.call(this,t,new c.ElementSizeObserver(i,function(){return n._onReferenceDomElementSizeChanged()})),this._register(d.INSTANCE.onDidChange(function(){return function(){return n._onCSSBasedConfigurationChanged()}})),this._configWithDefaults.getEditorOptions().automaticLayout&&this._elementSizeObserver.startObserving(),this._register(r.onDidChangeZoomLevel(function(e){return n._recomputeOptions()}))}return h(t,e),t.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.fontFamily,e.style.fontSize=t.fontSize+"px",e.style.lineHeight=t.lineHeight+"px"},t.applyFontInfo=function(e,t){e.setFontFamily(t.fontFamily),e.setFontSize(t.fontSize),e.setLineHeight(t.lineHeight)},t.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},t.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){this._elementSizeObserver.dispose(),e.prototype.dispose.call(this)},t.prototype._getEditorClassName=function(e,t){var i="";return r.isIE11orEarlier?i+="ie ":r.isFirefox&&(i+="ff "),r.isIE9&&(i+="ie9 "),o.isMacintosh&&(i+="mac "),t&&(i+="enable-ligatures "),"monaco-editor "+i+e},t.prototype.getOuterWidth=function(){return this._elementSizeObserver.getWidth()},t.prototype.getOuterHeight=function(){return this._elementSizeObserver.getHeight()},t.prototype._getCanUseTranslate3d=function(){return r.canUseTranslate3d&&0===r.getZoomLevel()},t.prototype.readConfiguration=function(e){return d.INSTANCE.readConfiguration(e)},t}(s.CommonEditorConfiguration);t.Configuration=p}),define(l[658],d([1,0,24,5,59,10,60,147,376,265,14,11,125,132]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g=function(){function e(e){this._event=e}return e.prototype.canUseTextData=function(){return!!this._event.clipboardData||!!window.clipboardData},e.prototype.setTextData=function(e){if(this._event.clipboardData)return this._event.clipboardData.setData("text/plain",e),void this._event.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",e),void this._event.preventDefault();throw new Error("ClipboardEventWrapper.setTextData: Cannot use text data!")},e.prototype.getTextData=function(){if(this._event.clipboardData)return this._event.preventDefault(),this._event.clipboardData.getData("text/plain");if(window.clipboardData)return this._event.preventDefault(),window.clipboardData.getData("Text");throw new Error("ClipboardEventWrapper.getTextData: Cannot use text data!")},e}(),m=function(){function e(e){this._actual=e}return e.prototype.equals=function(e){return this._actual.equals(e)},e.prototype.preventDefault=function(){this._actual.preventDefault()},e.prototype.isDefaultPrevented=function(){return!!this._actual.browserEvent&&this._actual.browserEvent.defaultPrevented},e}(),v=function(e){function t(t){var n=this;e.call(this),this._onKeyDown=this._register(new i.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new i.Emitter),this.onKeyUp=this._onKeyUp.event,this._onKeyPress=this._register(new i.Emitter),this.onKeyPress=this._onKeyPress.event,this._onCompositionStart=this._register(new i.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new i.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new i.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onInput=this._register(new i.Emitter),this.onInput=this._onInput.event,this._onCut=this._register(new i.Emitter),this.onCut=this._onCut.event,this._onCopy=this._register(new i.Emitter),this.onCopy=this._onCopy.event,this._onPaste=this._register(new i.Emitter),this.onPaste=this._onPaste.event,this._textArea=t,this._register(r.addStandardDisposableListener(this._textArea,"keydown",function(e){return n._onKeyDown.fire(new m(e))})),this._register(r.addStandardDisposableListener(this._textArea,"keyup",function(e){return n._onKeyUp.fire(new m(e))})),this._register(r.addStandardDisposableListener(this._textArea,"keypress",function(e){return n._onKeyPress.fire(new m(e))})),this._register(r.addDisposableListener(this._textArea,"compositionstart",function(e){return n._onCompositionStart.fire(e)})),this._register(r.addDisposableListener(this._textArea,"compositionupdate",function(e){return n._onCompositionUpdate.fire(e)})),this._register(r.addDisposableListener(this._textArea,"compositionend",function(e){return n._onCompositionEnd.fire(e)})),this._register(r.addDisposableListener(this._textArea,"input",function(e){return n._onInput.fire()})),this._register(r.addDisposableListener(this._textArea,"cut",function(e){return n._onCut.fire(new g(e))})),this._register(r.addDisposableListener(this._textArea,"copy",function(e){return n._onCopy.fire(new g(e))})),this._register(r.addDisposableListener(this._textArea,"paste",function(e){return n._onPaste.fire(new g(e))}))}return h(t,e),Object.defineProperty(t.prototype,"actual",{get:function(){return this._textArea},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this._textArea.value},t.prototype.setValue=function(e,t){this._textArea.value=t},t.prototype.getSelectionStart=function(){return this._textArea.selectionStart},t.prototype.getSelectionEnd=function(){return this._textArea.selectionEnd},t.prototype.setSelectionRange=function(e,t){var i=document.activeElement;i===this._textArea?this._textArea.setSelectionRange(e,t):this._setSelectionRangeJumpy(e,t)},t.prototype._setSelectionRangeJumpy=function(e,t){try{var i=r.saveParentsScrollTop(this._textArea);this._textArea.focus(),this._textArea.setSelectionRange(e,t),r.restoreParentsScrollTop(this._textArea,i)}catch(n){console.log("an error has been thrown!")}},t.prototype.isInOverwriteMode=function(){return!(!o.isIE11orEarlier||!document.queryCommandValue("OverWrite"))},t}(n.Disposable),y=function(e){function t(t,i,n){var u=this;e.call(this),this._lastCursorSelectionChanged=null,this._context=t,this.viewController=i,this.textArea=new v(n.textArea),f.Configuration.applyFontInfoSlow(this.textArea.actual,this._context.configuration.editor.fontInfo),this.viewHelper=n,this.contentLeft=0,this.contentWidth=0,this.scrollLeft=0,this.textAreaHandler=new c.TextAreaHandler(o,this._getStrategy(),this.textArea,this._context.model,function(){return u.viewHelper.flushAnyAccumulatedEvents()}),this._toDispose=[],this._toDispose.push(this.textAreaHandler.onKeyDown(function(e){return u.viewController.emitKeyDown(e._actual)})),this._toDispose.push(this.textAreaHandler.onKeyUp(function(e){return u.viewController.emitKeyUp(e._actual)})),this._toDispose.push(this.textAreaHandler.onPaste(function(e){return u.viewController.paste("keyboard",e.text,e.pasteOnNewLine)})),this._toDispose.push(this.textAreaHandler.onCut(function(e){return u.viewController.cut("keyboard")})),this._toDispose.push(this.textAreaHandler.onType(function(e){e.replaceCharCnt?u.viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):u.viewController.type("keyboard",e.text)})),this._toDispose.push(this.textAreaHandler.onCompositionStart(function(e){var t=e.showAtLineNumber,i=e.showAtColumn,n={range:new l.Range(t,i,t,i),verticalType:d.VerticalRevealType.Simple,revealHorizontal:!0};u._context.privateViewEventBus.emit(d.ViewEventNames.RevealRangeEvent,n),u.visibleRange=u.viewHelper.visibleRangeForPositionRelativeToEditor(t,i),u.visibleRange&&(s.StyleMutator.setTop(u.textArea.actual,u.visibleRange.top),s.StyleMutator.setLeft(u.textArea.actual,u.contentLeft+u.visibleRange.left-u.scrollLeft)),o.isIE11orEarlier&&s.StyleMutator.setWidth(u.textArea.actual,u.contentWidth),s.StyleMutator.setHeight(u.textArea.actual,u._context.configuration.editor.lineHeight),r.addClass(u.viewHelper.viewDomNode,"ime-input")})),this._toDispose.push(this.textAreaHandler.onCompositionUpdate(function(e){var t=document.createElement("canvas"),i=t.getContext("2d");i.font=window.getComputedStyle(u.textArea.actual).font;var n=i.measureText(e.data);s.StyleMutator.setWidth(u.textArea.actual,n.width)})),this._toDispose.push(this.textAreaHandler.onCompositionEnd(function(e){u.textArea.actual.style.height="",u.textArea.actual.style.width="",s.StyleMutator.setLeft(u.textArea.actual,0),s.StyleMutator.setTop(u.textArea.actual,0),r.removeClass(u.viewHelper.viewDomNode,"ime-input"),u.visibleRange=null})),this._toDispose.push(a.GlobalScreenReaderNVDA.onChange(function(e){u.textAreaHandler.setStrategy(u._getStrategy())})),this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this.textAreaHandler.dispose(),this.textArea.dispose(),this._toDispose=n.dispose(this._toDispose)},t.prototype._getStrategy=function(){return a.GlobalScreenReaderNVDA.getValue()?u.TextAreaStrategy.NVDA:this._context.configuration.editor.viewInfo.experimentalScreenReader?u.TextAreaStrategy.NVDA:u.TextAreaStrategy.IENarrator},t.prototype.focusTextArea=function(){this.textAreaHandler.writePlaceholderAndSelectTextAreaSync()},t.prototype.onConfigurationChanged=function(e){return e.fontInfo&&f.Configuration.applyFontInfoSlow(this.textArea.actual,this._context.configuration.editor.fontInfo),e.viewInfo.experimentalScreenReader&&this.textAreaHandler.setStrategy(this._getStrategy()),!1},t.prototype.onScrollChanged=function(e){return this.scrollLeft=e.scrollLeft,this.visibleRange&&(s.StyleMutator.setTop(this.textArea.actual,this.visibleRange.top),s.StyleMutator.setLeft(this.textArea.actual,this.contentLeft+this.visibleRange.left-this.scrollLeft)),!1},t.prototype.onViewFocusChanged=function(e){return this.textAreaHandler.setHasFocus(e),!1},t.prototype.onCursorSelectionChanged=function(e){return this._lastCursorSelectionChanged=e,!1},t.prototype.onCursorPositionChanged=function(e){return this.textAreaHandler.setCursorPosition(e.position),!1},t.prototype.onLayoutChanged=function(e){return this.contentLeft=e.contentLeft,this.contentWidth=e.contentWidth,!1},t.prototype.writeToTextArea=function(){if(this._lastCursorSelectionChanged){var e=this._lastCursorSelectionChanged;this._lastCursorSelectionChanged=null,this.textAreaHandler.setCursorSelections(e.selection,e.secondarySelections)}},t}(p.ViewEventHandler);t.KeyboardHandler=y}),define(l[659],d([1,0,5,12,59,10,48,46,11,125,363,16,271,77,147]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g){"use strict";function m(e){return function(t,i){var n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}var v=function(e){function t(t,i){var n=this;e.call(this),this._destination=t,this._condition=i,this._retryTimer=this._register(new d.TimeoutTimer),this.handler=function(e){return n._handle(e)}}return h(t,e),t.prototype.dispose=function(){this._retryValue=null,e.prototype.dispose.call(this)},t.prototype._handle=function(e){var t=this;this._condition()?(this._retryTimer.cancel(),this._retryValue=null,this._destination(e)):(this._retryValue=e,this._retryTimer.setIfNotSet(function(){var e=t._retryValue;t._retryValue=null,t._handle(e)},10))},t}(i.Disposable),y=function(){function e(e,t){this.position=e,this.mouseColumn=t}return e}(),E=function(e){function t(i,n,o){var s=this;e.call(this),this._context=i,this.viewController=n,this.viewHelper=o,this.mouseTargetFactory=new l.MouseTargetFactory(this._context,o),this.listenersToRemove=[],this._mouseDownOperation=new S(this._context,this.viewController,this.viewHelper,function(e,t){return s._createMouseTarget(e,t)},function(e){return s._getMouseColumn(e)}),this.toDispose=[],this.lastMouseLeaveTime=-1;var a=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this.listenersToRemove.push(a.onContextMenu(this.viewHelper.viewDomNode,function(e){return s._onContextMenu(e,!0)})),this._mouseMoveEventHandler=new v(function(e){return s._onMouseMove(e)},function(){return!s.viewHelper.isDirty()}),this.toDispose.push(this._mouseMoveEventHandler),this.listenersToRemove.push(a.onMouseMoveThrottled(this.viewHelper.viewDomNode,this._mouseMoveEventHandler.handler,m(this.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),this.listenersToRemove.push(a.onMouseUp(this.viewHelper.viewDomNode,function(e){return s._onMouseUp(e)})),this.listenersToRemove.push(a.onMouseLeave(this.viewHelper.viewDomNode,function(e){return s._onMouseLeave(e)})),this.listenersToRemove.push(a.onMouseDown(this.viewHelper.viewDomNode,function(e){return s._onMouseDown(e)}));var c=function(e){if(s._context.configuration.editor.viewInfo.mouseWheelZoom){var t=new f.StandardMouseWheelEvent(e);if(t.browserEvent.ctrlKey){var i=g.EditorZoom.getZoomLevel(),n=t.deltaY>0?1:-1;g.EditorZoom.setZoomLevel(i+n),t.preventDefault(),t.stopPropagation()}}};this.listenersToRemove.push(r.addDisposableListener(this.viewHelper.viewDomNode,"mousewheel",c,!0)),this.listenersToRemove.push(r.addDisposableListener(this.viewHelper.viewDomNode,"DOMMouseScroll",c,!0)),this._context.addEventHandler(this)}return h(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this.listenersToRemove=i.dispose(this.listenersToRemove),this.toDispose=i.dispose(this.toDispose),this._mouseDownOperation.dispose()},t.prototype.onLayoutChanged=function(e){return this._layoutInfo=e,!1},t.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},t.prototype.onCursorSelectionChanged=function(e){return this._mouseDownOperation.onCursorSelectionChanged(e),!1},t.prototype._createMouseTarget=function(e,t){return this.mouseTargetFactory.createMouseTarget(this._layoutInfo,e,t)},t.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(this._layoutInfo,e)},t.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},t.prototype._onMouseMove=function(e){if(!this._mouseDownOperation.isActive()){var t=e.timestamp;t<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},t.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseDown=function(e){var t=this,i=this._createMouseTarget(e,!0),r=i.type===c.MouseTargetType.CONTENT_TEXT||i.type===c.MouseTargetType.CONTENT_EMPTY,s=i.type===c.MouseTargetType.GUTTER_GLYPH_MARGIN||i.type===c.MouseTargetType.GUTTER_LINE_NUMBERS||i.type===c.MouseTargetType.GUTTER_LINE_DECORATIONS,a=i.type===c.MouseTargetType.GUTTER_LINE_NUMBERS,u=this._context.configuration.editor.viewInfo.selectOnLineNumbers,l=i.type===c.MouseTargetType.CONTENT_VIEW_ZONE||i.type===c.MouseTargetType.GUTTER_VIEW_ZONE,d=e.leftButton;if(n.isMacintosh&&e.ctrlKey&&(d=!1),d&&(r||a&&u))o.isIE11orEarlier?e.browserEvent.fromElement?(e.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()}):(e.preventDefault(),this.viewHelper.focusTextArea()),this._mouseDownOperation.start(i.type,e);else if(s)e.preventDefault();else if(l){var h=i.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(h.viewZoneId)&&e.preventDefault()}this.viewController.emitMouseDown({event:e,target:i})},t.MOUSE_MOVE_MINIMUM_TIME=100,t}(u.ViewEventHandler);t.MouseHandler=E;var S=function(e){function t(t,i,n,o,r){var s=this;e.call(this),this._context=t,this._viewController=i,this._viewHelper=n,this._createMouseTarget=o,this._getMouseColumn=r,this._currentSelection=new a.Selection(1,1,1,1),this._mouseState=new b,this._onScrollTimeout=this._register(new d.TimeoutTimer),this._isActive=!1,this._lastMouseEvent=null,this._mouseMoveMonitor=this._register(new p.GlobalEditorMouseMoveMonitor(this._viewHelper.viewDomNode)),this._mouseDownThenMoveEventHandler=this._register(new v(function(e){return s._onMouseDownThenMove(e)},function(){return!s._viewHelper.isDirty()}))}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&this._dispatchMouse(t,!0)},t.prototype.start=function(e,t){var i=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===c.MouseTargetType.GUTTER_LINE_NUMBERS),this._mouseState.setModifiers(t);var n=this._findMousePosition(t,!0);n&&(this._mouseState.trySetCount(t.detail,n.position),t.detail=this._mouseState.count,this._dispatchMouse(n,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(m(null),this._mouseDownThenMoveEventHandler.handler,function(){return i._stop()})))},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet(function(){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&e._dispatchMouse(t,!0)},10)},t.prototype.onCursorSelectionChanged=function(e){this._currentSelection=e.selection},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,i=this._getMouseColumn(e);if(e.posy<t.top){var n=this._viewHelper.getLineNumberAtVerticalOffset(Math.max(this._viewHelper.getScrollTop()-(t.top-e.posy),0));return new y(new s.Position(n,1),i)}if(e.posy>t.top+t.height){var o=this._viewHelper.getLineNumberAtVerticalOffset(this._viewHelper.getScrollTop()+(e.posy-t.top));return new y(new s.Position(o,this._context.model.getLineMaxColumn(o)),i)}var r=this._viewHelper.getLineNumberAtVerticalOffset(this._viewHelper.getScrollTop()+(e.posy-t.top));return e.posx<t.left?new y(new s.Position(r,1),i):e.posx>t.left+t.width?new y(new s.Position(r,this._context.model.getLineMaxColumn(r)),i):null},t.prototype._findMousePosition=function(e,t){var i=this._getPositionOutsideEditor(e);if(i)return i;var n=this._createMouseTarget(e,t),o=n.position;if(!o)return null;if(n.type===c.MouseTargetType.CONTENT_VIEW_ZONE||n.type===c.MouseTargetType.GUTTER_VIEW_ZONE){var r=new s.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),a=n.detail,u=a.positionBefore,l=a.positionAfter;if(u&&l)return u.isBefore(r)?new y(u,n.mouseColumn):new y(l,n.mouseColumn)}return new y(o,n.mouseColumn)},t.prototype._dispatchMouse=function(e,t){this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey})},t}(i.Disposable),b=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0}return Object.defineProperty(e.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,i){var n=(new Date).getTime();n-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=n,
t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(i)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=i,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e.CLEAR_MOUSE_DOWN_COUNT_TIME=400,e}()}),define(l[660],d([1,0,10,136,659,271]),function(e,t,i,n,o,r){"use strict";var s=function(e,t){var i={translationY:t.translationY,translationX:t.translationX};return e&&(i.translationY+=e.translationY,i.translationX+=e.translationX),i},a=function(e){function t(t,n,o){var r=this;e.call(this,t,n,o),this.viewHelper.linesContentDomNode.style.msTouchAction="none",this.viewHelper.linesContentDomNode.style.msContentZooming="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(i){var n=i.pointerType;return n===(i.MSPOINTER_TYPE_MOUSE||"mouse")?void(r._lastPointerType="mouse"):void(n===(i.MSPOINTER_TYPE_TOUCH||"touch")?(r._lastPointerType="touch",e.addPointer(i.pointerId)):(r._lastPointerType="pen",t.addPointer(i.pointerId)))}),r.listenersToRemove.push(i.addDisposableThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},s)),r.listenersToRemove.push(i.addDisposableListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return h(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,i=new r.EditorMouseEvent(e,this.viewHelper.viewDomNode),n=this._createMouseTarget(i,!1);n.position&&this.viewController.moveTo("mouse",n.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollPosition({scrollLeft:this.viewHelper.getScrollLeft()-e.translationX,scrollTop:this.viewHelper.getScrollTop()-e.translationY})},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(o.MouseHandler),c=function(e){function t(t,n,o){var r=this;e.call(this,t,n,o),this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout(function(){if(r._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=r.viewHelper.linesContentDomNode,t.target=r.viewHelper.linesContentDomNode,r.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(i){var n=i.pointerType;return"mouse"===n?void(r._lastPointerType="mouse"):void("touch"===n?(r._lastPointerType="touch",e.addPointer(i.pointerId)):(r._lastPointerType="pen",t.addPointer(i.pointerId)))}),r.listenersToRemove.push(i.addDisposableThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},s)),r.listenersToRemove.push(i.addDisposableListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},!0))}},100),this._lastPointerType="mouse"}return h(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,i=new r.EditorMouseEvent(e,this.viewHelper.viewDomNode),n=this._createMouseTarget(i,!1);n.position&&this.viewController.moveTo("mouse",n.position),i.browserEvent.fromElement?(i.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(function(){t.viewHelper.focusTextArea()})},t.prototype._onGestureChange=function(e){this.viewHelper.setScrollPosition({scrollLeft:this.viewHelper.getScrollLeft()-e.translationX,scrollTop:this.viewHelper.getScrollTop()-e.translationY})},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(o.MouseHandler),u=function(e){function t(t,o,s){var a=this;e.call(this,t,o,s),this.gesture=new n.Gesture(this.viewHelper.linesContentDomNode),this.listenersToRemove.push(i.addDisposableListener(this.viewHelper.linesContentDomNode,n.EventType.Tap,function(e){return a.onTap(e)})),this.listenersToRemove.push(i.addDisposableListener(this.viewHelper.linesContentDomNode,n.EventType.Change,function(e){return a.onChange(e)})),this.listenersToRemove.push(i.addDisposableListener(this.viewHelper.linesContentDomNode,n.EventType.Contextmenu,function(e){return a._onContextMenu(new r.EditorMouseEvent(e,a.viewHelper.viewDomNode),!1)}))}return h(t,e),t.prototype.dispose=function(){this.gesture.dispose(),e.prototype.dispose.call(this)},t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new r.EditorMouseEvent(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo("mouse",t.position)},t.prototype.onChange=function(e){this.viewHelper.setScrollPosition({scrollLeft:this.viewHelper.getScrollLeft()-e.translationX,scrollTop:this.viewHelper.getScrollTop()-e.translationY})},t}(o.MouseHandler),l=function(){function e(e,t,i){window.navigator.msPointerEnabled?this.handler=new a(e,t,i):window.TouchEvent?this.handler=new u(e,t,i):window.navigator.pointerEnabled?this.handler=new c(e,t,i):this.handler=new o.MouseHandler(e,t,i)}return e.prototype.onScrollChanged=function(e){this.handler.onScrollChanged(e)},e.prototype.dispose=function(){this.handler.dispose()},e}();t.PointerHandler=l}),define(l[661],d([1,0,60,53,262,132]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i){e.call(this,t),this._dynamicOverlays=[],this._isFocused=!1,this._layoutProvider=i,this.domNode.setClassName("view-overlays")}return h(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,i=this._dynamicOverlays.length;t<i;t++){var n=this._dynamicOverlays[t];if(n.shouldRender())return!0}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._layoutProvider=null;for(var t=0,i=this._dynamicOverlays.length;t<i;t++){var n=this._dynamicOverlays[t];n.dispose()}this._dynamicOverlays=null},t.prototype.getDomNode=function(){return this.domNode.domNode},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onViewFocusChanged=function(e){return this._isFocused=e,!0},t.prototype._createLine=function(){var e=new a(this._context,this._dynamicOverlays);return e},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter(function(e){return e.shouldRender()}),i=0,n=t.length;i<n;i++){var o=t[i];o.prepareRender(e),o.onDidRender()}return null},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(t){e.prototype._renderLines.call(this,t.linesViewportData)},t}(o.ViewLayer);t.ViewOverlays=s;var a=function(){function e(e,t){this._context=e,this._lineHeight=this._context.configuration.editor.lineHeight,this._dynamicOverlays=t,this._domNode=null,this._renderPieces=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=i.createFastDomNode(e)},e.prototype.onContentChanged=function(){},e.prototype.onLinesInsertedAbove=function(){},e.prototype.onLinesDeletedAbove=function(){},e.prototype.onLineChangedAbove=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight)},e.prototype.shouldUpdateHTML=function(e,t,i){for(var n="",o=0,r=this._dynamicOverlays.length;o<r;o++){var s=this._dynamicOverlays[o];n+=s.render(e,t)}var a=this._renderPieces===n;return a||(this._renderPieces=n),!a},e.prototype.getLineOuterHTML=function(e,t,i){e.push('<div lineNumber="'),e.push(t.toString()),e.push('" style="top:'),e.push(i.toString()),e.push("px;height:"),e.push(this._lineHeight.toString()),e.push('px;" class="'),e.push(n.ClassNames.VIEW_LINE),e.push('">'),e.push(this.getLineInnerHTML(t)),e.push("</div>")},e.prototype.getLineInnerHTML=function(e){return this._renderPieces},e.prototype.layoutLine=function(e,t){this._domNode.setLineNumber(String(e)),this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight)},e}(),c=function(e){function t(t,i){e.call(this,t,i),this._scrollWidth=this._layoutProvider.getScrollWidth(),this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth,this.domNode.setWidth(this._scrollWidth),this.domNode.setHeight(0)}return h(t,e),t.prototype.onConfigurationChanged=function(t){return t.layoutInfo&&(this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth),e.prototype.onConfigurationChanged.call(this,t)},t.prototype.onScrollChanged=function(t){return this._scrollWidth=t.scrollWidth,e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(this._scrollWidth,this._contentWidth))},t}(s);t.ContentViewOverlays=c;var u=function(e){function t(t,i){e.call(this,t,i),this._glyphMarginLeft=t.configuration.editor.layoutInfo.glyphMarginLeft,this._glyphMarginWidth=t.configuration.editor.layoutInfo.glyphMarginWidth,this._scrollHeight=i.getScrollHeight(),this._contentLeft=t.configuration.editor.layoutInfo.contentLeft,this._canUseTranslate3d=t.configuration.editor.viewInfo.canUseTranslate3d,this.domNode.setClassName(n.ClassNames.MARGIN_VIEW_OVERLAYS+" monaco-editor-background"),this.domNode.setWidth(1),r.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo)}return h(t,e),t.prototype._extraDomNodeHTML=function(){return['<div class="',n.ClassNames.GLYPH_MARGIN,'" style="left:',String(this._glyphMarginLeft),"px;width:",String(this._glyphMarginWidth),"px;height:",String(this._scrollHeight),'px;"></div>'].join("")},t.prototype._getGlyphMarginDomNode=function(){return this.domNode.domNode.children[0]},t.prototype.onScrollChanged=function(t){return this._scrollHeight=t.scrollHeight,e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.onLayoutChanged=function(t){return this._glyphMarginLeft=t.glyphMarginLeft,this._glyphMarginWidth=t.glyphMarginWidth,this._scrollHeight=this._layoutProvider.getScrollHeight(),this._contentLeft=t.contentLeft,e.prototype.onLayoutChanged.call(this,t)||!0},t.prototype.onConfigurationChanged=function(t){return t.fontInfo&&r.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),t.viewInfo.canUseTranslate3d&&(this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d),e.prototype.onConfigurationChanged.call(this,t)},t.prototype._viewOverlaysRender=function(t){if(e.prototype._viewOverlaysRender.call(this,t),this._canUseTranslate3d){var n="translate3d(0px, "+t.linesViewportData.visibleRangesDeltaTop+"px, 0px)";this.domNode.setTransform(n),this.domNode.setTop(0)}else this.domNode.setTransform(""),this.domNode.setTop(t.linesViewportData.visibleRangesDeltaTop);var o=Math.min(this._layoutProvider.getTotalHeight(),1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft);var r=this._getGlyphMarginDomNode();r&&(i.StyleMutator.setHeight(r,this._scrollHeight),i.StyleMutator.setLeft(r,this._glyphMarginLeft),i.StyleMutator.setWidth(r,this._glyphMarginWidth))},t}(s);t.MarginViewOverlays=u}),define(l[662],d([1,0,16,60,14,11,53,262,369,132,193,855]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(){function e(){this._currentVisibleRange=new o.Range(1,1,1,1),this._bigNumbersDelta=0}return e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},e.prototype.getBigNumbersDelta=function(){return this._bigNumbersDelta},e.prototype.setBigNumbersDelta=function(e){this._bigNumbersDelta=e},e}(),p=function(e){function t(t,n){var o=this;e.call(this,t),this._lineHeight=this._context.configuration.editor.lineHeight,this._isViewportWrapping=this._context.configuration.editor.wrappingInfo.isViewportWrapping,this._revealHorizontalRightPadding=this._context.configuration.editor.viewInfo.revealHorizontalRightPadding,this._canUseTranslate3d=t.configuration.editor.viewInfo.canUseTranslate3d,this._layoutProvider=n,this.domNode.setClassName(s.ClassNames.VIEW_LINES),u.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),this._maxLineWidth=0,this._asyncUpdateLineWidths=new i.RunOnceScheduler(function(){o._updateLineWidths()},200),this._lastRenderedData=new d,this._lastCursorRevealRangeHorizontallyEvent=null,this._textRangeRestingSpot=document.createElement("div"),this._textRangeRestingSpot.className="textRangeRestingSpot"}return h(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),this._layoutProvider=null,e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this.domNode.domNode},t.prototype.onConfigurationChanged=function(t){var i=e.prototype.onConfigurationChanged.call(this,t);return t.wrappingInfo&&(this._maxLineWidth=0),t.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),t.wrappingInfo&&(this._isViewportWrapping=this._context.configuration.editor.wrappingInfo.isViewportWrapping),t.viewInfo.revealHorizontalRightPadding&&(this._revealHorizontalRightPadding=this._context.configuration.editor.viewInfo.revealHorizontalRightPadding),t.viewInfo.canUseTranslate3d&&(this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d),t.fontInfo&&u.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo),i},t.prototype.onLayoutChanged=function(t){var i=e.prototype.onLayoutChanged.call(this,t);return this._maxLineWidth=0,i},t.prototype.onModelFlushed=function(){var t=e.prototype.onModelFlushed.call(this);return this._maxLineWidth=0,t},t.prototype.onModelDecorationsChanged=function(t){for(var i=e.prototype.onModelDecorationsChanged.call(this,t),n=0;n<this._lines.length;n++)this._lines[n].onModelDecorationsChanged();return i||!0},t.prototype.onCursorRevealRange=function(e){var t=this._computeScrollTopToRevealRange(this._layoutProvider.getCurrentViewport(),e.range,e.verticalType);return e.revealHorizontal&&(this._lastCursorRevealRangeHorizontallyEvent=e),this._layoutProvider.setScrollPosition({scrollTop:t}),!0},t.prototype.onCursorScrollRequest=function(e){var t=this._layoutProvider.getScrollTop(),i=t+e.deltaLines*this._lineHeight;return this._layoutProvider.setScrollPosition({scrollTop:i}),!0},t.prototype.onScrollChanged=function(t){return this.domNode.setWidth(t.scrollWidth),e.prototype.onScrollChanged.call(this,t)||!0},t.prototype.getPositionFromDOMInfo=function(e,t){var i=this._getLineNumberFromDOMInfo(e);if(i===-1)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return{lineNumber:i,column:1};var n=i-this._rendLineNumberStart;if(n<0||n>=this._lines.length)return null;var o=this._lines[n].getColumnOfNodeOffset(i,e,t),r=this._context.model.getLineMinColumn(i);return o<r&&(o=r),{lineNumber:i,column:o}},t.prototype._getLineNumberFromDOMInfo=function(e){for(;e&&1===e.nodeType;){if(e.className===s.ClassNames.VIEW_LINE)return parseInt(e.getAttribute("lineNumber"),10);e=e.parentElement}return-1},t.prototype.getLineWidth=function(e){var t=e-this._rendLineNumberStart;return t<0||t>=this._lines.length?-1:this._lines[t].getWidth()},t.prototype.linesVisibleRangesForRange=function(e,i){if(this.shouldRender())return null;var n=e.endLineNumber;if(e=o.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange()),!e)return null;var r,s=[],a=this.domNode.domNode.getBoundingClientRect().left;i&&(r=this._context.model.convertViewPositionToModelPosition(e.startLineNumber,1).lineNumber);for(var c=e.startLineNumber;c<=e.endLineNumber;c++){var u=c-this._rendLineNumberStart;if(!(u<0||u>=this._lines.length)){var d=c===e.startLineNumber?e.startColumn:1,h=c===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(c),p=this._lines[u].getVisibleRangesForRange(d,h,a,this._textRangeRestingSpot);if(p&&0!==p.length){if(i&&c<n){var f=r;r=this._context.model.convertViewPositionToModelPosition(c+1,1).lineNumber,f!==r&&(p[p.length-1].width+=t.LINE_FEED_WIDTH)}s.push(new l.LineVisibleRanges(c,p))}}}return 0===s.length?null:s},t.prototype.visibleRangesForRange2=function(e,t){if(this.shouldRender())return null;if(e=o.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange()),!e)return null;for(var i=[],n=this.domNode.domNode.getBoundingClientRect().left,r=this._lastRenderedData.getBigNumbersDelta(),s=e.startLineNumber;s<=e.endLineNumber;s++){var a=s-this._rendLineNumberStart;if(!(a<0||a>=this._lines.length)){var c=s===e.startLineNumber?e.startColumn:1,u=s===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(s),d=this._lines[a].getVisibleRangesForRange(c,u,n,this._textRangeRestingSpot);if(d&&0!==d.length)for(var h=this._layoutProvider.getVerticalOffsetForLineNumber(s)-r+t,p=0,f=d.length;p<f;p++)i.push(new l.VisibleRange(h,d[p].left,d[p].width))}}return 0===i.length?null:i},t.prototype._createLine=function(){return c.createLine(this._context)},t.prototype._updateLineWidths=function(){var e,t,i=1;for(e=0;e<this._lines.length;e++)t=this._lines[e].getWidth(),i=Math.max(i,t);this._ensureMaxLineWidth(i)},t.prototype.prepareRender=function(){throw new Error("Not supported")},t.prototype.render=function(){throw new Error("Not supported")},t.prototype.renderText=function(t,i){if(!this.shouldRender())throw new Error("I did not ask to render!");if(e.prototype._renderLines.call(this,t),this._lastRenderedData.setBigNumbersDelta(t.bigNumbersDelta),this._lastRenderedData.setCurrentVisibleRange(t.visibleRange),this.domNode.setWidth(this._layoutProvider.getScrollWidth()),this.domNode.setHeight(Math.min(this._layoutProvider.getTotalHeight(),1e6)),i(),this._lastCursorRevealRangeHorizontallyEvent){var o=this._lastCursorRevealRangeHorizontallyEvent.range;this._lastCursorRevealRangeHorizontallyEvent=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(o),s=this._isViewportWrapping;s||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._layoutProvider.setScrollPosition({scrollLeft:r.scrollLeft})}if(this._canUseTranslate3d){var a="translate3d("+-this._layoutProvider.getScrollLeft()+"px, "+t.visibleRangesDeltaTop+"px, 0px)";n.StyleMutator.setTransform(this.domNode.domNode.parentNode,a),n.StyleMutator.setTop(this.domNode.domNode.parentNode,0),n.StyleMutator.setLeft(this.domNode.domNode.parentNode,0)}else n.StyleMutator.setTransform(this.domNode.domNode.parentNode,""),n.StyleMutator.setTop(this.domNode.domNode.parentNode,t.visibleRangesDeltaTop),n.StyleMutator.setLeft(this.domNode.domNode.parentNode,-this._layoutProvider.getScrollLeft());this._asyncUpdateLineWidths.schedule()},t.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._layoutProvider.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,i){var n,o,s=e.top,a=e.height,c=s+a;n=this._layoutProvider.getVerticalOffsetForLineNumber(t.startLineNumber),o=this._layoutProvider.getVerticalOffsetForLineNumber(t.endLineNumber)+this._layoutProvider.heightInPxForLine(t.endLineNumber),i===r.VerticalRevealType.Simple&&(o+=this._lineHeight);var u;if(i===r.VerticalRevealType.Center||i===r.VerticalRevealType.CenterIfOutsideViewport)if(i===r.VerticalRevealType.CenterIfOutsideViewport&&s<=n&&o<=c)u=s;else{var l=(n+o)/2;u=Math.max(0,l-a/2)}else u=this._computeMinimumScrolling(s,c,n,o);return u},t.prototype._computeScrollLeftToRevealRange=function(e){var i=0;if(e.startLineNumber!==e.endLineNumber)return{scrollLeft:0,maxHorizontalOffset:i};var n=this._layoutProvider.getCurrentViewport(),o=n.left,r=o+n.width,s=this.visibleRangesForRange2(e,0),a=Number.MAX_VALUE,c=0;if(!s)return{scrollLeft:o,maxHorizontalOffset:i};var u,l;for(u=0;u<s.length;u++)l=s[u],l.left<a&&(a=l.left),l.left+l.width>c&&(c=l.left+l.width);i=c,a=Math.max(0,a-t.HORIZONTAL_EXTRA_PX),c+=this._revealHorizontalRightPadding;var d=this._computeMinimumScrolling(o,r,a,c);return{scrollLeft:d,maxHorizontalOffset:i}},t.prototype._computeMinimumScrolling=function(e,t,i,n){e=0|e,t=0|t,i=0|i,n=0|n;var o=t-e,r=n-i;return r<o?i<e?i:n>t?Math.max(0,n-o):e:i},t.LINE_FEED_WIDTH=10,t.HORIZONTAL_EXTRA_PX=30,t}(a.ViewLayer);t.ViewLines=p}),define(l[663],d([1,0,60,11,132]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t){this._context=e,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._lineHeight=this._context.configuration.editor.lineHeight,this._lastRenderedContent="",this._isInEditableRange=!0,this._domNode=this._createCursorDomNode(t),o.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),this._isVisible=!0,this._domNode.setDisplay("none"),this.updatePosition({lineNumber:1,column:1})}return e.prototype._createCursorDomNode=function(e){var t=i.createFastDomNode(document.createElement("div"));return e?t.setClassName("cursor secondary"):t.setClassName("cursor"),t.setHeight(this._lineHeight),t.setTop(0),t.setLeft(0),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t},e.prototype.getDomNode=function(){return this._domNode.domNode},e.prototype.getIsInEditableRange=function(){return this._isInEditableRange},e.prototype.getPositionTop=function(){return this._positionTop},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},e.prototype.onModelFlushed=function(){return this.updatePosition({lineNumber:1,column:1}),this._isInEditableRange=!0,!0},e.prototype.onCursorPositionChanged=function(e,t){return this.updatePosition(e),this._isInEditableRange=t,!0},e.prototype.onConfigurationChanged=function(e){return e.lineHeight&&(this._lineHeight=this._context.configuration.editor.lineHeight),e.viewInfo.cursorStyle&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),e.fontInfo&&o.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo),!0},e.prototype.prepareRender=function(e){var t=e.visibleRangeForPosition(this._position);t?(this._positionTop=t.top,this._positionLeft=t.left,this._isInViewport=!0):this._isInViewport=!1},e.prototype._getRenderedContent=function(){if(this._cursorStyle===n.TextEditorCursorStyle.Block){var e=this._context.model.getLineContent(this._position.lineNumber);return e.charAt(this._position.column-1)}return""},e.prototype.render=function(e){if(this._isInViewport){var t=this._getRenderedContent();this._lastRenderedContent!==t&&(this._lastRenderedContent=t,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setDisplay("block"),this._domNode.setLeft(this._positionLeft),this._domNode.setTop(this._positionTop+e.viewportTop-e.bigNumbersDelta),this._domNode.setLineHeight(this._lineHeight),this._domNode.setHeight(this._lineHeight)}else this._domNode.setDisplay("none")},e.prototype.updatePosition=function(e){this._position=e,this._domNode.domNode.setAttribute("lineNumber",this._position.lineNumber.toString()),this._domNode.domNode.setAttribute("column",this._position.column.toString()),this._isInViewport=!1},e}();t.ViewCursor=r}),define(l[664],d([1,0,11,53,117,663,60,840]),function(e,t,i,n,o,r,s){"use strict";var a;!function(e){e[e.Hidden=0]="Hidden",e[e.Visible=1]="Visible",e[e.Blink=2]="Blink"}(a||(a={}));var c=function(e){function t(t){e.call(this,t),this._readOnly=this._context.configuration.editor.readOnly,this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking,this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle,this._canUseTranslate3d=t.configuration.editor.viewInfo.canUseTranslate3d,this._primaryCursor=new r.ViewCursor(this._context,(!1)),this._secondaryCursors=[],this._domNode=s.createFastDomNode(document.createElement("div")),this._updateDomClassName(),this._domNode.domNode.appendChild(this._primaryCursor.getDomNode()),this._blinkTimer=-1,this._editorHasFocus=!1,this._updateBlinking()}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._blinkTimer!==-1&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1)},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.onModelFlushed=function(){this._primaryCursor.onModelFlushed();for(var e=0,t=this._secondaryCursors.length;e<t;e++){var i=this._secondaryCursors[e].getDomNode();i.parentNode.removeChild(i)}return this._secondaryCursors=[],!0},t.prototype.onModelDecorationsChanged=function(e){return e.inlineDecorationsChanged},t.prototype.onModelLinesDeleted=function(e){return!0},t.prototype.onModelLineChanged=function(e){return!0},t.prototype.onModelLinesInserted=function(e){return!0},t.prototype.onModelTokensChanged=function(e){var t=function(t){return e.fromLineNumber<=t.lineNumber&&t.lineNumber<=e.toLineNumber};if(t(this._primaryCursor.getPosition()))return!0;for(var i=0;i<this._secondaryCursors.length;i++)if(t(this._secondaryCursors[i].getPosition()))return!0;return!1},t.prototype.onCursorPositionChanged=function(e){if(this._primaryCursor.onCursorPositionChanged(e.position,e.isInEditableRange),this._updateBlinking(),this._secondaryCursors.length<e.secondaryPositions.length)for(var t=e.secondaryPositions.length-this._secondaryCursors.length,i=0;i<t;i++){var n=new r.ViewCursor(this._context,(!0));this._primaryCursor.getDomNode().parentNode.insertBefore(n.getDomNode(),this._primaryCursor.getDomNode().nextSibling),this._secondaryCursors.push(n)}else if(this._secondaryCursors.length>e.secondaryPositions.length)for(var o=this._secondaryCursors.length-e.secondaryPositions.length,i=0;i<o;i++)this._secondaryCursors[0].getDomNode().parentNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1);for(var i=0;i<e.secondaryPositions.length;i++)this._secondaryCursors[i].onCursorPositionChanged(e.secondaryPositions[i],e.isInEditableRange);return!0},t.prototype.onCursorSelectionChanged=function(e){return!1},t.prototype.onConfigurationChanged=function(e){e.readOnly&&(this._readOnly=this._context.configuration.editor.readOnly),e.viewInfo.cursorBlinking&&(this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking),e.viewInfo.cursorStyle&&(this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle),e.viewInfo.canUseTranslate3d&&(this._canUseTranslate3d=this._context.configuration.editor.viewInfo.canUseTranslate3d),this._primaryCursor.onConfigurationChanged(e),this._updateBlinking(),e.viewInfo.cursorStyle&&this._updateDomClassName();for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0},t.prototype.onLayoutChanged=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onViewFocusChanged=function(e){return this._editorHasFocus=e,this._updateBlinking(),!1},t.prototype.getPosition=function(){return this._primaryCursor.getPosition()},t.prototype._getRenderType=function(){if(this._editorHasFocus){if(this._primaryCursor.getIsInEditableRange()&&!this._readOnly)switch(this._cursorBlinking){case"blink":return a.Blink;case"visible":return a.Visible;case"hidden":return a.Hidden;default:return a.Blink}return a.Visible}return a.Hidden},t.prototype._updateBlinking=function(){var e=this;this._blinkTimer!==-1&&(window.clearInterval(this._blinkTimer),this._blinkTimer=-1);var i=this._getRenderType();i===a.Visible||i===a.Blink?this._show():this._hide(),i===a.Blink&&(this._blinkTimer=window.setInterval(function(){return e._blink()},t.BLINK_INTERVAL))},t.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},t.prototype._getClassName=function(){var e,t=n.ClassNames.VIEW_CURSORS_LAYER;switch(this._cursorStyle){case i.TextEditorCursorStyle.Line:e="cursor-line-style";break;case i.TextEditorCursorStyle.Block:e="cursor-block-style";break;case i.TextEditorCursorStyle.Underline:e="cursor-underline-style";break;default:e="cursor-line-style"}return t+" "+e},t.prototype._blink=function(){this._isVisible?this._hide():this._show()},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!");this._primaryCursor.prepareRender(e);for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)},t.prototype.render=function(e){this._primaryCursor.render(e);for(var t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].render(e);this._canUseTranslate3d?this._domNode.setTransform("translate3d(0px, 0px, 0px)"):this._domNode.setTransform("")},t.BLINK_INTERVAL=500,t}(o.ViewPart);t.ViewCursors=c}),define(l[266],d([1,0,89,67,15,412,16]),function(e,t,i,n,o,r,s){"use strict";function a(e){if(e){var t=i.fuzzyContiguousFilter,n=[];return n.push({currentWord:e.currentWord,suggestions:e.suggestions.filter(function(i){return!!t(e.currentWord,i.label)}),incomplete:e.incomplete}),n}}var c=function(){function e(e,t){this._editorWorkerService=e,this._configurationService=t}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldAutotriggerSuggest",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return i.matchesStrictPrefix},enumerable:!0,configurable:!0}),e.prototype.provideCompletionItems=function(e,t,i){var n=this._configurationService.getConfiguration("editor");return!n||n.wordBasedSuggestions?s.wireCancellationToken(i,this._editorWorkerService.textualSuggest(e.uri,t)):[]},e._c=o.Registry.as(n.Extensions.Configuration).registerConfiguration({type:"object",order:5.1,properties:{"editor.wordBasedSuggestions":{type:"boolean",description:r.localize(0,null),"default":!0}}}),e}();t.TextualSuggestSupport=c,t.filterSuggestions=a}),define(l[263],d([1,0,36,2,70,6,23,37,266,127,162]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e){return void 0===e&&(e=""),l.createWordRegExp(e)}function p(){return{tokenizationSupport:!0}}t.createWordRegExp=d;var f=function(){function e(e,t,i,n,r){this._descriptor=e,this._workerDescriptor=o.createAsyncDescriptor1(t,i),this._superWorkerModuleId=n,this._instantiationService=r,this._workerPiecePromise=null}return e.prototype.worker=function(e){return this._getOrCreateWorker().then(e)},e.prototype._getOrCreateWorker=function(){var t=this;if(!this._workerPiecePromise){var i=this._superWorkerModuleId?e._loadModule(this._superWorkerModuleId):n.TPromise.as(null);this._workerPiecePromise=i.then(function(){return e._loadModule(t._workerDescriptor.moduleName)}).then(function(){return t._instantiationService.createInstance(t._workerDescriptor,t._descriptor.id)})}return this._workerPiecePromise},e._loadModule=function(e){return new n.TPromise(function(t,i,n){self.require([e],t,i)},function(){})},e}();t.ModeWorkerManager=f;var v=function(){function e(e){
this._modeId=e,this._eventEmitter=new i.EventEmitter,this._simplifiedMode=null}return e.prototype.getId=function(){return this._modeId},e.prototype.toSimplifiedMode=function(){return this._simplifiedMode||(this._simplifiedMode=new E(this)),this._simplifiedMode},e.prototype.addSupportChangedListener=function(e){return this._eventEmitter.addListener2("modeSupportChanged",e)},e.prototype.setTokenizationSupport=function(e){var t=this,i=e(this);return this.tokenizationSupport=i,this._eventEmitter.emit("modeSupportChanged",p()),{dispose:function(){t.tokenizationSupport===i&&(delete t.tokenizationSupport,t._eventEmitter.emit("modeSupportChanged",p()))}}},e}();t.AbstractMode=v;var y=function(e){function t(t,i){e.call(this,t),this.compatWorkerService=i,this.compatWorkerService&&this.compatWorkerService.registerCompatMode(this)}return h(t,e),t}(v);t.CompatMode=y;var E=function(){function e(e){var t=this;this._sourceMode=e,this._eventEmitter=new i.EventEmitter,this._id="vs.editor.modes.simplifiedMode:"+e.getId(),this._assignSupports(),this._sourceMode.addSupportChangedListener&&this._sourceMode.addSupportChangedListener(function(e){t._assignSupports(),t._eventEmitter.emit("modeSupportChanged",e)})}return e.prototype.getId=function(){return this._id},e.prototype.toSimplifiedMode=function(){return this},e.prototype._assignSupports=function(){this.tokenizationSupport=this._sourceMode.tokenizationSupport},e}();t.isDigit=function(){var e="0".charCodeAt(0),t="1".charCodeAt(0),i="2".charCodeAt(0),n="3".charCodeAt(0),o="4".charCodeAt(0),r="5".charCodeAt(0),s="6".charCodeAt(0),a="7".charCodeAt(0),c="8".charCodeAt(0),u="9".charCodeAt(0),l="a".charCodeAt(0),d="b".charCodeAt(0),h="c".charCodeAt(0),p="d".charCodeAt(0),f="e".charCodeAt(0),g="f".charCodeAt(0),m="A".charCodeAt(0),v="B".charCodeAt(0),y="C".charCodeAt(0),E="D".charCodeAt(0),S="E".charCodeAt(0),b="F".charCodeAt(0);return function(_,C){var w=_.charCodeAt(0);switch(C){case 1:return w===e;case 2:return w>=e&&w<=t;case 3:return w>=e&&w<=i;case 4:return w>=e&&w<=n;case 5:return w>=e&&w<=o;case 6:return w>=e&&w<=r;case 7:return w>=e&&w<=s;case 8:return w>=e&&w<=a;case 9:return w>=e&&w<=c;case 10:return w>=e&&w<=u;case 11:return w>=e&&w<=u||w===l||w===m;case 12:return w>=e&&w<=u||w>=l&&w<=d||w>=m&&w<=v;case 13:return w>=e&&w<=u||w>=l&&w<=h||w>=m&&w<=y;case 14:return w>=e&&w<=u||w>=l&&w<=p||w>=m&&w<=E;case 15:return w>=e&&w<=u||w>=l&&w<=f||w>=m&&w<=S;default:return w>=e&&w<=u||w>=l&&w<=g||w>=m&&w<=b}}}();var S=function(e){function t(t,i,n){e.call(this,t.id),n&&a.SuggestRegistry.register(this.getId(),new c.TextualSuggestSupport(n,i),!0)}return h(t,e),t=g([m(1,s.IConfigurationService),m(2,r.optional(u.IEditorWorkerService))],t)}(v);t.FrankensteinMode=S}),define(l[667],d([1,0,414,7,24,5,29,25,2,58,70,103,95,6,263,121,646,45,23,173,105]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";function w(e){return"undefined"==typeof e||!!Array.isArray(e)&&e.every(function(e){return"string"==typeof e})}function I(e,t){return e?"string"!=typeof e.id?(t.error(i.localize(10,null,"id")),!1):w(e.extensions)?w(e.filenames)?"undefined"!=typeof e.firstLine&&"string"!=typeof e.firstLine?(t.error(i.localize(13,null,"firstLine")),!1):"undefined"!=typeof e.configuration&&"string"!=typeof e.configuration?(t.error(i.localize(14,null,"configuration")),!1):w(e.aliases)?!!w(e.mimetypes)||(t.error(i.localize(16,null,"mimetypes")),!1):(t.error(i.localize(15,null,"aliases")),!1):(t.error(i.localize(12,null,"filenames")),!1):(t.error(i.localize(11,null,"extensions")),!1):(t.error(i.localize(9,null,T.name)),!1)}var T=p.ExtensionsRegistry.registerExtensionPoint("languages",{description:i.localize(0,null),type:"array",defaultSnippets:[{body:[{id:"",aliases:[],extensions:[]}]}],items:{type:"object",defaultSnippets:[{body:{id:"",extensions:[]}}],properties:{id:{description:i.localize(1,null),type:"string"},aliases:{description:i.localize(2,null),type:"array",items:{type:"string"}},extensions:{description:i.localize(3,null),"default":[".foo"],type:"array",items:{type:"string"}},filenames:{description:i.localize(4,null),type:"array",items:{type:"string"}},filenamePatterns:{description:i.localize(5,null),type:"array",items:{type:"string"}},mimetypes:{description:i.localize(6,null),type:"array",items:{type:"string"}},firstLine:{description:i.localize(7,null),type:"string"},configuration:{description:i.localize(8,null),type:"string"}}}}),A=function(){function e(e,t){var i=this;this.serviceId=S.IModeService,this._onDidAddModes=new o.Emitter,this.onDidAddModes=this._onDidAddModes.event,this._onDidCreateMode=new o.Emitter,this.onDidCreateMode=this._onDidCreateMode.event,this._instantiationService=e,this._extensionService=t,this._activationPromises={},this._instantiatedModes={},this._config={},this._registry=new E.LanguagesRegistry,this._registry.onDidAddModes(function(e){return i._onDidAddModes.fire(e)})}return e.prototype.getConfigurationForMode=function(e){return this._config[e]||{}},e.prototype.configureMode=function(e,t){var i=this.getModeId(e);i&&this.configureModeById(i,t)},e.prototype.configureModeById=function(e,t){var i=this._config[e]||{},n=s.mixin(s.clone(i),t);if(!s.equals(i,n)){this._config[e]=n;var o=this.getMode(e);o&&o.configSupport&&o.configSupport.configure(this.getConfigurationForMode(e))}},e.prototype.configureAllModes=function(e){var t=this;if(e){var i=this._registry.getRegisteredModes();i.forEach(function(i){var n=e[i];t.configureModeById(i,n)})}},e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},e.prototype.isCompatMode=function(e){var t=this._registry.getCompatMode(e);return!!t},e.prototype.getRegisteredModes=function(){return this._registry.getRegisteredModes()},e.prototype.getRegisteredLanguageNames=function(){return this._registry.getRegisteredLanguageNames()},e.prototype.getExtensions=function(e){return this._registry.getExtensions(e)},e.prototype.getMimeForMode=function(e){return this._registry.getMimeForMode(e)},e.prototype.getLanguageName=function(e){return this._registry.getLanguageName(e)},e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return t.length>0?t[0]:null},e.prototype.getConfigurationFiles=function(e){return this._registry.getConfigurationFiles(e)},e.prototype.lookup=function(e){for(var t=[],i=this._registry.extractModeIds(e),n=0;n<i.length;n++){var o=i[n];t.push({modeId:o,isInstantiated:this._instantiatedModes.hasOwnProperty(o)})}return t},e.prototype.getMode=function(e){for(var t=this._registry.extractModeIds(e),i=!1,o=0;o<t.length;o++){if(this._instantiatedModes.hasOwnProperty(t[o]))return this._instantiatedModes[t[o]];i=i||"plaintext"===t[o]}if(i){var r=null;return this.getOrCreateMode(e).then(function(e){r=e}).done(null,n.onUnexpectedError),r}},e.prototype.getModeIdByLanguageName=function(e){var t=this._registry.getModeIdsFromLanguageName(e);return t.length>0?t[0]:null},e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var i=this._registry.getModeIdsFromFilenameOrFirstLine(e,t);return i.length>0?i[0]:null},e.prototype.onReady=function(){return this._extensionService.onReady()},e.prototype.getOrCreateMode=function(e){var t=this;return this.onReady().then(function(){var i=t.getModeId(e);return t._getOrCreateMode(i||"plaintext")})},e.prototype.getOrCreateModeByLanguageName=function(e){var t=this;return this.onReady().then(function(){var i=t.getModeIdByLanguageName(e);return t._getOrCreateMode(i||"plaintext")})},e.prototype.getOrCreateModeByFilenameOrFirstLine=function(e,t){var i=this;return this.onReady().then(function(){var n=i.getModeIdByFilenameOrFirstLine(e,t);return i._getOrCreateMode(n||"plaintext")})},e.prototype._getOrCreateMode=function(e){var t=this;if(this._instantiatedModes.hasOwnProperty(e))return c.TPromise.as(this._instantiatedModes[e]);if(this._activationPromises.hasOwnProperty(e))return this._activationPromises[e];var i,o,r=new c.TPromise(function(e,t,n){i=e,o=t});return this._activationPromises[e]=r,this._createMode(e).then(function(i){return t._instantiatedModes[e]=i,delete t._activationPromises[e],t._onDidCreateMode.fire(i),t._extensionService.activateByEvent("onLanguage:"+e).done(null,n.onUnexpectedError),t._instantiatedModes[e]}).then(i,o),r},e.prototype._createMode=function(e){var t=this,i=this._createModeDescriptor(e),n=this._registry.getCompatMode(e);if(n){var o=null;return o=Array.isArray(n.deps)?c.TPromise.join(n.deps.map(function(e){return t.getOrCreateMode(e)})):c.TPromise.as(null),o.then(function(o){var r=l.createAsyncDescriptor1(n.moduleId,n.ctorName);return t._instantiationService.createInstance(r,i).then(function(i){return i.configSupport&&i.configSupport.configure(t.getConfigurationForMode(e)),i})})}return c.TPromise.as(this._instantiationService.createInstance(v.FrankensteinMode,i))},e.prototype._createModeDescriptor=function(e){return{id:e}},e.prototype._registerTokenizationSupport=function(e,t){return e.setTokenizationSupport?e.setTokenizationSupport(t):(console.warn("Cannot register tokenizationSupport on mode "+e.getId()+" because it does not support it."),r.empty)},e.prototype.registerModeSupport=function(e,t){var i=this;if(this._instantiatedModes.hasOwnProperty(e))return this._registerTokenizationSupport(this._instantiatedModes[e],t);var n,o=new c.TPromise(function(e,t){n=e}),r=this.onDidCreateMode(function(o){o.getId()===e&&(n(i._registerTokenizationSupport(o,t)),r.dispose())});return{dispose:function(){o.done(function(e){return e.dispose()},null)}}},e.prototype.registerTokenizationSupport=function(e,t){return this.registerModeSupport(e,t)},e.prototype.registerTokenizationSupport2=function(e,t){return this.registerModeSupport(e,function(e){return new D(e,t)})},e}();t.ModeServiceImpl=A;var L=function(){function e(e,t,i){this._mode=e,this._actual=t,this._stateData=i}return Object.defineProperty(e.prototype,"actual",{get:function(){return this._actual},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._mode,this._actual.clone(),_.AbstractState.safeClone(this._stateData))},e.prototype.equals=function(t){return t instanceof e&&(!!this._actual.equals(t._actual)&&_.AbstractState.safeEquals(this._stateData,t._stateData))},e.prototype.getMode=function(){return this._mode},e.prototype.tokenize=function(e){throw new Error("Unexpected tokenize call!")},e.prototype.getStateData=function(){return this._stateData},e.prototype.setStateData=function(e){this._stateData=e},e}();t.TokenizationState2Adapter=L;var D=function(){function e(e,t){this._mode=e,this._actual=t}return e.prototype.getInitialState=function(){return new L(this._mode,this._actual.getInitialState(),null)},e.prototype.tokenize=function(e,t,i,n){if(void 0===i&&(i=0),t instanceof L){var o=this._actual.tokenize(e,t.actual),r=[];return o.tokens.forEach(function(e){if("string"==typeof e.scopes)r.push(new C.Token(e.startIndex+i,e.scopes));else{if(!Array.isArray(e.scopes)||1!==e.scopes.length)throw new Error("Only token scopes as strings or of precisely 1 length are supported at this time!");r.push(new C.Token(e.startIndex+i,e.scopes[0]))}}),{tokens:r,actualStopOffset:i+e.length,endState:new L(t.getMode(),o.endState,t.getStateData()),modeTransitions:[{startIndex:i,mode:t.getMode()}]}}throw new Error("Unexpected state to tokenize with!")},e}();t.TokenizationSupport2Adapter=D;var k=function(e){function t(t,n,o){var r=this;e.call(this,t,n),this._configurationService=o,T.setHandler(function(e){for(var t=[],n=0,o=e.length;n<o;n++){var r=e[n];if(Array.isArray(r.value))for(var s=0,c=r.value.length;s<c;s++){var u=r.value[s];if(I(u,r.collector)){var l=u.configuration?a.join(r.description.extensionFolderPath,u.configuration):u.configuration;t.push({id:u.id,extensions:u.extensions,filenames:u.filenames,filenamePatterns:u.filenamePatterns,firstLine:u.firstLine,aliases:u.aliases,mimetypes:u.mimetypes,configuration:l})}}else r.collector.error(i.localize(17,null,T.name))}y.ModesRegistry.registerLanguages(t)}),this._configurationService.onDidUpdateConfiguration(function(e){return r.onConfigurationChange(e.config)})}return h(t,e),t.prototype.onReady=function(){var e=this;if(!this._onReadyPromise){var t=this._configurationService.getConfiguration();this._onReadyPromise=this._extensionService.onReady().then(function(){return e.onConfigurationChange(t),!0})}return this._onReadyPromise},t.prototype.onConfigurationChange=function(e){var t=this;u.clearTextMimes(!0),e.files&&e.files.associations&&Object.keys(e.files.associations).forEach(function(i){u.registerTextMime({mime:t.getMimeForMode(e.files.associations[i]),filepattern:i,userConfigured:!0})})},t=g([m(0,f.IInstantiationService),m(1,d.IExtensionService),m(2,b.IConfigurationService)],t)}(A);t.MainThreadModeServiceImpl=k}),define(l[668],d([1,0,121,458,15,67]),function(e,t,i,n,o,r){"use strict";i.ModesRegistry.registerCompatMode({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],moduleId:"vs/languages/html/common/html",ctorName:"HTMLMode",deps:["text/css","text/javascript"]});var s=o.Registry.as(r.Extensions.Configuration);s.registerConfiguration({id:"html",order:20,type:"object",title:n.localize(0,null),properties:{"html.format.wrapLineLength":{type:"integer","default":120,description:n.localize(1,null)},"html.format.unformatted":{type:["string","null"],"default":"a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, script, select, small, span, strong, sub, sup, textarea, tt, var",description:n.localize(2,null)},"html.format.indentInnerHtml":{type:"boolean","default":!1,description:n.localize(3,null)},"html.format.preserveNewLines":{type:"boolean","default":!0,description:n.localize(4,null)},"html.format.maxPreserveNewLines":{type:["number","null"],"default":null,description:n.localize(5,null)},"html.format.indentHandlebars":{type:"boolean","default":!1,description:n.localize(6,null)},"html.format.endWithNewline":{type:"boolean","default":!1,description:n.localize(7,null)},"html.format.extraLiners":{type:["string","null"],"default":"head, body, /html",description:n.localize(8,null)}}})}),define(l[669],d([1,0,650,668,651]),function(e,t){"use strict"}),define(l[256],d([1,0,29,15,17,123,67]),function(e,t,i,n,o,r,s){"use strict";function a(e,t,i){var n=t.split("."),o=n.pop(),r=e;n.forEach(function(e){var i=r[e];switch(typeof i){case"undefined":i=r[e]=Object.create(null);break;case"object":break;default:console.log("Conflicting configuration setting: "+t+" at "+e+" with "+JSON.stringify(i))}r=i}),r[o]=i}function c(e){try{var t=Object.create(null),i=r.parse(e)||{};for(var n in i)a(t,n,i[n]);return{contents:t}}catch(o){return{contents:{},parseError:o}}}function u(e,t,i){Object.keys(t).forEach(function(n){n in e?o.isObject(e[n])&&o.isObject(t[n])?u(e[n],t[n],i):i&&(e[n]=t[n]):e[n]=t[n]})}function l(e){var n=Object.create(null),o=[],r=/\/(team\.)?([^\.]*)*\.json/;return Object.keys(e).forEach(function(s){var a=i.clone(e[s]),c=r.exec(s);if(c&&a){var l=!!c[1],d=n;if(c&&c[2]&&c[2]!==t.CONFIG_DEFAULT_NAME){var h=c[2],p=d[h];p||(p=Object.create(null),d[h]=p),d=p}u(d,a.contents,!l),a.parseError&&o.push(s)}}),{contents:n,parseErrors:o}}function d(e){var t=n.Registry.as(s.Extensions.Configuration).getConfigurations(),i=function(t,n){var o=e(t,0===n);Array.isArray(t.allOf)&&t.allOf.forEach(function(e){i(e,o||0!==n?n+1:n)})};t.sort(function(e,t){if("number"!=typeof e.order)return 1;if("number"!=typeof t.order)return-1;if(e.order===t.order){var i=e.title||"",n=t.title||"";return i.localeCompare(n)}return e.order-t.order}).forEach(function(e){i(e,0)})}function h(){var e=Object.create(null),t=function(t,i){return!!t.properties&&(Object.keys(t.properties).forEach(function(i){var n=t.properties[i],r=n["default"];o.isUndefined(n["default"])&&(r=g(n.type)),a(e,i,r)}),!0)};return d(t),e}function p(e){var t=-1,i=[];i.push("{");var n=function(n,r){var s=!1;return n.title&&(s=!0,r?(i.push(""),i.push("// "+n.title)):i.push(e+"// "+n.title),i.push("")),n.properties&&(s=!0,Object.keys(n.properties).forEach(function(r){var s=n.properties[r],a=s["default"];o.isUndefined(a)&&(a=g(s.type)),s.description&&i.push(e+"// "+s.description);var c=JSON.stringify(a,null,e);c&&"object"==typeof a&&(c=f(c,e)),t!==-1&&(i[t]+=","),t=i.length,i.push(e+JSON.stringify(r)+": "+c),i.push("")})),s};return d(n),i.push("}"),i.join("\n")}function f(e,t){return e.split("\n").join("\n"+t)}function g(e){var t=Array.isArray(e)?e[0]:e;switch(t){case"boolean":return!1;case"integer":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}t.CONFIG_DEFAULT_NAME="settings",t.newConfigFile=c,t.merge=u,t.consolidate=l,t.getDefaultValues=h,t.getDefaultValuesContent=p}),define(l[671],d([1,0,25,2,29,7,256,16,78,23,34,67,15,24]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";var f=function(){function e(e,t,i){void 0===i&&(i=".vscode"),this.serviceId=u.IConfigurationService,this._onDidUpdateConfiguration=new p.Emitter,this.contextService=e,this.eventService=t,this.workspaceSettingsRootFolder=i,this.workspaceFilePathToConfiguration=Object.create(null),this.cachedConfig={config:{}},this.registerListeners()}return Object.defineProperty(e.prototype,"onDidUpdateConfiguration",{get:function(){return this._onDidUpdateConfiguration.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this,t=this.eventService.addListener2(l.EventType.FILE_CHANGES,function(t){return e.handleFileEvents(t)}),i=h.Registry.as(d.Extensions.Configuration).onDidRegisterConfiguration(function(){return e.onDidRegisterConfiguration()});this.callOnDispose={dispose:function(){t.dispose(),i.dispose()}}},e.prototype.initialize=function(){return this.doLoadConfiguration().then(function(){return null})},e.prototype.getConfiguration=function(e){var t=e?this.cachedConfig.config[e]:this.cachedConfig.config,i=this.cachedConfig.parseErrors;return i&&i.length>0&&(t||(t={}),t.$parseErrors=i),t},e.prototype.loadConfiguration=function(e){return this.bulkFetchFromWorkspacePromise=null,this.workspaceFilePathToConfiguration=Object.create(null),this.doLoadConfiguration(e)},e.prototype.doLoadConfiguration=function(e){var t=this,i=this.loadGlobalConfiguration();return this.loadWorkspaceConfiguration().then(function(e){var t=s.consolidate(e),n=o.mixin(o.clone(i.contents),t.contents,!0),r=[];return t.parseErrors&&(r=t.parseErrors),i.parseErrors&&r.push.apply(r,i.parseErrors),{config:n,parseErrors:r}}).then(function(i){return t.cachedConfig=i,t.getConfiguration(e)})},e.prototype.loadGlobalConfiguration=function(){return{contents:s.getDefaultValues()}},e.prototype.hasWorkspaceConfiguration=function(){return!!this.workspaceFilePathToConfiguration[".vscode/"+s.CONFIG_DEFAULT_NAME+".json"]},e.prototype.loadWorkspaceConfiguration=function(e){var t=this;return this.bulkFetchFromWorkspacePromise||(this.bulkFetchFromWorkspacePromise=this.resolveStat(this.contextService.toResource(this.workspaceSettingsRootFolder)).then(function(e){return e.isDirectory?t.resolveContents(e.children.filter(function(e){return".json"===i.extname(e.resource.fsPath)}).map(function(e){return e.resource})):n.TPromise.as([])},function(e){if(e)return[]}).then(function(e){e.forEach(function(e){return t.workspaceFilePathToConfiguration[t.contextService.toWorkspaceRelativePath(e.resource)]=n.TPromise.as(s.newConfigFile(e.value))})},r.onUnexpectedError)),this.bulkFetchFromWorkspacePromise.then(function(){return n.TPromise.join(t.workspaceFilePathToConfiguration)})},e.prototype.onDidRegisterConfiguration=function(){this.cachedConfig.config=o.mixin(o.clone(s.getDefaultValues()),this.cachedConfig.config,!0),this._onDidUpdateConfiguration.fire({config:this.cachedConfig.config})},e.prototype.handleConfigurationChange=function(){var t=this;this.reloadConfigurationScheduler||(this.reloadConfigurationScheduler=new a.RunOnceScheduler(function(){t.doLoadConfiguration().then(function(e){return t._onDidUpdateConfiguration.fire({config:e})}).done(null,r.onUnexpectedError)},e.RELOAD_CONFIGURATION_DELAY)),this.reloadConfigurationScheduler.isScheduled()||this.reloadConfigurationScheduler.schedule()},e.prototype.handleFileEvents=function(e){for(var t=e.changes,n=!1,o=0,a=t.length;o<a;o++){var u=this.contextService.toWorkspaceRelativePath(t[o].resource);if(u&&(u===this.workspaceSettingsRootFolder&&t[o].type===l.FileChangeType.DELETED&&(this.workspaceFilePathToConfiguration=Object.create(null),n=!0),".json"===i.extname(u)&&i.isEqualOrParent(u,this.workspaceSettingsRootFolder)))switch(t[o].type){case l.FileChangeType.DELETED:n=c.remove(this.workspaceFilePathToConfiguration,u);break;case l.FileChangeType.UPDATED:case l.FileChangeType.ADDED:this.workspaceFilePathToConfiguration[u]=this.resolveContent(t[o].resource).then(function(e){return s.newConfigFile(e.value)},r.onUnexpectedError),n=!0}}n&&this.handleConfigurationChange()},e.prototype.dispose=function(){this.reloadConfigurationScheduler&&this.reloadConfigurationScheduler.dispose(),this.callOnDispose.dispose(),this._onDidUpdateConfiguration.dispose()},e.RELOAD_CONFIGURATION_DELAY=50,e}();t.ConfigurationService=f}),define(l[672],d([1,0,463,33,2,103,95]),function(e,t,i,n,o,r,s){"use strict";var a=Object.hasOwnProperty,c=function(){function e(e){this.activationFailed=e}return e}();t.ActivatedExtension=c;var u=function(){function e(e){var t=this;this.serviceId=r.IExtensionService,e?(this._onReady=o.TPromise.as(!0),this._onReadyC=function(e){}):this._onReady=new o.TPromise(function(e,i,n){t._onReadyC=e},function(){console.warn("You should really not try to cancel this ready promise!")}),this._activatingExtensions={},this._activatedExtensions={}}return e.prototype._triggerOnReady=function(){this._onReadyC(!0)},e.prototype.onReady=function(){return this._onReady},e.prototype.getExtensionsStatus=function(){return null},e.prototype.isActivated=function(e){return a.call(this._activatedExtensions,e)},e.prototype.activateByEvent=function(e){var t=this;return this._onReady.then(function(){s.ExtensionsRegistry.triggerActivationEventListeners(e);var i=s.ExtensionsRegistry.getExtensionDescriptionsForActivationEvent(e);return t._activateExtensions(i,0)})},e.prototype.activateById=function(e){var t=this;return this._onReady.then(function(){var i=s.ExtensionsRegistry.getExtensionDescription(e);if(!i)throw new Error("Extension `"+e+"` is not known");return t._activateExtensions([i],0)})},e.prototype._handleActivateRequest=function(e,t,o){for(var r="undefined"==typeof e.extensionDependencies?[]:e.extensionDependencies,c=!0,u=0,l=r.length;u<l;u++){var d=r[u],h=s.ExtensionsRegistry.getExtensionDescription(d);if(!h)return this._showMessage(n["default"].Error,i.localize(0,null,d,e.id)),void(this._activatedExtensions[e.id]=this._createFailedExtension());if(a.call(this._activatedExtensions,d)){var p=this._activatedExtensions[d];if(p.activationFailed)return this._showMessage(n["default"].Error,i.localize(1,null,d,e.id)),void(this._activatedExtensions[e.id]=this._createFailedExtension())}else c=!1,t[d]=h}c?t[e.id]=e:o.push(e)},e.prototype._activateExtensions=function(e,t){var r=this;if(0===e.length)return o.TPromise.as(void 0);if(e=e.filter(function(e){return!a.call(r._activatedExtensions,e.id)}),0===e.length)return o.TPromise.as(void 0);if(t>10){for(var s=0,c=e.length;s<c;s++)this._showMessage(n["default"].Error,i.localize(2,null,e[s].id)),this._activatedExtensions[e[s].id]=this._createFailedExtension();return o.TPromise.as(void 0)}for(var u=Object.create(null),l=[],s=0,c=e.length;s<c;s++)this._handleActivateRequest(e[s],u,l);for(var s=0,c=l.length;s<c;s++)u[l[s].id]&&delete u[l[s].id];var d=Object.keys(u).map(function(e){return u[e]});return 0===l.length?o.TPromise.join(d.map(function(e){return r._activateExtension(e)})).then(function(e){}):this._activateExtensions(d,t+1).then(function(e){return r._activateExtensions(l,t+1)})},e.prototype._activateExtension=function(e){var t=this;return a.call(this._activatedExtensions,e.id)?o.TPromise.as(void 0):a.call(this._activatingExtensions,e.id)?this._activatingExtensions[e.id]:(this._activatingExtensions[e.id]=this._actualActivateExtension(e).then(null,function(o){return t._showMessage(n["default"].Error,i.localize(3,null,e.id,o.message)),console.error("Activating extension `"+e.id+"` failed: ",o.message),console.log("Here is the error stack: ",o.stack),t._createFailedExtension()}).then(function(i){t._activatedExtensions[e.id]=i,delete t._activatingExtensions[e.id]}),this._activatingExtensions[e.id])},e}();t.AbstractExtensionService=u}),define(l[673],d([1,0,466,95,19,9,25]),function(e,t,i,n,o,r,s){"use strict";var a=n.ExtensionsRegistry.registerExtensionPoint("jsonValidation",{description:i.localize(0,null),type:"array",defaultSnippets:[{body:[{fileMatch:"{{file.json}}",url:"{{url}}"}]}],items:{type:"object",defaultSnippets:[{body:{fileMatch:"{{file.json}}",url:"{{url}}"}}],properties:{fileMatch:{type:"string",description:i.localize(1,null)},url:{description:i.localize(2,null),type:"string"}}}}),c=function(){function e(){a.setHandler(function(e){for(var t=0;t<e.length;t++){var n=e[t].value,a=e[t].collector,c=e[t].description.extensionFolderPath;if(!n||!Array.isArray(n))return void a.error(i.localize(3,null));n.forEach(function(e){if("string"!=typeof e.fileMatch)return void a.error(i.localize(4,null));var t=e.url;if("string"!=typeof e.url)return void a.error(i.localize(5,null));if(r.startsWith(t,"./"))try{t=o["default"].file(s.normalize(s.join(c,t))).toString()}catch(n){a.error(i.localize(6,null,n.message))}else if(!r.startsWith(t,"https:/")&&r.startsWith(t,"https:/"))return void a.error(i.localize(7,null))})}})}return e}();t.JSONValidationExtensionPoint=c}),define(l[62],d([1,0,13,12,17,15]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(){this.WEIGHT={editorCore:function(e){return void 0===e&&(e=0),0+e},editorContrib:function(e){return void 0===e&&(e=0),100+e},workbenchContrib:function(e){return void 0===e&&(e=0),200+e},builtinExtension:function(e){return void 0===e&&(e=0),300+e},externalExtension:function(e){return void 0===e&&(e=0),400+e}},this._keybindings=[],this._commands=Object.create(null)}return e.bindToCurrentPlatform=function(e){if(n.isWindows){if(e&&e.win)return e.win}else if(n.isMacintosh){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.prototype.registerCommandRule=function(t){var i=this,n=e.bindToCurrentPlatform(t);n&&n.primary&&this.registerDefaultKeybinding(n.primary,t.id,t.weight,0,t.when),n&&Array.isArray(n.secondary)&&n.secondary.forEach(function(e,n){return i.registerDefaultKeybinding(e,t.id,t.weight,-n-1,t.when)})},e.prototype.registerCommandDesc=function(e){this.registerCommandRule(e);var t=e.handler,i=e.description||t.description;if("object"==typeof i){for(var n=[],r=0,s=i.args;r<s.length;r++){var a=s[r];n.push(a.constraint)}t=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return o.validateConstraints(i,n),e.handler.apply(e,[t].concat(i))}}t.description=i,this._commands[e.id]=t},e.prototype.getCommands=function(){return this._commands},e.prototype.registerDefaultKeybinding=function(e,t,o,r,s){n.isWindows&&i.BinaryKeybindings.hasCtrlCmd(e)&&!i.BinaryKeybindings.hasShift(e)&&i.BinaryKeybindings.hasAlt(e)&&!i.BinaryKeybindings.hasWinCtrl(e)&&/^[A-Z0-9\[\]\|\;\'\,\.\/\`]$/.test(i.KeyCode.toString(i.BinaryKeybindings.extractKeyCode(e)))&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t),this._keybindings.push({keybinding:e,command:t,when:s,weight1:o,weight2:r})},e.prototype.getDefaultKeybindings=function(){return this._keybindings},e}();t.KeybindingsRegistry=new s,t.Extensions={EditorModes:"platform.keybindingsRegistry"},r.Registry.add(t.Extensions.EditorModes,t.KeybindingsRegistry)}),define(l[170],d([1,0,13,56,20,62,11,109]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t,i){var n=t.get(a.ICodeEditorService).getFocusedCodeEditor();return n?n:(i&&console.warn("Cannot execute "+e+" because no code editor is focused."),null)}function u(e,t,i){var n=c(e,t,!0);n&&i(n)}function l(e){var t=e.get(n.IEditorService),i=t.getActiveEditor&&t.getActiveEditor();if(i){var o=i.getControl();if(o&&"function"==typeof o.getEditorType){var r=o;return r}}return null}function d(e,t,i){u(e,t,function(t){t.trigger("keyboard",e,i)})}function h(e,t,i,n){void 0===i&&(i=r.KeybindingsRegistry.WEIGHT.editorCore());var a={id:e,handler:d.bind(null,e),weight:i,when:n?n:o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),primary:t.primary,secondary:t.secondary,win:t.win,mac:t.mac,linux:t.linux};r.KeybindingsRegistry.registerCommandDesc(a)}function p(e){var t={id:e,handler:d.bind(null,e),weight:r.KeybindingsRegistry.WEIGHT.editorCore(),when:null,primary:0};r.KeybindingsRegistry.registerCommandDesc(t);var i={id:"default:"+e,handler:function(t,i){u(e,t,function(t){t.trigger("keyboard",e,i)})},weight:r.KeybindingsRegistry.WEIGHT.editorCore(),when:null,primary:0};r.KeybindingsRegistry.registerCommandDesc(i)}function f(e,t){return e?i.KeyMod.Shift|i.KeyMod.Alt|t:i.KeyMod.Alt|t}function g(e,t){return e?i.KeyMod.CtrlCmd|i.KeyMod.Shift|t:i.KeyMod.CtrlCmd|t}function m(e,t,i){h(e,{primary:g(t,i),mac:{primary:f(t,i)}})}function v(e,t){var i=s.Handler.SelectAll,n=c(i,e,!1);if(n&&n.isFocused())return void n.trigger("keyboard",i,t);var o=document.activeElement;if(o&&["input","textarea"].indexOf(o.tagName.toLowerCase())>=0)return void o.select();var r=l(e);return r?void r.trigger("keyboard",i,t):void 0}var y=s.Handler;t.findFocusedEditor=c,t.withCodeEditorFromCommandHandler=u,t.getActiveEditor=l,p(y.Type),p(y.ReplacePreviousChar),p(y.Paste),p(y.Cut),h(y.CursorLeft,{primary:i.KeyCode.LeftArrow,mac:{primary:i.KeyCode.LeftArrow,secondary:[i.KeyMod.WinCtrl|i.KeyCode.KEY_B]}}),h(y.CursorLeftSelect,{primary:i.KeyMod.Shift|i.KeyCode.LeftArrow}),h(y.CursorRight,{primary:i.KeyCode.RightArrow,mac:{primary:i.KeyCode.RightArrow,secondary:[i.KeyMod.WinCtrl|i.KeyCode.KEY_F]}}),h(y.CursorRightSelect,{primary:i.KeyMod.Shift|i.KeyCode.RightArrow}),h(y.CursorUp,{primary:i.KeyCode.UpArrow,mac:{primary:i.KeyCode.UpArrow,secondary:[i.KeyMod.WinCtrl|i.KeyCode.KEY_P]}}),h(y.CursorUpSelect,{primary:i.KeyMod.Shift|i.KeyCode.UpArrow,secondary:[g(!0,i.KeyCode.UpArrow)],mac:{primary:i.KeyMod.Shift|i.KeyCode.UpArrow},linux:{primary:i.KeyMod.Shift|i.KeyCode.UpArrow}}),h(y.CursorDown,{primary:i.KeyCode.DownArrow,mac:{primary:i.KeyCode.DownArrow,secondary:[i.KeyMod.WinCtrl|i.KeyCode.KEY_N]}}),h(y.CursorDownSelect,{primary:i.KeyMod.Shift|i.KeyCode.DownArrow,secondary:[g(!0,i.KeyCode.DownArrow)],mac:{primary:i.KeyMod.Shift|i.KeyCode.DownArrow},linux:{primary:i.KeyMod.Shift|i.KeyCode.DownArrow}}),h(y.CursorPageUp,{primary:i.KeyCode.PageUp}),h(y.CursorPageUpSelect,{primary:i.KeyMod.Shift|i.KeyCode.PageUp}),h(y.CursorPageDown,{primary:i.KeyCode.PageDown}),h(y.CursorPageDownSelect,{primary:i.KeyMod.Shift|i.KeyCode.PageDown}),h(y.CursorHome,{primary:i.KeyCode.Home,mac:{primary:i.KeyCode.Home,secondary:[i.KeyMod.CtrlCmd|i.KeyCode.LeftArrow,i.KeyMod.WinCtrl|i.KeyCode.KEY_A]}}),h(y.CursorHomeSelect,{primary:i.KeyMod.Shift|i.KeyCode.Home,mac:{primary:i.KeyMod.Shift|i.KeyCode.Home,secondary:[i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.LeftArrow]}}),h(y.CursorEnd,{primary:i.KeyCode.End,mac:{primary:i.KeyCode.End,secondary:[i.KeyMod.CtrlCmd|i.KeyCode.RightArrow,i.KeyMod.WinCtrl|i.KeyCode.KEY_E]}}),h(y.CursorEndSelect,{primary:i.KeyMod.Shift|i.KeyCode.End,mac:{primary:i.KeyMod.Shift|i.KeyCode.End,secondary:[i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.RightArrow]}}),h(y.ExpandLineSelection,{primary:i.KeyMod.CtrlCmd|i.KeyCode.KEY_I}),h(y.ScrollLineUp,{primary:i.KeyMod.CtrlCmd|i.KeyCode.UpArrow,mac:{primary:i.KeyMod.WinCtrl|i.KeyCode.PageUp}}),h(y.ScrollLineDown,{primary:i.KeyMod.CtrlCmd|i.KeyCode.DownArrow,mac:{primary:i.KeyMod.WinCtrl|i.KeyCode.PageDown
}}),h(y.ScrollPageUp,{primary:i.KeyMod.CtrlCmd|i.KeyCode.PageUp,win:{primary:i.KeyMod.Alt|i.KeyCode.PageUp},linux:{primary:i.KeyMod.Alt|i.KeyCode.PageUp}}),h(y.ScrollPageDown,{primary:i.KeyMod.CtrlCmd|i.KeyCode.PageDown,win:{primary:i.KeyMod.Alt|i.KeyCode.PageDown},linux:{primary:i.KeyMod.Alt|i.KeyCode.PageDown}}),h(y.CursorColumnSelectLeft,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyMod.Alt|i.KeyCode.LeftArrow,linux:{primary:0}}),h(y.CursorColumnSelectRight,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyMod.Alt|i.KeyCode.RightArrow,linux:{primary:0}}),h(y.CursorColumnSelectUp,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyMod.Alt|i.KeyCode.UpArrow,linux:{primary:0}}),h(y.CursorColumnSelectPageUp,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyMod.Alt|i.KeyCode.PageUp,linux:{primary:0}}),h(y.CursorColumnSelectDown,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyMod.Alt|i.KeyCode.DownArrow,linux:{primary:0}}),h(y.CursorColumnSelectPageDown,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyMod.Alt|i.KeyCode.PageDown,linux:{primary:0}}),h(y.Tab,{primary:i.KeyCode.Tab},r.KeybindingsRegistry.WEIGHT.editorCore(),o.KbExpr.and(o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),o.KbExpr.not(s.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS))),h(y.Outdent,{primary:i.KeyMod.Shift|i.KeyCode.Tab},r.KeybindingsRegistry.WEIGHT.editorCore(),o.KbExpr.and(o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),o.KbExpr.not(s.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS))),h(y.DeleteLeft,{primary:i.KeyCode.Backspace,secondary:[i.KeyMod.Shift|i.KeyCode.Backspace],mac:{primary:i.KeyCode.Backspace,secondary:[i.KeyMod.Shift|i.KeyCode.Backspace,i.KeyMod.WinCtrl|i.KeyCode.KEY_H,i.KeyMod.WinCtrl|i.KeyCode.Backspace]}}),h(y.DeleteRight,{primary:i.KeyCode.Delete,mac:{primary:i.KeyCode.Delete,secondary:[i.KeyMod.WinCtrl|i.KeyCode.KEY_D,i.KeyMod.WinCtrl|i.KeyCode.Delete]}}),h(y.DeleteAllLeft,{primary:null,mac:{primary:i.KeyMod.CtrlCmd|i.KeyCode.Backspace}}),h(y.DeleteAllRight,{primary:null,mac:{primary:i.KeyMod.WinCtrl|i.KeyCode.KEY_K,secondary:[i.KeyMod.CtrlCmd|i.KeyCode.Delete]}}),m(y.CursorWordStartLeft,!1,i.KeyCode.LeftArrow),h(y.CursorWordEndLeft,{primary:0}),h(y.CursorWordLeft,{primary:0}),m(y.CursorWordStartLeftSelect,!0,i.KeyCode.LeftArrow),h(y.CursorWordEndLeftSelect,{primary:0}),h(y.CursorWordLeftSelect,{primary:0}),m(y.CursorWordEndRight,!1,i.KeyCode.RightArrow),h(y.CursorWordStartRight,{primary:0}),h(y.CursorWordRight,{primary:0}),m(y.CursorWordEndRightSelect,!0,i.KeyCode.RightArrow),h(y.CursorWordStartRightSelect,{primary:0}),h(y.CursorWordRightSelect,{primary:0}),m(y.DeleteWordLeft,!1,i.KeyCode.Backspace),h(y.DeleteWordStartLeft,{primary:0}),h(y.DeleteWordEndLeft,{primary:0}),m(y.DeleteWordRight,!1,i.KeyCode.Delete),h(y.DeleteWordStartRight,{primary:0}),h(y.DeleteWordEndRight,{primary:0}),h(y.CancelSelection,{primary:i.KeyCode.Escape,secondary:[i.KeyMod.Shift|i.KeyCode.Escape]},r.KeybindingsRegistry.WEIGHT.editorCore(),o.KbExpr.and(o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION))),h(y.RemoveSecondaryCursors,{primary:i.KeyCode.Escape,secondary:[i.KeyMod.Shift|i.KeyCode.Escape]},r.KeybindingsRegistry.WEIGHT.editorCore(1),o.KbExpr.and(o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),o.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS))),h(y.CursorTop,{primary:i.KeyMod.CtrlCmd|i.KeyCode.Home,mac:{primary:i.KeyMod.CtrlCmd|i.KeyCode.UpArrow}}),h(y.CursorTopSelect,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.Home,mac:{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.UpArrow}}),h(y.CursorBottom,{primary:i.KeyMod.CtrlCmd|i.KeyCode.End,mac:{primary:i.KeyMod.CtrlCmd|i.KeyCode.DownArrow}}),h(y.CursorBottomSelect,{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.End,mac:{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.DownArrow}}),h(y.LineBreakInsert,{primary:null,mac:{primary:i.KeyMod.WinCtrl|i.KeyCode.KEY_O}}),h(y.Undo,{primary:i.KeyMod.CtrlCmd|i.KeyCode.KEY_Z}),h(y.CursorUndo,{primary:i.KeyMod.CtrlCmd|i.KeyCode.KEY_U}),h(y.Redo,{primary:i.KeyMod.CtrlCmd|i.KeyCode.KEY_Y,secondary:[i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.KEY_Z],mac:{primary:i.KeyMod.CtrlCmd|i.KeyMod.Shift|i.KeyCode.KEY_Z}}),r.KeybindingsRegistry.registerCommandDesc({id:"editor.action.selectAll",handler:v,weight:r.KeybindingsRegistry.WEIGHT.editorCore(),when:null,primary:i.KeyMod.CtrlCmd|i.KeyCode.KEY_A})}),define(l[676],d([1,0,467,13,5,33,41,2,10,83,191,20,62,24,777]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g="data-keybinding-context",m=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}return e.prototype.setValue=function(e,t){if(this._value[e]!==t)return this._value[e]=t,!0},e.prototype.removeValue=function(e){return delete this._value[e]},e.prototype.getValue=function(e){var t=this._value[e];return"undefined"==typeof t&&this._parent?this._parent.getValue(e):t},e.prototype.fillInContext=function(e){this._parent&&this._parent.fillInContext(e);for(var t in this._value)e[t]=this._value[t]},e}();t.KeybindingContext=m;var v=function(e){function t(t,i,n){var o=this;e.call(this,t,null),this._emitter=n,this._subscription=i.onDidUpdateConfiguration(function(e){return o._updateConfigurationContext(e.config)}),this._updateConfigurationContext(i.getConfiguration())}return h(t,e),t.prototype.dispose=function(){this._subscription.dispose()},t.prototype._updateConfigurationContext=function(e){var t=this;for(var i in this._value)0===i.indexOf("config.")&&delete this._value[i];var n=function(e,i){for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i.push(o);var r=e[o];if("boolean"==typeof r){var s=i.join(".");t._value[s]=r,t._emitter.fire(s)}else"object"==typeof r&&n(r,i);i.pop()}};n(e,["config"])},t}(m),y=function(){function e(e,t,i){this._parent=e,this._key=t,this._defaultValue=i,this.reset()}return e.prototype.set=function(e){this._parent.setContext(this._key,e)},e.prototype.reset=function(){"undefined"==typeof this._defaultValue?this._parent.removeContext(this._key):this._parent.setContext(this._key,this._defaultValue)},e}(),E=function(){function e(e){this.serviceId=d.IKeybindingService,this._myContextId=e,this._onDidChangeContextKey=new f.Emitter,this._instantiationService=null}return e.prototype.createKey=function(e,t){return new y(this,e,t)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext||(this._onDidChangeContext=f.debounceEvent(this._onDidChangeContextKey.event,function(e,t){return e?e.indexOf(t)<0&&e.push(t):e=[t],e},25)),this._onDidChangeContext},enumerable:!0,configurable:!0}),e.prototype.setInstantiationService=function(e){this._instantiationService=e},e.prototype.createScoped=function(e){return new b(this,this._onDidChangeContextKey,e)},e.prototype.contextMatchesRules=function(e){var t=Object.create(null);return this.getContext(this._myContextId).fillInContext(t),l.KeybindingResolver.contextMatchesRules(t,e)},e.prototype.getContextValue=function(e){return this.getContext(this._myContextId).getValue(e)},e.prototype.setContext=function(e,t){this.getContext(this._myContextId).setValue(e,t)&&this._onDidChangeContextKey.fire(e)},e.prototype.removeContext=function(e){this.getContext(this._myContextId).removeValue(e)&&this._onDidChangeContextKey.fire(e)},e.prototype.hasCommand=function(e){return!!p.KeybindingsRegistry.getCommands()[e]},e}();t.AbstractKeybindingService=E;var S=function(e){function t(t,i,n){e.call(this,0),this._toDispose=[],this._lastContextId=0,this._contexts=Object.create(null);var o=new v(this._myContextId,t,this._onDidChangeContextKey);this._contexts[String(this._myContextId)]=o,this._toDispose.push(o),this._cachedResolver=null,this._firstTimeComputingResolver=!0,this._currentChord=0,this._currentChordStatusMessage=null,this._statusService=n,this._messageService=i}return h(t,e),t.prototype._beginListening=function(e){var t=this;this._toDispose.push(c.addDisposableListener(e,c.EventType.KEY_DOWN,function(e){var i=new u.StandardKeyboardEvent(e);t._dispatch(i)}))},t.prototype._getResolver=function(){return this._cachedResolver||(this._cachedResolver=new l.KeybindingResolver(p.KeybindingsRegistry.getDefaultKeybindings(),this._getExtraKeybindings(this._firstTimeComputingResolver)),this._firstTimeComputingResolver=!1),this._cachedResolver},t.prototype.dispose=function(){this._toDispose=o.dispose(this._toDispose)},t.prototype.getLabelFor=function(e){return e._toUSLabel()},t.prototype.getHTMLLabelFor=function(e){return e._toUSHTMLLabel()},t.prototype.getAriaLabelFor=function(e){return e._toUSAriaLabel()},t.prototype.getElectronAcceleratorFor=function(e){return e._toElectronAccelerator()},t.prototype.updateResolver=function(){this._cachedResolver=null},t.prototype._getExtraKeybindings=function(e){return[]},t.prototype.getDefaultKeybindings=function(){return this._getResolver().getDefaultKeybindings()+"\n\n"+this._getAllCommandsAsComment()},t.prototype.customKeybindingsCount=function(){return 0},t.prototype.lookupKeybindings=function(e){return this._getResolver().lookupKeybinding(e)},t.prototype._getAllCommandsAsComment=function(){var e=p.KeybindingsRegistry.getCommands(),t=[],n=this._getResolver().getDefaultBoundCommands();for(var o in e)"_"!==o[0]&&0!==o.indexOf("vscode.")&&("object"!=typeof e[o].description||s.isFalsyOrEmpty(e[o].description.args))&&(n[o]||t.push(o));var r=t.sort().join("\n// - ");return"// "+i.localize(0,null)+"\n// - "+r},t.prototype._getCommandHandler=function(e){return p.KeybindingsRegistry.getCommands()[e]},t.prototype._dispatch=function(e){var t=this,o=e.keyCode===n.KeyCode.Ctrl||e.keyCode===n.KeyCode.Shift||e.keyCode===n.KeyCode.Alt||e.keyCode===n.KeyCode.Meta;if(!o){var s=Object.create(null);this.getContext(this._findContextAttr(e.target)).fillInContext(s);var a=this._getResolver().resolve(s,this._currentChord,e.asKeybinding());if(a&&a.enterChord){if(e.preventDefault(),this._currentChord=a.enterChord,this._statusService){var c=this.getLabelFor(new n.Keybinding(this._currentChord));this._currentChordStatusMessage=this._statusService.setStatusMessage(i.localize(1,null,c))}}else{if(this._statusService&&this._currentChord&&(!a||!a.commandId)){var c=this.getLabelFor(new n.Keybinding(this._currentChord)),u=this.getLabelFor(new n.Keybinding(e.asKeybinding()));this._statusService.setStatusMessage(i.localize(2,null,c,u),1e4),e.preventDefault()}if(this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChord=0,a&&a.commandId){/^\^/.test(a.commandId)||e.preventDefault();var l=a.commandId.replace(/^\^/,"");this._invokeHandler(l,[{}]).done(void 0,function(e){t._messageService.show(r["default"].Warning,e)})}}}},t.prototype._invokeHandler=function(e,t){var i=this._getCommandHandler(e);if(!i)return a.TPromise.wrapError(new Error("No handler found for the command: '"+e+"'. An extension might be missing an activation event."));try{var n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i].concat(t));return a.TPromise.as(n)}catch(o){return a.TPromise.wrapError(o)}},t.prototype._findContextAttr=function(e){for(;e;){if(e.hasAttribute(g))return parseInt(e.getAttribute(g),10);e=e.parentElement}return this._myContextId},t.prototype.getContext=function(e){return this._contexts[String(e)]},t.prototype.createChildContext=function(e){void 0===e&&(e=this._myContextId);var t=++this._lastContextId;return this._contexts[String(t)]=new m(t,this.getContext(e)),t},t.prototype.disposeContext=function(e){delete this._contexts[String(e)]},t.prototype.executeCommand=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return this._invokeHandler(e,t)},t}(E);t.KeybindingService=S,p.KeybindingsRegistry.registerCommandDesc({id:d.SET_CONTEXT_COMMAND_ID,handler:function(e,t,i){e.get(d.IKeybindingService).createKey(String(t),i)},weight:0,primary:void 0,when:null});var b=function(e){function t(t,i,n){e.call(this,t.createChildContext()),this._parent=t,this._onDidChangeContextKey=i,this._domNode=n,this._domNode.setAttribute(g,String(this._myContextId))}return h(t,e),t.prototype.dispose=function(){this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(g)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:!0,configurable:!0}),t.prototype.getLabelFor=function(e){return this._parent.getLabelFor(e)},t.prototype.getHTMLLabelFor=function(e){return this._parent.getHTMLLabelFor(e)},t.prototype.getAriaLabelFor=function(e){return this._parent.getAriaLabelFor(e)},t.prototype.getElectronAcceleratorFor=function(e){return this._parent.getElectronAcceleratorFor(e)},t.prototype.getDefaultKeybindings=function(){return this._parent.getDefaultKeybindings()},t.prototype.customKeybindingsCount=function(){return this._parent.customKeybindingsCount()},t.prototype.lookupKeybindings=function(e){return this._parent.lookupKeybindings(e)},t.prototype.getContext=function(e){return this._parent.getContext(e)},t.prototype.createChildContext=function(e){return void 0===e&&(e=this._myContextId),this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._parent.disposeContext(e)},t.prototype.executeCommand=function(e,t){return this._parent.executeCommand(e,t)},t}(E)}),define(l[182],d([1,0,74,19]),function(e,t,i,n){"use strict";var o=i.dirname(n["default"].parse(e.toUrl("")).fsPath),r=i.join(o,"product.json"),s=e.__$__nodeRequire(r);process.env.VSCODE_DEV&&(s.nameShort+=" Dev",s.nameLong+=" Dev",s.dataFolderName+="-dev"),Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s}),define(l[156],d([1,0,6]),function(e,t,i){"use strict";t.IProgressService=i.createDecorator("progressService")}),define(l[155],d([1,0,6]),function(e,t,i){"use strict";t.IRequestService=i.createDecorator("requestService")}),define(l[198],d([1,0,6]),function(e,t,i){"use strict";t.ID="searchService",t.ISearchService=i.createDecorator(t.ID),function(e){e[e.File=1]="File",e[e.Text=2]="Text"}(t.QueryType||(t.QueryType={}));var n=(t.QueryType,function(){function e(e){this.resource=e,this.lineMatches=[]}return e}());t.FileMatch=n;var o=function(){function e(e,t,i){this.preview=e,this.lineNumber=t,this.offsetAndLengths=i}return e}();t.LineMatch=o}),define(l[153],d([1,0,6]),function(e,t,i){"use strict";t.IStatusbarService=i.createDecorator("statusbarService"),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.StatusbarAlignment||(t.StatusbarAlignment={}));t.StatusbarAlignment}),define(l[39],d([1,0,6]),function(e,t,i){"use strict";t.ID="storageService",t.IStorageService=i.createDecorator(t.ID),function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.StorageScope||(t.StorageScope={}));t.StorageScope;t.NullStorageService={serviceId:void 0,store:function(){},swap:function(){},remove:function(){},get:function(e,t,i){return i},getInteger:function(e,t,i){return i},getBoolean:function(e,t,i){return i}}}),define(l[683],d([1,0,41,12,5,7,29]),function(e,t,i,n,o,r,s){"use strict";var a;!function(e){function t(e,t){return e.stack<t.stack?-1:e.stack>t.stack?1:0}e.compare=t}(a||(a={}));var c=function(){function e(t,i){var s=this;void 0===i&&(i=e.ERROR_FLUSH_TIMEOUT),this._flushHandle=-1,this._buffer=[],this._disposables=[],this._telemetryService=t,this._flushDelay=i;var a=r.errorHandler.addListener(function(e){return s._onErrorEvent(e)});this._disposables.push(o.toDisposable(a));var c,u=this;"function"==typeof n.globals.onerror&&(c=n.globals.onerror),n.globals.onerror=function(e,t,i,n,o){u._onUncaughtError(e,t,i,n,o),c&&c.apply(this,arguments)},this._disposables.push(o.toDisposable(function(){c&&(n.globals.onerror=c)}))}return e.prototype.dispose=function(){clearTimeout(this._flushHandle),this._flushBuffer(),this._disposables=o.dispose(this._disposables)},e.prototype._onErrorEvent=function(e){if(e){e.detail&&e.detail.stack&&(e=e.detail);var t=Array.isArray(e.stack)?e.stack.join("\n"):e.stack,i=e.message?e.message:s.safeStringify(e);t&&this._enqueue({message:i,stack:t})}},e.prototype._onUncaughtError=function(e,t,i,n,o){var r={stack:e,message:e,filename:t,line:i,column:n};if(o){var s=o.name,a=o.message,c=o.stack;r.error={name:s,message:a},c&&(r.stack=Array.isArray(o.stack)?o.stack=o.stack.join("\n"):o.stack)}this._enqueue(r)},e.prototype._enqueue=function(e){var t=this,n=i.binarySearch(this._buffer,e,a.compare);n<0?(e.count=1,this._buffer.splice(~n,0,e)):this._buffer[n].count+=1,this._flushHandle===-1&&(this._flushHandle=setTimeout(function(){t._flushBuffer(),t._flushHandle=-1},this._flushDelay))},e.prototype._flushBuffer=function(){for(var e=0,t=this._buffer;e<t.length;e++){var i=t[e];this._telemetryService.publicLog("UnhandledError",i)}this._buffer.length=0},e.ERROR_FLUSH_TIMEOUT=5e3,e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c}),define(l[684],d([1,0,16,24,5,10]),function(e,t,i,n,o,r){"use strict";!function(e){e[e.Idle=0]="Idle",e[e.Active=1]="Active"}(t.UserStatus||(t.UserStatus={}));var s=t.UserStatus,a=function(e){function t(t){var o=this;e.call(this),this._status=null,this._idleCheckTimeout=this._register(new i.TimeoutTimer),this._lastActiveTime=-1,this._idleTime=t,this._onStatusChange=new n.Emitter,this._register(r.addDisposableListener(document,"mousemove",function(){return o._onUserActive()})),this._register(r.addDisposableListener(document,"keydown",function(){return o._onUserActive()})),this._onUserActive()}return h(t,e),Object.defineProperty(t.prototype,"onStatusChange",{get:function(){return this._onStatusChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),t.prototype._onUserActive=function(){this._lastActiveTime=(new Date).getTime(),this._status!==s.Active&&(this._status=s.Active,this._scheduleIdleCheck(),this._onStatusChange.fire(this._status))},t.prototype._onUserIdle=function(){this._status!==s.Idle&&(this._status=s.Idle,this._onStatusChange.fire(this._status))},t.prototype._scheduleIdleCheck=function(){var e=this,t=this._lastActiveTime+this._idleTime,i=t-(new Date).getTime();this._idleCheckTimeout.setIfNotSet(function(){return e._checkIfUserIsIdle()},i)},t.prototype._checkIfUserIsIdle=function(){var e=(new Date).getTime()-this._lastActiveTime;e>=this._idleTime?this._onUserIdle():this._scheduleIdleCheck()},t}(o.Disposable);t.IdleMonitor=a}),define(l[21],d([1,0,2,75,6]),function(e,t,i,n,o){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return{log:function(t,i){return e.forEach(function(e){return e.log(t,i)})}}}function s(e){if(!e)return e;for(var t="",i=0;i<e.length;i++){var n=e[i];t+=n>="0"&&n<="9"?"0":n>="a"&&n<="z"?"a":n>="A"&&n<="Z"?"A":n}return t}t.ITelemetryService=o.createDecorator("telemetryService"),t.NullTelemetryService={serviceId:void 0,timedPublicLog:function(e,t){return n.nullEvent},publicLog:function(e,t){return i.TPromise.as(null)},isOptedIn:!0,getTelemetryInfo:function(){return i.TPromise.as({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})}},t.combinedAppender=r,t.NullAppender={log:function(){return null}},t.anonymize=s}),define(l[26],d([1,0,7,19,70,20,62,15,21,170,48,11,38]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";function p(e,t,i){u.withCodeEditorFromCommandHandler(e,t,function(t){t.trigger("keyboard",e,i)})}function f(e,t,n){var o=u.findFocusedEditor(e,t,!1);if(o)return void o.trigger("keyboard",e,n);var r=u.getActiveEditor(t);if(r){var s=r.getAction(e);return void(s&&(t.get(c.ITelemetryService).publicLog("editorActionInvoked",{name:s.label}),s.run().done(null,i.onUnexpectedError)))}}function g(e,t){var i=r.KbExpr.has(e?d.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS:d.KEYBINDING_CONTEXT_EDITOR_FOCUS);return t?r.KbExpr.and(i,r.KbExpr.has(t)):i}function m(e,t){return function(i,n){u.withCodeEditorFromCommandHandler(e,i,function(e){t(i,e,n||{})})}}!function(e){e[e.None=0]="None",e[e.EditorTextFocus=1]="EditorTextFocus",e[e.EditorFocus=2]="EditorFocus"}(t.ContextKey||(t.ContextKey={}));var v=t.ContextKey,y=function(){function e(e,t,i,n,o){void 0===n&&(n=w),this.ctor=e,this.id=t,this.label=i,this.alias=o,this.kbOpts=n}return e}();t.EditorActionDescriptor=y;var E;!function(e){function t(e){a.Registry.as(_.EditorCommonContributions).registerEditorAction(e)}function o(e){a.Registry.as(_.EditorCommonContributions).registerEditorContribution2(e)}function r(){return a.Registry.as(_.EditorCommonContributions).getEditorContributions2()}function c(e){return void 0===e&&(e=0),s.KeybindingsRegistry.WEIGHT.editorContrib(e)}function u(e,t,i,n,o,r){var a={id:e,handler:m(e,r),weight:t,when:g(n,o),primary:i.primary,secondary:i.secondary,win:i.win,linux:i.linux,mac:i.mac};s.KeybindingsRegistry.registerCommandDesc(a)}function d(e,t){s.KeybindingsRegistry.registerCommandDesc({id:e,handler:function(e,i){return t(e,i||{})},weight:s.KeybindingsRegistry.WEIGHT.editorContrib(),primary:void 0,when:void 0})}function p(e,t){d(e,function(e,o){var r=o.resource,s=o.position;if(!(r instanceof n["default"]&&l.Position.isIPosition(s)))throw i.illegalArgument();var a=e.get(h.IModelService).getModel(r);if(!a)throw i.illegalArgument();var c=l.Position.lift(s);return t(a,c,o)})}e.registerEditorAction=t,e.registerEditorContribution=o,e.getEditorContributions=r,e.commandWeight=c,e.registerEditorCommand=u,e.registerLanguageCommand=d,e.registerDefaultLanguageCommand=p}(E=t.CommonEditorRegistry||(t.CommonEditorRegistry={}));var S=function(){function e(e){this._ctor=e}return e.prototype.createInstance=function(e,t){return e.createInstance(this._ctor,t)},e}(),b=function(){function e(e,t,i,n){this._descriptor=o.createSyncDescriptor(e,{id:t,label:i,alias:n})}return e.prototype.createInstance=function(e,t){return e.createInstance(this._descriptor,t)},e}(),_={EditorCommonContributions:"editor.commonContributions"},C=function(){function e(){this.editorContributions=[]}return e.prototype.registerEditorContribution2=function(e){this.editorContributions.push(new S(e))},e.prototype.registerEditorAction=function(e){var t=e.kbOpts.handler;t||(t=e.kbOpts.context===v.EditorTextFocus||e.kbOpts.context===v.EditorFocus?p.bind(null,e.id):f.bind(null,e.id));var i=null;"undefined"==typeof e.kbOpts.kbExpr?e.kbOpts.context===v.EditorTextFocus?i=r.KbExpr.has(d.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS):e.kbOpts.context===v.EditorFocus&&(i=r.KbExpr.has(d.KEYBINDING_CONTEXT_EDITOR_FOCUS)):i=e.kbOpts.kbExpr;var n={id:e.id,handler:t,weight:s.KeybindingsRegistry.WEIGHT.editorContrib(),when:i,primary:e.kbOpts.primary,secondary:e.kbOpts.secondary,win:e.kbOpts.win,linux:e.kbOpts.linux,mac:e.kbOpts.mac};s.KeybindingsRegistry.registerCommandDesc(n),this.editorContributions.push(new b(e.ctor,e.id,e.label,e.alias))},e.prototype.getEditorContributions2=function(){return this.editorContributions.slice(0)},e}();a.Registry.add(_.EditorCommonContributions,new C);var w={primary:null,context:v.EditorTextFocus}}),define(l[687],d([1,0,415,98,24,168,33,118,21,14,11,247,38,12,23,135,18]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y){"use strict";function E(e){return e.toString()}var S=function(){function e(e,t){var i=this;this.model=e,this._markerDecorations=[],this._modelEventsListener=e.addBulkListener(function(e){return t(i,e)})}return e.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]),this._modelEventsListener.dispose(),this._modelEventsListener=null,this.model=null},e.prototype.getModelId=function(){return E(this.model.uri)},e.prototype.acceptMarkerDecorations=function(e){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,e)},e}(),b=function(){function e(){}return e.setMarkers=function(e,t){var i=this;t=t.slice(0,500);var n=t.map(function(t){return{range:i._createDecorationRange(e.model,t),options:i._createDecorationOption(t)}});e.acceptMarkerDecorations(n)},e._createDecorationRange=function(e,t){var i=e.validateRange(new u.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)),n=new u.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn);if(n.isEmpty()){var o=e.getWordAtPosition(n.getStartPosition());if(o)n.startColumn=o.startColumn,n.endColumn=o.endColumn;else{var r=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);1===r||(n.endColumn>=r?(n.endColumn=r,n.startColumn=r-1):n.endColumn+=1)}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){var s=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);s<n.endColumn&&(n.startColumn=s,t.startColumn=s)}return n},e._createDecorationOption=function(e){var t,i,n,o=null;switch(e.severity){case s["default"].Ignore:break;case s["default"].Warning:case s["default"].Info:t=l.ClassName.EditorWarningDecoration,i="rgba(18,136,18,0.7)",n="rgba(18,136,18,0.7)";break;case s["default"].Error:default:t=l.ClassName.EditorErrorDecoration,i="rgba(255,18,18,0.7)",n="rgba(255,18,18,0.7)"}return"string"==typeof e.message?o=[r.textToMarkedString(e.message)]:Array.isArray(e.message)?o=e.message:e.message&&(o=[e.message]),o&&e.source&&o.unshift("["+e.source+"] "),{stickiness:l.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:t,hoverMessage:o,overviewRuler:{color:i,darkColor:n,position:l.OverviewRulerLane.Right}}},e}(),_=function(){function e(e,t,n){var r=this;this.serviceId=h.IModelService,this._modelCreationOptions={tabSize:v.DEFAULT_INDENTATION.tabSize,insertSpaces:v.DEFAULT_INDENTATION.insertSpaces,detectIndentation:v.DEFAULT_INDENTATION.detectIndentation,defaultEOL:p.isLinux||p.isMacintosh?l.DefaultEndOfLine.LF:l.DefaultEndOfLine.CRLF,trimAutoWhitespace:v.DEFAULT_TRIM_AUTO_WHITESPACE},this._markerService=e,this._configurationService=t,this._messageService=n,this._hasShownMigrationMessage=!1,this._models={},this._onModelAdded=new o.Emitter,this._onModelRemoved=new o.Emitter,this._onModelModeChanged=new o.Emitter,this._markerService&&(this._markerServiceSubscription=this._markerService.onMarkerChanged(this._handleMarkerChange,this));var a=function(e){var t=!1,n=v.DEFAULT_INDENTATION.tabSize;if(e.editor&&"undefined"!=typeof e.editor.tabSize){var o=parseInt(e.editor.tabSize,10);isNaN(o)||(n=o),t=t||"auto"===e.editor.tabSize}var a=v.DEFAULT_INDENTATION.insertSpaces;e.editor&&"undefined"!=typeof e.editor.insertSpaces&&(a="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces),t=t||"auto"===e.editor.insertSpaces);var c=r._modelCreationOptions.defaultEOL,u=e.files&&e.files.eol;"\r\n"===u?c=l.DefaultEndOfLine.CRLF:"\n"===u&&(c=l.DefaultEndOfLine.LF);var d=r._modelCreationOptions.trimAutoWhitespace;e.editor&&"undefined"!=typeof e.editor.trimAutoWhitespace&&(d="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));var h=v.DEFAULT_INDENTATION.detectIndentation;e.editor&&"undefined"!=typeof e.editor.detectIndentation&&(h="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation)),r._setModelOptions({tabSize:n,insertSpaces:a,detectIndentation:h,defaultEOL:c,trimAutoWhitespace:d}),t&&!r._hasShownMigrationMessage&&(r._hasShownMigrationMessage=!0,r._messageService.show(s["default"].Info,i.localize(0,null)))};this._configurationServiceSubscription=this._configurationService.onDidUpdateConfiguration(function(e){a(e.config)}),a(this._configurationService.getConfiguration())}return e.prototype.getCreationOptions=function(){return this._modelCreationOptions},e.prototype._setModelOptions=function(e){if(this._modelCreationOptions.detectIndentation===e.detectIndentation&&this._modelCreationOptions.insertSpaces===e.insertSpaces&&this._modelCreationOptions.tabSize===e.tabSize&&this._modelCreationOptions.trimAutoWhitespace===e.trimAutoWhitespace)return void(this._modelCreationOptions=e);this._modelCreationOptions=e;for(var t=Object.keys(this._models),i=0,n=t.length;i<n;i++){var o=t[i],r=this._models[o];this._modelCreationOptions.detectIndentation?(r.model.detectIndentation(this._modelCreationOptions.insertSpaces,this._modelCreationOptions.tabSize),r.model.updateOptions({trimAutoWhitespace:this._modelCreationOptions.trimAutoWhitespace})):r.model.updateOptions({insertSpaces:this._modelCreationOptions.insertSpaces,tabSize:this._modelCreationOptions.tabSize,trimAutoWhitespace:this._modelCreationOptions.trimAutoWhitespace})}},e.prototype.dispose=function(){this._markerServiceSubscription&&this._markerServiceSubscription.dispose(),this._configurationServiceSubscription.dispose()},e.prototype._handleMarkerChange=function(e){var t=this;e.forEach(function(e){var i=E(e),n=t._models[i];n&&b.setMarkers(n,t._markerService.read({resource:e,take:500}))})},e.prototype._cleanUp=function(e){var t=this;e.uri.scheme!==n.Schemas.inMemory&&e.uri.scheme!==n.Schemas.internal&&e.uri.scheme!==n.Schemas.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(function(e){return e.owner}).forEach(function(i){return t._markerService.remove(i,[e.uri])})},e.prototype._createModelData=function(e,t,i){var n,o=this;n="string"==typeof e?d.Model.createFromString(e,this._modelCreationOptions,t,i):new d.Model(e,t,i);var r=E(n.uri);if(this._models[r])throw new Error("ModelService: Cannot add model "+c.anonymize(r)+" because it already exists!");var s=new S(n,function(e,t){return o._onModelEvents(e,t)});return this._models[r]=s,s},e.prototype.createModel=function(e,t,i){var n=this._createModelData(e,t,i);return this._markerService&&b.setMarkers(n,this._markerService.read({resource:n.model.uri})),this._onModelAdded.fire(n.model),n.model},e.prototype.destroyModel=function(e){var t=this._models[E(e)];t&&t.model.dispose()},e.prototype.getModels=function(){for(var e=[],t=Object.keys(this._models),i=0,n=t.length;i<n;i++){var o=t[i];e.push(this._models[o].model)}return e},e.prototype.getModel=function(e){var t=E(e),i=this._models[t];return i?i.model:null},Object.defineProperty(e.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.event:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelModeChanged",{get:function(){return this._onModelModeChanged?this._onModelModeChanged.event:null},enumerable:!0,configurable:!0}),e.prototype._onModelDisposing=function(e){var t=E(e.uri),i=this._models[t];this._cleanUp(e),delete this._models[t],i.dispose(),this._onModelRemoved.fire(e)},e.prototype._onModelEvents=function(e,t){for(var i=0,n=t.length;i<n;i++){var o=t[i];if(o.getType()===l.EventType.ModelDispose)return void this._onModelDisposing(e.model)}for(var i=0,n=t.length;i<n;i++){var o=t[i];o.getType()===l.EventType.ModelModeChanged&&this._onModelModeChanged.fire({model:e.model,oldModeId:o.getData().oldMode.getId()})}},e=g([m(0,a.IMarkerService),m(1,f.IConfigurationService),m(2,y.IMessageService)],e)}();t.ModelServiceImpl=_}),define(l[688],d([1,0,417,2,40,26,608]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,n){e.call(this,t,i),this.left=n}return h(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),i=0;i<t.length;i++)e.push(new s.MoveCarretCommand(t[i],this.left));return this.editor.executeCommands(this.id,e),n.TPromise.as(!0)},t}(o.EditorAction),c=function(e){function t(t,i){e.call(this,t,i,!0)}return h(t,e),t.ID="editor.action.moveCarretLeftAction",t}(a),u=function(e){function t(t,i){e.call(this,t,i,!1)}return h(t,e),t.ID="editor.action.moveCarretRightAction",t}(a);r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(c,c.ID,i.localize(0,null),{context:r.ContextKey.EditorTextFocus,primary:0},"Move Carret Left")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(u,u.ID,i.localize(1,null),{context:r.ContextKey.EditorTextFocus,primary:0},"Move Carret Right"))}),define(l[689],d([1,0,418,13,5,2,59,20,170,40,54,11,26,831]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){
"use strict";function f(e){var t=e.getModel();if(!t)return!1;var i=t.hasEditableRange();if(!i)return!0;var n=t.getEditableRange(),o=e.getPosition();return n.containsPosition(o)}function g(e,t){s.supportsExecCommand(e.execCommand)&&p.CommonEditorRegistry.registerEditorAction(new p.EditorActionDescriptor(e.ctor,e.id,e.label,{handler:m.bind(null,e.id,e.execCommand),context:p.ContextKey.None,primary:e.primary,secondary:e.secondary,win:e.win,linux:e.linux,mac:e.mac,kbExpr:a.KbExpr.has(d.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS)},t))}function m(e,t,i,n){var o=c.findFocusedEditor(e,i,!1);return o&&o.isFocused()?void o.trigger("keyboard",e,n):void document.execCommand(t)}var v=function(e){function t(t,i,n){var o=this;e.call(this,t,i,n),this.toUnhook=[],this.toUnhook.push(this.editor.onDidChangeCursorSelection(function(e){o.resetEnablementState()}))}return h(t,e),t.prototype.dispose=function(){this.toUnhook=o.dispose(this.toUnhook),e.prototype.dispose.call(this)},t.prototype.getEnablementState=function(){return!!s.enableEmptySelectionClipboard||!this.editor.getSelection().isEmpty()},t}(u.EditorAction),y=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.Writeable|l.Behaviour.WidgetFocus|l.Behaviour.ShowInContextMenu|l.Behaviour.UpdateOnCursorPositionChange)}return h(t,e),t.prototype.getGroupId=function(){return"3_edit/1_cut"},t.prototype.getEnablementState=function(){return e.prototype.getEnablementState.call(this)&&f(this.editor)},t.prototype.run=function(){return this.editor.focus(),document.execCommand("cut"),r.TPromise.as(!0)},t}(v),E=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.WidgetFocus|l.Behaviour.ShowInContextMenu)}return h(t,e),t.prototype.getGroupId=function(){return"3_edit/2_copy"},t.prototype.run=function(){return this.editor.focus(),document.execCommand("copy"),r.TPromise.as(!0)},t}(v),S=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.Writeable|l.Behaviour.WidgetFocus|l.Behaviour.ShowInContextMenu|l.Behaviour.UpdateOnCursorPositionChange)}return h(t,e),t.prototype.getGroupId=function(){return"3_edit/3_paste"},t.prototype.getEnablementState=function(){return f(this.editor)},t.prototype.run=function(){return this.editor.focus(),document.execCommand("paste"),null},t}(u.EditorAction);g({ctor:y,id:"editor.action.clipboardCutAction",label:i.localize(0,null),execCommand:"cut",primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_X,win:{primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_X,secondary:[n.KeyMod.Shift|n.KeyCode.Delete]}},"Cut"),g({ctor:E,id:"editor.action.clipboardCopyAction",label:i.localize(1,null),execCommand:"copy",primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_C,win:{primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_C,secondary:[n.KeyMod.CtrlCmd|n.KeyCode.Insert]}},"Copy"),g({ctor:S,id:"editor.action.clipboardPasteAction",label:i.localize(2,null),execCommand:"paste",primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_V,win:{primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_V,secondary:[n.KeyMod.Shift|n.KeyCode.Insert]}},"Paste")}),define(l[690],d([1,0,7,19,2,26,37,38,16]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){var t=[],n=s.CodeLensProviderRegistry.all(e).map(function(n){return c.asWinJsPromise(function(t){return n.provideCodeLenses(e,t)}).then(function(e){if(Array.isArray(e))for(var i=0,o=e;i<o.length;i++){var r=o[i];t.push({symbol:r,support:n})}},function(e){i.isPromiseCanceledError(e)||i.onUnexpectedError(e)})});return o.TPromise.join(n).then(function(){return t})}t.getCodeLensData=u,r.CommonEditorRegistry.registerLanguageCommand("_executeCodeLensProvider",function(e,t){var o=t.resource;if(!(o instanceof n["default"]))throw i.illegalArgument();var r=e.get(a.IModelService).getModel(o);if(!r)throw i.illegalArgument();return u(r)})}),define(l[691],d([1,0,16,7,5,33,9,2,10,20,18,14,11,37,38,53,61,690,827]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E){"use strict";function S(e,t){for(var i=1,n=e.getModels().filter(function(e){return e.getMode().getId()===t}).map(function(e){return{url:e.uri.toString(),versionId:e.getVersionId()}}).sort(function(e,t){return e.url<t.url?-1:e.url>t.url?1:0}),o=0;o<n.length;o++)i=(31*i|0)+n[o].versionId|0;return i}var b=function(){function e(e){this.afterLineNumber=e,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.setAfterLineNumber=function(e){this.afterLineNumber=e},e}(),_=function(){function e(t,i,n,o){var s=this;this._commands=Object.create(null),this._id="codeLensWidget"+ ++e.ID,this._editor=t,this.setSymbolRange(i),this._domNode=document.createElement("span"),this._domNode.style.height=t.getConfiguration().lineHeight+"px",this._domNode.innerHTML="&nbsp;",c.addClass(this._domNode,"codelens-decoration"),c.addClass(this._domNode,"invisible-cl"),this._subscription=c.addDisposableListener(this._domNode,"click",function(e){var i=e.target;if("A"===i.tagName&&i.id){var a=s._commands[i.id];a&&(t.focus(),n.executeCommand.apply(n,[a.id].concat(a.arguments)).done(void 0,function(e){o.show(r["default"].Error,e)}))}}),this.updateVisibility()}return e.prototype.dispose=function(){this._subscription.dispose(),this._symbolRange=null},e.prototype.updateVisibility=function(){this.isVisible()&&(c.removeClass(this._domNode,"invisible-cl"),c.addClass(this._domNode,"fadein"))},e.prototype.withCommands=function(e){if(this._commands=Object.create(null),!e||!e.length)return void(this._domNode.innerHTML="no commands");for(var t=[],i=0;i<e.length;i++){var n=e[i].command,o=void 0;n.id?(o=s.format("<a id={0}>{1}</a>",i,n.title),this._commands[i]=n):o=s.format("<span>{0}</span>",n.title),t.push(o)}this._domNode.innerHTML=t.join("<span>&nbsp;|&nbsp;</span>"),this._editor.layoutContentWidget(this)},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.setSymbolRange=function(e){this._symbolRange=e;var t=e.startLineNumber,i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[v.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getPosition=function(){return this._widgetPosition},e.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")},e.ID=0,e}(),C=function(){function e(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return e.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},e.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])},e}(),w=function(){function e(e,t,i,n,o,r){var s=this;this._editor=t,this._data=e,this._decorationIds=new Array(this._data.length);var a;this._data.forEach(function(e,t){i.addDecoration({range:e.symbol.range,options:{}},function(e){return s._decorationIds[t]=e});for(var n=0,o=s._data;n<o.length;n++){var r=o[n];a=a?d.Range.plusRange(a,r.symbol.range):r.symbol.range}}),this._viewZone=new b(a.startLineNumber-1),this._contentWidget=new _(t,d.Range.lift(a),o,r),this._viewZoneId=n.addZone(this._viewZone),this._editor.addContentWidget(this._contentWidget),this._lastUpdateModelsVersionId=-1}return e.prototype.dispose=function(e,t){for(;this._decorationIds.length;)e.removeDecoration(this._decorationIds.pop());t&&t.removeZone(this._viewZoneId),this._editor.removeContentWidget(this._contentWidget),this._contentWidget.dispose()},e.prototype.isValid=function(){var e=this;return this._decorationIds.some(function(t){var i=e._editor.getModel().getDecorationRange(t);return i&&!i.isEmpty()})},e.prototype.updateCodeLensSymbols=function(e,t){for(var i=this;this._decorationIds.length;)t.removeDecoration(this._decorationIds.pop());this._data=e,this._decorationIds=new Array(this._data.length),this._data.forEach(function(e,n){t.addDecoration({range:e.symbol.range,options:{}},function(e){return i._decorationIds[n]=e})})},e.prototype.computeIfNecessary=function(e,t){if(this._contentWidget.updateVisibility(),!this._contentWidget.isVisible())return null;if(this._lastUpdateModelsVersionId===e)return null;for(var i=0;i<this._decorationIds.length;i++)this._data[i].symbol.range=t.getDecorationRange(this._decorationIds[i]);return this._data},e.prototype.updateCommands=function(e,t){this._contentWidget.withCommands(e),this._lastUpdateModelsVersionId=t},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.setAfterLineNumber(t.startLineNumber-1),e.layoutZone(this._viewZoneId),this._contentWidget.setSymbolRange(t),this._editor.layoutContentWidget(this._contentWidget)}},e}(),I=function(){function e(e,t,i,n){var o=this;this._editor=e,this._modelService=t,this._keybindingService=i,this._messageService=n,this._isEnabled=this._editor.getConfiguration().contribInfo.referenceInfos,this._globalToDispose=[],this._localToDispose=[],this._lenses=[],this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter=0,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return o.onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeModelMode(function(){return o.onModelChange()})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(e){var t=o._isEnabled;o._isEnabled=o._editor.getConfiguration().contribInfo.referenceInfos,t!==o._isEnabled&&o.onModelChange()})),this._globalToDispose.push(p.CodeLensProviderRegistry.onDidChange(this.onModelChange,this)),this.onModelChange()}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=o.dispose(this._globalToDispose)},e.prototype.localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=null,this._modelChangeCounter++),this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null),this._localToDispose=o.dispose(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onModelChange=function(){var e=this;this.localDispose();var t=this._editor.getModel();if(t&&this._isEnabled&&p.CodeLensProviderRegistry.has(t)){var o=new i.RunOnceScheduler(function(){e._onViewportChanged(t.getMode().getId())},500),r=new i.RunOnceScheduler(function(){e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=E.getCodeLensData(t);var i=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise.then(function(t){i===e._modelChangeCounter&&(e.renderCodeLensSymbols(t),o.schedule())},function(e){n.onUnexpectedError(e)})},250);this._localToDispose.push(r),this._localToDispose.push(o),this._localToDispose.push(t.addBulkListener(function(t){for(var i=!1,n=0;n<t.length;n++){var s=t[n].getType();if(s===h.EventType.ModelRawContentChanged){i=!0;break}}i&&(e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(i){var n=[];e._lenses.forEach(function(e){e.isValid()?e.update(i):n.push(e)});var o=new C;n.forEach(function(t){t.dispose(o,i),e._lenses.splice(e._lenses.indexOf(t),1)}),o.commit(t)})}),o.schedule(),r.schedule())})),this._localToDispose.push(this._editor.onDidScrollChange(function(e){e.scrollTopChanged&&o.schedule()})),this._localToDispose.push({dispose:function(){e._editor.getModel()?e._editor.changeDecorations(function(t){e._editor.changeViewZones(function(i){e._disposeAllLenses(t,i)})}):e._disposeAllLenses(null,null)}}),r.schedule()}},e.prototype._disposeAllLenses=function(e,t){var i=new C;this._lenses.forEach(function(e){return e.dispose(i,t)}),e&&i.commit(e),this._lenses=[]},e.prototype.renderCodeLensSymbols=function(e){var t=this;if(this._editor.getModel()){e=e?e.sort(function(e,t){return d.Range.compareRangesUsingStarts(d.Range.lift(e.symbol.range),d.Range.lift(t.symbol.range))}):[];for(var i,n=this._editor.getModel().getLineCount(),o=[],r=0,s=e;r<s.length;r++){var a=s[r],c=a.symbol.range.startLineNumber;c<1||c>=n||(i&&i[i.length-1].symbol.range.startLineNumber===c?i.push(a):(i=[a],o.push(i)))}var u=this._editor.getCenteredRangeInViewport(),l=o.length!==this._lenses.length&&0!==this._editor.getScrollTop();this._editor.changeDecorations(function(e){t._editor.changeViewZones(function(i){for(var n=0,r=0,s=new C;r<o.length&&n<t._lenses.length;){var a=o[r][0].symbol.range.startLineNumber,c=t._lenses[n].getLineNumber();c<a?(t._lenses[n].dispose(s,i),t._lenses.splice(n,1)):c===a?(t._lenses[n].updateCodeLensSymbols(o[r],s),r++,n++):(t._lenses.splice(n,0,new w(o[r],t._editor,s,i,t._keybindingService,t._messageService)),n++,r++)}for(;n<t._lenses.length;)t._lenses[n].dispose(s,i),t._lenses.splice(n,1);for(;r<o.length;)t._lenses.push(new w(o[r],t._editor,s,i,t._keybindingService,t._messageService)),r++;s.commit(e)})}),l&&this._editor.revealRangeInCenter(u)}},e.prototype._onViewportChanged=function(e){var t=this;this._currentFindOccPromise&&(this._currentFindOccPromise.cancel(),this._currentFindOccPromise=null);var n=this._editor.getModel();if(n){var o=S(this._modelService,e),r=[],s=[];if(this._lenses.forEach(function(e){var t=e.computeIfNecessary(o,n);t&&(r.push(t),s.push(e))}),0!==r.length){var c=r.map(function(e,t){var r=new Array(e.length),c=e.map(function(e,t){return i.asWinJsPromise(function(t){return e.support.resolveCodeLens(n,e.symbol,t)}).then(function(e){r[t]=e})});return a.TPromise.join(c).then(function(){s[t].updateCommands(r,o)})});this._currentFindOccPromise=a.TPromise.join(c).then(function(){t._currentFindOccPromise=null})}}},e.ID="css.editor.codeLens",e=g([m(1,f.IModelService),m(2,u.IKeybindingService),m(3,l.IMessageService)],e)}();t.CodeLensContribution=I,y.EditorBrowserRegistry.registerEditorContribution(I)}),define(l[692],d([1,0,419,13,2,40,26,307,332]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n){e.call(this,t,i),this._type=n}return h(t,e),t.prototype.run=function(){var e=this.editor.getModel();if(e){for(var t=[],i=this.editor.getSelections(),n=e.getOptions(),r=0;r<i.length;r++)t.push(new c.LineCommentCommand(i[r],n.tabSize,this._type));return this.editor.executeCommands(this.id,t),o.TPromise.as(null)}},t.ID="editor.action.commentLine",t}(r.EditorAction),l=function(e){function t(t,i){e.call(this,t,i,c.Type.Toggle)}return h(t,e),t.ID="editor.action.commentLine",t}(u),d=function(e){function t(t,i){e.call(this,t,i,c.Type.ForceAdd)}return h(t,e),t.ID="editor.action.addCommentLine",t}(u),p=function(e){function t(t,i){e.call(this,t,i,c.Type.ForceRemove)}return h(t,e),t.ID="editor.action.removeCommentLine",t}(u),f=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),i=0;i<t.length;i++)e.push(new a.BlockCommentCommand(t[i]));return this.editor.executeCommands(this.id,e),o.TPromise.as(null)},t.ID="editor.action.blockComment",t}(r.EditorAction);s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(l,l.ID,i.localize(0,null),{context:s.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.US_SLASH},"Toggle Line Comment")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(d,d.ID,i.localize(1,null),{context:s.ContextKey.EditorTextFocus,primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_C)},"Add Line Comment")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(p,p.ID,i.localize(2,null),{context:s.ContextKey.EditorTextFocus,primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_U)},"Remove Line Comment")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(f,f.ID,i.localize(3,null),{context:s.ContextKey.EditorTextFocus,primary:n.KeyMod.Shift|n.KeyMod.Alt|n.KeyCode.KEY_A,linux:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_A}},"Toggle Block Comment"))}),define(l[693],d([1,0,420,13,5,2,10,49,51,20,35,40,54,11,26,61,194]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(){function e(e,t,i,o,r){var s=this;this._contextMenuService=t,this._contextViewService=i,this._keybindingService=o,this._menuService=r,this._toDispose=[],this._contextMenuIsBeingShownCount=0,this._editor=e,this._contextMenu=this._menuService.createMenu(l.MenuId.EditorContext,this._keybindingService),this._toDispose.push(this._contextMenu),this._toDispose.push(this._editor.onContextMenu(function(e){return s._onContextMenu(e)})),this._toDispose.push(this._editor.onKeyDown(function(e){e.keyCode===n.KeyCode.ContextMenu&&(e.preventDefault(),e.stopPropagation(),s.showContextMenu())}))}return e.prototype._onContextMenu=function(e){if(!this._editor.getConfiguration().contribInfo.contextmenu)return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(e.target.type!==f.MouseTargetType.OVERLAY_WIDGET&&(e.event.preventDefault(),e.target.type===f.MouseTargetType.CONTENT_TEXT||e.target.type===f.MouseTargetType.CONTENT_EMPTY||e.target.type===f.MouseTargetType.TEXTAREA)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);var t;e.target.type!==f.MouseTargetType.TEXTAREA&&(t={x:e.event.posx,y:e.event.posy+1}),this.showContextMenu(t)}},e.prototype.showContextMenu=function(e){if(this._editor.getConfiguration().contribInfo.contextmenu){if(!this._contextMenuService)return void this._editor.focus();var t=this._editor.getPosition(),i=this._editor.getModel();if(t&&i){var n=this._getMenuActions();n.length>0&&this._doShowContextMenu(n,e)}}},e.prototype._getMenuActions=function(){var t=this._editor.getModel();if(!t)return[];var i=this._editor.getActions().filter(function(e){if(e instanceof d.EditorAction)return e.shouldShowInContextMenu()&&e.isSupported()}),n=e._prepareActions(i);return E.fillInActions(this._contextMenu,n),n},e._prepareActions=function(e){var t=e.map(function(e){var t=e.getGroupId(),i=t.indexOf("/"),n=i>0?t.substr(0,i):t;return{action:e,group:n}});t.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:0});var i,n=[];return t.forEach(function(e,t){i&&i!==e.group&&n.push(new a.Separator),n.push(e.action),i=e.group}),n},e.prototype._doShowContextMenu=function(e,t){var i=this;void 0===t&&(t=null),this._editor.beginForcedWidgetFocus();var n=this._editor.getConfiguration().contribInfo.hover;this._editor.updateOptions({hover:!1});var o=t;if(!o){this._editor.revealPosition(this._editor.getPosition()),this._editor.render();var c=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),u=s.getDomNodePagePosition(this._editor.getDomNode()),l=u.left+c.left,d=u.top+c.top+c.height;o={x:l,y:d}}this._contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return r.TPromise.as(e)},getActionItem:function(e){var t=i._keybindingFor(e);if(t)return new a.ActionItem(e,e,{label:!0,keybinding:i._keybindingService.getLabelFor(t)});var n=e;return"function"==typeof n.getActionItem?n.getActionItem():null},getKeyBinding:function(e){return i._keybindingFor(e)},onHide:function(e){i._contextMenuIsBeingShownCount--,i._editor.focus(),i._editor.endForcedWidgetFocus(),i._editor.updateOptions({hover:n})}})},e.prototype._keybindingFor=function(e){var t=this._keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose=o.dispose(this._toDispose)},e.ID="editor.contrib.contextmenu",e=g([m(1,c.IContextMenuService),m(2,c.IContextViewService),m(3,u.IKeybindingService),m(4,l.IMenuService)],e)}(),b=function(e){function t(t,i){e.call(this,t,i,p.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){var e=this.editor.getContribution(S.ID);return e?(e.showContextMenu(),r.TPromise.as(null)):r.TPromise.as(null)},t.ID="editor.action.showContextMenu",t}(d.EditorAction);y.EditorBrowserRegistry.registerEditorContribution(S),v.CommonEditorRegistry.registerEditorAction(new v.EditorActionDescriptor(b,b.ID,i.localize(0,null),{context:v.ContextKey.EditorTextFocus,primary:n.KeyMod.Shift|n.KeyCode.F10},"Show Editor Context Menu"))}),define(l[231],d([1,0,424,13,5,2,20,14,46,40,54,9,11,26,310,331,37,16]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S){"use strict";function b(e,t){var i,n,o=w.getFindController(e),r=o.getState(),s=r.wholeWord,a=r.matchCase;if(!e.isFocused()&&r.isRevealed&&r.searchString.length>0)i=r.searchString;else{var u=e.getSelection();if(u.startLineNumber!==u.endLineNumber)return null;if(u.isEmpty()){var l=e.getModel().getWordAtPosition(u.getStartPosition());if(!l)return null;i=l.word,n=new c.Selection(u.startLineNumber,l.startColumn,u.startLineNumber,l.endColumn)}else i=e.getModel().getValueInRange(u);t&&o.setSearchString(i)}return{searchText:i,matchCase:a,wholeWord:s,nextMatch:n}}function _(e,t,i,n){void 0===n&&(n=null),f.CommonEditorRegistry.registerEditorCommand(e,f.CommonEditorRegistry.commandWeight(5),i,!1,n,function(e,i,n){t(w.getFindController(i))})}!function(e){e[e.NoFocusChange=0]="NoFocusChange",e[e.FocusFindInput=1]="FocusFindInput",e[e.FocusReplaceInput=2]="FocusReplaceInput"}(t.FindStartFocusAction||(t.FindStartFocusAction={}));var C=t.FindStartFocusAction;t.CONTEXT_FIND_WIDGET_VISIBLE="findWidgetVisible";var w=function(e){function i(i,n){var o=this;e.call(this),this._editor=i,this._findWidgetVisible=n.createKey(t.CONTEXT_FIND_WIDGET_VISIBLE,!1),this._state=this._register(new y.FindReplaceState),this._register(this._state.addChangeListener(function(e){return o._onStateChanged(e)})),this._model=null,this._register(this._editor.onDidChangeModel(function(){var e=o._editor.getModel()&&o._state.isRevealed;o.disposeModel(),o._state.change({searchScope:null},!1),e&&o._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:C.NoFocusChange,shouldAnimate:!1})}))}return h(i,e),i.getFindController=function(e){return e.getContribution(i.ID)},i.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},i.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},i.prototype.getId=function(){return i.ID},i.prototype._onStateChanged=function(e){e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel()))},i.prototype.getState=function(){return this._state},i.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1},!1),this._editor.focus()},i.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1)},i.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1)},i.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1)},i.prototype.setSearchString=function(e){this._state.change({searchString:e},!1)},i.prototype.getSelectionSearchString=function(){var e=this._editor.getSelection();if(e.startLineNumber===e.endLineNumber){if(!e.isEmpty())return this._editor.getModel().getValueInRange(e);var t=this._editor.getModel().getWordAtPosition(e.getStartPosition());if(t)return t.word}return null},i.prototype._start=function(e){if(this.disposeModel(),this._editor.getModel()){var t={isRevealed:!0};if(e.seedSearchStringFromSelection){var i=this.getSelectionSearchString();i&&(this._state.isRegex?t.searchString=d.escapeRegExpCharacters(i):t.searchString=i)}e.forceRevealReplace&&(t.isReplaceRevealed=!0),this._state.change(t,!1),this._model||(this._model=new v.FindModelBoundToEditorModel(this._editor,this._state))}},i.prototype.start=function(e){this._start(e)},i.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},i.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},i.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},i.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},i.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},i.ID="editor.contrib.findController",i=g([m(1,s.IKeybindingService)],i)}(o.Disposable);t.CommonFindController=w;var I=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.WidgetFocus)}return h(t,e),t.prototype.run=function(){var e=w.getFindController(this.editor);return e.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,shouldFocus:C.FocusFindInput,shouldAnimate:!0}),r.TPromise.as(!0)},t}(u.EditorAction);t.StartFindAction=I;var T=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.WidgetFocus)}return h(t,e),t.prototype.run=function(){var e=w.getFindController(this.editor);return this._run(e)||(e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length,shouldFocus:C.NoFocusChange,shouldAnimate:!0}),this._run(e)),r.TPromise.as(!0)},t}(u.EditorAction);t.MatchFindAction=T;var A=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(T);t.NextMatchFindAction=A;var L=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(T);t.PreviousMatchFindAction=L;var D=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.WidgetFocus)}return h(t,e),t.prototype.run=function(){var e=w.getFindController(this.editor),t=e.getSelectionSearchString();return t&&e.setSearchString(t),this._run(e)||(e.start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,shouldFocus:C.NoFocusChange,shouldAnimate:!0}),this._run(e)),r.TPromise.as(!0)},t}(u.EditorAction);t.SelectionMatchFindAction=D;var k=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(D);t.NextSelectionMatchFindAction=k;var x=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(D);t.PreviousSelectionMatchFindAction=x;var M=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.WidgetFocus|l.Behaviour.Writeable)}return h(t,e),t.prototype.run=function(){var e=w.getFindController(this.editor);return e.start({forceRevealReplace:!0,seedSearchStringFromSelection:!0,shouldFocus:C.FocusReplaceInput,shouldAnimate:!0}),r.TPromise.as(!0)},t}(u.EditorAction);t.StartFindReplaceAction=M;var R=function(e){function t(t,i){e.call(this,t,i,l.Behaviour.WidgetFocus)}return h(t,e),t.prototype._getNextMatch=function(){var e=b(this.editor,!0);if(!e)return null;if(e.nextMatch)return e.nextMatch;var t=this.editor.getSelections(),i=t[t.length-1],n=this.editor.getModel().findNextMatch(e.searchText,i.getEndPosition(),!1,e.matchCase,e.wholeWord);return n?new c.Selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):null},t}(u.EditorAction);t.SelectNextFindMatchAction=R;var O=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=this._getNextMatch();if(!e)return r.TPromise.as(!1);var t=this.editor.getSelections();return this.editor.setSelections(t.concat(e)),this.editor.revealRangeInCenterIfOutsideViewport(e),r.TPromise.as(!0)},t.ID=v.FIND_IDS.AddSelectionToNextFindMatchAction,t}(R);t.AddSelectionToNextFindMatchAction=O;var P=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=this._getNextMatch();if(!e)return r.TPromise.as(!1);var t=this.editor.getSelections();return this.editor.setSelections(t.slice(0,t.length-1).concat(e)),this.editor.revealRangeInCenterIfOutsideViewport(e),r.TPromise.as(!0)},t.ID=v.FIND_IDS.MoveSelectionToNextFindMatchAction,t}(R);t.MoveSelectionToNextFindMatchAction=P;var N=function(e){function t(i,n){var o=l.Behaviour.WidgetFocus|l.Behaviour.Writeable;i.id===t.COMPAT_ID&&(o|=l.Behaviour.ShowInContextMenu),e.call(this,i,n,o)}return h(t,e),t.prototype.getGroupId=function(){return"2_change/1_changeAll"},t.prototype.run=function(){var e=b(this.editor,!0);if(!e)return r.TPromise.as(!1);var t=this.editor.getModel().findMatches(e.searchText,!0,!1,e.matchCase,e.wholeWord);return t.length>0&&this.editor.setSelections(t.map(function(e){return new c.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)})),r.TPromise.as(!0)},t.ID="editor.action.selectHighlights",t.COMPAT_ID="editor.action.changeAll",t}(u.EditorAction);t.SelectHighlightsAction=N;var F=function(e){function t(t){var i=this;e.call(this),this.editor=t,this.decorations=[],this.updateSoon=this._register(new S.RunOnceScheduler(function(){return i._update()},300)),this.lastWordUnderCursor=null,this._register(t.onDidChangeCursorSelection(function(e){e.selection.isEmpty()?e.reason===p.CursorChangeReason.Explicit?(i.lastWordUnderCursor&&i.lastWordUnderCursor.containsPosition(e.selection.getStartPosition())||i.removeDecorations(),i.updateSoon.schedule()):i.removeDecorations():i._update()})),this._register(t.onDidChangeModel(function(e){i.removeDecorations()})),this._register(w.getFindController(t).getState().addChangeListener(function(e){i._update()}))}return h(t,e),t.prototype.getId=function(){return t.ID},t.prototype.removeDecorations=function(){this.lastWordUnderCursor=null,this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},t.prototype._update=function(){var e=this.editor.getModel();if(e&&(this.lastWordUnderCursor=null,this.editor.getConfiguration().contribInfo.selectionHighlight)){var t=b(this.editor,!1);if(!t)return void this.removeDecorations();var i=E.DocumentHighlightProviderRegistry.has(e);if(t.nextMatch){if(i)return void this.removeDecorations();this.lastWordUnderCursor=t.nextMatch}if(/^[ \t]+$/.test(t.searchText))return void this.removeDecorations();if(t.searchText.length>200)return void this.removeDecorations();for(var n=this.editor.getSelections(),o=e.getValueInRange(n[0]),r=1;r<n.length;r++){var s=e.getValueInRange(n[r]);if(o!==s)return void this.removeDecorations()}var c=e.findMatches(t.searchText,!0,!1,t.matchCase,t.wholeWord);c.sort(a.Range.compareRangesUsingStarts),n.sort(a.Range.compareRangesUsingStarts);for(var u=[],r=0,l=0,d=c.length,h=n.length;r<d;){var f=c[r];if(l>=h)u.push(f),r++;else{var g=a.Range.compareRangesUsingStarts(f,n[l]);g<0?(u.push(f),r++):g>0?l++:(r++,l++)}}var m=u.map(function(e){return{range:e,options:{stickiness:p.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:i?void 0:{color:"#A0A0A0",darkColor:"#A0A0A0",position:p.OverviewRulerLane.Center}}}});this.decorations=this.editor.deltaDecorations(this.decorations,m)}},t.prototype.dispose=function(){this.removeDecorations(),e.prototype.dispose.call(this)},t.ID="editor.contrib.selectionHighlighter",t}(o.Disposable);t.SelectionHighlighter=F,f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(N,N.ID,i.localize(0,null),{context:f.ContextKey.EditorFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_L},"Select All Occurences of Find Match")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(N,N.COMPAT_ID,i.localize(1,null),{context:f.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.F2},"Change All Occurrences")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(I,v.FIND_IDS.StartFindAction,i.localize(2,null),{context:f.ContextKey.None,primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_F},"Find")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(A,v.FIND_IDS.NextMatchFindAction,i.localize(3,null),{context:f.ContextKey.EditorFocus,primary:n.KeyCode.F3,mac:{primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_G,secondary:[n.KeyCode.F3]}},"Find Next")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(L,v.FIND_IDS.PreviousMatchFindAction,i.localize(4,null),{
context:f.ContextKey.EditorFocus,primary:n.KeyMod.Shift|n.KeyCode.F3,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_G,secondary:[n.KeyMod.Shift|n.KeyCode.F3]}},"Find Previous")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(k,v.FIND_IDS.NextSelectionMatchFindAction,i.localize(5,null),{context:f.ContextKey.EditorFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.F3},"Find Next Selection")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(x,v.FIND_IDS.PreviousSelectionMatchFindAction,i.localize(6,null),{context:f.ContextKey.EditorFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.F3},"Find Previous Selection")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(M,v.FIND_IDS.StartFindReplaceAction,i.localize(7,null),{context:f.ContextKey.None,primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_H,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.KEY_F}},"Replace")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(P,P.ID,i.localize(8,null),{context:f.ContextKey.EditorFocus,primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_D)},"Move Last Selection To Next Find Match")),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(O,O.ID,i.localize(9,null),{context:f.ContextKey.EditorFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_D},"Add Selection To Next Find Match")),_(v.FIND_IDS.CloseFindWidgetCommand,function(e){return e.closeFindWidget()},{primary:n.KeyCode.Escape,secondary:[n.KeyMod.Shift|n.KeyCode.Escape]},t.CONTEXT_FIND_WIDGET_VISIBLE),_(v.FIND_IDS.ToggleCaseSensitiveCommand,function(e){return e.toggleCaseSensitive()},{primary:n.KeyMod.Alt|n.KeyCode.KEY_C,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.KEY_C}}),_(v.FIND_IDS.ToggleWholeWordCommand,function(e){return e.toggleWholeWords()},{primary:n.KeyMod.Alt|n.KeyCode.KEY_W,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.KEY_W}}),_(v.FIND_IDS.ToggleRegexCommand,function(e){return e.toggleRegex()},{primary:n.KeyMod.Alt|n.KeyCode.KEY_R,mac:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.KEY_R}}),_(v.FIND_IDS.ReplaceOneAction,function(e){return e.replace()},{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_1},t.CONTEXT_FIND_WIDGET_VISIBLE),_(v.FIND_IDS.ReplaceAllAction,function(e){return e.replaceAll()},{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.Enter},t.CONTEXT_FIND_WIDGET_VISIBLE),_(v.FIND_IDS.SelectAllMatchesAction,function(e){return e.selectAllMatches()},{primary:n.KeyMod.Alt|n.KeyCode.Enter},t.CONTEXT_FIND_WIDGET_VISIBLE)}),define(l[695],d([1,0,51,20,61,423,231]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,n){e.call(this,t,n),this._widget=this._register(new r.FindWidget(t,this,this._state,i,n))}return h(t,e),t.prototype._start=function(t){e.prototype._start.call(this,t),t.shouldFocus===s.FindStartFocusAction.FocusReplaceInput?this._widget.focusReplaceInput():t.shouldFocus===s.FindStartFocusAction.FocusFindInput&&this._widget.focusFindInput()},t=g([m(1,i.IContextViewService),m(2,n.IKeybindingService)],t)}(s.CommonFindController);o.EditorBrowserRegistry.registerEditorContribution(a),o.EditorBrowserRegistry.registerEditorContribution(s.SelectionHighlighter)}),define(l[696],d([1,0,425,16,13,5,2,40,54,11,14,26,61,603,823]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g=function(){function e(e,t,i){this.decorationIds=[],this.update(e,t,i)}return Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpanded",{get:function(){return!this._isCollapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indent",{get:function(){return this._indent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this._lastRange?this._lastRange.startLineNumber:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this._lastRange?this._lastRange.endLineNumber:void 0},enumerable:!0,configurable:!0}),e.prototype.setCollapsed=function(e,t){this._isCollapsed=e,this.decorationIds.length>0&&t.changeDecorationOptions(this.decorationIds[0],this.getVisualDecorationOptions())},e.prototype.getDecorationRange=function(e){return this.decorationIds.length>0?e.getDecorationRange(this.decorationIds[1]):null},e.prototype.getVisualDecorationOptions=function(){return this._isCollapsed?{stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"}:{stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding"}},e.prototype.getRangeDecorationOptions=function(){return{stickiness:u.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}},e.prototype.update=function(e,t,i){this._lastRange=e,this._isCollapsed=!!e.isCollapsed,this._indent=e.indent;var n=[],o=t.getLineMaxColumn(e.startLineNumber),r={startLineNumber:e.startLineNumber,startColumn:o-1,endLineNumber:e.startLineNumber,endColumn:o};n.push({range:r,options:this.getVisualDecorationOptions()});var s={startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.endLineNumber,endColumn:t.getLineMaxColumn(e.endLineNumber)};n.push({range:s,options:this.getRangeDecorationOptions()}),this.decorationIds=i.deltaDecorations(this.decorationIds,n)},e.prototype.dispose=function(e){this._lastRange=null,this.decorationIds=e.deltaDecorations(this.decorationIds,[])},e.prototype.toString=function(){var e=this.isCollapsed?"collapsed ":"expanded ";return e+=this._lastRange?this._lastRange.startLineNumber+"/"+this._lastRange.endLineNumber:"no range"},e}(),m=function(){function e(e){var t=this;this.editor=e,this._isEnabled=this.editor.getConfiguration().contribInfo.folding,this.globalToDispose=[],this.localToDispose=[],this.decorations=[],this.computeToken=0,this.globalToDispose.push(this.editor.onDidChangeModel(function(){return t.onModelChanged()})),this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(e){var i=t._isEnabled;t._isEnabled=t.editor.getConfiguration().contribInfo.folding,i!==t._isEnabled&&t.onModelChanged()})),this.onModelChanged()}return e.getFoldingController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.cleanState(),this.globalToDispose=r.dispose(this.globalToDispose)},e.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e)return{};var t=[];return this.decorations.forEach(function(i){if(i.isCollapsed){var n=i.getDecorationRange(e);n&&t.push({startLineNumber:n.startLineNumber,endLineNumber:n.endLineNumber,indent:i.indent,isCollapsed:!0})}}),{collapsedRegions:t,lineCount:e.getLineCount()}},e.prototype.restoreViewState=function(e){var t=this.editor.getModel();t&&this._isEnabled&&e&&Array.isArray(e.collapsedRegions)&&0!==e.collapsedRegions.length&&e.lineCount===t.getLineCount()&&this.applyRegions(e.collapsedRegions)},e.prototype.cleanState=function(){this.localToDispose=r.dispose(this.localToDispose)},e.prototype.applyRegions=function(t){var i=this,n=this.editor.getModel();if(n){var o=!1;t=f.limitByIndent(t,e.MAX_FOLDING_REGIONS).sort(function(e,t){return e.startLineNumber-t.startLineNumber}),this.editor.changeDecorations(function(e){for(var r=[],s=0,a=0;a<i.decorations.length&&s<t.length;){var c=i.decorations[a],u=c.getDecorationRange(n);if(u){for(;s<t.length&&u.startLineNumber>t[s].startLineNumber;){var l=t[s];o=o||l.isCollapsed,r.push(new g(l,n,e)),s++}if(s<t.length){var d=t[s];u.startLineNumber<d.startLineNumber?(o=o||c.isCollapsed,c.dispose(e),a++):u.startLineNumber===d.startLineNumber&&(!c.isCollapsed||c.startLineNumber===d.startLineNumber&&c.endLineNumber===d.endLineNumber||(o=!0),d.isCollapsed=c.isCollapsed,c.update(d,n,e),r.push(c),a++,s++)}}else o=o||c.isCollapsed,c.dispose(e),a++}for(;a<i.decorations.length;){var c=i.decorations[a];o=o||c.isCollapsed,c.dispose(e),a++}for(;s<t.length;){var l=t[s];o=o||l.isCollapsed,r.push(new g(l,n,e)),s++}i.decorations=r}),o&&this.updateHiddenAreas(void 0)}},e.prototype.onModelChanged=function(){var e=this;this.cleanState();var t=this.editor.getModel();this._isEnabled&&t&&(this.contentChangedScheduler=new n.RunOnceScheduler(function(){var t=++e.computeToken;e.computeCollapsibleRegions().then(function(i){t===e.computeToken&&e.applyRegions(i)})},200),this.cursorChangedScheduler=new n.RunOnceScheduler(function(){e.revealCursor()},200),this.localToDispose.push(this.contentChangedScheduler),this.localToDispose.push(this.cursorChangedScheduler),this.localToDispose.push(this.editor.onDidChangeModelContent(function(){e.contentChangedScheduler.schedule()})),this.localToDispose.push({dispose:function(){++e.computeToken,e.editor.changeDecorations(function(t){e.decorations.forEach(function(e){return e.dispose(t)})}),e.decorations=[],e.editor.setHiddenAreas([])}}),this.localToDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.localToDispose.push(this.editor.onMouseUp(function(t){return e.onEditorMouseUp(t)})),this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(t){e.cursorChangedScheduler.schedule()})),this.contentChangedScheduler.schedule())},e.prototype.computeCollapsibleRegions=function(){var e=this.editor.getModel();if(!e)return s.TPromise.as([]);var t=f.computeRanges(e);return s.TPromise.as(t)},e.prototype.revealCursor=function(){var e=this,t=this.editor.getModel();if(t){var i=!1,n=this.editor.getPosition(),o=n.lineNumber;this.editor.changeDecorations(function(n){return e.decorations.forEach(function(e){if(e.isCollapsed){var r=e.getDecorationRange(t);r&&r.startLineNumber<o&&o<=r.endLineNumber&&(e.setCollapsed(!1,n),i=!0)}})}),i&&this.updateHiddenAreas(o)}},e.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,0!==this.decorations.length){var t=e.target.range;if(t&&t.isEmpty&&e.event.leftButton){var i=this.editor.getModel(),n=!1;switch(e.target.type){case u.MouseTargetType.GUTTER_LINE_DECORATIONS:n=!0;break;case u.MouseTargetType.CONTENT_TEXT:if(t.isEmpty&&t.startColumn===i.getLineMaxColumn(t.startLineNumber))break;return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}}},e.prototype.onEditorMouseUp=function(e){var t=this;if(this.mouseDownInfo){var i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.isEmpty&&o.startLineNumber===i){var r=this.editor.getModel();if(n){if(e.target.type!==u.MouseTargetType.GUTTER_LINE_DECORATIONS)return}else if(o.startColumn!==r.getLineMaxColumn(i))return;this.editor.changeDecorations(function(e){for(var o=0;o<t.decorations.length;o++){var s=t.decorations[o],a=s.getDecorationRange(r);if(a.startLineNumber===i)return void((n||s.isCollapsed)&&(s.setCollapsed(!s.isCollapsed,e),t.updateHiddenAreas(i)))}})}}},e.prototype.updateHiddenAreas=function(e){var t=this.editor.getModel(),i=this.editor.getSelections(),n=!1,o=[];this.decorations.filter(function(e){return e.isCollapsed}).forEach(function(e){var r=e.getDecorationRange(t);o.push({startLineNumber:r.startLineNumber+1,startColumn:1,endLineNumber:r.endLineNumber,endColumn:1}),i.forEach(function(e,o){l.Range.containsPosition(r,e.getStartPosition())&&(i[o]=e=e.setStartPosition(r.startLineNumber,t.getLineMaxColumn(r.startLineNumber)),n=!0),l.Range.containsPosition(r,e.getEndPosition())&&(i[o]=e.setEndPosition(r.startLineNumber,t.getLineMaxColumn(r.startLineNumber)),n=!0)})});var r;r=e?{lineNumber:e,column:1}:i[0].getStartPosition(),n&&this.editor.setSelections(i),this.editor.setHiddenAreas(o),this.editor.revealPositionInCenterIfOutsideViewport(r)},e.prototype.unfold=function(){var e=this,t=this.editor.getModel(),i=!1,n=this.editor.getSelections(),o=!1;n.forEach(function(r,s){for(var a,c=r.startLineNumber,u=function(u,d){var h=e.decorations[u],p=h.getDecorationRange(t);if(!p)return"continue";if(p.startLineNumber<=c){if(c<=p.endLineNumber){if(h.isCollapsed)return e.editor.changeDecorations(function(e){h.setCollapsed(!1,e),i=!0}),{value:void 0};a=p}}else{if(!a||!l.Range.containsRange(a,p))return{value:void 0};if(h.isCollapsed)return e.editor.changeDecorations(function(e){h.setCollapsed(!1,e),i=!0;var a=p.startLineNumber,c=t.getLineMaxColumn(p.startLineNumber);n[s]=r.setEndPosition(a,c).setStartPosition(a,c),o=!0}),{value:void 0}}},d=0,h=e.decorations.length;d<h;d++){var p=u(d,h);if("object"==typeof p)return p.value}}),o&&this.editor.setSelections(n),i&&this.updateHiddenAreas(n[0].startLineNumber)},e.prototype.fold=function(){var e=this,t=!1,i=this.editor.getModel(),n=this.editor.getSelections();n.forEach(function(n){for(var o=n.startLineNumber,r=null,s=0,a=e.decorations.length;s<a;s++){var c=e.decorations[s],u=c.getDecorationRange(i);if(u){if(!(u.startLineNumber<=o))break;o<=u.endLineNumber&&!c.isCollapsed&&(r=c)}}r&&e.editor.changeDecorations(function(e){r.setCollapsed(!0,e),t=!0})}),t&&this.updateHiddenAreas(n[0].startLineNumber)},e.prototype.foldUnfoldRecursively=function(e){var t=this,i=!1,n=this.editor.getModel(),o=this.editor.getSelections();o.forEach(function(o){for(var r,s=o.startLineNumber,a=[],c=0,u=t.decorations.length;c<u;c++){var l=t.decorations[c],d=l.getDecorationRange(n);if(d&&d.startLineNumber>=s&&(d.endLineNumber<=r||"undefined"==typeof r)){if(d.startLineNumber!==s&&"undefined"==typeof r)return;r=r||d.endLineNumber,a.push(l)}}a.length>0&&a.forEach(function(n){t.editor.changeDecorations(function(t){n.setCollapsed(e,t),i=!0})})}),i&&this.updateHiddenAreas(o[0].startLineNumber)},e.prototype.changeAll=function(e){var t=this;if(this.decorations.length>0){var i=!0;this.editor.changeDecorations(function(n){t.decorations.forEach(function(t){e!==t.isCollapsed&&(t.setCollapsed(e,n),i=!0)})}),i&&this.updateHiddenAreas(void 0)}},e.prototype.foldLevel=function(e,t){var i=this,n=this.editor.getModel(),o=[n.getFullModelRange()],r=!1;this.editor.changeDecorations(function(s){i.decorations.forEach(function(i){var a=i.getDecorationRange(n);if(a){for(;!l.Range.containsRange(o[o.length-1],a);)o.pop();o.push(a),o.length!==e+1||i.isCollapsed||t.some(function(e){return a.startLineNumber<e&&e<=a.endLineNumber})||(i.setCollapsed(!0,s),r=!0)}})}),r&&this.updateHiddenAreas(t[0])},e.ID="editor.contrib.folding",e.MAX_FOLDING_REGIONS=5e3,e}();t.FoldingController=m;var v=function(e){function t(t,i){e.call(this,t,i,c.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){var e=m.getFoldingController(this.editor);return this.invoke(e),s.TPromise.as(!0)},t}(a.EditorAction),y=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.invoke=function(e){e.unfold()},t.ID="editor.unfold",t}(v),E=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.invoke=function(e){e.foldUnfoldRecursively(!1)},t.ID="editor.unFoldRecursively",t}(v),S=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.invoke=function(e){e.fold()},t.ID="editor.fold",t}(v),b=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.invoke=function(e){e.foldUnfoldRecursively(!0)},t.ID="editor.foldRecursively",t}(v),_=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.invoke=function(e){e.changeAll(!0)},t.ID="editor.foldAll",t}(v),C=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.invoke=function(e){e.changeAll(!1)},t.ID="editor.unfoldAll",t}(v),w=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t.prototype.getSelectedLines=function(){return this.editor.getSelections().map(function(e){return e.startLineNumber})},t.prototype.invoke=function(e){e.foldLevel(this.getFoldingLevel(),this.getSelectedLines())},t.ID_PREFIX="editor.foldLevel",t.ID=function(e){return t.ID_PREFIX+e},t}(v);p.EditorBrowserRegistry.registerEditorContribution(m),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(y,y.ID,i.localize(0,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.CtrlCmd|o.KeyMod.Shift|o.KeyCode.US_CLOSE_SQUARE_BRACKET},"Unfold")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(E,E.ID,i.localize(1,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.US_CLOSE_SQUARE_BRACKET)},"Unfold Recursively")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(S,S.ID,i.localize(2,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.CtrlCmd|o.KeyMod.Shift|o.KeyCode.US_OPEN_SQUARE_BRACKET},"Fold")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(b,b.ID,i.localize(3,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.US_OPEN_SQUARE_BRACKET)},"Fold Recursively")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(_,_.ID,i.localize(4,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_0)},"Fold All")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(C,C.ID,i.localize(5,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_J)},"Unfold All")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(w,w.ID(1),i.localize(6,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_1)},"Fold Level 1")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(w,w.ID(2),i.localize(7,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_2)},"Fold Level 2")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(w,w.ID(3),i.localize(8,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_3)},"Fold Level 3")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(w,w.ID(4),i.localize(9,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_4)},"Fold Level 4")),d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(w,w.ID(5),i.localize(10,null),{context:d.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_5)},"Fold Level 5"))}),define(l[697],d([1,0,7,19,2,14,26,37,38,16]),function(e,t,i,n,o,r,s,a,c,u){"use strict";function l(e,t,i){var n=a.DocumentRangeFormattingEditProviderRegistry.ordered(e)[0];return n?u.asWinJsPromise(function(o){return n.provideDocumentRangeFormattingEdits(e,t,i,o)}):o.TPromise.as(void 0)}function d(e,t){var i=a.DocumentFormattingEditProviderRegistry.ordered(e)[0];return i?u.asWinJsPromise(function(n){return i.provideDocumentFormattingEdits(e,t,n)}):l(e,e.getFullModelRange(),t)}function h(e,t,i,n){var r=a.OnTypeFormattingEditProviderRegistry.ordered(e)[0];return r?r.autoFormatTriggerCharacters.indexOf(i)<0?o.TPromise.as(void 0):u.asWinJsPromise(function(o){return r.provideOnTypeFormattingEdits(e,t,i,n,o)}):o.TPromise.as(void 0)}t.getDocumentRangeFormattingEdits=l,t.getDocumentFormattingEdits=d,t.getOnTypeFormattingEdits=h,s.CommonEditorRegistry.registerLanguageCommand("_executeFormatRangeProvider",function(e,t){var o=t.resource,s=t.range,a=t.options;if(!(o instanceof n["default"]&&r.Range.isIRange(s)))throw i.illegalArgument();var u=e.get(c.IModelService).getModel(o);if(!u)throw i.illegalArgument("resource");return l(u,r.Range.lift(s),a)}),s.CommonEditorRegistry.registerLanguageCommand("_executeFormatDocumentProvider",function(e,t){var o=t.resource,r=t.options;if(!(o instanceof n["default"]))throw i.illegalArgument("resource");var s=e.get(c.IModelService).getModel(o);if(!s)throw i.illegalArgument("resource");return d(s,r)}),s.CommonEditorRegistry.registerDefaultLanguageCommand("_executeFormatOnTypeProvider",function(e,t,n){var o=n.ch,r=n.options;if("string"!=typeof o)throw i.illegalArgument("ch");return h(e,t,o,r)})}),define(l[698],d([1,0,426,41,13,5,2,40,54,11,26,37,697,602]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var g=function(){function e(e){var t=this;this.editor=e,this.callOnDispose=[],this.callOnModel=[],this.callOnDispose.push(e.onDidChangeConfiguration(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModel(function(){return t.update()})),this.callOnDispose.push(e.onDidChangeModelMode(function(){return t.update()})),this.callOnDispose.push(d.OnTypeFormattingEditProviderRegistry.onDidChange(this.update,this))}return e.prototype.update=function(){var e=this;if(this.callOnModel=r.dispose(this.callOnModel),this.editor.getConfiguration().contribInfo.formatOnType&&this.editor.getModel()){var t=this.editor.getModel(),i=d.OnTypeFormattingEditProviderRegistry.ordered(t)[0];i&&i.autoFormatTriggerCharacters&&i.autoFormatTriggerCharacters.forEach(function(t){e.callOnModel.push(e.editor.addTypingListener(t,e.trigger.bind(e,t)))})}},e.prototype.trigger=function(e){var t=this;if(!(this.editor.getSelections().length>1)){var i=this.editor.getModel(),o=this.editor.getPosition(),r=!1,s=this.editor.onDidChangeModelRawContent(function(e){if(e.changeType===u.EventType.ModelRawContentChangedFlush)r=!0;else if(e.changeType===u.EventType.ModelRawContentChangedLineChanged){var t=e.lineNumber;r=t<=o.lineNumber}else if(e.changeType===u.EventType.ModelRawContentChangedLinesInserted){var i=e.fromLineNumber;r=i<=o.lineNumber}else if(e.changeType===u.EventType.ModelRawContentChangedLinesDeleted){var n=e.toLineNumber;r=n<=o.lineNumber}r&&s.dispose()}),a=i.getOptions();p.getOnTypeFormattingEdits(i,o,e,{tabSize:a.tabSize,insertSpaces:a.insertSpaces}).then(function(e){s.dispose(),r||n.isFalsyOrEmpty(e)||t.editor.executeCommand(t.getId(),new f.EditOperationsCommand(e,t.editor.getSelection()))},function(e){throw s.dispose(),e})}},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.callOnDispose=r.dispose(this.callOnDispose),this.callOnModel=r.dispose(this.callOnModel)},e.ID="editor.contrib.autoFormat",e}(),m=function(e){function t(t,i){var n=this;e.call(this,t,i,c.Behaviour.WidgetFocus|c.Behaviour.Writeable|c.Behaviour.UpdateOnModelChange|c.Behaviour.ShowInContextMenu),this._disposables=[d.DocumentFormattingEditProviderRegistry.onDidChange(function(){return n.resetEnablementState()}),d.DocumentRangeFormattingEditProviderRegistry.onDidChange(function(){return n.resetEnablementState()})]}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposables=r.dispose(this._disposables)},t.prototype.getGroupId=function(){return"2_change/2_format"},t.prototype.isSupported=function(){return(d.DocumentFormattingEditProviderRegistry.has(this.editor.getModel())||d.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel()))&&e.prototype.isSupported.call(this)},t.prototype.run=function(){var e,t=this,i=this.editor.getModel(),n=this.editor.getSelection(),o=i.getOptions(),r={tabSize:o.tabSize,insertSpaces:o.insertSpaces};if(e=n.isEmpty()?p.getDocumentFormattingEdits(i,r):p.getDocumentRangeFormattingEdits(i,n,r),!e)return s.TPromise.as(!1);var a=this.editor.captureState(u.CodeEditorStateFlag.Value,u.CodeEditorStateFlag.Position);return e.then(function(e){return!!a.validate(t.editor)&&(!(!e||0===e.length)&&(t.apply(t.editor,n,e),t.editor.focus(),!0))})},t.prototype.apply=function(e,t,i){var n=null;t.isEmpty()&&(n=e.saveViewState());var o=new f.EditOperationsCommand(i,t);e.executeCommand(this.id,o),n&&e.restoreViewState(n)},t.ID="editor.action.format",t}(a.EditorAction);t.FormatAction=m,l.CommonEditorRegistry.registerEditorAction(new l.EditorActionDescriptor(m,m.ID,i.localize(0,null),{context:l.ContextKey.EditorTextFocus,primary:o.KeyMod.Shift|o.KeyMod.Alt|o.KeyCode.KEY_F,linux:{primary:o.KeyMod.CtrlCmd|o.KeyMod.Shift|o.KeyCode.KEY_I}},"Format Code")),l.CommonEditorRegistry.registerEditorContribution(g)}),define(l[699],d([1,0,7,2,26,37,16]),function(e,t,i,n,o,r,s){"use strict";function a(e,t){var o=r.DefinitionProviderRegistry.ordered(e),a=o.map(function(n,o){return s.asWinJsPromise(function(i){return n.provideDefinition(e,t,i)}).then(function(e){return e},function(e){i.onUnexpectedError(e)})});return n.TPromise.join(a).then(function(e){for(var t=[],i=0,n=e;i<n.length;i++){var o=n[i];Array.isArray(o)?t.push.apply(t,o):o&&t.push(o)}return t})}t.getDeclarationsAtPosition=a,o.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDefinitionProvider",a)}),define(l[700],d([1,0,41,7,2,26,37,16]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t){var r=s.HoverProviderRegistry.ordered(e),c=[],u=r.map(function(i,o){return a.asWinJsPromise(function(n){return i.provideHover(e,t,n)}).then(function(e){if(e){var t="undefined"!=typeof e.range,i="undefined"!=typeof e.contents&&e.contents&&e.contents.length>0;t&&i&&(c[o]=e)}},function(e){n.onUnexpectedError(e)})});return o.TPromise.join(u).then(function(){return i.coalesce(c)})}t.getHover=c,r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeHoverProvider",c)}),define(l[701],d([1,0,430,19,2,134,164,14,48,37,636,700,312,260,168,254]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g){"use strict";var m=function(){function e(e){this._editor=e,this._range=null}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(){var e=this._editor.getModel();return u.HoverProviderRegistry.has(e)?d.getHover(e,new c.Position(this._range.startLineNumber,this._range.startColumn)):o.TPromise.as(null)},e.prototype.computeSync=function(){var e=this,t=[],i=this._range.startLineNumber;if(i>this._editor.getModel().getLineCount())return t;var n=function(e){return e&&(!Array.isArray(e)||e.length>0)},o=this._editor.getLineDecorations(i),r=this._editor.getModel().getLineMaxColumn(i);return o.forEach(function(o){var s=o.range.startLineNumber===i?o.range.startColumn:1,c=o.range.endLineNumber===i?o.range.endColumn:r;if(s<=e._range.startColumn&&e._range.endColumn<=c&&n(o.options.hoverMessage)){var u={contents:[],range:new a.Range(e._range.startLineNumber,s,e._range.startLineNumber,c)};o.options.hoverMessage&&(Array.isArray(o.options.hoverMessage)?u.contents=u.contents.concat(o.options.hoverMessage):u.contents.push(o.options.hoverMessage)),t.push(u)}}),t},e.prototype.onResult=function(e,t){t?this._result=e.concat(this._result):this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[g.textToMarkedString(i.localize(0,null))]}},e}(),v=function(e){function t(i,n,o){var r=this;e.call(this,t.ID,i),this._computer=new m(this._editor),this._highlightDecorations=[],this._isChangingDecorations=!1,this._openerService=n||s.NullOpenerService,this._modeService=o,this._hoverOperation=new p.HoverOperation(this._computer,function(e){return r._withResult(e,!0)},null,function(e){return r._withResult(e,!1)})}return h(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start())},t.prototype.startShowingAt=function(e,t){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition.lineNumber!==e.startLineNumber)this.hide();else{for(var i=[],n=0,o=this._messages.length;n<o;n++){var r=this._messages[n],s=r.range;s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn&&i.push(r)}i.length>0?this._renderMessages(e,i):this.hide()}this._lastRange=e,this._computer.setRange(e),this._shouldFocus=t,this._hoverOperation.start()}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,t){var i=this,o=Number.MAX_VALUE,s=t[0].range,c=document.createDocumentFragment();t.forEach(function(e){if(e.range){o=Math.min(o,e.range.startColumn),s=a.Range.plusRange(s,e.range);var t=document.createElement("div"),u=t;e.contents&&e.contents.length>0&&u.appendChild(r.renderMarkedString(e.contents,{actionCallback:function(e){i._openerService.open(n["default"].parse(e))},codeBlockRenderer:function(e,t){var n=i._modeService.getMode(e);return n?l.tokenizeToString(t,n):i._modeService.getOrCreateMode(e).then(function(e){return l.tokenizeToString(t,e)},function(e){return l.tokenizeToString(t,null)})}})),c.appendChild(t)}}),this._domNode.textContent="",this._domNode.appendChild(c),this.showAt({lineNumber:e.startLineNumber,column:o},this._shouldFocus),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:s,options:{className:"hoverHighlight"}}]),this._isChangingDecorations=!1},t.ID="editor.contrib.modesContentHoverWidget",t}(f.ContentHoverWidget);t.ModesContentHoverWidget=v}),define(l[702],d([1,0,429,13,12,2,164,45,20,14,40,54,11,26,61,701,378,5,816]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S){"use strict";var b=function(){function e(e,t,i){var n=this;this._editor=e,this._toUnhook=[],e.getConfiguration().contribInfo.hover&&(this._toUnhook.push(this._editor.onMouseDown(function(e){return n._onEditorMouseDown(e)})),this._toUnhook.push(this._editor.onMouseMove(function(e){return n._onEditorMouseMove(e)})),this._toUnhook.push(this._editor.onMouseLeave(function(e){return n._hideWidgets()})),this._toUnhook.push(this._editor.onKeyDown(function(e){return n._onKeyDown(e)})),this._toUnhook.push(this._editor.onDidChangeModel(function(){return n._hideWidgets()})),this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return n._onModelDecorationsChanged()})),this._toUnhook.push(this._editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n._hideWidgets()})),this._contentWidget=new y.ModesContentHoverWidget(e,t,i),this._glyphWidget=new E.ModesGlyphHoverWidget(e))}return e.getModesHoverController=function(t){return t.getContribution(e.ID)},e.prototype._onModelDecorationsChanged=function(){this._contentWidget.onModelDecorationsChanged(),this._glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorMouseDown=function(e){var t=e.target.type;t===p.MouseTargetType.CONTENT_WIDGET&&e.target.detail===y.ModesContentHoverWidget.ID||t===p.MouseTargetType.OVERLAY_WIDGET&&e.target.detail===E.ModesGlyphHoverWidget.ID||this._hideWidgets()},e.prototype._onEditorMouseMove=function(e){var t=e.target.type,i=o.isMacintosh?"metaKey":"ctrlKey";(t!==p.MouseTargetType.CONTENT_WIDGET||e.target.detail!==y.ModesContentHoverWidget.ID||e.event[i])&&(t!==p.MouseTargetType.OVERLAY_WIDGET||e.target.detail!==E.ModesGlyphHoverWidget.ID||e.event[i])&&(this._editor.getConfiguration().contribInfo.hover&&t===p.MouseTargetType.CONTENT_TEXT?(this._glyphWidget.hide(),this._contentWidget.startShowingAt(e.target.range,!1)):t===p.MouseTargetType.GUTTER_GLYPH_MARGIN?(this._contentWidget.hide(),this._glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets())},e.prototype._onKeyDown=function(e){var t=o.isMacintosh?n.KeyCode.Meta:n.KeyCode.Ctrl;e.keyCode!==t&&this._hideWidgets()},e.prototype._hideWidgets=function(){this._glyphWidget.hide(),this._contentWidget.hide();
},e.prototype.showContentHover=function(e,t){this._contentWidget.startShowingAt(e,t)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._toUnhook=S.dispose(this._toUnhook),this._glyphWidget&&(this._glyphWidget.dispose(),this._glyphWidget=null),this._contentWidget&&(this._contentWidget.dispose(),this._contentWidget=null)},e.ID="editor.contrib.hover",e=g([m(1,s.IOpenerService),m(2,a.IModeService)],e)}(),_=function(e){function t(t,i){e.call(this,t,i,d.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){var e=this.editor.getPosition(),t=new u.Range(e.lineNumber,e.column,e.lineNumber,e.column);return this.editor.getContribution(b.ID).showContentHover(t,!0),r.TPromise.as(null)},t.ID="editor.action.showHover",t}(l.EditorAction);v.EditorBrowserRegistry.registerEditorContribution(b),f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(_,_.ID,i.localize(0,null),{context:f.ContextKey.EditorTextFocus,kbExpr:c.KbExpr.has(p.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_I)},"Show Hover"))}),define(l[703],d([1,0,431,13,2,14,40,11,26,127,601]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(e){function t(t,i,n,r){e.call(this,t,i),this.editorWorkerService=r,this.up=n,this.requestIdPool=0,this.currentRequest=o.TPromise.as(null),this.decorationRemover=o.TPromise.as(null),this.decorationIds=[]}return h(t,e),t.prototype.run=function(){var e=this;this.currentRequest.cancel();var i=this.editor.getSelection(),n=this.editor.getModel(),s=n.getMode().inplaceReplaceSupport,c=n.uri;if(i.startLineNumber!==i.endLineNumber)return null;var u=this.editor.captureState(a.CodeEditorStateFlag.Value,a.CodeEditorStateFlag.Position);return this.currentRequest=this.editorWorkerService.navigateValueSet(c,i,this.up),this.currentRequest=this.currentRequest.then(function(t){return t&&t.range&&t.value?t:s?s.navigateValueSet(c,i,e.up):null}),this.currentRequest.then(function(n){if(n&&n.range&&n.value&&u.validate(e.editor)){var s=r.Range.lift(n.range),a=n.range,c=n.value.length-(i.endColumn-i.startColumn);a.endColumn=a.startColumn+n.value.length,i.endColumn+=c>1?c-1:0;var d=new l.InPlaceReplaceCommand(s,i,n.value);return e.editor.executeCommand(e.id,d),e.decorationIds=e.editor.deltaDecorations(e.decorationIds,[{range:a,options:t.DECORATION}]),e.decorationRemover.cancel(),e.decorationRemover=o.TPromise.timeout(350),e.decorationRemover.then(function(){e.editor.changeDecorations(function(t){e.decorationIds=t.deltaDecorations(e.decorationIds,[])})}),!0}})},t.DECORATION={className:"valueSetReplacement"},t=g([m(3,u.IEditorWorkerService)],t)}(s.EditorAction),p=function(e){function t(t,i,n){e.call(this,t,i,!0,n)}return h(t,e),t.ID="editor.action.inPlaceReplace.up",t=g([m(2,u.IEditorWorkerService)],t)}(d),f=function(e){function t(t,i,n){e.call(this,t,i,!1,n)}return h(t,e),t.ID="editor.action.inPlaceReplace.down",t=g([m(2,u.IEditorWorkerService)],t)}(d);c.CommonEditorRegistry.registerEditorAction(new c.EditorActionDescriptor(p,p.ID,i.localize(0,null),{context:c.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.US_COMMA},"Replace with Previous Value")),c.CommonEditorRegistry.registerEditorAction(new c.EditorActionDescriptor(f,f.ID,i.localize(1,null),{context:c.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.US_DOT},"Replace with Next Value"))}),define(l[230],d([1,0,433,13,2,396,250,40,11,26,405,401,400]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";var f=function(e){function t(t,i,n){e.call(this,t,i),this.down=n}return h(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),i=0;i<t.length;i++)e.push(new l.CopyLinesCommand(t[i],this.down));return this.editor.executeCommands(this.id,e),o.TPromise.as(!0)},t}(a.EditorAction),g=function(e){function t(t,i){e.call(this,t,i,!1)}return h(t,e),t.ID="editor.action.copyLinesUpAction",t}(f),m=function(e){function t(t,i){e.call(this,t,i,!0)}return h(t,e),t.ID="editor.action.copyLinesDownAction",t}(f),v=function(e){function t(t,i,n){e.call(this,t,i),this.down=n}return h(t,e),t.prototype.run=function(){for(var e=[],t=this.editor.getSelections(),i=0;i<t.length;i++)e.push(new p.MoveLinesCommand(t[i],this.down));return this.editor.executeCommands(this.id,e),o.TPromise.as(!0)},t}(a.EditorAction),y=function(e){function t(t,i){e.call(this,t,i,!1)}return h(t,e),t.ID="editor.action.moveLinesUpAction",t}(v),E=function(e){function t(t,i){e.call(this,t,i,!0)}return h(t,e),t.ID="editor.action.moveLinesDownAction",t}(v),S=function(e){function t(t,i,n){e.call(this,t,i),this.descending=n}return h(t,e),t.prototype.run=function(){var e=new r.SortLinesCommand(this.editor.getSelection(),this.descending);return this.editor.executeCommands(this.id,[e]),o.TPromise.as(!0)},t}(a.EditorAction),b=function(e){function t(t,i){e.call(this,t,i,!1)}return h(t,e),t.ID="editor.action.sortLinesAscending",t}(S),_=function(e){function t(t,i){e.call(this,t,i,!0)}return h(t,e),t.ID="editor.action.sortLinesDescending",t}(S),C=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=new s.TrimTrailingWhitespaceCommand(this.editor.getSelection());return this.editor.executeCommands(this.id,[e]),o.TPromise.as(!0)},t.ID="editor.action.trimTrailingWhitespace",t}(a.EditorAction);t.TrimTrailingWhitespaceAction=C;var w=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype._getLinesToRemove=function(){var e=this.editor.getSelections().map(function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});e.sort(function(e,t){return e.startLineNumber-t.startLineNumber});for(var t=[],i=e[0],n=1;n<e.length;n++)i.endLineNumber+1===e[n].startLineNumber?i.endLineNumber=e[n].endLineNumber:(t.push(i),i=e[n]);return t.push(i),t},t}(a.EditorAction),I=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=this._getLinesToRemove(),t=e.map(function(e){return new d.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});return this.editor.executeCommands(this.id,t),o.TPromise.as(!0)},t.ID="editor.action.deleteLines",t}(w),T=function(e){function t(t,i){e.call(this,t,i,c.Handler.Indent)}return h(t,e),t.ID="editor.action.indentLines",t}(a.HandlerEditorAction),A=function(e){function t(t,i){e.call(this,t,i,c.Handler.Outdent)}return h(t,e),t.ID="editor.action.outdentLines",t}(a.HandlerEditorAction),L=function(e){function t(t,i){e.call(this,t,i,c.Handler.LineInsertBefore)}return h(t,e),t.ID="editor.action.insertLineBefore",t}(a.HandlerEditorAction),D=function(e){function t(t,i){e.call(this,t,i,c.Handler.LineInsertAfter)}return h(t,e),t.ID="editor.action.insertLineAfter",t}(a.HandlerEditorAction);u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(I,I.ID,i.localize(0,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_K},"Delete Line")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(b,b.ID,i.localize(1,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_2},"Sort Lines Ascending")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(_,_.ID,i.localize(2,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_3},"Sort Lines Descending")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(C,C.ID,i.localize(3,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_X)},"Trim Trailing Whitespace")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(E,E.ID,i.localize(4,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyCode.DownArrow,linux:{primary:n.KeyMod.Alt|n.KeyCode.DownArrow}},"Move Line Down")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(y,y.ID,i.localize(5,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyCode.UpArrow,linux:{primary:n.KeyMod.Alt|n.KeyCode.UpArrow}},"Move Line Up")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(m,m.ID,i.localize(6,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.DownArrow,linux:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.DownArrow}},"Copy Line Down")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(g,g.ID,i.localize(7,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.UpArrow,linux:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyMod.Shift|n.KeyCode.UpArrow}},"Copy Line Up")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(T,T.ID,i.localize(8,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.US_CLOSE_SQUARE_BRACKET},"Indent Line")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(A,A.ID,i.localize(9,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.US_OPEN_SQUARE_BRACKET},"Outdent Line")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(L,L.ID,i.localize(10,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.Enter},"Insert Line Above")),u.CommonEditorRegistry.registerEditorAction(new u.EditorActionDescriptor(D,D.ID,i.localize(11,null),{context:u.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.Enter},"Insert Line Below"))}),define(l[705],d([1,0,434,7,13,12,33,19,2,56,18,14,40,54,11,26,37,127,330,5,61,798]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";var w=function(){function e(e,t){this.link=e,this.decorationId=t}return e.decoration=function(t){return{range:{startLineNumber:t.range.startLineNumber,startColumn:t.range.startColumn,endLineNumber:t.range.startLineNumber,endColumn:t.range.endColumn},options:e._getOptions(t,!1)}},e._getOptions=function(e,t){var i="";return i+=t?T.CLASS_NAME_ACTIVE:T.CLASS_NAME,{stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:i,hoverMessage:T.HOVER_MESSAGE_GENERAL}},e.prototype.activate=function(t){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,!0))},e.prototype.deactivate=function(t){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,!1))},e}(),I=function(){function e(e){this.range=new d.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),this.url=e.url}return e}(),T=function(){function e(e,t,i,n){var o=this;this.editor=e,this.editorService=t,this.messageService=i,this.editorWorkerService=n,this.listenersToRemove=[],this.listenersToRemove.push(e.onDidChangeModelContent(function(e){return o.onChange()})),this.listenersToRemove.push(e.onDidChangeModel(function(e){return o.onModelChanged()})),this.listenersToRemove.push(e.onDidChangeModelMode(function(e){return o.onModelModeChanged()})),this.listenersToRemove.push(this.editor.onMouseUp(function(e){return o.onEditorMouseUp(e)})),this.listenersToRemove.push(this.editor.onMouseMove(function(e){return o.onEditorMouseMove(e)})),this.listenersToRemove.push(this.editor.onKeyDown(function(e){return o.onEditorKeyDown(e)})),this.listenersToRemove.push(this.editor.onKeyUp(function(e){return o.onEditorKeyUp(e)})),this.timeoutPromise=null,this.computePromise=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.isComputing=function(){return c.TPromise.is(this.computePromise)},e.prototype.onModelChanged=function(){this.lastMouseEvent=null,this.currentOccurences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeoutPromise||(this.timeoutPromise=c.TPromise.timeout(e.RECOMPUTE_TIME),this.timeoutPromise.then(function(){t.timeoutPromise=null,t.beginCompute()}))},e.prototype.beginCompute=function(){var t=this;if(this.editor.getModel()){var i=c.TPromise.as(null);E.LinkProviderRegistry.has(this.editor.getModel())&&(i=b.getLinks(this.editor.getModel()));var n=this.editorWorkerService.computeLinks(this.editor.getModel().uri);this.computePromise=c.TPromise.join([i,n]).then(function(t){var i=t[0],n=t[1];return i&&0!==i.length?n&&0!==n.length?e._linksUnion(i.map(function(e){return new I(e)}),n.map(function(e){return new I(e)})):i||[]:n||[]}),this.computePromise.then(function(e){t.updateDecorations(e),t.computePromise=null})}},e._linksUnion=function(e,t){var i,n,o,r,s,a,c,u=[];for(i=0,o=0,n=e.length,r=t.length;i<n&&o<r;)s=e[i],a=t[o],d.Range.areIntersectingOrTouching(s.range,a.range)?i++:(c=d.Range.compareRangesUsingStarts(s.range,a.range),c<0?(u.push(s),i++):(u.push(a),o++));for(;i<n;i++)u.push(e[i]);for(;o<r;o++)u.push(t[o]);return u},e.prototype.updateDecorations=function(e){var t=this;this.editor.changeDecorations(function(i){for(var n=[],o=Object.keys(t.currentOccurences),r=0,s=o.length;r<s;r++){var a=o[r],c=t.currentOccurences[a];n.push(c.decorationId)}var u=[];if(e)for(var l=0;l<e.length;l++)u.push(w.decoration(e[l]));var d=i.deltaDecorations(n,u);t.currentOccurences={},t.activeLinkDecorationId=null;for(var h=0,s=d.length;h<s;h++){var p=new w(e[h],d[h]);t.currentOccurences[p.decorationId]=p}})},e.prototype.onEditorKeyDown=function(t){t.keyCode===e.TRIGGER_KEY_VALUE&&this.lastMouseEvent&&this.onEditorMouseMove(this.lastMouseEvent,t)},e.prototype.onEditorKeyUp=function(t){t.keyCode===e.TRIGGER_KEY_VALUE&&this.cleanUpActiveLinkDecoration()},e.prototype.onEditorMouseMove=function(e,t){var i=this;if(this.lastMouseEvent=e,this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var n=this.getLinkOccurence(e.target.position);n&&this.editor.changeDecorations(function(e){n.activate(e),i.activeLinkDecorationId=n.decorationId})}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){if(this.activeLinkDecorationId){var e=this.currentOccurences[this.activeLinkDecorationId];e&&this.editor.changeDecorations(function(t){e.deactivate(t)}),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurence(e.target.position);t&&this.openLinkOccurence(t,e.event.altKey)}},e.prototype.openLinkOccurence=function(e,t){if(this.editorService){var o=e.link,r=o.url,c=r.indexOf("#"),u=-1,l=-1;if(c>=0){var d=r.substr(c+1),h=d.split(",");h.length>0&&(u=Number(h[0])),h.length>1&&(l=Number(h[1])),(u>=0||l>=0)&&(r=r.substr(0,c))}var p;try{p=a["default"].parse(r)}catch(f){return void this.messageService.show(s["default"].Warning,i.localize(2,null,r))}var g={resource:p};u>=0&&(g.options={selection:{startLineNumber:u,startColumn:l}}),this.editorService.openEditor(g,t).done(null,n.onUnexpectedError)}},e.prototype.getLinkOccurence=function(e){for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},null,!0),i=0;i<t.length;i++){var n=t[i],o=this.currentOccurences[n.id];if(o)return o}return null},e.prototype.isEnabled=function(t,i){return t.target.type===v.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||i&&i.keyCode===e.TRIGGER_KEY_VALUE)},e.prototype.stop=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove=_.dispose(this.listenersToRemove),this.stop()},e.ID="editor.linkDetector",e.RECOMPUTE_TIME=1e3,e.TRIGGER_KEY_VALUE=r.isMacintosh?o.KeyCode.Meta:o.KeyCode.Ctrl,e.TRIGGER_MODIFIER=r.isMacintosh?"metaKey":"ctrlKey",e.HOVER_MESSAGE_GENERAL=r.isMacintosh?i.localize(0,null):i.localize(1,null),e.CLASS_NAME="detected-link",e.CLASS_NAME_ACTIVE="detected-link-active",e=g([m(1,u.IEditorService),m(2,l.IMessageService),m(3,S.IEditorWorkerService)],e)}(),A=function(e){function t(t,i){e.call(this,t,i,f.Behaviour.WidgetFocus|f.Behaviour.UpdateOnCursorPositionChange)}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getEnablementState=function(){return!!T.get(this.editor).isComputing()||!!T.get(this.editor).getLinkOccurence(this.editor.getPosition())},t.prototype.run=function(){var e=T.get(this.editor).getLinkOccurence(this.editor.getPosition());return e&&T.get(this.editor).openLinkOccurence(e,!1),c.TPromise.as(null)},t.ID="editor.action.openLink",t}(p.EditorAction);y.CommonEditorRegistry.registerEditorAction(new y.EditorActionDescriptor(A,A.ID,i.localize(3,null),(void 0),"Open Link")),C.EditorBrowserRegistry.registerEditorContribution(T)}),define(l[706],d([1,0,435,13,2,40,11,26]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i){e.call(this,t,i,s.Handler.AddCursorUp)}return h(t,e),t.ID="editor.action.insertCursorAbove",t}(r.HandlerEditorAction),u=function(e){function t(t,i){e.call(this,t,i,s.Handler.AddCursorDown)}return h(t,e),t.ID="editor.action.insertCursorBelow",t}(r.HandlerEditorAction),l=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=this.editor.getSelection();if(!e.isEmpty()){for(var t=this.editor.getModel(),i=new Array,n=e.getStartPosition(),r=e.getEndPosition(),s=n.lineNumber;s<=r.lineNumber;s++)if(s!==r.lineNumber){var a=t.getLineMaxColumn(s);i.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:s,positionColumn:a})}else r.column>0&&i.push({selectionStartLineNumber:r.lineNumber,selectionStartColumn:r.column,positionLineNumber:r.lineNumber,positionColumn:r.column});this.editor.setSelections(i)}return o.TPromise.as(!0)},t.ID="editor.action.insertCursorAtEndOfEachLineSelected",t}(r.EditorAction);a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(c,c.ID,i.localize(0,null),{context:a.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.UpArrow,linux:{primary:n.KeyMod.Shift|n.KeyMod.Alt|n.KeyCode.UpArrow,secondary:[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.UpArrow]}},"Add Cursor Above")),a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(u,u.ID,i.localize(1,null),{context:a.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Alt|n.KeyCode.DownArrow,linux:{primary:n.KeyMod.Shift|n.KeyMod.Alt|n.KeyCode.DownArrow,secondary:[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.DownArrow]}},"Add Cursor Below")),a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(l,l.ID,i.localize(2,null),{context:a.ContextKey.EditorTextFocus,primary:n.KeyMod.Shift|n.KeyMod.Alt|n.KeyCode.KEY_I},"Create Multiple Cursors from Selected Lines"))}),define(l[229],d([1,0,2,26,37,16]),function(e,t,i,n,o,r){"use strict";function s(e,t){var n=o.SignatureHelpProviderRegistry.ordered(e)[0];return n?r.asWinJsPromise(function(i){return n.provideSignatureHelp(e,t,i)}):i.TPromise.as(void 0)}t.Context={Visible:"parameterHintsVisible",MultipleSignatures:"parameterHintsMultipleSignatures"},t.provideSignatureHelp=s,n.CommonEditorRegistry.registerDefaultLanguageCommand("_executeSignatureHelpProvider",s)}),define(l[708],d([1,0,437,5,2,10,120,37,53,16,7,24,20,229,793]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var v=r.emmet,y=function(e){function t(i){var n=this;e.call(this),this._onHint=this._register(new d.Emitter),this.onHint=this._onHint.event,this._onCancel=this._register(new d.Emitter),this.onCancel=this._onCancel.event,this.editor=i,this.enabled=!1,this.triggerCharactersListeners=[],this.throttledDelayer=new u.RunOnceScheduler(function(){return n.doTrigger()},t.DELAY),this.active=!1,this._register(this.editor.onDidChangeConfiguration(function(){return n.onEditorConfigurationChange()})),this._register(this.editor.onDidChangeModel(function(e){return n.onModelChanged()})),this._register(this.editor.onDidChangeModelMode(function(e){return n.onModelChanged()})),this._register(this.editor.onDidChangeCursorSelection(function(e){return n.onCursorChange(e)})),this._register(a.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this.onEditorConfigurationChange(),this.onModelChanged()}return h(t,e),t.prototype.cancel=function(e){void 0===e&&(e=!1),this.active=!1,this.throttledDelayer.cancel(),e||this._onCancel.fire(void 0)},t.prototype.trigger=function(e){if(void 0===e&&(e=t.DELAY),this.enabled&&a.SignatureHelpProviderRegistry.has(this.editor.getModel()))return this.cancel(!0),this.throttledDelayer.schedule(e)},t.prototype.doTrigger=function(){var e=this;f.provideSignatureHelp(this.editor.getModel(),this.editor.getPosition()).then(null,l.onUnexpectedError).then(function(t){if(!t||0===t.signatures.length)return e.cancel(),e._onCancel.fire(void 0),!1;e.active=!0;var i={hints:t};return e._onHint.fire(i),!0})},t.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isScheduled()},t.prototype.onModelChanged=function(){var e=this;this.active&&this.cancel(),this.triggerCharactersListeners=n.dispose(this.triggerCharactersListeners);var t=this.editor.getModel();if(t){var i=a.SignatureHelpProviderRegistry.ordered(t)[0];i&&(this.triggerCharactersListeners=i.signatureHelpTriggerCharacters.map(function(t){return e.editor.addTypingListener(t,function(){e.trigger()})}))}},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered()&&this.trigger()},t.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints,this.enabled||this.cancel()},t.prototype.dispose=function(){this.cancel(!0),this.triggerCharactersListeners=n.dispose(this.triggerCharactersListeners),e.prototype.dispose.call(this)},t.DELAY=120,t}(n.Disposable);t.ParameterHintsModel=y;var E=function(){function e(e,t){var i=this;this.editor=e,this.allowEditorOverflow=!0,this.model=new y(e),this.keyVisible=t.createKey(f.Context.Visible,!1),this.keyMultipleSignatures=t.createKey(f.Context.MultipleSignatures,!1),this.visible=!1,this.disposables=[],this.disposables.push(this.model.onHint(function(e){i.show(),i.parameterHints=e.hints,i.render(e.hints),i.currentSignature=e.hints.activeSignature,i.select(i.currentSignature)})),this.disposables.push(this.model.onCancel(function(){i.hide()})),this.element=v(".editor-widget.parameter-hints-widget"),this.disposables.push(r.addDisposableListener(this.element,"click",function(){i.next(),i.editor.focus()}));var n=r.append(this.element,v(".wrapper.monaco-editor-background")),o=r.append(n,v(".buttons")),s=r.append(o,v(".button.previous")),a=r.append(o,v(".button.next"));this.disposables.push(r.addDisposableListener(s,"click",function(e){e.preventDefault(),e.stopPropagation(),i.previous()})),this.disposables.push(r.addDisposableListener(a,"click",function(e){e.preventDefault(),e.stopPropagation(),i.next()})),this.overloads=r.append(n,v(".overloads")),this.signatures=r.append(n,v(".signatures")),this.signatureViews=[],this.currentSignature=0,this.editor.addContentWidget(this),this.hide(),this.disposables.push(this.editor.onDidChangeCursorSelection(function(e){i.visible&&i.editor.layoutContentWidget(i)}))}return e.prototype.show=function(){var e=this;this.model&&!this.visible&&(this.keyVisible.set(!0),this.visible=!0,o.TPromise.timeout(100).done(function(){return r.addClass(e.element,"visible")}),this.editor.layoutContentWidget(this))},e.prototype.hide=function(){this.model&&this.visible&&(this.keyVisible.reset(),this.visible=!1,this.parameterHints=null,this.announcedLabel=null,r.removeClass(this.element,"visible"),this.editor.layoutContentWidget(this))},e.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[c.ContentWidgetPositionPreference.ABOVE,c.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.render=function(e){e.signatures.length>1?r.addClass(this.element,"multiple"):r.removeClass(this.element,"multiple"),this.signatures.innerHTML="",this.signatureViews=[];for(var t=0,i=0,n=e.signatures.length;i<n;i++){var o=e.signatures[i],s=this.renderSignature(this.signatures,o,e.activeParameter);this.renderDocumentation(s,o,e.activeParameter);var a=r.getContentHeight(s);this.signatureViews.push({top:t,height:a}),t+=a}this.keyMultipleSignatures.set(this.signatureViews.length>1)},e.prototype.applyFont=function(e){var t=this.editor.getConfiguration().fontInfo;e.style.fontFamily=t.fontFamily},e.prototype.renderSignature=function(e,t,i){var n=r.append(e,v(".signature")),o=r.append(n,v(".code")),s=t.parameters.length>0;if(this.applyFont(o),!s){var a=r.append(o,v("span"));return a.textContent=t.label,o}for(var c=v("span.parameters"),u=0,l=0,d=0,h=t.parameters.length;d<h;d++){var p=t.parameters[d];l=t.label.indexOf(p.label,l);var f=0,g=0;l>=0&&(f=l,l+=p.label.length,g=l);var m=0===d?o:c,y=v("span");y.textContent=t.label.substring(u,f),r.append(m,y);var E=v("span.parameter");r.addClass(E,d===i?"active":""),E.textContent=t.label.substring(f,g),r.append(c,E),u=g}var S=v("span");return S.textContent=t.label.substring(u),r.append(o,c),r.append(o,S),n},e.prototype.renderDocumentation=function(e,t,i){if(t.documentation){var n=v(".documentation");n.textContent=t.documentation,r.append(e,n)}var o=t.parameters[i];if(o&&o.documentation){var s=v(".documentation-parameter"),a=v("span.parameter");this.applyFont(a),a.textContent=o.label;var n=v("span.documentation");n.textContent=o.documentation,r.append(s,a),r.append(s,n),r.append(e,s)}},e.prototype.select=function(e){var t=this.signatureViews[e];if(t){this.signatures.style.height=t.height+"px",this.signatures.scrollTop=t.top;var n=""+(e+1);if(this.signatureViews.length<10&&(n+="/"+this.signatureViews.length),this.overloads.textContent=n,this.parameterHints&&this.parameterHints.signatures[e].parameters[this.parameterHints.activeParameter]){var o=this.parameterHints.signatures[e].parameters[this.parameterHints.activeParameter].label;this.announcedLabel!==o&&(s.alert(i.localize(0,null,o)),this.announcedLabel=o)}this.editor.layoutContentWidget(this)}},e.prototype.next=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature=(this.currentSignature+1)%this.signatureViews.length,this.select(this.currentSignature),!0)},e.prototype.previous=function(){return this.signatureViews.length<2?(this.cancel(),!1):(this.currentSignature--,this.currentSignature<0&&(this.currentSignature=this.signatureViews.length-1),this.select(this.currentSignature),!0)},e.prototype.cancel=function(){this.model.cancel()},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.trigger=function(){this.model.trigger(0)},e.prototype.dispose=function(){this.disposables=n.dispose(this.disposables),this.model=null},e.ID="editor.widget.parameterHintsWidget",e=g([m(1,p.IKeybindingService)],e)}();t.ParameterHintsWidget=E}),define(l[709],d([1,0,436,13,2,5,6,40,11,20,62,170,26,61,37,708,229]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";function S(e,t){return function(i){return d.withCodeEditorFromCommandHandler(e,i,function(e){t(b.get(e))})}}var b=function(){function e(e,t){this.editor=e,this.widget=t.createInstance(y.ParameterHintsWidget,this.editor)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.cancel=function(){this.widget.cancel()},e.prototype.previous=function(){this.widget.previous()},e.prototype.next=function(){this.widget.next()},e.prototype.trigger=function(){this.widget.trigger()},e.prototype.dispose=function(){this.widget=r.dispose(this.widget)},e.ID="editor.controller.parameterHints",e=g([m(1,s.IInstantiationService)],e)}(),_=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.isSupported=function(){return v.SignatureHelpProviderRegistry.has(this.editor.getModel())&&e.prototype.isSupported.call(this)},t.prototype.run=function(){return b.get(this.editor).trigger(),o.TPromise.as(!0)},t.ID="editor.action.triggerParameterHints",t}(a.EditorAction);t.TriggerParameterHintsAction=_;var C=p.CommonEditorRegistry.commandWeight(75);f.EditorBrowserRegistry.registerEditorContribution(b),p.CommonEditorRegistry.registerEditorAction(new p.EditorActionDescriptor(_,_.ID,i.localize(0,null),{context:p.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.Space},"Trigger Parameter Hints")),l.KeybindingsRegistry.registerCommandDesc({id:"closeParameterHints",handler:S("closeParameterHints",function(e){return e.cancel()}),weight:C,when:u.KbExpr.and(u.KbExpr.has(c.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),u.KbExpr.has(E.Context.Visible)),primary:n.KeyCode.Escape,secondary:[n.KeyMod.Shift|n.KeyCode.Escape]}),l.KeybindingsRegistry.registerCommandDesc({id:"showPrevParameterHint",handler:S("showPrevParameterHint",function(e){return e.previous()}),weight:C,when:u.KbExpr.and(u.KbExpr.has(c.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),u.KbExpr.has(E.Context.Visible),u.KbExpr.has(E.Context.MultipleSignatures)),primary:n.KeyCode.UpArrow,secondary:[n.KeyMod.Alt|n.KeyCode.UpArrow]}),l.KeybindingsRegistry.registerCommandDesc({id:"showNextParameterHint",handler:S("showNextParameterHint",function(e){return e.next()}),weight:C,when:u.KbExpr.and(u.KbExpr.has(c.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),u.KbExpr.has(E.Context.Visible),u.KbExpr.has(E.Context.MultipleSignatures)),primary:n.KeyCode.DownArrow,secondary:[n.KeyMod.Alt|n.KeyCode.DownArrow]})}),define(l[228],d([1,0,7,19,2,114,14,26,37,38,16]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e,t){var n=[],s=new r.IdGenerator("quickfix"),a=c.CodeActionProviderRegistry.all(e).map(function(o){return l.asWinJsPromise(function(i){return o.provideCodeActions(e,t,i)}).then(function(e){if(Array.isArray(e))for(var t=0,i=e;t<i.length;t++){var r=i[t];n.push({command:r.command,score:r.score,id:s.nextId(),support:o})}},function(e){i.onUnexpectedError(e)})});return o.TPromise.join(a).then(function(){return n})}t.getCodeActions=d,a.CommonEditorRegistry.registerLanguageCommand("_executeCodeActionProvider",function(e,t){var o=t.resource,r=t.range;if(!(o instanceof n["default"]&&s.Range.isIRange(r)))throw i.illegalArgument();var a=e.get(u.IModelService).getModel(o);if(!a)throw i.illegalArgument();var c=s.Range.lift(r);return d(a,c)})}),define(l[711],d([1,0,428,7,24,13,5,33,9,2,10,134,20,118,21,48,14,40,54,26,61,187,228,820]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I){"use strict";var T=function(){function e(e,t){var i=this;this._editor=e,this._markers=null,this._nextIdx=-1,this._toUnbind=[],this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new o.Emitter,this._onMarkerSetChanged=new o.Emitter,this.setMarkers(t),this._toUnbind.push(this._editor.onDidDispose(function(){return i.dispose()})),this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){i._ignoreSelectionChange||(i._nextIdx=-1)}))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){this._markers=e||[],this._markers.sort(function(e,t){return a["default"].compare(e.severity,t.severity)||E.Range.compareRangesUsingStarts(e,t)}),this._nextIdx=-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype.initIdx=function(e){for(var t=!1,i=this._editor.getPosition(),n=0,o=this._markers.length;n<o&&!t;n++){var r={lineNumber:this._markers[n].startLineNumber,column:this._markers[n].startColumn};i.isBeforeOrEqual(r)&&(this._nextIdx=n+(e?0:-1),
t=!0)}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},e.prototype.move=function(e){if(!this.canNavigate())return void this._onCurrentMarkerChanged.fire(void 0);this._nextIdx===-1?this.initIdx(e):e?(this._nextIdx+=1,this._nextIdx>=this._markers.length&&(this._nextIdx=0)):(this._nextIdx-=1,this._nextIdx<0&&(this._nextIdx=this._markers.length-1));var t=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(t)},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.next=function(){this.move(!0)},e.prototype.previous=function(){this.move(!1)},e.prototype.goTo=function(e){for(var t=0;t<this._markers.length;t++){var i=this._markers[t];if(i.startLineNumber<=e.lineNumber&&i.endLineNumber>=e.lineNumber&&i.startColumn<=e.column&&i.endColumn>=e.column)return void this._onCurrentMarkerChanged.fire(i)}return null},Object.defineProperty(e.prototype,"stats",{get:function(){for(var e=0,t=0,i=0,n=this._markers;i<n.length;i++){var o=n[i];o.severity===a["default"].Error?e+=1:t+=1}return{errors:e,others:t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.reveal=function(){var e=this;this._nextIdx!==-1&&this.withoutWatchingEditorPosition(function(){var t=new y.Position(e._markers[e._nextIdx].startLineNumber,e._markers[e._nextIdx].startColumn);e._editor.setPosition(t),e._editor.revealPositionInCenter(t)})},e.prototype.dispose=function(){this._toUnbind=s.dispose(this._toUnbind)},e}(),A=function(){function e(e,t){var i=this;this._keybindingService=t,this._disposeOnUpdate=[],this.domNode=document.createElement("div"),e.appendChild(this.domNode),this._listener=l.addStandardDisposableListener(e,"keydown",function(e){switch(e.asKeybinding()){case r.CommonKeybindings.LEFT_ARROW:i._move(!0),e.preventDefault(),e.stopPropagation();break;case r.CommonKeybindings.RIGHT_ARROW:i._move(!1),e.preventDefault(),e.stopPropagation()}})}return e.prototype.dispose=function(){this._disposeOnUpdate=s.dispose(this._disposeOnUpdate),this._listener=s.dispose(this._listener)},e.prototype.update=function(e){var t=this;return this._disposeOnUpdate=s.dispose(this._disposeOnUpdate),this.domNode.style.display="none",e.then(function(e){return t._doUpdate(e)},n.onUnexpectedError)},e.prototype._doUpdate=function(e){var t=this;if(l.clearNode(this.domNode),e&&0!==e.length){var n=document.createElement("span");n.className="quickfixhead",n.appendChild(document.createTextNode(e.length>1?i.localize(0,null):i.localize(1,null))),this.domNode.appendChild(n);var o=document.createElement("span");o.className="quickfixcontainer",e.forEach(function(e,i,n){if(i>0){var s=document.createElement("span");s.appendChild(document.createTextNode(", ")),o.appendChild(s)}var a=document.createElement("a");a.tabIndex=0,a.className="quickfixentry",a.dataset.idx=String(i),a.dataset.next=String(i<n.length-1?i+1:0),a.dataset.prev=String(i>0?i-1:n.length-1),a.appendChild(document.createTextNode(e.command.title)),t._disposeOnUpdate.push(l.addDisposableListener(a,l.EventType.CLICK,function(){return(i=t._keybindingService).executeCommand.apply(i,[e.command.id].concat(e.command.arguments)),!0;var i})),t._disposeOnUpdate.push(l.addStandardDisposableListener(a,"keydown",function(i){switch(i.asKeybinding()){case r.CommonKeybindings.ENTER:case r.CommonKeybindings.SPACE:(n=t._keybindingService).executeCommand.apply(n,[e.command.id].concat(e.command.arguments)),i.preventDefault(),i.stopPropagation()}var n})),o.appendChild(a)}),this.domNode.appendChild(o),this.domNode.style.display=""}},e.prototype._move=function(e){var t;if(document.activeElement.classList.contains("quickfixentry")){var i=document.activeElement,n=e?i.dataset.prev:i.dataset.next;t=this.domNode.querySelector("a[data-idx='"+n+"']")}else t=this.domNode.querySelector(".quickfixentry");t.focus()},e=g([m(1,p.IKeybindingService)],e)}(),L=function(e){function t(t,i,n){e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0}),this._model=i,this._keybindingService=n,this._callOnDispose=[],this.create(),this._wireModelAndView()}return h(t,e),t.prototype._fillContainer=function(e){this._container=e,l.addClass(this._container,"marker-widget"),this._container.tabIndex=0,this._container.setAttribute("role","tooltip"),this._title=document.createElement("div"),this._title.className="block title",this._container.appendChild(this._title),this._messages=document.createElement("div"),this.editor.applyFontInfo(this._messages),this._messages.className="block descriptioncontainer",this._messages.setAttribute("aria-live","assertive"),this._messages.setAttribute("role","alert"),this._container.appendChild(this._messages),this._fixesWidget=new A(this._container,this._keybindingService),this._fixesWidget.domNode.classList.add("fixes"),this._callOnDispose.push(this._fixesWidget)},t.prototype.show=function(t,i){e.prototype.show.call(this,t,i),this._container.focus()},t.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged(this.showAtMarker,this,this._callOnDispose)},t.prototype.showAtMarker=function(e){var t=this;if(e){switch(e.severity){case a["default"].Error:this.options.frameColor="#ff5a5a";break;case a["default"].Warning:case a["default"].Info:this.options.frameColor="#5aac5a"}e.source?this._title.innerHTML=i.localize(2,null,this._model.indexOf(e),this._model.total,e.source):this._title.innerHTML=i.localize(3,null,this._model.indexOf(e),this._model.total),l.clearNode(this._messages),this._messages.appendChild(d.renderHtml(e.message));var n=E.Range.lift(e),o=c.computeLineStarts(e.message).length;this._model.withoutWatchingEditorPosition(function(){return t.show(n.getStartPosition(),o)}),this._fixesWidget.update(I.getCodeActions(this.editor.getModel(),n)).then(function(){return t.show(n.getStartPosition(),o+2)})}},t.prototype.dispose=function(){this._callOnDispose=s.dispose(this._callOnDispose),e.prototype.dispose.call(this)},t}(w.ZoneWidget),D=function(e){function t(t,i,n,o){e.call(this,t,i,b.Behaviour.WidgetFocus|b.Behaviour.Writeable|b.Behaviour.UpdateOnModelChange),this.telemetryService=o,this._isNext=n}return h(t,e),t.prototype.run=function(){var e=k.getMarkerController(this.editor).getOrCreateModel();return this.telemetryService.publicLog("zoneWidgetShown",{mode:"go to error"}),e&&(this._isNext?e.next():e.previous(),e.reveal()),u.TPromise.as(!0)},t=g([m(3,v.ITelemetryService)],t)}(S.EditorAction),k=function(){function e(e,t,i){this._markerService=t,this._keybindingService=i,this._callOnClose=[],this._editor=e,this._markersNavigationVisible=this._keybindingService.createKey(R,!1)}return e.getMarkerController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._cleanUp()},e.prototype._cleanUp=function(){this._markersNavigationVisible.reset(),this._callOnClose=s.dispose(this._callOnClose),this._zone=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();return this._model=new T(this._editor,t),this._zone=new L(this._editor,this._model,this._keybindingService),this._markersNavigationVisible.set(!0),this._callOnClose.push(this._model),this._callOnClose.push(this._zone),this._callOnClose.push(this._editor.onDidChangeModel(function(){return e._cleanUp()})),this._model.onCurrentMarkerChanged(function(t){return!t&&e._cleanUp()},void 0,this._callOnClose),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._callOnClose),this._model},e.prototype.closeMarkersNavigation=function(){this._cleanUp(),this._editor.focus()},e.prototype._onMarkerChanged=function(e){var t=this;e.some(function(e){return t._editor.getModel().uri.toString()===e.toString()})&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){var e=this._editor.getModel().uri,t=this._markerService.read({resource:e});return t},e.ID="editor.contrib.markerController",e=g([m(1,f.IMarkerService),m(2,p.IKeybindingService)],e)}(),x=function(e){function t(t,i,n){e.call(this,t,i,!0,n)}return h(t,e),t.ID="editor.action.marker.next",t=g([m(2,v.ITelemetryService)],t)}(D),M=function(e){function t(t,i,n){e.call(this,t,i,!1,n)}return h(t,e),t.ID="editor.action.marker.prev",t=g([m(2,v.ITelemetryService)],t)}(D),R="markersNavigationVisible";_.CommonEditorRegistry.registerEditorAction(new _.EditorActionDescriptor(x,x.ID,i.localize(4,null),{context:_.ContextKey.EditorFocus,primary:r.KeyCode.F8},"Go to Next Error or Warning")),_.CommonEditorRegistry.registerEditorAction(new _.EditorActionDescriptor(M,M.ID,i.localize(5,null),{context:_.ContextKey.EditorFocus,primary:r.KeyMod.Shift|r.KeyCode.F8},"Go to Previous Error or Warning")),_.CommonEditorRegistry.registerEditorCommand("closeMarkersNavigation",_.CommonEditorRegistry.commandWeight(50),{primary:r.KeyCode.Escape,secondary:[r.KeyMod.Shift|r.KeyCode.Escape]},!1,R,function(e,t,i){var n=k.getMarkerController(t);n.closeMarkersNavigation()}),C.EditorBrowserRegistry.registerEditorContribution(k)}),define(l[712],d([1,0,41,16,7,36,5,75,2,14,37,228,379]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";var f;!function(e){e[e.NOT_ACTIVE=0]="NOT_ACTIVE",e[e.MANUAL_TRIGGER=1]="MANUAL_TRIGGER",e[e.AUTO_TRIGGER=2]="AUTO_TRIGGER"}(f||(f={}));var g=function(e){function t(t,i,n){var o=this;e.call(this),this.editor=t,this.markerService=i,this.onAccept=n,this.quickFixRequestPromise=null,this.lightBulpDecoration=[],this.toDispose=[],this.toLocalDispose=[],this.lightBulp=new p.LightBulpWidget(t,function(e){o.onLightBulpClicked(e)}),this.enableAutoQuckFix=!1,this.autoSuggestDelay=this.editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay>2e3||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=300),this.toDispose.push(this.editor.onDidChangeModel(function(){return o.onModelChanged()})),this.toDispose.push(this.editor.onDidChangeModelMode(function(){return o.onModelChanged()})),this.toDispose.push(l.CodeActionProviderRegistry.onDidChange(this.onModelChanged,this))}return h(t,e),t.prototype.onModelChanged=function(){var e=this;return this.cancelDialog(),this.localDispose(),this.lastMarker=null,this.lightBulpPosition=null,this.markers=null,this.updateScheduler=null,!l.CodeActionProviderRegistry.has(this.editor.getModel())||this.editor.getConfiguration().readOnly?void this.setDecoration(null):(this.markerService.onMarkerChanged(this.onMarkerChanged,this,this.toLocalDispose),void this.toLocalDispose.push(this.editor.onDidChangeCursorPosition(function(t){e.onCursorPositionChanged()})))},t.prototype.onLightBulpClicked=function(e){this.triggerDialog(!0,e)},t.prototype.isSimilarMarker=function(e,t){return e?t&&e.owner===t.owner&&e.code===t.code:!t},t.prototype.onMarkerChanged=function(e){var t=this.editor.getModel();if(t){var i=t.uri;if(e.some(function(e){return i.toString()===e.toString()})){var n=this.lastMarker;this.markers=null,this.lastMarker=null;var o=this.findMarker(this.editor.getPosition(),!1);this.isSimilarMarker(o,n)?this.lastMarker=o:this.onCursorPositionChanged()}}},t.prototype.setDecoration=function(e){this.lightBulpPosition=e,this.updateDecoration()},t.prototype.updateDecoration=function(){this.lightBulpPosition&&this.state===f.NOT_ACTIVE?this.lightBulp.show(this.lightBulpPosition):this.lightBulp.hide()},t.prototype.onCursorPositionChanged=function(){var e=this;this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.cancelDialog(),this.updateScheduler||(this.updateScheduler=new n.RunOnceScheduler(function(){var t=e.lastMarker,n=e.editor.getPosition();if(t&&u.Range.containsPosition(t,n))return void(e.lightBulpPosition&&e.setDecoration(n));if(e.lastMarker=t=e.findMarker(n,!1),!t)return void e.setDecoration(null);var r=a.start(a.Topic.EDITOR,"quickfix/lighbulp"),s=e.computeFixes(t);s.done(function(o){e.setDecoration(i.isFalsyOrEmpty(o)?null:n),e.triggerAutoSuggest(t),r.stop()},function(t){o.onUnexpectedError(t),e.setDecoration(null),r.stop()})},250),this.toLocalDispose.push(this.updateScheduler)),this.updateScheduler.schedule()},t.prototype.computeFixes=function(e){var t=this.editor.getModel();return l.CodeActionProviderRegistry.has(t)?this.quickFixRequestPromise&&e===this.quickFixRequestPromiseRange?this.quickFixRequestPromise:(this.quickFixRequestPromise&&(this.quickFixRequestPromise.cancel(),this.quickFixRequestPromise=null),this.quickFixRequestPromiseRange=e,this.quickFixRequestPromise=d.getCodeActions(t,u.Range.lift(e)),this.quickFixRequestPromise):c.TPromise.as(null)},t.prototype.getMarkers=function(){if(null!==this.markers)return this.markers;var e=this.editor.getModel();if(e)return this.markers=this.markerService.read({resource:e.uri}).sort(function(e,t){return e.startLineNumber-t.startLineNumber}),this.markers},t.prototype.findMarker=function(e,t){if(this.lastMarker&&u.Range.containsPosition(this.lastMarker,e))return this.lastMarker;for(var n=this.getMarkers(),o=null,r=0,s=e.lineNumber,a=i.findFirst(n,function(e){return e.startLineNumber>=s});a<n.length&&n[a].startLineNumber===s;){var c=n[a];if(c.startColumn<=e.column&&c.endColumn>=e.column)return c;if(t){var l=e.column<c.startColumn?c.startColumn-e.column:e.column-c.endColumn;(!o||l<r)&&(o=c,r=l)}a++}return o},t.prototype.cancelDialog=function(e){return void 0===e&&(e=!1),this.state!==f.NOT_ACTIVE&&(this.state=f.NOT_ACTIVE,e||this.emit("cancel"),this.updateDecoration(),!0)},t.prototype.isAutoSuggest=function(){return this.state===f.AUTO_TRIGGER},t.prototype.triggerAutoSuggest=function(e){var t=this;this.enableAutoQuckFix&&this.state===f.NOT_ACTIVE&&(this.triggerAutoSuggestPromise=c.TPromise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){t.triggerAutoSuggestPromise=null,e===t.lastMarker&&t.triggerDialog(!0,t.editor.getPosition())}))},t.prototype.triggerDialog=function(e,t){var i=this;this.cancelDialog(!1);var n;if(e){if(n=this.findMarker(t,!0),!n)return}else n=this.findMarker(t,!0),n||(n=this.editor.getSelection()),u.Range.containsPosition(n,t)||this.editor.setPosition({lineNumber:n.startLineNumber,column:n.startColumn});var r=a.start(a.Topic.EDITOR,"quickfix/triggerdialog");this.state=e?f.AUTO_TRIGGER:f.MANUAL_TRIGGER,this.updateDecoration(),this.emit("loading",{auto:this.isAutoSuggest()}),this.computeFixes(n).done(function(e){e&&e.length>0?(e.sort(function(e,t){return t.score-e.score}),i.emit("suggest",{fixes:e,range:n,auto:i.isAutoSuggest()})):i.emit("empty",{auto:i.isAutoSuggest()}),r.stop()},function(e){o.onUnexpectedError(e),i.emit("empty",{auto:i.isAutoSuggest()}),r.stop()})},t.prototype.accept=function(e,t){return this.cancelDialog(),!!e&&(this.onAccept(e,t),!0)},t.prototype.localDispose=function(){this.toLocalDispose=s.dispose(this.toLocalDispose),this.quickFixRequestPromise&&(this.quickFixRequestPromise.cancel(),this.quickFixRequestPromise=null)},t.prototype.dispose=function(){this.localDispose(),this.toDispose=s.dispose(this.toDispose),this.emit("destroy",null)},t}(r.EventEmitter);t.QuickFixModel=g}),define(l[713],d([1,0,438,7,13,2,56,20,118,18,21,40,26,37,61,712,440]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(){function e(e,t,i,n,o,r){var s=this;this._markerService=t,this._keybindingService=i,this.editor=e,this.model=new y.QuickFixModel(this.editor,this._markerService,this.onAccept.bind(this)),this.quickFixWidgetVisible=this._keybindingService.createKey(_,!1),this.suggestWidget=new E.QuickFixSelectionWidget(this.editor,n,function(){s.quickFixWidgetVisible.set(!0)},function(){s.quickFixWidgetVisible.reset()}),this.suggestWidget.setModel(this.model)}return e.getQuickFixController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.onAccept=function(e,t){var i=this.editor.getModel();if(i){var o=e.command;return(r=this._keybindingService).executeCommand.apply(r,[o.id].concat(o.arguments)).done(void 0,n.onUnexpectedError)}var r},e.prototype.run=function(){return this.model.triggerDialog(!1,this.editor.getPosition()),this.editor.focus(),r.TPromise.as(!1)},e.prototype.dispose=function(){this.suggestWidget&&(this.suggestWidget.destroy(),this.suggestWidget=null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.acceptSelectedSuggestion=function(){this.suggestWidget&&this.suggestWidget.acceptSelectedSuggestion()},e.prototype.closeWidget=function(){this.model&&this.model.cancelDialog()},e.prototype.selectNextSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectNextPage()},e.prototype.selectPrevSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.suggestWidget&&this.suggestWidget.selectPreviousPage()},e.ID="editor.contrib.quickFixController",e=g([m(1,c.IMarkerService),m(2,a.IKeybindingService),m(3,l.ITelemetryService),m(4,s.IEditorService),m(5,u.IMessageService)],e)}();t.QuickFixController=S;var b=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.isSupported=function(){var e=this.editor.getModel();return f.CodeActionProviderRegistry.has(e)&&!this.editor.getConfiguration().readOnly},t.prototype.run=function(){return S.getQuickFixController(this.editor).run()},t.ID="editor.action.quickFix",t}(d.EditorAction);t.QuickFixAction=b;var _="quickFixWidgetVisible",C=p.CommonEditorRegistry.commandWeight(80);p.CommonEditorRegistry.registerEditorAction(new p.EditorActionDescriptor(b,b.ID,i.localize(0,null),{context:p.ContextKey.EditorTextFocus,primary:o.KeyMod.CtrlCmd|o.KeyCode.US_DOT},"Quick Fix")),p.CommonEditorRegistry.registerEditorCommand("acceptQuickFixSuggestion",C,{primary:o.KeyCode.Enter,secondary:[o.KeyCode.Tab]},!1,_,function(e,t,i){var n=S.getQuickFixController(t);n.acceptSelectedSuggestion()}),p.CommonEditorRegistry.registerEditorCommand("closeQuickFixWidget",C,{primary:o.KeyCode.Escape,secondary:[o.KeyMod.Shift|o.KeyCode.Escape]},!1,_,function(e,t,i){var n=S.getQuickFixController(t);n.closeWidget()}),p.CommonEditorRegistry.registerEditorCommand("selectNextQuickFix",C,{primary:o.KeyCode.DownArrow},!1,_,function(e,t,i){var n=S.getQuickFixController(t);n.selectNextSuggestion()}),p.CommonEditorRegistry.registerEditorCommand("selectNextPageQuickFix",C,{primary:o.KeyCode.PageDown},!1,_,function(e,t,i){var n=S.getQuickFixController(t);n.selectNextPageSuggestion()}),p.CommonEditorRegistry.registerEditorCommand("selectPrevQuickFix",C,{primary:o.KeyCode.UpArrow},!1,_,function(e,t,i){var n=S.getQuickFixController(t);n.selectPrevSuggestion()}),p.CommonEditorRegistry.registerEditorCommand("selectPrevPageQuickFix",C,{primary:o.KeyCode.PageUp},!1,_,function(e,t,i){var n=S.getQuickFixController(t);n.selectPrevPageSuggestion()}),v.EditorBrowserRegistry.registerEditorContribution(S)}),define(l[322],d([1,0,7,19,2,14,26,37,38,16]),function(e,t,i,n,o,r,s,a,c,u){"use strict";function l(e){var t=[],n=a.DocumentSymbolProviderRegistry.all(e).map(function(n){return u.asWinJsPromise(function(t){return n.provideDocumentSymbols(e,t)}).then(function(e){Array.isArray(e)&&t.push.apply(t,e)},function(e){i.onUnexpectedError(e)})});return o.TPromise.join(n).then(function(){var e=[];return h(e,t,""),e.sort(d),{entries:e}})}function d(e,t){return r.Range.compareRangesUsingStarts(r.Range.lift(e.location.range),r.Range.lift(t.location.range))}function h(e,t,i){for(var n=0,o=t;n<o.length;n++){var r=o[n];e.push({kind:r.kind,location:r.location,name:r.name,containerName:r.containerName||i})}}t.getDocumentSymbols=l,s.CommonEditorRegistry.registerLanguageCommand("_executeDocumentSymbolProvider",function(e,t){var o=t.resource;if(!(o instanceof n["default"]))throw i.illegalArgument("resource");var r=e.get(c.IModelService).getModel(o);if(!r)throw i.illegalArgument("resource");return l(r)})}),define(l[715],d([1,0,16,7,5,14,37,61,322,794]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(e,t){this.afterLineNumber=e.startLineNumber-1,this.heightInPx=4,this.suppressMouseDown=!0,this.domNode=document.createElement("div");var i=document.createElement("hr");i.className="outlineRule "+s.SymbolKind.from(t),this.domNode.appendChild(i)}return e}(),l=function(){function e(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return e.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},e.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])},e}(),d=function(){function e(e,t,i,n,o){var r=this;this._editor=i,this._viewZone=new u(e,t),this._viewZoneId=o.addZone(this._viewZone),n.addDecoration({range:e,options:{}},function(e){r._decorationId=e})}return e.prototype.dispose=function(e,t){e.removeDecoration(this._decorationId),t.removeZone(this._viewZoneId)},e.prototype.getLine=function(){return this._viewZone.afterLineNumber},e.prototype.update=function(e){var t=this._editor.getModel().getDecorationRange(this._decorationId);this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId)},e}(),h=function(){function e(e){var t=this;this._editor=e,this._isEnabled=this._editor.getConfiguration().contribInfo.outlineMarkers,this._globalToDispose=[],this._localToDispose=[],this._markers=[],this._currentOutlinePromise=null,this._globalToDispose.push(this._editor.onDidChangeModel(function(){return t.onChange(!0)})),this._globalToDispose.push(this._editor.onDidChangeModelMode(function(){return t.onChange(!1)})),this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(e){var i=t._isEnabled;t._isEnabled=t._editor.getConfiguration().contribInfo.outlineMarkers,i!==t._isEnabled&&t.onChange(!1)})),this.onChange(!1)}return e.prototype.dispose=function(){this.localDispose(),this._globalToDispose=o.dispose(this._globalToDispose)},e.prototype.localDispose=function(){this._currentOutlinePromise&&this._currentOutlinePromise.cancel(),this._localToDispose=o.dispose(this._localToDispose)},e.prototype.getId=function(){return e.ID},e.prototype.onChange=function(e){var t=this;if(e&&(this._markers=[]),this.localDispose(),this._isEnabled){var o=this._editor.getModel();if(o&&s.DocumentSymbolProviderRegistry.has(o)){var r=new i.RunOnceScheduler(function(){t._currentOutlinePromise&&t._currentOutlinePromise.cancel(),t._currentOutlinePromise=c.getDocumentSymbols(o),t._currentOutlinePromise.then(function(e){t.renderOutlines(e.entries)},function(e){n.onUnexpectedError(e)})},250);this._localToDispose.push(r),this._localToDispose.push(this._editor.onDidChangeModelContent(function(){t._editor.changeViewZones(function(e){t._markers.forEach(function(t){t.update(e)})}),r.schedule()})),this._localToDispose.push({dispose:function(){if(t._markers.length>0){var e=new l;t._editor.changeViewZones(function(i){t._markers.forEach(function(t){return t.dispose(e,i)}),t._markers=[]}),t._editor.changeDecorations(function(t){e.commit(t)})}}}),r.schedule()}}},e.prototype.renderOutlines=function(e){var t=this,i=this._editor.getCenteredRangeInViewport(),n=this._markers.length;this._editor.changeDecorations(function(i){var n=new l;t._editor.changeViewZones(function(i){t._markers.forEach(function(e){return e.dispose(n,i)}),t._markers=[],t.renderOutlinesRecursive(e,n,i)}),n.commit(i)});var o=this._markers.length;Math.abs(n-o)>1&&this._editor.revealRangeInCenter(i)},e.prototype.renderOutlinesRecursive=function(e,t,i){var n=this;e&&e.forEach(function(e){if(e.kind===s.SymbolKind.Class||e.kind===s.SymbolKind.Method||e.kind===s.SymbolKind.Function){var o=r.Range.lift(e.location.range);if(!n.alreadyHasMarkerAtRange(o)){var a=new d(o,e.kind,n._editor,t,i);n._markers.push(a)}}})},e.prototype.alreadyHasMarkerAtRange=function(e){for(var t=0;t<this._markers.length;++t)if(this._markers[t].getLine()===e.startLineNumber-1)return!0;return!1},e.ID="editor.outlineMarker",e}();t.OutlineMarkerContribution=h,a.EditorBrowserRegistry.registerEditorContribution(h)}),define(l[716],d([1,0,7,2,26,37,16]),function(e,t,i,n,o,r,s){"use strict";function a(e,t){var o=r.ReferenceProviderRegistry.ordered(e).map(function(n){return s.asWinJsPromise(function(i){return n.provideReferences(e,t,{includeDeclaration:!0},i)}).then(function(e){if(Array.isArray(e))return e},function(e){i.onUnexpectedError(e)})});return n.TPromise.join(o).then(function(e){for(var t=[],i=0,n=e;i<n.length;i++){var o=n[i];o&&t.push.apply(t,o)}return t})}t.provideReferences=a,o.CommonEditorRegistry.registerDefaultLanguageCommand("_executeReferenceProvider",a)}),define(l[717],d([1,0,447,16,7,26,37]),function(e,t,i,n,o,r,s){"use strict";function a(e,t,o){var r=s.RenameProviderRegistry.ordered(e),a=[],c=!1,u=r.map(function(i){return function(){if(!c)return n.asWinJsPromise(function(n){return i.provideRenameEdits(e,t,o,n)}).then(function(e){if(e){if(!e.rejectReason)return c=!0,e;a.push(e.rejectReason)}else;})}});return n.sequence(u).then(function(e){var t=e[0];return a.length>0?{edits:void 0,rejectReason:a.join("\n")}:t?t:{edits:void 0,rejectReason:i.localize(0,null)}})}t.rename=a,r.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentRenameProvider",function(e,t,i){var n=i.newName;if("string"!=typeof n)throw o.illegalArgument("newName");return a(e,t,n)})}),define(l[718],d([1,0,444,7,13,33,2,56,28,20,18,40,54,26,37,188,717,446]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S){"use strict";var b="renameInputVisible",_=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,p.Behaviour.WidgetFocus|p.Behaviour.Writeable|p.Behaviour.ShowInContextMenu|p.Behaviour.UpdateOnCursorPositionChange),this._messageService=n,this._eventService=r,this._editorService=s,this._renameInputField=new S["default"](i),this._renameInputVisible=o.createKey(b,!1)}return h(t,e),t.prototype.getGroupId=function(){return"2_change/1_rename2"},t.prototype.isSupported=function(){return v.RenameProviderRegistry.has(this.editor.getModel())&&!this.editor.getModel().hasEditableRange()&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){return v.RenameProviderRegistry.has(this.editor.getModel())},t.prototype.run=function(e){var t=this,i=this.editor.getSelection(),o=this.editor.getModel().getWordAtPosition(i.getStartPosition());if(o){var a,c=i.startLineNumber,u=0,l=o.word.length;return a={startLineNumber:c,startColumn:o.startColumn,endLineNumber:c,endColumn:o.endColumn},i.isEmpty()||i.startLineNumber!==i.endLineNumber||(u=Math.max(0,i.startColumn-o.startColumn),l=Math.min(o.endColumn,i.endColumn)-o.startColumn),this._renameInputVisible.set(!0),this._renameInputField.getInput(a,o.word,u,l).then(function(e){return t._renameInputVisible.reset(),t._prepareRename(e).then(function(e){return e.finish().then(function(e){t.editor.focus(),e&&t.editor.setSelection(e)})},function(e){return"string"!=typeof e?s.TPromise.wrapError(e):void t._messageService.show(r["default"].Info,e)})},function(e){if(t._renameInputVisible.reset(),t.editor.focus(),!n.isPromiseCanceledError(e))return s.TPromise.wrapError(e)})}},t.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()},t.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()},t.prototype._prepareRename=function(e){var t=y.createBulkEdit(this._eventService,this._editorService,this.editor);return E.rename(this.editor.getModel(),this.editor.getPosition(),e).then(function(e){return e.rejectReason?s.TPromise.wrapError(e.rejectReason):(t.add(e.edits),t)})},t.ID="editor.action.rename",t=g([m(2,l.IMessageService),m(3,u.IKeybindingService),m(4,c.IEventService),m(5,a.IEditorService)],t)}(d.EditorAction);t.RenameAction=_;var C=f.CommonEditorRegistry.commandWeight(99);f.CommonEditorRegistry.registerEditorAction(new f.EditorActionDescriptor(_,_.ID,i.localize(0,null),{context:f.ContextKey.EditorTextFocus,primary:o.KeyCode.F2},"Rename Symbol")),f.CommonEditorRegistry.registerEditorCommand("acceptRenameInput",C,{primary:o.KeyCode.Enter},!1,b,function(e,t,i){var n=t.getAction(_.ID);n.acceptRenameInput()}),f.CommonEditorRegistry.registerEditorCommand("cancelRenameInput",C,{primary:o.KeyCode.Escape,secondary:[o.KeyMod.Shift|o.KeyCode.Escape]},!1,b,function(e,t,i){var n=t.getAction(_.ID);n.cancelRenameInput()})}),define(l[719],d([1,0,448,13,2,40,54,11,26]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i){e.call(this,t,i,s.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){return this.editor.trigger(this.id,a.Handler.JumpToBracket,{}),o.TPromise.as(!0)},t.ID="editor.action.jumpToBracket",t}(r.EditorAction);c.CommonEditorRegistry.registerEditorAction(new c.EditorActionDescriptor(u,u.ID,i.localize(0,null),{context:c.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.US_BACKSLASH},"Go to Bracket"))}),define(l[720],d([1,0,449,41,13,2,6,14,40,54,26,612]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(){function e(e){this.editor=e,this.next=null,this.previous=null,this.selection=e.getSelection()}return e}(),f=null,v=!1,y=function(e){function t(t,i,n,o){e.call(this,t,i,u.Behaviour.TextFocus|u.Behaviour.UpdateOnModelChange),this._tokenSelectionSupport=o.createInstance(d.TokenSelectionSupport),this._forward=n}return h(t,e),t.prototype.run=function(){var e=this,t=this.editor.getSelection(),i=this.editor.getModel();f&&f.editor!==this.editor&&(f=null);var o=r.TPromise.as(null);return f||(o=this._tokenSelectionSupport.getRangesToPosition(i.uri,t.getStartPosition()).then(function(t){if(!n.isFalsyOrEmpty(t)){var i;t.filter(function(t){var i=e.editor.getSelection(),n=new a.Range(t.range.startLineNumber,t.range.startColumn,t.range.endLineNumber,t.range.endColumn);return n.containsPosition(i.getStartPosition())&&n.containsPosition(i.getEndPosition())}).forEach(function(t){var n=t.range,o=new p(e.editor);o.selection=new a.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn),i&&(o.next=i,i.previous=o),i=o});var o=new p(e.editor);o.next=i,i&&(i.previous=o),f=o;var r=e.editor.onDidChangeCursorPosition(function(e){v||(f=null,r.dispose())})}})),o.then(function(){if(f&&(f=e._forward?f.next:f.previous)){v=!0;try{e.editor.setSelection(f.selection)}finally{v=!1}return!0}})},t}(c.EditorAction),E=function(e){function t(t,i,n){e.call(this,t,i,!0,n)}return h(t,e),t.ID="editor.action.smartSelect.grow",t=g([m(2,s.IInstantiationService)],t)}(y),S=function(e){function t(t,i,n){e.call(this,t,i,!1,n)}return h(t,e),t.ID="editor.action.smartSelect.shrink",t=g([m(2,s.IInstantiationService)],t)}(y);l.CommonEditorRegistry.registerEditorAction(new l.EditorActionDescriptor(E,E.ID,i.localize(0,null),{context:l.ContextKey.EditorTextFocus,primary:o.KeyMod.Shift|o.KeyMod.Alt|o.KeyCode.RightArrow,mac:{primary:o.KeyMod.CtrlCmd|o.KeyMod.WinCtrl|o.KeyMod.Shift|o.KeyCode.RightArrow}},"Expand Select")),l.CommonEditorRegistry.registerEditorAction(new l.EditorActionDescriptor(S,S.ID,i.localize(1,null),{context:l.ContextKey.EditorTextFocus,primary:o.KeyMod.Shift|o.KeyMod.Alt|o.KeyCode.LeftArrow,mac:{primary:o.KeyMod.CtrlCmd|o.KeyMod.WinCtrl|o.KeyMod.Shift|o.KeyCode.LeftArrow}},"Shrink Select"))}),define(l[141],d([1,0,78,13,9,20,126,14,46,11,26,5]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function h(e){return e.getContribution(y.ID)}!function(e){e[e.TextMateSnippet=0]="TextMateSnippet",e[e.EmmetSnippet=1]="EmmetSnippet"}(t.ExternalSnippetType||(t.ExternalSnippetType={}));var p=t.ExternalSnippetType,f=function(){function e(e){this.lines=[],this.placeHolders=[],this._lastGeneratedId=0,this.finishPlaceHolderIndex=-1,this.parseTemplate(e)}return e.prototype.parseTemplate=function(e){var t,n,o,r,s={},c=e.split("\n");for(t=0,n=c.length;t<n;t++){var u=this.parseLine(c[t],function(e){
return i.contains(s,e)?s[e].value:""});for(o=0,r=u.placeHolders.length;o<r;o++){var l,d=u.placeHolders[o],h=new a.Range(t+1,d.startColumn,t+1,d.endColumn);i.contains(s,d.id)?l=s[d.id]:(l={id:d.id,value:d.value,occurences:[]},this.placeHolders.push(l),s[d.id]=l),l.occurences.push(h)}this.lines.push(u.line)}this.placeHolders.sort(function(e,t){var i=function(e){return!/^\d+$/.test(e.id)},n=function(e){return""===e.id&&""===e.value};return n(e)?1:n(t)?-1:i(e)&&i(t)?0:i(e)?-1:i(t)?1:e.id===t.id?0:Number(e.id)<Number(t.id)?-1:1}),this.placeHolders.length>0&&""===this.placeHolders[this.placeHolders.length-1].value&&(this.finishPlaceHolderIndex=this.placeHolders.length-1)},e.prototype.parseLine=function(e,t){for(var i=[{placeHolderId:"",placeHolderText:""}],n=[],o=0,r=e.length,s=0;o<r;){var a=e.substr(o);if(/^{{/.test(a)){o+=2,i.push({placeHolderId:"",placeHolderText:""});var c=a.match(/^{{(\w+):/);Array.isArray(c)&&2===c.length&&(i[i.length-1].placeHolderId=c[1],o+=c[1].length+1)}else if(i.length>1&&/^}}/.test(a)){if(o+=2,0===i[i.length-1].placeHolderId.length&&(i[i.length-1].placeHolderId=i[i.length-1].placeHolderText,"_"===i[i.length-1].placeHolderId&&(i[i.length-1].placeHolderId="TAB_STOP_"+String(++this._lastGeneratedId),i[i.length-1].placeHolderText="",--s)),0===i[i.length-1].placeHolderText.length){var u=t(i[i.length-1].placeHolderId);i[i.length-1].placeHolderText=u,s+=u.length}n.push({id:i[i.length-1].placeHolderId,value:i[i.length-1].placeHolderText,startColumn:s+1-i[i.length-1].placeHolderText.length,endColumn:s+1}),i[i.length-2].placeHolderText+=i[i.length-1].placeHolderText,i.pop()}else/^\\./.test(a)&&("{"===a.charAt(1)||"}"===a.charAt(1)||"\\"===a.charAt(1)?++o:(i[i.length-1].placeHolderText+=e.charAt(o),++s,++o)),i[i.length-1].placeHolderText+=e.charAt(o),++s,++o}return n.sort(function(e,t){return e.startColumn<t.startColumn?-1:e.startColumn>t.startColumn?1:e.endColumn<t.endColumn?-1:e.endColumn>t.endColumn?1:0}),{line:i[0].placeHolderText,placeHolders:n}},e.convertExternalSnippet=function(e,t){for(var i=0,n="",o=0,r=e.length;o<r;){var s=e.substr(o);if(/^\$0/.test(s))o+=2,n+=t===p.EmmetSnippet?"{{_}}":"{{}}";else if(/^\$\{0\}/.test(s))o+=4,n+=t===p.EmmetSnippet?"{{_}}":"{{}}";else if(t===p.EmmetSnippet&&/^\|/.test(s))++o,n+="{{}}";else{var a=s.match(/^\$(\d+)/);Array.isArray(a)&&2===a.length?(o+=1+a[1].length,n+="{{"+a[1]+":}}"):(a=s.match(/^\$\{(\d+)\}/),Array.isArray(a)&&2===a.length?(o+=3+a[1].length,n+="{{"+a[1]+":}}"):/^\${/.test(s)?(o+=2,++i,n+="{{"):i>0&&/^}/.test(s)?(o+=1,--i,n+="}}"):/^\\./.test(s)?(o+=2,n+=/^\\\$/.test(s)?"$":s.substr(0,2)):(a=s.match(/^({|})/),Array.isArray(a)&&2===a.length?(o+=1,n+="\\"+a[1]):(o+=1,n+=s.charAt(0))))}}return n},e.prototype.extractLineIndentation=function(e,t){void 0===t&&(t=Number.MAX_VALUE);var i=o.getLeadingWhitespace(e);return i.length>t-1?i.substring(0,t-1):i},e.prototype.bind=function(e,t,i,n){var o,r,s,a,c,u,l,d,h=[],p=[],f=this.extractLineIndentation(e,i+1),g=[];for(c=0,u=this.lines.length;c<u;c++)o=this.lines[c],0===c?(g[c+1]=i,h[c]=o):(r=this.extractLineIndentation(o),s=o.substr(r.length),a=n.normalizeIndentation(f+r),g[c+1]=a.length-r.length,h[c]=a+s);var m,v,y;for(c=0,u=this.placeHolders.length;c<u;c++){for(m=this.placeHolders[c],y=[],l=0,d=m.occurences.length;l<d;l++)v=m.occurences[l],y.push({startLineNumber:v.startLineNumber+t,startColumn:v.startColumn+g[v.startLineNumber],endLineNumber:v.endLineNumber+t,endColumn:v.endColumn+g[v.endLineNumber]});p.push({id:m.id,value:m.value,occurences:y})}return{lines:h,placeHolders:p,finishPlaceHolderIndex:this.finishPlaceHolderIndex}},e}();t.CodeSnippet=f;var v=function(){function e(e,t,i,n,o){this.editor=e,this._onStop=o,this.model=e.getModel(),this.finishPlaceHolderIndex=t.finishPlaceHolderIndex,this.trackedPlaceHolders=[],this.placeHolderDecorations=[],this.currentPlaceHolderIndex=0,this.highlightDecorationId=null,this.isFinished=!1,this._initialAlternativeVersionId=n,this.initialize(t,i)}return e.prototype.dispose=function(){this.stopAll()},e.prototype.initialize=function(e,t){var i,n,o=this;for(i=0,n=e.placeHolders.length;i<n;i++){for(var r=e.placeHolders[i],s=[],c=0,l=r.occurences.length;c<l;c++)s.push(this.model.addTrackedRange(r.occurences[c],u.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges));this.trackedPlaceHolders.push({ranges:s})}this.editor.changeDecorations(function(i){var n=[],r=t+e.lines.length-1,s=o.model.getLineMaxColumn(r);n.push({range:new a.Range(t,1,r,s),options:{className:"new-snippet",isWholeLine:!0}});for(var c=0,u=o.trackedPlaceHolders.length;c<u;c++){var l=c===o.finishPlaceHolderIndex?"finish-snippet-placeholder":"snippet-placeholder";n.push({range:o.model.getTrackedRange(o.trackedPlaceHolders[c].ranges[0]),options:{className:l}})}var d=i.deltaDecorations([],n);o.highlightDecorationId=d[0],o.placeHolderDecorations=d.slice(1)}),this.listenersToRemove=[],this.listenersToRemove.push(this.editor.onDidChangeModelRawContent(function(e){if(!o.isFinished){if(e.changeType===u.EventType.ModelRawContentChangedFlush)o.stopAll();else if(e.changeType===u.EventType.ModelRawContentChangedLineChanged){var t=e.lineNumber,i=o.model.getDecorationRange(o.highlightDecorationId);(t<i.startLineNumber||t>i.endLineNumber)&&o.stopAll()}else if(e.changeType===u.EventType.ModelRawContentChangedLinesInserted){var n=e.fromLineNumber,i=o.model.getDecorationRange(o.highlightDecorationId);(n<i.startLineNumber||n>i.endLineNumber)&&o.stopAll()}else if(e.changeType===u.EventType.ModelRawContentChangedLinesDeleted){var r=e.fromLineNumber,s=e.toLineNumber,i=o.model.getDecorationRange(o.highlightDecorationId),a=s<i.startLineNumber,c=r>i.endLineNumber;(a||c)&&o.stopAll()}var l=o.editor.getModel().getAlternativeVersionId();o._initialAlternativeVersionId===l&&o.stopAll()}})),this.listenersToRemove.push(this.editor.onDidChangeCursorPosition(function(e){if(!o.isFinished){var t=o.model.getDecorationRange(o.highlightDecorationId),i=e.position.lineNumber;(i<t.startLineNumber||i>t.endLineNumber)&&o.stopAll()}})),this.listenersToRemove.push(this.editor.onDidChangeModel(function(){o.stopAll()}));var d=-1;this.listenersToRemove.push(this.editor.onDidBlurEditor(function(){d=setTimeout(function(){o.stopAll()},100)})),this.listenersToRemove.push(this.editor.onDidFocusEditor(function(){d!==-1&&(clearTimeout(d),d=-1)})),this.listenersToRemove.push(this.model.onDidChangeDecorations(function(e){if(!o.isFinished){for(var t=o.model.getEditableRange(),i=null,n=!0,r=!0,s=0;(n||r)&&s<o.trackedPlaceHolders.length;s++)for(var a=o.trackedPlaceHolders[s].ranges,c=0;(n||r)&&c<a.length;c++){var u=o.model.getTrackedRange(a[c]);n&&(u.isEmpty()?null===i?i=u:i.equalsRange(u)||(n=!1):n=!1),r&&!t.equalsRange(u)&&(r=!1)}if(n||r)o.stopAll();else if(o.finishPlaceHolderIndex!==-1){var l=o.placeHolderDecorations[o.finishPlaceHolderIndex],d=o.model.getDecorationRange(l),h=o.model.getDecorationOptions(l),p=d.isEmpty(),f="finish-snippet-placeholder"===h.className,g=Number(p)^Number(f);g&&o.editor.changeDecorations(function(e){var t=p?"finish-snippet-placeholder":"snippet-placeholder";e.changeDecorationOptions(l,{className:t})})}}})),this.doLinkEditing()},e.prototype.onNextPlaceHolder=function(){return this.changePlaceHolder(!0)},e.prototype.onPrevPlaceHolder=function(){return this.changePlaceHolder(!1)},e.prototype.changePlaceHolder=function(e){if(this.isFinished)return!1;var t=this.currentPlaceHolderIndex,i=this.model.getTrackedRange(this.trackedPlaceHolders[t].ranges[0]),n=!0;do{e?this.currentPlaceHolderIndex=(this.currentPlaceHolderIndex+1)%this.trackedPlaceHolders.length:this.currentPlaceHolderIndex=(this.trackedPlaceHolders.length+this.currentPlaceHolderIndex-1)%this.trackedPlaceHolders.length;var o=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[0]);n=i.equalsRange(o)}while(this.currentPlaceHolderIndex!==t&&n);return this.doLinkEditing(),!0},e.prototype.onAccept=function(){if(this.isFinished)return!1;if(this.finishPlaceHolderIndex!==-1){var e=this.model.getTrackedRange(this.trackedPlaceHolders[this.finishPlaceHolderIndex].ranges[0]);this.editor.setPosition({lineNumber:e.endLineNumber,column:e.endColumn})}return this.stopAll(),!0},e.prototype.onEscape=function(){return!this.isFinished&&(this.stopAll(),this.editor.setSelections([this.editor.getSelections()[0]]),!0)},e.prototype.doLinkEditing=function(){for(var e=[],t=0,i=this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges.length;t<i;t++){var n=this.model.getTrackedRange(this.trackedPlaceHolders[this.currentPlaceHolderIndex].ranges[t]);e.push({selectionStartLineNumber:n.startLineNumber,selectionStartColumn:n.startColumn,positionLineNumber:n.endLineNumber,positionColumn:n.endColumn})}this.editor.setSelections(e)},e.prototype.stopAll=function(){var e=this;if(!this.isFinished){this._onStop(),this.isFinished=!0,this.listenersToRemove=d.dispose(this.listenersToRemove);for(var t=0;t<this.trackedPlaceHolders.length;t++)for(var i=this.trackedPlaceHolders[t].ranges,n=0;n<i.length;n++)this.model.removeTrackedRange(i[n]);this.trackedPlaceHolders=[],this.editor.changeDecorations(function(t){var i=[];i.push(e.highlightDecorationId);for(var n=0;n<e.placeHolderDecorations.length;n++)i.push(e.placeHolderDecorations[n]);t.deltaDecorations(i,[]),e.placeHolderDecorations=[],e.highlightDecorationId=null})}},e}();t.getSnippetController=h;var y=function(){function e(e,i){this._editor=e,this._currentController=null,this._inSnippetMode=i.createKey(t.CONTEXT_SNIPPET_MODE,!1)}return e.prototype.dispose=function(){this._currentController&&(this._currentController.dispose(),this._currentController=null)},e.prototype.getId=function(){return e.ID},e.prototype.run=function(t,i,n,o){var r=this;this._runAndRestoreController(function(){if(0===t.placeHolders.length)r._runForAllSelections(t,i,n,o);else{var s=e._prepareSnippet(r._editor,r._editor.getSelection(),t,i,n,o);r._runPreparedSnippetForPrimarySelection(s,!0)}})},e.prototype.runWithReplaceRange=function(t,i,n){var o=this;this._runAndRestoreController(function(){o._runPreparedSnippetForPrimarySelection({typeRange:i,adaptedSnippet:e._getAdaptedSnippet(o._editor.getModel(),t,i)},n)})},e.prototype._runAndRestoreController=function(e){var t=this._currentController;this._currentController=null,e(),this._currentController?t&&t.dispose():this._currentController=t},e._getTypeRangeForSelection=function(e,t,i,n){var o;return o=i||n?e.validateRange(a.Range.plusRange(t,{startLineNumber:t.positionLineNumber,startColumn:t.positionColumn-i,endLineNumber:t.positionLineNumber,endColumn:t.positionColumn+n})):t},e._getAdaptedSnippet=function(e,t,i){return t.bind(e.getLineContent(i.startLineNumber),i.startLineNumber-1,i.startColumn-1,e)},e._addCommandForSnippet=function(e,t,i,n){var o=t.lines.join("\n"),r=e.getValueInRange(i,u.EndOfLinePreference.LF);o!==r&&n.push(s.EditOperation.replaceMove(i,o))},e.prototype._runPreparedSnippetForPrimarySelection=function(t,i){var n=this,o=this._editor.getModel().getAlternativeVersionId(),r=[];e._addCommandForSnippet(this._editor.getModel(),t.adaptedSnippet,t.typeRange,r),r.length>0&&(i&&this._editor.pushUndoStop(),this._editor.executeEdits("editor.contrib.insertSnippetHelper",r),i&&this._editor.pushUndoStop());var s=e._getSnippetCursorOnly(t.adaptedSnippet);s?this._editor.setSelection(new c.Selection(s.lineNumber,s.column,s.lineNumber,s.column)):t.adaptedSnippet.placeHolders.length>0&&(this._inSnippetMode.set(!0),this._currentController=new v(this._editor,t.adaptedSnippet,t.typeRange.startLineNumber,o,function(){n._inSnippetMode.reset()}))},e.prototype._runForAllSelections=function(t,i,n,o){for(var r=this._editor.getSelections(),s=[],a=0;a<r.length;a++){var c=e._prepareSnippet(this._editor,r[a],t,i,n,o);e._addCommandForSnippet(this._editor.getModel(),c.adaptedSnippet,c.typeRange,s)}s.length>0&&(this._editor.pushUndoStop(),this._editor.executeEdits("editor.contrib.insertSnippetHelper",s),this._editor.pushUndoStop())},e._prepareSnippet=function(t,i,n,r,s,a){void 0===a&&(a=!0);var c=t.getModel(),u=e._getTypeRangeForSelection(c,i,r,s);if(1===n.lines.length){var l=c.getLineContent(u.endLineNumber).substr(u.endColumn-1),d=n.lines[0].substr(r),h=o.commonPrefixLength(l,d);h>0&&a&&(u=u.setEndPosition(u.endLineNumber,u.endColumn+h))}var p=e._getAdaptedSnippet(c,n,u);return{typeRange:u,adaptedSnippet:p}},e._getSnippetCursorOnly=function(e){if(1!==e.placeHolders.length)return null;var t=e.placeHolders[0];if(""!==t.value||1!==t.occurences.length)return null;var i=t.occurences[0];return a.Range.isEmpty(i)?{lineNumber:i.startLineNumber,column:i.startColumn}:null},e.prototype.jumpToNextPlaceholder=function(){this._currentController&&this._currentController.onNextPlaceHolder()},e.prototype.jumpToPrevPlaceholder=function(){this._currentController&&this._currentController.onPrevPlaceHolder()},e.prototype.acceptSnippet=function(){this._currentController&&this._currentController.onAccept()},e.prototype.leaveSnippet=function(){this._currentController&&this._currentController.onEscape()},e.ID="editor.contrib.snippetController",e=g([m(1,r.IKeybindingService)],e)}();t.CONTEXT_SNIPPET_MODE="inSnippetMode";var E=l.CommonEditorRegistry.commandWeight(30);l.CommonEditorRegistry.registerEditorContribution(y),l.CommonEditorRegistry.registerEditorCommand("jumpToNextSnippetPlaceholder",E,{primary:n.KeyCode.Tab},!0,t.CONTEXT_SNIPPET_MODE,function(e,t,i){h(t).jumpToNextPlaceholder()}),l.CommonEditorRegistry.registerEditorCommand("jumpToPrevSnippetPlaceholder",E,{primary:n.KeyMod.Shift|n.KeyCode.Tab},!0,t.CONTEXT_SNIPPET_MODE,function(e,t,i){h(t).jumpToPrevPlaceholder()}),l.CommonEditorRegistry.registerEditorCommand("acceptSnippet",E,{primary:n.KeyCode.Enter},!0,t.CONTEXT_SNIPPET_MODE,function(e,t,i){h(t).acceptSnippet()}),l.CommonEditorRegistry.registerEditorCommand("leaveSnippet",E,{primary:n.KeyCode.Escape,secondary:[n.KeyMod.Shift|n.KeyCode.Escape]},!0,t.CONTEXT_SNIPPET_MODE,function(e,t,i){h(t).leaveSnippet()})}),define(l[722],d([1,0,421,16,13,5,2,10,134,83,60,191,20,14,40,54,11,26,53,61,141,324,826]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w){"use strict";function I(e){if(e.getConfiguration().readOnly)return!1;var t=e.getModel();if(!t)return!1;var i=t.uri.toString();return x.test(i)}var T=i.localize(0,null),A=i.localize(1,null),L=i.localize(2,null),D=i.localize(3,null),k=i.localize(4,null),x=/keybindings\.json$/,M=function(){function e(e,t){var i=this;this._dec=[],this._editor=e,this._keybindingService=t,this._toDispose=[],this._launchWidget=new R(this._editor,t,function(){return i.launch()}),this._defineWidget=new O(this._editor,t,function(e){return i._onAccepted(e)}),this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){I(i._editor)?i._launchWidget.show():i._launchWidget.hide()})),this._toDispose.push(this._editor.onDidChangeModel(function(e){I(i._editor)?i._launchWidget.show():i._launchWidget.hide(),i._onModel()})),this._updateDecorations=new n.RunOnceScheduler(function(){return i._updateDecorationsNow()},500),this._toDispose.push(this._updateDecorations),this._modelToDispose=[],this._onModel()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._modelToDispose=r.dispose(this._modelToDispose),this._toDispose=r.dispose(this._toDispose),this._launchWidget.dispose(),this._launchWidget=null,this._defineWidget.dispose(),this._defineWidget=null},e.prototype.launch=function(){I(this._editor)&&this._defineWidget.start()},e.prototype._onAccepted=function(e){var t=["{",'\t"key": "'+e+'",','\t"command": "{{commandId}}",','\t"when": "{{editorTextFocus}}"',"}{{}}"].join("\n"),i=w.SmartSnippetInserter.insertSnippet(this._editor.getModel(),this._editor.getPosition());t=i.prepend+t+i.append,this._editor.setPosition(i.position),C.getSnippetController(this._editor).run(new C.CodeSnippet(t),0,0)},e.prototype._onModel=function(){var e=this;this._modelToDispose=r.dispose(this._modelToDispose);var t=this._editor.getModel();if(t){var i=t.uri.toString();x.test(i)&&(this._modelToDispose.push(t.onDidChangeContent(function(t){return e._updateDecorations.schedule()})),this._modelToDispose.push({dispose:function(){e._dec=e._editor.deltaDecorations(e._dec,[]),e._updateDecorations.cancel()}}),this._updateDecorations.schedule())}},e.prototype._updateDecorationsNow=function(){var e=this,t=this._editor.getModel(),i=o.Keybinding.getUserSettingsKeybindingRegex(),n=t.findMatches(i,!1,!0,!1,!1),r=n.map(function(i){var n=t.getValueInRange(i),r=n.substring(1,n.length-1);r=r.replace(/\\\\/g,"\\");var s=d.IOSupport.readKeybinding(r),a=new o.Keybinding(s);return{strKeybinding:r,keybinding:a,usLabel:a._toUSLabel(),label:e._keybindingService.getLabelFor(a),range:i}});r=r.filter(function(e){return e.usLabel!==e.label});var s=[];r.forEach(function(t){var i,n,o,r;t.label?(i=[D],i=i.concat(e._keybindingService.getLabelFor(t.keybinding)),n="keybindingInfo",o="inlineKeybindingInfo",r="rgba(100, 100, 250, 0.6)"):(i=[k],n="keybindingError",o="inlineKeybindingError",r="rgba(250, 100, 100, 0.6)"),s.push({range:new f.Range(t.range.startLineNumber,t.range.startColumn,t.range.startLineNumber,t.range.startColumn+1),options:{stickiness:E.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:o}}),s.push({range:t.range,options:{stickiness:E.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:n,hoverMessage:i,overviewRuler:{color:r,darkColor:r,position:E.OverviewRulerLane.Right}}})}),this._dec=this._editor.deltaDecorations(this._dec,s)},e.ID="editor.contrib.defineKeybinding",e=g([m(1,p.IKeybindingService)],e)}();t.DefineKeybindingController=M;var R=function(){function e(e,t,i){this._editor=e,this._domNode=document.createElement("div"),this._domNode.className="defineKeybindingLauncher",this._domNode.style.display="none",this._isVisible=!1;var n=t.lookupKeybindings(P.ID),o="";n.length>0&&(o+=" ("+t.getLabelFor(n[0])+")"),this._domNode.appendChild(document.createTextNode(T+o)),this._toDispose=[],this._toDispose.push(a.addDisposableListener(this._domNode,"click",function(e){i()})),this._editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),this._toDispose=r.dispose(this._toDispose)},e.prototype.show=function(){this._isVisible||(this._domNode.style.display="block",this._isVisible=!0,this._editor.layoutOverlayWidget(this))},e.prototype.hide=function(){this._isVisible&&(this._domNode.style.display="none",this._isVisible=!1,this._editor.layoutOverlayWidget(this))},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:this._isVisible?b.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER:null}},e.ID="editor.contrib.defineKeybindingLauncherWidget",e}(),O=function(){function e(t,i,n){var r=this;this._editor=t,this._keybindingService=i,this._onAccepted=n,this._toDispose=[],this._lastKeybinding=null,this._domNode=document.createElement("div"),this._domNode.className="defineKeybindingWidget",l.StyleMutator.setWidth(this._domNode,e.WIDTH),l.StyleMutator.setHeight(this._domNode,e.HEIGHT),this._domNode.style.display="none",this._isVisible=!1,this._messageNode=document.createElement("div"),this._messageNode.className="message",this._messageNode.innerText=A,this._domNode.appendChild(this._messageNode),this._inputNode=document.createElement("input"),this._inputNode.className="input",this._inputNode.type="text",this._domNode.appendChild(this._inputNode),this._outputNode=document.createElement("div"),this._outputNode.className="output",this._domNode.appendChild(this._outputNode),this._toDispose.push(a.addDisposableListener(this._inputNode,"keydown",function(e){var t=new u.StandardKeyboardEvent(e);t.preventDefault(),t.stopPropagation();var i=new o.Keybinding(t.asKeybinding());switch(i.value){case o.CommonKeybindings.ENTER:return r._lastKeybinding&&r._onAccepted(r._lastKeybinding.toUserSettingsLabel()),void r._stop();case o.CommonKeybindings.ESCAPE:return void r._stop()}r._lastKeybinding=i,r._inputNode.value=r._lastKeybinding.toUserSettingsLabel().toLowerCase(),r._inputNode.title="keyCode: "+t.browserEvent.keyCode,a.clearNode(r._outputNode);var n=r._keybindingService.getHTMLLabelFor(r._lastKeybinding);n.forEach(function(e){return r._outputNode.appendChild(c.renderHtml(e))})})),this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){r._isVisible&&r._layout()})),this._toDispose.push(a.addDisposableListener(this._inputNode,"blur",function(e){return r._stop()})),this._editor.addOverlayWidget(this)}return e.prototype.dispose=function(){this._editor.removeOverlayWidget(this),this._toDispose=r.dispose(this._toDispose)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{preference:null}},e.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._layout(),this._domNode.style.display="block")},e.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},e.prototype._layout=function(){var t=this._editor.getLayoutInfo(),i=Math.round((t.height-e.HEIGHT)/2);l.StyleMutator.setTop(this._domNode,i);var n=Math.round((t.width-e.WIDTH)/2);l.StyleMutator.setLeft(this._domNode,n)},e.prototype.start=function(){this._editor.revealPositionInCenterIfOutsideViewport(this._editor.getPosition()),this._show(),this._lastKeybinding=null,this._inputNode.value="",a.clearNode(this._outputNode),this._inputNode.focus()},e.prototype._stop=function(){this._editor.focus(),this._hide()},e.ID="editor.contrib.defineKeybindingWidget",e.WIDTH=340,e.HEIGHT=90,e}(),P=function(e){function t(t,i){e.call(this,t,i,y.Behaviour.WidgetFocus|y.Behaviour.UpdateOnModelChange|y.Behaviour.Writeable)}return h(t,e),t.prototype.isSupported=function(){return!!e.prototype.isSupported.call(this)&&I(this.editor)},t.prototype.run=function(){var e=M.get(this.editor);return e.launch(),s.TPromise.as(!0)},t.ID="editor.action.defineKeybinding",t}(v.EditorAction);t.DefineKeybindingAction=P,_.EditorBrowserRegistry.registerEditorContribution(M),S.CommonEditorRegistry.registerEditorAction(new S.EditorActionDescriptor(P,P.ID,L,{context:S.ContextKey.EditorFocus,primary:o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KEY_K,o.KeyMod.CtrlCmd|o.KeyCode.KEY_K)},"Define Keybinding"))}),define(l[199],d([1,0,16,41,7,2,26,37,105]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e,t,s){s||(s=a.SuggestRegistry.orderedGroups(e));var u=[],l=s.map(function(s,a){return function(){if(!(u.length>0))return r.TPromise.join(s.map(function(r){return i.asWinJsPromise(function(i){return r.provideCompletionItems(e,t,i)}).then(function(e){if(e)for(var t=0,i=e;t<i.length;t++){var o=i[t];o&&!n.isFalsyOrEmpty(o.suggestions)&&u.push({support:r,currentWord:o.currentWord,incomplete:o.incomplete,suggestions:o.suggestions})}},o.onUnexpectedError)}))}});return i.sequence(l).then(function(){var i=c.SnippetsRegistry.getSnippets(e,t);return u.push(i),u})}t.Context={Visible:"suggestWidgetVisible",MultipleSuggestions:"suggestWidgetMultipleSuggestions",AcceptOnKey:"suggestionSupportsAcceptOnKey"},t.provideCompletionItems=u,s.CommonEditorRegistry.registerDefaultLanguageCommand("_executeCompletionItemProvider",function(e,t,i){return u(e,t)})}),define(l[724],d([1,0,7,24,5,9,2,11,37,141,199,328,48]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";var p,f=function(){function e(e,t){this.auto=t;var i=e.getModel(),n=e.getPosition(),o=i.getLineContent(n.lineNumber),r=i.getWordAtPosition(n);if(r?(this.wordBefore=o.substring(r.startColumn-1,n.column-1),this.wordAfter=o.substring(n.column-1,r.endColumn-1)):(this.wordBefore="",this.wordAfter=""),this.lineNumber=n.lineNumber,this.column=n.column,this.lineContentBefore=o.substr(0,n.column-1),this.lineContentAfter=o.substr(n.column-1),this.isInEditableRange=!0,i.hasEditableRange()){var s=i.getEditableRange();s.containsPosition(n)||(this.isInEditableRange=!1)}var a=c.SuggestRegistry.all(i);this.isAutoTriggerEnabled=a.some(function(e){return e.shouldAutotriggerSuggest})}return e.prototype.shouldAutoTrigger=function(){return!!this.isAutoTriggerEnabled&&(0!==this.wordBefore.length&&(!!isNaN(Number(this.wordBefore))&&!(this.wordAfter.length>0)))},e.prototype.isDifferentContext=function(e){return this.lineNumber!==e.lineNumber||(e.column<this.column-this.wordBefore.length||(!r.startsWith(e.lineContentBefore,this.lineContentBefore)||this.lineContentAfter!==e.lineContentAfter||""===e.wordBefore&&e.lineContentBefore!==this.lineContentBefore))},e.prototype.shouldRetrigger=function(e){return!(!r.startsWith(this.lineContentBefore,e.lineContentBefore)||this.lineContentAfter!==e.lineContentAfter)&&(!(this.lineContentBefore.length>e.lineContentBefore.length&&0===this.wordBefore.length)&&(!this.auto||0!==e.wordBefore.length))},e}();!function(e){e[e.Idle=0]="Idle",e[e.Manual=1]="Manual",e[e.Auto=2]="Auto"}(p||(p={}));var g=function(){function e(e){var t=this;this.editor=e,this._onDidCancel=new n.Emitter,this._onDidTrigger=new n.Emitter,this._onDidSuggest=new n.Emitter,this._onDidAccept=new n.Emitter,this.state=p.Idle,this.triggerAutoSuggestPromise=null,this.requestPromise=null,this.raw=null,this.completionModel=null,this.incomplete=!1,this.context=null,this.toDispose=[],this.toDispose.push(this.editor.onDidChangeConfiguration(function(){return t.onEditorConfigurationChange()})),this.toDispose.push(this.editor.onDidChangeCursorSelection(function(e){return t.onCursorChange(e)})),this.toDispose.push(this.editor.onDidChangeModel(function(){return t.cancel()})),this.toDispose.push(c.SuggestRegistry.onDidChange(this.onSuggestRegistryChange,this)),this.onEditorConfigurationChange()}return Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidTrigger",{get:function(){return this._onDidTrigger.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidSuggest",{get:function(){return this._onDidSuggest.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidAccept",{get:function(){return this._onDidAccept.event},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var i=this.state!==p.Idle;return this.triggerAutoSuggestPromise&&(this.triggerAutoSuggestPromise.cancel(),this.triggerAutoSuggestPromise=null),this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null),this.state=p.Idle,this.raw=null,this.completionModel=null,this.incomplete=!1,this.context=null,e||this._onDidCancel.fire({retrigger:t}),i},e.prototype.getRequestPosition=function(){return this.context?new h.Position(this.context.lineNumber,this.context.column):null},e.prototype.isAutoSuggest=function(){return this.state===p.Auto},e.prototype.onCursorChange=function(e){var t=this;if(!e.selection.isEmpty())return void this.cancel();if("keyboard"!==e.source||e.reason!==a.CursorChangeReason.NotSet)return void this.cancel();if(c.SuggestRegistry.has(this.editor.getModel())){var i=this.state===p.Idle;if(!i||this.editor.getConfiguration().contribInfo.quickSuggestions){var n=new f(this.editor,(!1));i?(this.cancel(),n.shouldAutoTrigger()&&(this.triggerAutoSuggestPromise=s.TPromise.timeout(this.autoSuggestDelay),this.triggerAutoSuggestPromise.then(function(){t.triggerAutoSuggestPromise=null,t.trigger(!0)}))):this.raw&&this.incomplete?this.trigger(this.state===p.Auto,void 0,!0):this.onNewContext(n)}}},e.prototype.onSuggestRegistryChange=function(){if(this.state!==p.Idle)return c.SuggestRegistry.has(this.editor.getModel())?void this.trigger(this.state===p.Auto,void 0,!0):void this.cancel()},e.prototype.trigger=function(e,t,n,o){var r=this;void 0===n&&(n=!1);var s=this.editor.getModel(),a=!!t;if(o=o||c.SuggestRegistry.orderedGroups(s),0!==o.length){var u=new f(this.editor,e);if(u.isInEditableRange){this.cancel(!1,n),this.state=e||a?p.Auto:p.Manual,this._onDidTrigger.fire({auto:this.isAutoSuggest(),characterTriggered:a,retrigger:n}),this.context=u;var d=this.editor.getPosition();this.requestPromise=l.provideCompletionItems(s,d,o).then(function(t){r.requestPromise=null,r.state!==p.Idle&&(r.raw=t,r.incomplete=t.some(function(e){return e.incomplete}),r.onNewContext(new f(r.editor,e)))}).then(null,i.onUnexpectedError)}}},e.prototype.onNewContext=function(e){if(this.context&&this.context.isDifferentContext(e))return void(this.context.shouldRetrigger(e)?this.trigger(this.state===p.Auto,void 0,!0):this.cancel());if(this.raw){var t=this.isAutoSuggest(),i=!1;if(this.completionModel&&this.completionModel.raw===this.raw){var n=this.completionModel.lineContext;this.completionModel.lineContext={leadingLineContent:e.lineContentBefore,characterCountDelta:this.context?e.column-this.context.column:0},t||0!==this.completionModel.items.length||(this.completionModel.lineContext=n,i=!0)}else this.completionModel=new d.CompletionModel(this.raw,e.lineContentBefore);this._onDidSuggest.fire({completionModel:this.completionModel,currentWord:e.wordBefore,isFrozen:i,auto:this.isAutoSuggest()})}},e.prototype.accept=function(e,t,i){return null!==this.raw&&(this._onDidAccept.fire({snippet:new u.CodeSnippet(e.codeSnippet),overwriteBefore:t+(this.editor.getPosition().column-this.context.column),overwriteAfter:i}),this.cancel(),!0)},e.prototype.onEditorConfigurationChange=function(){this.autoSuggestDelay=this.editor.getConfiguration().contribInfo.quickSuggestionsDelay,(isNaN(this.autoSuggestDelay)||!this.autoSuggestDelay&&0!==this.autoSuggestDelay||this.autoSuggestDelay<0)&&(this.autoSuggestDelay=10)},e.prototype.dispose=function(){this.cancel(!0),this.toDispose=o.dispose(this.toDispose)},e}();t.SuggestModel=g}),define(l[725],d([1,0,451,9,2,7,5,10,211,360,138,6,20,21,53,199,120,782]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y){"use strict";function E(e,t,i){for(var n=e.toLowerCase(),o=0,r=0;r<t.length&&r<e.length;r++)if(t[r]===e[r])o+=2;else{if(i[r]!==n[r])break;o+=1}return o}var S,b=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i,_=function(){function e(e,t,i){this.widget=e,this.editor=t;var n=i.lookupKeybindings("editor.action.triggerSuggest");this.triggerKeybindingLabel=0===n.length?"":" ("+i.getLabelFor(n[0])+")"}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,n=Object.create(null);n.disposables=[],n.root=e,n.icon=a.append(e,a.emmet(".icon")),n.colorspan=a.append(n.icon,a.emmet("span.colorspan"));var o=a.append(e,a.emmet(".text")),r=a.append(o,a.emmet(".main"));n.highlightedLabel=new c.HighlightedLabel(r),n.disposables.push(n.highlightedLabel),n.typeLabel=a.append(r,a.emmet("span.type-label"));var s=a.append(o,a.emmet(".docs"));n.documentation=a.append(s,a.emmet("span.docs-text")),n.documentationDetails=a.append(s,a.emmet("span.docs-details.octicon.octicon-info")),n.documentationDetails.title=i.localize(0,null,this.triggerKeybindingLabel);var u=function(){var e=t.editor.getConfiguration().fontInfo;r.style.fontFamily=e.fontFamily};return u(),n.disposables.push(this.editor.onDidChangeConfiguration(function(e){e.fontInfo&&u()})),n},e.prototype.renderElement=function(e,t,n){var o=this,r=n,s=e.suggestion;if(s.documentationLabel?r.root.setAttribute("aria-label",i.localize(1,null,s.label)):r.root.setAttribute("aria-label",i.localize(2,null,s.label)),r.icon.className="icon "+s.type,r.colorspan.style.backgroundColor="","color"===s.type){var c=s.label.match(b)&&s.label||s.documentationLabel.match(b)&&s.documentationLabel;c&&(r.icon.className="icon customcolor",r.colorspan.style.backgroundColor=c)}r.highlightedLabel.set(s.label,e.highlights),r.typeLabel.textContent=s.typeLabel||"",r.documentation.textContent=s.documentationLabel||"",s.documentationLabel?(a.show(r.documentationDetails),r.documentationDetails.onmousedown=function(e){e.stopPropagation(),e.preventDefault();
},r.documentationDetails.onclick=function(e){e.stopPropagation(),e.preventDefault(),o.widget.toggleDetails()}):(a.hide(r.documentationDetails),r.documentationDetails.onmousedown=null,r.documentationDetails.onclick=null)},e.prototype.disposeTemplate=function(e){e.highlightedLabel.dispose(),e.disposables=s.dispose(e.disposables)},e=g([m(2,h.IKeybindingService)],e)}(),C=35,w=19,I=function(){function e(e){this.listProvider=e}return e.prototype.getHeight=function(e){var t=this.listProvider().getFocusedElements()[0];return e.suggestion.documentationLabel&&e===t?C:w},e.prototype.getTemplateId=function(e){return"suggestion"},e}();!function(e){e[e.Hidden=0]="Hidden",e[e.Loading=1]="Loading",e[e.Empty=2]="Empty",e[e.Open=3]="Open",e[e.Frozen=4]="Frozen",e[e.Details=5]="Details"}(S||(S={}));var T=function(){function e(e,t,n){var o=this;this.widget=t,this.editor=n,this.disposables=[],this.el=a.append(e,a.emmet(".details")),this.disposables.push(s.toDisposable(function(){return e.removeChild(o.el)}));var r=a.append(this.el,a.emmet(".header"));this.title=a.append(r,a.emmet("span.title")),this.back=a.append(r,a.emmet("span.go-back.octicon.octicon-mail-reply")),this.back.title=i.localize(3,null),this.body=a.emmet(".body"),this.scrollbar=new l.DomScrollableElement(this.body,{canUseTranslate3d:!1}),a.append(this.el,this.scrollbar.getDomNode()),this.disposables.push(this.scrollbar),this.type=a.append(this.body,a.emmet("p.type")),this.docs=a.append(this.body,a.emmet("p.docs")),this.ariaLabel=null,this.configureFont(),this.disposables.push(this.editor.onDidChangeConfiguration(function(e){e.fontInfo&&o.configureFont()}))}return Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),e.prototype.render=function(e){var t=this;return e?(this.title.innerText=e.suggestion.label,this.type.innerText=e.suggestion.typeLabel||"",this.docs.innerText=e.suggestion.documentationLabel,this.back.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.back.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.widget.toggleDetails()},this.scrollbar.scanDomNode(),void(this.ariaLabel=n.format("{0}\n{1}\n{2}",e.suggestion.label||"",e.suggestion.typeLabel||"",e.suggestion.documentationLabel||""))):(this.title.textContent="",this.type.textContent="",this.docs.textContent="",void(this.ariaLabel=null))},e.prototype.getAriaLabel=function(){return this.ariaLabel},e.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},e.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},e.prototype.pageDown=function(){this.scrollDown(80)},e.prototype.pageUp=function(){this.scrollUp(80)},e.prototype.configureFont=function(){var e=this.editor.getConfiguration().fontInfo;this.title.style.fontFamily=e.fontFamily,this.type.style.fontFamily=e.fontFamily},e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables)},e}(),A=function(){function e(t,i,n,o,r){var s=this;this.editor=t,this.model=i,this.allowEditorOverflow=!0,this.isAuto=!1,this.focusedItem=null,this.telemetryData=null,this.telemetryService=o,this.element=a.emmet(".editor-widget.suggest-widget.monaco-editor-background"),this.element.style.width=e.WIDTH+"px",this.element.style.top="0",this.element.style.left="0",this.editor.getConfiguration().contribInfo.iconsInSuggestions||a.addClass(this.element,"no-icons"),this.messageElement=a.append(this.element,a.emmet(".message")),this.listElement=a.append(this.element,a.emmet(".tree")),this.details=new T(this.element,this,this.editor);var c=r.createInstance(_,this,this.editor);this.delegate=new I(function(){return s.list}),this.list=new u.List(this.listElement,this.delegate,[c],{useShadows:!1}),this.toDispose=[t.onDidBlurEditorText(function(){return s.onEditorBlur()}),this.list.onSelectionChange(function(e){return s.onListSelection(e)}),this.list.onFocusChange(function(e){return s.onListFocus(e)}),this.editor.onDidChangeCursorSelection(function(){return s.onCursorSelectionChanged()}),this.model.onDidTrigger(function(e){return s.onDidTrigger(e)}),this.model.onDidSuggest(function(e){return s.onDidSuggest(e)}),this.model.onDidCancel(function(e){return s.onDidCancel(e)})],this.suggestWidgetVisible=n.createKey(v.Context.Visible,!1),this.suggestWidgetMultipleSuggestions=n.createKey(v.Context.MultipleSuggestions,!1),this.suggestionSupportsAutoAccept=n.createKey(v.Context.AcceptOnKey,!0),this.editor.addContentWidget(this),this.setState(S.Hidden)}return e.prototype.onCursorSelectionChanged=function(){this.state!==S.Hidden&&this.editor.layoutContentWidget(this)},e.prototype.onEditorBlur=function(){var e=this;this.editorBlurTimeout=o.TPromise.timeout(150).then(function(){e.editor.isFocused()||e.setState(S.Hidden)})},e.prototype.onListSelection=function(e){if(e.elements.length){this.telemetryData.selectedIndex=0,this.telemetryData.wasCancelled=!1,this.telemetryData.selectedIndex=e.indexes[0],this.submitTelemetryData();var t=e.elements[0],n=t.container,o="undefined"==typeof t.suggestion.overwriteBefore?n.currentWord.length:t.suggestion.overwriteBefore,r="undefined"==typeof t.suggestion.overwriteAfter?0:Math.max(0,t.suggestion.overwriteAfter);this.model.accept(t.suggestion,o,r),y.alert(i.localize(6,null,t.suggestion.label)),this.editor.focus()}},e.prototype._getSuggestionAriaAlertLabel=function(e){return e.suggestion.documentationLabel?i.localize(7,null,e.suggestion.label):i.localize(8,null,e.suggestion.label)},e.prototype._ariaAlert=function(e){this._lastAriaAlertLabel!==e&&(this._lastAriaAlertLabel=e,this._lastAriaAlertLabel&&y.alert(this._lastAriaAlertLabel))},e.prototype.onListFocus=function(e){var t=this;if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this._ariaAlert(null);var i=e.elements[0];if(this._ariaAlert(this._getSuggestionAriaAlertLabel(i)),i!==this.focusedItem){this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null);var n=e.indexes[0];this.suggestionSupportsAutoAccept.set(!i.suggestion.noAutoAccept),this.focusedItem=i,this.updateWidgetHeight(),this.list.reveal(n);var o=this.model.getRequestPosition()||this.editor.getPosition();this.currentSuggestionDetails=i.resolveDetails(this.editor.getModel(),o).then(function(e){i.updateDetails(e),t.list.setFocus(n),t.updateWidgetHeight(),t.list.reveal(n),t._ariaAlert(t._getSuggestionAriaAlertLabel(i))}).then(null,function(e){return!r.isPromiseCanceledError(e)&&r.onUnexpectedError(e)}).then(function(){return t.currentSuggestionDetails=null})}},e.prototype.setState=function(t){var i=this.state!==t;switch(this.state=t,a.toggleClass(this.element,"frozen",t===S.Frozen),t){case S.Hidden:a.hide(this.messageElement,this.details.element),a.show(this.listElement),this.hide(),i&&this.list.splice(0,this.list.length);break;case S.Loading:this.messageElement.innerText=e.LOADING_MESSAGE,a.hide(this.listElement,this.details.element),a.show(this.messageElement),this.show();break;case S.Empty:this.messageElement.innerText=e.NO_SUGGESTIONS_MESSAGE,a.hide(this.listElement,this.details.element),a.show(this.messageElement),this.show();break;case S.Open:a.hide(this.messageElement,this.details.element),a.show(this.listElement),this.show();break;case S.Frozen:a.hide(this.messageElement,this.details.element),a.show(this.listElement),this.show();break;case S.Details:a.hide(this.messageElement,this.listElement),a.show(this.details.element),this.show(),this._ariaAlert(this.details.getAriaLabel())}i&&this.editor.layoutContentWidget(this)},e.prototype.onDidTrigger=function(e){var t=this;this.state===S.Hidden&&(this.telemetryTimer=this.telemetryService.timedPublicLog("suggestWidgetLoadingTime"),this.isAuto=!!e.auto,this.isAuto||(this.loadingTimeout=setTimeout(function(){t.loadingTimeout=null,t.setState(S.Loading)},50)),e.retrigger||(this.telemetryData={wasAutomaticallyTriggered:e.characterTriggered}))},e.prototype.onDidSuggest=function(e){if(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.completionModel=e.completionModel,e.isFrozen&&this.state!==S.Empty)return void this.setState(S.Frozen);var t=this.completionModel.items.length,i=0===t;if(this.suggestWidgetMultipleSuggestions.set(t>1),i)e.auto?this.setState(S.Hidden):this.setState(S.Empty),this.completionModel=null;else{var n=e.currentWord,o=n.toLowerCase(),r=-1,s=-1;this.completionModel.items.forEach(function(e,t){var i=E(e.suggestion.label,n,o);i>s&&(s=i,r=t)}),this.telemetryData=this.telemetryData||{},this.telemetryData.suggestionCount=this.completionModel.items.length,this.telemetryData.suggestedIndex=r,this.telemetryData.hintLength=n.length,(a=this.list).splice.apply(a,[0,this.list.length].concat(this.completionModel.items)),this.list.setFocus(r),this.list.reveal(r,0),this.setState(S.Open)}this.telemetryTimer&&(this.telemetryTimer.data={reason:i?"empty":"results"},this.telemetryTimer.stop(),this.telemetryTimer=null);var a},e.prototype.onDidCancel=function(e){this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),e.retrigger||(this.setState(S.Hidden),this.telemetryData&&(this.telemetryData.selectedIndex=-1,this.telemetryData.wasCancelled=!0,this.submitTelemetryData())),this.telemetryTimer&&(this.telemetryTimer.data={reason:"cancel"},this.telemetryTimer.stop(),this.telemetryTimer=null)},e.prototype.selectNextPage=function(){switch(this.state){case S.Hidden:return!1;case S.Details:return this.details.pageDown(),!0;case S.Loading:return!this.isAuto;default:return this.list.focusNextPage(),!0}},e.prototype.selectNext=function(){switch(this.state){case S.Hidden:return!1;case S.Details:return this.details.scrollDown(),!0;case S.Loading:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},e.prototype.selectPreviousPage=function(){switch(this.state){case S.Hidden:return!1;case S.Details:return this.details.pageUp(),!0;case S.Loading:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},e.prototype.selectPrevious=function(){switch(this.state){case S.Hidden:return!1;case S.Details:return this.details.scrollUp(),!0;case S.Loading:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},e.prototype.acceptSelectedSuggestion=function(){switch(this.state){case S.Hidden:return!1;case S.Empty:return!1;case S.Loading:return!this.isAuto;default:var e=this.list.getFocusedElements()[0];return e?this.list.setSelection(this.completionModel.items.indexOf(e)):this.model.cancel(),!0}},e.prototype.toggleDetails=function(){if(this.state===S.Details)return this.setState(S.Open),void this.editor.focus();if(this.state===S.Open){var e=this.list.getFocusedElements()[0];e&&e.suggestion.documentationLabel&&(this.setState(S.Details),this.editor.focus())}},e.prototype.show=function(){var e=this;this.updateWidgetHeight(),this.suggestWidgetVisible.set(!0),this.renderDetails(),this.showTimeout=o.TPromise.timeout(100).then(function(){a.addClass(e.element,"visible")})},e.prototype.hide=function(){this.suggestWidgetVisible.reset(),a.removeClass(this.element,"visible")},e.prototype.cancel=function(){this.state===S.Details?this.toggleDetails():this.model.cancel()},e.prototype.getPosition=function(){return this.state===S.Hidden?null:{position:this.editor.getPosition(),preference:[f.ContentWidgetPositionPreference.BELOW,f.ContentWidgetPositionPreference.ABOVE]}},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.submitTelemetryData=function(){this.telemetryService.publicLog("suggestWidget",this.telemetryData),this.telemetryData=null},e.prototype.updateWidgetHeight=function(){var e=0;if(this.state===S.Empty||this.state===S.Loading)e=w;else if(this.state===S.Details)e=12*w;else{var t=this.list.getFocusedElements()[0],i=t?this.delegate.getHeight(t):w;e=i;var n=(this.list.contentHeight-i)/w;e+=Math.min(n,11)*w}return this.element.style.height=e+"px",this.list.layout(e),this.editor.layoutContentWidget(this),e},e.prototype.renderDetails=function(){this.state!==S.Details?this.details.render(null):this.details.render(this.list.getFocusedElements()[0])},e.prototype.dispose=function(){this.state=null,this.suggestionSupportsAutoAccept=null,this.currentSuggestionDetails=null,this.focusedItem=null,this.telemetryData=null,this.telemetryService=null,this.telemetryTimer=null,this.element=null,this.messageElement=null,this.listElement=null,this.details.dispose(),this.details=null,this.list.dispose(),this.list=null,this.toDispose=s.dispose(this.toDispose),this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),this.editorBlurTimeout&&(this.editorBlurTimeout.cancel(),this.editorBlurTimeout=null),this.showTimeout&&(this.showTimeout.cancel(),this.showTimeout=null)},e.ID="editor.widget.suggestWidget",e.WIDTH=438,e.LOADING_MESSAGE=i.localize(4,null),e.NO_SUGGESTIONS_MESSAGE=i.localize(5,null),e=g([m(2,h.IKeybindingService),m(3,p.ITelemetryService),m(4,d.IInstantiationService)],e)}();t.SuggestWidget=A}),define(l[726],d([1,0,450,7,13,5,2,6,20,40,11,26,37,61,141,199,62,170,724,725]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";function C(e,t){return function(i){return S.withCodeEditorFromCommandHandler(e,i,function(e){t(w.getController(e))})}}var w=function(){function e(e,t){var i=this;this.editor=e,this.model=new b.SuggestModel(this.editor),this.widget=t.createInstance(_.SuggestWidget,this.editor,this.model),this.triggerCharacterListeners=[],this.toDispose=[],this.toDispose.push(e.onDidChangeConfiguration(function(){return i.update()})),this.toDispose.push(e.onDidChangeModel(function(){return i.update()})),this.toDispose.push(e.onDidChangeModelMode(function(){return i.update()})),this.toDispose.push(p.SuggestRegistry.onDidChange(this.update,this)),this.toDispose.push(this.model.onDidAccept(function(e){return v.getSnippetController(i.editor).run(e.snippet,e.overwriteBefore,e.overwriteAfter)})),this.update()}return e.getController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose),this.triggerCharacterListeners=r.dispose(this.triggerCharacterListeners),this.widget&&(this.widget.dispose(),this.widget=null),this.model&&(this.model.dispose(),this.model=null)},e.prototype.update=function(){var e=this;if(this.triggerCharacterListeners=r.dispose(this.triggerCharacterListeners),!this.editor.getConfiguration().readOnly&&this.editor.getModel()&&this.editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){var t=p.SuggestRegistry.orderedGroups(this.editor.getModel());if(0!==t.length){var i=Object.create(null);t.forEach(function(e){var t=Object.create(null);e.forEach(function(e){var n=e.triggerCharacters;if(n)for(var o=0,r=n;o<r.length;o++){var s=r[o],a=t[s];a?a.push(e):(a=[e],t[s]=a,i[s]?i[s].push(a):i[s]=[a])}})}),Object.keys(i).forEach(function(t){e.triggerCharacterListeners.push(e.editor.addTypingListener(t,function(){e.triggerCharacterHandler(t,i[t])}))})}}},e.prototype.triggerCharacterHandler=function(e,t){t=t.map(function(e){return e.filter(function(e){return e.shouldAutotriggerSuggest})}),t.length>0&&this.triggerSuggest(e,t).done(null,n.onUnexpectedError)},e.prototype.triggerSuggest=function(e,t){return this.model.trigger(!1,e,!1,t),this.editor.focus(),s.TPromise.as(!1)},e.prototype.acceptSelectedSuggestion=function(){this.widget&&this.widget.acceptSelectedSuggestion()},e.prototype.cancelSuggestWidget=function(){this.widget&&this.widget.cancel()},e.prototype.selectNextSuggestion=function(){this.widget&&this.widget.selectNext()},e.prototype.selectNextPageSuggestion=function(){this.widget&&this.widget.selectNextPage()},e.prototype.selectPrevSuggestion=function(){this.widget&&this.widget.selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.widget&&this.widget.selectPreviousPage()},e.prototype.toggleSuggestionDetails=function(){this.widget&&this.widget.toggleDetails()},e.ID="editor.contrib.suggestController",e=g([m(1,a.IInstantiationService)],e)}();t.SuggestController=w;var I=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.isSupported=function(){return p.SuggestRegistry.has(this.editor.getModel())&&!this.editor.getConfiguration().readOnly},t.prototype.run=function(){return w.getController(this.editor).triggerSuggest()},t.ID="editor.action.triggerSuggest",t}(u.EditorAction);t.TriggerSuggestAction=I,d.CommonEditorRegistry.registerEditorAction(new d.EditorActionDescriptor(I,I.ID,i.localize(0,null),{context:d.ContextKey.EditorTextFocus,primary:o.KeyMod.CtrlCmd|o.KeyCode.Space,mac:{primary:o.KeyMod.WinCtrl|o.KeyCode.Space}},"Trigger Suggest"));var T=d.CommonEditorRegistry.commandWeight(90);E.KeybindingsRegistry.registerCommandDesc({id:"acceptSelectedSuggestion",handler:C("acceptSelectedSuggestion",function(e){return e.acceptSelectedSuggestion()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible)),primary:o.KeyCode.Tab}),E.KeybindingsRegistry.registerCommandDesc({id:"acceptSelectedSuggestionOnEnter",handler:C("acceptSelectedSuggestionOnEnter",function(e){return e.acceptSelectedSuggestion()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible),c.KbExpr.has("config.editor.acceptSuggestionOnEnter")),primary:o.KeyCode.Enter}),E.KeybindingsRegistry.registerCommandDesc({id:"hideSuggestWidget",handler:C("hideSuggestWidget",function(e){return e.cancelSuggestWidget()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible)),primary:o.KeyCode.Escape,secondary:[o.KeyMod.Shift|o.KeyCode.Escape]}),E.KeybindingsRegistry.registerCommandDesc({id:"selectNextSuggestion",handler:C("selectNextSuggestion",function(e){return e.selectNextSuggestion()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible),c.KbExpr.has(y.Context.MultipleSuggestions)),primary:o.KeyCode.DownArrow,secondary:[o.KeyMod.Alt|o.KeyCode.DownArrow]}),E.KeybindingsRegistry.registerCommandDesc({id:"selectNextPageSuggestion",handler:C("selectNextPageSuggestion",function(e){return e.selectNextPageSuggestion()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible),c.KbExpr.has(y.Context.MultipleSuggestions)),primary:o.KeyCode.PageDown,secondary:[o.KeyMod.Alt|o.KeyCode.PageDown]}),E.KeybindingsRegistry.registerCommandDesc({id:"selectPrevSuggestion",handler:C("selectPrevSuggestion",function(e){return e.selectPrevSuggestion()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible),c.KbExpr.has(y.Context.MultipleSuggestions)),primary:o.KeyCode.UpArrow,secondary:[o.KeyMod.Alt|o.KeyCode.UpArrow]}),E.KeybindingsRegistry.registerCommandDesc({id:"selectPrevPageSuggestion",handler:C("selectPrevPageSuggestion",function(e){return e.selectPrevPageSuggestion()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible),c.KbExpr.has(y.Context.MultipleSuggestions)),primary:o.KeyCode.PageUp,secondary:[o.KeyMod.Alt|o.KeyCode.PageUp]}),E.KeybindingsRegistry.registerCommandDesc({id:"toggleSuggestionDetails",handler:C("toggleSuggestionDetails",function(e){return e.toggleSuggestionDetails()}),weight:T,when:c.KbExpr.and(c.KbExpr.has(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),c.KbExpr.has(y.Context.Visible)),primary:o.KeyMod.CtrlCmd|o.KeyCode.Space,mac:{primary:o.KeyMod.WinCtrl|o.KeyCode.Space}}),f.EditorBrowserRegistry.registerEditorContribution(w)}),define(l[316],d([1,0,452,13,2,40,54,26]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i){e.call(this,t,i,s.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){return this.editor.getConfiguration().tabFocusMode?this.editor.updateOptions({tabFocusMode:!1}):this.editor.updateOptions({tabFocusMode:!0}),o.TPromise.as(!0)},t.ID="editor.action.toggleTabFocusMode",t}(r.EditorAction);t.ToggleTabFocusModeAction=c,a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(c,c.ID,i.localize(0,null),{context:a.ContextKey.EditorTextFocus,primary:n.KeyMod.CtrlCmd|n.KeyCode.KEY_M,mac:{primary:n.KeyMod.WinCtrl|n.KeyMod.Shift|n.KeyCode.KEY_M}},"Toggle Use of Tab Key for Setting Focus"))}),define(l[728],d([1,0,416,13,5,9,2,10,134,60,100,20,62,147,40,54,11,26,61,316,836]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";var C=i.localize(0,null),w="accessibilityHelpWidgetVisible",I="toggleExperimentalScreenReaderSupport",T=function(e){function t(t,i){e.call(this),this._editor=t,this._widget=this._register(new A(this._editor,i))}return h(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.getId=function(){return t.ID},t.prototype.show=function(){this._widget.show()},t.prototype.hide=function(){this._widget.hide()},t.ID="editor.contrib.accessibilityHelpController",t=g([m(1,d.IKeybindingService)],t)}(o.Disposable),A=function(e){function t(i,n){var o=this;e.call(this),this._editor=i,this._keybindingService=n,this._isVisibleKey=n.createKey(w,!1),this._domNode=document.createElement("div"),this._domNode.className="accessibilityHelpWidget",u.StyleMutator.setWidth(this._domNode,t.WIDTH),u.StyleMutator.setHeight(this._domNode,t.HEIGHT),this._domNode.style.display="none",this._domNode.setAttribute("role","tooltip"),this._domNode.setAttribute("aria-hidden","true"),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(function(){o._isVisible&&o._layout()})),this.onblur(this._domNode,function(){o.hide()}),this._editor.addOverlayWidget(this)}return h(t,e),t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:null}},t.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.style.display="block",this._domNode.setAttribute("aria-hidden","false"),this._domNode.tabIndex=0,this._buildContent(),this._domNode.focus())},t.prototype._descriptionForCommand=function(e,t,i){var n=this._keybindingService.lookupKeybindings(e);return n.length>0?r.format(t,this._keybindingService.getAriaLabelFor(n[0])):r.format(i,e)},t.prototype._buildContent=function(){var e=this._editor.getConfiguration(),t=i.localize(1,null);t+="\n\n"+i.localize(2,null);var n=i.localize(3,null),o=i.localize(4,null),r=i.localize(5,null),s=i.localize(6,null);t+=e.tabFocusMode?"\n\n - "+this._descriptionForCommand(_.ToggleTabFocusModeAction.ID,n,o):"\n\n - "+this._descriptionForCommand(_.ToggleTabFocusModeAction.ID,r,s),t+="\n\n"+i.localize(7,null),this._domNode.appendChild(c.renderHtml({formattedText:t}))},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.style.display="none",this._domNode.setAttribute("aria-hidden","true"),this._domNode.tabIndex=-1,a.clearNode(this._domNode),this._editor.focus())},t.prototype._layout=function(){var e=this._editor.getLayoutInfo(),i=Math.round((e.height-t.HEIGHT)/2);u.StyleMutator.setTop(this._domNode,i);var n=Math.round((e.width-t.WIDTH)/2);u.StyleMutator.setLeft(this._domNode,n)},t.ID="editor.contrib.accessibilityHelpWidget",t.WIDTH=500,t.HEIGHT=300,t}(l.Widget),L=function(e){function t(t,i){e.call(this,t,i,y.Behaviour.WidgetFocus)}return h(t,e),t.prototype.run=function(){var e=T.get(this.editor);return e.show(),s.TPromise.as(!0)},t}(v.EditorAction);b.EditorBrowserRegistry.registerEditorContribution(T),S.CommonEditorRegistry.registerEditorAction(new S.EditorActionDescriptor(L,E.SHOW_ACCESSIBILITY_HELP_ACTION_ID,C,{context:S.ContextKey.EditorFocus,primary:n.KeyMod.Alt|n.KeyCode.F1},"Show Accessibility Help")),S.CommonEditorRegistry.registerEditorCommand("closeAccessibilityHelp",S.CommonEditorRegistry.commandWeight(100),{primary:n.KeyCode.Escape,secondary:[n.KeyMod.Shift|n.KeyCode.Escape]},!1,w,function(e,t,i){T.get(t).hide()}),p.KeybindingsRegistry.registerCommandDesc({id:I,handler:function(e){var t=f.GlobalScreenReaderNVDA.getValue();f.GlobalScreenReaderNVDA.setValue(!t)},weight:p.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:null,primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_R})}),define(l[729],d([1,0,453,13,2,40,54,26]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i){e.call(this,t,i,s.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){var e,t=this.editor.getConfiguration().wrappingInfo;return e=t.isViewportWrapping?-1:0,this.editor.updateOptions({wrappingColumn:e}),o.TPromise.as(!0)},t.ID="editor.action.toggleWordWrap",t}(r.EditorAction);a.CommonEditorRegistry.registerEditorAction(new a.EditorActionDescriptor(c,c.ID,i.localize(0,null),{context:a.ContextKey.EditorTextFocus,primary:n.KeyMod.Alt|n.KeyCode.KEY_Z,mac:{primary:n.KeyMod.Alt|n.KeyCode.KEY_Z},linux:{primary:n.KeyMod.Alt|n.KeyCode.KEY_Z}},"View: Toggle Word Wrap"))}),define(l[730],d([1,0,16,7,14,11,26,37,5]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e,t){var o=a.DocumentHighlightProviderRegistry.ordered(e),r=!1;return i.sequence(o.map(function(o){return function(){if(!r)return i.asWinJsPromise(function(i){return o.provideDocumentHighlights(e,t,i)}).then(function(e){if(Array.isArray(e)&&e.length>0)return r=!0,e},function(e){n.onUnexpectedError(e)})}})).then(function(e){return e[0]})}t.getOccurrencesAtPosition=u,s.CommonEditorRegistry.registerDefaultLanguageCommand("_executeDocumentHighlights",u);var l=function(){function e(e){var t=this;this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.model=this.editor.getModel(),this.toUnhook=[],this.toUnhook.push(e.onDidChangeCursorPosition(function(e){t._onPositionChanged(e)})),this.toUnhook.push(e.onDidChangeModel(function(e){t._stopAll(),t.model=t.editor.getModel()})),this.toUnhook.push(e.onDidChangeModelContent(function(e){t._stopAll()})),this._lastWordRange=null,this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]))},e.prototype._stopAll=function(){this._lastWordRange=null,this._removeDecorations(),this.renderDecorationsTimer!==-1&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){var t=this;if(e.reason!==r.CursorChangeReason.Explicit)return void this._stopAll();if(!a.DocumentHighlightProviderRegistry.has(this.model))return void this._stopAll();var i=this.editor.getSelection();if(i.startLineNumber!==i.endLineNumber)return void this._stopAll();var n=i.startLineNumber,s=i.startColumn,c=i.endColumn,l=this.model.getWordAtPosition({lineNumber:n,column:s});if(!l||l.startColumn>s||l.endColumn<c)return void this._stopAll();for(var d=new o.Range(n,l.startColumn,n,l.endColumn),h=this._lastWordRange&&this._lastWordRange.equalsRange(d),p=0,f=this._decorationIds.length;!h&&p<f;p++){var g=this.model.getDecorationRange(this._decorationIds[p]);g&&g.startLineNumber===n&&g.startColumn<=s&&g.endColumn>=c&&(h=!0)}if(this.lastCursorPositionChangeTime=(new Date).getTime(),h)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(window.clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var m=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=u(this.model,this.editor.getPosition()),this.workerRequest.then(function(e){m===t.workerRequestTokenId&&(t.workerRequestCompleted=!0,t.workerRequestValue=e||[],t._beginRenderDecorations())}).done()}this._lastWordRange=d},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),i=this.lastCursorPositionChangeTime+250;t>=i?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=window.setTimeout(function(){e.renderDecorations()},i-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var e=[],t=0,i=this.workerRequestValue.length;t<i;t++){var n=this.workerRequestValue[t],o="#A0A0A0",s=void 0;s=n.kind===a.DocumentHighlightKind.Write?"wordHighlightStrong":n.kind===a.DocumentHighlightKind.Text?"selectionHighlight":"wordHighlight",e.push({range:n.range,options:{stickiness:r.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:s,overviewRuler:{color:o,darkColor:o,position:r.OverviewRulerLane.Center}}})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e)},e.prototype.destroy=function(){this._stopAll(),this.toUnhook=c.dispose(this.toUnhook)},e}(),d=function(){function e(e){this.wordHighligher=new l(e)}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.wordHighligher.destroy()},e.ID="editor.contrib.wordHighlighter",e}();s.CommonEditorRegistry.registerEditorContribution(d)}),define(l[315],d([1,0,456,123,25,112,95,105,45,38,141]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e,t){return r.readFile(t).then(function(i){var o=[],r=n.parse(i.toString(),o),s=f.adapt(r);a.SnippetsRegistry.registerSnippets(e,t,s)})}t.snippetUpdated=d;var h=s.ExtensionsRegistry.registerExtensionPoint("snippets",{description:i.localize(0,null),type:"array",defaultSnippets:[{body:[{language:"",path:""}]}],items:{type:"object",defaultSnippets:[{body:{language:"{{id}}",path:"./snippets/{{id}}.json."}}],properties:{language:{description:i.localize(1,null),type:"string"},path:{description:i.localize(2,null),type:"string"}}}}),p=function(){function e(e,t){var i=this;this._modelService=e,this._modeService=t,h.setHandler(function(e){for(var t=0;t<e.length;t++)for(var n=e[t].value,o=0;o<n.length;o++)i._withTMSnippetContribution(e[t].description.extensionFolderPath,n[o],e[t].collector)})}return e.prototype._withTMSnippetContribution=function(e,t,n){var r=this;if(!t.language||"string"!=typeof t.language||!this._modeService.isRegisteredMode(t.language))return void n.error(i.localize(3,null,h.name,String(t.language)));if(!t.path||"string"!=typeof t.path)return void n.error(i.localize(4,null,h.name,String(t.path)));var s=o.normalize(o.join(e,t.path));0!==s.indexOf(e)&&n.warn(i.localize(5,null,h.name,s,e));var a=t.language,c=this._modeService.onDidCreateMode(function(e){e.getId()===a&&(r.registerDefinition(a,s),c.dispose())})},e.prototype.registerDefinition=function(e,t){r.readFile(t).then(function(t){var i=[],o=n.parse(t.toString(),i),r=f.adapt(o);a.SnippetsRegistry.registerDefaultSnippets(e,r)})},e=g([m(0,u.IModelService),m(1,c.IModeService)],e)}();t.MainProcessTextMateSnippet=p;var f=function(){function e(){}return e.adapt=function(t){var i=Object.keys(t),n=[],o=function(t,i){var o=t.prefix,r=t.body;if(Array.isArray(r)&&(r=r.join("\n")),"string"==typeof o&&"string"==typeof r){var s=e.convertSnippet(r);null!==s&&n.push({type:"snippet",label:o,documentationLabel:t.description||i,codeSnippet:s,noAutoAccept:!0})}};return i.forEach(function(e){var i=t[e];if(i.body&&i.prefix)o(i,e);else{var n=Object.keys(i);n.forEach(function(e){o(i[e],e)})}}),n},e.convertSnippet=function(e){return l.CodeSnippet.convertExternalSnippet(e,l.ExternalSnippetType.TextMateSnippet)},e}()}),define(l[732],d([1,0,51,298,21,18]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t,o){this.serviceId=i.IContextViewService,this.contextView=new n.ContextView(e)}return e.prototype.dispose=function(){this.contextView.dispose();
},e.prototype.setContainer=function(e){this.contextView.setContainer(e)},e.prototype.showContextView=function(e){this.contextView.show(e)},e.prototype.layout=function(){this.contextView.layout()},e.prototype.hideContextView=function(e){this.contextView.hide(e)},e=g([m(1,o.ITelemetryService),m(2,r.IMessageService)],e)}();t.ContextViewService=s}),define(l[733],d([1,0,2,111,17,29,155,21,641,182]),function(e,t,i,n,o,r,s,a,c,u){"use strict";function l(e,t){var i=(e||[]).filter(function(e){return e.statisticName===t})[0];return i?i.value:0}function d(e,t,i){var n=e.versions.map(function(e){return{version:e.version,date:e.lastUpdated,downloadHeaders:i,downloadUrl:e.assetUri+"/Microsoft.VisualStudio.Services.VSIXPackage?install=true",manifestUrl:e.assetUri+"/Microsoft.VisualStudio.Code.Manifest",readmeUrl:e.assetUri+"/Microsoft.VisualStudio.Services.Content.Details",iconUrl:e.assetUri+"/Microsoft.VisualStudio.Services.Icons.Default"}});return{id:e.extensionId,name:e.extensionName,displayName:e.displayName,publisherId:e.publisher.publisherId,publisher:e.publisher.publisherName,publisherDisplayName:e.publisher.displayName,description:e.shortDescription||"",installCount:l(e.statistics,"install"),rating:l(e.statistics,"averagerating"),ratingCount:l(e.statistics,"ratingcount"),versions:n}}var h;!function(e){e[e.None=0]="None",e[e.IncludeVersions=1]="IncludeVersions",e[e.IncludeFiles=2]="IncludeFiles",e[e.IncludeCategoryAndTags=4]="IncludeCategoryAndTags",e[e.IncludeSharedAccounts=8]="IncludeSharedAccounts",e[e.IncludeVersionProperties=16]="IncludeVersionProperties",e[e.ExcludeNonValidated=32]="ExcludeNonValidated",e[e.IncludeInstallationTargets=64]="IncludeInstallationTargets",e[e.IncludeAssetUri=128]="IncludeAssetUri",e[e.IncludeStatistics=256]="IncludeStatistics",e[e.IncludeLatestVersionOnly=512]="IncludeLatestVersionOnly"}(h||(h={}));var p;!function(e){e[e.Tag=1]="Tag",e[e.ExtensionId=4]="ExtensionId",e[e.Category=5]="Category",e[e.ExtensionName=7]="ExtensionName",e[e.Target=8]="Target",e[e.Featured=9]="Featured",e[e.SearchText=10]="SearchText"}(p||(p={}));var f=10,v={pageNumber:1,pageSize:f,sortBy:n.SortBy.NoneOrRelevance,sortOrder:n.SortOrder.Default,flags:h.None,criteria:[]},y=function(){function e(e){void 0===e&&(e=v),this.state=e}return Object.defineProperty(e.prototype,"pageNumber",{get:function(){return this.state.pageNumber},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this.state.pageSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortBy",{get:function(){return this.state.sortBy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortOrder",{get:function(){return this.state.sortOrder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this.state.flags},enumerable:!0,configurable:!0}),e.prototype.withPage=function(t,i){return void 0===i&&(i=this.state.pageSize),new e(r.assign({},this.state,{pageNumber:t,pageSize:i}))},e.prototype.withFilter=function(t,i){var n={filterType:t};o.isUndefined(i)||(n.value=i);var s=this.state.criteria.slice();return s.push(n),new e(r.assign({},this.state,{criteria:s}))},e.prototype.withSortBy=function(t){return new e(r.assign({},this.state,{sortBy:t}))},e.prototype.withSortOrder=function(t){return new e(r.assign({},this.state,{sortOrder:t}))},e.prototype.withFlags=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];return new e(r.assign({},this.state,{flags:t.reduce(function(e,t){return e|t},0)}))},Object.defineProperty(e.prototype,"raw",{get:function(){return{filters:[{criteria:this.state.criteria,pageNumber:this.state.pageNumber,pageSize:this.state.pageSize,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder}],flags:this.state.flags}},enumerable:!0,configurable:!0}),e}(),E=function(){function e(e,t){this.requestService=e,this.telemetryService=t,this.serviceId=n.IExtensionGalleryService;var i=u["default"].extensionsGallery;this.extensionsGalleryUrl=i&&i.serviceUrl,this.machineId=t.getTelemetryInfo().then(function(e){var t=e.machineId;return t})}return e.prototype.api=function(e){return void 0===e&&(e=""),""+this.extensionsGalleryUrl+e},e.prototype.isEnabled=function(){return!!this.extensionsGalleryUrl},e.prototype.query=function(e){var t=this;if(void 0===e&&(e={}),!this.isEnabled())return i.TPromise.wrapError(new Error("No extension gallery service configured."));var o=e.names?"ids":e.text?"text":"all",s=e.text||"",a=r.getOrDefault(e,function(e){return e.pageSize},50);this.telemetryService.publicLog("galleryService:query",{type:o,text:s});var c=(new y).withFlags(h.IncludeVersions,h.IncludeCategoryAndTags,h.IncludeAssetUri,h.IncludeStatistics).withPage(1,a).withFilter(p.Target,"Microsoft.VisualStudio.Code");return c=s?c.withFilter(p.SearchText,s).withSortBy(n.SortBy.NoneOrRelevance):e.ids?e.ids.reduce(function(e,t){return e.withFilter(p.ExtensionId,t)},c):e.names?e.names.reduce(function(e,t){return e.withFilter(p.ExtensionName,t)},c):c.withSortBy(n.SortBy.InstallCount),"number"==typeof e.sortBy&&(c=c.withSortBy(e.sortBy)),"number"==typeof e.sortOrder&&(c=c.withSortOrder(e.sortOrder)),this.queryGallery(c).then(function(e){var i=e.galleryExtensions,n=e.total;return t.getRequestHeaders().then(function(e){var o=i.map(function(i){return d(i,t.extensionsGalleryUrl,e)}),r=c.pageSize,s=function(i){return t.queryGallery(c.withPage(i+1)).then(function(i){var n=i.galleryExtensions;return n.map(function(i){return d(i,t.extensionsGalleryUrl,e)})})};return{firstPage:o,total:n,pageSize:r,getPage:s}})})},e.prototype.queryGallery=function(e){var t=this,i=JSON.stringify(e.raw);return this.getRequestHeaders().then(function(e){e=r.assign(e,{"Content-Type":"application/json",Accept:"application/json;api-version=3.0-preview.1","Content-Length":i.length});var n={type:"POST",url:t.api("/extensionquery"),data:i,headers:e};return t.requestService.makeRequest(n)}).then(function(e){return JSON.parse(e.responseText).results[0]}).then(function(e){var t=e.extensions,i=e.resultMetadata&&e.resultMetadata.filter(function(e){return"ResultCount"===e.metadataType})[0],n=i&&i.metadataItems.filter(function(e){return"TotalCount"===e.name})[0].count||0;return{galleryExtensions:t,total:n}})},e.prototype.getRequestHeaders=function(){return this.machineId.then(function(e){var t={"X-Market-Client-Id":"VSCode "+c["default"].version,"User-Agent":"VSCode "+c["default"].version};return e&&(t["X-Market-User-Id"]=e),t})},e=g([m(0,s.IRequestService),m(1,a.ITelemetryService)],e)}();t.ExtensionGalleryService=E}),define(l[734],d([1,0,19,2,98,9,75,16,29,155,21]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(){function e(e,t){void 0===t&&(t=l.NullTelemetryService),this.serviceId=u.IRequestService;var i=null,n=e.getWorkspace();this._serviceMap=n||Object.create(null),this._telemetryService=t,n&&(i=r.rtrim(n.resource.toString(),"/")+"/"),this.computeOrigin(i)}return e.prototype.computeOrigin=function(e){if(e){this._origin=e;var t=i["default"].parse(this._origin).path;t&&t.length>0&&(this._origin=this._origin.substring(0,this._origin.length-t.length+1)),r.endsWith(this._origin,"/")||(this._origin+="/")}else this._origin="/"},e.prototype.makeCrossOriginRequest=function(e){return null},e.prototype.makeRequest=function(e){var t=s.nullEvent,i=!1,u=e.url;if(!u)throw new Error("IRequestService.makeRequest: Url is required");if((r.startsWith(u,"http://")||r.startsWith(u,"https://"))&&this._origin&&!r.startsWith(u,this._origin)){var l=this.makeCrossOriginRequest(e);if(l)return l;i=!0}var d=e,h=n.TPromise.as(void 0);return i||(d=this._telemetryService.getTelemetryInfo().then(function(e){var t={};t["X-TelemetrySession"]=e.sessionId,t["X-Requested-With"]="XMLHttpRequest",d.headers=c.mixin(d.headers,t)})),e.timeout&&(d.customRequestInitializer=function(t){t.timeout=e.timeout}),h.then(function(){return a.always(o.xhr(d),function(e){t.data&&(t.data.status=e.status),t.stop()})})},e}();t.BaseRequestService=d}),define(l[314],d([1,0,2]),function(e,t,i){"use strict";var n=function(){function e(e){this.appender=e}return e.prototype.call=function(e,t){var n=t.eventName,o=t.data;return this.appender.log(n,o),i.TPromise.as(null)},e}();t.TelemetryAppenderChannel=n;var o=function(){function e(e){this.channel=e}return e.prototype.log=function(e,t){return this.channel.call("log",{eventName:e,data:t})},e.prototype.dispose=function(){},e}();t.TelemetryAppenderClient=o}),define(l[313],d([1,0,470,9,21,6,23,67,2,5,75,29,15]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";var p=function(){function e(e,t){var i=this;this._configurationService=t,this.serviceId=o.ITelemetryService,this._disposables=[],this._cleanupPatterns=[],this._appender=e.appender,this._commonProperties=e.commonProperties||c.TPromise.as({}),this._piiPaths=e.piiPaths||[],this._userOptIn="undefined"==typeof e.userOptIn||e.userOptIn;for(var r=0,s=this._piiPaths;r<s.length;r++){var a=s[r];this._cleanupPatterns.push([new RegExp(n.escapeRegExpCharacters(a),"gi"),""])}this._cleanupPatterns.push([/file:\/\/\/.*?\/resources\/app\//gi,""],[/file:\/\/\/.*/gi,""],[/ENOENT: no such file or directory.*?\'([^\']+)\'/gi,"ENOENT: no such file or directory"]),this._timeKeeper=new l.TimeKeeper,this._disposables.push(this._timeKeeper),this._disposables.push(this._timeKeeper.addListener(function(e){return i._onTelemetryTimerEventStop(e)})),this._configurationService&&(this._updateUserOptIn(),this._configurationService.onDidUpdateConfiguration(this._updateUserOptIn,this,this._disposables),this.publicLog("optInStatus",{optIn:this._userOptIn}))}return e.prototype._updateUserOptIn=function(){var e=this._configurationService.getConfiguration(f);this._userOptIn=e?e.enableTelemetry:this._userOptIn},e.prototype._onTelemetryTimerEventStop=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i.data||{};n.duration=i.timeTaken(),this.publicLog(i.name,n)}},Object.defineProperty(e.prototype,"isOptedIn",{get:function(){return this._userOptIn},enumerable:!0,configurable:!0}),e.prototype.getTelemetryInfo=function(){return this._commonProperties.then(function(e){var t=e.sessionID,i=e["common.instanceId"],n=e["common.machineId"];return{sessionId:t,instanceId:i,machineId:n}})},e.prototype.dispose=function(){this._disposables=u.dispose(this._disposables)},e.prototype.timedPublicLog=function(e,t){var i="public",n=this._timeKeeper.start(i,e);return t&&(n.data=t),n},e.prototype.publicLog=function(e,t){var i=this;return this._userOptIn||"optInStatus"===e?this._commonProperties.then(function(n){t=d.mixin(t,n),t=d.cloneAndChange(t,function(e){if("string"==typeof e)return i._cleanupInfo(e)}),i._appender.log(e,t)},function(e){console.error(e)}):c.TPromise.as(void 0)},e.prototype._cleanupInfo=function(e){for(var t=0,i=this._cleanupPatterns;t<i.length;t++){var n=i[t],o=n[0],r=n[1];e=e.replace(o,r)}return e},e.IDLE_START_EVENT_NAME="UserIdleStart",e.IDLE_STOP_EVENT_NAME="UserIdleStop",e=g([m(1,r.optional(s.IConfigurationService))],e)}();t.TelemetryService=p;var f="telemetry";h.Registry.as(a.Extensions.Configuration).registerConfiguration({id:f,order:110,type:"object",title:i.localize(0,null),properties:{"telemetry.enableTelemetry":{type:"boolean",description:i.localize(1,null),"default":!0}}})}),define(l[737],d([1,0,12,160,2,82]),function(e,t,i,n,o,r){"use strict";function s(e,t){var s=Object.create(null);s.sessionID=r.generateUuid()+Date.now(),s.commitHash=e,s.version=t,s["common.osVersion"]=n.release(),s["common.platform"]=i.Platform[i.platform];var a=0,c=Date.now();return Object.defineProperties(s,{timestamp:{get:function(){return new Date},enumerable:!0},"common.timesincesessionstart":{get:function(){return Date.now()-c},enumerable:!0},"common.sequence":{get:function(){return a++},enumerable:!0}}),o.TPromise.as(s)}t.resolveCommonProperties=s}),define(l[738],d([1,0,1023,318,2,7,82]),function(e,t,i,n,o,r,s){"use strict";function a(){return new o.TPromise(function(e){try{i.getMac(function(t,i){e(t?s.generateUuid():n.createHash("sha256").update(i,"utf8").digest("hex"))})}catch(t){r.onUnexpectedError(t),e(s.generateUuid())}})}t.getMachineId=a}),define(l[178],d([1,0]),function(e,t){"use strict";function i(e){return/vs($| )/.test(e)}function n(e){return/vs-dark($| )/.test(e)}function o(e){return e.split(" ")[1]}function r(e){return e.split(" ")[0]}t.isLightTheme=i,t.isDarkTheme=n,t.getSyntaxThemeId=o,t.getBaseThemeId=r}),define(l[741],d([1,0,178,11,117,261]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(n,o,s){e.call(this,n),this._overviewRuler=new r.OverviewRulerImpl(1,"decorationsOverviewRuler",o,this._context.configuration.editor.lineHeight,this._context.configuration.editor.viewInfo.canUseTranslate3d,t.DECORATION_HEIGHT,t.DECORATION_HEIGHT,s),this._overviewRuler.setLanesCount(this._context.configuration.editor.viewInfo.overviewRulerLanes,!1);var a=this._context.configuration.editor.viewInfo.theme;this._overviewRuler.setUseDarkColor(!i.isLightTheme(a),!1),this._shouldUpdateDecorations=!0,this._zonesFromDecorations=[],this._shouldUpdateCursorPosition=!0,this._hideCursor=this._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,this._zonesFromCursors=[],this._cursorPositions=[]}return h(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._overviewRuler.dispose()},t.prototype.onCursorPositionChanged=function(e){return this._shouldUpdateCursorPosition=!0,this._cursorPositions=[e.position],this._cursorPositions=this._cursorPositions.concat(e.secondaryPositions),!0},t.prototype.onConfigurationChanged=function(e){var t=this._overviewRuler.getLanesCount(),n=this._context.configuration.editor.viewInfo.overviewRulerLanes,o=!1;if(e.lineHeight&&(this._overviewRuler.setLineHeight(this._context.configuration.editor.lineHeight,!1),o=!0),e.viewInfo.canUseTranslate3d&&(this._overviewRuler.setCanUseTranslate3d(this._context.configuration.editor.viewInfo.canUseTranslate3d,!1),o=!0),t!==n&&(this._overviewRuler.setLanesCount(n,!1),o=!0),e.viewInfo.hideCursorInOverviewRuler&&(this._hideCursor=this._context.configuration.editor.viewInfo.hideCursorInOverviewRuler,this._shouldUpdateCursorPosition=!0,o=!0),e.viewInfo.theme){var r=this._context.configuration.editor.viewInfo.theme;this._overviewRuler.setUseDarkColor(!i.isLightTheme(r),!1),o=!0}return o},t.prototype.onLayoutChanged=function(e){return this._overviewRuler.setLayout(e.overviewRuler,!1),!0},t.prototype.onZonesChanged=function(){return!0},t.prototype.onModelFlushed=function(){return this._shouldUpdateCursorPosition=!0,this._shouldUpdateDecorations=!0,!0},t.prototype.onModelDecorationsChanged=function(e){return this._shouldUpdateDecorations=!0,!0},t.prototype.onScrollChanged=function(t){return this._overviewRuler.setScrollHeight(t.scrollHeight,!1),e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype.getDomNode=function(){return this._overviewRuler.getDomNode()},t.prototype._createZonesFromDecorations=function(){for(var e=this._context.model.getAllDecorations(),t=[],i=0,o=e.length;i<o;i++){var r=e[i];r.options.overviewRuler.color&&t.push(new n.OverviewRulerZone(r.range.startLineNumber,r.range.endLineNumber,r.options.overviewRuler.position,0,r.options.overviewRuler.color,r.options.overviewRuler.darkColor))}return t},t.prototype._createZonesFromCursors=function(){for(var e=[],i=0,o=this._cursorPositions.length;i<o;i++){var r=this._cursorPositions[i];e.push(new n.OverviewRulerZone(r.lineNumber,r.lineNumber,n.OverviewRulerLane.Full,2,t._CURSOR_COLOR,t._CURSOR_COLOR_DARK))}return e},t.prototype.prepareRender=function(e){if(!this.shouldRender())throw new Error("I did not ask to render!")},t.prototype.render=function(e){if(this._shouldUpdateDecorations||this._shouldUpdateCursorPosition){this._shouldUpdateDecorations&&(this._shouldUpdateDecorations=!1,this._zonesFromDecorations=this._createZonesFromDecorations()),this._shouldUpdateCursorPosition&&(this._shouldUpdateCursorPosition=!1,this._hideCursor?this._zonesFromCursors=[]:this._zonesFromCursors=this._createZonesFromCursors());var t=[];t=t.concat(this._zonesFromCursors),t=t.concat(this._zonesFromDecorations),this._overviewRuler.setZones(t,!1)}var i=this._overviewRuler.render(!1);if(i&&r.OverviewRulerImpl.hasCanvas&&this._overviewRuler.getLanesCount()>0&&(this._zonesFromDecorations.length>0||this._zonesFromCursors.length>0)){var n=this._overviewRuler.getDomNode().getContext("2d");n.beginPath(),n.lineWidth=1,n.strokeStyle="rgba(197,197,197,0.8)",n.moveTo(0,0),n.lineTo(0,this._overviewRuler.getPixelHeight()),n.stroke(),n.moveTo(0,0),n.lineTo(this._overviewRuler.getPixelWidth(),0),n.stroke()}},t.DECORATION_HEIGHT=6,t._CURSOR_COLOR="rgba(0, 0, 102, 0.8)",t._CURSOR_COLOR_DARK="rgba(152, 152, 152, 0.8)",t}(o.ViewPart);t.DecorationsOverviewRuler=s}),define(l[742],d([1,0,7,36,5,75,59,10,60,14,11,125,658,660,53,666,340,661,367,368,621,619,232,616,617,662,615,370,741,372,373,374,614,664,375,632]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N){"use strict";function F(e){try{return e()}catch(t){i.onUnexpectedError(t)}}function W(e,t){try{return e(t)}catch(n){i.onUnexpectedError(n)}}var B=function(e){function t(t,i,o,r){var s=this;e.call(this),this._isDisposed=!1,this._renderAnimationFrame=null,this.outgoingEventBus=new n.EventEmitter;var a=new m.ViewController(o,r,this.outgoingEventBus,t);this.listenersToRemove=[],this.listenersToDispose=[],this.eventDispatcher=new v.ViewEventDispatcher(function(e){return s._renderOnce(e)}),this.linesContent=document.createElement("div"),this.linesContent.className=g.ClassNames.LINES_CONTENT+" monaco-editor-background",this.domNode=document.createElement("div"),this.domNode.className=i.editor.viewInfo.editorClassName,this.overflowGuardContainer=document.createElement("div"),this.overflowGuardContainer.className=g.ClassNames.OVERFLOW_GUARD,this.layoutProvider=new E.LayoutProvider(i,o,this.eventDispatcher,this.linesContent,this.domNode,this.overflowGuardContainer),this.eventDispatcher.addEventHandler(this.layoutProvider),this._context=new N.ViewContext(i,o,this.eventDispatcher,function(e){return s.eventDispatcher.addEventHandler(e)},function(e){return s.eventDispatcher.removeEventHandler(e)}),this.createTextArea(t),this.createViewParts(),this.keyboardHandler=new p.KeyboardHandler(this._context,a,this.createKeyboardHandlerHelper()),this.pointerHandler=new f.PointerHandler(this._context,a,this.createPointerHandlerHelper()),this.hasFocus=!1,this.codeEditorHelper=null,this.eventDispatcher.addEventHandler(this),this.handleAccumulatedModelEventsTimeout=-1,this.accumulatedModelEvents=[],this.listenersToRemove.push(o.addBulkListener2(function(e){s.accumulatedModelEvents=s.accumulatedModelEvents.concat(e),s.handleAccumulatedModelEventsTimeout===-1&&(s.handleAccumulatedModelEventsTimeout=setTimeout(function(){s.handleAccumulatedModelEventsTimeout=-1,s._flushAnyAccumulatedEvents()}))}))}return h(t,e),t.prototype._flushAnyAccumulatedEvents=function(){var e=this.accumulatedModelEvents;this.accumulatedModelEvents=[],e.length>0&&this.eventDispatcher.emitMany(e)},t.prototype.createTextArea=function(e){var t=this;this.textArea=document.createElement("textarea"),this._keybindingService=e.createScoped(this.textArea),this._editorTextFocusContextKey=this._keybindingService.createKey(l.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS,void 0),this.textArea.className=g.ClassNames.TEXTAREA,this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._context.configuration.editor.viewInfo.ariaLabel),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),c.StyleMutator.setTop(this.textArea,0),c.StyleMutator.setLeft(this.textArea,0),this.listenersToDispose.push(a.addDisposableListener(this.textArea,"focus",function(){return t._setHasFocus(!0)})),this.listenersToDispose.push(a.addDisposableListener(this.textArea,"blur",function(){return t._setHasFocus(!1)})),this.textAreaCover=document.createElement("div"),this._context.configuration.editor.viewInfo.glyphMargin?this.textAreaCover.className="monaco-editor-background "+g.ClassNames.GLYPH_MARGIN+" "+g.ClassNames.TEXTAREA_COVER:this._context.configuration.editor.viewInfo.lineNumbers?this.textAreaCover.className="monaco-editor-background "+g.ClassNames.LINE_NUMBERS+" "+g.ClassNames.TEXTAREA_COVER:this.textAreaCover.className="monaco-editor-background "+g.ClassNames.TEXTAREA_COVER,this.textAreaCover.style.position="absolute",c.StyleMutator.setWidth(this.textAreaCover,1),c.StyleMutator.setHeight(this.textAreaCover,1),c.StyleMutator.setTop(this.textAreaCover,0),c.StyleMutator.setLeft(this.textAreaCover,0)},t.prototype.createViewParts=function(){var e=this;this.viewParts=[],this.viewLines=new T.ViewLines(this._context,this.layoutProvider),this.viewZones=new P.ViewZones(this._context,this.layoutProvider),this.viewParts.push(this.viewZones);var t=new D.DecorationsOverviewRuler(this._context,this.layoutProvider.getScrollHeight(),function(t){return e.layoutProvider.getVerticalOffsetForLineNumber(t)});this.viewParts.push(t);var i=new M.ScrollDecorationViewPart(this._context);this.viewParts.push(i);var n=new y.ContentViewOverlays(this._context,this.layoutProvider);this.viewParts.push(n),n.addDynamicOverlay(new b.CurrentLineHighlightOverlay(this._context,this.layoutProvider)),n.addDynamicOverlay(new R.SelectionsOverlay(this._context)),n.addDynamicOverlay(new _.DecorationsOverlay(this._context)),n.addDynamicOverlay(new I.IndentGuidesOverlay(this._context));var o=new y.MarginViewOverlays(this._context,this.layoutProvider);this.viewParts.push(o),o.addDynamicOverlay(new C.GlyphMarginOverlay(this._context)),o.addDynamicOverlay(new A.LinesDecorationsOverlay(this._context)),o.addDynamicOverlay(new w.LineNumbersOverlay(this._context)),this.contentWidgets=new S.ViewContentWidgets(this._context,this.domNode),this.viewParts.push(this.contentWidgets);var r=new O.ViewCursors(this._context);this.viewParts.push(r),this.overlayWidgets=new L.ViewOverlayWidgets(this._context),this.viewParts.push(this.overlayWidgets);var s=new x.Rulers(this._context,this.layoutProvider);if(this.viewParts.push(s),this.linesContentContainer=this.layoutProvider.getScrollbarContainerDomNode(),this.linesContentContainer.style.position="absolute",t){var a=this.layoutProvider.getOverviewRulerInsertData();a.parent.insertBefore(t.getDomNode(),a.insertBefore)}this.linesContent.appendChild(n.getDomNode()),this.linesContent.appendChild(s.domNode),this.linesContent.appendChild(this.viewZones.domNode),this.linesContent.appendChild(this.viewLines.getDomNode()),this.linesContent.appendChild(this.contentWidgets.domNode),this.linesContent.appendChild(r.getDomNode()),this.overflowGuardContainer.appendChild(o.getDomNode()),this.overflowGuardContainer.appendChild(this.linesContentContainer),this.overflowGuardContainer.appendChild(i.getDomNode()),this.overflowGuardContainer.appendChild(this.overlayWidgets.domNode),this.overflowGuardContainer.appendChild(this.textArea),this.overflowGuardContainer.appendChild(this.textAreaCover),this.domNode.appendChild(this.overflowGuardContainer),this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)},t.prototype._flushAccumulatedAndRenderNow=function(){this._flushAnyAccumulatedEvents(),this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,linesContentDomNode:this.linesContent,focusTextArea:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.focusTextArea: View is disposed");e.focus()},isDirty:function(){return e.accumulatedModelEvents.length>0},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollPosition:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.setScrollPosition: View is disposed");e.layoutProvider.setScrollPosition(t)},isAfterLines:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.isAfterLines: View is disposed");return e.layoutProvider.isAfterLines(t)},getLineNumberAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineNumberAtVerticalOffset: View is disposed");return e.layoutProvider.getLineNumberAtVerticalOffset(t)},getVerticalOffsetForLineNumber:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getVerticalOffsetForLineNumber: View is disposed");return e.layoutProvider.getVerticalOffsetForLineNumber(t)},getWhitespaceAtVerticalOffset:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getWhitespaceAtVerticalOffset: View is disposed");return e.layoutProvider.getWhitespaceAtVerticalOffset(t)},shouldSuppressMouseDownOnViewZone:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.shouldSuppressMouseDownOnViewZone: View is disposed");return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},getPositionFromDOMInfo:function(t,i){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getPositionFromDOMInfo: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,i)},visibleRangeForPosition2:function(t,i){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.visibleRangeForPosition2: View is disposed");e._flushAccumulatedAndRenderNow();var n=e.viewLines.visibleRangesForRange2(new u.Range(t,i,t,i),0);return n?n[0]:null},getLineWidth:function(t){if(e._isDisposed)throw new Error("ViewImpl.pointerHandler.getLineWidth: View is disposed");return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createKeyboardHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode,textArea:this.textArea,visibleRangeForPositionRelativeToEditor:function(t,i){if(e._isDisposed)throw new Error("ViewImpl.keyboardHandler.visibleRangeForPositionRelativeToEditor: View is disposed");e._flushAccumulatedAndRenderNow();var n=e.layoutProvider.getLinesViewportData(),o=e.viewLines.visibleRangesForRange2(new u.Range(t,i,t,i),n.visibleRangesDeltaTop);return o?o[0]:null},flushAnyAccumulatedEvents:function(){e._flushAnyAccumulatedEvents()}}},t.prototype.setAriaActiveDescendant=function(e){e?(this.textArea.setAttribute("role","combobox"),this.textArea.getAttribute("aria-activedescendant")!==e&&(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-activedescendant",e))):(this.textArea.setAttribute("role","textbox"),this.textArea.removeAttribute("aria-activedescendant"),this.textArea.removeAttribute("aria-haspopup"))},t.prototype.onLayoutChanged=function(e){if(s.isChrome){this.overflowGuardContainer.clientWidth+"px"}return c.StyleMutator.setWidth(this.domNode,e.width),c.StyleMutator.setHeight(this.domNode,e.height),c.StyleMutator.setWidth(this.overflowGuardContainer,e.width),c.StyleMutator.setHeight(this.overflowGuardContainer,e.height),c.StyleMutator.setWidth(this.linesContent,1e6),c.StyleMutator.setHeight(this.linesContent,1e6),c.StyleMutator.setLeft(this.linesContentContainer,e.contentLeft),c.StyleMutator.setWidth(this.linesContentContainer,e.contentWidth),c.StyleMutator.setHeight(this.linesContentContainer,e.contentHeight),this.outgoingEventBus.emit(l.EventType.ViewLayoutChanged,e),!1},t.prototype.onConfigurationChanged=function(e){return e.viewInfo.editorClassName&&(this.domNode.className=this._context.configuration.editor.viewInfo.editorClassName),e.viewInfo.ariaLabel&&this.textArea.setAttribute("aria-label",this._context.configuration.editor.viewInfo.ariaLabel),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEventBus.emit("scroll",e),!1},t.prototype.onViewFocusChanged=function(e){return a.toggleClass(this.domNode,"focused",e),e?(this._editorTextFocusContextKey.set(!0),this.outgoingEventBus.emit(l.EventType.ViewFocusGained,{})):(this._editorTextFocusContextKey.reset(),this.outgoingEventBus.emit(l.EventType.ViewFocusLost,{})),!1},t.prototype.dispose=function(){this._isDisposed=!0,this.handleAccumulatedModelEventsTimeout!==-1&&(clearTimeout(this.handleAccumulatedModelEventsTimeout),this.handleAccumulatedModelEventsTimeout=-1),null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.accumulatedModelEvents=[],this.eventDispatcher.removeEventHandler(this),this.outgoingEventBus.dispose(),this.listenersToRemove=o.dispose(this.listenersToRemove),this.listenersToDispose=o.dispose(this.listenersToDispose),this.keyboardHandler.dispose(),this.pointerHandler.dispose(),this.viewLines.dispose();for(var e=0,t=this.viewParts.length;e<t;e++)this.viewParts[e].dispose();this.viewParts=[],this.layoutProvider.dispose(),this._keybindingService.dispose()},t.prototype.getCodeEditorHelper=function(){var e=this;return this.codeEditorHelper||(this.codeEditorHelper={getScrollWidth:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollWidth: View is disposed");return e.layoutProvider.getScrollWidth()},getScrollLeft:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollLeft: View is disposed");return e.layoutProvider.getScrollLeft()},getScrollHeight:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollHeight: View is disposed");return e.layoutProvider.getScrollHeight()},getScrollTop:function(){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getScrollTop: View is disposed");return e.layoutProvider.getScrollTop()},setScrollPosition:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.setScrollPosition: View is disposed");e.layoutProvider.setScrollPosition(t)},getVerticalOffsetForPosition:function(t,i){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getVerticalOffsetForPosition: View is disposed");var n=e._context.model.validateModelPosition({lineNumber:t,column:i}),o=e._context.model.convertModelPositionToViewPosition(n.lineNumber,n.column);return e.layoutProvider.getVerticalOffsetForLineNumber(o.lineNumber)},delegateVerticalScrollbarMouseDown:function(t){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.delegateVerticalScrollbarMouseDown: View is disposed");e.layoutProvider.delegateVerticalScrollbarMouseDown(t)},getOffsetForColumn:function(t,i){if(e._isDisposed)throw new Error("ViewImpl.codeEditorHelper.getOffsetForColumn: View is disposed");var n=e._context.model.validateModelPosition({lineNumber:t,column:i}),o=e._context.model.convertModelPositionToViewPosition(n.lineNumber,n.column);e._flushAccumulatedAndRenderNow();var r=e.viewLines.visibleRangesForRange2(new u.Range(o.lineNumber,o.column,o.lineNumber,o.column),0);return r?r[0].left:-1}}),this.codeEditorHelper},t.prototype.getCenteredRangeInViewport=function(){if(this._isDisposed)throw new Error("ViewImpl.getCenteredRangeInViewport: View is disposed");var e=this.layoutProvider.getCenteredViewLineNumberInViewport(),t=this._context.model,i=new u.Range(e,1,e,t.getLineMaxColumn(e));return t.convertViewRangeToModelRange(i)},t.prototype.getInternalEventBus=function(){if(this._isDisposed)throw new Error("ViewImpl.getInternalEventBus: View is disposed");return this.outgoingEventBus},t.prototype.saveState=function(){if(this._isDisposed)throw new Error("ViewImpl.saveState: View is disposed");return this.layoutProvider.saveState()},t.prototype.restoreState=function(e){if(this._isDisposed)throw new Error("ViewImpl.restoreState: View is disposed");return this._flushAnyAccumulatedEvents(),this.layoutProvider.restoreState(e)},t.prototype.focus=function(){if(this._isDisposed)throw new Error("ViewImpl.focus: View is disposed");this.keyboardHandler.focusTextArea(),this._setHasFocus(!0)},t.prototype.isFocused=function(){
if(this._isDisposed)throw new Error("ViewImpl.isFocused: View is disposed");return this.hasFocus},t.prototype.createOverviewRuler=function(e,t,i){var n=this;if(this._isDisposed)throw new Error("ViewImpl.createOverviewRuler: View is disposed");return new k.OverviewRuler(this._context,e,this.layoutProvider.getScrollHeight(),t,i,function(e){return n.layoutProvider.getVerticalOffsetForLineNumber(e)})},t.prototype.change=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.change: View is disposed");var i=!1;return this._renderOnce(function(){t._flushAnyAccumulatedEvents();var n={addZone:function(e){return i=!0,t.viewZones.addZone(e)},removeZone:function(e){i=t.viewZones.removeZone(e)||i},layoutZone:function(e){i=t.viewZones.layoutZone(e)||i}},o=W(e,n);return n.addZone=null,n.removeZone=null,i&&t._context.privateViewEventBus.emit(l.EventType.ViewZonesChanged,null),o}),i},t.prototype.getWhitespaces=function(){if(this._isDisposed)throw new Error("ViewImpl.getWhitespaces: View is disposed");return this.layoutProvider.getWhitespaces()},t.prototype.addContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.addContentWidget: View is disposed");this._renderOnce(function(){t.contentWidgets.addWidget(e.widget),t.layoutContentWidget(e)})},t.prototype.layoutContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.layoutContentWidget: View is disposed");this._renderOnce(function(){var i=e.position?e.position.position:null,n=e.position?e.position.preference:null;t.contentWidgets.setWidgetPosition(e.widget,i,n)})},t.prototype.removeContentWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.removeContentWidget: View is disposed");this._renderOnce(function(){t.contentWidgets.removeWidget(e.widget)})},t.prototype.addOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.addOverlayWidget: View is disposed");this._renderOnce(function(){t.overlayWidgets.addWidget(e.widget),t.layoutOverlayWidget(e)})},t.prototype.layoutOverlayWidget=function(e){if(this._isDisposed)throw new Error("ViewImpl.layoutOverlayWidget: View is disposed");var t=e.position?e.position.preference:null,i=this.overlayWidgets.setWidgetPosition(e.widget,t);i&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl.removeOverlayWidget: View is disposed");this._renderOnce(function(){t.overlayWidgets.removeWidget(e.widget)})},t.prototype.render=function(e,t){if(this._isDisposed)throw new Error("ViewImpl.render: View is disposed");t&&this.layoutProvider.emitLayoutChangedEvent(),e&&this._flushAccumulatedAndRenderNow()},t.prototype.renderOnce=function(e){if(this._isDisposed)throw new Error("ViewImpl.renderOnce: View is disposed");return this._renderOnce(e)},t.prototype._renderOnce=function(e){var t=this;if(this._isDisposed)throw new Error("ViewImpl._renderOnce: View is disposed");return this.outgoingEventBus.deferredEmit(function(){var i=F(e);return t._scheduleRender(),i})},t.prototype._scheduleRender=function(){if(this._isDisposed)throw new Error("ViewImpl._scheduleRender: View is disposed");null===this._renderAnimationFrame&&(this._renderAnimationFrame=a.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;F(function(){return e._actualRender()})},t.prototype.createRenderingContext=function(e){var t=this,i=this.layoutProvider.getCurrentViewport(),n=e.visibleRangesDeltaTop,o={linesViewportData:e,scrollWidth:this.layoutProvider.getScrollWidth(),scrollHeight:this.layoutProvider.getScrollHeight(),visibleRange:e.visibleRange,bigNumbersDelta:e.bigNumbersDelta,viewportWidth:i.width,viewportHeight:i.height,viewportLeft:i.left,viewportTop:i.top,getScrolledTopFromAbsoluteTop:function(e){return t.layoutProvider.getScrolledTopFromAbsoluteTop(e)},getViewportVerticalOffsetForLineNumber:function(e){var i=t.layoutProvider.getVerticalOffsetForLineNumber(e),n=t.layoutProvider.getScrolledTopFromAbsoluteTop(i);return n},getDecorationsInViewport:function(){return e.getDecorationsInViewport()},linesVisibleRangesForRange:function(e,i){return t.viewLines.linesVisibleRangesForRange(e,i)},visibleRangeForPosition:function(e){var i=t.viewLines.visibleRangesForRange2(new u.Range(e.lineNumber,e.column,e.lineNumber,e.column),n);return i?i[0]:null},lineIsVisible:function(t){return e.visibleRange.startLineNumber<=t&&t<=e.visibleRange.endLineNumber}};return o},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,i=this.viewParts.length;t<i;t++){var n=this.viewParts[t];n.shouldRender()&&e.push(n)}return e},t.prototype._actualRender=function(){var e=this;if(a.isInDOM(this.domNode)){var t=r.start(r.Topic.EDITOR,"View.render"),i=this._getViewPartsToRender();if(!this.viewLines.shouldRender()&&0===i.length)return this.keyboardHandler.writeToTextArea(),void t.stop();var n=this.layoutProvider.getLinesViewportData();this.viewLines.shouldRender()?(this.viewLines.renderText(n,function(){e.keyboardHandler.writeToTextArea()}),this.viewLines.onDidRender(),i=this._getViewPartsToRender()):this.keyboardHandler.writeToTextArea();for(var o=this.createRenderingContext(n),s=0,c=i.length;s<c;s++){var u=i[s];u.prepareRender(o)}for(var s=0,c=i.length;s<c;s++){var u=i[s];u.render(o),u.onDidRender()}this.layoutProvider.renderScrollbar(),t.stop()}},t.prototype._setHasFocus=function(e){this.hasFocus!==e&&(this.hasFocus=e,this._context.privateViewEventBus.emit(l.EventType.ViewFocusChanged,this.hasFocus))},t}(d.ViewEventHandler);t.View=B}),define(l[152],d([1,0,7,59,10,6,20,21,627,14,46,11,26,109,132,61,345,742,5,24,838,837]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";var C=function(e){function t(t,n,o,r,s,a){var c=this;e.call(this,t,n,o,r,s,a),this._focusTracker=new w(t),this._focusTracker.onChage(function(){var e=c._focusTracker.hasFocus();e?(c._editorFocusContextKey.set(!0),c.emit(d.EventType.EditorFocus,{})):(c._editorFocusContextKey.reset(),c.emit(d.EventType.EditorBlur,{}))}),this.contentWidgets={},this.overlayWidgets={};for(var u=[].concat(y.EditorBrowserRegistry.getEditorContributions()).concat(p.CommonEditorRegistry.getEditorContributions()),l=0,h=u.length;l<h;l++)try{var f=u[l].createInstance(this._instantiationService,this);this.contributions[f.getId()]=f}catch(g){console.error("Could not instantiate contribution "+f.getId()),i.onUnexpectedError(g)}}return h(t,e),t.prototype.onMouseUp=function(e){return this.addListener2(d.EventType.MouseUp,e)},t.prototype.onMouseDown=function(e){return this.addListener2(d.EventType.MouseDown,e)},t.prototype.onContextMenu=function(e){return this.addListener2(d.EventType.ContextMenu,e)},t.prototype.onMouseMove=function(e){return this.addListener2(d.EventType.MouseMove,e)},t.prototype.onMouseLeave=function(e){return this.addListener2(d.EventType.MouseLeave,e)},t.prototype.onKeyUp=function(e){return this.addListener2(d.EventType.KeyUp,e)},t.prototype.onKeyDown=function(e){return this.addListener2(d.EventType.KeyDown,e)},t.prototype.onDidLayoutChange=function(e){return this.addListener2(d.EventType.EditorLayout,e)},t.prototype.onDidScrollChange=function(e){return this.addListener2("scroll",e)},t.prototype._createConfiguration=function(e){return new v.Configuration(e,this.domElement)},t.prototype.dispose=function(){this.contentWidgets={},this.overlayWidgets={},this._focusTracker.dispose(),e.prototype.dispose.call(this)},t.prototype.updateOptions=function(t){var i=this._configuration.editor.viewInfo.theme;e.prototype.updateOptions.call(this,t);var n=this._configuration.editor.viewInfo.theme;i!==n&&this.render()},t.prototype.colorizeModelLine=function(e,t){if(void 0===t&&(t=this.model),!t)return"";var i=t.getLineContent(e),n=t.getLineTokens(e,!1),o=n.inflate(),r=t.getOptions().tabSize;return E.Colorizer.colorizeLine(i,o,r)},t.prototype.getView=function(){return this._view},t.prototype.getDomNode=function(){return this.hasView?this._view.domNode:null},t.prototype.getCenteredRangeInViewport=function(){return this.hasView?this._view.getCenteredRangeInViewport():null},t.prototype.getScrollWidth=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollLeft():-1},t.prototype.getScrollHeight=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollHeight():-1},t.prototype.getScrollTop=function(){return this.hasView?this._view.getCodeEditorHelper().getScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollPosition({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this.hasView){if("number"!=typeof e)throw new Error("Invalid arguments");this._view.getCodeEditorHelper().setScrollPosition({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this.hasView&&this._view.getCodeEditorHelper().setScrollPosition(e)},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.hasView&&this._view.getCodeEditorHelper().delegateVerticalScrollbarMouseDown(e)},t.prototype.saveViewState=function(){if(!this.cursor||!this.hasView)return null;var e={};for(var t in this.contributions){var i=this.contributions[t];"function"==typeof i.saveViewState&&(e[t]=i.saveViewState())}var n=this.cursor.saveState(),o=this._view.saveState();return{cursorState:n,viewState:o,contributionsState:e}},t.prototype.restoreViewState=function(e){if(this.cursor&&this.hasView){var t=e;if(t&&t.cursorState&&t.viewState){var i=t,n=i.cursorState;Array.isArray(n)?this.cursor.restoreState(n):this.cursor.restoreState([n]),this._view.restoreState(i.viewState);var o=t.contributionsState||{};for(var r in this.contributions){var s=this.contributions[r];"function"==typeof s.restoreViewState&&s.restoreViewState(o[r])}}}},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this.hasView&&this._view.focus()},t.prototype.beginForcedWidgetFocus=function(){this._focusTracker.beginForcedFocus()},t.prototype.endForcedWidgetFocus=function(){this._focusTracker.endForcedFocus()},t.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this.contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this.contentWidgets[e.getId()]=t,this.hasView&&this._view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var i=this.contentWidgets[t];i.position=e.getPosition(),this.hasView&&this._view.layoutContentWidget(i)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var i=this.contentWidgets[t];delete this.contentWidgets[t],this.hasView&&this._view.removeContentWidget(i)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this.overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this.overlayWidgets[e.getId()]=t,this.hasView&&this._view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var i=this.overlayWidgets[t];i.position=e.getPosition(),this.hasView&&this._view.layoutOverlayWidget(i)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var i=this.overlayWidgets[t];delete this.overlayWidgets[t],this.hasView&&this._view.removeOverlayWidget(i)}},t.prototype.changeViewZones=function(e){if(this.hasView){var t=this._view.change(e);t&&this.emit(d.EventType.ViewZonesChanged)}},t.prototype.getWhitespaces=function(){return this.hasView?this._view.getWhitespaces():[]},t.prototype.getTopForLineNumber=function(e){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,1):-1},t.prototype.getTopForPosition=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getVerticalOffsetForPosition(e,t):-1},t.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView)return null;var t=this.model.validatePosition(e),i=this._view.getCodeEditorHelper(),n=this._configuration.editor.layoutInfo,o=i.getVerticalOffsetForPosition(t.lineNumber,t.column)-i.getScrollTop(),r=i.getOffsetForColumn(t.lineNumber,t.column)+n.glyphMarginWidth+n.lineNumbersWidth+n.decorationsWidth-i.getScrollLeft();return{top:o,left:r,height:this._configuration.editor.lineHeight}},t.prototype.getOffsetForColumn=function(e,t){return this.hasView?this._view.getCodeEditorHelper().getOffsetForColumn(e,t):-1},t.prototype.render=function(){this.hasView&&this._view.render(!0,!1)},t.prototype.setHiddenAreas=function(e){this.viewModel&&this.viewModel.setHiddenAreas(e)},t.prototype.setAriaActiveDescendant=function(e){this.hasView&&this._view.setAriaActiveDescendant(e)},t.prototype.applyFontInfo=function(e){v.Configuration.applyFontInfoSlow(e,this._configuration.editor.fontInfo)},t.prototype._attachModel=function(t){var i=this;this._view=null,e.prototype._attachModel.call(this,t),this._view&&(this.domElement.appendChild(this._view.domNode),this._view.renderOnce(function(){for(var e=Object.keys(i.contentWidgets),t=0,n=e.length;t<n;t++){var o=e[t];i._view.addContentWidget(i.contentWidgets[o])}e=Object.keys(i.overlayWidgets);for(var t=0,n=e.length;t<n;t++){var o=e[t];i._view.addOverlayWidget(i.overlayWidgets[o])}i._view.render(!1,!0),i.hasView=!0}))},t.prototype._enableEmptySelectionClipboard=function(){return n.enableEmptySelectionClipboard},t.prototype._createView=function(){var e=this;this._view=new S.View(this._keybindingService,this._configuration,this.viewModel,function(t,i,n){e.cursor&&e.cursor.trigger(t,i,n)})},t.prototype._getViewInternalEventBus=function(){return this._view.getInternalEventBus()},t.prototype._detachModel=function(){var t=null;this._view&&(this._view.dispose(),t=this._view.domNode,this._view=null);var i=e.prototype._detachModel.call(this);return t&&this.domElement.removeChild(t),i},t=g([m(2,r.IInstantiationService),m(3,f.ICodeEditorService),m(4,s.IKeybindingService),m(5,a.ITelemetryService)],t)}(c.CommonCodeEditor);t.CodeEditorWidget=C;var w=function(e){function t(t){var i=this;e.call(this),this._onChange=this._register(new _.Emitter),this.onChage=this._onChange.event,this._focusTrackerHasFocus=!1,this._forcedWidgetFocusCount=0,this._actualHasFocus=!1,this._focusTracker=this._register(o.trackFocus(t)),this._focusTracker.addFocusListener(function(){i._focusTrackerHasFocus=!0,i._update()}),this._focusTracker.addBlurListener(function(){i._focusTrackerHasFocus=!1,i._update()})}return h(t,e),t.prototype.hasFocus=function(){return this._actualHasFocus},t.prototype.beginForcedFocus=function(){this._forcedWidgetFocusCount++,this._update()},t.prototype.endForcedFocus=function(){this._forcedWidgetFocusCount--,this._update()},t.prototype._update=function(){var e=this._focusTrackerHasFocus;this._forcedWidgetFocusCount>0&&(e=!0),this._actualHasFocus!==e&&(this._actualHasFocus=e,this._onChange.fire(void 0))},t}(b.Disposable);(function(){function e(e,t){this._id=e,this._position=t,this._domNode=document.createElement("div"),this._domNode.className=this._id.replace(/\./g,"-").replace(/[^a-z0-9\-]/,"")}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},e})();!function(e){e[e.EndOfLastEditOperation=0]="EndOfLastEditOperation"}(t.EditCursorState||(t.EditCursorState={}));var I=(t.EditCursorState,function(){function e(e){this.range=new u.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),this.text=e.text,this.forceMoveMarkers=e.forceMoveMarkers||!1}return e}()),T=function(){function e(e,t){this._ops=e.map(function(e){return new I(e)}),this._editCursorState=t}return e.prototype.getEditOperations=function(e,t){if(0!==this._ops.length){this._ops.sort(function(e,t){return u.Range.compareRangesUsingStarts(e.range,t.range)});for(var i=[],n=this._ops[0],o=1;o<this._ops.length;o++)n.range.endLineNumber===this._ops[o].range.startLineNumber&&n.range.endColumn===this._ops[o].range.startColumn?(n.range=u.Range.plusRange(n.range,this._ops[o].range),n.text=n.text+this._ops[o].text):(i.push(n),n=this._ops[o]);i.push(n);for(var o=0;o<i.length;o++)t.addEditOperation(u.Range.lift(i[o].range),i[o].text)}},e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations(),n=i[i.length-1].range;return new l.Selection(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn)},e}();t.CommandRunner=T}),define(l[304],d([1,0,16,36,5,29,10,60,122,6,135,14,11,127,238,190,152,133,132,186,839]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";function C(e){return e.modifiedEndLineNumber>0}function w(e){return e.originalEndLineNumber>0}function I(e,t,i,n,o,r){return{range:new d.Range(e,t,i,n),options:{className:o,isWholeLine:r}}}function T(){var e=document.createElement("div");return e.className="diagonal-fill",e}var A=function(){function e(){this._zones=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones(function(e){for(var i=0,n=t._zones.length;i<n;i++)e.removeZone(t._zones[i])}),this._zones=[],this._zonesMap={},this._decorations.length>0&&e.changeDecorations(function(e){e.deltaDecorations(t._decorations,[])}),this._decorations=[]},e.prototype.apply=function(e,t,i){var n,o,r=this;e.changeViewZones(function(e){for(n=0,o=r._zones.length;n<o;n++)e.removeZone(r._zones[n]);for(r._zones=[],r._zonesMap={},n=0,o=i.zones.length;n<o;n++){i.zones[n].suppressMouseDown=!0;var t=e.addZone(i.zones[n]);r._zones.push(t),r._zonesMap[String(t)]=!0}}),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t.setZones(i.overviewZones)},e}(),L=0,D=function(e){function t(n,o,r,a){var c=this;e.call(this),this._editorWorkerService=r,this.id=++L,this._domElement=n,o=o||{},this._theme=o.theme||l.DefaultConfig.editor.theme,this._renderSideBySide=!0,"undefined"!=typeof o.renderSideBySide&&(this._renderSideBySide=o.renderSideBySide),this._ignoreTrimWhitespace=!0,"undefined"!=typeof o.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=o.ignoreTrimWhitespace),this._originalIsEditable=!1,"undefined"!=typeof o.originalEditable&&(this._originalIsEditable=Boolean(o.originalEditable)),this._updateDecorationsRunner=new i.RunOnceScheduler(function(){return c._updateDecorations()},0),this._toDispose=[],this._toDispose.push(this._updateDecorationsRunner),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=document.createElement("div"),this._overviewViewportDomElement.className="diffViewport",this._overviewViewportDomElement.style.position="absolute",this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.style.height="100%",this._overviewDomElement.appendChild(this._overviewViewportDomElement),this._toDispose.push(s.addDisposableListener(this._overviewDomElement,"mousedown",function(e){c.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._createLeftHandSide(),this._createRightHandSide(),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new A,this._modifiedEditorState=new A,this._isVisible=!0,this._isHandlingScrollEvent=!1,this._width=0,this._height=0,this._lineChanges=null,this._createLeftHandSideEditor(o,a),this._createRightHandSideEditor(o,a),o.automaticLayout&&(this._measureDomElementToken=window.setInterval(function(){return c._measureDomElement(!1)},100)),this._enableSplitViewResizing=!0,"undefined"!=typeof o.enableSplitViewResizing&&(this._enableSplitViewResizing=o.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new R(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new P(this._createDataSource(),this._enableSplitViewResizing))}return h(t,e),t.prototype.onDidChangeModelRawContent=function(e){return this.addListener2(p.EventType.ModelRawContentChanged,e)},t.prototype.onDidChangeModelContent=function(e){return this.addListener2(p.EventType.ModelContentChanged2,e)},t.prototype.onDidChangeModelMode=function(e){return this.addListener2(p.EventType.ModelModeChanged,e)},t.prototype.onDidChangeModelOptions=function(e){return this.addListener2(p.EventType.ModelOptionsChanged,e)},t.prototype.onDidChangeConfiguration=function(e){return this.addListener2(p.EventType.ConfigurationChanged,e)},t.prototype.onDidChangeCursorPosition=function(e){return this.addListener2(p.EventType.CursorPositionChanged,e)},t.prototype.onDidChangeCursorSelection=function(e){return this.addListener2(p.EventType.CursorSelectionChanged,e)},t.prototype.onDidDispose=function(e){return this.addListener2(p.EventType.Disposed,e)},t.prototype.onDidUpdateDiff=function(e){return this.addListener2(p.EventType.DiffUpdated,e)},Object.defineProperty(t.prototype,"ignoreTrimWhitespace",{get:function(){return this._ignoreTrimWhitespace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderSideBySide",{get:function(){return this._renderSideBySide},enumerable:!0,configurable:!0}),t._getClassName=function(e,t){var i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=e},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalOverviewRuler=this.originalEditor.getView().createOverviewRuler("original diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedOverviewRuler=this.modifiedEditor.getView().createOverviewRuler("modified diffOverviewRuler",4,Number.MAX_VALUE),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode()),this._layoutOverviewRulers()},t.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode)},t.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode)},t.prototype._createLeftHandSideEditor=function(e,t){var i=this;this.originalEditor=t.createInstance(E.CodeEditorWidget,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),this._toDispose.push(this.originalEditor.addBulkListener2(function(e){return i._onOriginalEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.originalEditor))},t.prototype._createRightHandSideEditor=function(e,t){var i=this;this.modifiedEditor=t.createInstance(E.CodeEditorWidget,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e)),this._toDispose.push(this.modifiedEditor.addBulkListener2(function(e){return i._onModifiedEditorEvents(e)})),this._toDispose.push(this.addEmitter2(this.modifiedEditor))},t.prototype.destroy=function(){this.dispose()},t.prototype.dispose=function(){this._toDispose=o.dispose(this._toDispose),window.clearInterval(this._measureDomElementToken),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler.dispose(),this._modifiedOverviewRuler.dispose(),this.originalEditor.destroy(),this.modifiedEditor.destroy(),this._strategy.dispose(),this.emit(p.EventType.Disposed),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return p.EditorType.IDiffEditor},t.prototype.getLineChanges=function(){return this._lineChanges},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){this._theme=e&&e.theme?e.theme:this._theme;var i=!1;"undefined"!=typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,i=!0),"undefined"!=typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,this._beginUpdateDecorations()),"undefined"!=typeof e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this._containerDomElement.className=t._getClassName(this._theme,this._renderSideBySide),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),"undefined"!=typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),i&&(this._renderSideBySide?this._setStrategy(new R(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new P(this._createDataSource(),this._enableSplitViewResizing)))},t.prototype.getValue=function(e){return void 0===e&&(e=null),this.modifiedEditor.getValue(e)},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._lineChanges=null,this._diffComputationToken++,e?(this._recreateOverviewRulers(),this._beginUpdateDecorations()):this._lineChanges=null,this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e,t,i,n){this.modifiedEditor.setPosition(e,t,i,n)},t.prototype.revealLine=function(e){this.modifiedEditor.revealLine(e)},t.prototype.revealLineInCenter=function(e){this.modifiedEditor.revealLineInCenter(e)},t.prototype.revealLineInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e)},t.prototype.revealPosition=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.modifiedEditor.revealPosition(e,t,i)},t.prototype.revealPositionInCenter=function(e){this.modifiedEditor.revealPositionInCenter(e)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e,t,i,n){this.modifiedEditor.setSelection(e,t,i,n)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t){this.modifiedEditor.revealLines(e,t)},t.prototype.revealLinesInCenter=function(e,t){this.modifiedEditor.revealLinesInCenter(e,t)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t)},t.prototype.revealRange=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!0),this.modifiedEditor.revealRange(e,t,i)},t.prototype.revealRangeInCenter=function(e){this.modifiedEditor.revealRangeInCenter(e)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e)},t.prototype.addAction=function(e){this.modifiedEditor.addAction(e)},t.prototype.getActions=function(){return this.modifiedEditor.getActions()},t.prototype.getAction=function(e){return this.modifiedEditor.getAction(e)},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){var t=e;if(t.original&&t.original){var i=t;this.originalEditor.restoreViewState(i.original),this.modifiedEditor.restoreViewState(i.modified)}},t.prototype.layout=function(e){this._measureDomElement(!1,e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()},t.prototype.onVisible=function(){this._isVisible=!0,this.originalEditor.onVisible(),this.modifiedEditor.onVisible(),this._beginUpdateDecorations()},t.prototype.onHide=function(){this._isVisible=!1,this.originalEditor.onHide(),this.modifiedEditor.onHide(),this._cleanViewZonesAndDecorations()},t.prototype.trigger=function(e,t,i){this.modifiedEditor.trigger(e,t,i)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._measureDomElement=function(e,t){return t=t||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight},t.width<=0?(this._width=0,void(this._height=0)):void((e||t.width!==this._width||t.height!==this._height)&&(this._width=t.width,this._height=t.height,this._doLayout()))},t.prototype._layoutOverviewRulers=function(){var e=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,i=this.modifiedEditor.getLayoutInfo();i&&(this._originalOverviewRuler.setLayout(new p.OverviewRulerPosition({top:0,width:t.ONE_OVERVIEW_WIDTH,right:e+t.ONE_OVERVIEW_WIDTH,height:this._height})),this._modifiedOverviewRuler.setLayout(new p.OverviewRulerPosition({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:this._height})))},t.prototype._recomputeIfNecessary=function(e){for(var i=this,n=!1,o=0;!n&&o<e.length;o++){var r=e[o].getType();n=n||r===p.EventType.ModelRawContentChanged||r===p.EventType.ModelModeChanged}n&&this._isVisible&&(this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return i._beginUpdateDecorations()},t.UPDATE_DIFF_DECORATIONS_DELAY))},t.prototype._onOriginalEditorEvents=function(e){for(var t=0;t<e.length;t++){var i=e[t].getType(),n=e[t].getData();if("scroll"===i&&this._onOriginalEditorScroll(n),i===p.EventType.ViewZonesChanged&&this._onViewZonesChanged(),i===p.EventType.ConfigurationChanged){var o=this.originalEditor.getConfiguration().wrappingInfo.isViewportWrapping;o&&this.originalEditor.updateOptions({wrappingColumn:-1})}}this._recomputeIfNecessary(e)},t.prototype._onModifiedEditorEvents=function(e){for(var t=0;t<e.length;t++){var i=e[t].getType(),n=e[t].getData();if("scroll"===i&&(this._onModifiedEditorScroll(n),this._layoutOverviewViewport()),
"viewLayoutChanged"===i&&this._layoutOverviewViewport(),i===p.EventType.ViewZonesChanged&&this._onViewZonesChanged(),i===p.EventType.ConfigurationChanged){var o=this.modifiedEditor.getConfiguration().wrappingInfo.isViewportWrapping;o&&this.modifiedEditor.updateOptions({wrappingColumn:-1})}}this._recomputeIfNecessary(e)},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorations=function(){var e=this;if(this._beginUpdateDecorationsTimeout=-1,this.modifiedEditor.getModel()){this._diffComputationToken++;var t=this._diffComputationToken,i=this.originalEditor.getModel(),n=this.modifiedEditor.getModel();this._editorWorkerService.computeDiff(i.uri,n.uri,this._ignoreTrimWhitespace).then(function(o){t===e._diffComputationToken&&i===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._lineChanges=o,e._updateDecorationsRunner.schedule(),e.emit(p.EventType.DiffUpdated,{}))},function(o){t===e._diffComputationToken&&i===e.originalEditor.getModel()&&n===e.modifiedEditor.getModel()&&(e._lineChanges=null,e._updateDecorationsRunner.schedule())})}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){var e=this._lineChanges||[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,n.original),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,n.modified)}finally{this._currentlyChangingViewZones=!1}},t.prototype._adjustOptionsForSubEditor=function(e){var t=r.clone(e||{});return t.wrappingColumn=-1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.referenceInfos=!1,t},t.prototype._adjustOptionsForLeftHandSide=function(e,t){var i=this._adjustOptionsForSubEditor(e);return i.readOnly=!t,i.overviewRulerLanes=1,i.theme=this._theme+" original-in-monaco-diff-editor",i},t.prototype._adjustOptionsForRightHandSide=function(e){var i=this._adjustOptionsForSubEditor(e);return i.revealHorizontalRightPadding=l.DefaultConfig.editor.revealHorizontalRightPadding+t.ENTIRE_DIFF_OVERVIEW_WIDTH,i.scrollbar.verticalHasArrows=!1,i.theme=this._theme+" modified-in-monaco-diff-editor",i},t.prototype._onOriginalEditorScroll=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&(this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1))},t.prototype._onModifiedEditorScroll=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&(this._isHandlingScrollEvent||(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1))},t.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=this._width-e+"px",this._modifiedDomNode.style.left=e+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=this._width-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.style.height="30px",this.originalEditor.layout({width:e,height:this._height}),this.modifiedEditor.layout({width:this._width-e-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(a.StyleMutator.setTop(this._overviewViewportDomElement,e.top),a.StyleMutator.setHeight(this._overviewViewportDomElement,e.height)):(a.StyleMutator.setTop(this._overviewViewportDomElement,0),a.StyleMutator.setHeight(this._overviewViewportDomElement,0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),n=Math.max(0,e.contentHeight),o=Math.max(0,n-0),r=i>0?o/i:0,s=Math.max(1,Math.floor(e.contentHeight*r)),a=Math.floor(t*r);return{height:s,top:a}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,this._lineChanges&&this._updateDecorations(),this._measureDomElement(!0)},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(0===this._lineChanges.length||e<t(this._lineChanges[0]))return null;for(var i=0,n=this._lineChanges.length-1;i<n;){var o=Math.floor((i+n)/2),r=t(this._lineChanges[o]),s=o+1<=n?t(this._lineChanges[o+1]):Number.MAX_VALUE;e<r?n=o-1:e>=s?i=o+1:(i=o,n=o)}return this._lineChanges[i]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=o?n+Math.min(s,r):n+r-o+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t)return e;var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=r?i+Math.min(s,o):i+o-r+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._lineChanges?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t=g([m(2,f.IEditorWorkerService),m(3,u.IInstantiationService)],t)}(n.EventEmitter);t.DiffEditorWidget=D;var k=function(){function e(e){this._dataSource=e}return e.prototype.getEditorsDiffDecorations=function(e,t,i,n,o,r){n=n.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber}),i=i.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var s=this._getViewZones(e,i,n,o,r),a=this._getOriginalEditorDecorations(e,t,o,r),c=this._getModifiedEditorDecorations(e,t,o,r);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:c.decorations,overviewZones:c.overviewZones,zones:s.modified}}},e.prototype._getViewZones=function(e,t,i,n,o){return null},e.prototype._getOriginalEditorDecorations=function(e,t,i,n){return null},e.prototype._getModifiedEditorDecorations=function(e,t,i,n){return null},e}(),x=function(){function e(e){this._source=e,this._index=-1,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),M=function(){function e(e,t,i){this.lineChanges=e,this.originalForeignVZ=t,this.modifiedForeignVZ=i}return e.prototype.getViewZones=function(){var e,t,i,n,o,r,s,a={original:[],modified:[]},c=0,u=0,l=0,d=0,h=0,p=0,f=0,g=function(e,t){return e.afterLineNumber-t.afterLineNumber},m=function(e,t){if(null===t.domNode&&e.length>0){var i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},v=new x(this.modifiedForeignVZ),y=new x(this.originalForeignVZ);for(e=0,t=this.lineChanges.length;e<=t;e++){for(i=e<t?this.lineChanges[e]:null,null!==i?(l=i.originalStartLineNumber+(i.originalEndLineNumber>0?-1:0),d=i.modifiedStartLineNumber+(i.modifiedEndLineNumber>0?-1:0),u=i.originalEndLineNumber>0?i.originalEndLineNumber-i.originalStartLineNumber+1:0,c=i.modifiedEndLineNumber>0?i.modifiedEndLineNumber-i.modifiedStartLineNumber+1:0,h=Math.max(i.originalStartLineNumber,i.originalEndLineNumber),p=Math.max(i.modifiedStartLineNumber,i.modifiedEndLineNumber)):(l+=1e7+u,d+=1e7+c,h=l,p=d),n=[],o=[];v.current&&v.current.afterLineNumber<=p;)f=v.current.afterLineNumber<=d?l-d+v.current.afterLineNumber:h,n.push({afterLineNumber:f,heightInLines:v.current.heightInLines,domNode:null}),v.advance();for(;y.current&&y.current.afterLineNumber<=h;)f=y.current.afterLineNumber<=l?d-l+y.current.afterLineNumber:p,o.push({afterLineNumber:f,heightInLines:y.current.heightInLines,domNode:null}),y.advance();if(null!==i&&C(i)){var E=this._produceOriginalFromDiff(i,u,c);E&&n.push(E)}if(null!==i&&w(i)){var E=this._produceModifiedFromDiff(i,u,c);E&&o.push(E)}for(r=0,s=0,n=n.sort(g),o=o.sort(g);r<n.length&&s<o.length;){var S=n[r],b=o[s],_=S.afterLineNumber-l,I=b.afterLineNumber-d;_<I?(m(a.original,S),r++):I<_?(m(a.modified,b),s++):S.shouldNotShrink?(m(a.original,S),r++):b.shouldNotShrink?(m(a.modified,b),s++):S.heightInLines>=b.heightInLines?(S.heightInLines-=b.heightInLines,s++):(b.heightInLines-=S.heightInLines,r++)}for(;r<n.length;)m(a.original,n[r]),r++;for(;s<o.length;)m(a.modified,o[s]),s++}var A=function(e){e.domNode||(e.domNode=T())};return a.original.forEach(A),a.modified.forEach(A),a},e}(),R=function(e){function t(t,i){var n=this;e.call(this,t),this._disableSash=i===!1,this._sashRatio=null,this._sashPosition=null,this._sash=new c.Sash(this._dataSource.getContainerDomNode(),this),this._disableSash&&this._sash.disable(),this._sash.addListener2("start",function(){return n.onSashDragStart()}),this._sash.addListener2("change",function(e){return n.onSashDrag(e)}),this._sash.addListener2("end",function(){return n.onSashDragEnd()}),this._sash.addListener2("reset",function(){return n.onSashReset()})}return h(t,e),t.prototype.dispose=function(){this._sash.dispose()},t.prototype.setEnableSplitViewResizing=function(e){var t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._disableSash?this._sash.disable():this._sash.enable())},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var i=this._dataSource.getWidth(),n=i-D.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((e||.5)*n),r=Math.floor(.5*n);return o=this._disableSash?r:o||r,n>2*t.MINIMUM_EDITOR_WIDTH?(o<t.MINIMUM_EDITOR_WIDTH&&(o=t.MINIMUM_EDITOR_WIDTH),o>n-t.MINIMUM_EDITOR_WIDTH&&(o=n-t.MINIMUM_EDITOR_WIDTH)):o=r,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},t.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth(),i=t-D.ENTIRE_DIFF_OVERVIEW_WIDTH,n=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=n/i,this._dataSource.relayoutEditors()},t.prototype.onSashDragEnd=function(){this._sash.layout()},t.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this._sashPosition},t.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,i,n,o){var r=new O(e,t,i);return r.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,i,n){var o,r,s,a,c,u,l,d,h,f={decorations:[],overviewZones:[]},g=i.getModel();for(o=0,r=e.length;o<r;o++)if(c=e[o],w(c)&&(f.decorations.push(I(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE,"line-delete",!0)),C(c)&&c.charChanges||f.decorations.push(I(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE,"char-delete",!0)),f.overviewZones.push(new p.OverviewRulerZone(c.originalStartLineNumber,c.originalEndLineNumber,p.OverviewRulerLane.Full,0,"rgba(255, 0, 0, 0.4)","rgba(255, 0, 0, 0.4)")),c.charChanges))for(s=0,a=c.charChanges.length;s<a;s++)if(u=c.charChanges[s],w(u))if(t)for(l=u.originalStartLineNumber;l<=u.originalEndLineNumber;l++)d=l===u.originalStartLineNumber?u.originalStartColumn:g.getLineFirstNonWhitespaceColumn(l),h=l===u.originalEndLineNumber?u.originalEndColumn:g.getLineLastNonWhitespaceColumn(l),f.decorations.push(I(l,d,l,h,"char-delete",!1));else f.decorations.push(I(u.originalStartLineNumber,u.originalStartColumn,u.originalEndLineNumber,u.originalEndColumn,"char-delete",!1));return f},t.prototype._getModifiedEditorDecorations=function(e,t,i,n){var o,r,s,a,c,u,l,d,h,f={decorations:[],overviewZones:[]},g=n.getModel();for(o=0,r=e.length;o<r;o++)if(c=e[o],C(c)&&(f.decorations.push(I(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),w(c)&&c.charChanges||f.decorations.push(I(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0)),f.overviewZones.push(new p.OverviewRulerZone(c.modifiedStartLineNumber,c.modifiedEndLineNumber,p.OverviewRulerLane.Full,0,"rgba(155, 185, 85, 0.4)","rgba(155, 185, 85, 0.4)")),c.charChanges))for(s=0,a=c.charChanges.length;s<a;s++)if(u=c.charChanges[s],C(u))if(t)for(l=u.modifiedStartLineNumber;l<=u.modifiedEndLineNumber;l++)d=l===u.modifiedStartLineNumber?u.modifiedStartColumn:g.getLineFirstNonWhitespaceColumn(l),h=l===u.modifiedEndLineNumber?u.modifiedEndColumn:g.getLineLastNonWhitespaceColumn(l),f.decorations.push(I(l,d,l,h,"char-insert",!1));else f.decorations.push(I(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,"char-insert",!1));return f},t.MINIMUM_EDITOR_WIDTH=100,t}(k),O=function(e){function t(t,i,n){e.call(this,t,i,n)}return h(t,e),t.prototype._produceOriginalFromDiff=function(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null},t}(M),P=function(e){function t(t,i){var n=this;e.call(this,t),this.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,this.toDispose=[],this.toDispose.push(t.getOriginalEditor().onDidLayoutChange(function(e){n.decorationsLeft!==e.decorationsLeft&&(n.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))}return h(t,e),t.prototype.dispose=function(){this.toDispose=o.dispose(this.toDispose)},t.prototype.setEnableSplitViewResizing=function(e){},t.prototype._getViewZones=function(e,t,i,n,o){var r=new N(e,t,i,n,o);return r.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,i,n){var o,r,s,a={decorations:[],overviewZones:[]};for(o=0,r=e.length;o<r;o++)s=e[o],w(s)&&a.overviewZones.push(new p.OverviewRulerZone(s.originalStartLineNumber,s.originalEndLineNumber,p.OverviewRulerLane.Full,0,"rgba(255, 0, 0, 0.4)","rgba(255, 0, 0, 0.4)"));return a},t.prototype._getModifiedEditorDecorations=function(e,t,i,n){var o,r,s,a,c,u,l,d,h,f={decorations:[],overviewZones:[]},g=n.getModel();for(o=0,r=e.length;o<r;o++)if(s=e[o],C(s))if(f.decorations.push(I(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,Number.MAX_VALUE,"line-insert",!0)),f.overviewZones.push(new p.OverviewRulerZone(s.modifiedStartLineNumber,s.modifiedEndLineNumber,p.OverviewRulerLane.Full,0,"rgba(155, 185, 85, 0.4)","rgba(155, 185, 85, 0.4)")),s.charChanges){for(a=0,c=s.charChanges.length;a<c;a++)if(u=s.charChanges[a],C(u))if(t)for(l=u.modifiedStartLineNumber;l<=u.modifiedEndLineNumber;l++)d=l===u.modifiedStartLineNumber?u.modifiedStartColumn:g.getLineFirstNonWhitespaceColumn(l),h=l===u.modifiedEndLineNumber?u.modifiedEndColumn:g.getLineLastNonWhitespaceColumn(l),f.decorations.push(I(l,d,l,h,"char-insert",!1));else f.decorations.push(I(u.modifiedStartLineNumber,u.modifiedStartColumn,u.modifiedEndLineNumber,u.modifiedEndColumn,"char-insert",!1))}else f.decorations.push(I(s.modifiedStartLineNumber,1,s.modifiedEndLineNumber,Number.MAX_VALUE,"char-insert",!0));return f},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(k),N=function(e){function t(t,i,n,o,r){e.call(this,t,i,n),this.originalModel=o.getModel(),this.modifiedEditorConfiguration=r.getConfiguration(),this.modifiedEditorTabSize=r.getModel().getOptions().tabSize}return h(t,e),t.prototype._produceOriginalFromDiff=function(e,t,i){return{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div")}},t.prototype._produceModifiedFromDiff=function(e,t,i){var n,o,r,s=[];if(e.charChanges)for(n=0,o=e.charChanges.length;n<o;n++)r=e.charChanges[n],w(r)&&s.push(new _.InlineDecoration(new d.Range(r.originalStartLineNumber,r.originalStartColumn,r.originalEndLineNumber,r.originalEndColumn),"char-delete"));var a,c=[];for(a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)c=c.concat(this.renderOriginalLine(a-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,a,s));var u=document.createElement("div");return u.className="view-lines line-delete",u.innerHTML=c.join(""),b.Configuration.applyFontInfoSlow(u,this.modifiedEditorConfiguration.fontInfo),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,domNode:u}},t.prototype.renderOriginalLine=function(e,t,i,n,o,r){var s=t.getLineContent(o),a=new S.ViewLineTokens([new S.ViewLineToken(0,"")],0,s.length),c=v.createLineParts(o,1,s,n,a,r,i.viewInfo.renderWhitespace),u=y.renderLine(new y.RenderLineInput(s,n,i.fontInfo.spaceWidth,i.viewInfo.stopRenderingLineAfter,i.viewInfo.renderWhitespace,i.viewInfo.renderControlCharacters,c.getParts())),l=[];return l.push('<div class="view-line'),0===r.length&&l.push(" char-delete"),l.push('" style="top:'),l.push(String(e*i.lineHeight)),l.push('px;width:1000000px;">'),l=l.concat(u.output),l.push("</div>"),l},t}(M)}),define(l[302],d([1,0,29,6,20,21,109,152]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i,n,o,r,s,a){var c=this;e.call(this,t,n.getRawConfiguration(),o,r,s,a),this._parentEditor=n,this._overwriteOptions=i,e.prototype.updateOptions.call(this,this._overwriteOptions),this._lifetimeDispose.push(n.onDidChangeConfiguration(function(e){return c._onParentConfigurationChanged(e)}))}return h(t,e),t.prototype.getParentEditor=function(){return this._parentEditor},t.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){i.mixin(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t=g([m(3,n.IInstantiationService),m(4,s.ICodeEditorService),m(5,o.IKeybindingService),m(6,r.ITelemetryService)],t)}(a.CodeEditorWidget);t.EmbeddedCodeEditorWidget=c}),define(l[175],d([1,0,454,27,9,31,24,10,49,6,109,187,302,780]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";function f(e,t){var i=e.get(l.ICodeEditorService).getFocusedCodeEditor();return i instanceof p.EmbeddedCodeEditorWidget?i.getParentEditor():i}t.IPeekViewService=u.createDecorator("peekViewService"),t.getOuterEditor=f;var g=function(e){function u(i,n,o){void 0===o&&(o={}),e.call(this,i,o),this.serviceId=t.IPeekViewService,this._onDidClose=new s.Emitter,this._isActive=!1,this.contextKey=n}return h(u,e),u.prototype.dispose=function(){this._isActive=!1,e.prototype.dispose.call(this),this._onDidClose.fire(this)},Object.defineProperty(u.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),u.prototype.show=function(t,i){this._isActive=!0,this._headElement.style.borderTopColor=this.options.frameColor,this._bodyElement.style.borderTopColor=this.options.frameColor,this._bodyElement.style.borderBottomColor=this.options.frameColor,e.prototype.show.call(this,t,i)},u.prototype._fillContainer=function(e){r.$(e).addClass("peekview-widget"),this._headElement=r.$(".head").getHTMLElement(),this._bodyElement=r.$(".body").getHTMLElement(),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},u.prototype._fillHead=function(e){var t=this,o=r.$(".peekview-title").on(a.EventType.CLICK,function(e){return t._onTitleClick(e)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=r.$("span.filename").appendTo(o).getHTMLElement(),this._secondaryHeading=r.$("span.dirname").appendTo(o).getHTMLElement(),this._metaHeading=r.$("span.meta").appendTo(o).getHTMLElement(),this._actionbarWidget=new c.ActionBar(r.$(".peekview-actions").appendTo(this._headElement)),this._actionbarWidget.push(new n.Action("peekview.close",i.localize(0,null),"close-peekview-action",(!0),function(){return t.dispose(),null}),{label:!1,icon:!0})},u.prototype._onTitleClick=function(e){},u.prototype.setTitle=function(e,t){r.$(this._primaryHeading).safeInnerHtml(e),t?r.$(this._secondaryHeading).safeInnerHtml(t):a.clearNode(this._secondaryHeading)},u.prototype.setMetaTitle=function(e){e?r.$(this._metaHeading).safeInnerHtml(e):a.clearNode(this._metaHeading)},u.prototype._fillBody=function(e){},u.prototype._doLayout=function(e,t){if(e<0)return this.dispose(),void this._onDidClose.fire(this);var i=Math.ceil(1.2*this.editor.getConfiguration().lineHeight),n=e-(i+2);this._doLayoutHead(i,t),this._doLayoutBody(n,t)},u.prototype._doLayoutHead=function(e,t){this._headElement.style.height=o.format("{0}px",e),this._headElement.style.lineHeight=this._headElement.style.height},u.prototype._doLayoutBody=function(e,t){this._bodyElement.style.height=o.format("{0}px",e)},u}(d.ZoneWidget);t.PeekViewWidget=g}),define(l[32],d([1,0,6]),function(e,t,i){"use strict";t.IWorkspaceContextService=i.createDecorator("contextService")}),define(l[748],d([1,0,85,16,264,192,78,24,66,5,25,19,15,108,32,21,11,37,263,173,227,637,644,80,266,290,38,45,206]),function(e,t){"use strict"}),define(l[293],d([1,0,443,78,7,76,24,5,98,9,2,31,10,122,338,341,342,81,119,56,110,32,135,14,11,247,302,175,221,789]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x){"use strict";var M=function(){function e(e,t){var i=this;this.editor=e,this.model=t,this._decorationSet=n.createStringDictionary(),this._decorationIgnoreSet=n.createStringDictionary(),this._callOnDispose=[],this._callOnModelChange=[],this._callOnDispose.push(this.editor.onDidChangeModel(function(){return i._onModelChanged()})),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange=a.dispose(this._callOnModelChange),this._callOnDispose=a.dispose(this._callOnDispose),this.removeDecorations()},e.prototype._onModelChanged=function(){this.removeDecorations(),this._callOnModelChange=a.dispose(this._callOnModelChange);var e=this.editor.getModel();if(e)for(var t=0,i=this.model.groups.length;t<i;t++)if(this.model.groups[t].uri.toString()===e.uri.toString())return void this._addDecorations(this.model.groups[t])},e.prototype._addDecorations=function(t){var i=this;this._callOnModelChange.push(this.editor.getModel().onDidChangeDecorations(function(e){return i._onDecorationChanged(e)})),this.editor.getModel().changeDecorations(function(n){for(var o=[],r=[],s=0,a=t.children.length;s<a;s++){var c=t.children[s];i._decorationIgnoreSet[c.id]||(o.push({range:c.range,options:e.DecorationOptions}),r.push(s))}for(var u=n.deltaDecorations([],o),l=0;l<u.length;l++)i._decorationSet[u[l]]=t.children[r[l]]})},e.prototype._onDecorationChanged=function(e){for(var t=this,i=e.addedOrChangedDecorations,o=[],r=0,s=i.length;r<s;r++){var a=n.lookup(this._decorationSet,i[r].id);if(a){var c=i[r].range,u=!1;if(!T.Range.equalsRange(c,a.range)){if(T.Range.spansMultipleLines(c))u=!0;else{var l=a.range.endColumn-a.range.startColumn,d=c.endColumn-c.startColumn;l!==d&&(u=!0)}u?(this._decorationIgnoreSet[a.id]=a,o.push(i[r].id)):a.range=c}}}this.editor.changeDecorations(function(e){for(var i=0,n=o.length;i<n;i++)delete t._decorationSet[o[i]];e.deltaDecorations(o,[])})},e.prototype.removeDecorations=function(){var e=Object.keys(this._decorationSet);e.length>0&&this.editor.changeDecorations(function(t){t.deltaDecorations(e,[])}),this._decorationSet={}},e.DecorationOptions={stickiness:A.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"},e}(),R=function(){function e(e){this._editorService=e}return e.prototype.getId=function(e,t){return t instanceof x.ReferencesModel?"root":t instanceof x.FileReferences?t.id:t instanceof x.OneReference?t.id:void 0},e.prototype.hasChildren=function(e,t){return t instanceof x.ReferencesModel||(t instanceof x.FileReferences&&!t.failure||void 0)},e.prototype.getChildren=function(e,t){return t instanceof x.ReferencesModel?l.TPromise.as(t.groups):t instanceof x.FileReferences?t.resolve(this._editorService).then(function(i){return t.failure?e.refresh(t).then(function(){return i.children}):i.children}):l.TPromise.as([])},e.prototype.getParent=function(e,t){var i=null;return t instanceof x.FileReferences?i=t.parent:t instanceof x.OneReference&&(i=t.parent),l.TPromise.as(i)},e=g([m(0,_.IEditorService)],e)}(),O=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.onTap=function(i,n,o){if(n instanceof x.FileReferences)return o.preventDefault(),o.stopPropagation(),this._expandCollapse(i,n);var r=e.prototype.onTap.call(this,i,n,o);return i.emit(t.Events.FOCUSED,n),r},t.prototype.onMouseDown=function(i,n,o){if(o.leftButton){if(n instanceof x.FileReferences)return o.preventDefault(),o.stopPropagation(),this._expandCollapse(i,n);var r=e.prototype.onClick.call(this,i,n,o);return o.ctrlKey||o.metaKey?i.emit(t.Events.OPEN_TO_SIDE,n):2===o.detail?i.emit(t.Events.SELECTED,n):i.emit(t.Events.FOCUSED,n),r}return!1},t.prototype.onClick=function(t,i,n){return!n.leftButton&&e.prototype.onClick.call(this,t,i,n)},t.prototype._expandCollapse=function(e,t){return e.isExpanded(t)?e.collapse(t).done(null,o.onUnexpectedError):e.expand(t).done(null,o.onUnexpectedError),!0},t.prototype.onEscape=function(e,t){return!1},t.prototype.onEnter=function(i,n){var o=i.getFocus();if(o instanceof x.FileReferences)return this._expandCollapse(i,o);var r=e.prototype.onEnter.call(this,i,n);return n.ctrlKey||n.metaKey?i.emit(t.Events.OPEN_TO_SIDE,o):i.emit(t.Events.SELECTED,o),r},t.prototype.onUp=function(t,i){return e.prototype.onUp.call(this,t,i),this._fakeFocus(t,i),!0},t.prototype.onPageUp=function(t,i){return e.prototype.onPageUp.call(this,t,i),this._fakeFocus(t,i),!0},t.prototype.onLeft=function(t,i){return e.prototype.onLeft.call(this,t,i),this._fakeFocus(t,i),!0},t.prototype.onDown=function(t,i){return e.prototype.onDown.call(this,t,i),this._fakeFocus(t,i),!0},t.prototype.onPageDown=function(t,i){return e.prototype.onPageDown.call(this,t,i),this._fakeFocus(t,i),!0},t.prototype.onRight=function(t,i){return e.prototype.onRight.call(this,t,i),this._fakeFocus(t,i),!0},t.prototype._fakeFocus=function(e,i){var n=e.getFocus();e.setSelection([n]),e.emit(t.Events.FOCUSED,n)},t.Events={FOCUSED:"events/custom/focused",SELECTED:"events/custom/selected",OPEN_TO_SIDE:"events/custom/opentoside"},t}(S.DefaultController),P=function(e){function t(t){e.call(this),this._contextService=t}return h(t,e),t.prototype.getHeight=function(e,t){return 22},t.prototype.render=function(e,t,n){var o=this;if(p.clearNode(n),t instanceof x.FileReferences){var r=d.$(".reference-file");new E.LeftRightWidget(r,function(e){return new y.FileLabel(e,t.uri,o._contextService),null},function(e){var n=t.children.length,o=new v.CountBadge(e,n);return t.failure?o.setTitleFormat(i.localize(0,null)):n>1?o.setTitleFormat(i.localize(1,null,n)):o.setTitleFormat(i.localize(2,null,n)),o}),r.appendTo(n)}else if(t instanceof x.OneReference){var s=t.parent.preview.preview(t.range);d.$(".reference").innerHtml(u.format('<span>{0}</span><span class="referenceMatch">{1}</span><span>{2}</span>',u.escape(s.before),u.escape(s.inside),u.escape(s.after))).appendTo(n)}return null},t=g([m(0,w.IWorkspaceContextService)],t)}(S.LegacyRenderer),N=function(){function e(e,t){var i=this;this._disposables=new a.Disposables,this._onDidChangePercentages=new s.Emitter,this._ratio=t,this._sash=new f.Sash(e,{getVerticalSashLeft:function(){return i._width*i._ratio},getVerticalSashHeight:function(){return i._height}});var n;this._disposables.add(this._sash.addListener2("start",function(e){n=e.startX-i._width*i.ratio})),this._disposables.add(this._sash.addListener2("change",function(e){var t=e.currentX-n;t>20&&t+20<i._width&&(i._ratio=t/i._width,i._sash.layout(),i._onDidChangePercentages.fire(i))}))}return e.prototype.dispose=function(){this._sash.dispose(),this._onDidChangePercentages.dispose(),this._disposables.dispose()},Object.defineProperty(e.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{set:function(e){this._width=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height=e,this._sash.layout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percentages",{get:function(){var e=100*this._ratio,t=100-e;return[e+"%",t+"%"]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},enumerable:!0,configurable:!0}),e}(),F=function(e){function t(i,n,o,r,a){e.call(this,i,t.INNER_EDITOR_CONTEXT_KEY,{frameColor:"#007ACC",showFrame:!1,showArrow:!0,isResizeable:!0}),this.layoutData=n,this._editorService=o,this._contextService=r,this._instantiationService=a,this._disposeOnNewModel=[],this._onDidSelectReference=new s.Emitter,this._instantiationService=this._instantiationService.createChild(new C.ServiceCollection([k.IPeekViewService,this])),this.create()}return h(t,e),t.prototype.dispose=function(){this.setModel(null),a.dispose(this._preview,this._previewNotAvailableMessage,this._tree,this._sash),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:!0,configurable:!0}),t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focus=function(){this._tree.DOMFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this,n=d.$(e);n.addClass("reference-zone-widget"),n.div({"class":"messages"},function(e){t._messageContainer=e.hide()}),n.div({"class":"preview inline"},function(e){var n={scrollBeyondLastLine:!1,scrollbar:I.DefaultConfig.editor.scrollbar,overviewRulerLanes:2};t._preview=t._instantiationService.createInstance(D.EmbeddedCodeEditorWidget,e.getHTMLElement(),n,t.editor),t._previewContainer=e.hide(),
t._previewNotAvailableMessage=L.Model.createFromString(i.localize(3,null))}),this._sash=new N(e,this.layoutData.ratio||.8),this._sash.onDidChangePercentages(function(){var e=t._sash.percentages,i=e[0],n=e[1];t._previewContainer.style({width:i}),t._treeContainer.style({width:n}),t._preview.layout(),t._tree.layout(),t.layoutData.ratio=t._sash.ratio}),n.div({"class":"ref-tree inline"},function(e){var n={dataSource:t._instantiationService.createInstance(R),renderer:t._instantiationService.createInstance(P),controller:new O},o={allowHorizontalScroll:!1,twistiePixels:20,ariaLabel:i.localize(4,null)};t._tree=new b.Tree(e.getHTMLElement(),n,o),t._treeContainer=e.hide()})},t.prototype._doLayoutBody=function(t,i){e.prototype._doLayoutBody.call(this,t,i);var n=t+"px";this._sash.height=t,this._sash.width=i;var o=this._sash.percentages,r=o[0],s=o[1];this._previewContainer.style({height:n,width:r}),this._treeContainer.style({height:n,width:s}),this._tree.layout(t),this._preview.layout(),this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}},t.prototype._onWidth=function(e){this._sash.width=e,this._preview.layout()},t.prototype.setSelection=function(e){return this._revealReference(e)},t.prototype.setModel=function(e){if(this._disposeOnNewModel=a.dispose(this._disposeOnNewModel),this._model=e,this._model)return this._onNewModel()},t.prototype._onNewModel=function(){var e=this;if(this._model.empty)return this.setTitle(""),this._messageContainer.innerHtml(i.localize(5,null)).show(),l.TPromise.as(void 0);this._messageContainer.hide(),this._decorationsManager=new M(this._preview,this._model),this._disposeOnNewModel.push(this._decorationsManager),this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(t){return e._tree.refresh(t)})),this._disposeOnNewModel.push(this._tree.addListener2(O.Events.FOCUSED,function(t){t instanceof x.OneReference&&(e._revealReference(t),e._onDidSelectReference.fire({element:t,kind:"show",source:"tree"}))})),this._disposeOnNewModel.push(this._tree.addListener2(O.Events.SELECTED,function(t){t instanceof x.OneReference&&(e._revealReference(t),e._onDidSelectReference.fire({element:t,kind:"goto",source:"tree"}))})),this._disposeOnNewModel.push(this._tree.addListener2(O.Events.OPEN_TO_SIDE,function(t){t instanceof x.OneReference&&e._onDidSelectReference.fire({element:t,kind:"side",source:"tree"})})),this._disposeOnNewModel.push(this._preview.onMouseDown(function(t){2===t.event.detail&&e._onDidSelectReference.fire({element:e._getFocusedReference(),kind:t.event.ctrlKey||t.event.metaKey?"side":"open",source:"editor"})})),p.addClass(this.container,"results-loaded"),this._treeContainer.show(),this._previewContainer.show(),this._preview.layout(),this._tree.layout(),this.focus();var t=1===this._model.groups.length?this._model.groups[0]:this._model;return this._tree.setInput(t)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus();return e instanceof x.OneReference?e:e instanceof x.FileReferences&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e){var t=this;return e.uri.scheme!==c.Schemas.inMemory?this.setTitle(e.name,r.getPathLabel(e.directory,this._contextService)):this.setTitle(i.localize(6,null)),l.TPromise.join([this._editorService.resolveEditorModel({resource:e.uri}),this._tree.reveal(e)]).then(function(i){if(t._model){var n=i[0];if(n){t._preview.setModel(n.textEditorModel);var o=T.Range.lift(e.range).collapseToStart();t._preview.setSelection(o),t._preview.revealRangeInCenter(o)}else t._preview.setModel(t._previewNotAvailableMessage);t._tree.setSelection([e]),t._tree.setFocus(e)}},o.onUnexpectedError)},t.INNER_EDITOR_CONTEXT_KEY="inReferenceSearchEditor",t}(k.PeekViewWidget);t.ReferenceWidget=F}),define(l[292],d([1,0,442,7,5,33,56,6,20,18,21,23,32,39,61,175,293]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y){"use strict";t.ctxReferenceSearchVisible="referenceSearchVisible";var E=function(){function e(e,i,n,o,r,s,a,c,u,l){this._editorService=n,this._telemetryService=o,this._messageService=r,this._instantiationService=s,this._contextService=a,this._storageService=c,this._configurationService=u,this._peekViewService=l,this._requestIdPool=0,this._disposables=[],this._ignoreModelChangeEvent=!1,this._editor=e,this._referenceSearchVisible=i.createKey(t.ctxReferenceSearchVisible,!1)}return e.getController=function(t){return t.getContribution(e.ID)},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._editor=null},e.prototype.toggleWidget=function(e,t,n){var o,s=this;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&e.containsPosition(o))return null;this._referenceSearchVisible.set(!0),this._disposables.push(this._editor.onDidChangeModelMode(function(){s.closeWidget()})),this._disposables.push(this._editor.onDidChangeModel(function(){s._ignoreModelChangeEvent||s.closeWidget()}));var a="peekViewLayout",c=JSON.parse(this._storageService.get(a,void 0,"{}"));this._widget=new y.ReferenceWidget(this._editor,c,this._editorService,this._contextService,this._instantiationService),this._widget.setTitle(i.localize(0,null)),this._widget.show(e),this._disposables.push(this._widget.onDidClose(function(){t.cancel(),s._storageService.store(a,JSON.stringify(s._widget.layoutData)),s._widget=null,s.closeWidget()})),this._disposables.push(this._widget.onDidSelectReference(function(e){var t=e.element,i=e.kind;switch(i){case"open":if("editor"===e.source&&d.getConfigurationValue(s._configurationService.getConfiguration(),"editor.stablePeek",!1))break;case"side":s._openReference(t,"side"===i);break;case"goto":n.onGoto?n.onGoto(t):s._gotoReference(t)}}));var u=++this._requestIdPool,l=this._telemetryService.timedPublicLog("findReferences",{mode:this._editor.getModel().getMode().getId()});t.then(function(t){if(u===s._requestIdPool&&s._widget){s._model=t;var i=Date.now();return s._disposables.push({dispose:function(){s._telemetryService.publicLog("zoneWidgetShown",{mode:"reference search",elapsedTime:Date.now()-i})}}),s._widget.setModel(s._model).then(function(){s._widget.setMetaTitle(n.getMetaTitle(s._model));var t=s._editor.getModel().uri,i={lineNumber:e.startLineNumber,column:e.startColumn},o=s._model.nearestReference(t,i);if(o)return s._widget.setSelection(o)})}},function(e){s._messageService.show(r["default"].Error,e)}).done(function(){l.stop()})},e.prototype.closeWidget=function(){this._widget&&(this._widget.dispose(),this._widget=null),this._referenceSearchVisible.reset(),this._disposables=o.dispose(this._disposables),this._model=null,this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(e){var t=this;this._ignoreModelChangeEvent=!0;var i=e.uri,o=e.range;this._editorService.openEditor({resource:i,options:{selection:o}}).done(function(e){return t._ignoreModelChangeEvent=!1,e&&e.getControl()===t._editor?(t._widget.show(o),void t._widget.focus()):void t.closeWidget()},function(e){t._ignoreModelChangeEvent=!1,n.onUnexpectedError(e)})},e.prototype._openReference=function(e,t){var i=e.uri,n=e.range;this._editorService.openEditor({resource:i,options:{selection:n}},t),t||this.closeWidget()},e.ID="editor.contrib.referencesController",e=g([m(1,c.IKeybindingService),m(2,s.IEditorService),m(3,l.ITelemetryService),m(4,u.IMessageService),m(5,a.IInstantiationService),m(6,h.IWorkspaceContextService),m(7,p.IStorageService),m(8,d.IConfigurationService),m(9,a.optional(v.IPeekViewService))],e)}();t.ReferencesController=E,f.EditorBrowserRegistry.registerEditorContribution(E)}),define(l[751],d([1,0,427,16,7,168,13,12,33,9,2,59,56,18,14,40,54,11,26,37,61,699,292,221,5,175,6,822]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D){"use strict";var k=function(){function e(e,t,i,n){void 0===e&&(e=E.Behaviour.WidgetFocus|E.Behaviour.ShowInContextMenu|E.Behaviour.UpdateOnCursorPositionChange),void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=!0),this.condition=e,this.openToSide=t,this.openInPeek=i,this.filterCurrent=n}return e}();t.DefinitionActionConfig=k;var x=function(e){function t(t,i,n,o,r){e.call(this,t,i,r.condition),this._messageService=n,this._editorService=o,this._configuration=r}return h(t,e),t.prototype.getGroupId=function(){return"1_goto/2_visitDefinition"},t.prototype.isSupported=function(){return _.DefinitionProviderRegistry.has(this.editor.getModel())&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){return!!e.prototype.getEnablementState.call(this)&&_.DefinitionProviderRegistry.has(this.editor.getModel())},t.prototype.run=function(){var e=this,t=this.editor.getModel(),i=this.editor.getPosition();return w.getDeclarationsAtPosition(t,i).then(function(n){if(n){for(var o=[],r=0;r<n.length;r++){var s=n[r];if(s){var a=s.uri,c=s.range;e._configuration.filterCurrent&&a.toString()===t.uri.toString()&&v.Range.containsPosition(c,i)||o.push({uri:a,range:v.Range.collapseToStart(c)})}}if(0!==o.length)return e._onResult(new T.ReferencesModel(o))}},function(t){return e._messageService.show(c["default"].Error,t),!1})},t.prototype._onResult=function(e){var t=this;if(this._configuration.openInPeek)this._openInPeek(this.editor,e);else{var i=e.nearestReference(this.editor.getModel().uri,this.editor.getPosition());this._openReference(i,this._configuration.openToSide).then(function(i){e.references.length>1&&t._openInPeek(i,e)})}},t.prototype._openReference=function(e,t){var i=e.uri,n=e.range;return this._editorService.openEditor({resource:i,options:{selection:n}},t).then(function(e){return e.getControl()})},t.prototype._openInPeek=function(e,t){var n=this,o=I.ReferencesController.getController(e);o.toggleWidget(e.getSelection(),l.TPromise.as(t),{getMetaTitle:function(e){return e.references.length>1&&i.localize(0,null,e.references.length)},onGoto:function(e){return o.closeWidget(),n._openReference(e,!1)}})},t}(y.EditorAction);t.DefinitionAction=x;var M=function(e){function t(t,i,n,o){e.call(this,t,i,n,o,new k)}return h(t,e),t.ID="editor.action.goToDeclaration",t=g([m(2,f.IMessageService),m(3,p.IEditorService)],t)}(x);t.GoToDefinitionAction=M;var R=function(e){function t(t,i,n,o){e.call(this,t,i,n,o,new k(E.Behaviour.WidgetFocus|E.Behaviour.UpdateOnCursorPositionChange,(!0)))}return h(t,e),t.ID="editor.action.openDeclarationToTheSide",t=g([m(2,f.IMessageService),m(3,p.IEditorService)],t)}(x);t.OpenDefinitionToSideAction=R;var O=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,new k((void 0),(void 0),(!0),(!1))),this._peekViewService=r}return h(t,e),t.prototype.getEnablementState=function(){return(!this._peekViewService||!this._peekViewService.isActive)&&e.prototype.getEnablementState.call(this)},t.ID="editor.action.previewDeclaration",t=g([m(2,f.IMessageService),m(3,p.IEditorService),m(4,D.optional(L.IPeekViewService))],t)}(x);t.PeekDefinitionAction=O;var P=function(){function e(e,t){var i=this;this.editorService=t,this.toUnhook=[],this.decorations=[],this.editor=e,this.throttler=new n.Throttler,this.toUnhook.push(this.editor.onMouseDown(function(e){return i.onEditorMouseDown(e)})),this.toUnhook.push(this.editor.onMouseUp(function(e){return i.onEditorMouseUp(e)})),this.toUnhook.push(this.editor.onMouseMove(function(e){return i.onEditorMouseMove(e)})),this.toUnhook.push(this.editor.onKeyDown(function(e){return i.onEditorKeyDown(e)})),this.toUnhook.push(this.editor.onKeyUp(function(e){return i.onEditorKeyUp(e)})),this.toUnhook.push(this.editor.onDidChangeCursorSelection(function(e){return i.onDidChangeCursorSelection(e)})),this.toUnhook.push(this.editor.onDidChangeModel(function(e){return i.resetHandler()})),this.toUnhook.push(this.editor.onDidChangeModelContent(function(){return i.resetHandler()})),this.toUnhook.push(this.editor.onDidScrollChange(function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&i.resetHandler()}))}return e.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},e.prototype.onEditorMouseMove=function(e,t){this.lastMouseMoveEvent=e,this.startFindDefinition(e,t)},e.prototype.startFindDefinition=function(t,n){var r=this;if(!this.isEnabled(t,n))return this.currentWordUnderMouse=null,void this.removeDecorations();var s=t.target.position,a=s?this.editor.getModel().getWordAtPosition(s):null;if(!a)return this.currentWordUnderMouse=null,void this.removeDecorations();if(!this.currentWordUnderMouse||this.currentWordUnderMouse.startColumn!==a.startColumn||this.currentWordUnderMouse.endColumn!==a.endColumn||this.currentWordUnderMouse.word!==a.word){this.currentWordUnderMouse=a;var c=this.editor.captureState(S.CodeEditorStateFlag.Position,S.CodeEditorStateFlag.Value,S.CodeEditorStateFlag.Selection,S.CodeEditorStateFlag.Scroll);this.throttler.queue(function(){return c.validate(r.editor)?r.findDefinition(t.target):l.TPromise.as(null)}).then(function(t){if(!t||!t.length||!c.validate(r.editor))return void r.removeDecorations();if(t.length>1)r.addDecoration({startLineNumber:s.lineNumber,startColumn:a.startColumn,endLineNumber:s.lineNumber,endColumn:a.endColumn},i.localize(1,null,t.length),!1);else{var n=t[0];r.editorService.resolveEditorModel({resource:n.uri}).then(function(t){var i;if(t&&t.textEditorModel){var o=Math.max(1,n.range.startLineNumber),c=void 0,l=void 0;l=t.textEditorModel,c=n.range.startLineNumber!==n.range.endLineNumber||n.range.startColumn!==n.range.endColumn?Math.min(n.range.endLineNumber,n.range.startLineNumber+e.MAX_SOURCE_PREVIEW_LINES,l.getLineCount()):Math.min(o+e.MAX_SOURCE_PREVIEW_LINES,l.getLineCount()),i=l.getValueInRange({startLineNumber:o,startColumn:1,endLineNumber:c,endColumn:l.getLineMaxColumn(c)}).trim();for(var d=Number.MAX_VALUE,h=/^[ \t]*/,p=void 0,f=void 0;o<=c&&d>0;)f=l.getLineContent(o++),0!==f.trim().length&&(p=h.exec(f),d=Math.min(d,p[0].length));i=i.replace(new RegExp("^([ \\t]{"+d+"})","gm"),u.empty),n.range.endLineNumber-n.range.startLineNumber>e.MAX_SOURCE_PREVIEW_LINES&&(i+="\n…")}r.addDecoration({startLineNumber:s.lineNumber,startColumn:a.startColumn,endLineNumber:s.lineNumber,endColumn:a.endColumn},i,!0)})}}).done(void 0,o.onUnexpectedError)}},e.prototype.addDecoration=function(e,t,i){var n=this.editor.getModel();if(n){var o=void 0;t&&t.trim().length>0&&(o=i?{language:n.getMode().getId(),value:t}:r.textToMarkedString(t));var s={range:e,options:{inlineClassName:"goto-definition-link",htmlMessage:[o]}};this.decorations=this.editor.deltaDecorations(this.decorations,[s])}},e.prototype.removeDecorations=function(){this.decorations.length>0&&(this.decorations=this.editor.deltaDecorations(this.decorations,[]))},e.prototype.onEditorKeyDown=function(t){this.lastMouseMoveEvent&&(t.keyCode===e.TRIGGER_KEY_VALUE||t.keyCode===e.TRIGGER_SIDEBYSIDE_KEY_VALUE&&t[e.TRIGGER_MODIFIER])?this.startFindDefinition(this.lastMouseMoveEvent,t):t[e.TRIGGER_MODIFIER]&&this.removeDecorations()},e.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this.removeDecorations()},e.prototype.onEditorMouseDown=function(t){this.hasTriggerKeyOnMouseDown=!!t.event[e.TRIGGER_MODIFIER]},e.prototype.onEditorMouseUp=function(e){var t=this;this.isEnabled(e)&&this.hasTriggerKeyOnMouseDown&&this.gotoDefinition(e.target,e.event.altKey).done(function(){t.removeDecorations()},function(e){t.removeDecorations(),o.onUnexpectedError(e)})},e.prototype.onEditorKeyUp=function(t){t.keyCode===e.TRIGGER_KEY_VALUE&&(this.removeDecorations(),this.currentWordUnderMouse=null)},e.prototype.isEnabled=function(t,i){return this.editor.getModel()&&(d.isIE11orEarlier||t.event.detail<=1)&&t.target.type===S.MouseTargetType.CONTENT_TEXT&&(t.event[e.TRIGGER_MODIFIER]||i&&i.keyCode===e.TRIGGER_KEY_VALUE)&&_.DefinitionProviderRegistry.has(this.editor.getModel())},e.prototype.findDefinition=function(e){var t=this.editor.getModel();return t?w.getDeclarationsAtPosition(this.editor.getModel(),e.position):l.TPromise.as(null)},e.prototype.gotoDefinition=function(e,t){var i=t?R.ID:M.ID;return this.editor.setPosition(e.position),this.editor.getAction(i).run()},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toUnhook=A.dispose(this.toUnhook)},e.ID="editor.contrib.gotodefinitionwithmouse",e.TRIGGER_MODIFIER=a.isMacintosh?"metaKey":"ctrlKey",e.TRIGGER_SIDEBYSIDE_KEY_VALUE=s.KeyCode.Alt,e.TRIGGER_KEY_VALUE=a.isMacintosh?s.KeyCode.Meta:s.KeyCode.Ctrl,e.MAX_SOURCE_PREVIEW_LINES=7,e=g([m(1,p.IEditorService)],e)}();b.CommonEditorRegistry.registerEditorAction(new b.EditorActionDescriptor(O,O.ID,i.localize(2,null),{context:b.ContextKey.EditorTextFocus,primary:s.KeyMod.Alt|s.KeyCode.F12,linux:{primary:s.KeyMod.CtrlCmd|s.KeyMod.Shift|s.KeyCode.F10}},"Peek Definition"));var N;N=a.isWeb?s.KeyMod.CtrlCmd|s.KeyCode.F12:s.KeyCode.F12,b.CommonEditorRegistry.registerEditorAction(new b.EditorActionDescriptor(M,M.ID,i.localize(3,null),{context:b.ContextKey.EditorTextFocus,primary:N},"Go to Definition")),b.CommonEditorRegistry.registerEditorAction(new b.EditorActionDescriptor(R,R.ID,i.localize(4,null),{context:b.ContextKey.EditorTextFocus,primary:s.KeyMod.chord(s.KeyMod.CtrlCmd|s.KeyCode.KEY_K,N)},"Open Definition to the Side")),C.EditorBrowserRegistry.registerEditorContribution(P)}),define(l[752],d([1,0,441,13,19,2,56,6,20,62,48,14,40,54,26,37,175,716,293,292,221]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";function w(e,t){var i=E.getOuterEditor(e,t);if(i){var n=_.ReferencesController.getController(i);n.closeWidget()}}var I={getMetaTitle:function(e){return e.references.length>1&&i.localize(0,null,e.references.length)}},T=function(e){function t(t,n,o,r){e.call(this,t,n,f.Behaviour.WidgetFocus|f.Behaviour.ShowInContextMenu|f.Behaviour.UpdateOnCursorPositionChange),this.label=i.localize(1,null),this.peekViewService=r,this.peekViewService&&o.createKey(this.peekViewService.contextKey,!0)}return h(t,e),t.prototype.getGroupId=function(){return"1_goto/4_references"},t.prototype.isSupported=function(){return y.ReferenceProviderRegistry.has(this.editor.getModel())&&e.prototype.isSupported.call(this)},t.prototype.getEnablementState=function(){return(!this.peekViewService||!this.peekViewService.isActive)&&y.ReferenceProviderRegistry.has(this.editor.getModel())},t.prototype.run=function(){var e=this.editor.getSelection(),t=this.editor.getModel(),i=S.provideReferences(t,e.getStartPosition()).then(function(e){return new C.ReferencesModel(e)}),n=_.ReferencesController.getController(this.editor);return r.TPromise.as(n.toggleWidget(e,i,I)).then(function(){return!0})},t.ID="editor.action.referenceSearch.trigger",t=g([m(2,c.IKeybindingService),m(3,a.optional(E.IPeekViewService))],t)}(p.EditorAction);t.ReferenceAction=T;var A=function(e,t,i){if(!(t instanceof o["default"]))throw new Error("illegal argument, uri");if(!i)throw new Error("illega argument, position");return e.get(s.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(t&&"function"==typeof t.getEditorType){var n=S.provideReferences(t.getModel(),l.Position.lift(i)).then(function(e){return new C.ReferencesModel(e)}),o=_.ReferencesController.getController(t),s=new d.Range(i.lineNumber,i.column,i.lineNumber,i.column);return r.TPromise.as(o.toggleWidget(s,n,I))}})},L=function(e,t,i,n){if(!(t instanceof o["default"]))throw new Error("illegal argument, uri expected");return e.get(s.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(t&&"function"==typeof t.getEditorType){var o=_.ReferencesController.getController(t);return r.TPromise.as(o.toggleWidget(new d.Range(i.lineNumber,i.column,i.lineNumber,i.column),r.TPromise.as(new C.ReferencesModel(n)),I)).then(function(){return!0})}})};v.CommonEditorRegistry.registerEditorAction(new v.EditorActionDescriptor(T,T.ID,i.localize(2,null),{context:v.ContextKey.EditorTextFocus,primary:n.KeyMod.Shift|n.KeyCode.F12},"Find All References")),u.KeybindingsRegistry.registerCommandDesc({id:"editor.action.findReferences",handler:A,weight:v.CommonEditorRegistry.commandWeight(50),when:null,primary:void 0}),u.KeybindingsRegistry.registerCommandDesc({id:"editor.action.showReferences",handler:L,weight:v.CommonEditorRegistry.commandWeight(50),when:null,primary:void 0,description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:o["default"]},{name:"position",description:"The position at which to show",constraint:l.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}}),u.KeybindingsRegistry.registerCommandDesc({id:"closeReferenceSearch",weight:v.CommonEditorRegistry.commandWeight(50),primary:n.KeyCode.Escape,secondary:[n.KeyMod.Shift|n.KeyCode.Escape],when:c.KbExpr.and(c.KbExpr.has(_.ctxReferenceSearchVisible),c.KbExpr.not("config.editor.stablePeek")),handler:w}),u.KeybindingsRegistry.registerCommandDesc({id:"closeReferenceSearchEditor",weight:v.CommonEditorRegistry.commandWeight(-101),primary:n.KeyCode.Escape,secondary:[n.KeyMod.Shift|n.KeyCode.Escape],when:c.KbExpr.and(c.KbExpr.has(b.ReferenceWidget.INNER_EDITOR_CONTEXT_KEY),c.KbExpr.not("config.editor.stablePeek")),handler:w})}),define(l[753],d([1,0,19,25,32]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t,i){void 0===i&&(i={}),this.serviceId=o.IWorkspaceContextService,this.workspace=e,this.configuration=t,this.options=i}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.getOptions=function(){return this.options},e.prototype.isInsideWorkspace=function(e){return!(!e||!this.workspace)&&n.isEqualOrParent(e.fsPath,this.workspace.resource.fsPath)},e.prototype.toWorkspaceRelativePath=function(e){return this.isInsideWorkspace(e)?n.normalize(n.relative(this.workspace.resource.fsPath,e.fsPath)):null},e.prototype.toResource=function(e){return"string"==typeof e&&this.workspace?i["default"].file(n.join(this.workspace.resource.fsPath,e)):null},e}();t.BaseWorkspaceContextService=r}),define(l[754],d([1,0,19,7]),function(e,t,i,n){"use strict";var o=function(){function e(e){this._callOnDispose=e}return e.from=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];return new e(function(){if(t){for(var e=0,i=t;e<i.length;e++){var n=i[e];n&&"function"==typeof n.dispose&&n.dispose()}t=void 0}})},e.prototype.dispose=function(){"function"==typeof this._callOnDispose&&(this._callOnDispose(),this._callOnDispose=void 0)},e}();t.Disposable=o;var r=function(){function e(e,t){if(e<0)throw n.illegalArgument("line must be positive");if(t<0)throw n.illegalArgument("character must be positive");this._line=e,this._character=t}return e.Min=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var i=e.pop(),n=0,o=e;n<o.length;n++){var r=o[n];r.isBefore(i)&&(i=r)}return i},e.Max=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];for(var i=e.pop(),n=0,o=e;n<o.length;n++){var r=o[n];r.isAfter(i)&&(i=r)}return i},e.is=function(t){if(!t)return!1;if(t instanceof e)return!0;var i=t,n=i.line,o=i.character;return"number"==typeof n&&"number"==typeof o},Object.defineProperty(e.prototype,"line",{get:function(){return this._line},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"character",{get:function(){return this._character},enumerable:!0,configurable:!0}),e.prototype.isBefore=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<e._character},e.prototype.isBeforeOrEqual=function(e){return this._line<e._line||!(e._line<this._line)&&this._character<=e._character},e.prototype.isAfter=function(e){return!this.isBeforeOrEqual(e)},e.prototype.isAfterOrEqual=function(e){return!this.isBefore(e)},e.prototype.isEqual=function(e){return this._line===e._line&&this._character===e._character},e.prototype.compareTo=function(e){return this._line<e._line?-1:this._line>e.line?1:this._character<e._character?-1:this._character>e._character?1:0},e.prototype.translate=function(t,i){if(void 0===i&&(i=0),null===t||null===i)throw n.illegalArgument();var o;return"undefined"==typeof t?o=0:"number"==typeof t?o=t:(o="number"==typeof t.lineDelta?t.lineDelta:0,i="number"==typeof t.characterDelta?t.characterDelta:0),0===o&&0===i?this:new e(this.line+o,this.character+i)},e.prototype["with"]=function(t,i){if(void 0===i&&(i=this.character),null===t||null===i)throw n.illegalArgument();var o;return"undefined"==typeof t?o=this.line:"number"==typeof t?o=t:(o="number"==typeof t.line?t.line:this.line,i="number"==typeof t.character?t.character:this.character),o===this.line&&i===this.character?this:new e(o,i)},e.prototype.toJSON=function(){return{line:this.line,character:this.character}},e}();t.Position=r;var s=function(){function e(e,t,i,n){var o,s;if("number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof n?(o=new r(e,t),s=new r(i,n)):e instanceof r&&t instanceof r&&(o=e,s=t),!o||!s)throw new Error("Invalid arguments");o.isBefore(s)?(this._start=o,this._end=s):(this._start=s,this._end=o)}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.contains=function(t){return t instanceof e?this.contains(t._start)&&this.contains(t._end):t instanceof r&&(!t.isBefore(this._start)&&!this._end.isBefore(t))},e.prototype.isEqual=function(e){return this._start.isEqual(e._start)&&this._end.isEqual(e._end)},e.prototype.intersection=function(t){var i=r.Max(t.start,this._start),n=r.Min(t.end,this._end);if(!i.isAfter(n))return new e(i,n)},e.prototype.union=function(t){if(this.contains(t))return this;if(t.contains(this))return t;var i=r.Min(t.start,this._start),n=r.Max(t.end,this.end);return new e(i,n)},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this._start.isEqual(this._end)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleLine",{get:function(){return this._start.line===this._end.line},enumerable:!0,configurable:!0}),e.prototype["with"]=function(t,i){if(void 0===i&&(i=this.end),null===t||null===i)throw n.illegalArgument();var o;return t?r.is(t)?o=t:(o=t.start||this.start,i=t.end||this.end):o=this.start,o.isEqual(this._start)&&i.isEqual(this.end)?this:new e(o,i)},e.prototype.toJSON=function(){return[this.start,this.end]},e}();t.Range=s;var a=function(e){function t(t,i,n,o){var s,a;if("number"==typeof t&&"number"==typeof i&&"number"==typeof n&&"number"==typeof o?(s=new r(t,i),a=new r(n,o)):t instanceof r&&i instanceof r&&(s=t,a=i),!s||!a)throw new Error("Invalid arguments");e.call(this,s,a),this._anchor=s,this._active=a}return h(t,e),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReversed",{get:function(){return this._anchor===this._end},enumerable:!0,configurable:!0}),t.prototype.toJSON=function(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}},t}(s);t.Selection=a;var c=function(){function e(e,t){this.range=e,this.newText=t}return e.replace=function(t,i){return new e(t,i)},e.insert=function(t,i){return e.replace(new s(t,t),i)},e["delete"]=function(t){return e.replace(t,"")},Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){if(!e)throw n.illegalArgument("range");this._range=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newText",{get:function(){return this._newText||""},set:function(e){this._newText=e},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{range:this.range,newText:this.newText}},e}();t.TextEdit=c;var u=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(i["default"]);t.Uri=u;var l=function(){function e(){this._values=[],this._index=Object.create(null)}return e.prototype.replace=function(e,t,i){var n=new c(t,i),o=this.get(e);o?o.push(n):this.set(e,[n])},e.prototype.insert=function(e,t,i){this.replace(e,new s(t,t),i)},e.prototype["delete"]=function(e,t){this.replace(e,t,"")},e.prototype.has=function(e){return"undefined"!=typeof this._index[e.toString()]},e.prototype.set=function(e,t){var i=this._index[e.toString()];if("undefined"==typeof i){var n=this._values.push([e,t]);this._index[e.toString()]=n-1}else this._values[i][1]=t},e.prototype.get=function(e){var t=this._index[e.toString()];return"undefined"!=typeof t&&this._values[t][1]},e.prototype.entries=function(){return this._values},Object.defineProperty(e.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return this._values},e}();t.WorkspaceEdit=l,function(e){e[e.Hint=3]="Hint",e[e.Information=2]="Information",e[e.Warning=1]="Warning",e[e.Error=0]="Error"}(t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var d=t.DiagnosticSeverity,p=function(){function e(e,t){if(this.uri=e,t instanceof s)this.range=t;else{if(!(t instanceof r))throw new Error("Illegal argument");this.range=new s(t,t)}}return e.prototype.toJSON=function(){return{uri:this.uri,range:this.range}},e}();t.Location=p;var f=function(){function e(e,t,i){void 0===i&&(i=d.Error),this.range=e,this.message=t,this.severity=i}return e.prototype.toJSON=function(){return{severity:d[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}},e}();t.Diagnostic=f;var g=function(){function e(e,t){if(!e)throw new Error("Illegal argument");Array.isArray(e)?this.contents=e:this.contents=[e],this.range=t}return e}();t.Hover=g,function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var m=t.DocumentHighlightKind,v=function(){function e(e,t){void 0===t&&(t=m.Text),this.range=e,this.kind=t}return e.prototype.toJSON=function(){return{range:this.range,kind:m[this.kind]}},e}();t.DocumentHighlight=v,function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null"}(t.SymbolKind||(t.SymbolKind={}));var y=t.SymbolKind,E=function(){function e(e,t,i,n,o){this.name=e,this.kind=t,this.location=new p(n,i),this.containerName=o}return e.prototype.toJSON=function(){return{name:this.name,kind:y[this.kind],location:this.location,containerName:this.containerName}},e}();t.SymbolInformation=E;var S=function(){function e(e,t){this.range=e,this.command=t}return Object.defineProperty(e.prototype,"isResolved",{get:function(){return!!this.command},enumerable:!0,configurable:!0}),e}();t.CodeLens=S;var b=function(){function e(e,t){this.label=e,this.documentation=t}return e}();t.ParameterInformation=b;var _=function(){function e(e,t){this.label=e,this.documentation=t,this.parameters=[]}return e}();t.SignatureInformation=_;var C=function(){function e(){this.signatures=[]}return e}();t.SignatureHelp=C,function(e){e[e.Text=0]="Text",e[e.Method=1]="Method",e[e.Function=2]="Function",e[e.Constructor=3]="Constructor",e[e.Field=4]="Field",e[e.Variable=5]="Variable",e[e.Class=6]="Class",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Unit=10]="Unit",e[e.Value=11]="Value",e[e.Enum=12]="Enum",e[e.Keyword=13]="Keyword",e[e.Snippet=14]="Snippet",e[e.Color=15]="Color",e[e.File=16]="File",e[e.Reference=17]="Reference"}(t.CompletionItemKind||(t.CompletionItemKind={}));var w=t.CompletionItemKind,I=function(){function e(e,t){this.label=e,this.kind=t}return e.prototype.toJSON=function(){
return{label:this.label,kind:w[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,insertText:this.insertText,textEdit:this.textEdit}},e}();t.CompletionItem=I;var T=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=!1),this.items=e,this.isIncomplete=t}return e}();t.CompletionList=T,function(e){e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three"}(t.ViewColumn||(t.ViewColumn={}));t.ViewColumn;!function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(t.StatusBarAlignment||(t.StatusBarAlignment={}));t.StatusBarAlignment;!function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLine||(t.EndOfLine={}));t.EndOfLine;!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));t.TextEditorRevealType}),define(l[755],d([1,0,118]),function(e,t,i){"use strict";var n=function(){function e(e){this._markerService=e}return e.prototype.$changeMany=function(e,t){for(var i=0,n=t;i<n.length;i++){var o=n[i],r=o[0],s=o[1];this._markerService.changeOne(e,r,s)}},e.prototype.$clear=function(e){this._markerService.changeAll(e,void 0)},e=g([m(0,i.IMarkerService)],e)}();t.MainThreadDiagnostics=n}),define(l[756],d([1,0,11,24,5,16,114,14,46,754]),function(e,t,i,n,o,r,s,a,c,u){"use strict";function l(e,t){return!(e&&!t||!e&&t)&&(!e&&!t||e.tabSize===t.tabSize&&e.insertSpaces===t.insertSpaces)}function d(e,t){return e<t?-1:e>t?1:0}!function(e){e[e.Default=0]="Default",e[e.InCenter=1]="InCenter",e[e.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport"}(t.TextEditorRevealType||(t.TextEditorRevealType={}));var h=t.TextEditorRevealType,p=function(){function e(e,t,i,o,r){var s=this;this._id=e,this._model=t,this._codeEditor=null,this._focusTracker=o,this._modelService=r,this._codeEditorListeners=[],this._onSelectionChanged=new n.Emitter,this._onConfigurationChanged=new n.Emitter,this._lastSelection=[new c.Selection(1,1,1,1)],this._setConfiguration(this._readConfiguration(this._model,this._codeEditor)),this._modelListeners=[],this._modelListeners.push(this._model.onDidChangeOptions(function(e){s._setConfiguration(s._readConfiguration(s._model,s._codeEditor))})),this.setCodeEditor(i)}return e.prototype.dispose=function(){this._model=null,this._modelListeners=o.dispose(this._modelListeners),this._codeEditor=null,this._codeEditorListeners=o.dispose(this._codeEditorListeners)},e.prototype.getId=function(){return this._id},e.prototype.getModel=function(){return this._model},e.prototype.hasCodeEditor=function(e){return this._codeEditor===e},e.prototype.setCodeEditor=function(e){var t=this;if(!this.hasCodeEditor(e)&&(this._codeEditorListeners=o.dispose(this._codeEditorListeners),this._codeEditor=e,this._codeEditor)){this._codeEditorListeners.push(this._codeEditor.onDidChangeModel(function(){t.setCodeEditor(null)}));var i=function(){t._lastSelection=t._codeEditor.getSelections(),t._onSelectionChanged.fire(t._lastSelection)};this._codeEditorListeners.push(this._codeEditor.onDidChangeCursorSelection(i)),c.Selection.selectionsArrEqual(this._lastSelection,this._codeEditor.getSelections())||i(),this._codeEditorListeners.push(this._codeEditor.onDidFocusEditor(function(){t._focusTracker.onGainedFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidBlurEditor(function(){t._focusTracker.onLostFocus()})),this._codeEditorListeners.push(this._codeEditor.onDidChangeConfiguration(function(){t._setConfiguration(t._readConfiguration(t._model,t._codeEditor))})),this._setConfiguration(this._readConfiguration(this._model,this._codeEditor))}},e.prototype.isVisible=function(){return!!this._codeEditor},Object.defineProperty(e.prototype,"onSelectionChanged",{get:function(){return this._onSelectionChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onConfigurationChanged",{get:function(){return this._onConfigurationChanged.event},enumerable:!0,configurable:!0}),e.prototype.getSelections=function(){return this._codeEditor?this._codeEditor.getSelections():this._lastSelection},e.prototype.setSelections=function(e){return this._codeEditor?void this._codeEditor.setSelections(e):(this._lastSelection=e.map(c.Selection.liftSelection),void console.warn("setSelections on invisble editor"))},e.prototype.getConfiguration=function(){return this._configuration},e.prototype._setIndentConfiguration=function(e){if("auto"===e.tabSize||"auto"===e.insertSpaces){var t=this._modelService.getCreationOptions(),i=t.insertSpaces,n=t.tabSize;if("auto"!==e.insertSpaces&&"undefined"!=typeof e.insertSpaces&&(i="false"!==e.insertSpaces&&Boolean(e.insertSpaces)),"auto"!==e.tabSize&&"undefined"!=typeof e.tabSize){var o=parseInt(e.tabSize,10);isNaN(o)||(n=o)}return void this._model.detectIndentation(i,n)}var r={};if("undefined"!=typeof e.insertSpaces&&(r.insertSpaces="false"!==e.insertSpaces&&Boolean(e.insertSpaces)),"undefined"!=typeof e.tabSize){var o=parseInt(e.tabSize,10);isNaN(o)||(r.tabSize=o)}this._model.updateOptions(r)},e.prototype.setConfiguration=function(e){if(this._setIndentConfiguration(e),e.cursorStyle){var t=i.cursorStyleToString(e.cursorStyle);if(!this._codeEditor)return void console.warn("setConfiguration on invisible editor");this._codeEditor.updateOptions({cursorStyle:t})}},e.prototype.setDecorations=function(e,t){return this._codeEditor?void this._codeEditor.setDecorations(e,t):void console.warn("setDecorations on invisible editor")},e.prototype.revealRange=function(e,t){return this._codeEditor?void(t===h.Default?this._codeEditor.revealRange(e):t===h.InCenter?this._codeEditor.revealRangeInCenter(e):t===h.InCenterIfOutsideViewport?this._codeEditor.revealRangeInCenterIfOutsideViewport(e):console.warn("Unknown revealType")):void console.warn("revealRange on invisible editor")},e.prototype._readConfiguration=function(e,t){if(e.isDisposed())return this._configuration;var n=this._configuration?this._configuration.cursorStyle:i.TextEditorCursorStyle.Line;if(t){var o=t.getConfiguration();n=o.viewInfo.cursorStyle}var r=e.getOptions();return{insertSpaces:r.insertSpaces,tabSize:r.tabSize,cursorStyle:n}},e.prototype._setConfiguration=function(e){l(this._configuration,e)||(this._configuration=e,this._onConfigurationChanged.fire(this._configuration))},e.prototype.isFocused=function(){return!!this._codeEditor&&this._codeEditor.isFocused()},e.prototype.matches=function(e){return!!e&&e.getControl()===this._codeEditor},e.prototype.applyEdits=function(e,t,n){if(this._model.getVersionId()!==e)return console.warn("Model has changed in the meantime!"),!1;if(this._codeEditor){n===u.EndOfLine.CRLF?this._model.setEOL(i.EndOfLineSequence.CRLF):n===u.EndOfLine.LF&&this._model.setEOL(i.EndOfLineSequence.LF);var o=t.map(function(e){return{identifier:null,range:a.Range.lift(e.range),text:e.text,forceMoveMarkers:e.forceMoveMarkers}});return this._codeEditor.pushUndoStop(),this._codeEditor.executeEdits("MainThreadTextEditor",o),this._codeEditor.pushUndoStop(),!0}return console.warn("applyEdits on invisible editor"),!1},e}();t.MainThreadTextEditor=p;var f=function(){function e(e,t){var i=this;this._codeEditorService=e,this._modelService=t,this._toDispose=[],this._focusedTextEditorId=null,this._visibleTextEditorIds=[],this._editorModelChangeListeners=Object.create(null),this._model2TextEditors=Object.create(null),this._onTextEditorAdd=new n.Emitter,this._onTextEditorRemove=new n.Emitter,this._onDidUpdateTextEditors=new n.Emitter,this._onDidChangeFocusedTextEditor=new n.Emitter,this._focusTracker={onGainedFocus:function(){return i._updateFocusedTextEditor()},onLostFocus:function(){return i._updateFocusedTextEditor()}},this._modelService.onModelAdded(this._onModelAdded,this,this._toDispose),this._modelService.onModelRemoved(this._onModelRemoved,this,this._toDispose),this._codeEditorService.onCodeEditorAdd(this._onCodeEditorAdd,this,this._toDispose),this._codeEditorService.onCodeEditorRemove(this._onCodeEditorRemove,this,this._toDispose),this._updateMapping=new r.RunOnceScheduler(function(){return i._doUpdateMapping()},0),this._toDispose.push(this._updateMapping)}return e.prototype.dispose=function(){this._toDispose=o.dispose(this._toDispose)},e.prototype._onModelAdded=function(e){this._updateMapping.schedule()},e.prototype._onModelRemoved=function(e){this._updateMapping.schedule()},e.prototype._onCodeEditorAdd=function(e){var t=this;this._editorModelChangeListeners[e.getId()]=e.onDidChangeModel(function(e){return t._updateMapping.schedule()}),this._updateMapping.schedule()},e.prototype._onCodeEditorRemove=function(e){this._editorModelChangeListeners[e.getId()].dispose(),delete this._editorModelChangeListeners[e.getId()],this._updateMapping.schedule()},e.prototype._doUpdateMapping=function(){var t=this,i=this._modelService.getModels();i=i.filter(function(e){return!e.isTooLargeForHavingARichMode()});var n=Object.create(null);i.forEach(function(e){n[e.uri.toString()]=e}),Object.keys(this._model2TextEditors).forEach(function(e){if(!n[e]){var i=t._model2TextEditors[e];delete t._model2TextEditors[e];for(var o=0;o<i.length;o++)t._onTextEditorRemove.fire(i[o]),i[o].dispose()}});var o=this._getVisibleModels();Object.keys(o).forEach(function(i){var n=o[i].model,r=o[i].codeEditors;t._model2TextEditors[i]||(t._model2TextEditors[i]=[]);for(var s=t._model2TextEditors[i];s.length>r.length;){var a=s.pop();t._onTextEditorRemove.fire(a),a.dispose()}for(var c=0;c<s.length;c++)s[c].setCodeEditor(r[c]);for(var c=s.length;c<r.length;c++){var u=new p(e._Ids.nextId(),n,r[c],t._focusTracker,t._modelService);s.push(u),t._onTextEditorAdd.fire(u)}}),i.forEach(function(i){var n=i.uri.toString();if(!o[n]){t._model2TextEditors[n]||(t._model2TextEditors[n]=[]);for(var r=t._model2TextEditors[n];r.length>1;){var s=r.pop();t._onTextEditorRemove.fire(s),s.dispose()}if(0===r.length){var a=new p(e._Ids.nextId(),i,null,t._focusTracker,t._modelService);r.push(a),t._onTextEditorAdd.fire(a)}else r[0].setCodeEditor(null)}}),this._printState(),this._visibleTextEditorIds=this._findVisibleTextEditorIds(),this._updateFocusedTextEditor(),this._onDidUpdateTextEditors.fire(void 0)},e.prototype._updateFocusedTextEditor=function(){this._setFocusedTextEditorId(this._findFocusedTextEditorId())},e.prototype._findFocusedTextEditorId=function(){for(var e=Object.keys(this._model2TextEditors),t=0,i=e.length;t<i;t++)for(var n=this._model2TextEditors[e[t]],o=0,r=n.length;o<r;o++)if(n[o].isFocused())return n[o].getId();return null},e.prototype._findVisibleTextEditorIds=function(){for(var e=[],t=Object.keys(this._model2TextEditors),i=0,n=t.length;i<n;i++)for(var o=this._model2TextEditors[t[i]],r=0,s=o.length;r<s;r++)o[r].isVisible()&&e.push(o[r].getId());return e.sort(),e},e.prototype._setFocusedTextEditorId=function(e){this._focusedTextEditorId!==e&&(this._focusedTextEditorId=e,this._printState(),this._onDidChangeFocusedTextEditor.fire(this._focusedTextEditorId))},e.prototype._printState=function(){},e.prototype._getVisibleModels=function(){var e={},t=this._codeEditorService.listCodeEditors();return t.sort(function(e,t){return d(e.getId(),t.getId())}),t.forEach(function(t){var i=t.getModel();if(i&&!i.isTooLargeForHavingARichMode()){var n=i.uri.toString();e[n]=e[n]||{model:i,codeEditors:[]},e[n].codeEditors.push(t)}}),e},e.prototype.getFocusedTextEditorId=function(){return this._focusedTextEditorId},e.prototype.getVisibleTextEditorIds=function(){return this._visibleTextEditorIds},Object.defineProperty(e.prototype,"onTextEditorAdd",{get:function(){return this._onTextEditorAdd.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTextEditorRemove",{get:function(){return this._onTextEditorRemove.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidUpdateTextEditors",{get:function(){return this._onDidUpdateTextEditors.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onChangedFocusedTextEditor",{get:function(){return this._onDidChangeFocusedTextEditor.event},enumerable:!0,configurable:!0}),e.prototype.findTextEditorIdFor=function(e){for(var t=Object.keys(this._model2TextEditors),i=0,n=t.length;i<n;i++)for(var o=this._model2TextEditors[t[i]],r=0,s=o.length;r<s;r++)if(o[r].hasCodeEditor(e))return o[r].getId();return null},e.prototype.registerTextEditorDecorationType=function(e,t){this._codeEditorService.registerDecorationType(e,t)},e.prototype.removeTextEditorDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},e._Ids=new s.IdGenerator(""),e}();t.MainThreadEditorsTracker=f}),define(l[757],d([1,0,7]),function(e,t,i){"use strict";var n=function(){function e(){}return e.prototype.onUnexpectedExtHostError=function(e){i.onUnexpectedError(e)},e}();t.MainThreadErrors=n}),define(l[758],d([1,0,2,45]),function(e,t,i,n){"use strict";var o=function(){function e(e){this._modeService=e}return e.prototype._getLanguages=function(){return i.TPromise.as(this._modeService.getRegisteredModes())},e=g([m(0,n.IModeService)],e)}();t.MainThreadLanguages=o}),define(l[759],d([1,0,471,18,27,2]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e){this._messageService=e}return e.prototype.$showMessage=function(e,t,n){var s=this;return new r.TPromise(function(r){var a,c=[],u=!1,l=function(e){function t(t,i,n){e.call(this,t,i,void 0,!0,function(){r(n),a()})}return h(t,e),t.prototype.dispose=function(){r(void 0)},t}(o.Action);n.forEach(function(e){e.isCloseAffordance===!0&&(u=!0),c.push(new l("_extension_message_handle_"+e.handle,e.title,e.handle))}),u||c.unshift(new l("__close",i.localize(0,null),(void 0))),a=s._messageService.show(e,{message:t,actions:c})})},e=g([m(0,n.IMessageService)],e)}();t.MainThreadMessageService=s}),define(l[760],d([1,0,153]),function(e,t,i){"use strict";var n=function(){function e(e){this.statusbarService=e,this.mapIdToDisposable=Object.create(null)}return e.prototype.setEntry=function(e,t,i,n,o,r,s){this.dispose(e);var a=this.statusbarService.addEntry({text:t,tooltip:i,command:n,color:o},r,s);this.mapIdToDisposable[e]=a},e.prototype.dispose=function(e){var t=this.mapIdToDisposable[e];t&&t.dispose(),delete this.mapIdToDisposable[e]},e=g([m(0,i.IStatusbarService)],e)}();t.MainThreadStatusBar=n}),define(l[761],d([1,0,2,39]),function(e,t,i,n){"use strict";var o=function(){function e(e){this._storageService=e}return e.prototype.getValue=function(e,t){var o=this._storageService.get(t,e?n.StorageScope.GLOBAL:n.StorageScope.WORKSPACE);if(!o)return i.TPromise.as(void 0);var r;try{return r=JSON.parse(o),i.TPromise.as(r)}catch(s){return i.TPromise.wrapError(s)}},e.prototype.setValue=function(e,t,o){var r;try{r=JSON.stringify(o),this._storageService.store(t,r,e?n.StorageScope.GLOBAL:n.StorageScope.WORKSPACE)}catch(s){return i.TPromise.wrapError(s)}},e=g([m(0,n.IStorageService)],e)}();t.MainThreadStorage=o}),define(l[762],d([1,0,21]),function(e,t,i){"use strict";var n=function(){function e(e){this._telemetryService=e}return e.prototype.$publicLog=function(e,t){this._telemetryService.publicLog(e,t)},e.prototype.$getTelemetryInfo=function(){return this._telemetryService.getTelemetryInfo()},e=g([m(0,i.ITelemetryService)],e)}();t.MainThreadTelemetry=n}),define(l[63],d([1,0,2,15,17,78,49]),function(e,t,i,n,o,r,s){"use strict";function a(e){if(!e.length)return e;for(var t=0;t<e.length;t++){var i=e[t];o.isUndefinedOrNull(i.order)&&(i.order=t)}e=e.sort(function(e,t){var i=e.order,n=t.order;return i<n?-1:i>n?1:0});for(var n=-1,r=0;r<e.length;r++)if(e[r].id!==s.Separator.ID){n=r;break}if(n===-1)return[];e=e.slice(n);for(var a=e.length-1;a>=0;a--){var c=e[a].id===s.Separator.ID;if(!c)break;e.splice(a,1)}for(var u=!1,l=e.length-1;l>=0;l--){var c=e[l].id===s.Separator.ID;c&&!u?e.splice(l,1):c?c&&(u=!1):u=!0}return e}var c=function(){function e(){}return e.prototype.hasActions=function(e){return!1},e.prototype.getActions=function(e){return[]},e.prototype.hasSecondaryActions=function(e){return!1},e.prototype.getSecondaryActions=function(e){return[]},e.prototype.getActionItem=function(e,t){return null},e}();t.ActionBarContributor=c,t.Scope={GLOBAL:"global",VIEWLET:"viewlet",PANEL:"panel",EDITOR:"editor",VIEWER:"viewer"};var u=function(){function e(){this.registry=n.Registry.as(t.Extensions.Actionbar)}return e.prototype.toContext=function(e,t){return{viewer:e,element:t}},e.prototype.hasActions=function(e,i){for(var n=this.toContext(e,i),o=this.registry.getActionBarContributors(t.Scope.VIEWER),r=0;r<o.length;r++){var s=o[r];if(s.hasActions(n))return!0}return!1},e.prototype.getActions=function(e,n){for(var o=[],r=this.toContext(e,n),s=this.registry.getActionBarContributors(t.Scope.VIEWER),c=0;c<s.length;c++){var u=s[c];u.hasActions(r)&&o.push.apply(o,u.getActions(r))}return i.TPromise.as(a(o))},e.prototype.hasSecondaryActions=function(e,i){for(var n=this.toContext(e,i),o=this.registry.getActionBarContributors(t.Scope.VIEWER),r=0;r<o.length;r++){var s=o[r];if(s.hasSecondaryActions(n))return!0}return!1},e.prototype.getSecondaryActions=function(e,n){for(var o=[],r=this.toContext(e,n),s=this.registry.getActionBarContributors(t.Scope.VIEWER),c=0;c<s.length;c++){var u=s[c];u.hasSecondaryActions(r)&&o.push.apply(o,u.getSecondaryActions(r))}return i.TPromise.as(a(o))},e.prototype.getActionItem=function(e,i,n){for(var o=this.registry.getActionBarContributors(t.Scope.VIEWER),r=this.toContext(e,i),s=o.length-1;s>=0;s--){var a=o[s],c=a.getActionItem(r,n);if(c)return c}return null},e}();t.ContributableActionProvider=u,t.prepareActions=a,t.Extensions={Actionbar:"workbench.contributions.actionbar"};var l=function(){function e(){this.actionBarContributorConstructors=[],this.actionBarContributorInstances={}}return e.prototype.setInstantiationService=function(e){for(this.instantiationService=e;this.actionBarContributorConstructors.length>0;){var t=this.actionBarContributorConstructors.shift();this.createActionBarContributor(t.scope,t.ctor)}},e.prototype.createActionBarContributor=function(e,t){var i=this.instantiationService.createInstance(t),n=r.lookupOrInsert(this.actionBarContributorInstances,e,[]);n.push(i)},e.prototype.getContributors=function(e){return r.lookup(this.actionBarContributorInstances,e,[])},e.prototype.getActionBarActionsForContext=function(e,t){var i=[];return this.getContributors(e).forEach(function(e){e.hasActions(t)&&i.push.apply(i,e.getActions(t))}),i},e.prototype.getSecondaryActionBarActionsForContext=function(e,t){var i=[];return this.getContributors(e).forEach(function(e){e.hasSecondaryActions(t)&&i.push.apply(i,e.getSecondaryActions(t))}),i},e.prototype.getActionItemForContext=function(e,t,i){for(var n=this.getContributors(e),o=0;o<n.length;o++){var r=n[o],s=r.getActionItem(t,i);if(s)return s}return null},e.prototype.registerActionBarContributor=function(e,t){this.instantiationService?this.createActionBarContributor(e,t):this.actionBarContributorConstructors.push({scope:e,ctor:t})},e.prototype.getActionBarContributors=function(e){return this.getContributors(e).slice(0)},e}();n.Registry.add(t.Extensions.Actionbar,new l)}),define(l[150],d([1,0,15,153,70]),function(e,t,i,n,o){"use strict";t.StatusbarAlignment=n.StatusbarAlignment;var r=function(){function e(e,i,n){this.syncDescriptor=o.createSyncDescriptor(e),this.alignment=i||t.StatusbarAlignment.LEFT,this.priority=n||0}return e}();t.StatusbarItemDescriptor=r;var s=function(){function e(){this._items=[]}return Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.registerStatusbarItem=function(e){this._items.push(e)},e}();t.Extensions={Statusbar:"workbench.contributions.statusbar"},i.Registry.add(t.Extensions.Statusbar,new s)}),define(l[167],d([1,0]),function(e,t){"use strict";t.Identifiers={WORKBENCH_CONTAINER:"workbench.main.container",ACTIVITYBAR_PART:"workbench.parts.activitybar",SIDEBAR_PART:"workbench.parts.sidebar",PANEL_PART:"workbench.parts.panel",EDITOR_PART:"workbench.parts.editor",STATUSBAR_PART:"workbench.parts.statusbar"}}),define(l[84],d([1,0,15]),function(e,t,i){"use strict";var n;!function(e){e.Workbench="workbench.contributions.kind"}(n=t.Extensions||(t.Extensions={}));var o=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.registerWorkbenchContribution=function(t){e.prototype._register.call(this,t)},t.prototype.getWorkbenchContributions=function(){return e.prototype._getInstances.call(this)},t.prototype.setWorkbenchContributions=function(t){e.prototype._setInstances.call(this,t)},t}(i.BaseRegistry);i.Registry.add(n.Workbench,new o)}),define(l[30],d([1,0,2,36,24,17,19,66]),function(e,t,i,n,o,r,s,a){"use strict";function c(e,t){if(!e)return null;if(e instanceof m)return e.getResource();var i=d(e,t);return i&&i&&i.getResource()}function u(e){if(e&&"function"==typeof e.getResource){var t=e.getResource();if(t instanceof s["default"])return t}return c(e,!0)}function l(e,t){var i=[];return e.getStacksModel().groups.forEach(function(e){var n=e.getEditors();n.forEach(function(e){var n=d(e,!0);n&&!t.isInsideWorkspace(n.getResource())&&i.push(n.getResource())})}),i}function d(e,t){if(!e)return null;t&&e instanceof v&&(e=e.modifiedInput);var i=e;return i instanceof f&&r.areFunctions(i.setResource,i.setMime,i.setEncoding,i.getEncoding,i.getResource,i.getMime)?i:null}!function(e){e[e.SAVE=0]="SAVE",e[e.DONT_SAVE=1]="DONT_SAVE",e[e.CANCEL=2]="CANCEL"}(t.ConfirmResult||(t.ConfirmResult={}));var p=t.ConfirmResult,f=function(e){function t(){e.call(this),this._onDidChangeDirty=new o.Emitter,this.disposed=!1}return h(t,e),Object.defineProperty(t.prototype,"onDidChangeDirty",{get:function(){return this._onDidChangeDirty.event},enumerable:!0,configurable:!0}),t.prototype.getName=function(){return null},t.prototype.getDescription=function(e){return null},t.prototype.getPreferredEditorId=function(e){return e&&e.length>0?e[0]:null},t.prototype.isDirty=function(){return!1},t.prototype.confirmSave=function(){return p.DONT_SAVE},t.prototype.save=function(){return i.TPromise.as(!0)},t.prototype.revert=function(){return i.TPromise.as(!0)},t.prototype.close=function(){this.dispose()},t.prototype.supportsSplitEditor=function(){return!0},t.prototype.matches=function(e){return this===e},t.prototype.dispose=function(){this._onDidChangeDirty.dispose(),this.disposed=!0,this.emit("dispose"),e.prototype.dispose.call(this)},t.prototype.isDisposed=function(){return this.disposed},t}(n.EventEmitter);t.EditorInput=f;var g=function(e){function t(t){e.call(this,null),this._editorInput=t}return h(t,e),Object.defineProperty(t.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),t.prototype.prevent=function(){this.prevented=!0},t.prototype.isPrevented=function(){return this.prevented},t}(a.Event);t.EditorInputEvent=g,function(e){e[e.Encode=0]="Encode",e[e.Decode=1]="Decode"}(t.EncodingMode||(t.EncodingMode={}));var m=(t.EncodingMode,function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(f));t.UntitledEditorInput=m;var v=function(e){function t(t,i){e.call(this),this._originalInput=t,this._modifiedInput=i}return h(t,e),Object.defineProperty(t.prototype,"originalInput",{get:function(){return this._originalInput},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedInput",{get:function(){return this._modifiedInput},enumerable:!0,configurable:!0}),t.prototype.isDirty=function(){return this._modifiedInput.isDirty()},t.prototype.confirmSave=function(){return this._modifiedInput.confirmSave()},t.prototype.save=function(){return this._modifiedInput.save()},t.prototype.revert=function(){return this._modifiedInput.revert()},t}(f);t.BaseDiffEditorInput=v;var y=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.load=function(){return i.TPromise.as(this)},t.prototype.isResolved=function(){return!0},t.prototype.dispose=function(){this.emit("dispose"),e.prototype.dispose.call(this)},t}(n.EventEmitter);t.EditorModel=y;var E=function(){function e(){}return e.create=function(t){var i=new e;return i.preserveFocus=t.preserveFocus,i.forceOpen=t.forceOpen,i.pinned=t.pinned,i.index=t.index,i.inactive=t.inactive,i},e.prototype.mixin=function(e){this.preserveFocus=e.preserveFocus,this.forceOpen=e.forceOpen,this.pinned=e.pinned,this.index=e.index},e}();t.EditorOptions=E;var S=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.from=function(e){var i=null;if(e&&e.options){if((e.options.selection||e.options.forceOpen||e.options.preserveFocus||e.options.pinned||e.options.inactive||"number"==typeof e.options.index)&&(i=new t),e.options.selection){var n=e.options.selection;i.selection(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn)}e.options.forceOpen&&(i.forceOpen=!0),e.options.preserveFocus&&(i.preserveFocus=!0),e.options.pinned&&(i.pinned=!0),e.options.inactive&&(i.inactive=!0),"number"==typeof e.options.index&&(i.index=e.options.index)}return i},t.create=function(e){var i=new t;return i.preserveFocus=e.preserveFocus,i.forceOpen=e.forceOpen,i.pinned=e.pinned,i.index=e.index,e.selection&&(i.startLineNumber=e.selection.startLineNumber,i.startColumn=e.selection.startColumn,i.endLineNumber=e.selection.endLineNumber||e.selection.startLineNumber,i.endColumn=e.selection.endColumn||e.selection.startColumn),i},t.prototype.hasOptionsDefined=function(){return!!this.editorViewState||!r.isUndefinedOrNull(this.startLineNumber)&&!r.isUndefinedOrNull(this.startColumn)},t.prototype.selection=function(e,t,i,n){return void 0===i&&(i=e),void 0===n&&(n=t),this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n,this},t.prototype.viewState=function(e){this.editorViewState=e},t.prototype.apply=function(e){var t=!1;if(this.editorViewState)e.restoreViewState(this.editorViewState),t=!0;else if(!r.isUndefinedOrNull(this.startLineNumber)&&!r.isUndefinedOrNull(this.startColumn)){if(r.isUndefinedOrNull(this.endLineNumber)||r.isUndefinedOrNull(this.endColumn)){var i={lineNumber:this.startLineNumber,column:this.startColumn};e.setPosition(i),e.revealPositionInCenter(i)}else{var n={startLineNumber:this.startLineNumber,startColumn:this.startColumn,endLineNumber:this.endLineNumber,endColumn:this.endColumn};e.setSelection(n),e.revealRangeInCenter(n)}t=!0}return t},t}(E);t.TextEditorOptions=S;var b=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.create=function(e){var i=new t;return i.autoRevealFirstChange=e.autoRevealFirstChange,i.preserveFocus=e.preserveFocus,i.forceOpen=e.forceOpen,i},t}(S);t.TextDiffEditorOptions=b,t.getUntitledOrFileResource=c,t.getResource=u,t.getOutOfWorkspaceEditorResources=l,t.asFileEditorInput=d,t.EditorOpenPositioning={LEFT:"left",RIGHT:"right",FIRST:"first",LAST:"last"}}),define(l[149],d([1,0,30]),function(e,t,i){"use strict";var n=function(e){function t(t,i){e.call(this),this.name=i,this.resource=t}return h(t,e),t.prototype.getName=function(){return this.name},t.prototype.getResource=function(){return this.resource},t}(i.EditorModel);t.BinaryEditorModel=n}),define(l[282],d([1,0,2,30]),function(e,t,i,n){"use strict";var o=function(e){function t(t,i){e.call(this),this._originalModel=t,this._modifiedModel=i}return h(t,e),Object.defineProperty(t.prototype,"originalModel",{get:function(){return this._originalModel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modifiedModel",{get:function(){return this._modifiedModel},enumerable:!0,configurable:!0}),t.prototype.load=function(){var e=this;return i.TPromise.join([this._originalModel.load(),this._modifiedModel.load()]).then(function(){return e})},t.prototype.isResolved=function(){return this._originalModel.isResolved()&&this._modifiedModel.isResolved()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(n.EditorModel);t.DiffEditorModel=o}),define(l[281],d([1,0,282]),function(e,t,i){"use strict";var n=function(e){function t(t,i){e.call(this,t,i),this.updateTextDiffEditorModel()}return h(t,e),t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(){return t.updateTextDiffEditorModel(),t})},t.prototype.updateTextDiffEditorModel=function(){this.originalModel.isResolved()&&this.modifiedModel.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})},Object.defineProperty(t.prototype,"textDiffEditorModel",{get:function(){return this._textDiffEditorModel},enumerable:!0,configurable:!0}),t.prototype.isResolved=function(){return!!this._textDiffEditorModel},t.prototype.dispose=function(){this._textDiffEditorModel=null,e.prototype.dispose.call(this)},t}(i.DiffEditorModel);t.TextDiffEditorModel=n}),define(l[145],d([1,0,2,11,30,45,38,157]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i,n){var o=this;if(e.call(this),this.modelService=t,this.modeService=i,this.textEditorModelHandle=n,n){var r=t.getModel(n);if(!r)throw new Error("Document with resource "+n.toString()+" does not exist");var s=r.onWillDispose(function(){o.textEditorModelHandle=null,s.dispose(),o.dispose()})}}return h(t,e),Object.defineProperty(t.prototype,"textEditorModel",{get:function(){return this.textEditorModelHandle?this.modelService.getModel(this.textEditorModelHandle):null},enumerable:!0,configurable:!0}),t.prototype.createTextEditorModel=function(e,t,n){var o=this,r=this.getFirstLineText(e),s=this.getOrCreateMode(this.modeService,n,r);return i.TPromise.any([i.TPromise.timeout(50),s]).then(function(){return o.doCreateTextEditorModel(e,s,t)})},t.prototype.doCreateTextEditorModel=function(e,t,i){var n=i&&this.modelService.getModel(i);return n?("string"==typeof e?n.setValue(e):n.setValueFromRawText(e),n.setMode(t)):(n=this.modelService.createModel(e,t,i),this.createdEditorModel=!0),this.textEditorModelHandle=n.uri,this},t.prototype.getFirstLineText=function(e){if("string"==typeof e){var t=e.substr(0,100),i=t.indexOf("\r");i<0&&(i=t.length);var n=t.indexOf("\n");return n<0&&(n=t.length),t.substr(0,Math.min(i,n))}return e.lines[0].substr(0,100)},t.prototype.getOrCreateMode=function(e,t,i){return e.getOrCreateMode(t)},t.prototype.updateTextEditorModel=function(e){if(this.textEditorModel){var t;t="string"==typeof e?a.RawText.fromStringWithModelOptions(e,this.textEditorModel):e,this.textEditorModel.equals(t)||this.textEditorModel.setValueFromRawText(t)}},t.prototype.getValue=function(){var e=this.textEditorModel;return e?e.getValue(n.EndOfLinePreference.TextDefined,!0):null},t.prototype.dispose=function(){this.textEditorModelHandle&&this.createdEditorModel&&this.modelService.destroyModel(this.textEditorModelHandle),this.textEditorModelHandle=null,this.createdEditorModel=!1,e.prototype.dispose.call(this)},t.prototype.isResolved=function(){return!!this.textEditorModelHandle},t=g([m(0,s.IModelService),m(1,r.IModeService)],t)}(o.EditorModel);t.BaseTextEditorModel=c}),define(l[88],d([1,0,497,2,17,76,58,66,30,145,282,281,5]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";function f(e,t,n){var o=r.getPathLabel(e.fsPath,n),s=r.getPathLabel(t.fsPath,n);return i.localize(0,null,o,s)}var g=function(e){function t(t,i,n,o,r){e.call(this,n,o),this.name=t,this.description=i,this.forceOpenAsBinary=r,this._toUnbind=[],this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this._toUnbind.push(this.originalInput.addListener2(a.EventType.DISPOSE,function(){e.isDisposed()||e.dispose()})),this._toUnbind.push(this.modifiedInput.addListener2(a.EventType.DISPOSE,function(){e.isDisposed()||e.dispose()})),this._toUnbind.push(this.modifiedInput.onDidChangeDirty(function(){return e._onDidChangeDirty.fire()}))},Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.setOriginalInput=function(e){
this.originalInput=e},t.prototype.setModifiedInput=function(e){this.modifiedInput=e},t.prototype.resolve=function(e){var t,i=this;return t=this.cachedModel&&!e?n.TPromise.as(this.cachedModel):this.createModel(e),t.then(function(e){return i.cachedModel&&i.cachedModel.dispose(),i.cachedModel=e,i.cachedModel})},t.prototype.getPreferredEditorId=function(e){var t=this.forceOpenAsBinary||this.isBinary(this.originalInput)||this.isBinary(this.modifiedInput);return t?"workbench.editors.binaryResourceDiffEditor":"workbench.editors.textDiffEditor"},t.prototype.isBinary=function(e){var t,i=e;return o.isFunction(i.getMime)&&(t=i.getMime()),t&&s.isBinaryMime(t)},t.prototype.createModel=function(e){return n.TPromise.join([this.originalInput.resolve(e),this.modifiedInput.resolve(e)]).then(function(e){var t=e[0],i=e[1];return i instanceof u.BaseTextEditorModel&&t instanceof u.BaseTextEditorModel?new d.TextDiffEditorModel(t,i):new l.DiffEditorModel(t,i)})},t.prototype.supportsSplitEditor=function(){return!1},t.prototype.matches=function(i){if(e.prototype.matches.call(this,i)===!0)return!0;if(i){if(!(i instanceof t))return!1;var n=i;return this.originalInput.matches(n.originalInput)&&this.modifiedInput.matches(n.modifiedInput)}return!1},t.prototype.dispose=function(){this._toUnbind=p.dispose(this._toUnbind),this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.diffEditorInput",t}(c.BaseDiffEditorInput);t.DiffEditorInput=g,t.toDiffLabel=f}),define(l[773],d([1,0,145,45,38]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t,i,n){e.call(this,n,i,t)}return h(t,e),t=g([m(1,n.IModeService),m(2,o.IModelService)],t)}(i.BaseTextEditorModel);t.ResourceEditorModel=r}),define(l[130],d([1,0,2,16,30,773,66,6,38]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n,o,r){e.call(this),this.modelService=o,this.instantiationService=r,this.name=t,this.description=i,this.resource=n}return h(t,e),t.registerResourceContentProvider=function(e,i){var n=t.registry[e];return n?n.unshift(i):(n=[i],t.registry[e]=n),{dispose:function(){var n=t.registry[e],o=n.indexOf(i);o>=0&&(n.splice(o,1),0===n.length&&delete t.registry[e])}}},t.getOrCreateModel=function(e,o){var r=e.getModel(o);if(r)return i.TPromise.as(r);var s=t.loadingModels[o.toString()];if(!s){var a=t.registry[o.scheme];if(!a)return i.TPromise.wrapError("No model with uri '"+o+"' nor a resolver for the scheme '"+o.scheme+"'.");t.loadingModels[o.toString()]=s=new i.TPromise(function(e,t){var r,s;n.sequence(a.map(function(e){return function(){if(!r){var t=e.provideTextContent(o);return t?t.then(function(e){r=e},function(e){s=e}):i.TPromise.wrapError("No resolver for the scheme '"+o.scheme+"' found.")}}})).then(function(){!r&&s?t(s):e(r)},t)},function(){}),s.then(function(){return delete t.loadingModels[o.toString()]},function(){return delete t.loadingModels[o.toString()]})}return s},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.resolve=function(e){var n=this;return this.cachedModel?i.TPromise.as(this.cachedModel):t.getOrCreateModel(this.modelService,this.resource).then(function(){var e=n.instantiationService.createInstance(r.ResourceEditorModel,n.resource),t=e.addListener2(s.EventType.DISPOSE,function(){n.cachedModel=null,t.dispose(),n.dispose()});return e.load().then(function(e){return n.cachedModel=e,n.cachedModel})})},t.prototype.matches=function(i){if(e.prototype.matches.call(this,i)===!0)return!0;if(i instanceof t){var n=i;return n.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.loadingModels=Object.create(null),t.registry=Object.create(null),t.ID="workbench.editors.resourceEditorInput",t=g([m(3,c.IModelService),m(4,a.IInstantiationService)],t)}(o.EditorInput);t.ResourceEditorInput=u}),define(l[275],d([1,0,2,145,48,14,45,38,126]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n,o,r){e.call(this,r,o),this.value=t,this.mime=i,this.resource=n}return h(t,e),t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e){this.value=e,this.textEditorModel&&this.textEditorModel.setValue(e)},t.prototype.append=function(e){if(this.value+=e,this.textEditorModel){var t=this.textEditorModel,i=t.getLineCount(),n=t.getLineMaxColumn(i);t.applyEdits([c.EditOperation.insert(new o.Position(i,n),e)])}},t.prototype.clearValue=function(){if(this.value="",this.textEditorModel){var e=this.textEditorModel,t=e.getLineCount();e.applyEdits([c.EditOperation["delete"](new r.Range(1,1,t,e.getLineMaxColumn(t)))])}},t.prototype.trim=function(e){if(this.textEditorModel){var t=this.textEditorModel,i=t.getLineCount();if(i>e){t.applyEdits([c.EditOperation["delete"](new r.Range(1,1,i-e+1,1))]);var n=t.getValue();return this.value=n,this.value}}return null},t.prototype.getMime=function(){return this.mime},t.prototype.load=function(){return this.textEditorModel?(this.updateTextEditorModel(this.value),i.TPromise.as(this)):this.createTextEditorModel(this.value,this.resource,this.mime)},t=g([m(3,s.IModeService),m(4,a.IModelService)],t)}(n.BaseTextEditorModel);t.StringEditorModel=u}),define(l[131],d([1,0,2,58,30,275,6]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,o,r,s,a){e.call(this),this.instantiationService=a,this.name=t,this.description=i,this.value=o,this.mime=r||n.MIME_TEXT,this.singleton=s}return h(t,e),t.prototype.getResource=function(){return null},t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return this.name},t.prototype.getDescription=function(){return this.description},t.prototype.getValue=function(){return this.value},t.prototype.getMime=function(){return this.mime},t.prototype.setValue=function(e){this.value=e,this.cachedModel&&this.cachedModel.setValue(e)},t.prototype.clearValue=function(){this.value="",this.cachedModel&&this.cachedModel.clearValue()},t.prototype.append=function(e){this.value+=e,this.cachedModel&&this.cachedModel.append(e)},t.prototype.trim=function(e){if(this.cachedModel){var t=this.cachedModel.trim(e);if(null!==t)return this.value=t,this.value}return null},t.prototype.resolve=function(e){var t=this;if(this.cachedModel)return i.TPromise.as(this.cachedModel);var n=this.instantiationService.createInstance(r.StringEditorModel,this.value,this.mime,this.getResource());return n.load().then(function(e){return t.cachedModel=e,t.cachedModel})},t.prototype.matches=function(i){if(e.prototype.matches.call(this,i)===!0)return!0;if(i instanceof t){var n=i;if(n.singleton&&this.singleton&&n.mime===this.mime)return!0;var o=this.getResource(),r=n.getResource();return o&&r?o.toString()===r.toString():n.value===this.value&&n.mime===this.mime&&n.description===this.description&&n.name===this.name}return!1},t.prototype.dispose=function(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.stringEditorInput",t=g([m(5,s.IInstantiationService)],t)}(o.EditorInput);t.StringEditorInput=a}),define(l[64],d([1,0,66]),function(e,t,i){"use strict";var n=function(){function e(){}return e.COMPOSITE_OPENING="compositeOpening",e.COMPOSITE_OPENED="compositeOpened",e.COMPOSITE_CLOSED="compositeClosed",e.UNTITLED_FILE_DIRTY="untitledFileDirty",e.UNTITLED_FILE_SAVED="untitledFileSaved",e.RESOURCE_ENCODING_CHANGED="resourceEncodingChanged",e.WORKBENCH_OPTIONS_CHANGED="workbenchOptionsChanged",e}();t.EventType=n;var o=function(e){function t(t,i,n,o){e.call(this,o),this.key=t,this.before=i,this.after=n}return h(t,e),t}(i.Event);t.OptionsChangeEvent=o;var r=function(e){function t(t,i){e.call(this,i),this.compositeId=t}return h(t,e),t}(i.Event);t.CompositeEvent=r;var s=function(e){function t(t,i){e.call(this,i),this.resource=t}return h(t,e),t}(i.Event);t.ResourceEvent=s;var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(s);t.UntitledEditorEvent=a}),define(l[778],d([1,0,275,11,64,23,28,45,38]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n,o,r,s,a,c){e.call(this,t,i,n,r,s),this.eventService=a,this.configurationService=c,this.dirty=o,this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.configurationChangeListener=this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})},t.prototype.onConfigurationChange=function(e){this.configuredEncoding=e&&e.files&&e.files.encoding},t.prototype.getValue=function(){return this.textEditorModel?this.textEditorModel.getValue(n.EndOfLinePreference.TextDefined,!0):null},t.prototype.getModeId=function(){return this.textEditorModel?this.textEditorModel.getModeId():null},t.prototype.getEncoding=function(){return this.preferredEncoding||this.configuredEncoding},t.prototype.setEncoding=function(e){var t=this.getEncoding();this.preferredEncoding=e,t!==this.preferredEncoding&&this.eventService.emit(o.EventType.RESOURCE_ENCODING_CHANGED,new o.ResourceEvent(this.resource))},t.prototype.isDirty=function(){return this.dirty},t.prototype.revert=function(){this.dirty=!1,this.eventService.emit(o.EventType.UNTITLED_FILE_SAVED,new o.UntitledEditorEvent(this.resource))},t.prototype.load=function(){var t=this;return e.prototype.load.call(this).then(function(e){var i=t.configurationService.getConfiguration();return t.configuredEncoding=i&&i.files&&i.files.encoding,t.textModelChangeListener=t.textEditorModel.onDidChangeContent(function(){return t.onModelContentChanged()}),t.dirty&&setTimeout(function(){t.eventService.emit(o.EventType.UNTITLED_FILE_DIRTY,new o.UntitledEditorEvent(t.resource))},0),e})},t.prototype.onModelContentChanged=function(){this.dirty||(this.dirty=!0,this.eventService.emit(o.EventType.UNTITLED_FILE_DIRTY,new o.UntitledEditorEvent(this.resource)))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.textModelChangeListener&&(this.textModelChangeListener.dispose(),this.textModelChangeListener=null),this.configurationChangeListener&&(this.configurationChangeListener.dispose(),this.configurationChangeListener=null)},t=g([m(4,a.IModeService),m(5,c.IModelService),m(6,s.IEventService),m(7,r.IConfigurationService)],t)}(i.StringEditorModel);t.UntitledEditorModel=u}),define(l[171],d([1,0,17,39]),function(e,t,i,n){"use strict";!function(e){e[e.GLOBAL=0]="GLOBAL",e[e.WORKSPACE=1]="WORKSPACE"}(t.Scope||(t.Scope={}));var o=t.Scope,r=function(){function e(t){this.id=e.COMMON_PREFIX+t.toLowerCase()}return e.prototype.getMemento=function(t,i){if(void 0===i&&(i=o.GLOBAL),i===o.WORKSPACE){var n=e.workspaceMementos[this.id];return n||(n=new s(this.id,i,t),e.workspaceMementos[this.id]=n),n.getMemento()}var r=e.globalMementos[this.id];return r||(r=new s(this.id,i,t),e.globalMementos[this.id]=r),r.getMemento()},e.prototype.saveMemento=function(){e.globalMementos[this.id]&&e.globalMementos[this.id].save(),e.workspaceMementos[this.id]&&e.workspaceMementos[this.id].save()},e.globalMementos={},e.workspaceMementos={},e.COMMON_PREFIX="memento/",e}();t.Memento=r;var s=function(){function e(e,t,i){this.storageService=i,this.id=e,this.scope=t,this.mementoObj=this.loadMemento()}return e.prototype.getMemento=function(){return this.mementoObj},e.prototype.loadMemento=function(){var e=this.scope===o.GLOBAL?n.StorageScope.GLOBAL:n.StorageScope.WORKSPACE,t=this.storageService.get(this.id,e);return t?JSON.parse(t):{}},e.prototype.save=function(){var e=this.scope===o.GLOBAL?n.StorageScope.GLOBAL:n.StorageScope.WORKSPACE;i.isEmptyObject(this.mementoObj)?this.storageService.remove(this.id,e):this.storageService.store(this.id,JSON.stringify(this.mementoObj),e)},e}()}),define(l[202],d([1,0,36,5,171]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t){e.call(this),this._toUnbind=[],this.id=t,this.componentMemento=new o.Memento(this.id)}return h(t,e),Object.defineProperty(t.prototype,"toUnbind",{get:function(){return this._toUnbind},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.getMemento=function(e,t){return void 0===t&&(t=o.Scope.GLOBAL),this.componentMemento.getMemento(e,t)},t.prototype.saveMemento=function(){this.componentMemento.saveMemento()},t.prototype.shutdown=function(){this.saveMemento()},t.prototype.dispose=function(){this._toUnbind=n.dispose(this._toUnbind),e.prototype.dispose.call(this)},t}(i.EventEmitter);t.WorkbenchComponent=r}),define(l[203],d([1,0,2,27,202,64,21,70]),function(e,t,i,n,o,r,s,a){"use strict";t.EventType={INTERNAL_COMPOSITE_TITLE_AREA_UPDATE:"internalCompositeTitleAreaUpdate"};var c=function(e){function o(t,i){e.call(this,t),this._telemetryService=i,this._telemetryData={},this.visible=!1}return h(o,e),o.prototype.getTitle=function(){return null},Object.defineProperty(o.prototype,"telemetryService",{get:function(){return this._telemetryService},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"telemetryData",{get:function(){return this._telemetryData},enumerable:!0,configurable:!0}),o.prototype.create=function(e){return this.parent=e,i.TPromise.as(null)},o.prototype.getContainer=function(){return this.parent},o.prototype.setVisible=function(e){if(this.visible=e,e)this._telemetryData={},this._telemetryData.startTime=new Date;else if(this._telemetryData.timeSpent=(Date.now()-this._telemetryData.startTime)/1e3,delete this._telemetryData.startTime,this._telemetryService&&this._telemetryService.publicLog){var t="compositeShown";this._telemetryData.composite=this.getId(),this._telemetryService.publicLog(t,this._telemetryData)}return i.TPromise.as(null)},o.prototype.focus=function(){},o.prototype.getActions=function(){return[]},o.prototype.getSecondaryActions=function(){return[]},o.prototype.getActionItem=function(e){return null},o.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new n.ActionRunner),this.actionRunner},o.prototype.updateTitleArea=function(){this.emit(t.EventType.INTERNAL_COMPOSITE_TITLE_AREA_UPDATE,new r.CompositeEvent(this.getId()))},o.prototype.isVisible=function(){return this.visible},o.prototype.getControl=function(){return null},o=g([m(1,s.ITelemetryService)],o)}(o.WorkbenchComponent);t.Composite=c;var u=function(e){function t(t,i,n,o,r,s){e.call(this,t,i),this.id=n,this.name=o,this.cssClass=r,this.order=s}return h(t,e),t}(a.AsyncDescriptor);t.CompositeDescriptor=u;var l=function(){function e(){this.composits=[]}return e.prototype.registerComposite=function(e){null===this.compositeById(e.id)&&this.composits.push(e)},e.prototype.getComposite=function(e){return this.compositeById(e)},e.prototype.getComposits=function(){return this.composits.slice(0)},e.prototype.setComposits=function(e){this.composits=e},e.prototype.compositeById=function(e){for(var t=0;t<this.composits.length;t++)if(this.composits[t].id===e)return this.composits[t];return null},e}();t.CompositeRegistry=l}),define(l[113],d([1,0,10,15,2,203,27]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(r.Composite);t.Panel=a;var c=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t}(r.CompositeDescriptor);t.PanelDescriptor=c;var u=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.registerPanel=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getPanel=function(e){return this.getComposite(e)},t.prototype.getPanels=function(){return this.getComposits()},t.prototype.setDefaultPanelId=function(e){this.defaultPanelId=e},t.prototype.getDefaultPanelId=function(){return this.defaultPanelId},t}(r.CompositeRegistry);t.PanelRegistry=u;var l=function(e){function t(t,i,n,o,r,s){e.call(this,t,name),this.panelService=o,this.partService=r,this.editorService=s,this.panelId=n}return h(t,e),t.prototype.run=function(){return this.isPanelShowing()?(this.partService.setPanelHidden(!0),o.TPromise.as(!0)):this.panelService.openPanel(this.panelId,!0)},t.prototype.isPanelShowing=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===this.panelId},t.prototype.isPanelFocussed=function(){var e=this.panelService.getActivePanel(),t=document.activeElement;return e&&t&&i.isAncestor(t,e.getContainer().getHTMLElement())},t}(s.Action);t.TogglePanelAction=l,t.Extensions={Panels:"workbench.contributions.panels"},n.Registry.add(t.Extensions.Panels,new u)}),define(l[165],d([1,0,31,202,776]),function(e,t,i,n){"use strict";var o=function(e){function t(t){e.call(this,t)}return h(t,e),t.prototype.create=function(e){this.parent=e,this.titleArea=this.createTitleArea(e),this.contentArea=this.createContentArea(e),this.statusArea=this.createStatusArea(e),this.partLayout=new s(this.parent,this.titleArea,this.contentArea,this.statusArea)},t.prototype.getContainer=function(){return this.parent},t.prototype.createTitleArea=function(e){return null},t.prototype.getTitleArea=function(){return this.titleArea},t.prototype.createContentArea=function(e){return null},t.prototype.getContentArea=function(){return this.contentArea},t.prototype.createStatusArea=function(e){return null},t.prototype.getStatusArea=function(){return this.statusArea},t.prototype.layout=function(e){return this.partLayout.layout(e)},t.prototype.getLayout=function(){return this.partLayout},t}(n.WorkbenchComponent);t.Part=o;var r=function(e){function t(t){e.call(this,t)}return h(t,e),t}(o);t.EmptyPart=r;var s=function(){function e(e,t,i,n){this.container=e,this.titleArea=t,this.contentArea=i,this.statusArea=n}return e.prototype.computeStyle=function(){var e=this.container.getComputedStyle();if(this.containerStyle={borderLeftWidth:parseInt(e.getPropertyValue("border-left-width"),10),borderRightWidth:parseInt(e.getPropertyValue("border-right-width"),10),borderTopWidth:parseInt(e.getPropertyValue("border-top-width"),10),borderBottomWidth:parseInt(e.getPropertyValue("border-bottom-width"),10)},this.titleArea){var t=this.titleArea.getComputedStyle();this.titleStyle={display:t.getPropertyValue("display"),height:this.titleArea.getTotalSize().height}}if(this.statusArea){var i=this.statusArea.getComputedStyle();this.statusStyle={display:i.getPropertyValue("display"),height:this.statusArea.getTotalSize().height}}},e.prototype.layout=function(e){this.containerStyle||this.computeStyle();var t,n=e.width-(this.containerStyle.borderLeftWidth+this.containerStyle.borderRightWidth),o=e.height-(this.containerStyle.borderTopWidth+this.containerStyle.borderBottomWidth),r=[];t=this.titleArea&&"none"!==this.titleStyle.display?new i.Dimension(n,Math.min(o,this.titleStyle.height)):new i.Dimension(0,0);var s;this.statusArea&&"none"!==this.statusStyle.display?(this.statusArea.getHTMLElement().style.height=this.statusArea.getHTMLElement().style.width="",s=new i.Dimension(n,Math.min(o-t.height,this.statusStyle.height))):s=new i.Dimension(0,0);var a=new i.Dimension(n,o-t.height-s.height);return r.push(t),r.push(a),r.push(s),this.contentArea&&this.contentArea.size(a.width,a.height),r},e}();t.PartLayout=s}),define(l[65],d([1,0,2,27,63,17,15,113,30,56,70]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return this._input||null},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t.prototype.getOptions=function(){return this._options||null},t.prototype.setInput=function(e,t){return this._input=e,this._options=t,i.TPromise.as(null)},t.prototype.clearInput=function(){this._input=null,this._options=null},t.prototype.create=function(t){var i=e.prototype.create.call(this,t);return this.createEditor(t),i},t.prototype.setVisible=function(t,i){void 0===i&&(i=null);var n=e.prototype.setVisible.call(this,t);return this.setEditorVisible(t,i),n},t.prototype.setEditorVisible=function(e,t){void 0===t&&(t=null),this._position=t},t.prototype.changePosition=function(e){this._position=e},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._input=null,this._options=null,e.prototype.dispose.call(this)},t}(a.Panel);t.BaseEditor=d;var p=function(e){function t(t,i,n,o){e.call(this,n,o),this.id=t,this.name=i}return h(t,e),t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.name},t.prototype.describes=function(e){return e instanceof d&&e.getId()===this.id},t}(l.AsyncDescriptor);t.EditorDescriptor=p,t.Extensions={Editors:"workbench.contributions.editors"};var f="__$inputDescriptors",g=function(){function e(){this.editorInputFactoryConstructors=Object.create(null),this.editorInputFactoryInstances=Object.create(null),this.editors=[]}return e.prototype.setInstantiationService=function(e){this.instantiationService=e;for(var t in this.editorInputFactoryConstructors){var i=this.editorInputFactoryConstructors[t];this.createEditorInputFactory(t,i)}this.editorInputFactoryConstructors={}},e.prototype.createEditorInputFactory=function(e,t){var i=this.instantiationService.createInstance(t);this.editorInputFactoryInstances[e]=i},e.prototype.registerEditor=function(e,t){var i=[];r.isArray(t)?i=t:i.push(t),e[f]=i,this.editors.push(e)},e.prototype.getEditor=function(e){var t=this,i=function(e,n){for(var o=[],r=0;r<t.editors.length;r++)for(var s=t.editors[r],a=s[f],c=0;c<a.length;c++){var u=a[c].ctor;if(!n&&e.constructor===u){o.push(s);break}if(n&&e instanceof u){o.push(s);break}}return n||0!==o.length?n?o:o:i(e,!0)},n=i(e);if(n&&n.length>0){var o=e.getPreferredEditorId(n.map(function(e){return e.getId()}));return o?this.getEditorById(o):n[0]}return null},e.prototype.getEditorById=function(e){for(var t=0;t<this.editors.length;t++){var i=this.editors[t];if(i.getId()===e)return i}return null},e.prototype.getEditors=function(){return this.editors.slice(0)},e.prototype.setEditors=function(e){this.editors=e},e.prototype.getEditorInputs=function(){for(var e=[],t=0;t<this.editors.length;t++){var i=this.editors[t],n=i[f];e.push.apply(e,n.map(function(e){return e.ctor}))}return e},e.prototype.registerDefaultFileInput=function(e){this.defaultFileInputDescriptor=e},e.prototype.getDefaultFileInput=function(){return this.defaultFileInputDescriptor},e.prototype.registerEditorInputFactory=function(e,t){this.instantiationService?this.createEditorInputFactory(e,t):this.editorInputFactoryConstructors[e]=t},e.prototype.getEditorInputFactory=function(e){return this.editorInputFactoryInstances[e]},e}();s.Registry.add(t.Extensions.Editors,new g);var m=function(e){function t(){e.call(this),this.mapEditorInputActionContextToPrimaryActions=this.createPositionArray(),this.mapEditorInputActionContextToSecondaryActions=this.createPositionArray()}return h(t,e),t.prototype.createPositionArray=function(){for(var e=[],t=0;t<u.POSITIONS.length;t++)e[t]={};return e},t.prototype.toId=function(e){return e.editor.getId()+e.input.getTypeId()},t.prototype.clearInputsFromCache=function(e,t){t?this.doClearInputsFromCache(this.mapEditorInputActionContextToPrimaryActions[e]):this.doClearInputsFromCache(this.mapEditorInputActionContextToSecondaryActions[e])},t.prototype.doClearInputsFromCache=function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];i.forEach(function(e){e.input=null,e.position=null})}},t.prototype.hasActions=function(e){return!!this.checkEditorContext(e)&&(!!this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)]||this.hasActionsForEditorInput(e))},t.prototype.getActions=function(e){if(!this.checkEditorContext(e))return[];this.clearInputsFromCache(e.position,!0);var t=e.input,i=e.position,n=this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)];if(n)return n.forEach(function(e){e.input=t,e.position=i}),n;var o=this.getActionsForEditorInput(e);return o.forEach(function(e){e.input=t,e.position=i}),this.mapEditorInputActionContextToPrimaryActions[e.position][this.toId(e)]=o,o},t.prototype.hasSecondaryActions=function(e){return!!this.checkEditorContext(e)&&(!!this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)]||this.hasSecondaryActionsForEditorInput(e))},t.prototype.getSecondaryActions=function(e){if(!this.checkEditorContext(e))return[];this.clearInputsFromCache(e.position,!1);var t=e.input,i=e.position,n=this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)];if(n)return n.forEach(function(e){e.input=t,e.position=i}),n;var o=this.getSecondaryActionsForEditorInput(e);return o.forEach(function(e){e.input=t,e.position=i}),this.mapEditorInputActionContextToSecondaryActions[e.position][this.toId(e)]=o,o},t.prototype.checkEditorContext=function(e){return e&&e.input instanceof c.EditorInput&&e.editor instanceof d&&!r.isUndefinedOrNull(e.position)},t.prototype.hasActionsForEditorInput=function(e){return!1},t.prototype.getActionsForEditorInput=function(e){return[]},t.prototype.hasSecondaryActionsForEditorInput=function(e){return!1},t.prototype.getSecondaryActionsForEditorInput=function(e){return[]},t}(o.ActionBarContributor);t.EditorInputActionContributor=m;var v=function(e){function t(){e.apply(this,arguments)}return h(t,e),Object.defineProperty(t.prototype,"input",{get:function(){return this._input},set:function(e){this._input=e,this.enabled=this.isEnabled()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return!!this._input},t}(n.Action);t.EditorInputAction=v}),define(l[785],d([1,0,17,7,9,39,32]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t,n){this.serviceId=r.IStorageService;var o=n.getWorkspace();this.globalStorage=e,this.workspaceStorage=t||e,this.workspaceKey=this.getWorkspaceKey(o);var s=o?o.uid:null;i.isNumber(s)&&this.cleanupWorkspaceScope(s,o.name)}return e.prototype.getWorkspaceKey=function(t){var i=null;return t&&t.resource&&(i=t.resource.toString()),i?this.calculateWorkspaceKey(i):e.NO_WORKSPACE_IDENTIFIER},e.prototype.calculateWorkspaceKey=function(e){var t="file:///",i=e.indexOf(t);return 0===i?o.rtrim(e.substr(t.length),"/")+"/":e},e.prototype.cleanupWorkspaceScope=function(t,n){var o=this,s=this.getInteger(e.WORKSPACE_IDENTIFIER,r.StorageScope.WORKSPACE);if(i.isNumber(s)&&t!==s){for(var a=this.toStorageKey("",r.StorageScope.WORKSPACE),c=[],u=this.workspaceStorage.length,l=0;l<u;l++){var d=this.workspaceStorage.key(l);d.indexOf(e.WORKSPACE_PREFIX)<0||0===d.indexOf(a)&&c.push(d)}c.length>0&&console.warn("Clearing previous version of local storage for workspace ",n),c.forEach(function(e){o.workspaceStorage.removeItem(e)})}t!==s&&this.store(e.WORKSPACE_IDENTIFIER,t,r.StorageScope.WORKSPACE)},e.prototype.clear=function(){this.globalStorage.clear(),this.workspaceStorage.clear()},e.prototype.store=function(e,t,o){void 0===o&&(o=r.StorageScope.GLOBAL);var s=o===r.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage;if(i.isUndefinedOrNull(t))return void this.remove(e,o);var a=this.toStorageKey(e,o);try{s.setItem(a,t)}catch(c){n.onUnexpectedError(c)}},e.prototype.get=function(e,t,n){void 0===t&&(t=r.StorageScope.GLOBAL);var o=t===r.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,s=o.getItem(this.toStorageKey(e,t));return i.isUndefinedOrNull(s)?n:s},e.prototype.remove=function(e,t){void 0===t&&(t=r.StorageScope.GLOBAL);var i=t===r.StorageScope.GLOBAL?this.globalStorage:this.workspaceStorage,n=this.toStorageKey(e,t);i.removeItem(n)},e.prototype.swap=function(e,t,n,o,s){void 0===o&&(o=r.StorageScope.GLOBAL);var a=this.get(e,o);i.isUndefinedOrNull(a)&&s?this.store(e,s,o):a===t.toString()?this.store(e,n,o):this.store(e,t,o)},e.prototype.getInteger=function(e,t,n){void 0===t&&(t=r.StorageScope.GLOBAL);var o=this.get(e,t,n);return i.isUndefinedOrNull(o)?n:parseInt(o,10)},e.prototype.getBoolean=function(e,t,n){void 0===t&&(t=r.StorageScope.GLOBAL);var o=this.get(e,t,n);return i.isUndefinedOrNull(o)?n:i.isString(o)?"true"===o.toLowerCase():!!o},e.prototype.toStorageKey=function(t,i){return i===r.StorageScope.GLOBAL?e.GLOBAL_PREFIX+t.toLowerCase():e.WORKSPACE_PREFIX+this.workspaceKey+t.toLowerCase()},e.COMMON_PREFIX="storage://",e.GLOBAL_PREFIX=e.COMMON_PREFIX+"global/",e.WORKSPACE_PREFIX=e.COMMON_PREFIX+"workspace/",e.WORKSPACE_IDENTIFIER="workspaceIdentifier",e.NO_WORKSPACE_IDENTIFIER="__$noWorkspace__",e=g([m(2,s.IWorkspaceContextService)],e)}();t.Storage=a;var c=function(){function e(){this.store={}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.store).length},enumerable:!0,configurable:!0}),e.prototype.key=function(e){var t=Object.keys(this.store);return t.length>e?t[e]:null},e.prototype.clear=function(){this.store={}},e.prototype.setItem=function(e,t){this.store[e]=t.toString()},e.prototype.getItem=function(e){var t=this.store[e];return i.isUndefinedOrNull(t)?null:t},e.prototype.removeItem=function(e){delete this.store[e]},e}();t.InMemoryLocalStorage=c,t.inMemoryLocalStorageInstance=new c}),define(l[786],d([1,0,499,2,7,67,23,21,15,52]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l="telemetry",d=c.Registry.as(r.Extensions.Configuration);d.registerConfiguration({id:l,order:110.5,type:"object",properties:{"telemetry.enableCrashReporter":{type:"boolean",description:i.localize(0,null),"default":!0}}});var h=function(){function e(e,t,i,n){void 0===i&&(i=a.NullTelemetryService),this.telemetryService=i,this.configurationService=n,this.configurationService=n,this.telemetryService=i,this.version=e,this.commit=t,this.isStarted=!1,this.config=null}return e.prototype.start=function(e){var t=this;if(!this.isStarted){var i=this.sessionId?n.TPromise.as(void 0):this.telemetryService.getTelemetryInfo().then(function(e){return t.sessionId=e.sessionId});i.then(function(){t.config?t.config.enableCrashReporter&&t.doStart(e):(t.config=t.configurationService.getConfiguration(l),t.config&&t.config.enableCrashReporter&&t.doStart(e))},o.onUnexpectedError)}},e.prototype.doStart=function(e){var t=this.toConfiguration(e);u.crashReporter.start(t),u.ipcRenderer.send("vscode:startCrashReporter",t)},e.prototype.toConfiguration=function(e){var t=this;return JSON.parse(JSON.stringify(e,function(e,i){return"$(sessionId)"===i?t.sessionId:"$(version)"===i?t.version:"$(commit)"===i?t.commit:i}))},e=g([m(2,a.ITelemetryService),m(3,s.IConfigurationService)],e)}();t.CrashReporter=h}),define(l[787],d([1,0,130,38,45,2,108,15,84]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=a.Registry.as(s.Extensions.JSONContribution),l=function(){function e(e,t){this.modelService=e,this.modeService=t,this.start()}return e.prototype.getId=function(){return"vs.contentprovider"},e.prototype.start=function(){var e=this;i.ResourceEditorInput.registerResourceContentProvider("vscode",{provideTextContent:function(t){if("vscode"!==t.scheme)return null;if("schemas"===t.authority){var i=u.getSchemaContributions().schemas,n=i[t.toString()];if(n){var o=JSON.stringify(n),s=e.modeService.getOrCreateMode("json");return r.TPromise.as(e.modelService.createModel(o,s,t))}}return null}})},e=g([m(0,n.IModelService),m(1,o.IModeService)],e)}();t.WorkbenchContentProvider=l,a.Registry.as(c.Extensions.Workbench).registerWorkbenchContribution(l)}),define(l[788],d([1,0,58,131,6]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t,n,o,r,s,a,c){e.call(this,t,o,r,s||i.MIME_TEXT,a,c),this.resourceUrl=n}return h(t,e),t.prototype.getResource=function(){return this.resourceUrl},t=g([m(6,o.IInstantiationService)],t)}(n.StringEditorInput);t.DebugStringEditorInput=r}),define(l[101],d([1,0,6]),function(e,t,i){"use strict";function n(e,t,i){return e.replace(r,function(e,n){return t&&n.length>0&&"_"!==n[0]?e:i&&i.hasOwnProperty(n)?i[n]:e})}t.VIEWLET_ID="workbench.view.debug",
t.REPL_ID="workbench.panel.repl",t.DEBUG_SERVICE_ID="debugService",t.CONTEXT_IN_DEBUG_MODE="inDebugMode",t.EDITOR_CONTRIBUTION_ID="editor.contrib.debug",function(e){e[e.Disabled=0]="Disabled",e[e.Inactive=1]="Inactive",e[e.Initializing=2]="Initializing",e[e.Stopped=3]="Stopped",e[e.Running=4]="Running",e[e.RunningNoDebug=5]="RunningNoDebug"}(t.State||(t.State={}));t.State;t.IDebugService=i.createDecorator(t.DEBUG_SERVICE_ID);var o=function(){function e(){this.debugViews=[]}return e.prototype.registerDebugView=function(e,t){this.debugViews.push({view:e,order:t})},e.prototype.getDebugViews=function(){return this.debugViews.sort(function(e,t){return e.order-t.order}).map(function(e){return e.view})},e}();t.DebugViewRegistry=new o;var r=/{([^}]+)}/g;t.formatPII=n}),define(l[790],d([1,0,505,16,7,13,12,5,10,106,26,187,51,20,101,740]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v){"use strict";var y=c.emmet,E="breakpointWidgetVisible",S="closeBreakpointWidget",b=function(e){function t(i,n,o,r,s){var a=this;e.call(this,i,{showFrame:!0,showArrow:!1}),this.lineNumber=n,this.contextViewService=o,this.debugService=r,this.toDispose=[],this.create(),this.breakpointWidgetVisible=s.createKey(E,!1),this.breakpointWidgetVisible.set(!0),t.INSTANCE=this,this.toDispose.push(i.onDidChangeModel(function(){return a.dispose()}))}return h(t,e),t.createInstance=function(e,i,n){t.INSTANCE&&t.INSTANCE.dispose(),n.createInstance(t,e,i),t.INSTANCE.show({lineNumber:i,column:1},2)},t.prototype._fillContainer=function(e){var t=this;c.addClass(e,"breakpoint-widget");var a=this.editor.getModel().uri,l=this.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t.lineNumber&&e.source.uri.toString()===a.toString()}).pop(),d=c.append(e,y(".inputBoxContainer"));this.inputBox=new u.InputBox(d,this.contextViewService,{placeholder:i.localize(0,null,this.lineNumber),ariaLabel:i.localize(1,null)}),this.toDispose.push(this.inputBox),c.addClass(this.inputBox.inputElement,s.isWindows?"windows":s.isMacintosh?"mac":"linux"),this.inputBox.value=l&&l.condition?l.condition:"",setTimeout(function(){return t.inputBox.focus()},0);var h=!1,p=n.once(function(e){if(!h){if(h=!0,e){var i={uri:a,lineNumber:t.lineNumber,enabled:!0,condition:t.inputBox.value},n=t.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t.lineNumber&&e.source.uri.toString()===a.toString()}).pop();n&&t.debugService.removeBreakpoints(n.getId()).done(null,o.onUnexpectedError),t.debugService.addBreakpoints([i]).done(null,o.onUnexpectedError)}t.dispose()}});this.toDispose.push(c.addStandardDisposableListener(this.inputBox.inputElement,"keydown",function(e){var t=e.equals(r.CommonKeybindings.ESCAPE),i=e.equals(r.CommonKeybindings.ENTER);(t||i)&&(e.stopPropagation(),p(i))}))},t.prototype.dispose=function(){var i=this;e.prototype.dispose.call(this),this.breakpointWidgetVisible.reset(),t.INSTANCE=void 0,a.dispose(this.toDispose),setTimeout(function(){return i.editor.focus()},0)},t=g([m(2,p.IContextViewService),m(3,v.IDebugService),m(4,f.IKeybindingService)],t)}(d.ZoneWidget);t.BreakpointWidget=b,l.CommonEditorRegistry.registerEditorCommand(S,l.CommonEditorRegistry.commandWeight(8),{primary:r.KeyCode.Escape,secondary:[r.KeyMod.Shift|r.KeyCode.Escape]},!1,E,function(e,t,i){b.INSTANCE&&b.INSTANCE.dispose()})}),define(l[791],d([1,0,507,2,29,5,11,101,38]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){for(var t={},i=0,n=e.length;i<n;i++)t[e[i]]=!0;return t}function l(e,t,i,n){return{startLineNumber:e,startColumn:t,endLineNumber:i,endColumn:n}}var d=function(){function e(e,t){this.modelService=e,this.debugService=t,this.modelData={},this.toDispose=[],this.registerListeners()}return e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){for(var e in this.modelData)if(this.modelData.hasOwnProperty(e)){var t=this.modelData[e];r.dispose(t.toDispose),t.model.deltaDecorations(t.breakpointDecorationIds,[]),t.model.deltaDecorations(t.currentStackDecorations,[])}this.toDispose=r.dispose(this.toDispose),this.modelData=null},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.modelService.onModelAdded(this.onModelAdded,this)),this.modelService.getModels().forEach(function(t){return e.onModelAdded(t)}),this.toDispose.push(this.modelService.onModelRemoved(this.onModelRemoved,this)),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return e.onBreakpointsChange()})),this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(){return e.onFocusStackFrame()})),this.toDispose.push(this.debugService.onDidChangeState(function(t){t===a.State.Inactive&&Object.keys(e.modelData).forEach(function(t){return e.modelData[t].dirty=!1})}))},e.prototype.onModelAdded=function(e){var t=this,i=e.uri.toString(),n=this.debugService.getModel().getBreakpoints().filter(function(e){return e.source.uri.toString()===i}),o=e.deltaDecorations([],this.createCallStackDecorations(i)),r=e.deltaDecorations([],this.createBreakpointDecorations(n)),s=[e.onDidChangeDecorations(function(e){return t.onModelDecorationsChanged(i,e)})];this.modelData[i]={model:e,toDispose:s,breakpointDecorationIds:r,breakpointLines:n.map(function(e){return e.lineNumber}),breakpointDecorationsAsMap:u(r),currentStackDecorations:o,topStackFrameRange:null,dirty:!1}},e.prototype.onModelRemoved=function(e){var t=e.uri.toString();if(this.modelData.hasOwnProperty(t)){var i=this.modelData[t];delete this.modelData[t],r.dispose(i.toDispose)}},e.prototype.onFocusStackFrame=function(){var e=this;Object.keys(this.modelData).forEach(function(t){var i=e.modelData[t];i.currentStackDecorations=i.model.deltaDecorations(i.currentStackDecorations,e.createCallStackDecorations(t))})},e.prototype.createCallStackDecorations=function(t){var i=this,n=[],o=this.debugService.getViewModel().getFocusedStackFrame(),r=this.debugService.getViewModel().getFocusedThreadId(),s=this.debugService.getModel().getThreads();if(!o||!s[r]||!s[r].getCachedCallStack())return n;var a=s[r];return a.getCachedCallStack().filter(function(e){return e.source.uri.toString()===t}).forEach(function(r){var s=l(r.lineNumber,r.column,r.lineNumber,Number.MAX_VALUE);r===a.getCachedCallStack()[0]?(n.push({options:e.TOP_STACK_FRAME_MARGIN,range:l(r.lineNumber,r.column,r.lineNumber,r.column+1)}),"exception"===a.stoppedDetails.reason?n.push({options:e.TOP_STACK_FRAME_EXCEPTION_DECORATION,range:s}):(n.push({options:e.TOP_STACK_FRAME_DECORATION,range:s}),i.modelData[t]&&(i.modelData[t].topStackFrameRange&&i.modelData[t].topStackFrameRange.startLineNumber===s.startLineNumber&&i.modelData[t].topStackFrameRange.startColumn!==s.startColumn&&n.push({options:e.TOP_STACK_FRAME_COLUMN_DECORATION,range:s}),i.modelData[t].topStackFrameRange=s))):r===o&&(n.push({options:e.FOCUSED_STACK_FRAME_MARGIN,range:l(r.lineNumber,r.column,r.lineNumber,r.column+1)}),n.push({options:e.FOCUSED_STACK_FRAME_DECORATION,range:s}))}),n},e.prototype.onModelDecorationsChanged=function(e,t){var i=this,o=this.modelData[e];if(t.addedOrChangedDecorations.some(function(e){return o.breakpointDecorationsAsMap.hasOwnProperty(e.id)})){var r=[],s={};this.debugService.getModel().getBreakpoints().filter(function(t){return t.source.uri.toString()===e}).forEach(function(e){s[e.lineNumber]={enabled:e.enabled,condition:e.condition}});for(var a=o.model.uri,c=0,u=o.breakpointDecorationIds.length;c<u;c++){var l=o.model.getDecorationRange(o.breakpointDecorationIds[c]);l.endColumn-l.startColumn>0&&r.push({uri:a,lineNumber:l.startLineNumber,enabled:s[o.breakpointLines[c]].enabled,condition:s[o.breakpointLines[c]].condition})}o.dirty=!!this.debugService.getActiveSession();var d=this.debugService.getModel().getBreakpoints().filter(function(e){return e.source.uri.toString()===a.toString()});n.TPromise.join(d.map(function(e){return i.debugService.removeBreakpoints(e.getId())})).then(function(){i.debugService.addBreakpoints(r)})}},e.prototype.onBreakpointsChange=function(){var e=this,t={};this.debugService.getModel().getBreakpoints().forEach(function(e){var i=e.source.uri.toString();t[i]?t[i].push(e):t[i]=[e]}),Object.keys(t).forEach(function(i){e.modelData.hasOwnProperty(i)&&e.updateBreakpoints(e.modelData[i],t[i])}),Object.keys(this.modelData).forEach(function(i){t.hasOwnProperty(i)||e.updateBreakpoints(e.modelData[i],[])})},e.prototype.updateBreakpoints=function(e,t){e.breakpointDecorationIds=e.model.deltaDecorations(e.breakpointDecorationIds,this.createBreakpointDecorations(t)),e.breakpointDecorationsAsMap=u(e.breakpointDecorationIds),e.breakpointLines=t.map(function(e){return e.lineNumber})},e.prototype.createBreakpointDecorations=function(e){var t=this;return e.map(function(e){return{options:t.getBreakpointDecorationOptions(e),range:l(e.lineNumber,1,e.lineNumber,2)}})},e.prototype.getBreakpointDecorationOptions=function(t){var i=this.debugService.getModel().areBreakpointsActivated(),n=this.debugService.state,r=n===a.State.Running||n===a.State.Stopped||n===a.State.Initializing,c=this.modelData[t.source.uri.toString()],u=this.debugService.getActiveSession(),l=t.enabled&&i?r&&c&&c.dirty?e.BREAKPOINT_DIRTY_DECORATION:r&&!t.verified?e.BREAKPOINT_UNVERIFIED_DECORATION:t.condition?null:e.BREAKPOINT_DECORATION:e.BREAKPOINT_DISABLED_DECORATION;return l&&t.message&&(l=o.clone(l),l.glyphMarginHoverMessage=t.message),l?l:!u||u.configuration.capabilities.supportsConditionalBreakpoints?{glyphMarginClassName:"debug-breakpoint-conditional-glyph",glyphMarginHoverMessage:t.condition,stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}:e.BREAKPOINT_UNSUPPORTED_DECORATION},e.ID="breakpointManager",e.BREAKPOINT_DECORATION={glyphMarginClassName:"debug-breakpoint-glyph",glyphMarginHoverMessage:i.localize(0,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_DISABLED_DECORATION={glyphMarginClassName:"debug-breakpoint-disabled-glyph",glyphMarginHoverMessage:i.localize(1,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_UNVERIFIED_DECORATION={glyphMarginClassName:"debug-breakpoint-unverified-glyph",glyphMarginHoverMessage:i.localize(2,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_DIRTY_DECORATION={glyphMarginClassName:"debug-breakpoint-unverified-glyph",glyphMarginHoverMessage:i.localize(3,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.BREAKPOINT_UNSUPPORTED_DECORATION={glyphMarginClassName:"debug-breakpoint-unsupported-glyph",glyphMarginHoverMessage:i.localize(4,null),stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_MARGIN={glyphMarginClassName:"debug-top-stack-frame-glyph",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.FOCUSED_STACK_FRAME_MARGIN={glyphMarginClassName:"debug-focused-stack-frame-glyph",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_DECORATION={isWholeLine:!0,className:"debug-top-stack-frame-line",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_EXCEPTION_DECORATION={isWholeLine:!0,className:"debug-top-stack-frame-exception-line",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.TOP_STACK_FRAME_COLUMN_DECORATION={isWholeLine:!1,className:"debug-top-stack-frame-column",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e.FOCUSED_STACK_FRAME_DECORATION={isWholeLine:!0,className:"debug-focused-stack-frame-line",stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e=g([m(0,c.IModelService),m(1,a.IDebugService)],e)}();t.DebugEditorModelManager=d}),define(l[252],d([1,0,19,25]),function(e,t,i,n){"use strict";var o=function(){function e(t,o){void 0===o&&(o=!0),this.raw=t,this.uri=t.path?i["default"].file(n.normalize(t.path)):i["default"].parse(e.INTERNAL_URI_PREFIX+t.name),this.available=o}return Object.defineProperty(e.prototype,"name",{get:function(){return this.raw.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.raw.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reference",{get:function(){return this.raw.sourceReference},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inMemory",{get:function(){return e.isInMemory(this.uri)},enumerable:!0,configurable:!0}),e.toRawSource=function(t,i){if(i){var o=i.getThreads();for(var r in o)if(o.hasOwnProperty(r)&&o[r].getCachedCallStack()){var s=o[r].getCachedCallStack().filter(function(e){return e.source.uri.toString()===t.toString()}).pop();if(s)return s.source.raw}}return e.isInMemory(t)?{name:n.basename(t.toString())}:{path:n.normalize(t.fsPath,!0),name:n.basename(t.fsPath)}},e.isInMemory=function(t){return 0===t.toString().indexOf(e.INTERNAL_URI_PREFIX)},e.INTERNAL_URI_PREFIX="debug://internal/",e}();t.Source=o}),define(l[154],d([1,0,2,511,5,24,82,29,17,41,252]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e,t){var n=e.getActiveSession();return!n||t.reference<=0?i.TPromise.as([]):n.variables({variablesReference:t.reference}).then(function(e){return u.distinct(e.body.variables.filter(function(e){return!!e}),function(e){return e.name}).map(function(e){return new T(t,e.variablesReference,e.name,e.value,e.type)})},function(e){return[new T(t,0,null,e.message,null,(!1))]})}function p(e){return e?e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t"):e}function f(e,t,o,r){return e?e.evaluate({expression:o.name,frameId:t?t.frameId:void 0,context:r}).then(function(e){return o.available=!!e.body,e.body&&(o.value=e.body.result,o.reference=e.body.variablesReference),o},function(e){return o.value=e.message,o.available=!1,o.reference=0,o}):(o.value="repl"===r?n.localize(1,null):I.DEFAULT_VALUE,o.available=!1,o.reference=0,i.TPromise.as(o))}function g(e,t){var i=[e.name];if(e instanceof T)for(var n=e.parent;n instanceof T||n instanceof I;)i.push(n.name),n=n.parent;i=i.reverse();var o=null;return i.forEach(function(e){o=o?E.test(e)||"node"===t&&!y.test(e)?e&&0===e.indexOf("[")?""+o+e:o+"['"+e+"']":o+"."+e:e}),o}var m=1e4,v=n.localize(0,null);t.evaluateExpression=f;var y=/^[a-zA-Z_][a-zA-Z0-9_]*$/,E=/\[.*\]$/;t.getFullExpressionName=g;var S=function(){function e(e,t){this.name=e,this.threadId=t,this.promisedCallStack=void 0,this.stoppedDetails=void 0,this.cachedCallStack=void 0,this.stopped=!1}return e.prototype.getId=function(){return"thread:"+this.name+":"+this.threadId},e.prototype.clearCallStack=function(){this.promisedCallStack=void 0,this.cachedCallStack=void 0},e.prototype.getCachedCallStack=function(){return this.cachedCallStack},e.prototype.getCallStack=function(e,t){var n=this;return void 0===t&&(t=!1),this.stopped?(this.promisedCallStack?t&&(this.promisedCallStack=this.promisedCallStack.then(function(t){return n.getCallStackImpl(e,t.length).then(function(e){return n.cachedCallStack=t.concat(e),n.cachedCallStack})})):this.promisedCallStack=this.getCallStackImpl(e,0).then(function(e){return n.cachedCallStack=e,e}),this.promisedCallStack):i.TPromise.as([])},e.prototype.getCallStackImpl=function(e,t){var i=this,o=e.getActiveSession();return o.stackTrace({threadId:this.threadId,startFrame:t,levels:20}).then(function(e){return i.stoppedDetails.totalFrames=e.body.totalFrames,e.body.stackFrames.map(function(e,t){return e?new L(i.threadId,e.id,e.source?new l.Source(e.source):new l.Source({name:v},(!1)),e.name,e.line,e.column):new L(i.threadId,0,new l.Source({name:v},(!1)),n.localize(2,null),(void 0),(void 0))})},function(e){return i.stoppedDetails.framesErrorMessage=e.message,[]})},e}();t.Thread=S;var b=function(){function e(t){void 0===t&&(t=e.ID_COUNTER++),this.id=t}return e.prototype.getId=function(){return"outputelement:"+this.id},e.ID_COUNTER=0,e}();t.OutputElement=b;var _=function(e){function t(t,i,n,o){void 0===o&&(o=1),e.call(this),this.value=t,this.severity=i,this.category=n,this.counter=o}return h(t,e),t}(b);t.ValueOutputElement=_;var C=function(e){function t(t,i,n){e.call(this),this.key=t,this.valueObj=i,this.annotation=n,this._valueName=null}return h(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return null===this._valueName&&(null===this.valueObj?this._valueName="null":Array.isArray(this.valueObj)?this._valueName="Array["+this.valueObj.length+"]":c.isObject(this.valueObj)?this._valueName="Object":c.isString(this.valueObj)?this._valueName='"'+p(this.valueObj)+'"':this._valueName=String(this.valueObj),this._valueName||(this._valueName="")),this._valueName},enumerable:!0,configurable:!0}),t.prototype.getChildren=function(){var e=this;return this.children||(Array.isArray(this.valueObj)?this.children=this.valueObj.slice(0,t.MAX_CHILDREN).map(function(e,i){return new t(String(i),e,null)}):c.isObject(this.valueObj)?this.children=Object.getOwnPropertyNames(this.valueObj).slice(0,t.MAX_CHILDREN).map(function(i){return new t(i,e.valueObj[i],null)}):this.children=[]),this.children},t.MAX_CHILDREN=1e3,t}(b);t.KeyValueOutputElement=C;var w=function(){function e(e,t,i){this.reference=e,this.id=t,this.cacheChildren=i,this.children=null}return e.prototype.getChildren=function(e){return this.cacheChildren?(this.children||(this.children=d(e,this)),this.children):d(e,this)},e.prototype.getId=function(){return this.id},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=p(t),this.valueChanged=e.allValues[this.getId()]&&e.allValues[this.getId()]!==I.DEFAULT_VALUE&&e.allValues[this.getId()]!==t,e.allValues[this.getId()]=t},enumerable:!0,configurable:!0}),e.allValues={},e}();t.ExpressionContainer=w;var I=function(e){function t(i,n,o){void 0===o&&(o=s.generateUuid()),e.call(this,0,o,n),this.name=i,this.value=t.DEFAULT_VALUE,this.available=!1}return h(t,e),t.DEFAULT_VALUE="not available",t}(w);t.Expression=I;var T=function(e){function t(t,i,n,o,r,s){void 0===r&&(r=null),void 0===s&&(s=!0),e.call(this,i,"variable:"+t.getId()+":"+n,!0),this.parent=t,this.name=n,this.type=r,this.available=s,this.value=p(o)}return h(t,e),t}(w);t.Variable=T;var A=function(){function e(e,t,i,n){this.threadId=e,this.name=t,this.reference=i,this.expensive=n,this.children=null}return e.prototype.getId=function(){return"scope:"+this.threadId+":"+this.name+":"+this.reference},e.prototype.getChildren=function(e){return this.children||(this.children=d(e,this)),this.children},e}();t.Scope=A;var L=function(){function e(e,t,i,n,o,r){this.threadId=e,this.frameId=t,this.source=i,this.name=n,this.lineNumber=o,this.column=r,this.scopes=null}return e.prototype.getId=function(){return"stackframe:"+this.threadId+":"+this.frameId},e.prototype.getScopes=function(e){var t=this;return this.scopes||(this.scopes=e.getActiveSession().scopes({frameId:this.frameId}).then(function(e){return e.body.scopes.map(function(e){return new A(t.threadId,e.name,e.variablesReference,e.expensive)})},function(e){return[]})),this.scopes},e}();t.StackFrame=L;var D=function(){function e(e,t,i,n){this.source=e,this.desiredLineNumber=t,this.enabled=i,this.condition=n,void 0===i&&(this.enabled=!0),this.lineNumber=this.desiredLineNumber,this.verified=!1,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.Breakpoint=D;var k=function(){function e(e,t){this.name=e,this.enabled=t,this.verified=!1,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.FunctionBreakpoint=k;var x=function(){function e(e,t,i){this.filter=e,this.label=t,this.enabled=i,this.id=s.generateUuid()}return e.prototype.getId=function(){return this.id},e}();t.ExceptionBreakpoint=x;var M=function(){function e(e,t,i,n,o){this.breakpoints=e,this.breakpointsActivated=t,this.functionBreakpoints=i,this.exceptionBreakpoints=n,this.watchExpressions=o,this.threads={},this.replElements=[],this.toDispose=[],this._onDidChangeBreakpoints=new r.Emitter,this._onDidChangeCallStack=new r.Emitter,this._onDidChangeWatchExpressions=new r.Emitter,this._onDidChangeREPLElements=new r.Emitter}return e.prototype.getId=function(){return"root"},Object.defineProperty(e.prototype,"onDidChangeBreakpoints",{get:function(){return this._onDidChangeBreakpoints.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCallStack",{get:function(){return this._onDidChangeCallStack.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeWatchExpressions",{get:function(){return this._onDidChangeWatchExpressions.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeReplElements",{get:function(){return this._onDidChangeREPLElements.event},enumerable:!0,configurable:!0}),e.prototype.getThreads=function(){return this.threads},e.prototype.clearThreads=function(e,t){var i=this;void 0===t&&(t=void 0),t?this.threads[t]&&(this.threads[t].clearCallStack(),this.threads[t].stoppedDetails=void 0,this.threads[t].stopped=!1,e&&delete this.threads[t]):(Object.keys(this.threads).forEach(function(e){i.threads[e].clearCallStack(),i.threads[e].stoppedDetails=void 0,i.threads[e].stopped=!1}),e&&(this.threads={},w.allValues={})),this._onDidChangeCallStack.fire()},e.prototype.getBreakpoints=function(){return this.breakpoints},e.prototype.getFunctionBreakpoints=function(){return this.functionBreakpoints},e.prototype.getExceptionBreakpoints=function(){return this.exceptionBreakpoints},e.prototype.setExceptionBreakpoints=function(e){var t=this;e&&(this.exceptionBreakpoints=e.map(function(e){var i=t.exceptionBreakpoints.filter(function(t){return t.filter===e.filter}).pop();return new x(e.filter,e.label,i?i.enabled:e["default"])}))},e.prototype.areBreakpointsActivated=function(){return this.breakpointsActivated},e.prototype.setBreakpointsActivated=function(e){this.breakpointsActivated=e,this._onDidChangeBreakpoints.fire()},e.prototype.addBreakpoints=function(e){var t=this;this.breakpoints=this.breakpoints.concat(e.map(function(e){return new D(new l.Source(l.Source.toRawSource(e.uri,t)),e.lineNumber,e.enabled,e.condition)})),this.breakpointsActivated=!0,this._onDidChangeBreakpoints.fire()},e.prototype.removeBreakpoints=function(e){this.breakpoints=this.breakpoints.filter(function(t){return!e.some(function(e){return e.getId()===t.getId()})}),this._onDidChangeBreakpoints.fire()},e.prototype.updateBreakpoints=function(e){this.breakpoints.forEach(function(t){var i=e[t.getId()];i&&(t.lineNumber=i.line?i.line:t.lineNumber,t.verified=i.verified,t.idFromAdapter=i.id,t.message=i.message)}),this._onDidChangeBreakpoints.fire()},e.prototype.setEnablement=function(e,t){if(e.enabled=t,e instanceof D&&!e.enabled){var i=e;i.lineNumber=i.desiredLineNumber,i.verified=!1}this._onDidChangeBreakpoints.fire()},e.prototype.enableOrDisableAllBreakpoints=function(e){this.breakpoints.forEach(function(t){t.enabled=e,e||(t.lineNumber=t.desiredLineNumber,t.verified=!1)}),this.exceptionBreakpoints.forEach(function(t){return t.enabled=e}),this.functionBreakpoints.forEach(function(t){return t.enabled=e}),this._onDidChangeBreakpoints.fire()},e.prototype.addFunctionBreakpoint=function(e){this.functionBreakpoints.push(new k(e,(!0))),this._onDidChangeBreakpoints.fire()},e.prototype.updateFunctionBreakpoints=function(e){this.functionBreakpoints.forEach(function(t){var i=e[t.getId()];i&&(t.name=i.name||t.name,t.verified=i.verified,t.idFromAdapter=i.id)}),this._onDidChangeBreakpoints.fire()},e.prototype.removeFunctionBreakpoints=function(e){this.functionBreakpoints=e?this.functionBreakpoints.filter(function(t){return t.getId()!==e}):[],this._onDidChangeBreakpoints.fire()},e.prototype.getReplElements=function(){return this.replElements},e.prototype.addReplExpression=function(e,t,i){var n=this,o=new I(i,(!0));return this.addReplElements([o]),f(e,t,o,"repl").then(function(){return n._onDidChangeREPLElements.fire()})},e.prototype.logToRepl=function(e,t){var i=[],o=this.replElements.length&&this.replElements[this.replElements.length-1];if("string"==typeof e)if(e&&e.trim()&&o&&o.value===e&&o.severity===t)o.counter++;else{var r=e.trim().split("\n");r.forEach(function(e,n){i.push(new _(e,t))})}else i.push(new C(e.prototype,e,n.localize(3,null)));i.length&&this.addReplElements(i),this._onDidChangeREPLElements.fire()},e.prototype.appendReplOutput=function(e,t){var i=[],n=this.replElements.length&&this.replElements[this.replElements.length-1],o=e.split("\n"),r=!!n&&"output"===n.category&&t===n.severity;r?n.value+=o.shift():n&&""===n.value&&this.replElements.pop(),o.forEach(function(e,n){i.push(new _(e,t,"output"))}),this.addReplElements(i),this._onDidChangeREPLElements.fire()},e.prototype.addReplElements=function(e){(t=this.replElements).push.apply(t,e),this.replElements.length>m&&this.replElements.splice(0,this.replElements.length-m);var t},e.prototype.removeReplExpressions=function(){this.replElements.length>0&&(this.replElements=[],this._onDidChangeREPLElements.fire())},e.prototype.getWatchExpressions=function(){return this.watchExpressions},e.prototype.addWatchExpression=function(e,t,n){var o=new I(n,(!1));return this.watchExpressions.push(o),n?this.evaluateWatchExpressions(e,t,o.getId()):(this._onDidChangeWatchExpressions.fire(o),i.TPromise.as(null))},e.prototype.renameWatchExpression=function(e,t,n,o){var r=this,s=this.watchExpressions.filter(function(e){return e.getId()===n});return 1===s.length?(s[0].name=o,f(e,t,s[0],"watch").then(function(){r._onDidChangeWatchExpressions.fire(s[0])})):i.TPromise.as(null)},e.prototype.evaluateWatchExpressions=function(e,t,n){var o=this;if(void 0===n&&(n=null),n){var r=this.watchExpressions.filter(function(e){return e.getId()===n});return 1!==r.length?i.TPromise.as(null):f(e,t,r[0],"watch").then(function(){o._onDidChangeWatchExpressions.fire(r[0])})}return i.TPromise.join(this.watchExpressions.map(function(i){return f(e,t,i,"watch")})).then(function(){o._onDidChangeWatchExpressions.fire()})},e.prototype.clearWatchExpressionValues=function(){this.watchExpressions.forEach(function(e){e.value=I.DEFAULT_VALUE,e.available=!1,e.reference=0}),this._onDidChangeWatchExpressions.fire()},e.prototype.removeWatchExpressions=function(e){void 0===e&&(e=null),this.watchExpressions=e?this.watchExpressions.filter(function(t){return t.getId()!==e}):[],this._onDidChangeWatchExpressions.fire()},e.prototype.sourceIsUnavailable=function(e){var t=this;Object.keys(this.threads).forEach(function(i){t.threads[i].getCachedCallStack()&&t.threads[i].getCachedCallStack().forEach(function(t){t.source.uri.toString()===e.uri.toString()&&(t.source.available=!1)})}),this._onDidChangeCallStack.fire()},e.prototype.rawUpdate=function(e){var t=this;e.thread&&!this.threads[e.threadId]&&(this.threads[e.threadId]=new S(e.thread.name,e.thread.id)),e.stoppedDetails&&(e.allThreadsStopped?Object.keys(this.threads).forEach(function(i){t.threads[i].stoppedDetails=a.clone(e.stoppedDetails),t.threads[i].stopped=!0,t.threads[i].clearCallStack()}):(this.threads[e.threadId].stoppedDetails=e.stoppedDetails,this.threads[e.threadId].clearCallStack(),this.threads[e.threadId].stopped=!0)),this._onDidChangeCallStack.fire()},e.prototype.dispose=function(){this.threads=null,this.breakpoints=null,this.exceptionBreakpoints=null,this.functionBreakpoints=null,this.watchExpressions=null,this.replElements=null,this.toDispose=o.dispose(this.toDispose)},e}();t.Model=M}),define(l[249],d([1,0,24]),function(e,t,i){"use strict";var n=function(){function e(){this._onDidFocusStackFrame=new i.Emitter,this._onDidSelectExpression=new i.Emitter,this._onDidSelectFunctionBreakpoint=new i.Emitter,this.changedWorkbenchViewState=!1}return e.prototype.getId=function(){return"root"},e.prototype.getFocusedStackFrame=function(){return this.focusedStackFrame},e.prototype.setFocusedStackFrame=function(e,t){this.focusedStackFrame=e,this.focusedThread=t,this._onDidFocusStackFrame.fire(e)},Object.defineProperty(e.prototype,"onDidFocusStackFrame",{get:function(){return this._onDidFocusStackFrame.event},enumerable:!0,configurable:!0}),e.prototype.getFocusedThreadId=function(){return this.focusedThread?this.focusedThread.threadId:0},e.prototype.getSelectedExpression=function(){return this.selectedExpression},e.prototype.setSelectedExpression=function(e){this.selectedExpression=e,this._onDidSelectExpression.fire(e)},Object.defineProperty(e.prototype,"onDidSelectExpression",{get:function(){return this._onDidSelectExpression.event},enumerable:!0,configurable:!0}),e.prototype.getSelectedFunctionBreakpoint=function(){return this.selectedFunctionBreakpoint},e.prototype.setSelectedFunctionBreakpoint=function(e){this.selectedFunctionBreakpoint=e,this._onDidSelectFunctionBreakpoint.fire(e)},Object.defineProperty(e.prototype,"onDidSelectFunctionBreakpoint",{get:function(){return this._onDidSelectFunctionBreakpoint.event},enumerable:!0,configurable:!0}),e}();t.ViewModel=n}),define(l[795],d([1,0,515,29,25,12]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t,i){this.extensionDescription=i,e.windows&&(e.win=e.windows),r.isWindows&&!process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")&&e.winx86?(this.runtime=e.winx86.runtime,this.runtimeArgs=e.winx86.runtimeArgs,this.program=e.winx86.program,this.args=e.winx86.args):r.isWindows&&e.win?(this.runtime=e.win.runtime,this.runtimeArgs=e.win.runtimeArgs,this.program=e.win.program,this.args=e.win.args):r.isMacintosh&&e.osx?(this.runtime=e.osx.runtime,this.runtimeArgs=e.osx.runtimeArgs,this.program=e.osx.program,this.args=e.osx.args):r.isLinux&&e.linux&&(this.runtime=e.linux.runtime,this.runtimeArgs=e.linux.runtimeArgs,this.program=e.linux.program,this.args=e.linux.args),this.runtime=this.runtime||e.runtime,this.runtimeArgs=this.runtimeArgs||e.runtimeArgs,this.program=this.program||e.program,this.args=this.args||e.args,this.program&&(this.program=t?t.resolve(this.program):this.program,this.program=o.join(i.extensionFolderPath,this.program)),this.runtime&&0===this.runtime.indexOf("./")&&(this.runtime=t?t.resolve(this.runtime):this.runtime,this.runtime=o.join(i.extensionFolderPath,this.runtime)),this.type=e.type,this.variables=e.variables,this.configurationAttributes=e.configurationAttributes,this.initialConfigurations=e.initialConfigurations,this._label=e.label,this.enableBreakpointsFor=e.enableBreakpointsFor,this.aiKey=e.aiKey}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label||this.type},enumerable:!0,configurable:!0}),e.prototype.getSchemaAttributes=function(){var e=this;return this.configurationAttributes?Object.keys(this.configurationAttributes).map(function(t){var o=e.configurationAttributes[t],r=["name","type","request"];o.required=o.required&&o.required.length?r.concat(o.required):r,o.additionalProperties=!1,o.type="object",o.properties||(o.properties={});var s=o.properties;s.type={"enum":[e.type],description:i.localize(0,null)},s.name={type:"string",description:i.localize(1,null),"default":"Launch"},s.request={"enum":[t],description:i.localize(2,null)},s.preLaunchTask={type:["string","null"],"default":null,description:i.localize(3,null)},s.internalConsoleOptions={"enum":["neverOpen","openOnSessionStart","openOnFirstSessionStart"],"default":"openOnFirstSessionStart",description:i.localize(4,null)},e.warnRelativePaths(s.outDir),e.warnRelativePaths(s.program),e.warnRelativePaths(s.cwd),e.warnRelativePaths(s.runtimeExecutable);var a=n.deepClone(s);return s.windows={type:"object",description:i.localize(5,null),properties:a},s.osx={type:"object",description:i.localize(6,null),properties:a},s.linux={type:"object",description:i.localize(7,null),properties:a},o}):null},e.prototype.warnRelativePaths=function(e){e&&(e.pattern="^\\${.*}.*|"+o.isAbsoluteRegex.source,e.errorMessage=i.localize(8,null))},e}();t.Adapter=s}),define(l[796],d([1,0,82,2,7]),function(e,t,i,n,o){"use strict";var r=function(){function e(){this.sequence=1,this.contentLength=-1,this.pendingRequests={},this.rawData=new Buffer(0),this.id=i.generateUuid()}return e.prototype.getId=function(){return this.id},e.prototype.connect=function(e,t){var i=this;this.outputStream=t,e.on("data",function(e){i.rawData=Buffer.concat([i.rawData,e]),
i.handleData()})},e.prototype.send=function(e,t){var i,r=this;return new n.TPromise(function(n,o){i=o,r.doSend(e,t,function(e){e.success?n(e):o(e)})},function(){return i(o.canceled())})},e.prototype.doSend=function(t,i,n){var o={type:"request",seq:this.sequence++,command:t};i&&Object.keys(i).length>0&&(o.arguments=i),this.pendingRequests[o.seq]=n;var r=JSON.stringify(o),s=Buffer.byteLength(r,"utf8");this.outputStream.write("Content-Length: "+s.toString()+e.TWO_CRLF,"utf8"),this.outputStream.write(r,"utf8")},e.prototype.handleData=function(){for(;;){if(this.contentLength>=0){if(this.rawData.length>=this.contentLength){var t=this.rawData.toString("utf8",0,this.contentLength);this.rawData=this.rawData.slice(this.contentLength),this.contentLength=-1,t.length>0&&this.dispatch(t);continue}}else{var i=this.rawData.toString("utf8",0,this.rawData.length),n=i.indexOf(e.TWO_CRLF);if(n!==-1){var o=/Content-Length: (\d+)/.exec(i);if(o&&o[1]){this.contentLength=Number(o[1]),this.rawData=this.rawData.slice(n+e.TWO_CRLF.length);continue}}}break}},e.prototype.dispatch=function(e){try{var t=JSON.parse(e);if("undefined"!=typeof t.event)this.onEvent(t);else{var i=t,n=this.pendingRequests[i.request_seq];n&&(delete this.pendingRequests[i.request_seq],n(i))}}catch(o){this.onServerError(new Error(o.message||o))}},e.TWO_CRLF="\r\n\r\n",e}();t.V8Protocol=r}),define(l[797],d([1,0,9,141,14]),function(e,t,i,n,o){"use strict";var r=function(){function e(e){this.emmetSupportedModes=["html","razor","css","less","sass","scss","stylus","xml","xsl","jade","handlebars","ejs","hbs","jsx","tsx","erb","php","twig"],this.editor=e,this._hasMadeEdits=!1}return e.prototype.isEmmetEnabledMode=function(){var e=this.getSyntax();return this.emmetSupportedModes.indexOf(e)!==-1},e.prototype.getSelectionRange=function(){var e=this.editor.getSelection();return{start:this.getOffsetFromPosition(e.getStartPosition()),end:this.getOffsetFromPosition(e.getEndPosition())}},e.prototype.getCurrentLineRange=function(){var e=this.editor.getSelection().startLineNumber;return{start:this.getOffsetFromPosition({lineNumber:e,column:1}),end:this.getOffsetFromPosition({lineNumber:e+1,column:1})}},e.prototype.getCaretPos=function(){var e=this.editor.getSelection().getStartPosition();return this.getOffsetFromPosition(e)},e.prototype.setCaretPos=function(e){this.createSelection(e)},e.prototype.getCurrentLine=function(){var e=this.editor.getSelection().getStartPosition();return this.editor.getModel().getLineContent(e.lineNumber)},e.prototype.onBeforeEmmetAction=function(){this._hasMadeEdits=!1},e.prototype.replaceContent=function(e,t,r,s){var a=this.getPositionFromOffset(t),c=this.getPositionFromOffset(r),u=this.editor.getModel().getLineContent(a.lineNumber).substr(0,a.column-1),l=u.match(/<[\/]?$/);if(l){if(!i.startsWith(e,l[0]))return;a={lineNumber:a.lineNumber,column:a.column-1-l[0].length}}this._hasMadeEdits||(this._hasMadeEdits=!0,this.editor.pushUndoStop());var d=new o.Range(a.lineNumber,a.column,c.lineNumber,c.column),h=n.CodeSnippet.convertExternalSnippet(e,n.ExternalSnippetType.EmmetSnippet),p=new n.CodeSnippet(h);n.getSnippetController(this.editor).runWithReplaceRange(p,d,!1)},e.prototype.onAfterEmmetAction=function(){this._hasMadeEdits&&this.editor.pushUndoStop()},e.prototype.getContent=function(){return this.editor.getModel().getValue()},e.prototype.createSelection=function(e,t){var i=this.getPositionFromOffset(e),n=null;n=t?this.getPositionFromOffset(t):i;var r=new o.Range(i.lineNumber,i.column,n.lineNumber,n.column);this.editor.setSelection(r),this.editor.revealRange(r)},e.prototype.getSyntax=function(){var e=this.editor.getSelection().getStartPosition(),t=this.editor.getModel().getModeIdAtPosition(e.lineNumber,e.column),i=t.split(".").pop();return/\b(razor|handlebars|erb|php|hbs|ejs|twig)\b/.test(i)?"html":/\b(typescriptreact|javascriptreact)\b/.test(i)?"jsx":"sass-indented"===i?"sass":i},e.prototype.getProfileName=function(){return null},e.prototype.prompt=function(e){},e.prototype.getSelection=function(){var e=this.editor.getSelection(),t=this.editor.getModel(),i=e.getStartPosition(),n=e.getEndPosition(),r=new o.Range(i.lineNumber,i.column,n.lineNumber,n.column);return t.getValueInRange(r)},e.prototype.getFilePath=function(){return this.editor.getModel().uri.fsPath},e.prototype.getPositionFromOffset=function(e){return this.editor.getModel().getPositionAt(e)},e.prototype.getOffsetFromPosition=function(e){return this.editor.getModel().getOffsetAt(e)},e}();t.EditorAccessor=r}),define(l[73],d([1,0,2,40,54,797,23]),function(e,t,i,n,o,r,s){"use strict";var a=function(t){function n(e,i,n){t.call(this,e,i,o.Behaviour.Writeable),this.configurationService=null,this.editorAccessor=new r.EditorAccessor(i),this.configurationService=n}return h(n,t),n.prototype.updateEmmetPreferences=function(e){var t=this.configurationService.getConfiguration().emmet.preferences;for(var i in t)try{e.preferences.set(i,t[i])}catch(n){e.preferences.define(i,t[i])}var o=this.configurationService.getConfiguration().emmet.syntaxProfiles;e.profile.reset(),e.loadProfiles(o)},n.prototype.resetEmmetPreferences=function(e){var t=this.configurationService.getConfiguration().emmet.preferences;for(var i in t)try{e.preferences.remove(i)}catch(n){}},n.prototype.noExpansionOccurred=function(){},n.prototype.run=function(){var e=this;return this.editorAccessor.isEmmetEnabledMode()?this._withEmmet().then(function(t){return e._withEmmetPreferences(t,function(){e.editorAccessor.onBeforeEmmetAction(),e.runEmmetAction(t),e.editorAccessor.onAfterEmmetAction()}),!0}):void this.noExpansionOccurred()},n.prototype._withEmmet=function(){return new i.TPromise(function(t,i){e(["emmet"],t,i)})},n.prototype._withEmmetPreferences=function(e,t){try{this.updateEmmetPreferences(e),t()}finally{this.resetEmmetPreferences(e)}},n}(n.EditorAction);t.EmmetEditorAction=a;var c=function(e){function t(t,i,n,o){e.call(this,t,i,n),this.editorAccessor=new r.EditorAccessor(i),this.emmetActionName=o}return h(t,e),t.prototype.runEmmetAction=function(e){e.run(this.emmetActionName,this.editorAccessor)||this.noExpansionOccurred()},t=g([m(2,s.IConfigurationService)],t)}(a);t.BasicEmmetEditorAction=c}),define(l[799],d([1,0,518,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"balance_inward")}return h(t,e),t.ID="editor.emmet.action.balanceInward",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),a=function(e){function t(t,i,n){e.call(this,t,i,n,"balance_outward")}return h(t,e),t.ID="editor.emmet.action.balanceOutward",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Balance (inward)")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,i.localize(1,null),(void 0),"Emmet: Balance (outward)"))}),define(l[800],d([1,0,519,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"prev_edit_point")}return h(t,e),t.ID="editor.emmet.action.previousEditPoint",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),a=function(e){function t(t,i,n){e.call(this,t,i,n,"next_edit_point")}return h(t,e),t.ID="editor.emmet.action.nextEditPoint",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Previous Edit Point")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,i.localize(1,null),(void 0),"Emmet: Next Edit Point"))}),define(l[801],d([1,0,520,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"evaluate_math_expression")}return h(t,e),t.ID="editor.emmet.action.evaluateMath",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Evaluate Math Expression"))}),define(l[802],d([1,0,521,73,26,23,11,62,13,20]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(e){function t(t,i,n){e.call(this,t,i,n,"expand_abbreviation")}return h(t,e),t.prototype.noExpansionOccurred=function(){this.editor.trigger("emmet",s.Handler.Tab,{})},t.ID="editor.emmet.action.expandAbbreviation",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(l,l.ID,i.localize(0,null),(void 0),"Emmet: Expand Abbreviation")),a.KeybindingsRegistry.registerCommandRule({id:l.ID,weight:a.KeybindingsRegistry.WEIGHT.editorContrib(),when:u.KbExpr.and(u.KbExpr.has(s.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS),u.KbExpr.not(s.KEYBINDING_CONTEXT_EDITOR_HAS_NON_EMPTY_SELECTION),u.KbExpr.not(s.KEYBINDING_CONTEXT_EDITOR_HAS_MULTIPLE_SELECTIONS),u.KbExpr.not(s.KEYBINDING_CONTEXT_EDITOR_TAB_MOVES_FOCUS),u.KbExpr.has("config.emmet.triggerExpansionOnTab")),primary:c.KeyCode.Tab})}),define(l[803],d([1,0,522,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"increment_number_by_01")}return h(t,e),t.ID="editor.emmet.action.incrementNumberByOneTenth",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),a=function(e){function t(t,i,n){e.call(this,t,i,n,"increment_number_by_1")}return h(t,e),t.ID="editor.emmet.action.incrementNumberByOne",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),c=function(e){function t(t,i,n){e.call(this,t,i,n,"increment_number_by_10")}return h(t,e),t.ID="editor.emmet.action.incrementNumberByTen",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),u=function(e){function t(t,i,n){e.call(this,t,i,n,"decrement_number_by_01")}return h(t,e),t.ID="editor.emmet.action.decrementNumberByOneTenth",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),l=function(e){function t(t,i,n){e.call(this,t,i,n,"decrement_number_by_1")}return h(t,e),t.ID="editor.emmet.action.decrementNumberByOne",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),d=function(e){function t(t,i,n){e.call(this,t,i,n,"decrement_number_by_10")}return h(t,e),t.ID="editor.emmet.action.decrementNumberByTen",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Increment by 0.1")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(u,u.ID,i.localize(1,null),(void 0),"Emmet: Decrement by 0.1")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,i.localize(2,null),(void 0),"Emmet: Increment by 1")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(l,l.ID,i.localize(3,null),(void 0),"Emmet: Decrement by 1")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(c,c.ID,i.localize(4,null),(void 0),"Emmet: Increment by 10")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(d,d.ID,i.localize(5,null),(void 0),"Emmet: Decrement by 10"))}),define(l[804],d([1,0,523,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"matching_pair")}return h(t,e),t.ID="editor.emmet.action.matchingPair",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Go to Matching Pair"))}),define(l[805],d([1,0,524,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"merge_lines")}return h(t,e),t.ID="editor.emmet.action.mergeLines",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Merge Lines"))}),define(l[806],d([1,0,525,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"reflect_css_value")}return h(t,e),t.ID="editor.emmet.action.reflectCSSValue",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Reflect CSS Value"))}),define(l[807],d([1,0,526,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"remove_tag")}return h(t,e),t.ID="editor.emmet.action.removeTag",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Remove Tag"))}),define(l[808],d([1,0,527,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"select_previous_item")}return h(t,e),t.ID="editor.emmet.action.selectPreviousItem",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction),a=function(e){function t(t,i,n){e.call(this,t,i,n,"select_next_item")}return h(t,e),t.ID="editor.emmet.action.selectNextItem",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Select Previous Item")),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,i.localize(1,null),(void 0),"Emmet: Select Next Item"))}),define(l[809],d([1,0,528,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"split_join_tag")}return h(t,e),t.ID="editor.emmet.action.splitJoinTag",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Split/Join Tag"))}),define(l[810],d([1,0,529,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"toggle_comment")}return h(t,e),t.ID="editor.emmet.action.toggleComment",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Toggle Comment"))}),define(l[811],d([1,0,530,73,26,23]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i,n,"update_image_size")}return h(t,e),t.ID="editor.emmet.action.updateImageSize",t=g([m(2,r.IConfigurationService)],t)}(n.BasicEmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(s,s.ID,i.localize(0,null),(void 0),"Emmet: Update Image Size"))}),define(l[204],d([1,0,6]),function(e,t,i){"use strict";t.ITerminalService=i.createDecorator("nativeTerminalService")}),define(l[245],d([1,0,102,12]),function(e,t,i,n){"use strict";var o="xterm";n.isLinux&&(i.existsSync("/etc/debian_version")?o="x-terminal-emulator":"gnome"===process.env.DESKTOP_SESSION||"gnome-classic"===process.env.DESKTOP_SESSION?o="gnome-terminal":process.env.COLORTERM?o=process.env.COLORTERM:process.env.TERM&&(o=process.env.TERM)),t.DEFAULT_TERMINAL_LINUX=o,t.DEFAULT_TERMINAL_OSX="Terminal.app",t.DEFAULT_TERMINAL_WINDOWS="cmd"}),define(l[814],d([1,0,7,2,204,23,245,99,172]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(e){this._configurationService=e,this.serviceId=o.ITerminalService}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(a,t,c.getWindowsShell(),e).done(null,i.onUnexpectedError)},e.prototype.spawnTerminal=function(e,t,i,o){var r=t.terminal.external,a=r.windowsExec||s.DEFAULT_TERMINAL_WINDOWS,c=["/c","start","/wait",'""',a];return new n.TPromise(function(t,n){var r=o?{cwd:o}:void 0,s=e.spawn(i,c,r);s.on("error",n),s.on("exit",function(){return t(null)})})},e=g([m(0,r.IConfigurationService)],e)}();t.WinTerminalService=u;var l=function(){function e(e){this._configurationService=e,this.serviceId=o.ITerminalService}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(a,t,e).done(null,i.onUnexpectedError)},e.prototype.spawnTerminal=function(e,t,i){var o=t.terminal.external,r=o.osxExec||s.DEFAULT_TERMINAL_OSX;return new n.TPromise(function(t,n){var o=e.spawn("/usr/bin/open",["-a",r,i]);o.on("error",n),o.on("exit",function(){return t(null)})})},e=g([m(0,r.IConfigurationService)],e)}();t.MacTerminalService=l;var d=function(){function e(e){this._configurationService=e,this.serviceId=o.ITerminalService}return e.prototype.openTerminal=function(e){var t=this._configurationService.getConfiguration();this.spawnTerminal(a,t,e).done(null,i.onUnexpectedError)},e.prototype.spawnTerminal=function(e,t,i){var o=t.terminal.external,r=o.linuxExec||s.DEFAULT_TERMINAL_LINUX,a=i?{cwd:i}:void 0;return new n.TPromise(function(t,i){var n=e.spawn(r,[],a);n.on("error",i),n.on("exit",function(){return t(null)})})},e=g([m(0,r.IConfigurationService)],e)}();t.LinuxTerminalService=d}),define(l[815],d([1,0,12,814,96,204]),function(e,t,i,n,o,r){"use strict";i.isWindows?o.registerSingleton(r.ITerminalService,n.WinTerminalService):i.isMacintosh?o.registerSingleton(r.ITerminalService,n.MacTerminalService):i.isLinux&&o.registerSingleton(r.ITerminalService,n.LinuxTerminalService)}),define(l[129],d([1,0,6]),function(e,t,i){"use strict";t.VIEWLET_ID="workbench.view.extensions",function(e){e[e.Installing=0]="Installing",e[e.Installed=1]="Installed",e[e.NeedsRestart=2]="NeedsRestart",e[e.Uninstalled=3]="Uninstalled"}(t.ExtensionState||(t.ExtensionState={}));t.ExtensionState;t.SERVICE_ID="extensionsWorkbenchService",t.IExtensionsWorkbenchService=i.createDecorator(t.SERVICE_ID)}),define(l[817],d([1,0,539,2,30]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t){e.call(this),this._extension=t}return h(t,e),Object.defineProperty(t,"ID",{get:function(){return"workbench.extensions.input2"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extension",{get:function(){return this._extension},enumerable:!0,configurable:!0}),t.prototype.getTypeId=function(){return t.ID},t.prototype.getName=function(){return i.localize(0,null,this.extension.displayName)},t.prototype.matches=function(e){if(!(e instanceof t))return!1;var i=e;return this.extension===i.extension},t.prototype.resolve=function(e){return n.TPromise.as(null)},t}(o.EditorInput);t.ExtensionsInput=r}),define(l[818],d([1,0,5,129,10,714]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t,i,n){var o=function(){return e.textContent=i(t)};o(),this.listener=n.onChange(o)}return e.prototype.dispose=function(){this.listener=i.dispose(this.listener)},e=g([m(3,n.IExtensionsWorkbenchService)],e)}();t.Label=r;var s=function(){function e(e,t,i,n){var r=this;this.container=e,this.extension=t,this.options=i,this.disposables=[],this.disposables.push(n.onChange(function(){return r.render()})),o.addClass(e,"extension-install-count"),this.render()}return e.prototype.render=function(){var e=this.extension.installCount;if(this.container.innerHTML="",null!==e){var t;this.options.small&&(e>1e6?t=Math.floor(e/1e6)+"M":e>1e3&&(t=Math.floor(e/1e3)+"K")),o.append(this.container,o.emmet("span.octicon.octicon-cloud-download"));var i=o.append(this.container,o.emmet("span.count"));i.textContent=t||String(e)}},e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)},e=g([m(3,n.IExtensionsWorkbenchService)],e)}();t.InstallWidget=s;var a=function(){function e(e,t,i,n){var r=this;this.container=e,this.extension=t,this.options=i,this.disposables=[],this.disposables.push(n.onChange(function(){return r.render()})),o.addClass(e,"extension-ratings"),i.small&&o.addClass(e,"small"),this.render()}return e.prototype.render=function(){var e=this.extension.rating;if(this.container.innerHTML="",null!==e){for(var t=1;t<=5;t++)e>=t?o.append(this.container,o.emmet("span.full.star")):e>=t-.5?o.append(this.container,o.emmet("span.half.star")):o.append(this.container,o.emmet("span.empty.star"));if(!this.options.small){var i=o.append(this.container,o.emmet("span.count"));i.textContent=String(this.extension.ratingCount)}}},e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)},e=g([m(3,n.IExtensionsWorkbenchService)],e)}();t.RatingsWidget=a}),define(l[819],d([1,0,24,41,29,16,2,5,355,21,111,243,74,19,129,721]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f){"use strict";var v=function(){function t(e,t,i){void 0===i&&(i=null),this.stateProvider=e,this.local=t,this.gallery=i,this.needsRestart=!1}return Object.defineProperty(t.prototype,"name",{get:function(){return this.local?this.local.manifest.name:this.gallery.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayName",{get:function(){return this.local?this.local.manifest.displayName||this.local.manifest.name:this.gallery.displayName||this.gallery.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisher",{get:function(){return this.local?this.local.manifest.publisher:this.gallery.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publisherDisplayName",{get:function(){return this.local?this.local.metadata&&this.local.metadata.publisherDisplayName?this.local.metadata.publisherDisplayName:this.local.manifest.publisher:this.gallery.publisherDisplayName||this.gallery.publisher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.local?this.local.manifest.version:this.gallery.versions[0].version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestVersion",{get:function(){return this.gallery?this.gallery.versions[0].version:this.local.manifest.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.local?this.local.manifest.description:this.gallery.description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readmeUrl",{get:function(){return this.local&&this.local.readmeUrl?this.local.readmeUrl:this.gallery&&this.gallery.versions[0].readmeUrl?this.gallery.versions[0].readmeUrl:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this.local&&this.local.manifest.icon?p["default"].file(h.join(this.local.path,this.local.manifest.icon)).toString():this.gallery&&this.gallery.versions[0].iconUrl?this.gallery.versions[0].iconUrl:e.toUrl("./media/defaultIcon.png")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.stateProvider(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"installCount",{get:function(){return this.gallery?this.gallery.installCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rating",{get:function(){return this.gallery?this.gallery.rating:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ratingCount",{get:function(){return this.gallery?this.gallery.ratingCount:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outdated",{get:function(){return d.gt(this.latestVersion,this.version)},enumerable:!0,configurable:!0}),t}(),y=function(){function e(t,n,o,s){var a=this;this.extensionService=t,this.galleryService=n,this.telemetryService=o,this.tipsService=s,this.serviceId=f.IExtensionsWorkbenchService,this.installing=[],this.installed=[],this.disposables=[],this._onChange=new i.Emitter,this.stateProvider=function(e){return a.getExtensionState(e)},this.disposables.push(t.onInstallExtension(function(e){var t=e.id,i=e.gallery;return a.onInstallExtension(t,i)})),this.disposables.push(t.onDidInstallExtension(function(e){var t=e.id,i=e.local,n=e.error;return a.onDidInstallExtension(t,i,n)})),this.disposables.push(t.onUninstallExtension(function(e){return a.onUninstallExtension(e)})),this.syncDelayer=new r.ThrottledDelayer(e.SyncPeriod),this.queryLocal().done(function(){return a.syncWithGallery(!0)})}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"local",{get:function(){var e=this,t=this.installing.filter(function(t){return!e.installed.some(function(e){return e.local.id===t.id})}).map(function(e){return e.extension});return this.installed.concat(t)},enumerable:!0,configurable:!0}),e.prototype.queryLocal=function(){var e=this;return this.extensionService.getInstalled().then(function(t){var i=n.index(e.installed,function(e){return e.local.id});return e.installed=t.map(function(t){var n=i[t.id]||new v(e.stateProvider,t);return n.local=t,n}),e._onChange.fire(),e.local})},e.prototype.queryGallery=function(e){var t=this;return void 0===e&&(e={}),this.galleryService.query(e).then(function(e){return c.mapPager(e,function(e){return t.fromGallery(e)})}).then(null,function(e){return/No extension gallery service configured/.test(e.message)?s.TPromise.as(c.singlePagePager([])):s.TPromise.wrapError(e)})},e.prototype.getRecommendations=function(){var e=this;return this.tipsService.getRecommendations().then(function(t){return t.map(function(t){return e.fromGallery(t)}).filter(function(e){return e.state===f.ExtensionState.Uninstalled})})},e.prototype.fromGallery=function(e){var t=n.index(this.installed,function(e){return e.local.metadata?e.local.metadata.id:""}),i=e.id,o=t[i];return o?(o.gallery=e,this._onChange.fire(),o):new v(this.stateProvider,null,e)},e.prototype.syncWithGallery=function(t){var i=this;void 0===t&&(t=!1);var n=function(){return i.doSyncWithGallery().then(function(){return i.syncWithGallery()})},o=t?0:e.SyncPeriod;this.syncDelayer.trigger(n,o)},e.prototype.doSyncWithGallery=function(){var e=this.installed.filter(function(e){return!(!e.local||!e.local.metadata)}).map(function(e){return e.local.metadata.id});return 0===e.length?s.TPromise.as(null):this.queryGallery({ids:e,pageSize:e.length})},e.prototype.canInstall=function(e){if(e instanceof v)return!!e.gallery},e.prototype.install=function(e){if(e instanceof v){var t=e,i=t.gallery;return i?this.extensionService.install(i):s.TPromise.wrapError(new Error("Missing gallery"))}},e.prototype.uninstall=function(e){if(e instanceof v){var t=e,i=t.local||this.installed.filter(function(e){return e.local.metadata&&t.gallery&&e.local.metadata.id===t.gallery.id})[0].local;return i?this.extensionService.uninstall(i):s.TPromise.wrapError(new Error("Missing local"))}},e.prototype.onInstallExtension=function(e,t){if(t){var i=this.installed.filter(function(e){return(e.local.metadata&&e.local.metadata.id)===t.id})[0];i||(i=new v(this.stateProvider,null,t)),i.gallery=t,this.installing.push({id:e,extension:i}),this._onChange.fire()}},e.prototype.onDidInstallExtension=function(e,t,i){var n=this.installing.filter(function(t){return t.id===e})[0];if(n){var o=n.extension;o.local=t,o.needsRestart=!0,this.installing=this.installing.filter(function(t){return t.id!==e});var r,s=t.metadata&&t.metadata.id,a=this.installed.filter(function(e){return(e.local.metadata&&e.local.metadata.id)===s})[0];s&&a?(r="extensionGallery:update",a.local=t):(r="extensionGallery:install",this.installed.push(o)),this.reportTelemetry(o,r,!i),this._onChange.fire()}},e.prototype.onUninstallExtension=function(e){var t=this.installed.length,i=this.installed.filter(function(t){return t.local.id===e})[0];this.installed=this.installed.filter(function(t){return t.local.id!==e}),t!==this.installed.length&&(this.reportTelemetry(i,"extensionGallery:uninstall",!0),this._onChange.fire())},e.prototype.getExtensionState=function(e){if(e.gallery&&this.installing.some(function(t){return t.extension.gallery.id===e.gallery.id}))return f.ExtensionState.Installing;var t=this.installed.filter(function(t){return t===e||t.gallery&&e.gallery&&t.gallery.id===e.gallery.id})[0];return t?t.needsRestart?f.ExtensionState.NeedsRestart:f.ExtensionState.Installed:f.ExtensionState.Uninstalled},e.prototype.reportTelemetry=function(e,t,i){if(e){var n=e.local,r=e.gallery,s=null;s=r?{id:r.publisher+"."+r.name,name:r.name,galleryId:r.id,publisherId:r.publisherId,publisherName:r.publisher,publisherDisplayName:r.publisherDisplayName}:{id:n.manifest.publisher+"."+n.manifest.name,name:n.manifest.name,galleryId:n.metadata?n.metadata.id:null,publisherId:n.metadata?n.metadata.publisherId:null,publisherName:n.manifest.publisher,publisherDisplayName:n.metadata?n.metadata.publisherDisplayName:null},this.telemetryService.publicLog(t,o.assign(s,{success:i}))}},e.prototype.dispose=function(){this.disposables=a.dispose(this.disposables)},e.SyncPeriod=432e5,e=g([m(0,l.IExtensionManagementService),m(1,l.IExtensionGalleryService),m(2,u.ITelemetryService),m(3,l.IExtensionTipsService)],e)}();t.ExtensionsWorkbenchService=y}),define(l[821],d([1,0,65]),function(e,t,i){"use strict";var n=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o),this.mimetypes=r}return h(t,e),t.prototype.getMimeTypes=function(){return this.mimetypes},t}(i.EditorDescriptor);t.FileEditorDescriptor=n}),define(l[148],d([1,0,85,17,19,12,25,58]),function(e,t,i,n,o,r,s,a){"use strict";!function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ANY=2]="ANY"}(t.StatType||(t.StatType={}));var c=t.StatType,u=function(){function e(e,t,i,n,o,r){void 0===n&&(n=s.basename(e.fsPath)),this.resource=e,this.name=n,this.isDirectory=!!t,this.hasChildren=t&&i,this.mime=t?void 0:a.guessMimeTypes(this.resource.fsPath).join(", "),this.etag=r,this.mtime=o,this.isDirectory&&(this.children=[]),this.isDirectoryResolved=!1}return e.prototype.getId=function(){return this.resource.toString()},e.create=function(t,i){var n=new e(t.resource,t.isDirectory,t.hasChildren,t.name,t.mtime,t.etag);if(n.isDirectory&&(n.isDirectoryResolved=!!t.children||!!i&&i.some(function(e){return s.isEqualOrParent(e.fsPath,n.resource.fsPath)}),t.children))for(var o=0,r=t.children.length;o<r;o++){var a=e.create(t.children[o],i);a.parent=n,n.children.push(a),n.hasChildren=n.children.length>0}return n},e.mergeLocalWithDisk=function(t,n){i.ok(t.resource.toString()===n.resource.toString(),"Merging only supported for stats with the same resource");var o=t.isDirectory||n.isDirectory;if((!o||!n.isDirectoryResolved||t.isDirectoryResolved)&&(n.resource=t.resource,n.name=t.name,n.isDirectory=t.isDirectory,n.hasChildren=t.isDirectory&&t.hasChildren,n.mtime=t.mtime,n.mime=t.mime,n.isDirectoryResolved=t.isDirectoryResolved,o&&t.isDirectoryResolved)){var r=Object.create(null);n.children.forEach(function(e){r[e.resource.toString()]=e}),n.children=[],t.children.forEach(function(t){var i=r[t.resource.toString()];i?(e.mergeLocalWithDisk(t,i),i.parent=n,n.children.push(i)):(t.parent=n,n.children.push(t))})}},e.prototype.clone=function(){var t=new e(o["default"].parse(this.resource.toString()),this.isDirectory,this.hasChildren,this.name,this.mtime,this.etag);return t.isDirectoryResolved=this.isDirectoryResolved,this.parent&&(t.parent=this.parent),this.isDirectory&&this.children.forEach(function(e){t.addChild(e.clone())}),t},e.prototype.addChild=function(e){i.ok(this.isDirectory,"Can only add a child to a folder"),this.removeChild(e),e.parent=this,e.updateResource(!1),this.children.push(e),this.hasChildren=this.children.length>0},e.prototype.hasChild=function(e,t,o){void 0===o&&(o=c.ANY),i.ok(this.isDirectory,"Can only call hasChild on a directory"),i.ok(n.isString(e),"Expected parameter of type String");for(var r=0;r<this.children.length;r++){var s=this.children[r];if(!(o===c.FILE&&s.isDirectory||o===c.FOLDER&&!s.isDirectory)){if(s.name===e)return!0;if(t&&s.name.toLowerCase()===e.toLowerCase())return!0}}return!1},e.prototype.removeChild=function(e){i.ok(this.isDirectory,"Can only remove a child from a directory"),i.ok(!!this.children,"Expected children for directory but found none: "+this.resource.fsPath);for(var t=0;t<this.children.length;t++)if(this.children[t].resource.toString()===e.resource.toString()){this.children.splice(t,1);break}this.hasChildren=this.children.length>0},e.prototype.move=function(e,t,n){
var o=this;i.ok(e.isDirectory,"Can only move an element into a directory"),t||(t=function(e){e()}),this.parent.removeChild(this),t(function(){e.addChild(o),o.updateResource(!0),n&&n()})},e.prototype.updateResource=function(e){this.resource=o["default"].file(s.join(this.parent.resource.fsPath,this.name)),e&&this.isDirectory&&this.hasChildren&&this.children&&this.children.forEach(function(e){e.updateResource(!0)})},e.prototype.rename=function(e){this.name=e.name,this.mime=e.mime,this.mtime=e.mtime,this.updateResource(!0)},e.prototype.find=function(e){if(this.fileResourceEquals(e,this.resource))return this;if(!this.hasChildren)return null;for(var t=0;t<this.children.length;t++){var i=this.children[t];if(this.fileResourceEquals(e,i.resource))return i;if(i.isDirectory&&s.isEqualOrParent(e.fsPath,i.resource.fsPath))return i.find(e)}return null},e.prototype.fileResourceEquals=function(e,t){var i=e.toString()===t.toString();return r.isLinux||i?i:e.toString().toLowerCase()===t.toString().toLowerCase()},e}();t.FileStat=u;var l=function(e){function t(i){e.call(this,o["default"].file("")),this.id=t.ID++,this.isDirectoryResolved=i}return h(t,e),t.prototype.destroy=function(){this.parent.removeChild(this),this.isDirectoryResolved=void 0,this.name=void 0,this.isDirectory=void 0,this.hasChildren=void 0,this.mtime=void 0,this.mime=void 0},t.prototype.getId=function(){return"new-stat-placeholder:"+this.id+":"+this.parent.resource.toString()},t.prototype.clone=function(){var e=new t(this.isDirectory);return e.parent=this.parent,e},t.prototype.addChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.hasChild=function(e,t){return!1},t.prototype.removeChild=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.move=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.rename=function(e){throw new Error("Can't perform operations in NewStatPlaceholder.")},t.prototype.find=function(e){return null},t.addNewStatPlaceholder=function(e,n){i.ok(e.isDirectory,"Can only add a child to a folder");var o=new t(n);return o.parent=e,e.children.push(o),e.hasChildren=e.children.length>0,o},t.ID=0,t}(u);t.NewStatPlaceholder=l}),define(l[47],d([1,0,66,30,6,148]),function(e,t,i,n,o,r){"use strict";function s(e){if(e instanceof r.FileStat){var t=e;return{resource:t.resource,mimes:t.mime?t.mime.split(", "):[],isDirectory:t.isDirectory}}return null}t.VIEWLET_ID="workbench.view.explorer",t.FILE_EDITOR_INPUT_ID="workbench.editors.files.fileEditorInput",t.TEXT_FILE_EDITOR_ID="workbench.editors.files.textFileEditor",t.BINARY_FILE_EDITOR_ID="workbench.editors.files.binaryFileEditor";var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(n.EditorInput);t.FileEditorInput=a,t.asFileResource=s,t.EventType={FILE_DIRTY:"files:fileDirty",FILE_SAVING:"files:fileSaving",FILE_SAVE_ERROR:"files:fileSaveError",FILE_SAVED:"files:fileSaved",FILE_REVERTED:"files:fileReverted"},function(e){e[e.SAVED=0]="SAVED",e[e.DIRTY=1]="DIRTY",e[e.PENDING_SAVE=2]="PENDING_SAVE",e[e.CONFLICT=3]="CONFLICT",e[e.ERROR=4]="ERROR"}(t.ModelState||(t.ModelState={}));var c=(t.ModelState,function(e){function t(t,i,n){e.call(this,null,t,i,n)}return h(t,e),t.prototype.getBefore=function(){return this.oldValue},t.prototype.getAfter=function(){return this.newValue},t.prototype.gotAdded=function(){return!this.oldValue&&!!this.newValue},t.prototype.gotMoved=function(){return!!this.oldValue&&!!this.newValue&&this.oldValue.resource.toString()!==this.newValue.resource.toString()},t.prototype.gotUpdated=function(){return!!this.oldValue&&!!this.newValue&&!this.gotMoved()&&this.oldValue!==this.newValue},t.prototype.gotDeleted=function(){return!!this.oldValue&&!this.newValue},t}(i.PropertyChangeEvent));t.LocalFileChangeEvent=c;var u=function(e){function t(t,i){e.call(this),this._resource=t,this._model=i}return h(t,e),Object.defineProperty(t.prototype,"resource",{get:function(){return this._resource},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),t.prototype.setAutoSaved=function(e){this._isAutoSaved=e},Object.defineProperty(t.prototype,"isAutoSaved",{get:function(){return this._isAutoSaved},enumerable:!0,configurable:!0}),t}(i.Event);t.TextFileChangeEvent=u,t.TEXT_FILE_SERVICE_ID="textFileService",function(e){e[e.OFF=0]="OFF",e[e.AFTER_SHORT_DELAY=1]="AFTER_SHORT_DELAY",e[e.AFTER_LONG_DELAY=2]="AFTER_LONG_DELAY",e[e.ON_FOCUS_CHANGE=3]="ON_FOCUS_CHANGE"}(t.AutoSaveMode||(t.AutoSaveMode={}));t.AutoSaveMode;t.ITextFileService=o.createDecorator(t.TEXT_FILE_SERVICE_ID)}),define(l[144],d([1,0,2,58,76,25,30,778,6,72,32,45,5,28,64,47]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y){"use strict";var E=function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this),this.instantiationService=o,this.lifecycleService=r,this.contextService=s,this.modeService=a,this.textFileService=c,this.eventService=u,this.resource=t,this.hasAssociatedFilePath=i,this.modeId=n,this.toUnbind=[],this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener2(v.EventType.UNTITLED_FILE_SAVED,function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.eventService.addListener2(v.EventType.UNTITLED_FILE_DIRTY,function(t){return e.onDirtyStateChange(t)}))},t.prototype.onDirtyStateChange=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeDirty.fire()},t.prototype.getTypeId=function(){return t.ID},t.prototype.getResource=function(){return this.resource},t.prototype.getName=function(){return this.hasAssociatedFilePath?r.basename(this.resource.fsPath):this.resource.fsPath},t.prototype.getDescription=function(){return this.hasAssociatedFilePath?o.getPathLabel(r.dirname(this.resource.fsPath),this.contextService):null},t.prototype.isDirty=function(){return this.cachedModel&&this.cachedModel.isDirty()},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.cachedModel.revert(),this.dispose(),i.TPromise.as(!0)},t.prototype.suggestFileName=function(){if(!this.hasAssociatedFilePath){var e=this.getMime();if(e&&e!==n.MIME_TEXT)return n.suggestFilename(e,this.getName())}return this.getName()},t.prototype.getMime=function(){return this.cachedModel?this.modeService.getMimeForMode(this.cachedModel.getModeId()):null},t.prototype.getEncoding=function(){return this.cachedModel?this.cachedModel.getEncoding():null},t.prototype.setEncoding=function(e,t){this.cachedModel&&this.cachedModel.setEncoding(e)},t.prototype.resolve=function(e){var t=this;if(this.cachedModel)return i.TPromise.as(this.cachedModel);var n=this.createModel();return n.load().then(function(e){return t.cachedModel=e,t.cachedModel})},t.prototype.createModel=function(){var e="",t=this.modeId;if(!t&&this.hasAssociatedFilePath){var i=n.guessMimeTypes(this.resource.fsPath)[0];n.isUnspecific(i)||(t=i)}return this.instantiationService.createInstance(a.UntitledEditorModel,e,t||n.MIME_TEXT,this.resource,this.hasAssociatedFilePath)},t.prototype.matches=function(i){if(e.prototype.matches.call(this,i)===!0)return!0;if(i instanceof t){var n=i;return n.resource.toString()===this.resource.toString()}return!1},t.prototype.dispose=function(){p.dispose(this.toUnbind),this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=null),e.prototype.dispose.call(this)},t.ID="workbench.editors.untitledEditorInput",t.SCHEMA="untitled",t=g([m(3,c.IInstantiationService),m(4,u.ILifecycleService),m(5,l.IWorkspaceContextService),m(6,d.IModeService),m(7,y.ITextFileService),m(8,f.IEventService)],t)}(s.UntitledEditorInput);t.UntitledEditorInput=E}),define(l[825],d([1,0,5,109,47,46,250,23,28]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(e,t,i){this.configurationService=e,this.eventService=t,this.codeEditorService=i,this.toUnbind=[],this.trimTrailingWhitespace=!1,this.registerListeners(),this.onConfigurationChange(this.configurationService.getConfiguration())}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener2(o.EventType.FILE_SAVING,function(t){return e.onTextFileSaving(t)})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)}))},e.prototype.onConfigurationChange=function(e){this.trimTrailingWhitespace=e&&e.files&&e.files.trimTrailingWhitespace},e.prototype.getId=function(){return"vs.files.saveparticipant"},e.prototype.onTextFileSaving=function(e){this.trimTrailingWhitespace&&this.doTrimTrailingWhitespace(e.model,e.isAutoSaved)},e.prototype.doTrimTrailingWhitespace=function(e,t){var i=[new r.Selection(1,1,1,1)],n=[];if(e.isAttachedToEditor())for(var o=this.codeEditorService.listCodeEditors(),a=0,c=o.length;a<c;a++){var u=o[a],l=u.getModel();l&&e===l&&(i=u.getSelections(),t&&n.push.apply(n,i.map(function(e){return{lineNumber:e.positionLineNumber,column:e.positionColumn}})))}var d=s.trimTrailingWhitespace(e,n);d.length&&e.pushEditOperations(i,d,function(e){return i})},e.prototype.dispose=function(){this.toUnbind=i.dispose(this.toUnbind)},e=g([m(0,a.IConfigurationService),m(1,c.IEventService),m(2,n.ICodeEditorService)],e)}();t.SaveParticipant=u}),define(l[143],d([1,0,555,2,7,25,239,17,64,47,30,145,34,28,6,18,45,38,21]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b){"use strict";var _,C=function(){function e(e){this.messageService=e}return e.prototype.onSaveError=function(e,t){this.messageService.show(y.Severity.Error,i.localize(0,null,r.basename(t.getResource().fsPath),o.toErrorMessage(e,!1)))},e=g([m(0,y.IMessageService)],e)}();_||(_=s.register("TextFileEditorModelDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}));var w=function(e){function s(t,i,n,o,r,s,a,c,u,l){if(e.call(this,r,o),this.messageService=n,this.eventService=s,this.fileService=a,this.instantiationService=c,this.telemetryService=u,this.textFileService=l,this.resource=t,"file"!==this.resource.scheme)throw new Error("TextFileEditorModel can only handle file:// resources.");this.preferredEncoding=i,this.textModelChangeListener=null,this.dirty=!1,this.autoSavePromises=[],this.versionId=0,this.lastDirtyTime=0,this.mapPendingSaveToVersionId={},this.updateAutoSaveConfiguration(l.getAutoSaveConfiguration()),this.registerListeners()}return h(s,e),s.prototype.registerListeners=function(){var e=this;this.textFileServiceListener=this.textFileService.onAutoSaveConfigurationChange(function(t){return e.updateAutoSaveConfiguration(t)})},s.prototype.updateAutoSaveConfiguration=function(e){"number"==typeof e.autoSaveDelay&&e.autoSaveDelay>0?(this.autoSaveAfterMillies=e.autoSaveDelay,this.autoSaveAfterMilliesEnabled=!0):(this.autoSaveAfterMillies=void 0,this.autoSaveAfterMilliesEnabled=!1)},s.setSaveErrorHandler=function(e){s.saveErrorHandler=e},s.prototype.setConflictResolutionMode=function(){_("setConflictResolutionMode() - enabled conflict resolution mode",this.resource,new Date),this.inConflictResolutionMode=!0},s.prototype.isInConflictResolutionMode=function(){return this.inConflictResolutionMode},s.prototype.revert=function(){var e=this;if(!this.isResolved())return n.TPromise.as(null);this.cancelAutoSavePromises();var t=this.setDirty(!1);return this.load(!0).then(function(){e.emitEvent(u.EventType.FILE_REVERTED,new u.TextFileChangeEvent(e.resource,e.textEditorModel))},function(i){return i.fileOperationResult===p.FileOperationResult.FILE_NOT_FOUND?e.emitEvent(u.EventType.FILE_REVERTED,new u.TextFileChangeEvent(e.resource,e.textEditorModel)):t(),n.TPromise.wrapError(i)})},s.prototype.load=function(e){var t=this;if(_("load() - enter",this.resource,new Date),this.dirty)return _("load() - exit - without loading because model is dirty",this.resource,new Date),n.TPromise.as(this);var i;return e?i=void 0:this.versionOnDiskStat&&(i=this.versionOnDiskStat.etag),this.textFileService.resolveTextContent(this.resource,{acceptTextOnly:!0,etag:i,encoding:this.preferredEncoding}).then(function(e){_("load() - resolved content",t.resource,new Date),t.telemetryService.publicLog("fileGet",{mimeType:e.mime,ext:r.extname(t.resource.fsPath),path:b.anonymize(t.resource.fsPath)});var i={resource:t.resource,name:e.name,mtime:e.mtime,etag:e.etag,mime:e.mime,isDirectory:!1,hasChildren:!1,children:void 0};t.updateVersionOnDiskStat(i);var o=t.contentEncoding;if(t.contentEncoding=e.encoding,t.preferredEncoding?t.updatePreferredEncoding(t.contentEncoding):o!==t.contentEncoding&&t.eventService.emit(c.EventType.RESOURCE_ENCODING_CHANGED,new c.ResourceEvent(t.resource)),t.textEditorModel){_("load() - updated text editor model",t.resource,new Date),t.setDirty(!1),t.blockModelContentChange=!0;try{t.updateTextEditorModel(e.value)}finally{t.blockModelContentChange=!1}return n.TPromise.as(t)}return t.createTextEditorModelPromise?(_("load() - join existing text editor model promise",t.resource,new Date),t.createTextEditorModelPromise):(_("load() - created text editor model",t.resource,new Date),t.createTextEditorModelPromise=t.createTextEditorModel(e.value,e.resource).then(function(){return t.createTextEditorModelPromise=null,t.setDirty(!1),t.textModelChangeListener=t.textEditorModel.onDidChangeRawContent(function(e){return t.onModelContentChanged(e)}),t},function(e){return t.createTextEditorModelPromise=null,n.TPromise.wrapError(e)}),t.createTextEditorModelPromise)},function(e){return e.fileOperationResult===p.FileOperationResult.FILE_NOT_MODIFIED_SINCE?(t.setDirty(!1),n.TPromise.as(t)):n.TPromise.wrapError(e)})},s.prototype.getOrCreateMode=function(e,t,i){return e.getOrCreateModeByFilenameOrFirstLine(this.resource.fsPath,i)},s.prototype.onModelContentChanged=function(e){if(_("onModelContentChanged("+e.changeType+") - enter",this.resource,new Date),this.versionId++,_("onModelContentChanged() - new versionId "+this.versionId,this.resource,new Date),!this.blockModelContentChange){if(!this.autoSaveAfterMilliesEnabled&&this.textEditorModel.getAlternativeVersionId()===this.bufferSavedVersionId){_("onModelContentChanged() - model content changed back to last saved version",this.resource,new Date);var t=this.dirty;return this.setDirty(!1),void(t&&this.emitEvent(u.EventType.FILE_REVERTED,new u.TextFileChangeEvent(this.resource,this.textEditorModel)))}_("onModelContentChanged() - model content changed and marked as dirty",this.resource,new Date),this.makeDirty(e),this.autoSaveAfterMilliesEnabled&&(this.inConflictResolutionMode?_("makeDirty() - prevented save because we are in conflict resolution mode",this.resource,new Date):this.doAutoSave(this.versionId))}},s.prototype.makeDirty=function(e){var t=this.dirty;this.setDirty(!0),this.lastDirtyTime=Date.now(),t||this.emitEvent(u.EventType.FILE_DIRTY,new u.TextFileChangeEvent(this.resource,this.textEditorModel))},s.prototype.doAutoSave=function(e){var t=this;_("doAutoSave() - enter for versionId "+e,this.resource,new Date),this.cancelAutoSavePromises();var i=n.TPromise.timeout(this.autoSaveAfterMillies).then(function(){e===t.versionId&&t.doSave(e,!0)});return this.autoSavePromises.push(i),i},s.prototype.cancelAutoSavePromises=function(){for(;this.autoSavePromises.length;)this.autoSavePromises.pop().cancel()},s.prototype.save=function(e,t){return this.isResolved()?(_("save() - enter",this.resource,new Date),this.cancelAutoSavePromises(),this.doSave(this.versionId,!1,e,t)):n.TPromise.as(null)},s.prototype.doSave=function(e,t,i,o){var s=this;_("doSave("+e+") - enter with versionId "+e,this.resource,new Date);var a=this.mapPendingSaveToVersionId[e];if(a)return _("doSave("+e+") - exit - found a pending save for versionId "+e,this.resource,new Date),a;if(!this.dirty||e!==this.versionId)return _("doSave("+e+") - exit - because not dirty and/or versionId is different (this.isDirty: "+this.dirty+", this.versionId: "+this.versionId+")",this.resource,new Date),n.TPromise.as(null);if(this.isBusySaving()&&(_("doSave("+e+") - exit - because busy saving",this.resource,new Date),this.autoSaveAfterMilliesEnabled))return this.doAutoSave(e);this.autoSaveAfterMilliesEnabled||this.textEditorModel.pushStackElement(),this.blockModelContentChange=!0;try{var c=new u.TextFileChangeEvent(this.resource,this.textEditorModel);c.setAutoSaved(t),this.emitEvent(u.EventType.FILE_SAVING,c)}finally{this.blockModelContentChange=!1}return e=this.versionId,this.inErrorMode=!1,_("doSave("+e+") - before updateContent()",this.resource,new Date),this.mapPendingSaveToVersionId[e]=this.fileService.updateContent(this.versionOnDiskStat.resource,this.getValue(),{overwriteReadonly:i,overwriteEncoding:o,mtime:this.versionOnDiskStat.mtime,encoding:this.getEncoding(),etag:this.versionOnDiskStat.etag}).then(function(t){_("doSave("+e+") - after updateContent()",s.resource,new Date),s.telemetryService.publicLog("filePUT",{mimeType:t.mime,ext:r.extname(s.versionOnDiskStat.resource.fsPath)}),delete s.mapPendingSaveToVersionId[e],e===s.versionId?(_("doSave("+e+") - setting dirty to false because versionId did not change",s.resource,new Date),s.setDirty(!1)):_("doSave("+e+") - not setting dirty to false because versionId did change meanwhile",s.resource,new Date),s.updateVersionOnDiskStat(t),s.emitEvent(u.EventType.FILE_SAVED,new u.TextFileChangeEvent(s.resource,s.textEditorModel))},function(t){_("doSave("+e+") - exit - resulted in a save error: "+t.toString(),s.resource,new Date),delete s.mapPendingSaveToVersionId[e],s.inErrorMode=!0,s.onSaveError(t),s.emitEvent(u.EventType.FILE_SAVE_ERROR,new u.TextFileChangeEvent(s.resource,s.textEditorModel))}),this.mapPendingSaveToVersionId[e]},s.prototype.setDirty=function(e){var t=this,i=this.dirty,n=this.inConflictResolutionMode,o=this.inErrorMode,r=this.bufferSavedVersionId;return e?this.dirty=!0:(this.dirty=!1,this.inConflictResolutionMode=!1,this.inErrorMode=!1,this.textEditorModel&&(this.bufferSavedVersionId=this.textEditorModel.getAlternativeVersionId())),function(){t.dirty=i,t.inConflictResolutionMode=n,t.inErrorMode=o,t.bufferSavedVersionId=r}},s.prototype.updateVersionOnDiskStat=function(e){this.versionOnDiskStat?this.versionOnDiskStat.mtime<=e.mtime&&(this.versionOnDiskStat=e):this.versionOnDiskStat=e},s.prototype.onSaveError=function(e){s.saveErrorHandler||s.setSaveErrorHandler(this.instantiationService.createInstance(C)),s.saveErrorHandler.onSaveError(e,this)},s.prototype.emitEvent=function(e,t){try{this.eventService.emit(e,t)}catch(n){n.friendlyMessage=i.localize(1,null,e),o.onUnexpectedError(n)}},s.prototype.isBusySaving=function(){return!a.isEmptyObject(this.mapPendingSaveToVersionId)},s.prototype.isDirty=function(){return this.dirty},s.prototype.getLastDirtyTime=function(){return this.lastDirtyTime},s.prototype.getLastModifiedTime=function(){return this.versionOnDiskStat?this.versionOnDiskStat.mtime:-1},s.prototype.getState=function(){return this.inConflictResolutionMode?u.ModelState.CONFLICT:this.inErrorMode?u.ModelState.ERROR:this.dirty?this.isBusySaving()?u.ModelState.PENDING_SAVE:this.dirty?u.ModelState.DIRTY:void 0:u.ModelState.SAVED},s.prototype.getEncoding=function(){return this.preferredEncoding||this.contentEncoding},s.prototype.setEncoding=function(e,t){if(this.isNewEncoding(e))if(t===l.EncodingMode.Encode)this.updatePreferredEncoding(e),this.isDirty()||(this.versionId++,this.makeDirty()),this.inConflictResolutionMode||this.save(!1,!0).done(null,o.onUnexpectedError);else{if(this.isDirty())return void this.messageService.show(y.Severity.Info,i.localize(2,null));this.updatePreferredEncoding(e),this.load(!0).done(null,o.onUnexpectedError)}},s.prototype.updatePreferredEncoding=function(e){this.isNewEncoding(e)&&(this.preferredEncoding=e,this.eventService.emit(c.EventType.RESOURCE_ENCODING_CHANGED,new c.ResourceEvent(this.resource)))},s.prototype.isNewEncoding=function(e){return this.preferredEncoding!==e&&!(!this.preferredEncoding&&this.contentEncoding===e)},s.prototype.isResolved=function(){return!a.isUndefinedOrNull(this.versionOnDiskStat)},s.prototype.isDisposed=function(){return this.disposed},s.prototype.getResource=function(){return this.resource},s.prototype.dispose=function(){this.disposed=!0,this.inConflictResolutionMode=!1,this.inErrorMode=!1,this.createTextEditorModelPromise=null,this.textModelChangeListener&&(this.textModelChangeListener.dispose(),this.textModelChangeListener=null),this.textFileServiceListener&&(this.textFileServiceListener.dispose(),this.textFileServiceListener=null),this.cancelAutoSavePromises(),t.CACHE.remove(this.resource),e.prototype.dispose.call(this)},s.ID="workbench.editors.files.textFileEditorModel",s=g([m(2,y.IMessageService),m(3,E.IModeService),m(4,S.IModelService),m(5,f.IEventService),m(6,p.IFileService),m(7,v.IInstantiationService),m(8,b.ITelemetryService),m(9,u.ITextFileService)],s)}(d.BaseTextEditorModel);t.TextFileEditorModel=w;var I=function(){function e(){this.mapResourcePathToModel=Object.create(null)}return e.prototype.dispose=function(e){var t=this.get(e);if(t){if(t.isDirty())return;t.dispose()}},e.prototype.get=function(e){return this.mapResourcePathToModel[e.toString()]},e.prototype.getAll=function(e){var t=this;return Object.keys(this.mapResourcePathToModel).filter(function(t){return!e||e.toString()===t}).map(function(e){return t.mapResourcePathToModel[e]})},e.prototype.add=function(e,t){this.mapResourcePathToModel[e.toString()]=t},e.prototype.clear=function(){this.mapResourcePathToModel=Object.create(null)},e.prototype.remove=function(e){delete this.mapResourcePathToModel[e.toString()]},e}();t.TextFileEditorModelCache=I,t.CACHE=new I}),define(l[68],d([1,0,6]),function(e,t,i){"use strict";function n(e){return!/^\.|\/\.|\.\.|~|\^|:|\/$|\.lock$|\.lock\/|\\|\*|\s|^\s*$/.test(e)}!function(e){e[e.Head=0]="Head",e[e.RemoteHead=1]="RemoteHead",e[e.Tag=2]="Tag"}(t.RefType||(t.RefType={}));t.RefType;!function(e){e[e.INDEX=0]="INDEX",e[e.WORKING_TREE=1]="WORKING_TREE",e[e.MERGE=2]="MERGE"}(t.StatusType||(t.StatusType={}));t.StatusType;!function(e){e[e.INDEX_MODIFIED=0]="INDEX_MODIFIED",e[e.INDEX_ADDED=1]="INDEX_ADDED",e[e.INDEX_DELETED=2]="INDEX_DELETED",e[e.INDEX_RENAMED=3]="INDEX_RENAMED",e[e.INDEX_COPIED=4]="INDEX_COPIED",e[e.MODIFIED=5]="MODIFIED",e[e.DELETED=6]="DELETED",e[e.UNTRACKED=7]="UNTRACKED",e[e.IGNORED=8]="IGNORED",e[e.ADDED_BY_US=9]="ADDED_BY_US",e[e.ADDED_BY_THEM=10]="ADDED_BY_THEM",e[e.DELETED_BY_US=11]="DELETED_BY_US",e[e.DELETED_BY_THEM=12]="DELETED_BY_THEM",e[e.BOTH_ADDED=13]="BOTH_ADDED",e[e.BOTH_DELETED=14]="BOTH_DELETED",e[e.BOTH_MODIFIED=15]="BOTH_MODIFIED"}(t.Status||(t.Status={}));t.Status;t.ModelEvents={MODEL_UPDATED:"ModelUpdated",STATUS_MODEL_UPDATED:"StatusModelUpdated",HEAD_UPDATED:"HEADUpdated",REFS_UPDATED:"RefsUpdated",REMOTES_UPDATED:"RemotesUpdated"},function(e){e[e.NotInitialized=0]="NotInitialized",e[e.NotARepo=1]="NotARepo",e[e.NotAtRepoRoot=2]="NotAtRepoRoot",e[e.OK=3]="OK",e[e.Huge=4]="Huge",e[e.NoGit=5]="NoGit",e[e.Disabled=6]="Disabled",e[e.NotAWorkspace=7]="NotAWorkspace"}(t.ServiceState||(t.ServiceState={}));t.ServiceState;!function(e){e[e.OK=0]="OK",e[e.GitNotFound=1]="GitNotFound",e[e.Disabled=2]="Disabled"}(t.RawServiceState||(t.RawServiceState={}));t.RawServiceState;t.GitErrorCodes={BadConfigFile:"BadConfigFile",AuthenticationFailed:"AuthenticationFailed",NoUserNameConfigured:"NoUserNameConfigured",NoUserEmailConfigured:"NoUserEmailConfigured",NoRemoteRepositorySpecified:"NoRemoteRepositorySpecified",NotAGitRepository:"NotAGitRepository",NotAtRepositoryRoot:"NotAtRepositoryRoot",Conflict:"Conflict",UnmergedChanges:"UnmergedChanges",PushRejected:"PushRejected",RemoteConnectionError:"RemoteConnectionError",DirtyWorkTree:"DirtyWorkTree",CantOpenResource:"CantOpenResource",GitNotFound:"GitNotFound",CantCreatePipe:"CantCreatePipe",CantAccessRemote:"CantAccessRemote",RepositoryNotFound:"RepositoryNotFound"},function(e){e[e.Disabled=0]="Disabled",e[e.Inactive=1]="Inactive",e[e.Active=2]="Active",e[e.Fetching=3]="Fetching"}(t.AutoFetcherState||(t.AutoFetcherState={}));t.AutoFetcherState;t.ServiceEvents={STATE_CHANGED:"stateChanged",REPO_CHANGED:"repoChanged",OPERATION_START:"operationStart",OPERATION_END:"operationEnd",OPERATION:"operation",ERROR:"error",DISPOSE:"dispose"},t.ServiceOperations={STATUS:"status",INIT:"init",ADD:"add",STAGE:"stage",BRANCH:"branch",CHECKOUT:"checkout",CLEAN:"clean",UNDO:"undo",RESET:"reset",COMMIT:"commit",COMMAND:"command",BACKGROUND_FETCH:"backgroundfetch",PULL:"pull",PUSH:"push",SYNC:"sync"},t.GIT_SERVICE_ID="gitService",t.IGitService=i.createDecorator(t.GIT_SERVICE_ID),t.isValidBranchName=n}),define(l[828],d([1,0,11,68,32,5,16]),function(e,t,i,n,o,r,s){"use strict";function a(e){var t=l.DECORATION_OPTIONS;return e.getLinesContent().map(function(e,t){return c.test(e)?t:null}).filter(function(e){return null!==e}).map(function(e){return{startLineNumber:e+1,startColumn:1,endLineNumber:e+1,endColumn:1}}).map(function(e){return{range:e,options:t}})}var c=/^<<<<<<<|^=======|^>>>>>>>/,u=function(e){function t(t,i,o,r){var a=this;e.call(this),this.editor=t,this.model=i,this.filePath=o,this.gitService=r,this.decorations=[];var c=new s.Delayer(300);c.trigger(function(){return a.redecorate()});var u=r.getModel();this._register(i.onDidChangeContent(function(){return c.trigger(function(){return a.redecorate()})})),this._register(u.addListener2(n.ModelEvents.STATUS_MODEL_UPDATED,function(){return c.trigger(function(){return a.redecorate()})}))}return h(t,e),t.prototype._setDecorations=function(e){this.decorations=this.editor.deltaDecorations(this.decorations,e)},t.prototype.redecorate=function(){var e=this.gitService.getModel();if(e){var t=e.getStatus().find(this.filePath,n.StatusType.MERGE);t&&this._setDecorations(a(this.model))}},t.prototype.dispose=function(){this._setDecorations([]),e.prototype.dispose.call(this)},t}(r.Disposable),l=function(e){function t(t,i,n){var o=this;e.call(this),this.editor=t,this.gitService=i,this.contextService=n,this._register(this.editor.onDidChangeModel(function(){return o.onModelChanged()})),this.mergeDecorator=null}return h(t,e),t.prototype.getId=function(){return t.ID},t.prototype.onModelChanged=function(){if(this.mergeDecorator&&(this.mergeDecorator.dispose(),this.mergeDecorator=null),this.contextService&&this.gitService){var e=this.editor.getModel();if(e){var t=e.uri;if(t){var i=this.contextService.toWorkspaceRelativePath(t);i&&(this.mergeDecorator=new u(this.editor,e,i,this.gitService))}}}},t.prototype.dispose=function(){this.mergeDecorator&&(this.mergeDecorator.dispose(),this.mergeDecorator=null),e.prototype.dispose.call(this)},t.ID="vs.git.editor.merge.decorator",t.DECORATION_OPTIONS={className:"git-merge-control-decoration",isWholeLine:!0,overviewRuler:{color:"rgb(197, 118, 0)",darkColor:"rgb(197, 118, 0)",position:i.OverviewRulerLane.Left},stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},t=g([m(1,n.IGitService),m(2,o.IWorkspaceContextService)],t)}(r.Disposable);t.MergeDecorator=l}),define(l[829],d([1,0,68,2]),function(e,t,i,n){"use strict";var o=function(){function e(e,t){this.id=e,this.fn=t}return e.prototype.run=function(){return this.fn()},e.prototype.dispose=function(){},e}();t.GitOperation=o;var r=function(){function e(e){this.input=e,this.id=i.ServiceOperations.COMMAND}return e.prototype.run=function(){return n.TPromise.as(null)},e.prototype.dispose=function(){this.id=null,this.input=null},e}();t.CommandOperation=r}),define(l[830],d([1,0,2,115,68]),function(e,t,i,n,o){"use strict";var r={to:function(e){return[e.x,e.y,e.path,e.mimetype,e.rename]},from:function(e){return{x:e[0],y:e[1],path:e[2],mimetype:e[3],rename:e[4]}}},s={to:function(e){return[e.name,e.commit,e.type,e.remote,e.upstream,e.ahead,e.behind]},from:function(e){return{name:e[0],commit:e[1],type:e[2],remote:e[3],upstream:e[4],ahead:e[5],behind:e[6]}}},a={to:function(e){return[e.name,e.commit,e.type,e.remote]},from:function(e){return{name:e[0],commit:e[1],type:e[2],remote:e[3]}}},c={to:function(e){return[e.name,e.url]},from:function(e){return{name:e[0],url:e[1]}}},u={to:function(e){return e?[e.repositoryRoot,e.state,e.status.map(r.to),s.to(e.HEAD),e.refs.map(a.to),e.remotes.map(c.to)]:null},from:function(e){return e?{repositoryRoot:e[0],state:e[1],status:e[2].map(r.from),HEAD:s.from(e[3]),refs:e[4].map(a.from),remotes:e[5].map(c.from)}:null}},l=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"getVersion":return this.service.then(function(e){return e.getVersion()});case"serviceState":return this.service.then(function(e){return e.serviceState()});case"statusCount":return this.service.then(function(e){return e.statusCount()});case"status":return this.service.then(function(e){return e.status()}).then(u.to);case"init":return this.service.then(function(e){return e.init()}).then(u.to);case"add":return this.service.then(function(e){return e.add(t)}).then(u.to);case"stage":return this.service.then(function(e){return e.stage(t[0],t[1])}).then(u.to);case"branch":return this.service.then(function(e){return e.branch(t[0],t[1])}).then(u.to);case"checkout":return this.service.then(function(e){return e.checkout(t[0],t[1])}).then(u.to);case"clean":return this.service.then(function(e){return e.clean(t)}).then(u.to);case"undo":return this.service.then(function(e){return e.undo()}).then(u.to);case"reset":return this.service.then(function(e){return e.reset(t[0],t[1])}).then(u.to);case"revertFiles":return this.service.then(function(e){return e.revertFiles(t[0],t[1])}).then(u.to);case"fetch":return this.service.then(function(e){return e.fetch()}).then(u.to);case"pull":return this.service.then(function(e){return e.pull(t)}).then(u.to);case"push":return this.service.then(function(e){return e.push(t[0],t[1],t[2])}).then(u.to);case"sync":return this.service.then(function(e){return e.sync()}).then(u.to);case"commit":return this.service.then(function(e){return e.commit(t[0],t[1],t[2])}).then(u.to);case"detectMimetypes":return this.service.then(function(e){return e.detectMimetypes(t[0],t[1])});case"show":return this.service.then(function(e){return e.show(t[0],t[1])});case"onOutput":return this.service.then(function(e){return n.eventToCall(e.onOutput)})}},e}();t.GitChannel=l;var d=function(){function e(){}return e.prototype.call=function(e){switch(e){case"serviceState":return i.TPromise.as(o.RawServiceState.GitNotFound);default:return i.TPromise.as(null)}},e}();t.UnavailableGitChannel=d;var h=function(){function e(e){this.channel=e,this._onOutput=n.eventFromCall(this.channel,"onOutput")}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput},enumerable:!0,configurable:!0}),e.prototype.getVersion=function(){return this.channel.call("getVersion")},e.prototype.serviceState=function(){return this.channel.call("serviceState")},e.prototype.statusCount=function(){return this.channel.call("statusCount")},e.prototype.status=function(){return this.channel.call("status").then(u.from)},e.prototype.init=function(){return this.channel.call("init").then(u.from)},e.prototype.add=function(e){return this.channel.call("add",e).then(u.from)},e.prototype.stage=function(e,t){return this.channel.call("stage",[e,t]).then(u.from)},e.prototype.branch=function(e,t){return this.channel.call("branch",[e,t]).then(u.from)},e.prototype.checkout=function(e,t){return this.channel.call("checkout",[e,t]).then(u.from)},e.prototype.clean=function(e){return this.channel.call("clean",e).then(u.from)},e.prototype.undo=function(){return this.channel.call("undo").then(u.from)},e.prototype.reset=function(e,t){return this.channel.call("reset",[e,t]).then(u.from)},e.prototype.revertFiles=function(e,t){return this.channel.call("revertFiles",[e,t]).then(u.from)},e.prototype.fetch=function(){return this.channel.call("fetch").then(u.from)},e.prototype.pull=function(e){return this.channel.call("pull",e).then(u.from);
},e.prototype.push=function(e,t,i){return this.channel.call("push",[e,t,i]).then(u.from)},e.prototype.sync=function(){return this.channel.call("sync").then(u.from)},e.prototype.commit=function(e,t,i){return this.channel.call("commit",[e,t,i]).then(u.from)},e.prototype.detectMimetypes=function(e,t){return this.channel.call("detectMimetypes",[e,t])},e.prototype.show=function(e,t){return this.channel.call("show",[e,t])},e}();t.GitChannelClient=h;var p=function(){function e(e){this.service=e}return e.prototype.call=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];switch(e){case"askpass":return this.service.askpass(t[0],t[1],t[2])}},e}();t.AskpassChannel=p;var f=function(){function e(e){this.channel=e}return e.prototype.askpass=function(e,t,i){return this.channel.call("askpass",e,t,i)},e}();t.AskpassChannelClient=f}),define(l[236],d([1,0,5,9,36,68]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(t,i,n,o,r){this.path=t,this.mimetype=i,this.status=n,this.rename=o,this.id=e.typeOf(n)+":"+t+(o?":"+o:"")+(r?"$":""),this.pathComponents=t.split("/")}return e.prototype.getPath=function(){return this.path},e.prototype.getPathComponents=function(){return this.pathComponents.slice(0)},e.prototype.getMimetype=function(){return this.mimetype},e.prototype.getStatus=function(){return this.status},e.prototype.getRename=function(){return this.rename},e.prototype.getId=function(){return this.id},e.prototype.getType=function(){switch(e.typeOf(this.status)){case"index":return r.StatusType.INDEX;case"workingTree":return r.StatusType.WORKING_TREE;default:return r.StatusType.MERGE}},e.prototype.clone=function(){return new e(this.path,this.mimetype,this.status,this.rename)},e.prototype.update=function(e){this.status=e.getStatus(),this.rename=e.getRename()},e.typeOf=function(e){switch(e){case r.Status.INDEX_MODIFIED:case r.Status.INDEX_ADDED:case r.Status.INDEX_DELETED:case r.Status.INDEX_RENAMED:case r.Status.INDEX_COPIED:return"index";case r.Status.MODIFIED:case r.Status.DELETED:case r.Status.UNTRACKED:case r.Status.IGNORED:return"workingTree";default:return"merge"}},e}();t.FileStatus=s;var a=function(e){function t(t){e.call(this),this.type=t,this.statusSet=Object.create(null),this.statusList=[],this.statusByName=Object.create(null),this.statusByRename=Object.create(null)}return h(t,e),t.prototype.getType=function(){return this.type},t.prototype.update=function(e){var t,i,n,o,r=Object.create(null);for(t in this.statusSet)r[t]=this.statusSet[t];for(var s=0;s<e.length;s++)o=e[s],t=o.getId(),i=o.getPath(),n=o.getRename(),r[t]?(this.statusSet[t].update(o),r[t]=null):this.statusSet[t]=o;for(t in r)(o=r[t])&&(this.emit("fileStatus:dispose",o),delete this.statusSet[t]);this.statusList=[],this.statusByName=Object.create(null),this.statusByRename=Object.create(null);for(t in this.statusSet)o=this.statusSet[t],this.statusList.push(o),o.getRename()?this.statusByRename[o.getPath()]=o:this.statusByName[o.getPath()]=o},t.prototype.all=function(){return this.statusList},t.prototype.find=function(e){return this.statusByName[e]||this.statusByRename[e]||null},t.prototype.dispose=function(){this.type=null,this.statusSet=null,this.statusList=null,this.statusByName=null,this.statusByRename=null,e.prototype.dispose.call(this)},t}(o.EventEmitter);t.StatusGroup=a;var c=function(e){function t(){e.call(this),this.indexStatus=new a(r.StatusType.INDEX),this.workingTreeStatus=new a(r.StatusType.WORKING_TREE),this.mergeStatus=new a(r.StatusType.MERGE),this.toDispose=[this.addEmitter2(this.indexStatus),this.addEmitter2(this.workingTreeStatus),this.addEmitter2(this.mergeStatus)]}return h(t,e),t.prototype.getSummary=function(){return{hasWorkingTreeChanges:this.getWorkingTreeStatus().all().length>0,hasIndexChanges:this.getIndexStatus().all().length>0,hasMergeChanges:this.getMergeStatus().all().length>0}},t.prototype.update=function(e){var t=[],i=[],n=[];e.forEach(function(e){switch(e.x+e.y){case"??":return i.push(new s(e.path,e.mimetype,r.Status.UNTRACKED));case"!!":return i.push(new s(e.path,e.mimetype,r.Status.IGNORED));case"DD":return n.push(new s(e.path,e.mimetype,r.Status.BOTH_DELETED));case"AU":return n.push(new s(e.path,e.mimetype,r.Status.ADDED_BY_US));case"UD":return n.push(new s(e.path,e.mimetype,r.Status.DELETED_BY_THEM));case"UA":return n.push(new s(e.path,e.mimetype,r.Status.ADDED_BY_THEM));case"DU":return n.push(new s(e.path,e.mimetype,r.Status.DELETED_BY_US));case"AA":return n.push(new s(e.path,e.mimetype,r.Status.BOTH_ADDED));case"UU":return n.push(new s(e.path,e.mimetype,r.Status.BOTH_MODIFIED))}var o=!1;switch(e.x){case"M":t.push(new s(e.path,e.mimetype,r.Status.INDEX_MODIFIED)),o=!0;break;case"A":t.push(new s(e.path,e.mimetype,r.Status.INDEX_ADDED));break;case"D":t.push(new s(e.path,e.mimetype,r.Status.INDEX_DELETED));break;case"R":t.push(new s(e.path,e.mimetype,r.Status.INDEX_RENAMED,e.rename));break;case"C":t.push(new s(e.path,e.mimetype,r.Status.INDEX_COPIED))}switch(e.y){case"M":i.push(new s(e.path,e.mimetype,r.Status.MODIFIED,e.rename,o));break;case"D":i.push(new s(e.path,e.mimetype,r.Status.DELETED,e.rename))}}),this.indexStatus.update(t),this.workingTreeStatus.update(i),this.mergeStatus.update(n),this.emit(r.ModelEvents.STATUS_MODEL_UPDATED)},t.prototype.getIndexStatus=function(){return this.indexStatus},t.prototype.getWorkingTreeStatus=function(){return this.workingTreeStatus},t.prototype.getMergeStatus=function(){return this.mergeStatus},t.prototype.getGroups=function(){return[this.mergeStatus,this.indexStatus,this.workingTreeStatus]},t.prototype.find=function(e,t){var i;switch(t){case r.StatusType.INDEX:i=this.indexStatus;break;case r.StatusType.WORKING_TREE:i=this.workingTreeStatus;break;case r.StatusType.MERGE:i=this.mergeStatus;break;default:return null}return i.find(e)},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),this.indexStatus&&(this.indexStatus.dispose(),this.indexStatus=null),this.workingTreeStatus&&(this.workingTreeStatus.dispose(),this.workingTreeStatus=null),this.mergeStatus&&(this.mergeStatus.dispose(),this.mergeStatus=null),e.prototype.dispose.call(this)},t}(o.EventEmitter);t.StatusModel=c;var u=function(e){function t(){e.call(this),this.toDispose=[],this.repositoryRoot=null,this.status=new c,this.toDispose.push(this.addEmitter2(this.status)),this.HEAD=null,this.refs=[],this.remotes=[]}return h(t,e),t.prototype.getRepositoryRoot=function(){return this.repositoryRoot},t.prototype.getStatus=function(){return this.status},t.prototype.getHEAD=function(){return this.HEAD},t.prototype.getRefs=function(){return this.refs},t.prototype.getRemotes=function(){return this.remotes},t.prototype.update=function(e){e||(e={repositoryRoot:null,status:[],HEAD:null,refs:[],remotes:[]}),this.repositoryRoot=e.repositoryRoot,this.status.update(e.status),this.HEAD=e.HEAD,this.emit(r.ModelEvents.HEAD_UPDATED),this.refs=e.refs,this.emit(r.ModelEvents.REFS_UPDATED),this.remotes=e.remotes,this.emit(r.ModelEvents.REMOTES_UPDATED),this.emit(r.ModelEvents.MODEL_UPDATED)},t.prototype.getStatusSummary=function(){var e=this.getStatus();return{hasWorkingTreeChanges:e.getWorkingTreeStatus().all().length>0,hasIndexChanges:e.getIndexStatus().all().length>0,hasMergeChanges:e.getMergeStatus().all().length>0}},t.prototype.getPS1=function(){if(!this.HEAD)return"";var e=this.HEAD.name||this.HEAD.commit.substr(0,8),t=this.getStatus().getSummary();return n.format("{0}{1}{2}{3}",e,t.hasWorkingTreeChanges?"*":"",t.hasIndexChanges?"+":"",t.hasMergeChanges?"!":"")},t.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(o.EventEmitter);t.Model=u}),define(l[832],d([1,0,68,2,24]),function(e,t,i,n,o){"use strict";var r=function(){function e(){this._onOutput=new o.Emitter}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),e.prototype.getVersion=function(){return n.TPromise.as(null)},e.prototype.serviceState=function(){return n.TPromise.as(i.RawServiceState.OK)},e.prototype.statusCount=function(){return n.TPromise.as(0)},e.prototype.status=function(){return n.TPromise.as(e.STATUS)},e.prototype.init=function(){return n.TPromise.as(e.STATUS)},e.prototype.add=function(t){return n.TPromise.as(e.STATUS)},e.prototype.stage=function(t,i){return n.TPromise.as(e.STATUS)},e.prototype.branch=function(t,i){return n.TPromise.as(e.STATUS)},e.prototype.checkout=function(t,i){return n.TPromise.as(e.STATUS)},e.prototype.clean=function(t){return n.TPromise.as(e.STATUS)},e.prototype.undo=function(){return n.TPromise.as(e.STATUS)},e.prototype.reset=function(t,i){return n.TPromise.as(e.STATUS)},e.prototype.revertFiles=function(t,i){return n.TPromise.as(e.STATUS)},e.prototype.fetch=function(){return n.TPromise.as(e.STATUS)},e.prototype.pull=function(t){return n.TPromise.as(e.STATUS)},e.prototype.push=function(){return n.TPromise.as(e.STATUS)},e.prototype.sync=function(){return n.TPromise.as(e.STATUS)},e.prototype.commit=function(t,i,o){return n.TPromise.as(e.STATUS)},e.prototype.detectMimetypes=function(e,t){return n.TPromise.as([])},e.prototype.show=function(e,t){return n.TPromise.as(null)},e.STATUS={repositoryRoot:null,state:i.ServiceState.NotAWorkspace,status:[],HEAD:null,refs:[],remotes:[]},e}();t.NoOpGitService=r}),define(l[833],d([1,0,14]),function(e,t,i){"use strict";function n(e){e.sort(function(e,t){return e.originalStartLineNumber<t.originalStartLineNumber?-1:e.originalStartLineNumber>t.originalStartLineNumber?1:e.modifiedStartLineNumber<t.modifiedStartLineNumber?-1:1})}function o(e){e.sort(function(e,t){return e.getStartPosition().lineNumber<t.getStartPosition().lineNumber?-1:1})}function r(e){return e.originalEndLineNumber<=0}function s(e){return e.modifiedEndLineNumber<=0}function a(e){var t=e.getSelections(),i=l(e.getLineChanges(),t);return h(e.getModel().original,e.getModel().modified,i)}function c(e){var t=e.getSelections(),i=l(e.getLineChanges(),t).map(function(e){return{modifiedStartLineNumber:e.originalStartLineNumber,modifiedEndLineNumber:e.originalEndLineNumber,originalStartLineNumber:e.modifiedStartLineNumber,originalEndLineNumber:e.modifiedEndLineNumber}});return h(e.getModel().modified,e.getModel().original,i)}function u(e,t){var i={modifiedStartLineNumber:Math.max(e.modifiedStartLineNumber,t.startLineNumber),modifiedEndLineNumber:Math.min(e.modifiedEndLineNumber,t.endLineNumber),originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber},n=s(i)&&e.modifiedStartLineNumber>=t.startLineNumber&&e.modifiedStartLineNumber<=t.endLineNumber;return i.modifiedStartLineNumber<=i.modifiedEndLineNumber||n?i:null}function l(e,t){n(e),o(t);for(var i=[],r=0,a=-1,c=0;c<e.length;++c)for(r=Math.max(0,r-1);r<t.length&&(t[r].startLineNumber<=e[c].modifiedEndLineNumber||s(e[c]));){var l=u(e[c],t[r]);null!==l&&(a!==l.modifiedStartLineNumber?(i.push(l),a=l.modifiedEndLineNumber):(l.modifiedStartLineNumber++,l.modifiedStartLineNumber<=l.modifiedEndLineNumber&&(i.push(l),a=l.modifiedEndLineNumber))),r++}return i}function d(e,t,i){var n=e;return""!==n&&(n+=t.getEOL()),n+t.getValueInRange(i)}function h(e,t,o){n(o);for(var a="",c=1,u=0;u<o.length;++u){var l=r(o[u])?o[u].originalStartLineNumber+1:o[u].originalStartLineNumber;c<l&&(a=d(a,e,new i.Range(c,1,l-1,e.getLineMaxColumn(l-1))),c=l),s(o[u])||(a=d(a,t,new i.Range(o[u].modifiedStartLineNumber,1,o[u].modifiedEndLineNumber,t.getLineMaxColumn(o[u].modifiedEndLineNumber)))),r(o[u])||(c=o[u].originalEndLineNumber+1)}return c<=e.getLineCount()&&(a=d(a,e,new i.Range(c,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())))),a}t.stageRanges=a,t.unstageRanges=c,t.intersectChangeAndSelection=u,t.getSelectedChanges=l,t.appendValueFromRange=d,t.applyChangesToModel=h}),define(l[834],d([1,0,2,161,58,5,29,82,565,41,68,218,34,99,179]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f){"use strict";function g(e,t){void 0===t&&(t="utf8");var n=[],o=function(e,t,i){e.once(t,i),n.push(r.toDisposable(function(){return e.removeListener(t,i)}))},s=function(e,t,i){e.on(t,i),n.push(r.toDisposable(function(){return e.removeListener(t,i)}))};return i.TPromise.join([new i.TPromise(function(t,i){o(e,"error",i),o(e,"exit",t)}),new i.TPromise(function(i){var n=[];s(e.stdout,"data",function(e){return n.push(e)}),o(e.stdout,"close",function(){return i(f.decode(Buffer.concat(n),t))})}),new i.TPromise(function(i){var n=[];s(e.stderr,"data",function(e){return n.push(e)}),o(e.stderr,"close",function(){return i(f.decode(Buffer.concat(n),t))})})]).then(function(e){return r.dispose(n),{exitCode:e[0],stdout:e[1],stderr:e[2]}})}var m=function(){function e(e){e.error?(this.error=e.error,this.message=e.error.message):this.error=null,this.message=this.message||e.message||"Git error",this.stdout=e.stdout||null,this.stderr=e.stderr||null,this.exitCode=e.exitCode||null,this.gitErrorCode=e.gitErrorCode||null,this.gitCommand=e.gitCommand||null}return e.prototype.toString=function(){var e=this.message+" "+JSON.stringify({exitCode:this.exitCode,gitErrorCode:this.gitErrorCode,gitCommand:this.gitCommand,stdout:this.stdout,stderr:this.stderr},null,2);return this.error&&(e+=this.error.stack),e},e}();t.GitError=m;var v=function(){function e(e){this.gitPath=e.gitPath,this.version=e.version,this.tmpPath=e.tmpPath;var t=e.defaultEncoding||"utf8";this.defaultEncoding=f.encodingExists(t)?t:"utf8",this.env=e.env||{},this.outputListeners=[]}return e.prototype.run=function(e,t,i){return void 0===i&&(i={}),i=s.assign({cwd:e},i||{}),this.exec(t,i)},e.prototype.stream=function(e,t,i){return void 0===i&&(i={}),i=s.assign({cwd:e},i||{}),this.spawn(t,i)},e.prototype.open=function(e,t){return void 0===t&&(t={}),new y(this,e,this.defaultEncoding,t)},e.prototype.clone=function(e,t){var o=this;return this.exec(["clone",t,e]).then(function(){return!0},function(t){return new i.TPromise(function(t,i){n.del(e,o.tmpPath,function(e){return e?i(e):void t(!0)})})})},e.prototype.config=function(e,t){return this.exec(["config","--global",e,t])},e.prototype.exec=function(e,t){var n=this;void 0===t&&(t={});var o=this.spawn(e,t);return t.input&&o.stdin.end(t.input,"utf8"),g(o).then(function(o){if(o.exitCode){var r=null;return/Authentication failed/.test(o.stderr)?r=l.GitErrorCodes.AuthenticationFailed:/Not a git repository/.test(o.stderr)?r=l.GitErrorCodes.NotAGitRepository:/bad config file/.test(o.stderr)?r=l.GitErrorCodes.BadConfigFile:/cannot make pipe for command substitution|cannot create standard input pipe/.test(o.stderr)?r=l.GitErrorCodes.CantCreatePipe:/Repository not found/.test(o.stderr)?r=l.GitErrorCodes.RepositoryNotFound:/unable to access/.test(o.stderr)&&(r=l.GitErrorCodes.CantAccessRemote),t.log!==!1&&n.log(o.stderr),i.TPromise.wrapError(new m({message:"Failed to execute git",stdout:o.stdout,stderr:o.stderr,exitCode:o.exitCode,gitErrorCode:r,gitCommand:e[0]}))}return o})},e.prototype.spawn=function(e,t){if(void 0===t&&(t={}),!this.gitPath)throw new Error("git could not be found in the system.");return t||(t={}),t.stdio||t.input||(t.stdio=["ignore",null,null]),t.env=s.assign({},t.env||{}),t.env=s.assign(t.env,this.env),t.env=s.assign(t.env,{MONACO_REQUEST_GUID:a.v4().asHex(),VSCODE_GIT_REQUEST_ID:a.v4().asHex(),MONACO_GIT_COMMAND:e[0]}),t.log!==!1&&this.log("git "+e.join(" ")+"\n"),p.spawn(this.gitPath,e,t)},e.prototype.onOutput=function(e){var t=this;return this.outputListeners.push(e),function(){return t.outputListeners.splice(t.outputListeners.indexOf(e),1)}},e.prototype.log=function(e){this.outputListeners.forEach(function(t){return t(e)})},e}();t.Git=v;var y=function(){function e(e,t,i,n){void 0===n&&(n={}),this.git=e,this.repository=t,this.defaultEncoding=i,this.env=n}return Object.defineProperty(e.prototype,"version",{get:function(){return this.git.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.repository},enumerable:!0,configurable:!0}),e.prototype.run=function(e,t){return void 0===t&&(t={}),t.env=s.assign({},t.env||{}),t.env=s.assign(t.env,this.env),this.git.run(this.repository,e,t)},e.prototype.stream=function(e,t){return void 0===t&&(t={}),t.env=s.assign({},t.env||{}),t.env=s.assign(t.env,this.env),this.git.stream(this.repository,e,t)},e.prototype.spawn=function(e,t){return void 0===t&&(t={}),t.env=s.assign({},t.env||{}),t.env=s.assign(t.env,this.env),this.git.spawn(e,t)},e.prototype.init=function(){return this.run(["init"])},e.prototype.config=function(e,t,i,n){var o=["config"];return e&&o.push("--"+e),o.push(t),i&&o.push(i),this.run(o,n).then(function(e){return e.stdout})},e.prototype.show=function(e){return this.stream(["show",e])},e.prototype.buffer=function(e){var t=this,n=this.show(e);return new i.Promise(function(i,r){d.detectMimesFromStream(n.stdout,null,function(n,s){n?r(n):o.isBinaryMime(s.mimes)?r({message:c.localize(0,null),fileOperationResult:h.FileOperationResult.FILE_IS_BINARY}):i(t.doBuffer(e))})})},e.prototype.doBuffer=function(e){var t=this.show(e);return g(t,this.defaultEncoding).then(function(e){var t=e.exitCode,n=e.stdout;return t?i.TPromise.wrapError(new m({message:"Could not buffer object.",exitCode:t})):i.TPromise.as(n)})},e.prototype.add=function(e){var t=["add","-A","--"];return e&&e.length?t.push.apply(t,e):t.push("."),this.run(t)},e.prototype.stage=function(e,t){var n=this,o=this.stream(["hash-object","--stdin","-w"],{stdio:[null,null,null]});return o.stdin.end(t,"utf8"),g(o).then(function(t){var o=t.exitCode,r=t.stdout;return o?i.TPromise.wrapError(new m({message:"Could not hash object.",exitCode:o})):n.run(["update-index","--cacheinfo","100644",r,e])})},e.prototype.checkout=function(e,t){var n=["checkout","-q"];return e&&n.push(e),t&&t.length&&(n.push("--"),n.push.apply(n,t)),this.run(n).then(null,function(e){return/Please, commit your changes or stash them/.test(e.stderr)&&(e.gitErrorCode=l.GitErrorCodes.DirtyWorkTree),i.Promise.wrapError(e)})},e.prototype.commit=function(e,t,n){var o=this,r=["commit","--quiet","--allow-empty-message","--file","-"];return t&&r.push("--all"),n&&r.push("--amend"),this.run(r,{input:e||""}).then(null,function(e){return/not possible because you have unmerged files/.test(e.stderr)?(e.gitErrorCode=l.GitErrorCodes.UnmergedChanges,i.Promise.wrapError(e)):o.run(["config","--get-all","user.name"]).then(null,function(e){return e.gitErrorCode=l.GitErrorCodes.NoUserNameConfigured,i.Promise.wrapError(e)}).then(function(){return o.run(["config","--get-all","user.email"]).then(null,function(e){return e.gitErrorCode=l.GitErrorCodes.NoUserEmailConfigured,i.Promise.wrapError(e)}).then(function(){return i.Promise.wrapError(e)})})})},e.prototype.branch=function(e,t){var i=t?["checkout","-q","-b",e]:["branch","-q",e];return this.run(i)},e.prototype.clean=function(e){var t=["clean","-f","-q","--"].concat(e);return this.run(t)},e.prototype.undo=function(){var e=this;return this.run(["clean","-fd"]).then(function(){return e.run(["checkout","--","."]).then(null,function(e){return/did not match any file\(s\) known to git\./.test(e.stderr)?i.TPromise.as(null):i.Promise.wrapError(e)})})},e.prototype.reset=function(e,t){void 0===t&&(t=!1);var i=["reset"];return t&&i.push("--hard"),i.push(e),this.run(i)},e.prototype.revertFiles=function(e,t){var n=this;return this.run(["branch"]).then(function(o){var r;return r=o.stdout?["reset","-q",e,"--"]:["rm","--cached","-r","--"],t&&t.length?r.push.apply(r,t):r.push("."),n.run(r).then(null,function(e){return/([^:]+: needs merge\n)+/m.test(e.stdout)?i.TPromise.as(null):i.Promise.wrapError(e)})})},e.prototype.fetch=function(){return this.run(["fetch"]).then(null,function(e){return/No remote repository specified\./.test(e.stderr)?e.gitErrorCode=l.GitErrorCodes.NoRemoteRepositorySpecified:/Could not read from remote repository/.test(e.stderr)&&(e.gitErrorCode=l.GitErrorCodes.RemoteConnectionError),i.Promise.wrapError(e)})},e.prototype.pull=function(e){var t=["pull"];return e&&t.push("-r"),this.run(t).then(null,function(e){return/^CONFLICT \([^)]+\): \b/m.test(e.stdout)?e.gitErrorCode=l.GitErrorCodes.Conflict:/Please tell me who you are\./.test(e.stderr)?e.gitErrorCode=l.GitErrorCodes.NoUserNameConfigured:/Could not read from remote repository/.test(e.stderr)?e.gitErrorCode=l.GitErrorCodes.RemoteConnectionError:/Pull is not possible because you have unmerged files|Cannot pull with rebase: You have unstaged changes|Your local changes to the following files would be overwritten|Please, commit your changes before you can merge/.test(e.stderr)&&(e.gitErrorCode=l.GitErrorCodes.DirtyWorkTree),i.Promise.wrapError(e)})},e.prototype.push=function(e,t,n){var o=["push"];return n&&n.setUpstream&&o.push("-u"),e&&o.push(e),t&&o.push(t),this.run(o).then(null,function(e){return/^error: failed to push some refs to\b/m.test(e.stderr)?e.gitErrorCode=l.GitErrorCodes.PushRejected:/Could not read from remote repository/.test(e.stderr)&&(e.gitErrorCode=l.GitErrorCodes.RemoteConnectionError),i.Promise.wrapError(e)})},e.prototype.sync=function(){var e=this;return this.pull().then(function(){return e.push()})},e.prototype.getRoot=function(){return this.run(["rev-parse","--show-toplevel"],{log:!1}).then(function(e){return e.stdout.trim()})},e.prototype.getStatus=function(){return this.run(["status","-z","-u"],{log:!1}).then(function(e){function t(){for(var e,t=a;"\0"!==(e=r.charAt(a));)a++;return r.substring(t,a++)}for(var n,r=e.stdout,s=[],a=0;a<r.length;)n={x:r.charAt(a++),y:r.charAt(a++),path:null,mimetype:null},a++,"R"===n.x&&(n.rename=t()),n.path=t(),n.mimetype=o.guessMimeTypes(n.path)[0],"/"!==n.path[n.path.length-1]&&s.push(n);return i.TPromise.as(s)})},e.prototype.getHEAD=function(){var e=this;return this.run(["symbolic-ref","--short","HEAD"],{log:!1}).then(function(e){return e.stdout?i.TPromise.as({name:e.stdout.trim(),commit:void 0,type:l.RefType.Head}):i.TPromise.wrapError(new Error("Not in a branch"))},function(t){return e.run(["rev-parse","HEAD"],{log:!1}).then(function(e){return e.stdout?i.TPromise.as({name:void 0,commit:e.stdout.trim(),type:l.RefType.Head}):i.TPromise.wrapError(new Error("Error parsing HEAD"))})})},e.prototype.getRefs=function(){return this.run(["for-each-ref","--format","%(refname) %(objectname)"],{log:!1}).then(function(e){return e.stdout.trim().split("\n").filter(function(e){return!!e}).map(function(e){var t;return(t=/^refs\/heads\/([^ ]+) ([0-9a-f]{40})$/.exec(e))?{name:t[1],commit:t[2],type:l.RefType.Head}:(t=/^refs\/remotes\/([^\/]+)\/([^ ]+) ([0-9a-f]{40})$/.exec(e))?{name:t[1]+"/"+t[2],commit:t[3],type:l.RefType.RemoteHead,remote:t[1]}:(t=/^refs\/tags\/([^ ]+) ([0-9a-f]{40})$/.exec(e))?{name:t[1],commit:t[2],type:l.RefType.Tag}:null}).filter(function(e){return!!e})})},e.prototype.getRemotes=function(){var e=/^([^\s]+)\s+([^\s]+)\s/;return this.run(["remote","--verbose"],{log:!1}).then(function(t){return t.stdout.trim().split("\n").filter(function(e){return!!e}).map(function(t){return e.exec(t)}).filter(function(e){return!!e}).map(function(e){return{name:e[1],url:e[2]}}).filter(u.uniqueFilter(function(e){return e.name}))})},e.prototype.getBranch=function(e){var t=this;return"HEAD"===e?this.getHEAD():this.run(["rev-parse",e],{log:!1}).then(function(n){if(!n.stdout)return i.TPromise.wrapError(new Error("No such branch"));var o=n.stdout.trim();return t.run(["rev-parse","--symbolic-full-name","--abbrev-ref",e+"@{u}"],{log:!1}).then(function(i){var n=i.stdout.trim();return t.run(["rev-list","--left-right",e+"..."+n],{log:!1}).then(function(t){for(var i=0,r=0,s=0;s<t.stdout.length;){switch(t.stdout.charAt(s)){case"<":i++;break;case">":r++;break;default:s++}for(;"\n"!==t.stdout.charAt(s++););}return{name:e,commit:o,upstream:n,ahead:i,behind:r}})},function(){return{name:e,commit:o}})})},e.prototype.onOutput=function(e){return this.git.onOutput(e)},e}();t.Repository=y}),define(l[835],d([1,0,74,2,218,112,834,68,24]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function e(e){var t=this;this.repo=e;var i;this._onOutput=new c.Emitter({onFirstListenerAdd:function(){i=t.repo.onOutput(function(e){return t._onOutput.fire(e)})},onLastListenerRemove:function(){i(),i=null}})}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),e.prototype.getVersion=function(){return n.TPromise.as(this.repo.version)},e.prototype.getRepositoryRoot=function(){return this._repositoryRoot||(this._repositoryRoot=r.realpath(this.repo.path))},e.prototype.serviceState=function(){return n.TPromise.as(this.repo?a.RawServiceState.OK:a.RawServiceState.GitNotFound)},e.prototype.statusCount=function(){return this.repo?this.status().then(function(e){return e?e.status.length:0}):n.TPromise.as(0)},e.prototype.status=function(){var e=this;return this.repo.getStatus().then(function(t){return e.repo.getHEAD().then(function(t){return t.name?e.repo.getBranch(t.name).then(null,function(){return t}):t},function(){return null}).then(function(i){return n.Promise.join([e.getRepositoryRoot(),e.repo.getRefs(),e.repo.getRemotes()]).then(function(e){return{repositoryRoot:e[0],status:t,HEAD:i,refs:e[1],remotes:e[2]}})})}).then(null,function(e){return e.gitErrorCode===a.GitErrorCodes.BadConfigFile?n.Promise.wrapError(e):e.gitErrorCode===a.GitErrorCodes.NotAtRepositoryRoot?n.Promise.wrapError(e):null})},e.prototype.init=function(){var e=this;return this.repo.init().then(function(){return e.status()})},e.prototype.add=function(e){var t=this;return this.repo.add(e).then(function(){return t.status()})},e.prototype.stage=function(e,t){var i=this;return this.repo.stage(e,t).then(function(){return i.status()})},e.prototype.branch=function(e,t){var i=this;return this.repo.branch(e,t).then(function(){return i.status()})},e.prototype.checkout=function(e,t){var i=this;return this.repo.checkout(e,t).then(function(){return i.status()})},e.prototype.clean=function(e){var t=this;return this.repo.clean(e).then(function(){return t.status()})},e.prototype.undo=function(){var e=this;return this.repo.undo().then(function(){return e.status()})},e.prototype.reset=function(e,t){var i=this;return this.repo.reset(e,t).then(function(){return i.status()})},e.prototype.revertFiles=function(e,t){var i=this;return this.repo.revertFiles(e,t).then(function(){return i.status()})},e.prototype.fetch=function(){var e=this;return this.repo.fetch().then(null,function(e){return e.gitErrorCode===a.GitErrorCodes.NoRemoteRepositorySpecified?n.TPromise.as(null):n.Promise.wrapError(e)}).then(function(){return e.status()})},e.prototype.pull=function(e){var t=this;return this.repo.pull(e).then(function(){return t.status()})},e.prototype.push=function(e,t,i){var n=this;return this.repo.push(e,t,i).then(function(){return n.status()})},e.prototype.sync=function(){var e=this;return this.repo.sync().then(function(){return e.status()})},e.prototype.commit=function(e,t,i){var o=this,r=n.TPromise.as(null);return i&&(r=this.repo.add(null)),r.then(function(){return o.repo.commit(e,i,t)}).then(function(){return o.status()})},e.prototype.detectMimetypes=function(e,t){var s=this;return r.exists(i.join(this.repo.path,e)).then(function(r){if(r)return new n.TPromise(function(t,n){o.detectMimesFromFile(i.join(s.repo.path,e),function(e,i){e?n(e):t(i.mimes)})});var a=s.repo.show(t+":"+e);return new n.TPromise(function(t,i){o.detectMimesFromStream(a.stdout,e,function(e,n){e?i(e):t(n.mimes)})})})},e.prototype.show=function(e,t){return t=t&&"~"!==t?t:"",this.repo.buffer(t+":"+e).then(null,function(e){return e instanceof s.GitError?"":n.TPromise.wrapError(e)})},e}();t.RawGitService=u}),define(l[235],d([1,0,19,2,5,10,178,62]),function(e,t,i,n,o,r,s,a){"use strict";a.KeybindingsRegistry.registerCommandDesc({id:"_webview.openDevTools",when:null,weight:a.KeybindingsRegistry.WEIGHT.workbenchContrib(0),primary:null,handler:function(){for(var e=document.querySelectorAll("webview.ready"),t=0;t<e.length;t++)try{e.item(t).openDevTools()}catch(i){console.error(i)}}});var c=function(){function t(t,o,s){var a=this;this._parent=t,this._styleElement=o,this._webview=document.createElement("webview"),this._webview.style.width="100%",this._webview.style.height="100%",this._webview.style.outline="0",this._webview.style.opacity="0",this._webview.autoSize="on",this._webview.nodeintegration="on",this._webview.src=e.toUrl("./webview.html"),this._ready=new n.TPromise(function(e){var t=r.addDisposableListener(a._webview,"ipc-message",function(i){"webview-ready"===i.channel&&(r.addClass(a._webview,"ready"),t.dispose(),e(a))})}),this._disposables=[r.addDisposableListener(this._webview,"console-message",function(e){console.log("[Embedded Page] "+e.message)}),r.addDisposableListener(this._webview,"crashed",function(){console.error("embedded page crashed")}),r.addDisposableListener(this._webview,"ipc-message",function(e){if("did-click-link"===e.channel){var t=e.args[0];return void s(i["default"].parse(t))}if("did-set-content"===e.channel)return void(a._webview.style.opacity="")})],this._parent.appendChild(this._webview)}return t.prototype.dispose=function(){this._disposables=o.dispose(this._disposables),this._webview.parentElement.removeChild(this._webview)},t.prototype._send=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];this._ready.then(function(){return(n=t._webview).send.apply(n,[e].concat(i));var n}).done(void 0,console.error)},Object.defineProperty(t.prototype,"contents",{set:function(e){this._send("content",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseUrl",{set:function(e){this._send("baseUrl",e)},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._webview.focus(),this._send("focus")},t.prototype.style=function(e){var t,i=window.getComputedStyle(this._styleElement),n=i.color,o=i.backgroundColor,r=i.fontFamily,a=i.fontSize,c="\n\t\t:root {\n\t\t\t--background-color: "+o+";\n\t\t\t--color: "+n+";\n\t\t\t--font-family: "+r+";\n\t\t\t--font-size: "+a+";\n\t\t}\n\t\tbody {\n\t\t\tbackground-color: var(--background-color);\n\t\t\tcolor: var(--color);\n\t\t\tfont-family: var(--font-family);\n\t\t\tfont-size: var(--font-size);\n\t\t\tmargin: 0;\n\t\t}\n\n\t\timg {\n\t\t\tmax-width: 100%;\n\t\t\tmax-height: 100%;\n\t\t}\n\t\ta:focus,\n\t\tinput:focus,\n\t\tselect:focus,\n\t\ttextarea:focus {\n\t\t\toutline: 1px solid -webkit-focus-ring-color;\n\t\t\toutline-offset: -1px;\n\t\t}\n\t\t::-webkit-scrollbar {\n\t\t\twidth: 14px;\n\t\t\theight: 10px;\n\t\t}";s.isLightTheme(e)?(c+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.4);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.7);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\t\t}",t="vscode-light"):s.isDarkTheme(e)?(c+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(121, 121, 121, 0.4);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(100, 100, 100, 0.7);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(85, 85, 85, 0.8);\n\t\t\t}",t="vscode-dark"):(c+="\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.3);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.8);\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:active {\n\t\t\t\tbackground-color: rgba(111, 195, 223, 0.8);\n\t\t\t}",t="vscode-high-contrast"),this._send("styles",c,t)},t}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c}),define(l[234],d([1,0,130]),function(e,t,i){"use strict";var n=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getResource=function(){return this.resource},t}(i.ResourceEditorInput);t.HtmlInput=n}),define(l[233],d([1,0,25,181,30]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t,n,o){var r=this;void 0===o&&(o=null),e.call(this),this.editorService=t;var s=o?o.fsPath:n.getWorkspace().resource.fsPath;this._workspaceRoot=i.normalize(s,!0),this._execPath=n?n.getConfiguration().env.execPath:null,
Object.keys(process.env).forEach(function(e){r["env."+e]=process.env[e]})}return h(t,e),Object.defineProperty(t.prototype,"execPath",{get:function(){return this._execPath},set:function(e){this._execPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cwd",{get:function(){return this.workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"workspaceRoot",{get:function(){return this._workspaceRoot},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"file",{get:function(){return this.getFilePath()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileBasename",{get:function(){return i.basename(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileDirname",{get:function(){return i.dirname(this.getFilePath())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileExtname",{get:function(){return i.extname(this.getFilePath())},enumerable:!0,configurable:!0}),t.prototype.getFilePath=function(){var e=this.editorService.getActiveEditorInput();if(!e)return"";var t=o.asFileEditorInput(e);if(!t)return"";var n=t.getResource();return i.normalize(n.fsPath,!0)},t}(n.AbstractSystemVariables);t.SystemVariables=r}),define(l[205],d([1,0]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={MARKERS_PANEL_ID:"workbench.panel.markers"}}),define(l[184],d([1,0,568,33]),function(e,t,i,n){"use strict";var o=function(){function e(){}return e.MARKERS_PANEL_VIEW_CATEGORY=i.localize(0,null),e.MARKERS_PANEL_TOGGLE_LABEL=i.localize(1,null),e.PROBLEMS_PANEL_CONFIGURATION_TITLE=i.localize(2,null),e.PROBLEMS_PANEL_CONFIGURATION_AUTO_REVEAL=i.localize(3,null),e.MARKERS_PANEL_TITLE_NO_PROBLEMS=i.localize(4,null),e.MARKERS_PANEL_ARIA_LABEL_PROBLEMS_TREE=i.localize(5,null),e.MARKERS_PANEL_NO_PROBLEMS_BUILT=i.localize(6,null),e.MARKERS_PANEL_NO_PROBLEMS_FILTERS=i.localize(7,null),e.MARKERS_PANEL_ACTION_TOOLTIP_FILTER=i.localize(8,null),e.MARKERS_PANEL_FILTER_PLACEHOLDER=i.localize(9,null),e.MARKERS_PANEL_FILTER_ERRORS=i.localize(10,null),e.MARKERS_PANEL_FILTER_WARNINGS=i.localize(11,null),e.MARKERS_PANEL_FILTER_INFOS=i.localize(12,null),e.MARKERS_PANEL_SINGLE_ERROR_LABEL=i.localize(13,null),e.MARKERS_PANEL_MULTIPLE_ERRORS_LABEL=function(e){return i.localize(14,null,""+e)},e.MARKERS_PANEL_SINGLE_WARNING_LABEL=i.localize(15,null),e.MARKERS_PANEL_MULTIPLE_WARNINGS_LABEL=function(e){return i.localize(16,null,""+e)},e.MARKERS_PANEL_SINGLE_INFO_LABEL=i.localize(17,null),e.MARKERS_PANEL_MULTIPLE_INFOS_LABEL=function(e){return i.localize(18,null,""+e)},e.MARKERS_PANEL_SINGLE_UNKNOWN_LABEL=i.localize(19,null),e.MARKERS_PANEL_MULTIPLE_UNKNOWNS_LABEL=function(e){return i.localize(20,null,""+e)},e.MARKERS_PANEL_AT_LINE_COL_NUMBER=function(e,t){return i.localize(21,null,""+e,""+t)},e.PROBLEMS_TREE_ARIA_LABEL_RESOURCE=function(e,t){return i.localize(22,null,e,t)},e.PROBLEMS_TREE_ARIA_LABEL_MARKER=function(e){switch(e.severity){case n["default"].Error:return e.source?i.localize(23,null,e.source,e.message,e.startLineNumber,e.startColumn):i.localize(24,null,e.message,e.startLineNumber,e.startColumn);case n["default"].Warning:return e.source?i.localize(25,null,e.source,e.message,e.startLineNumber,e.startColumn):i.localize(26,null,e.message,e.startLineNumber,e.startColumn);case n["default"].Info:return e.source?i.localize(27,null,e.source,e.message,e.startLineNumber,e.startColumn):i.localize(28,null,e.message,e.startLineNumber,e.startColumn);default:return e.source?i.localize(29,null,e.source,e.message,e.startLineNumber,e.startColumn):i.localize(30,null,e.message,e.startLineNumber,e.startColumn)}},e.SHOW_ERRORS_WARNINGS_ACTION_LABEL=i.localize(31,null),e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o}),define(l[841],d([1,0,9,25,17,158,33,19,14,89,184]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(){function e(e,t,i,o){void 0===o&&(o=[]),this.uri=e,this.markers=t,this.statistics=i,this.matches=o,this.path=e.fsPath,this.name=n.basename(e.fsPath)}return e}();t.Resource=d;var h=function(){function e(e,t,i,n){void 0===i&&(i=[]),void 0===n&&(n=[]),this.id=e,this.marker=t,this.labelMatches=i,this.sourceMatches=n}return e}();t.Marker=h;var p=function(){function e(e){void 0===e&&(e=""),this._filterErrors=!1,this._filterWarnings=!1,this._filterInfos=!1,this._filter="",this._completeFilter="",e&&this.parse(e)}return Object.defineProperty(e.prototype,"filterErrors",{get:function(){return this._filterErrors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterWarnings",{get:function(){return this._filterWarnings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterInfos",{get:function(){return this._filterInfos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"completeFilter",{get:function(){return this._completeFilter},enumerable:!0,configurable:!0}),e.prototype.hasFilters=function(){return!!this._filter},e.prototype.parse=function(e){this._completeFilter=e,this._filter=e.trim(),this._filterErrors=this.matches(this._filter,l["default"].MARKERS_PANEL_FILTER_ERRORS),this._filterWarnings=this.matches(this._filter,l["default"].MARKERS_PANEL_FILTER_WARNINGS),this._filterInfos=this.matches(this._filter,l["default"].MARKERS_PANEL_FILTER_INFOS)},e.prototype.matches=function(e,t){var i=u.matchesPrefix(e,t);return i&&i.length>0},e._filter=u.or(u.matchesPrefix,u.matchesContiguousSubString),e._fuzzyFilter=u.or(u.matchesPrefix,u.matchesContiguousSubString,u.matchesFuzzy),e}();t.FilterOptions=p;var f=function(){function e(e){void 0===e&&(e=[]),this.markersByResource=new r.SimpleMap,this._filterOptions=new p,this.update(e)}return Object.defineProperty(e.prototype,"filterOptions",{get:function(){return this._filterOptions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filteredResources",{get:function(){return this._filteredResources},enumerable:!0,configurable:!0}),e.prototype.hasFilteredResources=function(){return this.filteredResources.length>0},e.prototype.hasResources=function(){return this.markersByResource.size>0},e.prototype.hasResource=function(e){return this.markersByResource.has(e)},Object.defineProperty(e.prototype,"nonFilteredResources",{get:function(){return this._nonFilteredResources},enumerable:!0,configurable:!0}),e.prototype.update=function(e,t){e instanceof p&&(this._filterOptions=e),e instanceof a["default"]&&this.updateResource(e,t),o.isArray(e)&&this.updateMarkers(e),this.refresh()},e.prototype.refresh=function(){this.refreshResources()},e.prototype.refreshResources=function(){var e=this.markersByResource.entries().map(this.toFilteredResource.bind(this));this._nonFilteredResources=e.filter(function(e){return 0===e.markers.length}),this._filteredResources=e.filter(function(e){return e.markers.length>0}),this._filteredResources.sort(function(e,t){return 0===e.statistics.errors&&t.statistics.errors>0?1:0===t.statistics.errors&&e.statistics.errors>0?-1:i.localeCompare(e.path,t.path)||i.localeCompare(e.name,t.name)})},e.prototype.updateResource=function(e,t){this.markersByResource.has(e)&&this.markersByResource["delete"](e),t.length>0&&this.markersByResource.set(e,t)},e.prototype.updateMarkers=function(e){var t=this;e.forEach(function(e){var i=e.resource,n=t.markersByResource.get(i);n||(n=[],t.markersByResource.set(i,n)),n.push(e)})},e.prototype.toFilteredResource=function(e){var t=this,i=e.value.filter(this.filterMarker.bind(this)).map(function(e,i){return t.toMarker(e,i)});i.sort(this.compareMarkers.bind(this));var o=p._filter(this._filterOptions.filter,n.basename(e.key.fsPath));return new d(e.key,i,this.getStatistics(e.value),o||[])},e.prototype.toMarker=function(e,t){var i=p._fuzzyFilter(this._filterOptions.filter,e.message),n=e.source?p._filter(this._filterOptions.filter,e.source):[];return new h(e.resource.toString()+t,e,i||[],n||[])},e.prototype.filterMarker=function(e){return!this._filterOptions.filter||(!(!this._filterOptions.filterErrors||s["default"].Error!==e.severity)||(!(!this._filterOptions.filterWarnings||s["default"].Warning!==e.severity)||(!(!this._filterOptions.filterInfos||s["default"].Info!==e.severity)||(!!p._fuzzyFilter(this._filterOptions.filter,e.message)||(!!p._filter(this._filterOptions.filter,n.basename(e.resource.fsPath))||!(!e.source||!p._filter(this._filterOptions.filter,e.source)))))))},e.prototype.compareMarkers=function(e,t){return c.Range.compareRangesUsingStarts({startLineNumber:e.marker.startLineNumber,startColumn:e.marker.startColumn,endLineNumber:e.marker.endLineNumber,endColumn:e.marker.endColumn},{startLineNumber:t.marker.startLineNumber,startColumn:t.marker.startColumn,endLineNumber:t.marker.endLineNumber,endColumn:t.marker.endColumn})},e.prototype.getStatistics=function(e){var t=0,i=0,n=0,o=0;return e.forEach(function(e){switch(e.severity){case s["default"].Error:return void t++;case s["default"].Warning:return void i++;case s["default"].Info:return void n++;default:return void o++}}),{errors:t,warnings:i,infos:n,unknwons:o}},e.prototype.dispose=function(){this.markersByResource.clear(),this._filteredResources=[],this._nonFilteredResources=[]},e.prototype.getTitle=function(t){var i=e.getStatisticsLabel(t);return i?i:l["default"].MARKERS_PANEL_TITLE_NO_PROBLEMS},e.prototype.getMessage=function(){return this.hasFilteredResources()?"":this.hasResources()&&this._filterOptions.hasFilters()?l["default"].MARKERS_PANEL_NO_PROBLEMS_FILTERS:l["default"].MARKERS_PANEL_NO_PROBLEMS_BUILT},e.getStatisticsLabel=function(e,t){void 0===t&&(t=!1);var i=this.getLabel("",e.errors,l["default"].MARKERS_PANEL_SINGLE_ERROR_LABEL,l["default"].MARKERS_PANEL_MULTIPLE_ERRORS_LABEL);return t||(i=this.getLabel(i,e.warnings,l["default"].MARKERS_PANEL_SINGLE_WARNING_LABEL,l["default"].MARKERS_PANEL_MULTIPLE_WARNINGS_LABEL),i=this.getLabel(i,e.infos,l["default"].MARKERS_PANEL_SINGLE_INFO_LABEL,l["default"].MARKERS_PANEL_MULTIPLE_INFOS_LABEL),i=this.getLabel(i,e.unknwons,l["default"].MARKERS_PANEL_SINGLE_UNKNOWN_LABEL,l["default"].MARKERS_PANEL_MULTIPLE_UNKNOWNS_LABEL)),i},e.getLabel=function(e,t,i,n){return t<=0?e:(e=e?e+", ":"",e+=1===t?i:n(t))},e}();t.MarkersModel=f}),define(l[86],d([1,0,15,6]),function(e,t,i,n){"use strict";t.OUTPUT_MIME="text/x-code-output",t.OUTPUT_MODE_ID="Log",t.OUTPUT_EDITOR_INPUT_ID="vs.output",t.OUTPUT_PANEL_ID="workbench.panel.output",t.Extensions={OutputChannels:"workbench.contributions.outputChannels"},t.OUTPUT_SERVICE_ID="outputService",t.MAX_OUTPUT_LENGTH=1e6,t.IOutputService=n.createDecorator(t.OUTPUT_SERVICE_ID);var o=function(){function e(){this.channels=[]}return e.prototype.registerChannel=function(e,t){this.channels.every(function(t){return t.id!==e})&&this.channels.push({id:e,label:t})},e.prototype.getChannels=function(){return this.channels},e}();i.Registry.add(t.Extensions.OutputChannels,new o)}),define(l[843],d([1,0,517,99,102,223,24,12,29,27,7,2,33,251,18,21,101,796,86,111,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";var w=function(e){function t(t,i,n,o,r,a){e.call(this),this.debugServerPort=t,this.adapter=i,this.customTelemetryService=n,this.messageService=o,this.telemetryService=r,this.outputService=a,this.socket=null,this.emittedStopped=!1,this.readyForBreakpoints=!1,this.sentPromises=[],this._onDidInitialize=new s.Emitter,this._onDidStop=new s.Emitter,this._onDidTerminateDebugee=new s.Emitter,this._onDidExitAdapter=new s.Emitter,this._onDidThread=new s.Emitter,this._onDidOutput=new s.Emitter,this._onDidBreakpoint=new s.Emitter,this._onDidEvent=new s.Emitter}return h(t,e),Object.defineProperty(t.prototype,"onDidInitialize",{get:function(){return this._onDidInitialize.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidStop",{get:function(){return this._onDidStop.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidTerminateDebugee",{get:function(){return this._onDidTerminateDebugee.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidExitAdapter",{get:function(){return this._onDidExitAdapter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidThread",{get:function(){return this._onDidThread.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidOutput",{get:function(){return this._onDidOutput.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidBreakpoint",{get:function(){return this._onDidBreakpoint.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidEvent",{get:function(){return this._onDidEvent.event},enumerable:!0,configurable:!0}),t.prototype.initServer=function(){var e=this;if(this.cachedInitServer)return this.cachedInitServer;var t=this.debugServerPort?this.connectServer(this.debugServerPort):this.startServer();return this.cachedInitServer=t.then(function(){e.startTime=(new Date).getTime()},function(t){return e.cachedInitServer=null,d.TPromise.wrapError(t)}),this.cachedInitServer},t.prototype.custom=function(e,t){return this.send(e,t)},t.prototype.send=function(t,n){var o=this;return this.initServer().then(function(){var r=e.prototype.send.call(o,t,n).then(function(e){return e},function(e){var t=e.body?e.body.error:null,n=t?E.formatPII(t.format,!1,t.variables):e.message;if(t&&t.sendTelemetry&&(o.telemetryService.publicLog("debugProtocolErrorResponse",{error:n}),o.customTelemetryService&&o.customTelemetryService.publicLog("debugProtocolErrorResponse",{error:n})),t&&t.showUser===!1)return d.TPromise.as(null);if(t&&t.url){var r=t.urlLabel?t.urlLabel:i.localize(0,null);return d.TPromise.wrapError(l.create(n,{actions:[v.CloseAction,new u.Action("debug.moreInfo",r,null,(!0),function(){return C.shell.openExternal(t.url),d.TPromise.as(null)})]}))}return d.TPromise.wrapError(new Error(n))});return o.sentPromises.push(r),r})},t.prototype.onEvent=function(e){e.body?e.body.sessionId=this.getId():e.body={sessionId:this.getId()},"initialized"===e.event?(this.readyForBreakpoints=!0,this._onDidInitialize.fire(e)):"stopped"===e.event?(this.emittedStopped=!0,this._onDidStop.fire(e)):"thread"===e.event?this._onDidThread.fire(e):"output"===e.event?this._onDidOutput.fire(e):"breakpoint"===e.event?this._onDidBreakpoint.fire(e):"terminated"===e.event?this._onDidTerminateDebugee.fire(e):"exit"===e.event&&this._onDidExitAdapter.fire(e),this._onDidEvent.fire(e)},Object.defineProperty(t.prototype,"configuration",{get:function(){return{type:this.adapter.type,isAttach:this.isAttach,capabilities:this.capabilities||{}}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){var t=this;return this.send("initialize",e).then(function(e){return t.readCapabilities(e)})},t.prototype.readCapabilities=function(e){return this.capabilities=c.mixin(this.capabilities,e.body),e},t.prototype.launch=function(e){var t=this;return this.isAttach=!1,this.send("launch",e).then(function(e){return t.readCapabilities(e)})},t.prototype.attach=function(e){var t=this;return this.isAttach=!0,this.send("attach",e).then(function(e){return t.readCapabilities(e)})},t.prototype.next=function(e){return this.send("next",e)},t.prototype.stepIn=function(e){return this.send("stepIn",e)},t.prototype.stepOut=function(e){return this.send("stepOut",e)},t.prototype.stepBack=function(e){return this.send("stepBack",e)},t.prototype["continue"]=function(e){return this.send("continue",e)},t.prototype.pause=function(e){return this.send("pause",e)},t.prototype.setVarialbe=function(e){return this.send("setVariable",e)},t.prototype.disconnect=function(e,t){var i=this;return void 0===e&&(e=!1),void 0===t&&(t=!1),this.stopServerPending&&t?this.stopServer():(setTimeout(function(){i.sentPromises.forEach(function(e){return e.cancel()}),i.sentPromises=[]},1e3),!this.serverProcess&&!this.socket||this.stopServerPending?d.TPromise.as(null):(this.stopServerPending=!0,this.restarted=e,this.send("disconnect",{restart:e}).then(function(){return i.stopServer()},function(){return i.stopServer()})))},t.prototype.setBreakpoints=function(e){return this.send("setBreakpoints",e)},t.prototype.setFunctionBreakpoints=function(e){return this.send("setFunctionBreakpoints",e)},t.prototype.setExceptionBreakpoints=function(e){return this.send("setExceptionBreakpoints",e)},t.prototype.configurationDone=function(){return this.send("configurationDone",null)},t.prototype.stackTrace=function(e){return this.send("stackTrace",e)},t.prototype.scopes=function(e){return this.send("scopes",e)},t.prototype.variables=function(e){return this.send("variables",e)},t.prototype.source=function(e){return this.send("source",e)},t.prototype.threads=function(){return this.send("threads",null)},t.prototype.evaluate=function(e){return this.send("evaluate",e)},t.prototype.getLengthInSeconds=function(){return((new Date).getTime()-this.startTime)/1e3},t.prototype.connectServer=function(e){var t=this;return new d.TPromise(function(i,n){t.socket=r.createConnection(e,"127.0.0.1",function(){t.connect(t.socket,t.socket),i(null)}),t.socket.on("error",function(e){n(e)}),t.socket.on("close",function(){return t.onServerExit()})})},t.prototype.startServer=function(){var e=this;return this.adapter.program?this.getLaunchDetails().then(function(t){return e.launchServer(t).then(function(){e.serverProcess.on("error",function(t){return e.onServerError(t)}),e.serverProcess.on("exit",function(t,i){return e.onServerExit()});var t=function(e){return e.toString().replace(/\r?\n$/gm,"")};e.serverProcess.stderr.on("data",function(i){e.outputService.getChannel(_.ExtensionsChannelId).append(t(i))}),e.connect(e.serverProcess.stdout,e.serverProcess.stdin)})}):d.TPromise.wrapError(new Error(i.localize(1,null,this.adapter.type)))},t.prototype.launchServer=function(e){var t=this;return new d.TPromise(function(o,r){"node"===e.command?f.fork(e.argv[0],e.argv.slice(1),{},function(n,s){n&&r(new Error(i.localize(2,null,e.argv[0]))),t.serverProcess=s,o(null)}):(t.serverProcess=n.spawn(e.command,e.argv,{stdio:["pipe","pipe","pipe"]}),o(null))})},t.prototype.stopServer=function(){var e=this;if(null!==this.socket&&(this.socket.end(),this.cachedInitServer=null,this.onEvent({event:"exit",type:"event",seq:0})),!this.serverProcess)return d.TPromise.as(null);this.stopServerPending=!0;var t;return a.isWindows?t=new d.TPromise(function(t,i){var o=n.exec("taskkill /F /T /PID "+e.serverProcess.pid,function(e,t,n){if(e)return i(e)});o.on("exit",t),o.on("error",i)}):(this.serverProcess.kill("SIGTERM"),t=d.TPromise.as(null)),t},t.prototype.getLaunchDetails=function(){var e=this;return new d.TPromise(function(t,n){o.exists(e.adapter.program,function(o){o?t(null):n(new Error(i.localize(3,null,e.adapter.program)))})}).then(function(){return e.adapter.runtime?{command:e.adapter.runtime,argv:(e.adapter.runtimeArgs||[]).concat([e.adapter.program]).concat(e.adapter.args||[])}:{command:e.adapter.program,argv:e.adapter.args||[]}})},t.prototype.onServerError=function(e){this.messageService.show(p["default"].Error,i.localize(4,null,e.message)),this.stopServer().done(null,l.onUnexpectedError)},t.prototype.onServerExit=function(){this.serverProcess=null,this.cachedInitServer=null,this.stopServerPending||this.messageService.show(p["default"].Error,i.localize(5,null)),this.onEvent({event:"exit",type:"event",seq:0})},t.prototype.dispose=function(){this.disconnect().done(null,l.onUnexpectedError)},t=g([m(3,v.IMessageService),m(4,y.ITelemetryService),m(5,b.IOutputService)],t)}(S.V8Protocol);t.RawDebugSession=w}),define(l[844],d([1,0,5,68,86]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t){var i=this;this.gitService=e,this.outputService=t;var o=e.addListener2(n.ServiceEvents.OPERATION_START,function(){i.outputListener=i.gitService.onOutput(function(e){return i.onOutput(e)}),o.dispose()})}return e.prototype.getId=function(){return e.ID},e.prototype.onOutput=function(e){this.outputService.getChannel("Git").append(e)},e.prototype.dispose=function(){this.outputListener=i.dispose(this.outputListener)},e.ID="vs.git.output",e=g([m(0,n.IGitService),m(1,o.IOutputService)],e)}();t.GitOutput=r}),define(l[306],d([1,0]),function(e,t){"use strict";t.VIEWLET_ID="workbench.view.search"}),define(l[208],d([1,0,6]),function(e,t,i){"use strict";t.IReplaceService=i.createDecorator("replaceService")}),define(l[847],d([1,0,2,7,26]),function(e,t,i,n,o){"use strict";function r(e){var t=s.all().map(function(t){return t.getNavigateToItems(e).then(function(e){return e},n.onUnexpectedError)});return i.TPromise.join(t).then(function(e){for(var t=[],i=0,n=e;i<n.length;i++){var o=n[i];Array.isArray(o)&&t.push.apply(t,o)}return t})}var s;!function(e){function t(e){return e&&n.push(e),{dispose:function(){if(e){var t=n.indexOf(e);t>=0&&(n.splice(t,1),e=void 0)}}}}function i(){return n.slice(0)}var n=[];e.register=t,e.all=i}(s=t.NavigateTypesSupportRegistry||(t.NavigateTypesSupportRegistry={})),t.getNavigateToItems=r,o.CommonEditorRegistry.registerLanguageCommand("_executeWorkspaceSymbolProvider",function(e,t){var i=t.query;if("string"!=typeof i)throw n.illegalArgument();return r(i)})}),define(l[299],d([1,0,16,9,259,25,5,78,36,11,14,38]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(){function e(e,t,i,n,o){this._parent=e,this._lineText=t,this._id=e.id()+">"+i+">"+n,this._range=new l.Range(1+i,1+n,1+i,1+n+o)}return e.prototype.id=function(){return this._id},e.prototype.parent=function(){return this._parent},e.prototype.text=function(){return this._lineText},e.prototype.range=function(){return this._range},e.prototype.preview=function(){var e=this._lineText.substring(0,this._range.startColumn-1),t=this._lineText.substring(this._range.startColumn-1,this._range.endColumn-1),i=this._lineText.substring(this._range.endColumn-1,Math.min(this._range.endColumn+150,this._lineText.length));return e=n.lcut(e,26),{before:e,inside:t,after:i}},e}();t.Match=p;var f=function(e){function t(t){e.call(this,t,null,Date.now(),Date.now(),Date.now())}return h(t,e),t}(p);t.EmptyMatch=f;var v=function(e){function t(t,i){e.call(this),this._resource=i,this._parent=t,this._matches=Object.create(null),this._removedMatches=new o.ArraySet}return h(t,e),t.prototype.dispose=function(){this.emit("disposed",this)},t.prototype.id=function(){return this.resource().toString()},t.prototype.parent=function(){return this._parent},t.prototype.add=function(e){this._matches[e.id()]=e,this.emit("changed",this)},t.prototype.remove=function(e,t){void 0===t&&(t=!0),delete this._matches[e.id()],t&&this._removedMatches.set(e.id()),0===this.count()&&this.add(new f(this)),this.emit("changed",this)},t.prototype.matches=function(){return a.values(this._matches)},t.prototype.count=function(){var e=0;for(var t in this._matches)this._matches[t]instanceof f||(e+=1);return e},t.prototype.resource=function(){return this._resource},t.prototype.name=function(){return r.basename(this.resource().fsPath)},t}(c.EventEmitter);t.FileMatch=v;var y=function(e){function t(t,n,o,r,s){var a=this;e.call(this,t,n),this._modelDecorations=[],this._unbind=[],this._query=o,this._model=r,this._diskFileMatch=s,this._removedMatches=s._removedMatches,this._updateScheduler=new i.RunOnceScheduler(this._updateMatches.bind(this),250),this._unbind.push(this._model.onDidChangeContent(function(e){return a._updateScheduler.schedule()})),this._updateMatches()}return h(t,e),t.prototype.dispose=function(){this._unbind=s.dispose(this._unbind),this._isTextModelDisposed()||this._model.deltaDecorations(this._modelDecorations,[]),e.prototype.dispose.call(this)},t.prototype._updateMatches=function(){var e=this;if(!this._isTextModelDisposed()){this._matches=Object.create(null);var t=this._model.findMatches(this._query.pattern,this._model.getFullModelRange(),this._query.isRegExp,this._query.isCaseSensitive,this._query.isWordMatch);t.forEach(function(t){var i=new p(e,e._model.getLineContent(t.startLineNumber),t.startLineNumber-1,t.startColumn-1,t.endColumn-t.startColumn);e._removedMatches.contains(i.id())||e.add(i)}),0===this.count()&&this.add(new f(this)),this.parent().emit("changed",this),this.updateHighlights()}},t.prototype.updateHighlights=function(){this._model.isDisposed()||(this.parent()._showHighlights?this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,this.matches().filter(function(e){return!(e instanceof f)}).map(function(e){return{range:e.range(),options:t.DecorationOption}})):this._modelDecorations=this._model.deltaDecorations(this._modelDecorations,[]))},t.prototype._isTextModelDisposed=function(){return!this._model||this._model.isDisposed()},t.prototype.remove=function(t,i){void 0===i&&(i=!0),e.prototype.remove.call(this,t,i),this._diskFileMatch.remove(t,i)},t.DecorationOption={stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",overviewRuler:{color:"rgba(246, 185, 77, 0.7)",darkColor:"rgba(246, 185, 77, 0.7)",position:u.OverviewRulerLane.Center}},t}(v);t.LiveFileMatch=y;var E=function(e){function t(t,i){e.call(this),this._replace=null,this._disposables=[],this._matches=Object.create(null),this._modelService=i,this._query=t,this._query&&(this._modelService.onModelAdded(this._onModelAdded,this,this._disposables),this._modelService.onModelRemoved(this._onModelRemoved,this,this._disposables))}return h(t,e),t.prototype.isReplaceActive=function(){return null!==this.replaceText&&void 0!==this.replaceText},Object.defineProperty(t.prototype,"replaceText",{get:function(){return this._replace},set:function(e){this._replace=e},enumerable:!0,configurable:!0}),t.prototype.hasReplaceText=function(){return this.isReplaceActive()&&!!this.replaceText},t.prototype._onModelAdded=function(e){var t=e.uri,i=this._matches[t.toString()];if(i){var n=new y(this,t,this._query,e,i);n.updateHighlights(),this._matches[t.toString()]=n,this.emit("changed",this)}},t.prototype._onModelRemoved=function(e){var t=this,i=e.uri,n=this._matches[i.toString()];n instanceof y&&this.deferredEmit(function(){t.remove(n),t._matches[i.toString()]=n._diskFileMatch})},t.prototype.append=function(e){var t=this;e.forEach(function(e){var i=t._getOrAdd(e);i instanceof y&&(i=i._diskFileMatch),e.lineMatches.forEach(function(e){e.offsetAndLengths.forEach(function(t){var n=new p(i,e.preview,e.lineNumber,t[0],t[1]);i.add(n)})})})},t.prototype._getOrAdd=function(e){var t=this;return a.lookupOrInsert(this._matches,e.resource.toString(),function(){var i=t._modelService.getModel(e.resource),n=new v(t,e.resource);return i&&t._query&&(n=new y(t,e.resource,t._query,i,n)),n})},t.prototype.remove=function(e){delete this._matches[e.resource().toString()],e.dispose(),this.emit("changed",this)},t.prototype.matches=function(){return a.values(this._matches)},t.prototype.isEmpty=function(){return 0===this.fileCount()},t.prototype.fileCount=function(){return Object.keys(this._matches).length},t.prototype.count=function(){return this.matches().reduce(function(e,t){return e+t.count()},0)},t.prototype.toggleHighlights=function(e){if(this._showHighlights!==e){this._showHighlights=e;for(var t in this._matches){var i=this._matches[t];i instanceof y&&i.updateHighlights()}}},t.prototype.dispose=function(){this._disposables=s.dispose(this._disposables),s.dispose(this.matches()),e.prototype.dispose.call(this)},t=g([m(1,d.IModelService)],t)}(c.EventEmitter);t.SearchResult=E}),define(l[849],d([1,0,577,2,19,98,158,208,56,38,28,299,188,88]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";var f=function(){function e(e,t,i){this.replaceService=e,this.editorService=t,this.modelService=i,this.cache=new s.SimpleMap,this.replaceTextcache=new s.SimpleMap}return e.prototype.getInput=function(e,t){var i=this,n=this.cache.get(e.resource());return n||(n=this.createInput(e),this.cache.set(e.resource(),n),this.refreshInput(e,t,!0),e.addListener2("disposed",function(e){return i.disposeInput(e)}),e.addListener2("changed",function(e){return i.refreshInput(e,i.replaceTextcache.get(e.resource()),!1)})),n},e.prototype.refreshInput=function(e,t,i){var n=this;void 0===i&&(i=!1);var o=this.cache.get(e.resource());o&&o.done(function(){if(i)n.editorService.resolveEditorModel({resource:e.resource()}).then(function(i){var o=n.getReplaceResource(e.resource());n.modelService.getModel(o).setValue(i.textEditorModel.getValue()),n.replaceService.replace(e,t,null,o)});else{var o=n.getReplaceResource(e.resource());n.modelService.getModel(o).undo(),n.replaceService.replace(e,t,null,o)}n.replaceTextcache.set(e.resource(),t)})},e.prototype.disposeInput=function(e){var t=this,i=e instanceof o["default"]?e:e instanceof d.FileMatch?e.resource():null;if(i){var n=this.cache.get(i);n&&n.done(function(e){t.disposeReplaceInput(t.getReplaceResource(i),e),t.cache["delete"](i),t.replaceTextcache["delete"](i)})}},e.prototype.disposeAll=function(){var e=this;this.cache.keys().forEach(function(t){return e.disposeInput(t)})},e.prototype.createInput=function(e){return n.TPromise.join([this.createLeftInput(e),this.createRightInput(e)]).then(function(t){var n=t[0],o=t[1],r=new p.DiffEditorInput(i.localize(0,null,e.name(),e.name()),(void 0),n,o);return r})},e.prototype.createLeftInput=function(e){return this.editorService.createInput({resource:e.resource()})},e.prototype.createRightInput=function(e){var t=this;return new n.TPromise(function(i,n,o){t.editorService.resolveEditorModel({resource:e.resource()}).then(function(n){var o=n.textEditorModel,r=t.getReplaceResource(e.resource());t.modelService.createModel(o.getValue(),o.getMode(),r),i(t.editorService.createInput({resource:r}))})})},e.prototype.disposeReplaceInput=function(e,t){t.dispose(),this.modelService.destroyModel(e)},e.prototype.getReplaceResource=function(e){return e["with"]({scheme:r.Schemas.internal,fragment:"preview"})},e}(),v=function(){function e(e,t,i){this.eventService=e,this.editorService=t,this.modelService=i,this.serviceId=a.IReplaceService,this.cache=new f(this,t,i)}return e.prototype.replace=function(e,t,i,n){var o=this;void 0===i&&(i=null),void 0===n&&(n=null);var r=h.createBulkEdit(this.eventService,this.editorService,null);return r.progress(i),e instanceof d.Match&&r.add([this.createEdit(e,t,n)]),e instanceof d.FileMatch&&(e=[e]),e instanceof Array&&e.forEach(function(e){var i=e;i.count()>0&&i.matches().forEach(function(e){r.add([o.createEdit(e,t,n)])})}),r.finish()},e.prototype.getInput=function(e,t){return this.cache.getInput(e,t)},e.prototype.refreshInput=function(e,t,i){void 0===i&&(i=!1),this.cache.refreshInput(e,t,i)},e.prototype.disposeAllInputs=function(){this.cache.disposeAll()},e.prototype.createEdit=function(e,t,i){void 0===i&&(i=null);var n=e.parent(),o={resource:null!==i?i:n.resource(),range:e.range(),newText:t};return o},e=g([m(0,l.IEventService),m(1,c.IEditorService),m(2,u.IModelService)],e)}();t.ReplaceService=v}),define(l[850],d([1,0,96,208,849]),function(e,t,i,n,o){"use strict";function r(){i.registerSingleton(n.IReplaceService,o.ReplaceService)}t.registerContributions=r}),define(l[851],d([1,0,25,16,2,161,5,315,34,72,32,102]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function h(e){return new o.TPromise(function(t,i,n){r.readdir(e,function(e,n){return e?i(e):void t(n)})})}function p(e){return new o.TPromise(function(t,i,n){d.stat(e,function(e,i){return e?t(!1):i.isFile()?t(!0):void t(!1)})})}function f(e,t){return void 0===t&&(t=null),h(e).then(function(n){return o.TPromise.join(n.map(function(n){return t&&!t.test(n)?o.TPromise.as(null):p(i.join(e,n)).then(function(e){return e?n:null})})).then(function(e){return e.filter(function(e){return null!==e})})})}var v=function(){function e(t,o,r){var s=this;this.fileService=t,this.lifecycleService=o,this.snippetFolder=i.join(r.getConfiguration().env.appSettingsHome,"snippets"),this.toDispose=[],this.fileWatchDelayer=new n.ThrottledDelayer(e.FILE_WATCH_DELAY),d.existsSync(this.snippetFolder)||d.mkdirSync(this.snippetFolder),this.scanUserSnippets().then(function(e){s.registerListeners()})}return e.prototype.registerListeners=function(){
var e=this,t=new n.RunOnceScheduler(function(){e.scanUserSnippets()},500);this.toDispose.push(t);try{this.watcher=d.watch(this.snippetFolder),this.watcher.on("change",function(i){return"delete"===i?void e.unregisterListener():void t.schedule()})}catch(i){}this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.scanUserSnippets=function(){var e=this;return f(this.snippetFolder,/\.json$/).then(function(t){return o.TPromise.join(t.map(function(t){var n=t.replace(/\.json$/,"").toLowerCase(),o=i.join(e.snippetFolder,t);return a.snippetUpdated(n,o)}))})},e.prototype.unregisterListener=function(){this.watcher&&(this.watcher.close(),this.watcher=null)},e.prototype.getId=function(){return"vs.snippets.snippetsTracker"},e.prototype.dispose=function(){this.unregisterListener(),this.toDispose=s.dispose(this.toDispose)},e.FILE_WATCH_DELAY=200,e=g([m(0,c.IFileService),m(1,u.ILifecycleService),m(2,l.IWorkspaceContextService)],e)}();t.SnippetsTracker=v}),define(l[852],d([1,0,36,294]),function(e,t,i,n){"use strict";var o;!function(e){e.WatchingBeginDetected="watchingBeginDetected",e.WatchingEndDetected="watchingEndDetected"}(o=t.ProblemCollectorEvents||(t.ProblemCollectorEvents={}));var r=function(e){function t(t,i){var o=this;e.call(this),this.modelService=i,this.matchers=Object.create(null),this.bufferLength=1,t.map(function(e){return n.createLineMatcher(e)}).forEach(function(e){var t=e.matchLength;t>o.bufferLength&&(o.bufferLength=t);var i=o.matchers[t];i||(i=[],o.matchers[t]=i),i.push(e)}),this.buffer=[],this.activeMatcher=null,this.openModels=Object.create(null),this.modelListeners=[],this.modelService.onModelAdded(function(e){o.openModels[e.uri.toString()]=!0},this,this.modelListeners),this.modelService.onModelRemoved(function(e){delete o.openModels[e.uri.toString()]},this,this.modelListeners),this.modelService.getModels().forEach(function(e){return o.openModels[e.uri.toString()]=!0})}return h(t,e),t.prototype.dispose=function(){this.modelListeners.forEach(function(e){return e.dispose()})},Object.defineProperty(t.prototype,"numberOfMatches",{get:function(){return this._numberOfMatches},enumerable:!0,configurable:!0}),t.prototype.tryFindMarker=function(e){var t=null;if(this.activeMatcher){if(t=this.activeMatcher.next(e))return this._numberOfMatches++,t;this.clearBuffer(),this.activeMatcher=null}if(this.buffer.length<this.bufferLength)this.buffer.push(e);else{for(var i=this.buffer.length-1,n=0;n<i;n++)this.buffer[n]=this.buffer[n+1];this.buffer[i]=e}return t=this.tryMatchers(),t&&this.clearBuffer(),t},t.prototype.isOpen=function(e){return!!this.openModels[e.toString()]},t.prototype.shouldApplyMatch=function(e){switch(e.description.applyTo){case n.ApplyToKind.allDocuments:return!0;case n.ApplyToKind.openDocuments:return this.openModels[e.resource.toString()];case n.ApplyToKind.closedDocuments:return!this.openModels[e.resource.toString()];default:return!0}},t.prototype.tryMatchers=function(){this.activeMatcher=null;for(var e=this.buffer.length,t=0;t<e;t++){var i=this.matchers[e-t];if(i)for(var n=0;n<i.length;n++){var o=i[n],r=o.handle(this.buffer,t);if(r.match)return this._numberOfMatches++,r["continue"]&&(this.activeMatcher=o),r.match}}return null},t.prototype.clearBuffer=function(){this.buffer.length>0&&(this.buffer=[])},t}(i.EventEmitter);t.AbstractProblemCollector=r,function(e){e[e.Clean=0]="Clean"}(t.ProblemHandlingStrategy||(t.ProblemHandlingStrategy={}));var s=t.ProblemHandlingStrategy,a=function(e){function t(t,i,n,o){var r=this;void 0===o&&(o=s.Clean),e.call(this,t,n),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null);var a=Object.create(null);t.forEach(function(e){return a[e.owner]=!0}),this.owners=Object.keys(a),this.markerService=i,this.strategy=o,this.currentResourcesWithMarkers=Object.create(null),this.reportedResourcesWithMarkers=Object.create(null),this.owners.forEach(function(e){r.currentResourcesWithMarkers[e]=r.markerService.read({owner:e}).map(function(e){return e.resource}),r.reportedResourcesWithMarkers[e]=Object.create(null)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)}return h(t,e),t.prototype.processLine=function(e){var t=this,i=this.tryFindMarker(e);if(i){var n=i.description.owner,o=i.resource,r=o.toString(),s=this.shouldApplyMatch(i);if(s){this.currentResourceAsString!==r&&(this.currentResource&&(Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),this.markers=Object.create(null)),this.reportedResourcesWithMarkers[n][r]=o,this.currentResource=o,this.currentResourceAsString=r);var a=this.markers[n];a||(a=[],this.markers[n]=a),a.push(i.marker)}else this.reportedResourcesWithMarkers[n][r]=o}},t.prototype.done=function(){var e=this;this.currentResource&&Object.keys(this.markers).forEach(function(t){e.markerService.changeOne(t,e.currentResource,e.markers[t])}),this.strategy===s.Clean&&Object.keys(this.currentResourcesWithMarkers).forEach(function(t){var i=[],n=e.reportedResourcesWithMarkers[t];e.currentResourcesWithMarkers[t].forEach(function(e){n[e.toString()]||i.push(e)}),e.markerService.remove(t,i)}),this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(r);t.StartStopProblemCollector=a;var c=function(e){function t(t,i,n){var o=this;e.call(this,t,n),this.problemMatchers=t,this.markerService=i,this.resetCurrentResource(),this.resourcesToClean=Object.create(null),this.ignoreOpenResourcesByOwner=Object.create(null),this.watchingBeginsPatterns=[],this.watchingEndsPatterns=[],this.problemMatchers.forEach(function(e){e.watching&&(o.watchingBeginsPatterns.push({problemMatcher:e,pattern:e.watching.beginsPattern}),o.watchingEndsPatterns.push({problemMatcher:e,pattern:e.watching.endsPattern}))})}return h(t,e),t.prototype.aboutToStart=function(){var e=this;this.problemMatchers.forEach(function(t){t.watching&&t.watching.activeOnStart&&(e.emit(o.WatchingBeginDetected,{}),e.recordResourcesToClean(t.owner));var i=e.ignoreOpenResourcesByOwner[t.owner];if(i){var r=i&&t.applyTo===n.ApplyToKind.closedDocuments;r!==i&&(e.ignoreOpenResourcesByOwner[t.owner]=r)}else e.ignoreOpenResourcesByOwner[t.owner]=t.applyTo===n.ApplyToKind.closedDocuments})},t.prototype.processLine=function(e){if(!this.tryBegin(e)&&!this.tryFinish(e)){var t=this.tryFindMarker(e);if(t){var i=t.resource,n=t.description.owner,o=i.toString(),r=this.shouldApplyMatch(t);if(r){this.currentResourceAsString!==o&&(this.removeResourceToClean(n,o),this.currentResource&&this.deliverMarkersForCurrentResource(),this.currentResource=i,this.currentResourceAsString=o);var s=this.markers[n];s||(s=[],this.markers[n]=s),s.push(t.marker)}else this.removeResourceToClean(n,o)}}},t.prototype.forceDelivery=function(){var e=this;this.deliverMarkersForCurrentResource(!1),Object.keys(this.resourcesToClean).forEach(function(t){e.cleanMarkers(t,!1)}),this.resourcesToClean=Object.create(null)},t.prototype.tryBegin=function(e){for(var t=!1,i=0;i<this.watchingBeginsPatterns.length;i++){var r=this.watchingBeginsPatterns[i],s=r.pattern.regexp.exec(e);if(s){this.emit(o.WatchingBeginDetected,{}),t=!0;var a=r.problemMatcher.owner;if(s[1]){var c=n.getResource(s[1],r.problemMatcher);this.currentResourceAsString&&this.currentResourceAsString===c.toString()&&this.resetCurrentResource(),this.recordResourceToClean(a,c)}else this.recordResourcesToClean(a),this.resetCurrentResource()}}return t},t.prototype.tryFinish=function(e){for(var t=!1,i=0;i<this.watchingEndsPatterns.length;i++){var n=this.watchingEndsPatterns[i],r=n.pattern.regexp.exec(e);if(r){this.emit(o.WatchingEndDetected,{}),t=!0;var s=n.problemMatcher.owner;this.cleanMarkers(s),this.deliverMarkersForCurrentResource()}}return t},t.prototype.recordResourcesToClean=function(e){var t=this.getResourceSetToClean(e);this.markerService.read({owner:e}).forEach(function(e){return t[e.resource.toString()]=e.resource})},t.prototype.recordResourceToClean=function(e,t){this.getResourceSetToClean(e)[t.toString()]=t},t.prototype.removeResourceToClean=function(e,t){var i=this.resourcesToClean[e];i&&delete i[t]},t.prototype.cleanMarkers=function(e,t){var i=this;void 0===t&&(t=!0);var n=this.resourcesToClean[e];if(n){var o=Object.keys(n).map(function(e){return n[e]}).filter(function(t){return!i.ignoreOpenResourcesByOwner[e]||!i.isOpen(t)});this.markerService.remove(e,o),t&&delete this.resourcesToClean[e]}},t.prototype.deliverMarkersForCurrentResource=function(e){var t=this;void 0===e&&(e=!0),this.currentResource&&Object.keys(this.markers).forEach(function(e){t.markerService.changeOne(e,t.currentResource,t.markers[e])}),e&&this.resetCurrentResource()},t.prototype.getResourceSetToClean=function(e){var t=this.resourcesToClean[e];return t||(t=Object.create(null),this.resourcesToClean[e]=t),t},t.prototype.resetCurrentResource=function(){this.currentResource=null,this.currentResourceAsString=null,this.markers=Object.create(null)},t}(r);t.WatchingProblemCollector=c}),define(l[142],d([1,0]),function(e,t){"use strict";!function(e){e[e.NotConfigured=0]="NotConfigured",e[e.RunningTask=1]="RunningTask",e[e.NoBuildTask=2]="NoBuildTask",e[e.NoTestTask=3]="NoTestTask",e[e.ConfigValidationError=4]="ConfigValidationError",e[e.TaskNotFound=5]="TaskNotFound",e[e.NoValidTaskRunner=6]="NoValidTaskRunner",e[e.UnknownError=7]="UnknownError"}(t.TaskErrors||(t.TaskErrors={}));var i=(t.TaskErrors,function(){function e(e,t,i){this.severity=e,this.message=t,this.code=i}return e}());t.TaskError=i;var n;!function(e){e.shortcut="shortcut",e.command="command"}(n=t.Triggers||(t.Triggers={})),function(e){e[e.Always=0]="Always",e[e.Silent=1]="Silent",e[e.Never=2]="Never"}(t.ShowOutput||(t.ShowOutput={}));var o,o=t.ShowOutput;!function(e){function t(t){return t=t.toLowerCase(),"always"===t?e.Always:"silent"===t?e.Silent:"never"===t?e.Never:void 0}e.fromString=t}(o=t.ShowOutput||(t.ShowOutput={}));var r;!function(e){e.Active="active",e.Inactive="inactive"}(r=t.TaskSystemEvents||(t.TaskSystemEvents={})),function(e){e[e.SingleRun=0]="SingleRun",e[e.Watching=1]="Watching"}(t.TaskType||(t.TaskType={}));t.TaskType}),define(l[854],d([1,0,2,36,142]),function(e,t,i,n,o){"use strict";var r=function(e){function t(t,i,n){e.call(this),this.configuration=t,this.telemetryService=i,this.modeService=n}return h(t,e),t.prototype.build=function(){return this.processMode(function(e){return null},"build",o.Triggers.shortcut)},t.prototype.rebuild=function(){return this.processMode(function(e){return null},"rebuild",o.Triggers.shortcut)},t.prototype.clean=function(){return this.processMode(function(e){return null},"clean",o.Triggers.shortcut)},t.prototype.runTest=function(){return{promise:i.TPromise.wrapError("Not implemented yet.")}},t.prototype.run=function(e){return{promise:i.TPromise.wrapError("Not implemented yet.")}},t.prototype.isActive=function(){return i.TPromise.as(!1)},t.prototype.isActiveSync=function(){return!1},t.prototype.canAutoTerminate=function(){return!1},t.prototype.terminate=function(){return i.TPromise.as({success:!0})},t.prototype.terminateSync=function(){return{success:!0}},t.prototype.tasks=function(){var e=[];return i.TPromise.as(e)},t.prototype.processMode=function(e,n,o){var r=this,s={trigger:o,command:"languageService",success:!0};return{promise:i.Promise.join(this.configuration.modes.map(function(e){return r.modeService.getOrCreateMode(e)})).then(function(t){var n=[];return t.forEach(function(t){var i=e(t);i&&n.push(i)}),i.Promise.join(n)}).then(function(e){return r.telemetryService.publicLog(t.TelemetryEventName,s),e},function(e){return s.success=!1,r.telemetryService.publicLog(t.TelemetryEventName,s),i.Promise.wrapError(e)})}},t.TelemetryEventName="taskService",t}(n.EventEmitter);t.LanguageServiceTaskSystem=r}),define(l[209],d([1,0,6,142]),function(e,t,i,n){"use strict";t.TaskType=n.TaskType,t.ITaskService=i.createDecorator("taskService");var o;!function(e){e.Active="active",e.Inactive="inactive",e.ConfigChanged="configChanged",e.Terminated="terminated"}(o=t.TaskServiceEvents||(t.TaskServiceEvents={}))}),define(l[856],d([1,0,583]),function(e,t,i){"use strict";var n={id:"gulp",label:"Gulp",autoDetect:!0,content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "gulp",','\t"isShellCommand": true,','\t"args": ["--no-color"],','\t"showOutput": "always"',"}"].join("\n")},o={id:"grunt",label:"Grunt",autoDetect:!0,content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "grunt",','\t"isShellCommand": true,','\t"args": ["--no-color"],','\t"showOutput": "always"',"}"].join("\n")},r={id:"npm",label:"npm",sort:"NPM",autoDetect:!1,content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "npm",','\t"isShellCommand": true,','\t"showOutput": "always",','\t"suppressTaskName": true,','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "install",','\t\t\t"args": ["install"]',"\t\t},","\t\t{",'\t\t\t"taskName": "update",','\t\t\t"args": ["update"]',"\t\t},","\t\t{",'\t\t\t"taskName": "test",','\t\t\t"args": ["run", "test"]',"\t\t}","\t]","}"].join("\n")},s={id:"tsc.config",label:"TypeScript - tsconfig.json",autoDetect:!1,description:i.localize(0,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "tsc",','\t"isShellCommand": true,','\t"args": ["-p", "."],','\t"showOutput": "silent",','\t"problemMatcher": "$tsc"',"}"].join("\n")},a={id:"tsc.watch",label:"TypeScript - Watch Mode",autoDetect:!1,description:i.localize(1,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "tsc",','\t"isShellCommand": true,','\t"args": ["-w", "-p", "."],','\t"showOutput": "silent",','\t"isWatching": true,','\t"problemMatcher": "$tsc-watch"',"}"].join("\n")},c={id:"dotnetCore",label:".NET Core",sort:"NET Core",autoDetect:!1,description:i.localize(2,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "dotnet",','\t"isShellCommand": true,','\t"args": [],','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "build",','\t\t\t"args": [ ],','\t\t\t"isBuildCommand": true,','\t\t\t"showOutput": "silent",','\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},u={id:"msbuild",label:"MSBuild",autoDetect:!1,description:i.localize(3,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "msbuild",','\t"args": [',"\t\t// Ask msbuild to generate full paths for file names.",'\t\t"/property:GenerateFullPaths=true"',"\t],",'\t"taskSelector": "/t:",','\t"showOutput": "silent",','\t"tasks": [',"\t\t{",'\t\t\t"taskName": "build",',"\t\t\t// Show the output window only if unrecognized errors occur.",'\t\t\t"showOutput": "silent",',"\t\t\t// Use the standard MS compiler pattern to detect errors, warnings and infos",'\t\t\t"problemMatcher": "$msCompile"',"\t\t}","\t]","}"].join("\n")},l={id:"externalCommand",label:"Others",autoDetect:!1,description:i.localize(4,null),content:["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format",'\t"version": "0.1.0",','\t"command": "echo",','\t"isShellCommand": true,','\t"args": ["Hello World"],','\t"showOutput": "always"',"}"].join("\n")};t.templates=[n,o,s,a,c,u,r].sort(function(e,t){return(e.sort||e.label).localeCompare(t.sort||t.label)}),t.templates.push(l)}),define(l[857],d([1,0,585,29,12,17,82,181,294,142]),function(e,t,i,n,o,r,s,a,c,u){"use strict";function l(e,t){return new p(t).run(e)}var d=function(){function e(){}return e.clean="cleanMatcherMatchers",e}();t.ProblemHandling=d;var h;!function(e){e[e.Unknown=0]="Unknown",e[e.String=1]="String",e[e.ProblemMatcher=2]="ProblemMatcher",e[e.Array=3]="Array"}(h||(h={}));var p=function(){function e(e){this.logger=e,this.validationStatus=new a.ValidationStatus,this.namedProblemMatchers=Object.create(null)}return e.prototype.log=function(e){this.logger.log(e)},e.prototype.run=function(e){return{validationStatus:this.validationStatus,configuration:this.createTaskRunnerConfiguration(e),defaultBuildTaskIdentifier:this.defaultBuildTaskIdentifier,defaultTestTaskIdentifier:this.defaultTestTaskIdentifier}},e.prototype.createTaskRunnerConfiguration=function(e){var t=this.createGlobals(e),n=this.createBaseTaskRunnerConfiguration(e,{isMain:!0,globals:t});if(!this.validationStatus.isFatal()){var s=null,c={isMain:!1,globals:t};e.windows&&o.platform===o.Platform.Windows?s=this.createBaseTaskRunnerConfiguration(e.windows,c):e.osx&&o.platform===o.Platform.Mac?s=this.createBaseTaskRunnerConfiguration(e.osx,c):e.linux&&o.platform===o.Platform.Linux&&(s=this.createBaseTaskRunnerConfiguration(e.linux,c)),this.validationStatus.isFatal()||(s&&this.mergeTaskRunnerConigurations(n,s),r.isUndefined(n.options.cwd)&&(n.options.cwd="${workspaceRoot}"))}return n.command?n:(this.validationStatus.state=a.ValidationState.Fatal,this.log(i.localize(0,null)),null)},e.prototype.createGlobals=function(e){var t=this.parseGlobals(e),i=null;return e.windows&&o.platform===o.Platform.Windows?i=this.parseGlobals(e.windows):e.osx&&o.platform===o.Platform.Mac?i=this.parseGlobals(e.osx):e.linux&&o.platform===o.Platform.Linux&&(i=this.parseGlobals(e.linux)),i&&n.mixin(t,i,!0),r.isUndefined(t.isShellCommand)&&(t.isShellCommand=!1),r.isUndefined(t.showOutput)&&(t.showOutput=u.ShowOutput.Always),r.isUndefined(t.echoCommand)&&(t.echoCommand=!1),r.isUndefined(t.suppressTaskName)&&(t.suppressTaskName=!1),t},e.prototype.parseGlobals=function(e){var t={};return r.isString(e.command)&&(t.command=e.command),r.isBoolean(e.isShellCommand)&&(t.isShellCommand=e.isShellCommand),r.isString(e.showOutput)&&(t.showOutput=u.ShowOutput.fromString(e.showOutput)),r.isUndefined(e.echoCommand)||(t.echoCommand=!!e.echoCommand),r.isUndefined(e.suppressTaskName)||(t.suppressTaskName=!!e.suppressTaskName),r.isString(e.taskSelector)&&(t.taskSelector=e.taskSelector),t},e.prototype.mergeTaskRunnerConigurations=function(e,t){if(t.command&&(e.command=t.command),t.args&&(e.args=e.args?e.args.concat(t.args):t.args),r.isUndefined(t.isShellCommand)||(e.isShellCommand=t.isShellCommand),t.options&&(r.isString(t.options.cwd)&&(e.options.cwd=t.options.cwd),t.options.env)){var i=t.options.env,n=e.options.env;n?Object.keys(i).forEach(function(e){n[e]=i[e]}):e.options.env=i}if(t.tasks){var o=Object.create(null);Object.keys(e.tasks).forEach(function(t){var i=e.tasks[t];o[i.name]=i.id});var s=Object.create(null);Object.keys(t.tasks).forEach(function(e){var i=t.tasks[e];s[i.name]=i.id}),Object.keys(s).forEach(function(i){var n=o[i],r=s[i];n&&delete e.tasks[n],e.tasks[r]=t.tasks[r]})}},e.prototype.createBaseTaskRunnerConfiguration=function(e,t){var n=t.globals,o={isShellCommand:n.isShellCommand,args:[]};r.isString(e.command)&&(o.command=e.command),r.isUndefined(e.isShellCommand)||(o.isShellCommand=e.isShellCommand);var c=r.isUndefined(e.args);r.isStringArray(e.args)&&(c=!0,o.args=e.args.slice()),c||(this.validationStatus.state=a.ValidationState.Fatal,this.log(i.localize(1,null,e.args?JSON.stringify(e.args,null,4):"undefined"))),o.options=this.createCommandOptions(e.options),t.isMain&&(this.namedProblemMatchers=this.createNamedProblemMatchers(e));var u=!r.isUndefined(e.problemMatcher),l=r.isArray(e.tasks);if(l)o.tasks=this.createTasks(e.tasks,t),u&&(this.validationStatus.state=a.ValidationState.Warning,this.log(i.localize(2,null)));else if(t.isMain){var d=!1;r.isUndefined(e.isWatching)||(d=!!e.isWatching);var h=!0;h=r.isUndefined(e.promptOnClose)?!d:!!e.promptOnClose;var p={id:s.generateUuid(),name:n.command,showOutput:n.showOutput,suppressTaskName:!0,isWatching:d,promptOnClose:h,echoCommand:n.echoCommand};if(u){var f=this.createProblemMatchers(e.problemMatcher);p.problemMatchers=f}else p.problemMatchers=[];for(var g=0,m=p.problemMatchers;g<m.length;g++){var v=m[g];if(v.tscWatch){p.tscWatch=!0;break}}this.defaultBuildTaskIdentifier=p.id,o.tasks=Object.create(null),o.tasks[p.id]=p}return o},e.prototype.createCommandOptions=function(e){var t={};return e&&(r.isUndefined(e.cwd)||(r.isString(e.cwd)?t.cwd=e.cwd:(this.validationStatus.state=a.ValidationState.Warning,this.log(i.localize(3,null,e.cwd)))),r.isUndefined(e.env)||(t.env=n.clone(e.env))),t},e.prototype.createNamedProblemMatchers=function(e){var t=this,i=Object.create(null);if(!r.isArray(e.declares))return i;var n=e.declares;return n.forEach(function(e){var n=t.createNamedProblemMatcher(e);n&&(i[n.name]=n)}),i},e.prototype.createNamedProblemMatcher=function(e){var t=new c.ProblemMatcherParser(c.registry,this.logger,this.validationStatus).parse(e);return c.isNamedProblemMatcher(t)?t:(this.validationStatus.state=a.ValidationState.Error,this.log(i.localize(4,null,JSON.stringify(e,null,4))),null)},e.prototype.createTasks=function(e,t){var n=this,o=Object.create(null);if(!e)return o;var c={id:null,exact:-1},l={id:null,exact:-1};return e.forEach(function(e){var d=e.taskName;if(!d)return n.validationStatus.state=a.ValidationState.Fatal,void n.log(i.localize(5,null,JSON.stringify(e,null,4)));var h=n.createProblemMatchers(e.problemMatcher),p={id:s.generateUuid(),name:d,showOutput:t.globals.showOutput};r.isStringArray(e.args)&&(p.args=e.args.slice()),p.isWatching=!1,r.isUndefined(e.isWatching)||(p.isWatching=!!e.isWatching),p.promptOnClose=!0,r.isUndefined(e.promptOnClose)?p.promptOnClose=!p.isWatching:p.promptOnClose=!!e.promptOnClose,r.isString(e.showOutput)&&(p.showOutput=u.ShowOutput.fromString(e.showOutput)),r.isUndefined(p.showOutput)&&(p.showOutput=t.globals.showOutput),p.echoCommand=t.globals.echoCommand,r.isUndefined(e.echoCommand)||(p.echoCommand=!!e.echoCommand),p.suppressTaskName=t.globals.suppressTaskName,r.isUndefined(e.suppressTaskName)||(p.suppressTaskName=!!e.suppressTaskName),h&&(p.problemMatchers=h);for(var f=0,g=p.problemMatchers;f<g.length;f++){var m=g[f];if(m.tscWatch){p.tscWatch=!0;break}}o[p.id]=p,!r.isUndefined(e.isBuildCommand)&&e.isBuildCommand&&c.exact<2?(c.id=p.id,c.exact=2):"build"===d&&c.exact<2&&(c.id=p.id,c.exact=1),!r.isUndefined(e.isTestCommand)&&e.isTestCommand&&l.exact<2?(l.id=p.id,l.exact=2):"test"===d&&l.exact<2&&(l.id=p.id,l.exact=1)}),c.exact>0&&(this.defaultBuildTaskIdentifier=c.id),l.exact>0&&(this.defaultTestTaskIdentifier=l.id),o},e.prototype.createProblemMatchers=function(e){var t=this,n=[];if(r.isUndefined(e))return n;var o=this.getProblemMatcherKind(e);if(o===h.Unknown)return this.validationStatus.state=a.ValidationState.Warning,this.log(i.localize(6,null,JSON.stringify(e,null,4))),n;if(o===h.String||o===h.ProblemMatcher){var s=this.resolveProblemMatcher(e);s&&n.push(s)}else if(o===h.Array){var c=e;c.forEach(function(e){var i=t.resolveProblemMatcher(e);i&&n.push(i)})}return n},e.prototype.getProblemMatcherKind=function(e){return r.isString(e)?h.String:r.isArray(e)?h.Array:r.isUndefined(e)?h.Unknown:h.ProblemMatcher},e.prototype.resolveProblemMatcher=function(e){if(r.isString(e)){var t=e;if(t.length>1&&"$"===t[0]){t=t.substring(1);var o=c.registry.get(t);if(o)return n.clone(o);var s=this.namedProblemMatchers[t];if(s)return s=n.clone(s),delete s.name,s}return this.validationStatus.state=a.ValidationState.Error,this.log(i.localize(7,null,e)),null}var u=e;return new c.ProblemMatcherParser(c.registry,this.logger,this.validationStatus).parse(u)},e}();t.parse=l}),define(l[858],d([1,0,586,9,258,172]),function(e,t,i,n,o,r){"use strict";var s="build",a="test",c=function(){function e(e){this.regexp=e}return e.prototype.init=function(){},e.prototype.match=function(e,t){var i=this.regexp.exec(t);i&&i.length>0&&e.push(i[1])},e}(),u=function(){function e(){}return e.prototype.init=function(){this.tasksStart=!1,this.tasksEnd=!1,this.descriptionOffset=null},e.prototype.match=function(e,t){if(this.tasksStart||this.tasksEnd){if(this.tasksStart&&!this.tasksEnd)if(0===t.indexOf("Tasks run in the order specified"))this.tasksEnd=!0;else{null===this.descriptionOffset&&(this.descriptionOffset=t.match(/\S  \S/).index+1);var i=t.substr(0,this.descriptionOffset).trim();i.length>0&&e.push(i)}}else 0===t.indexOf("Available tasks")&&(this.tasksStart=!0)},e}(),l=function(){function e(e,t,i,n){void 0===n&&(n=null),this.fileService=e,this.contextService=t,this.variables=i,this.taskConfiguration=n,this._stderr=[],this._stdout=[]}return e.supports=function(t){return e.SupportedRunners[t]},e.detectorConfig=function(t){return e.TaskMatchers[t]},Object.defineProperty(e.prototype,"stderr",{get:function(){return this._stderr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stdout",{get:function(){return this._stdout},enumerable:!0,configurable:!0}),e.prototype.detect=function(t,i){var n=this;if(void 0===t&&(t=!1),this.taskConfiguration&&this.taskConfiguration.command&&e.supports(this.taskConfiguration.command)){var s=e.detectorConfig(this.taskConfiguration.command),a=(this.taskConfiguration.args||[]).concat(s.arg),c=this.taskConfiguration.options?o.resolveCommandOptions(this.taskConfiguration.options,this.variables):{cwd:this.variables.workspaceRoot},u=!!this.taskConfiguration.isShellCommand;return this.runDetection(new r.LineProcess(this.taskConfiguration.command,this.variables.resolve(a),u,c),this.taskConfiguration.command,u,s.matcher,e.DefaultProblemMatchers,t)}if(i){var l=void 0;return"gulp"===i?l=this.tryDetectGulp(t):"jake"===i?l=this.tryDetectJake(t):"grunt"===i&&(l=this.tryDetectGrunt(t)),l.then(function(e){return e?e:{config:null,stdout:n.stdout,stderr:n.stderr}})}return this.tryDetectGulp(t).then(function(e){return e?e:n.tryDetectJake(t).then(function(e){return e?e:n.tryDetectGrunt(t).then(function(e){return e?e:{config:null,stdout:n.stdout,stderr:n.stderr}})})})},e.prototype.tryDetectGulp=function(t){var i=this;return this.fileService.resolveFile(this.contextService.toResource("gulpfile.js")).then(function(n){var o=e.detectorConfig("gulp"),s=new r.LineProcess("gulp",[o.arg,"--no-color"],(!0),{cwd:i.variables.workspaceRoot});return i.runDetection(s,"gulp",!0,o.matcher,e.DefaultProblemMatchers,t)},function(e){return null})},e.prototype.tryDetectGrunt=function(t){var i=this;return this.fileService.resolveFile(this.contextService.toResource("Gruntfile.js")).then(function(n){var o=e.detectorConfig("grunt"),s=new r.LineProcess("grunt",[o.arg,"--no-color"],(!0),{cwd:i.variables.workspaceRoot});return i.runDetection(s,"grunt",!0,o.matcher,e.DefaultProblemMatchers,t)},function(e){return null})},e.prototype.tryDetectJake=function(t){var i=this,n=function(){var n=e.detectorConfig("jake"),o=new r.LineProcess("jake",[n.arg],(!0),{cwd:i.variables.workspaceRoot});return i.runDetection(o,"jake",!0,n.matcher,e.DefaultProblemMatchers,t)};return this.fileService.resolveFile(this.contextService.toResource("Jakefile")).then(function(e){return n()},function(e){return i.fileService.resolveFile(i.contextService.toResource("Jakefile.js")).then(function(e){return n()},function(e){return null})})},e.prototype.runDetection=function(t,r,s,a,c,u){var l=this,d=[];return a.init(),t.start().then(function(t){if(0===d.length)return 0!==t.cmdCode&&("gulp"===r?l._stderr.push(i.localize(0,null)):"jake"===r&&l._stderr.push(i.localize(1,null))),{config:null,stdout:l._stdout,stderr:l._stderr};var n={version:e.Version,command:r,isShellCommand:s};return"gulp"===r&&(n.args=["--no-color"]),n.tasks=l.createTaskDescriptions(d,c,u),{config:n,stdout:l._stdout,stderr:l._stderr}},function(e){var t=e.error;return"ENOENT"===t.code?"gulp"===r?l._stderr.push(i.localize(2,null)):"jake"===r?l._stderr.push(i.localize(3,null)):"grunt"===r&&l._stderr.push(i.localize(4,null)):l._stderr.push(i.localize(5,null,r,t.message)),{config:null,stdout:l._stdout,stderr:l._stderr}},function(e){if(e.source===o.Source.stderr)return void l._stderr.push(e.line);var t=n.removeAnsiEscapeCodes(e.line),i=a.match(d,t);i&&i.length>0&&d.push(i[1])})},e.prototype.createTaskDescriptions=function(e,t,n){var o=this,r=[];if(n)e.forEach(function(e){r.push({taskName:e,args:[],isWatching:!1})});else{var s={build:{index:-1,exact:-1},test:{index:-1,exact:-1}};if(e.forEach(function(e,t){o.testBuild(s.build,e,t),o.testTest(s.test,e,t)}),s.build.index!==-1){var a=e[s.build.index];this._stdout.push(i.localize(6,null,a)),r.push({taskName:a,args:[],isBuildCommand:!0,isWatching:!1,problemMatcher:t})}if(s.test.index!==-1){var c=e[s.test.index];this._stdout.push(i.localize(7,null,c)),r.push({taskName:c,args:[],isTestCommand:!0})}}return r},e.prototype.testBuild=function(e,t,i){t===s?(e.index=i,e.exact=3):(n.startsWith(t,s)||n.endsWith(t,s))&&e.exact<3?(e.index=i,e.exact=2):t.indexOf(s)!==-1&&e.exact<2&&(e.index=i,e.exact=1)},e.prototype.testTest=function(e,t,i){t===a?(e.index=i,e.exact=3):(n.startsWith(t,a)||n.endsWith(t,a))&&e.exact<3?(e.index=i,e.exact=2):t.indexOf(a)!==-1&&e.exact<2&&(e.index=i,e.exact=1)},e.Version="0.1.0",e.SupportedRunners={gulp:!0,jake:!0,grunt:!0},e.TaskMatchers={gulp:{matcher:new c(/^(.*)$/),arg:"--tasks-simple"},jake:{matcher:new c(/^jake\s+([^\s]+)\s/),arg:"--tasks"},grunt:{matcher:new u,arg:"--help"}},e.DefaultProblemMatchers=["$lessCompile","$tsc","$jshint"],e}();t.ProcessRunnerDetector=l}),define(l[859],d([1,0,587,29,17,12,2,16,33,9,36,172,852,142,857,5]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m){"use strict";var v=function(e){function t(t,i,n,o,r,s,a,c){void 0===c&&(c=!0),e.call(this),this.fileConfig=t,this.variables=i,this.markerService=n,this.modelService=o,this.outputService=s,this.telemetryService=r,this.defaultBuildTaskIdentifier=null,this.defaultTestTaskIdentifier=null,this.childProcess=null,this.activeTaskIdentifier=null,this.outputChannel=this.outputService.getChannel(a),c&&this.clearOutput(),this.errorsShown=!1;var u=g.parse(t,this);this.validationStatus=u.validationStatus,this.configuration=u.configuration,this.defaultBuildTaskIdentifier=u.defaultBuildTaskIdentifier,this.defaultTestTaskIdentifier=u.defaultTestTaskIdentifier,this.validationStatus.isOK()||this.showOutput()}return h(t,e),t.prototype.build=function(){if(!this.defaultBuildTaskIdentifier)throw new f.TaskError(c["default"].Info,i.localize(0,null),f.TaskErrors.NoBuildTask);return this.executeTask(this.defaultBuildTaskIdentifier,f.Triggers.shortcut)},t.prototype.rebuild=function(){throw new Error("Task - Rebuild: not implemented yet")},t.prototype.clean=function(){throw new Error("Task - Clean: not implemented yet")},t.prototype.runTest=function(){if(!this.defaultTestTaskIdentifier)throw new f.TaskError(c["default"].Info,i.localize(1,null),f.TaskErrors.NoTestTask);return this.executeTask(this.defaultTestTaskIdentifier,f.Triggers.shortcut)},t.prototype.run=function(e){return this.executeTask(e)},t.prototype.isActive=function(){return s.TPromise.as(!!this.childProcess)},t.prototype.isActiveSync=function(){return!!this.childProcess},t.prototype.canAutoTerminate=function(){if(this.childProcess){if(this.activeTaskIdentifier){var e=this.configuration.tasks[this.activeTaskIdentifier];if(e)return!e.promptOnClose}return!1}return!0},t.prototype.terminate=function(){return this.childProcess?this.childProcess.terminate():s.TPromise.as({success:!0})},t.prototype.tasks=function(){var e,t=this;return e=this.configuration&&this.configuration.tasks?Object.keys(this.configuration.tasks).map(function(e){return t.configuration.tasks[e]}):[],s.TPromise.as(e)},t.prototype.executeTask=function(e,n){var o=this;if(void 0===n&&(n=f.Triggers.command),this.validationStatus.isFatal())throw new f.TaskError(c["default"].Error,i.localize(2,null),f.TaskErrors.ConfigValidationError);var r=this.configuration.tasks[e];if(!r)throw new f.TaskError(c["default"].Info,i.localize(3,null),f.TaskErrors.TaskNotFound);
var a={trigger:n,command:"other",success:!0};try{var u=this.doExecuteTask(r,a);return u.promise=u.promise.then(function(e){return o.telemetryService.publicLog(t.TelemetryEventName,a),e},function(e){return a.success=!1,o.telemetryService.publicLog(t.TelemetryEventName,a),s.TPromise.wrapError(e)}),u}catch(l){if(a.success=!1,this.telemetryService.publicLog(t.TelemetryEventName,a),l instanceof f.TaskError)throw l;if(l instanceof Error){var d=l;throw this.outputChannel.append(d.message),new f.TaskError(c["default"].Error,d.message,f.TaskErrors.UnknownError)}throw this.outputChannel.append(l.toString()),new f.TaskError(c["default"].Error,i.localize(4,null),f.TaskErrors.UnknownError)}},t.prototype.doExecuteTask=function(e,t){var n=this,o={},s=this.configuration;this.validationStatus.isOK()||this.errorsShown?this.clearOutput():(this.showOutput(),this.errorsShown=!0);var c=this.configuration.args?this.configuration.args.slice():[];e.suppressTaskName||(this.fileConfig.taskSelector?c.push(this.fileConfig.taskSelector+e.name):c.push(e.name)),e.args&&(c=c.concat(e.args)),c=this.resolveVariables(c);var l=this.resolveVariable(s.command);if(this.childProcess=new d.LineProcess(l,c,s.isShellCommand,this.resolveOptions(s.options)),t.command=this.childProcess.getSanitizedCommand(),(e.showOutput===f.ShowOutput.Always||e.showOutput===f.ShowOutput.Silent&&0===e.problemMatchers.length)&&this.showOutput(),e.echoCommand){var h=r.isWindows?">":"$";this.log("running command"+h+" "+l+" "+c.join(" "))}if(e.isWatching){var g=new p.WatchingProblemCollector(this.resolveMatchers(e.problemMatchers),this.markerService,this.modelService),v=[],y={taskId:e.id,taskName:e.name,type:f.TaskType.Watching},E=0;v.push(g.addListener2(p.ProblemCollectorEvents.WatchingBeginDetected,function(){E++,n.emit(f.TaskSystemEvents.Active,y)})),v.push(g.addListener2(p.ProblemCollectorEvents.WatchingEndDetected,function(){E--,n.emit(f.TaskSystemEvents.Inactive,y)})),g.aboutToStart();var S=null;this.activeTaskIdentifier=e.id;var b=this.childProcess.start().then(function(t){n.childProcessEnded(),g.dispose(),v=m.dispose(v),v=null;for(var r=0;r<E;r++)n.emit(f.TaskSystemEvents.Inactive,y);return E=0,n.checkTerminated(e,t)||n.log(i.localize(5,null)),t.cmdCode&&1===t.cmdCode&&0===g.numberOfMatches&&e.showOutput!==f.ShowOutput.Never&&n.showOutput(),o.exitCode=t.cmdCode,o},function(t){n.childProcessEnded(),g.dispose(),v=m.dispose(v),v=null;for(var i=0;i<E;i++)n.emit(f.TaskSystemEvents.Inactive,y);return E=0,n.handleError(e,t)},function(e){var t=u.removeAnsiEscapeCodes(e.line);n.outputChannel.append(t+"\n"),g.processLine(t),null===S&&(S=new a.Delayer(3e3)),S.trigger(function(){return g.forceDelivery(),null}).then(function(){S=null})}),_=e.tscWatch?{restartOnFileChanges:"**/*.ts",promise:b}:{promise:b};return _}var C={taskId:e.id,taskName:e.name,type:f.TaskType.SingleRun};this.emit(f.TaskSystemEvents.Active,C);var w=new p.StartStopProblemCollector(this.resolveMatchers(e.problemMatchers),this.markerService,this.modelService);this.activeTaskIdentifier=e.id;var b=this.childProcess.start().then(function(t){return n.childProcessEnded(),w.done(),w.dispose(),n.checkTerminated(e,t),n.emit(f.TaskSystemEvents.Inactive,C),t.cmdCode&&1===t.cmdCode&&0===w.numberOfMatches&&e.showOutput!==f.ShowOutput.Never&&n.showOutput(),o.exitCode=t.cmdCode,o},function(t){return n.childProcessEnded(),w.dispose(),n.emit(f.TaskSystemEvents.Inactive,C),n.handleError(e,t)},function(e){var t=u.removeAnsiEscapeCodes(e.line);n.outputChannel.append(t+"\n"),w.processLine(t)});return{promise:b}},t.prototype.childProcessEnded=function(){this.childProcess=null,this.activeTaskIdentifier=null},t.prototype.handleError=function(e,t){var n=!1;if(t.error&&!t.terminated){var o=this.configuration.args?this.configuration.args.join(" "):"";this.log(i.localize(6,null,this.configuration.command,o)),this.outputChannel.append(t.error.message),n=!0}return t.stdout&&(this.outputChannel.append(t.stdout),n=!0),t.stderr&&(this.outputChannel.append(t.stderr),n=!0),n=this.checkTerminated(e,t)||n,n&&this.showOutput(),s.Promise.wrapError(t)},t.prototype.checkTerminated=function(e,t){return!!t.terminated&&(this.log(i.localize(7,null,e.name)),!0)},t.prototype.resolveOptions=function(e){var t=this,i={cwd:this.resolveVariable(e.cwd)};return e.env&&(i.env=Object.create(null),Object.keys(e.env).forEach(function(n){var r=e.env[n];o.isString(r)?i.env[n]=t.resolveVariable(r):i.env[n]=r.toString()})),i},t.prototype.resolveVariables=function(e){var t=this;return e.map(function(e){return t.resolveVariable(e)})},t.prototype.resolveMatchers=function(e){var t=this;if(0===e.length)return e;var i=[];return e.forEach(function(e){if(e.filePrefix){var o=n.clone(e);o.filePrefix=t.resolveVariable(o.filePrefix),i.push(o)}else i.push(e)}),i},t.prototype.resolveVariable=function(e){var t=this,i=/\$\{(.*?)\}/g;return e.replace(i,function(e,i){var n=t.variables[i];return n?n:e})},t.prototype.log=function(e){this.outputChannel.append(e+"\n")},t.prototype.showOutput=function(){this.outputChannel.show(!0)},t.prototype.clearOutput=function(){this.outputChannel.clear()},t.TelemetryEventName="taskService",t}(l.EventEmitter);t.ProcessRunnerSystem=v}),define(l[212],d([1,0,12,172,6]),function(e,t,i,n,o){"use strict";t.TERMINAL_PANEL_ID="workbench.panel.terminal",t.TERMINAL_SERVICE_ID="terminalService",t.TERMINAL_DEFAULT_SHELL_LINUX=i.isWindows?"sh":process.env.SHELL||"sh",t.TERMINAL_DEFAULT_SHELL_OSX=i.isWindows?"sh":process.env.SHELL||"sh",t.TERMINAL_DEFAULT_SHELL_WINDOWS=n.getWindowsShell(),t.ITerminalService=o.createDecorator(t.TERMINAL_SERVICE_ID)}),define(l[861],d([1,0,589,27,212,49]),function(e,t,i,n,o,r){"use strict";var s=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n}return h(t,e),t.prototype.run=function(e){return this.terminalService.toggle()},t.ID="workbench.action.terminal.toggleTerminal",t.LABEL=i.localize(0,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.ToggleTerminalAction=s;var a=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n,this["class"]="terminal-action kill"}return h(t,e),t.prototype.run=function(e){return this.terminalService.close()},t.ID="workbench.action.terminal.kill",t.LABEL=i.localize(1,null),t.PANEL_LABEL=i.localize(2,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.KillTerminalAction=a;var c=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n,this["class"]="terminal-action new"}return h(t,e),t.prototype.run=function(e){return this.terminalService.createNew()},t.ID="workbench.action.terminal.new",t.LABEL=i.localize(3,null),t.PANEL_LABEL=i.localize(4,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.CreateNewTerminalAction=c;var u=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n}return h(t,e),t.prototype.run=function(e){return this.terminalService.focus()},t.ID="workbench.action.terminal.focus",t.LABEL=i.localize(5,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.FocusTerminalAction=u;var l=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n}return h(t,e),t.prototype.run=function(e){return this.terminalService.focusNext()},t.ID="workbench.action.terminal.focusNext",t.LABEL=i.localize(6,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.FocusNextTerminalAction=l;var d=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n}return h(t,e),t.prototype.run=function(e){return this.terminalService.focusPrevious()},t.ID="workbench.action.terminal.focusPrevious",t.LABEL=i.localize(7,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.FocusPreviousTerminalAction=d;var p=function(e){function t(t,i,n){e.call(this,t,i),this.terminalService=n}return h(t,e),t.prototype.run=function(e){return this.terminalService.runSelectedText()},t.ID="workbench.action.terminal.runSelectedText",t.LABEL=i.localize(8,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.RunSelectedTextInTerminalAction=p;var f=function(e){function t(i,n,o){e.call(this,t.ID,t.LABEL),this.terminalService=o,this["class"]="terminal-action switch-terminal-instance"}return h(t,e),t.prototype.run=function(e){var t=parseInt(e.split(":")[0],10)-1;return this.terminalService.setActiveTerminal(t)},t.ID="workbench.action.terminal.switchTerminalInstance",t.LABEL=i.localize(9,null),t=g([m(2,o.ITerminalService)],t)}(n.Action);t.SwitchTerminalInstanceAction=f;var v=function(e){function t(t,i){e.call(this,null,t,i.getTerminalInstanceTitles(),i.getActiveTerminalIndex()),this.terminalService=i,this.toDispose.push(this.terminalService.onInstancesChanged(this.updateItems,this)),this.toDispose.push(this.terminalService.onActiveInstanceChanged(this.updateItems,this)),this.toDispose.push(this.terminalService.onInstanceTitleChanged(this.updateItems,this))}return h(t,e),t.prototype.updateItems=function(){this.setOptions(this.terminalService.getTerminalInstanceTitles(),this.terminalService.getActiveTerminalIndex())},t=g([m(1,o.ITerminalService)],t)}(r.SelectActionItem);t.SwitchTerminalInstanceActionItem=v}),define(l[862],d([1,0,178,12]),function(e,t,i,n){"use strict";var o={"hc-black":["#000000","#cd0000","#00cd00","#cdcd00","#0000ee","#cd00cd","#00cdcd","#e5e5e5","#7f7f7f","#ff0000","#00ff00","#ffff00","#5c5cff","#ff00ff","#00ffff","#ffffff"],vs:["#000000","#cd3131","#008000","#949800","#0451a5","#bc05bc","#0598bc","#555555","#666666","#cd3131","#00aa00","#b5ba00","#0451a5","#bc05bc","#0598bc","#a5a5a5"],"vs-dark":["#000000","#cd3131","#09885a","#e5e510","#2472c8","#bc3fbc","#11a8cd","#e5e5e5","#666666","#f14c4c","#17a773","#f5f543","#3b8eea","#d670d6","#29b8db","#e5e5e5"]},r=function(){function e(e,t,i){this.platform=e,this.configurationService=t,this.panelContainer=i}return e.prototype.getTheme=function(e){var t=i.getBaseThemeId(e);return o[t]},e.prototype.measureFont=function(e,t,i){this.charMeasureElement&&this.charMeasureElement.parentElement||(this.charMeasureElement=this.panelContainer.div().getHTMLElement());var n=this.charMeasureElement.style;n.display="inline",n.fontFamily=e,n.fontSize=t,n.lineHeight=i,this.charMeasureElement.innerText="X";var o=this.charMeasureElement.getBoundingClientRect();n.display="none";var r=Math.ceil(o.width),s=Math.ceil(o.height);return{fontFamily:e,fontSize:t,lineHeight:i,charWidth:r,charHeight:s}},e.prototype.getFont=function(){var e=this.configurationService.getConfiguration().terminal.integrated,t=this.configurationService.getConfiguration(),i=e.fontFamily||t.editor.fontFamily,n=this.toInteger(e.fontSize,0)||t.editor.fontSize,o=this.toInteger(e.lineHeight,0);return this.measureFont(i,n+"px",0===o?"normal":o+"px")},e.prototype.getCursorBlink=function(){var e=this.configurationService.getConfiguration();return"blink"===e.editor.cursorBlinking},e.prototype.getShell=function(){var e=this.configurationService.getConfiguration(),t={executable:"",args:[]};return this.platform===n.Platform.Windows?t.executable=e.terminal.integrated.shell.windows:this.platform===n.Platform.Mac?(t.executable=e.terminal.integrated.shell.osx,t.args=e.terminal.integrated.shellArgs.osx):this.platform===n.Platform.Linux&&(t.executable=e.terminal.integrated.shell.linux,t.args=e.terminal.integrated.shellArgs.linux),t},e.prototype.toInteger=function(e,t){var i=parseInt(e,10);return isNaN(i)&&(i=0),"number"==typeof t&&(i=Math.max(t,i)),i},e}();t.TerminalConfigHelper=r}),define(l[139],d([1,0,6]),function(e,t,i){"use strict";var n=function(){function e(e){this.descriptorFn=e}return e.prototype.getDescription=function(){return this.descriptorFn(null)},e}();t.BaseBadge=n;var o=function(e){function t(t,i){e.call(this,i),this.number=t}return h(t,e),t.prototype.getDescription=function(){return this.descriptorFn(this.number)},t}(n);t.NumberBadge=o;var r=function(e){function t(t,i){e.call(this,i),this.text=t}return h(t,e),t}(n);t.TextBadge=r;var s=function(e){function t(t){e.call(this,t)}return h(t,e),t}(n);t.IconBadge=s;var a=function(e){function t(){e.apply(this,arguments)}return h(t,e),t}(n);t.ProgressBadge=a,t.IActivityService=i.createDecorator("activityService")}),define(l[864],d([1,0,477,31,183,27,49,139,774]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i,n){e.call(this,t,i,n),this.badge=null}return h(t,e),t.prototype.activate=function(){this.checked||(this.checked=!0,this.emit("checked",{source:this}))},t.prototype.deactivate=function(){this.checked&&(this.checked=!1,this.emit("checked",{source:this}))},t.prototype.getBadge=function(){return this.badge},t.prototype.setBadge=function(e){this.badge=e,this.emit(t.BADGE,{source:this})},t.BADGE="badge",t}(r.Action);t.ActivityAction=c;var u=function(e){function t(t,i,n){void 0===i&&(i=t.label),void 0===n&&(n=null),e.call(this,null,t),this.cssClass=t["class"],this.name=i,this._keybinding=n}return h(t,e),t.prototype.render=function(t){var i=this;e.prototype.render.call(this,t),this.$e=n.$("a.action-label").attr({tabIndex:"0",role:"button"}).appendTo(this.builder),this.cssClass&&this.$e.addClass(this.cssClass),this.$badge=this.builder.div({"class":"badge"},function(e){i.$badgeContent=e.div({"class":"badge-content"})}),this.$badge.hide(),this.keybinding=this._keybinding,[this.$badge,this.$e].forEach(function(e){return new o.DelayedDragHandler(e.getHTMLElement(),function(){i.getAction().checked||i.getAction().run()})})},t.prototype.focus=function(){this.$e.domFocus()},t.prototype.setBadge=function(e){this.updateBadge(e)},Object.defineProperty(t.prototype,"keybinding",{set:function(e){if(this._keybinding=e,this.$e){var t;t=e?i.localize(0,null,this.name,e):this.name,this.$e.title(t),this.$badge.title(t)}},enumerable:!0,configurable:!0}),t.prototype.updateBadge=function(e){if(this.$badgeContent.empty(),this.$badge.hide(),e){if(e instanceof a.NumberBadge){var t=e.number;t&&(this.$badgeContent.text(t>99?"99+":t.toString()),this.$badge.show())}else e instanceof a.TextBadge?(this.$badgeContent.text(e.text),this.$badge.show()):e instanceof a.IconBadge?this.$badge.show():e instanceof a.ProgressBadge&&this.$badge.show();this.$e.attr("aria-label",this.name+" - "+e.getDescription())}},t.prototype._updateClass=function(){this.cssClass&&this.$badge.removeClass(this.cssClass),this.cssClass=this.getAction()["class"],this.$badge.addClass(this.cssClass)},t.prototype._updateChecked=function(){this.getAction().checked?this.$e.addClass("active"):this.$e.removeClass("active")},t.prototype._updateUnknown=function(e){if(e.getType()===c.BADGE){var t=this.getAction();t instanceof c&&this.updateBadge(t.getBadge())}},t.prototype._updateEnabled=function(){this.getAction().enabled?this.builder.removeClass("disabled"):this.builder.addClass("disabled")},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.$badge.destroy(),this.$e.destroy()},t}(s.BaseActionItem);t.ActivityActionItem=u}),define(l[865],d([1,0,2,19,9,12,25,161,29,671,64,23,112,321,325]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g){"use strict";var m=function(e){function t(t,i){e.call(this,t,i),this.serviceId=d.IConfigurationService,this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var t=this;e.prototype.registerListeners.call(this),this.toDispose=this.eventService.addListener2(l.EventType.WORKBENCH_OPTIONS_CHANGED,function(e){return t.onOptionsChanged(e)})},t.prototype.onOptionsChanged=function(e){"globalSettings"===e.key&&this.handleConfigurationChange()},t.prototype.resolveContents=function(e){var t=this,n=[];return i.TPromise.join(e.map(function(e){return t.resolveContent(e).then(function(e){n.push(e)})})).then(function(){return n})},t.prototype.resolveContent=function(e){return p.readFile(e.fsPath).then(function(t){return{resource:e,value:t.toString()}})},t.prototype.resolveStat=function(e){return new i.TPromise(function(t,i){a.readdir(e.fsPath,function(a,c){a?"ENOTDIR"===a.code?t({resource:e,isDirectory:!1}):i(a):t({resource:e,isDirectory:!0,children:c.map(function(t){return r.isMacintosh&&(t=o.normalizeNFC(t)),{resource:n["default"].file(s.join(e.fsPath,t))}})})})})},t.prototype.loadWorkspaceConfiguration=function(t){return this.contextService.getWorkspace()?e.prototype.loadWorkspaceConfiguration.call(this,t):i.TPromise.as({})},t.prototype.loadGlobalConfiguration=function(){var t=e.prototype.loadGlobalConfiguration.call(this),i=this.contextService.getOptions().globalSettings;return{contents:c.mixin(c.clone(t.contents),i.settings,!0),parseErrors:i.settingsParseErrors}},t.prototype.setUserConfiguration=function(e,t){var i=this,n=this.contextService.getConfiguration().env.appSettingsPath;return p.readFile(n,"utf8").then(function(o){var r=i.getConfiguration("editor"),s=r.tabSize,a=r.insertSpaces,c="string"==typeof e?e.split("."):e,u=g.setProperty(o,c,t,{insertSpaces:a,tabSize:s,eol:"\n"});return o=f.applyEdits(o,u),p.writeFile(n,o,"utf8")})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose.dispose()},t}(u.ConfigurationService);t.ConfigurationService=m}),define(l[866],d([1,0,2,33,49,10,51,21,18,20,52]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=function(){function e(e,t,i){this.messageService=e,this.telemetryService=t,this.keybindingService=i,this.serviceId=s.IContextMenuService}return e.prototype.showContextMenu=function(e){var t=this;e.getActions().then(function(n){return n.length?i.TPromise.timeout(0).then(function(){var i,o,s=t.createMenu(e,n),a=e.getAnchor();if(r.isHTMLElement(a)){var c=r.getDomNodePagePosition(a);i=c.left,o=c.top+c.height}else{var u=a;i=u.x,o=u.y}var d=l.webFrame.getZoomFactor();i*=d,o*=d,s.popup(l.remote.getCurrentWindow(),Math.floor(i),Math.floor(o),-1),e.onHide&&e.onHide(void 0)}):i.TPromise.as(null)})},e.prototype.createMenu=function(e,t){var i=this,n=new l.remote.Menu;return t.forEach(function(t){if(t instanceof o.Separator)n.append(new l.remote.MenuItem({type:"separator"}));else if(t instanceof s.ContextSubMenu){var r=new l.remote.MenuItem({submenu:i.createMenu(e,t.entries),label:t.label});n.append(r)}else{var a=e.getKeyBinding?e.getKeyBinding(t):void 0,c=a&&i.keybindingService.getElectronAcceleratorFor(a),u=new l.remote.MenuItem({label:t.label,checked:!!t.checked,accelerator:c,enabled:!!t.enabled,click:function(){i.runAction(t,e)}});n.append(u)}}),n},e.prototype.runAction=function(e,t){var o=this;this.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"contextMenu"});var r=t.getActionsContext?t.getActionsContext():null,s=e.run(r)||i.TPromise.as(null);s.done(null,function(e){return o.messageService.show(n["default"].Error,e)})},e=g([m(0,c.IMessageService),m(1,a.ITelemetryService),m(2,u.IKeybindingService)],e)}();t.ContextMenuService=d}),define(l[22],d([1,0,6]),function(e,t,i){"use strict";!function(e){e[e.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",e[e.EVEN_WIDTH=1]="EVEN_WIDTH"}(t.GroupArrangement||(t.GroupArrangement={}));t.GroupArrangement;t.IWorkbenchEditorService=i.createDecorator("editorService")}),define(l[868],d([1,0,7,198,32,28,22,47,188,2]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(){function e(e,t,i,n,o){this._activeSearches=Object.create(null),this._searchService=e,this._workspace=t.getWorkspace(),this._textFileService=i,this._editorService=n,this._eventService=o}return e.prototype.$startSearch=function(e,t,o,r){var s=this;if(this._workspace){var a=this._searchService.search({folderResources:[this._workspace.resource],type:n.QueryType.File,maxResults:o,includePattern:(l={},l[e]=!0,l),excludePattern:(d={},d[t]=!0,d)}).then(function(e){return e.results.map(function(e){return e.resource})},function(e){if(!i.isPromiseCanceledError(e))return u.TPromise.wrapError(e)});this._activeSearches[r]=a;var c=function(){return delete s._activeSearches[r]};return a.done(c,c),a;var l,d}},e.prototype.$cancelSearch=function(e){var t=this._activeSearches[e];if(t)return delete this._activeSearches[e],t.cancel(),u.TPromise.as(!0)},e.prototype.$saveAll=function(e){return this._textFileService.saveAll(e).then(function(e){return e.results.every(function(e){return e.success===!0})})},e.prototype.$applyWorkspaceEdit=function(e){var t,i=this._editorService.getActiveEditor();if(i){var n=i.getControl();"function"==typeof n.getEditorType&&(t=n)}return c.bulkEdit(this._eventService,this._editorService,t,e).then(function(){return!0})},e=g([m(0,n.ISearchService),m(1,o.IWorkspaceContextService),m(2,a.ITextFileService),m(3,s.IWorkbenchEditorService),m(4,r.IEventService)],e)}();t.MainThreadWorkspace=l}),define(l[869],d([1,0,2,480,122,31,291,138,65,149,22,21,94,771]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";var f=function(e){function t(i,n){e.call(this,t.ID,i),this.editorService=n}return h(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize(0,null)},t.prototype.createEditor=function(e){var t=this,i=document.createElement("div");i.className="binary-container",this.leftBinaryContainer=r.$(i),this.leftBinaryContainer.tabindex(0),this.leftScrollbar=new a.DomScrollableElement(i,{canUseTranslate3d:!1,horizontal:p.ScrollbarVisibility.Hidden,vertical:p.ScrollbarVisibility.Hidden}),e.getHTMLElement().appendChild(this.leftScrollbar.getDomNode()),r.$(this.leftScrollbar.getDomNode()).addClass("binarydiff-left"),this.sash=new o.Sash(e.getHTMLElement(),this),this.sash.addListener2("start",function(){return t.onSashDragStart()}),this.sash.addListener2("change",function(e){return t.onSashDrag(e)}),this.sash.addListener2("end",function(){return t.onSashDragEnd()}),this.sash.addListener2("reset",function(){return t.onSashReset()});var n=document.createElement("div");n.className="binary-container",this.rightBinaryContainer=r.$(n),this.rightBinaryContainer.tabindex(0),this.rightScrollbar=new a.DomScrollableElement(n,{canUseTranslate3d:!1,horizontal:p.ScrollbarVisibility.Hidden,vertical:p.ScrollbarVisibility.Hidden}),e.getHTMLElement().appendChild(this.rightScrollbar.getDomNode()),r.$(this.rightScrollbar.getDomNode()).addClass("binarydiff-right")},t.prototype.setInput=function(t,o){var r=this,s=this.getInput();e.prototype.setInput.call(this,t,o);var a=o&&o.forceOpen;return!a&&t.matches(s)?i.TPromise.as(null):this.editorService.resolveEditorModel(t,!0).then(function(e){if(!(e.originalModel instanceof u.BinaryEditorModel&&e.modifiedModel instanceof u.BinaryEditorModel))return i.TPromise.wrapError(n.localize(1,null));if(!r.getInput()||r.getInput()!==t)return null;var o=e.originalModel;r.renderInput(o.getName(),o.getResource(),!0);var s=e.modifiedModel;r.renderInput(s.getName(),s.getResource(),!1)})},t.prototype.renderInput=function(e,t,i){this.leftContainerWidth&&this.dimension&&this.leftContainerWidth!==this.dimension.width/2&&(this.leftContainerWidth=this.dimension.width/2,this.layoutContainers(),this.sash.layout());var n=i?this.leftBinaryContainer:this.rightBinaryContainer,o=i?this.leftScrollbar:this.rightScrollbar;s.ResourceViewer.show(e,t,n,o)},t.prototype.clearInput=function(){r.$(this.leftBinaryContainer).empty(),r.$(this.rightBinaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){var t=this.dimension;if(this.dimension=e,this.leftContainerWidth&&t){var i=this.leftContainerWidth/t.width;this.leftContainerWidth=this.dimension.width*i}else this.leftContainerWidth=this.dimension.width/2;this.sash.layout(),this.layoutContainers()},t.prototype.layoutContainers=function(){this.leftBinaryContainer.size(this.leftContainerWidth,this.dimension.height),this.leftScrollbar.scanDomNode(),this.rightBinaryContainer.size(this.dimension.width-this.leftContainerWidth,this.dimension.height),this.rightScrollbar.scanDomNode()},t.prototype.onSashDragStart=function(){this.startLeftContainerWidth=this.leftContainerWidth},t.prototype.onSashDrag=function(e){var i=this.startLeftContainerWidth+e.currentX-e.startX;this.leftContainerWidth=Math.max(t.MIN_CONTAINER_WIDTH,i),this.dimension.width-this.leftContainerWidth<t.MIN_CONTAINER_WIDTH&&(this.leftContainerWidth=this.dimension.width-t.MIN_CONTAINER_WIDTH),this.layoutContainers()},t.prototype.onSashDragEnd=function(){this.sash.layout()},t.prototype.onSashReset=function(){this.leftContainerWidth=this.dimension.width/2,this.layoutContainers(),this.sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this.leftContainerWidth},t.prototype.getVerticalSashHeight=function(e){return this.dimension.height},t.prototype.focus=function(){this.rightBinaryContainer.domFocus()},t.prototype.dispose=function(){this.sash.dispose(),this.leftScrollbar.dispose(),this.rightScrollbar.dispose(),this.leftBinaryContainer.destroy(),this.rightBinaryContainer.destroy(),e.prototype.dispose.call(this)},t.ID="workbench.editors.binaryResourceDiffEditor",t.MIN_CONTAINER_WIDTH=100,t=g([m(0,d.ITelemetryService),m(1,l.IWorkbenchEditorService)],t)}(c.BaseEditor);t.BinaryResourceDiffEditor=f}),define(l[870],d([1,0,481,2,31,291,65,149,22,21,770]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(e){function t(t,i,n){e.call(this,t,i),this._editorService=n}return h(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():i.localize(0,null)},Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){var t=document.createElement("div");t.className="binary-container",this.binaryContainer=o.$(t),this.binaryContainer.tabindex(0),e.getHTMLElement().appendChild(this.binaryContainer.getHTMLElement())},t.prototype.setInput=function(t,i){var o=this,s=this.getInput();e.prototype.setInput.call(this,t,i);var c=i&&i.forceOpen;return!c&&t.matches(s)?n.TPromise.as(null):this._editorService.resolveEditorModel(t,!0).then(function(e){if(!(e instanceof a.BinaryEditorModel))return n.TPromise.wrapError("Invalid editor input. Binary resource editor requires a model instance of BinaryEditorModel.");if(!o.getInput()||o.getInput()!==t)return null;var i=e;return r.ResourceViewer.show(i.getName(),i.getResource(),o.binaryContainer),n.TPromise.as(null)})},t.prototype.clearInput=function(){o.$(this.binaryContainer).empty(),e.prototype.clearInput.call(this)},t.prototype.layout=function(e){this.binaryContainer.size(e.width,e.height)},t.prototype.focus=function(){this.binaryContainer.domFocus()},t.prototype.dispose=function(){this.binaryContainer.destroy(),e.prototype.dispose.call(this)},t}(s.BaseEditor);t.BaseBinaryResourceEditor=l;var d=function(e){function t(i,n){e.call(this,t.ID,i,n)}return h(t,e),t.ID="workbench.editors.binaryResourceEditor",t=g([m(0,u.ITelemetryService),m(1,c.IWorkbenchEditorService)],t)}(l);t.BinaryResourceEditor=d}),define(l[871],d([1,0,543,870,47,21,22]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(i,n){e.call(this,t.ID,i,n)}return h(t,e),t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():i.localize(0,null)},t.ID=o.BINARY_FILE_EDITOR_ID,t=g([m(0,r.ITelemetryService),m(1,s.IWorkbenchEditorService)],t)}(n.BaseBinaryResourceEditor);t.BinaryFileEditor=a}),define(l[213],d([1,0,5,16,131,88,68,22,6]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){return e instanceof d||e instanceof v}var l=s.IGitService;t.isGitEditorInput=u;var d=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o),this.status=r}return h(t,e),t.prototype.getFileStatus=function(){return this.status},t.prototype.contains=function(e){if(this.matches(e))return!0;var t=this.originalInput;if(t&&t.matches(e))return!0;var i=this.modifiedInput;return!(!i||!i.matches(e))},t}(r.DiffEditorInput);t.GitDiffEditorInput=d;var p=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.getTypeId=function(){return t.ID},t.ID="vs.git.workingTreeDiffInput",t}(d);t.GitWorkingTreeDiffEditorInput=p;var f=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.getTypeId=function(){return t.ID},t.ID="vs.git.indexDiffInput",t}(d);t.GitIndexDiffEditorInput=f;var v=function(e){function t(t,i,o,r,a,c,u,l,d){var h=this;e.call(this,t,i,null,o,!1,d),this.gitService=u,this.editorService=l,this.status=r,this.path=a,this.treeish=c,this.delayer=new n.ThrottledDelayer(1e3),this.toDispose=[],this.toDispose.push(this.gitService.addListener2(s.ServiceEvents.STATE_CHANGED,function(){return h.onGitServiceStateChange()})),this.toDispose.push(this.gitService.addListener2(s.ServiceEvents.OPERATION_END,function(){return h.onGitServiceStateChange()}))}return h(t,e),t.prototype.getTypeId=function(){return t.ID},t.prototype.getFileStatus=function(){return this.status},t.prototype.resolve=function(t){var i=this;return t||!this.getValue()?this.gitService.buffer(this.path,this.treeish).then(function(n){return i.getValue()!==n&&i.setValue(n),e.prototype.resolve.call(i,t)}):e.prototype.resolve.call(this,t)},t.prototype.onGitServiceStateChange=function(){var e=this,t=this.editorService.isVisible(this,!0);t&&this.delayer.trigger(function(){return e.resolve(!0)})},t.prototype.dispose=function(){this.delayer&&(this.delayer.cancel(),this.delayer=null),this.toDispose=i.dispose(this.toDispose),e.prototype.dispose.call(this)},t.ID="vs.git.stringEditorInput",t=g([m(6,l),m(7,a.IWorkbenchEditorService),m(8,c.IInstantiationService)],t)}(o.StringEditorInput);t.NativeGitIndexStringEditorInput=v}),define(l[214],d([1,0,19,25,34]),function(e,t,i,n,o){"use strict";function r(e){return new o.FileChangesEvent(e.map(function(e){return{type:e.type,resource:i["default"].file(e.path)}}))}function s(e){for(var t=new a,i=0;i<e.length;i++){var n=e[i];t.processEvent(n)}return t.normalize()}t.toFileChangesEvent=r,t.normalize=s;var a=function(){function e(){this.normalized=[],this.mapPathToChange=Object.create(null)}return e.prototype.processEvent=function(e){var t=this.mapPathToChange[e.path];if(t){var i=t.type,n=e.type;i===o.FileChangeType.ADDED&&n===o.FileChangeType.DELETED?(delete this.mapPathToChange[e.path],this.normalized.splice(this.normalized.indexOf(t),1)):i===o.FileChangeType.DELETED&&n===o.FileChangeType.ADDED?t.type=o.FileChangeType.UPDATED:i===o.FileChangeType.ADDED&&n===o.FileChangeType.UPDATED||(t.type=n)}else this.normalized.push(e),this.mapPathToChange[e.path]=e},e.prototype.normalize=function(){var e=this,t=[],i=[];return this.normalized.filter(function(e){return 2===e.type||(t.push(e),!1)}).sort(function(e,t){return e.path.length-t.path.length}).filter(function(t){return!i.some(function(i){return e.isParent(t.path,i)})&&(i.push(t.path),!0)}).concat(t)},e.prototype.isParent=function(e,t){return 0===e.indexOf(t+n.nativeSep)},e}()}),define(l[874],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"watch":return this.service.watch(t)}},e}();t.WatcherChannel=i;var n=function(){function e(e){this.channel=e}return e.prototype.watch=function(e){return this.channel.call("watch",e)},e}();t.WatcherChannelClient=n}),define(l[875],d([1,0,2,115,180,19,34,214,874]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(){function t(e,t,i,n,o,r){this.basePath=e,this.ignored=t,this.eventEmitter=i,this.errorLogger=n,this.verboseLogging=o,this.debugBrkFileWatcherPort=r,this.isDisposed=!1,this.restartCounter=0}return t.prototype.startWatching=function(){var s=this,a=["--type=watcherService"];"number"==typeof this.debugBrkFileWatcherPort&&a.push("--debug-brk="+this.debugBrkFileWatcherPort);var u=new o.Client(r["default"].parse(e.toUrl("bootstrap")).fsPath,{serverName:"Watcher",args:a,env:{AMD_ENTRYPOINT:"vs/workbench/services/files/node/watcher/unix/watcherApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:this.verboseLogging}}),l=n.getNextTickChannel(u.getChannel("watcher")),d=new c.WatcherChannelClient(l);return d.watch({basePath:this.basePath,ignored:this.ignored,verboseLogging:this.verboseLogging}).then(null,function(e){if(!(e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message))return i.TPromise.wrapError(e)},function(e){return s.onRawFileEvents(e)}).done(function(){s.isDisposed||(s.restartCounter<=t.MAX_RESTARTS?(s.errorLogger("Watcher terminated unexpectedly and is restarted again..."),s.restartCounter++,s.startWatching()):s.errorLogger("Watcher failed to start after retrying for some time, giving up. Please report this as a bug report!"));
},this.errorLogger),function(){u.dispose(),s.isDisposed=!0}},t.prototype.onRawFileEvents=function(e){e.length>0&&this.eventEmitter.emit(s.EventType.FILE_CHANGES,a.toFileChangesEvent(e))},t.MAX_RESTARTS=5,t}();t.FileWatcher=u}),define(l[876],d([1,0,99,34,284,124,19]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function t(e,t,i,n,o){this.watchedFolder=e,this.ignored=t,this.eventCallback=i,this.errorCallback=n,this.verboseLogging=o,this.startWatcher()}return t.prototype.startWatcher=function(){var n=this,a=[this.watchedFolder];this.verboseLogging&&a.push("-verbose"),this.handle=i.spawn(s["default"].parse(e.toUrl("vs/workbench/services/files/node/watcher/win32/CodeHelper.exe")).fsPath,a);var c=new o.LineDecoder;this.handle.stdout.on("data",function(e){var i=[];c.write(e).forEach(function(e){var o=e.split("|");if(2===o.length){var s=Number(o[0]),a=o[1];if(s>=0&&s<3){if(n.ignored&&n.ignored.some(function(e){return r.match(e,a)}))return;i.push({type:t.changeTypeMap[s],path:a})}else console.log("%c[File Watcher]","color: darkgreen",o[1])}}),i.length>0&&n.eventCallback(i)}),this.handle.on("error",function(e){return n.onError(e)}),this.handle.stderr.on("data",function(e){return n.onError(e)}),this.handle.on("exit",function(e,t){return n.onExit(e,t)})},t.prototype.onError=function(e){this.errorCallback("[FileWatcher] process error: "+e.toString())},t.prototype.onExit=function(e,t){this.handle&&(this.errorCallback("[FileWatcher] terminated unexpectedly (code: "+e+", signal: "+t+")"),this.startWatcher())},t.prototype.dispose=function(){this.handle&&(this.handle.kill(),this.handle=null)},t.changeTypeMap=[n.FileChangeType.UPDATED,n.FileChangeType.ADDED,n.FileChangeType.DELETED],t}();t.OutOfProcessWin32FolderWatcher=a}),define(l[877],d([1,0,34,214,876]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t,i,n,o){this.basePath=e,this.ignored=t,this.eventEmitter=i,this.errorLogger=n,this.verboseLogging=o}return e.prototype.startWatching=function(){var e=this,t=new o.OutOfProcessWin32FolderWatcher(this.basePath,this.ignored,function(t){return e.onRawFileEvents(t)},function(t){return e.onError(t)},this.verboseLogging);return function(){return t.dispose()}},e.prototype.onRawFileEvents=function(e){e.length>0&&this.eventEmitter.emit(i.EventType.FILE_CHANGES,n.toFileChangesEvent(e))},e.prototype.onError=function(e){this.errorLogger(e)},e}();t.FileWatcher=r}),define(l[878],d([1,0,74,102,160,318,981,34,9,41,58,25,2,17,29,161,16,19,593,112,179,218,286,875,877,214]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,g,m,v,y,E,S,b,_,C,w,I){"use strict";function T(e,t){var i,n;return"number"==typeof t?(i=e,n=t):(i=e.size,n=e.mtime.getTime()),'"'+r.createHash("sha1").update(String(i)+String(n)).digest("hex")+'"'}var A=function(){function e(t,n,r){if(this.eventEmitter=r,this.serviceId=a.IFileService,this.basePath=t?i.normalize(t):void 0,this.basePath&&0===this.basePath.indexOf("\\\\")&&c.endsWith(this.basePath,i.sep)&&(this.basePath=c.rtrim(this.basePath,i.sep)),this.basePath&&!i.isAbsolute(t))throw new Error("basePath has to be an absolute path");this.options=n||Object.create(null),this.tmpPath=this.options.tmpDir||o.tmpdir(),this.options&&!this.options.errorLogger&&(this.options.errorLogger=console.error),this.basePath&&!this.options.disableWatcher&&("win32"===process.platform?this.setupWin32WorkspaceWatching():this.setupUnixWorkspaceWatching()),this.activeFileChangesWatchers=Object.create(null),this.fileChangesWatchDelayer=new m.ThrottledDelayer(e.FS_EVENT_DELAY),this.undeliveredRawFileChangesEvents=[]}return e.prototype.updateOptions=function(e){e&&f.mixin(this.options,e)},e.prototype.setupWin32WorkspaceWatching=function(){this.workspaceWatcherToDispose=new w.FileWatcher(this.basePath,this.options.watcherIgnoredPatterns,this.eventEmitter,this.options.errorLogger,this.options.verboseLogging).startWatching()},e.prototype.setupUnixWorkspaceWatching=function(){this.workspaceWatcherToDispose=new C.FileWatcher(this.basePath,this.options.watcherIgnoredPatterns,this.eventEmitter,this.options.errorLogger,this.options.verboseLogging,this.options.debugBrkFileWatcherPort).startWatching()},e.prototype.resolveFile=function(e,t){return this.resolve(e,t)},e.prototype.existsFile=function(e){return this.resolveFile(e).then(function(){return!0},function(){return!1})},e.prototype.resolveContent=function(e,t){var i=this;return this.doResolveContent(e,t,function(e,t,n){return i.resolveFileContent(e,t,n)})},e.prototype.resolveStreamContent=function(e,t){var i=this;return this.doResolveContent(e,t,function(e,t,n){return i.resolveFileStreamContent(e,t,n)})},e.prototype.doResolveContent=function(e,t,i){var n=this,o=this.toAbsolutePath(e);return m.nfcall(b.detectMimesFromFile,o).then(function(o){var r=o.mimes.indexOf(l.MIME_BINARY)===-1;if(t&&t.acceptTextOnly&&!r)return h.TPromise.wrapError({message:y.localize(0,null),fileOperationResult:a.FileOperationResult.FILE_IS_BINARY});var s;return t&&t.encoding?s=o.encoding===S.UTF8&&t.encoding===S.UTF8?S.UTF8_with_bom:t.encoding:o.encoding?s=o.encoding===S.UTF8?S.UTF8_with_bom:o.encoding:n.options.encoding===S.UTF8_with_bom&&(s=S.UTF8),i(e,t&&t.etag,s).then(function(e){return e.mime=o.mimes.join(", "),e})},function(e){return p.isUndefinedOrNull(e.fileOperationResult)?E.exists(o).then(function(t){return t?E.stat(o).then(function(t){return t.isDirectory()?h.TPromise.wrapError({message:y.localize(2,null,o),fileOperationResult:a.FileOperationResult.FILE_IS_DIRECTORY}):h.TPromise.wrapError(e)}):h.TPromise.wrapError({message:y.localize(1,null,o),fileOperationResult:a.FileOperationResult.FILE_NOT_FOUND})}):h.TPromise.wrapError(e)})},e.prototype.resolveContents=function(t){var i=this,n=new m.Limiter(e.MAX_DEGREE_OF_PARALLEL_FS_OPS),o=[];return t.forEach(function(e){o.push(n.queue(function(){return i.resolveFileContent(e).then(function(e){return e},function(e){return h.TPromise.as(null)})}))}),h.TPromise.join(o).then(function(e){return u.coalesce(e)})},e.prototype.updateContent=function(e,t,n){var o=this;void 0===n&&(n=Object.create(null));var r=this.toAbsolutePath(e);return this.checkFile(r,n).then(function(s){var a;return a=s?h.TPromise.as(null):E.mkdirp(i.dirname(r)),a.then(function(){var i=o.getEncoding(e,n.encoding),a=h.TPromise.as(!1);return i===S.UTF16be||i===S.UTF16le||i===S.UTF8_with_bom?a=h.TPromise.as(!0):s&&i===S.UTF8&&(a=n.overwriteEncoding?h.TPromise.as(!1):m.nfcall(S.detectEncodingByBOM,r).then(function(e){return e===S.UTF8})),a.then(function(n){var s;if(n||i!==S.UTF8){var a=S.encode(t,i,{addBOM:n});s=E.writeFile(r,a)}else s=E.writeFile(r,t,S.UTF8);return s.then(function(){return o.resolve(e)})})})})},e.prototype.createFile=function(e,t){return void 0===t&&(t=""),this.updateContent(e,t)},e.prototype.createFolder=function(e){var t=this,i=this.toAbsolutePath(e);return E.mkdirp(i).then(function(){return t.resolve(e)})},e.prototype.rename=function(e,t){var n=i.join(i.dirname(e.fsPath),t);return this.moveFile(e,v["default"].file(n))},e.prototype.moveFile=function(e,t,i){return this.moveOrCopyFile(e,t,!1,i)},e.prototype.copyFile=function(e,t,i){return this.moveOrCopyFile(e,t,!0,i)},e.prototype.moveOrCopyFile=function(e,t,i,n){var o=this,r=this.toAbsolutePath(e),s=this.toAbsolutePath(t);return this.doMoveOrCopyFile(r,s,i,n).then(function(){return o.resolve(t)})},e.prototype.doMoveOrCopyFile=function(e,t,n,o){var r=this;return E.exists(t).then(function(s){var c=e.toLowerCase()===t.toLowerCase(),u=e===t;if(s&&!c&&!o)return h.TPromise.wrapError({fileOperationResult:a.FileOperationResult.FILE_MOVE_CONFLICT});var l=h.TPromise.as(null);if(s&&!c){if(d.isEqualOrParent(e,t))return h.TPromise.wrapError(y.localize(3,null));l=r.del(v["default"].file(t))}return l.then(function(){return E.mkdirp(i.dirname(t)).then(function(){return u?h.TPromise.as(null):n?m.nfcall(g.copy,e,t):m.nfcall(g.mv,e,t)}).then(function(){return s})})})},e.prototype.importFile=function(e,t){var n=this,o=this.toAbsolutePath(e),r=v["default"].file(i.join(t.fsPath,i.basename(e.fsPath))),s=this.toAbsolutePath(r);return E.stat(o).then(function(e){return e.isDirectory()?h.TPromise.wrapError(y.localize(4,null)):n.doMoveOrCopyFile(o,s,!0,!0).then(function(e){return n.resolve(r).then(function(t){return{isNew:!e,stat:t}})})})},e.prototype.del=function(e){var t=this.toAbsolutePath(e);return m.nfcall(g.del,t,this.tmpPath)},e.prototype.toAbsolutePath=function(e){var t;return t=e instanceof v["default"]?e:e.resource,s.ok(t&&"file"===t.scheme,"Invalid resource: "+t),i.normalize(t.fsPath)},e.prototype.resolve=function(e,t){return void 0===t&&(t=Object.create(null)),this.toStatResolver(e).then(function(e){return e.resolve(t)})},e.prototype.toStatResolver=function(e){var t=this,i=this.toAbsolutePath(e);return E.stat(i).then(function(i){return new L(e,i.isDirectory(),i.mtime.getTime(),i.size,t.options.verboseLogging)})},e.prototype.resolveFileStreamContent=function(e,t,i){var o=this,r=this.toAbsolutePath(e);return this.resolve(e).then(function(e){if(t&&t===e.etag)return h.TPromise.wrapError({fileOperationResult:a.FileOperationResult.FILE_NOT_MODIFIED_SINCE});if(p.isNumber(e.size)&&e.size>a.MAX_FILE_SIZE)return h.TPromise.wrapError({fileOperationResult:a.FileOperationResult.FILE_TOO_LARGE});var s=o.getEncoding(e.resource,i),c=n.createReadStream(r).pipe(S.decodeStream(s)),u=e;return u.value=c,u.encoding=s,h.TPromise.as(u)})},e.prototype.resolveFileContent=function(e,t,i){return this.resolveFileStreamContent(e,t,i).then(function(e){return new h.TPromise(function(t,i){var n=!1,o=[];e.value.on("data",function(e){o.push(e)}),e.value.on("error",function(e){n||(n=!0,i(e))}),e.value.on("end",function(){var i=e;i.value=o.join(""),n||(n=!0,t(i))})})})},e.prototype.getEncoding=function(e,t){var i,n=this.getEncodingOverride(e);return i=n?n:t?t:this.options.encoding,i&&S.encodingExists(i)||(i=S.UTF8),i},e.prototype.getEncodingOverride=function(e){if(e&&this.options.encodingOverride&&this.options.encodingOverride.length)for(var t=0;t<this.options.encodingOverride.length;t++){var i=this.options.encodingOverride[t];if(0===e.toString().indexOf(i.resource.toString()+"/"))return i.encoding}return null},e.prototype.checkFile=function(e,t){return E.exists(e).then(function(i){return i?E.stat(e).then(function(n){if(n.isDirectory())return h.TPromise.wrapError(new Error("Expected file is actually a directory"));if("number"==typeof t.mtime&&"string"==typeof t.etag&&t.mtime<n.mtime.getTime()&&t.etag!==T(n.size,t.mtime))return h.TPromise.wrapError({message:"File Modified Since",fileOperationResult:a.FileOperationResult.FILE_MODIFIED_SINCE});var o=n.mode,r=!(128&o);return r&&!t.overwriteReadonly?h.TPromise.wrapError({message:y.localize(5,null),fileOperationResult:a.FileOperationResult.FILE_READ_ONLY}):r?(o=128|o,E.chmod(e,o).then(function(){return i})):h.TPromise.as(i)}):h.TPromise.as(i)})},e.prototype.watchFileChanges=function(e){var t=this;s.ok(e&&"file"===e.scheme,"Invalid resource for watching: "+e);var i=e.fsPath,o=this.activeFileChangesWatchers[e.toString()];if(!o){try{o=n.watch(i)}catch(r){return}this.activeFileChangesWatchers[e.toString()]=o,o.on("change",function(e){"change"===e&&(t.undeliveredRawFileChangesEvents.push({type:a.FileChangeType.UPDATED,path:i}),t.fileChangesWatchDelayer.trigger(function(){var e=t.undeliveredRawFileChangesEvents;t.undeliveredRawFileChangesEvents=[];var i=I.normalize(e);return t.eventEmitter.emit(a.EventType.FILE_CHANGES,I.toFileChangesEvent(i)),h.TPromise.as(null)}))})}},e.prototype.unwatchFileChanges=function(e){var t="string"==typeof e?v["default"].parse(e):e,i=this.activeFileChangesWatchers[t.toString()];i&&(i.close(),delete this.activeFileChangesWatchers[t.toString()])},e.prototype.dispose=function(){this.workspaceWatcherToDispose&&(this.workspaceWatcherToDispose(),this.workspaceWatcherToDispose=null);for(var e in this.activeFileChangesWatchers){var t=this.activeFileChangesWatchers[e];t.close()}this.activeFileChangesWatchers=Object.create(null)},e.FS_EVENT_DELAY=50,e.MAX_DEGREE_OF_PARALLEL_FS_OPS=10,e}();t.FileService=A;var L=function(){function e(e,t,n,o,r){s.ok(e&&"file"===e.scheme,"Invalid resource: "+e),this.resource=e,this.isDirectory=t,this.mtime=n,this.name=i.basename(e.fsPath),this.mime=this.isDirectory?null:l.guessMimeTypes(e.fsPath).join(", "),this.etag=T(o,n),this.size=o,this.verboseLogging=r}return e.prototype.resolve=function(e){var t=this,i={resource:this.resource,isDirectory:this.isDirectory,hasChildren:void 0,name:this.name,etag:this.etag,size:this.size,mtime:this.mtime,mime:this.mime};if(this.isDirectory){var n=null;return e&&e.resolveTo&&(n=[],e.resolveTo.forEach(function(e){n.push(e.fsPath)})),new h.TPromise(function(o,r){t.resolveChildren(t.resource.fsPath,n,e&&e.resolveSingleChildDescendants,function(e){e=u.coalesce(e),i.hasChildren=e&&e.length>0,i.children=e||[],o(i)})})}return h.TPromise.as(i)},e.prototype.resolveChildren=function(e,t,o,r){var s=this;g.readdir(e,function(a,c){return a?(s.verboseLogging&&console.error(a),r(null)):void _.parallel(c,function(r,a){var h,p=v["default"].file(i.resolve(e,r)),f=s;_.sequence(function(e){f.verboseLogging&&console.error(e),a(null,null)},function(){n.stat(p.fsPath,this)},function(e){var t=this;h=e,h.isDirectory()?g.readdir(p.fsPath,function(e,i){t(null,i?i.length:0)}):this(null,0)},function(e){var i={resource:p,isDirectory:h.isDirectory(),hasChildren:e>0,name:r,mtime:h.mtime.getTime(),etag:T(h),size:h.size,mime:h.isDirectory()?void 0:l.guessMimeTypes(p.fsPath).join(", ")};if(!h.isDirectory())return a(null,i);var n=!1;1===c.length&&o?n=!0:e>0&&t&&t.some(function(e){return d.isEqualOrParent(e,p.fsPath)})&&(n=!0),n?f.resolveChildren(p.fsPath,t,o,function(e){e=u.coalesce(e),i.hasChildren=e&&e.length>0,i.children=e||[],a(null,i)}):a(null,i)})},function(e,t){r(t)})})},e}();t.StatResolver=L}),define(l[879],d([1,0,592,2,25,179,7,9,19,75,34,878,23,28,32,27,18,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E){"use strict";var S="System.MissingMethodException",b=function(){function e(e,t,i,n){var s=this;this.configurationService=e,this.eventService=t,this.contextService=i,this.messageService=n,this.serviceId=l.IFileService;var a=this.configurationService.getConfiguration(),u=this.contextService.getConfiguration().env,h=[];h.push({resource:c["default"].file(u.appSettingsHome),encoding:r.UTF8}),this.contextService.getWorkspace()&&h.push({resource:c["default"].file(o.join(this.contextService.getWorkspace().resource.fsPath,".vscode")),encoding:r.UTF8});var p=[];a.files&&a.files.watcherExclude&&(p=Object.keys(a.files.watcherExclude).filter(function(e){return!!a.files.watcherExclude[e]}));var f={errorLogger:function(e){return s.onFileServiceError(e)},encoding:a.files&&a.files.encoding,encodingOverride:h,watcherIgnoredPatterns:p,verboseLogging:u.verboseLogging,debugBrkFileWatcherPort:u.debugBrkFileWatcherPort};"number"==typeof u.debugBrkFileWatcherPort&&console.warn("File Watcher STOPPED on first line for debugging on port "+u.debugBrkFileWatcherPort);var g=this.contextService.getWorkspace();this.raw=new d.FileService(g?g.resource.fsPath:void 0,f,this.eventService),this.registerListeners()}return e.prototype.onFileServiceError=function(e){s.onUnexpectedError(e),e&&e.indexOf(S)>=0&&this.messageService.show(y.Severity.Warning,{message:i.localize(0,null),actions:[new v.Action("install.net",i.localize(1,null),null,(!0),function(){return E.shell.openExternal("https://go.microsoft.com/fwlink/?LinkId=786533"),n.TPromise.as(!0)})]})},e.prototype.registerListeners=function(){var e=this;this.configurationChangeListenerUnbind=this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})},e.prototype.onConfigurationChange=function(e){this.updateOptions(e.files)},e.prototype.updateOptions=function(e){this.raw.updateOptions(e)},e.prototype.resolveFile=function(e,t){return this.raw.resolveFile(e,t)},e.prototype.existsFile=function(e){return this.raw.existsFile(e)},e.prototype.resolveContent=function(e,t){var i=e.toString(),n=u.start(u.Topic.WORKBENCH,a.format("Load {0}",i));return this.raw.resolveContent(e,t).then(function(e){return n.stop(),e})},e.prototype.resolveStreamContent=function(e,t){var i=e.toString(),n=u.start(u.Topic.WORKBENCH,a.format("Load {0}",i));return this.raw.resolveStreamContent(e,t).then(function(e){return n.stop(),e})},e.prototype.resolveContents=function(e){return this.raw.resolveContents(e)},e.prototype.updateContent=function(e,t,i){var o=u.start(u.Topic.WORKBENCH,a.format("Save {0}",e.toString()));return this.raw.updateContent(e,t,i).then(function(e){return o.stop(),e},function(e){return o.stop(),n.TPromise.wrapError(e)})},e.prototype.moveFile=function(e,t,i){return this.raw.moveFile(e,t,i)},e.prototype.copyFile=function(e,t,i){return this.raw.copyFile(e,t,i)},e.prototype.createFile=function(e,t){return this.raw.createFile(e,t)},e.prototype.createFolder=function(e){return this.raw.createFolder(e)},e.prototype.rename=function(e,t){return this.raw.rename(e,t)},e.prototype.del=function(e,t){return t?this.doMoveItemToTrash(e):this.raw.del(e)},e.prototype.doMoveItemToTrash=function(e){var t=this.contextService.getWorkspace();if(!t)return n.TPromise.wrapError("Need a workspace to use this");var r=e.fsPath,s=E.shell.moveItemToTrash(r);return s?n.TPromise.as(null):n.TPromise.wrapError(new Error(i.localize(2,null,o.basename(r))))},e.prototype.importFile=function(e,t){return this.raw.importFile(e,t).then(function(e){return{isNew:e&&e.isNew,stat:e&&e.stat}})},e.prototype.watchFileChanges=function(e){e&&"file"===e.scheme&&(this.contextService.isInsideWorkspace(e)||this.raw.watchFileChanges(e))},e.prototype.unwatchFileChanges=function(e){this.raw.unwatchFileChanges(e)},e.prototype.dispose=function(){this.configurationChangeListenerUnbind&&(this.configurationChangeListenerUnbind.dispose(),this.configurationChangeListenerUnbind=null),this.raw.dispose()},e=g([m(0,h.IConfigurationService),m(1,p.IEventService),m(2,f.IWorkspaceContextService),m(3,y.IMessageService)],e)}();t.FileService=b}),define(l[44],d([1,0,6]),function(e,t,i){"use strict";!function(e){e[e.MINIMIZE_OTHERS=0]="MINIMIZE_OTHERS",e[e.EVEN_WIDTH=1]="EVEN_WIDTH"}(t.GroupArrangement||(t.GroupArrangement={}));t.GroupArrangement;t.IEditorGroupService=i.createDecorator("editorGroupService")}),define(l[276],d([1,0,2,27,556,25,76,12,33,22,30,18,44,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var v=function(e){function t(t){e.call(this,"workbench.action.files.revealInWindows",a.isWindows?o.localize(0,null):a.isMacintosh?o.localize(1,null):o.localize(2,null)),this.resource=t,this.order=45}return h(t,e),t.prototype.run=function(){return f.shell.showItemInFolder(r.normalize(this.resource.fsPath,!0)),i.TPromise.as(!0)},t}(n.Action);t.RevealInOSAction=v;var y=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.messageService=o}return h(t,e),t.prototype.run=function(){var e=l.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return e?f.shell.showItemInFolder(r.normalize(e.getResource().fsPath,!0)):this.messageService.show(c["default"].Info,o.localize(6,null)),i.TPromise.as(!0)},t.ID="workbench.action.files.revealActiveFileInWindows",t.LABEL=a.isWindows?o.localize(3,null):a.isMacintosh?o.localize(4,null):o.localize(5,null),t=g([m(2,u.IWorkbenchEditorService),m(3,d.IMessageService)],t)}(n.Action);t.GlobalRevealInOSAction=y;var E=function(e){function t(t){e.call(this,"workbench.action.files.copyPath",o.localize(7,null)),this.resource=t,this.order=140}return h(t,e),t.prototype.run=function(){return f.clipboard.writeText(s.getPathLabel(this.resource)),i.TPromise.as(!0)},t}(n.Action);t.CopyPathAction=E;var S=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorService=n,this.editorGroupService=o,this.messageService=r}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor(),t=e?l.asFileEditorInput(e.input,!0):void 0;return t?(f.clipboard.writeText(s.getPathLabel(t.getResource())),this.editorGroupService.focusGroup(e.position)):this.messageService.show(c["default"].Info,o.localize(9,null)),i.TPromise.as(!0)},t.ID="workbench.action.files.copyPathOfActiveFile",t.LABEL=o.localize(8,null),t=g([m(2,u.IWorkbenchEditorService),m(3,p.IEditorGroupService),m(4,d.IMessageService)],t)}(n.Action);t.GlobalCopyPathAction=S;var b=function(e){function t(t,i,n){e.call(this,t,i),this.ipcMsg=n}return h(t,e),t.prototype.run=function(){return f.ipcRenderer.send(this.ipcMsg),i.TPromise.as(!0)},t}(n.Action);t.BaseOpenAction=b,t.OPEN_FILE_ID="workbench.action.files.openFile",t.OPEN_FILE_LABEL=o.localize(10,null);var _=function(e){function t(t,i,n){e.call(this,t,i),this.editorService=n}return h(t,e),t.prototype.run=function(){var e=l.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return e?f.ipcRenderer.send("vscode:openFilePicker",!1,r.dirname(e.getResource().fsPath)):f.ipcRenderer.send("vscode:openFilePicker"),i.TPromise.as(!0)},t=g([m(2,u.IWorkbenchEditorService)],t)}(n.Action);t.OpenFileAction=_,t.OPEN_FOLDER_ID="workbench.action.files.openFolder",t.OPEN_FOLDER_LABEL=o.localize(11,null);var C=function(e){function t(t,i){e.call(this,t,i,"vscode:openFolderPicker")}return h(t,e),t}(b);t.OpenFolderAction=C,t.OPEN_FILE_FOLDER_ID="workbench.action.files.openFileFolder",t.OPEN_FILE_FOLDER_LABEL=o.localize(12,null);var w=function(e){function t(t,i){e.call(this,t,i,"vscode:openFileFolderPicker")}return h(t,e),t}(b);t.OpenFileFolderAction=w;var I=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.messageService=o}return h(t,e),t.prototype.run=function(){var e=l.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return e?f.ipcRenderer.send("vscode:windowOpen",[e.getResource().fsPath],!0):this.messageService.show(c["default"].Info,o.localize(14,null)),i.TPromise.as(!0)},t.ID="workbench.action.files.showOpenedFileInNewWindow",t.LABEL=o.localize(13,null),t=g([m(2,u.IWorkbenchEditorService),m(3,d.IMessageService)],t)}(n.Action);t.ShowOpenedFileInNewWindow=I}),define(l[882],d([1,0,562,12,2,5,17,27,7,58,25,36,68,236,213,829,47,34,16,33,86,22,23,28,6,18,32,72,19,243,52,39,44]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P){"use strict";function N(e){return n.isWindows?e.replace(/\//g,"\\"):e}var F=function(){function e(e,t,i,n,o,r,s){var a=this;this.instantiationService=t,this.fileService=i,this.eventService=n,this.editorService=o,this.editorGroupService=r,this.contextService=s,this.gitService=e,this.cache={},this.toDispose=[],this.toDispose.push(this.gitService.getModel().addListener2("fileStatus:dispose",function(e){return a.onFileStatusDispose(e)}))}return e.prototype.getInput=function(e){var t=this.cache[e.getId()];return t?t:(t=this.createInput(e),this.cache[e.getId()]=t,t)},e.prototype.createInput=function(e){var t=this;return o.TPromise.join([this.createLeftInput(e),this.createRightInput(e)]).then(function(t){var n,r,s=t[0],a=t[1];if(e.getStatus()===p.Status.INDEX_RENAMED){var c=e.getRename().split("/");n=c[c.length-1],r=N(c.slice(0,c.length-1).join("/"))}else{var c=e.getPathComponents();n=c[c.length-1],r=N(c.slice(0,c.length-1).join("/"))}if(!s){if(!a){var u=new Error(i.localize(0,null));return u.gitErrorCode=p.GitErrorCodes.CantOpenResource,o.Promise.wrapError(u)}return o.TPromise.as(a)}switch(e.getStatus()){case p.Status.INDEX_MODIFIED:return o.TPromise.as(new v.GitIndexDiffEditorInput(i.localize(1,null,n,n),i.localize(2,null,r),s,a,e));case p.Status.INDEX_RENAMED:return o.TPromise.as(new v.GitIndexDiffEditorInput(i.localize(3,null,e.getRename(),e.getPath()),i.localize(4,null,r),s,a,e));case p.Status.MODIFIED:return o.TPromise.as(new v.GitWorkingTreeDiffEditorInput(i.localize(5,null,n,n),i.localize(6,null,r),s,a,e));default:return o.TPromise.as(new v.GitDiffEditorInput(i.localize(7,null,n,n),i.localize(8,null,r),s,a,e))}}).then(function(i){return i.addOneTimeDisposableListener("dispose",function(){delete t.cache[e.getId()]}),i},function(e){return o.Promise.wrapError(s.isArray(e)?e[0]||e[1]:e)})},e.prototype.createLeftInput=function(e){var t=e.getPath(),i=this.gitService.getModel();switch(e.getStatus()){case p.Status.INDEX_MODIFIED:case p.Status.INDEX_RENAMED:return this.gitService.show(t,e,"HEAD",e.getMimetype());case p.Status.MODIFIED:var n=i.getStatus().find(t,p.StatusType.INDEX);return n&&n.getStatus()===p.Status.INDEX_RENAMED?this.gitService.show(n.getRename(),e,"~",e.getMimetype()):n?this.gitService.show(t,e,"~",e.getMimetype()):this.gitService.show(t,e,"HEAD",e.getMimetype());default:return o.TPromise.as(null)}},e.prototype.createRightInput=function(e){var t=this.gitService.getModel(),i=e.getPath(),n=x["default"].file(l.join(t.getRepositoryRoot(),i));switch(e.getStatus()){case p.Status.INDEX_MODIFIED:case p.Status.INDEX_ADDED:case p.Status.INDEX_COPIED:return this.gitService.show(i,e,"~",e.getMimetype());case p.Status.INDEX_RENAMED:return this.gitService.show(e.getRename(),e,"~",e.getMimetype());case p.Status.INDEX_DELETED:case p.Status.DELETED:return this.gitService.show(i,e,"HEAD",e.getMimetype());case p.Status.MODIFIED:case p.Status.UNTRACKED:case p.Status.IGNORED:var r=t.getStatus().find(i,p.StatusType.INDEX);return r&&r.getStatus()===p.Status.INDEX_RENAMED&&(n=x["default"].file(l.join(t.getRepositoryRoot(),r.getRename()))),this.editorService.createInput({resource:n});case p.Status.BOTH_MODIFIED:return this.editorService.createInput({resource:n});default:return o.TPromise.as(null)}},e.prototype.onFileStatusDispose=function(e){var t=this,i=e.getId(),n=this.cache[i];n&&n.done(function(e){t.eventuallyDispose(e)})},e.prototype.eventuallyDispose=function(e){var t=this;if(!this.maybeDispose(e))var i=this.editorGroupService.onEditorsChanged(function(){t.maybeDispose(e)&&i.dispose()})},e.prototype.maybeDispose=function(e){return!e.isDirty()&&!this.editorService.getVisibleEditors().some(function(t){return t.input&&t.input.matches(e)})&&(e.dispose(),!0)},e.prototype.dispose=function(){var e=this;Object.keys(this.cache).forEach(function(t){e.cache[t].done(function(e){e.dispose()}),delete e.cache[t]}),this.toDispose=r.dispose(this.toDispose)},e=g([m(1,A.IInstantiationService),m(2,S.IFileService),m(3,T.IEventService),m(4,w.IWorkbenchEditorService),m(5,P.IEditorGroupService),m(6,D.IWorkspaceContextService)],e)}(),W=function(){function e(t,i,n,o,r,s){var a=this;this._state=p.AutoFetcherState.Disabled,this.gitService=t,this.eventService=i,this.messageService=n,this.configurationService=r,this.instantiationService=s,this.currentRequest=null,this.timeout=e.MIN_TIMEOUT,this.toDispose=[],this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(e){return a.onConfiguration(e.config.git)})),this.onConfiguration(r.getConfiguration("git"))}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.onConfiguration=function(e){e.autofetch===!1?this.disable():this.enable()},e.prototype.enable=function(){var e=this;this._state===p.AutoFetcherState.Disabled&&(this.gitServiceStateDisposable=this.gitService.addListener2(p.ServiceEvents.STATE_CHANGED,function(t){return e.onGitServiceStateChange(t)}),this._state=p.AutoFetcherState.Active,this.onGitServiceStateChange(this.gitService.getState()))},e.prototype.disable=function(){this.gitServiceStateDisposable&&(this.gitServiceStateDisposable.dispose(),this.gitServiceStateDisposable=null),this.deactivate(),this._state=p.AutoFetcherState.Disabled},e.prototype.onGitServiceStateChange=function(e){e===p.ServiceState.OK?this.activate():this.deactivate()},e.prototype.activate=function(){this.currentRequest&&this.currentRequest.cancel(),this._state=p.AutoFetcherState.Active,this.loop()},e.prototype.deactivate=function(){this.currentRequest&&(this._state=p.AutoFetcherState.Inactive,this.currentRequest.cancel(),this.currentRequest=null)},e.prototype.loop=function(){var t=this;this._state=p.AutoFetcherState.Fetching,this.currentRequest=this.gitService.fetch().then(function(){t.timeout=e.MIN_TIMEOUT},function(i){return c.isPromiseCanceledError(i)?o.Promise.wrapError(i):i.gitErrorCode===p.GitErrorCodes.AuthenticationFailed?o.Promise.wrapError(i):void(t.timeout=Math.min(Math.round(1.2*t.timeout),e.MAX_TIMEOUT))}),this.currentRequest.then(function(){return t._state=p.AutoFetcherState.Active,t.currentRequest=o.TPromise.timeout(t.timeout),t.currentRequest}).then(function(){return t.loop()},function(e){return t.deactivate()})},e.prototype.dispose=function(){this.disable()},e.MIN_TIMEOUT=12e4,e.MAX_TIMEOUT=3e5,e=g([m(1,T.IEventService),m(2,L.IMessageService),m(3,w.IWorkbenchEditorService),m(4,I.IConfigurationService),m(5,A.IInstantiationService)],e)}();t.AutoFetcher=W;var B="settings.workspace.git.ignoreOld",K=function(e){function t(t,n,o,r,s,c,u,l,d,h){var g=this;e.call(this),this.configurationService=h,this.serviceId=p.IGitService,this.instantiationService=n,this.eventService=o,this.messageService=r,this.editorService=s,this.outputService=c,this.contextService=u,this.lifecycleService=l,this.raw=t,this.state=p.ServiceState.NotInitialized,this.operations=[],this.model=new f.Model,this.toDispose=[],this.needsRefresh=!1,this.statusDelayer=new b.ThrottledDelayer(500),this.reactiveStatusDelayer=new b.PeriodThrottledDelayer(500,1e4),this.autoFetcher=this.instantiationService.createInstance(W,this),this._allowHugeRepositories=!1,this.registerListeners(),this.inputCache=this.instantiationService.createInstance(F,this),this.triggerStatus(),d.getBoolean(B,O.StorageScope.GLOBAL,!1)||this.raw.serviceState().done(function(e){if(e===p.RawServiceState.OK)return g.raw.getVersion().then(function(e){e=e||"",e=e.replace(/^(\d+\.\d+\.\d+).*$/,"$1"),e=M.valid(e),e&&M.satisfies(e,"<2.0.0")&&r.show(_["default"].Warning,{message:i.localize(9,null,e),actions:[L.CloseAction,new a.Action("neverShowAgain",i.localize(10,null),null,(!0),function(){return d.store(B,!0,O.StorageScope.GLOBAL),null}),new a.Action("downloadLatest",i.localize(11,null),"",(!0),function(){return R.shell.openExternal("https://git-scm.com/"),null})]})})})}return h(t,e),Object.defineProperty(t.prototype,"allowHugeRepositories",{get:function(){return this._allowHugeRepositories},set:function(e){this._allowHugeRepositories=e,e&&this.state===p.ServiceState.Huge&&this.transition(p.ServiceState.OK)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onOutput",{get:function(){return this.raw.onOutput},enumerable:!0,configurable:!0}),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2(S.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)})),this.toDispose.push(this.eventService.addListener2(E.EventType.FILE_SAVED,function(t){return e.onTextFileChange(t)})),this.toDispose.push(this.eventService.addListener2(E.EventType.FILE_REVERTED,function(t){return e.onTextFileChange(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(){if(!e._allowHugeRepositories){var t=e.configurationService.getConfiguration("git");e._allowHugeRepositories=t.allowLargeRepositories,e._allowHugeRepositories&&e.triggerStatus()}})),this.lifecycleService.onShutdown(this.dispose,this)},t.prototype.onTextFileChange=function(e){var t=".gitignore"===l.basename(e.resource.fsPath);t&&this.triggerStatus()},t.prototype.onFileChanges=function(e){var t=this,i=this.isIdle(),n=e.changes.some(function(e){var n=t.contextService.toWorkspaceRelativePath(e.resource);return!!n&&(".git/index"===n?i:!/^\.git/.test(n)||(".git"===n?e.type===S.FileChangeType.ADDED||e.type===S.FileChangeType.DELETED:[".git/index.lock",".git/FETCH_HEAD",".gitignore",".gitmodules"].indexOf(n)===-1))});n&&this.triggerStatus()},t.prototype.onGitServiceOperationEnd=function(e){e.operation.id===p.ServiceOperations.COMMAND&&this.triggerStatus()},t.prototype.getState=function(){return this.state},t.prototype.getModel=function(){return this.model},t.prototype.status=function(){var e=this;return this.statusDelayer.trigger(function(){return e._status()})},t.prototype._status=function(){var e=this,t=this.configurationService.getConfiguration("git");
return this._allowHugeRepositories||t.allowLargeRepositories?this.run(p.ServiceOperations.STATUS,function(){return e.raw.status()}):this.state===p.ServiceState.Huge?o.TPromise.as(this.model):this.raw.statusCount().then(function(t){return t>5e3&&!e._allowHugeRepositories?(e.transition(p.ServiceState.Huge),o.TPromise.as(e.model)):e.run(p.ServiceOperations.STATUS,function(){return e.raw.status()})})},t.prototype.triggerStatus=function(){var e=this;this.reactiveStatusDelayer.trigger(function(){return e.status()}).done(null,function(t){c.isPromiseCanceledError(t)||e.messageService.show(_["default"].Error,t)})},t.prototype.init=function(){var e=this;return this.run(p.ServiceOperations.INIT,function(){return e.raw.init()})},t.prototype.add=function(e){var i=this;return this.run(p.ServiceOperations.ADD,function(){return i.raw.add(t.toPaths(e))})},t.prototype.stage=function(e,t){var i=this;return this.run(p.ServiceOperations.STAGE,function(){return i.raw.stage(e,t)})},t.prototype.branch=function(e,t){var i=this;return void 0===t&&(t=!1),this.run(p.ServiceOperations.BRANCH,function(){return i.raw.branch(e,t)})},t.prototype.checkout=function(e,i){var n=this;return void 0===e&&(e=""),void 0===i&&(i=null),this.run(p.ServiceOperations.CHECKOUT,function(){return n.raw.checkout(e,t.toPaths(i))})},t.prototype.clean=function(e){var t=this;return this.run(p.ServiceOperations.CLEAN,function(){return t.raw.clean(e.map(function(e){return e.getPath()}))})},t.prototype.undo=function(){var e=this;return this.run(p.ServiceOperations.UNDO,function(){return e.raw.undo()})},t.prototype.reset=function(e,t){var i=this;return this.run(p.ServiceOperations.RESET,function(){return i.raw.reset(e,t)})},t.prototype.revertFiles=function(e,t){var i=this;return this.run(p.ServiceOperations.RESET,function(){return i.raw.revertFiles(e,(t||[]).map(function(e){return e.getPath()}))})},t.prototype.fetch=function(){var e=this;return this.run(p.ServiceOperations.BACKGROUND_FETCH,function(){return e.raw.fetch()})},t.prototype.pull=function(e){var t=this;return this.run(p.ServiceOperations.PULL,function(){return t.raw.pull(e)})},t.prototype.push=function(e,t,i){var n=this;return this.run(p.ServiceOperations.PUSH,function(){return n.raw.push(e,t,i)})},t.prototype.sync=function(e){var t=this,i=this.model.getHEAD(),n=i&&i.upstream&&!!i.ahead;return n?this.run(p.ServiceOperations.SYNC,function(){return t.raw.sync()}):this.run(p.ServiceOperations.SYNC,function(){return t.raw.pull(e)})},t.prototype.commit=function(e,t,i){var n=this;return void 0===t&&(t=!1),void 0===i&&(i=!1),this.run(p.ServiceOperations.COMMIT,function(){return n.raw.commit(e,t,i)})},t.prototype.detectMimetypes=function(e,t){return void 0===t&&(t="~"),this.raw.detectMimetypes(e,t)},t.prototype.run=function(e,t){var i=this;return this.raw.serviceState().then(function(n){return n===p.RawServiceState.GitNotFound?(i.transition(p.ServiceState.NoGit),o.TPromise.as(null)):n===p.RawServiceState.Disabled?(i.transition(p.ServiceState.Disabled),o.TPromise.as(null)):i._run(e,t)})},t.prototype._run=function(e,t){var n=this,r=new y.GitOperation(e,t);this.operations.push(r),this.emit(p.ServiceEvents.OPERATION_START,r),this.emit(p.ServiceEvents.OPERATION,r);var u=function(e){void 0===e&&(e=null);var t=n.operations.indexOf(r);t>-1&&n.operations.splice(t,1);var i={operation:r,error:e};n.emit(p.ServiceEvents.OPERATION_END,i),n.onGitServiceOperationEnd(i),n.emit(p.ServiceEvents.OPERATION,r)};return r.run().then(function(e){return n.model.update(e),u(),e?n.transition(s.isUndefinedOrNull(e.state)?p.ServiceState.OK:e.state):n.transition(p.ServiceState.NotARepo),n.model},function(e){if(u(e),c.isPromiseCanceledError(e))return o.Promise.wrapError(e);var t=e.gitErrorCode||null;if(t===p.GitErrorCodes.NotAtRepositoryRoot)return n.transition(p.ServiceState.NotAtRepoRoot),o.TPromise.as(n.model);if(n.emit(p.ServiceEvents.ERROR,e),n.transition(p.ServiceState.OK),t===p.GitErrorCodes.NoUserNameConfigured||t===p.GitErrorCodes.NoUserEmailConfigured)return n.messageService.show(_["default"].Warning,i.localize(12,null)),o.TPromise.as(null);if(t===p.GitErrorCodes.BadConfigFile)return n.messageService.show(_["default"].Error,i.localize(13,null,e.message)),o.TPromise.as(null);if(t===p.GitErrorCodes.UnmergedChanges)return n.messageService.show(_["default"].Warning,i.localize(14,null)),o.TPromise.as(null);var r,s=new a.Action("show.gitOutput",i.localize(15,null),null,(!0),function(){return n.outputService.getChannel("Git").show()}),l=new a.Action("close.message",i.localize(16,null),null,(!0),function(){return o.TPromise.as(!0)});return r=c.create(i.localize(17,null),{actions:[s,l]}),r.gitErrorCode=t,o.Promise.wrapError(r)})},t.prototype.transition=function(e){var t=this.state;this.state=e,e!==t&&this.emit(p.ServiceEvents.STATE_CHANGED,e)},t.prototype.buffer=function(e,t){return void 0===t&&(t="~"),this.raw.show(e,t)},t.prototype.show=function(e,t,n,r){var s=this;return void 0===n&&(n="~"),void 0===r&&(r="text/plain"),this.detectMimetypes(e,n).then(function(r){var a,c,l=t.getPathComponents(),d=l[l.length-1],h=N(l.slice(0,l.length-1).join("/"));return"~"===n?(a=i.localize(18,null,d),c=i.localize(19,null,h)):(a=i.localize(20,null,d,n),c=i.localize(21,null,h,n)),u.isUnspecific(r)&&(r=u.guessMimeTypes(e)),u.isBinaryMime(u.guessMimeTypes(e))||r.indexOf(u.MIME_BINARY)>=0?o.Promise.wrapError(new Error("The resource seems to be binary and cannot be displayed")):o.TPromise.as(s.instantiationService.createInstance(v.NativeGitIndexStringEditorInput,a,c,r.join(", "),t,e,n))})},t.prototype.getInput=function(e){var t=this;return this.inputCache.getInput(e).then(null,function(e){return(e.gitErrorCode=p.GitErrorCodes.CantOpenResource)?(t.messageService.show(_["default"].Warning,i.localize(22,null)),o.TPromise.as(null)):o.Promise.wrapError(e)})},t.prototype.isInitialized=function(){return this.state===p.ServiceState.OK},t.prototype.isIdle=function(){return this.isInitialized()&&!this.operations.some(function(e){return e.id!==p.ServiceOperations.BACKGROUND_FETCH})},t.prototype.getRunningOperations=function(){return this.operations},t.prototype.getAutoFetcher=function(){return this.autoFetcher},t.toPaths=function(e){return e?e.map(function(e){switch(e.getStatus()){case p.Status.MODIFIED:case p.Status.DELETED:if(e.getRename())return e.getRename();default:return e.getPath()}}):null},t.prototype.dispose=function(){this.emit(p.ServiceEvents.DISPOSE),this.model&&(this.model.dispose(),this.model=null),e.prototype.dispose.call(this)},t=g([m(1,A.IInstantiationService),m(2,T.IEventService),m(3,L.IMessageService),m(4,w.IWorkbenchEditorService),m(5,C.IOutputService),m(6,D.IWorkspaceContextService),m(7,k.ILifecycleService),m(8,O.IStorageService),m(9,I.IConfigurationService)],t)}(d.EventEmitter);t.GitService=K}),define(l[883],d([1,0,2,68,832,882,72,86,22,23,28,6,18,32,115,180,830,835,19,99,74,52,39,112]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T){"use strict";function A(e){return e.replace(/^git version /,"")}function L(e){return new i.TPromise(function(t,i){var n=[],o=_.spawn(e,["--version"]);o.stdout.on("data",function(e){return n.push(e)}),o.on("error",i),o.on("exit",function(o){return o?i(new Error("Not found")):t({path:e,version:A(Buffer.concat(n).toString("utf8").trim())})})})}function D(){return new i.TPromise(function(e,t){_.exec("which git",function(i,n){function o(i){_.exec("git --version",function(n,o){return n?t("git not found"):e({path:i,version:A(o.toString("utf8").trim())})})}if(i)return t("git not found");var r=n.toString().replace(/^\s+|\s+$/g,"");return"/usr/bin/git"!==r?o(r):void _.exec("xcode-select -p",function(e){return e&&2===e.code?t("git not found"):void o(r)})})})}function k(e){return e?L(C.join(e,"Git","cmd","git.exe")):i.TPromise.wrapError("Not found")}function x(){var e=C.join(process.env.LOCALAPPDATA,"GitHub");return T.readdir(e).then(function(t){var n=t.filter(function(e){return/^PortableGit/.test(e)})[0];return n?L(C.join(e,n,"cmd","git.exe")):i.TPromise.wrapError("Not found")})}function M(){return k(process.env.ProgramW6432).then(null,function(){return k(process.env["ProgramFiles(x86)"])}).then(null,function(){return k(process.env.ProgramFiles)}).then(null,function(){return L("git")}).then(null,function(){return x()})}function R(e){var t=e?L(e):i.TPromise.wrapError(null);return t.then(null,function(){switch(process.platform){case"darwin":return D();case"win32":return M();default:return L("git")}})}var O=(function(e){function t(){e.call(this,null)}return h(t,e),t.prototype.serviceState=function(){return i.TPromise.as(n.RawServiceState.GitNotFound)},t}(S.RawGitService),function(e){function t(){e.call(this,null)}return h(t,e),t.prototype.serviceState=function(){return i.TPromise.as(n.RawServiceState.Disabled)},t}(S.RawGitService)),P=function(t){function n(n,r,s,a,c,u,l,d,h){var p,f=h.getConfiguration(),g=!f.git||f.git.enabled,m=u.getWorkspace();if(g)if(m){var S=f.git&&f.git.path||null,_=f.files&&f.files.encoding||"utf8",C=m.resource.fsPath,I=i.TPromise.timeout(0).then(function(){return R(S)}).then(function(t){var i=t.path,n=t.version,o=new y.Client(b["default"].parse(e.toUrl("bootstrap")).fsPath,{serverName:"Git",timeout:6e4,args:[i,C,_,w.remote.process.execPath,n],env:{ATOM_SHELL_INTERNAL_RUN_AS_NODE:1,PIPE_LOGGING:"true",AMD_ENTRYPOINT:"vs/workbench/parts/git/node/gitApp",VERBOSE_LOGGING:String(!u.getConfiguration().env.isBuilt||u.getConfiguration().env.verboseLogging)}});return o.getChannel("git")}).then(null,function(){return new E.UnavailableGitChannel}),T=v.getNextTickChannel(v.getDelayedChannel(I));p=new E.GitChannelClient(T)}else p=new o.NoOpGitService;else p=new O;t.call(this,p,n,r,s,a,c,u,l,d,h)}return h(n,t),n=g([m(0,d.IInstantiationService),m(1,l.IEventService),m(2,p.IMessageService),m(3,c.IWorkbenchEditorService),m(4,a.IOutputService),m(5,f.IWorkspaceContextService),m(6,s.ILifecycleService),m(7,I.IStorageService),m(8,u.IConfigurationService)],n)}(r.GitService);t.ElectronGitService=P}),define(l[146],d([1,0,6]),function(e,t,i){"use strict";t.IHistoryService=i.createDecorator("historyService")}),define(l[885],d([1,0,1029,13,83,12]),function(e,t,i,n,o,r){"use strict";function s(){if(!m){var e=c();m=new b(e)}return m}function a(){if(!v){var e=c();v=r.isMacintosh?new E(e):new S(e)}return v}function c(){if(!y){var e={VKEY_OEM_1:!0,VKEY_OEM_PLUS:!0,VKEY_OEM_COMMA:!0,VKEY_OEM_MINUS:!0,VKEY_OEM_PERIOD:!0,VKEY_OEM_2:!0,VKEY_OEM_3:!0,VKEY_OEM_4:!0,VKEY_OEM_5:!0,VKEY_OEM_6:!0,VKEY_OEM_7:!0,VKEY_OEM_8:!0,VKEY_OEM_102:!0};y=[];for(var t=0,i=n.KeyCode.MAX_VALUE;t<i;t++)y[t]=null;for(var o=u(),r=!1,t=0,i=o.length;t<i;t++){var s=o[t];if(e[s.key_code]){var a=s.value||s.withShift;a.length>0&&(r=!0,y[l[s.key_code]]=a)}}if(r)for(var c in e)if(e.hasOwnProperty(c)){var d=l[c];y[d]=y[d]||""}}return y}var u=function(){var e,t=!1;return function(){return t||(t=!0,e=i.getKeyMap()),e}}(),l={VKEY_BACK:n.KeyCode.Backspace,VKEY_TAB:n.KeyCode.Tab,VKEY_CLEAR:n.KeyCode.Unknown,VKEY_RETURN:n.KeyCode.Enter,VKEY_SHIFT:n.KeyCode.Shift,VKEY_CONTROL:n.KeyCode.Ctrl,VKEY_MENU:n.KeyCode.Alt,VKEY_PAUSE:n.KeyCode.PauseBreak,VKEY_CAPITAL:n.KeyCode.CapsLock,VKEY_KANA:n.KeyCode.Unknown,VKEY_HANGUL:n.KeyCode.Unknown,VKEY_JUNJA:n.KeyCode.Unknown,VKEY_FINAL:n.KeyCode.Unknown,VKEY_HANJA:n.KeyCode.Unknown,VKEY_KANJI:n.KeyCode.Unknown,VKEY_ESCAPE:n.KeyCode.Escape,VKEY_CONVERT:n.KeyCode.Unknown,VKEY_NONCONVERT:n.KeyCode.Unknown,VKEY_ACCEPT:n.KeyCode.Unknown,VKEY_MODECHANGE:n.KeyCode.Unknown,VKEY_SPACE:n.KeyCode.Space,VKEY_PRIOR:n.KeyCode.PageUp,VKEY_NEXT:n.KeyCode.PageDown,VKEY_END:n.KeyCode.End,VKEY_HOME:n.KeyCode.Home,VKEY_LEFT:n.KeyCode.LeftArrow,VKEY_UP:n.KeyCode.UpArrow,VKEY_RIGHT:n.KeyCode.RightArrow,VKEY_DOWN:n.KeyCode.DownArrow,VKEY_SELECT:n.KeyCode.Unknown,VKEY_PRINT:n.KeyCode.Unknown,VKEY_EXECUTE:n.KeyCode.Unknown,VKEY_SNAPSHOT:n.KeyCode.Unknown,VKEY_INSERT:n.KeyCode.Insert,VKEY_DELETE:n.KeyCode.Delete,VKEY_HELP:n.KeyCode.Unknown,VKEY_0:n.KeyCode.KEY_0,VKEY_1:n.KeyCode.KEY_1,VKEY_2:n.KeyCode.KEY_2,VKEY_3:n.KeyCode.KEY_3,VKEY_4:n.KeyCode.KEY_4,VKEY_5:n.KeyCode.KEY_5,VKEY_6:n.KeyCode.KEY_6,VKEY_7:n.KeyCode.KEY_7,VKEY_8:n.KeyCode.KEY_8,VKEY_9:n.KeyCode.KEY_9,VKEY_A:n.KeyCode.KEY_A,VKEY_B:n.KeyCode.KEY_B,VKEY_C:n.KeyCode.KEY_C,VKEY_D:n.KeyCode.KEY_D,VKEY_E:n.KeyCode.KEY_E,VKEY_F:n.KeyCode.KEY_F,VKEY_G:n.KeyCode.KEY_G,VKEY_H:n.KeyCode.KEY_H,VKEY_I:n.KeyCode.KEY_I,VKEY_J:n.KeyCode.KEY_J,VKEY_K:n.KeyCode.KEY_K,VKEY_L:n.KeyCode.KEY_L,VKEY_M:n.KeyCode.KEY_M,VKEY_N:n.KeyCode.KEY_N,VKEY_O:n.KeyCode.KEY_O,VKEY_P:n.KeyCode.KEY_P,VKEY_Q:n.KeyCode.KEY_Q,VKEY_R:n.KeyCode.KEY_R,VKEY_S:n.KeyCode.KEY_S,VKEY_T:n.KeyCode.KEY_T,VKEY_U:n.KeyCode.KEY_U,VKEY_V:n.KeyCode.KEY_V,VKEY_W:n.KeyCode.KEY_W,VKEY_X:n.KeyCode.KEY_X,VKEY_Y:n.KeyCode.KEY_Y,VKEY_Z:n.KeyCode.KEY_Z,VKEY_LWIN:n.KeyCode.Meta,VKEY_COMMAND:n.KeyCode.Meta,VKEY_RWIN:n.KeyCode.Meta,VKEY_APPS:n.KeyCode.Unknown,VKEY_SLEEP:n.KeyCode.Unknown,VKEY_NUMPAD0:n.KeyCode.NUMPAD_0,VKEY_NUMPAD1:n.KeyCode.NUMPAD_1,VKEY_NUMPAD2:n.KeyCode.NUMPAD_2,VKEY_NUMPAD3:n.KeyCode.NUMPAD_3,VKEY_NUMPAD4:n.KeyCode.NUMPAD_4,VKEY_NUMPAD5:n.KeyCode.NUMPAD_5,VKEY_NUMPAD6:n.KeyCode.NUMPAD_6,VKEY_NUMPAD7:n.KeyCode.NUMPAD_7,VKEY_NUMPAD8:n.KeyCode.NUMPAD_8,VKEY_NUMPAD9:n.KeyCode.NUMPAD_9,VKEY_MULTIPLY:n.KeyCode.NUMPAD_MULTIPLY,VKEY_ADD:n.KeyCode.NUMPAD_ADD,VKEY_SEPARATOR:n.KeyCode.NUMPAD_SEPARATOR,VKEY_SUBTRACT:n.KeyCode.NUMPAD_SUBTRACT,VKEY_DECIMAL:n.KeyCode.NUMPAD_DECIMAL,VKEY_DIVIDE:n.KeyCode.NUMPAD_DIVIDE,VKEY_F1:n.KeyCode.F1,VKEY_F2:n.KeyCode.F2,VKEY_F3:n.KeyCode.F3,VKEY_F4:n.KeyCode.F4,VKEY_F5:n.KeyCode.F5,VKEY_F6:n.KeyCode.F6,VKEY_F7:n.KeyCode.F7,VKEY_F8:n.KeyCode.F8,VKEY_F9:n.KeyCode.F9,VKEY_F10:n.KeyCode.F10,VKEY_F11:n.KeyCode.F11,VKEY_F12:n.KeyCode.F12,VKEY_F13:n.KeyCode.F13,VKEY_F14:n.KeyCode.F14,VKEY_F15:n.KeyCode.F15,VKEY_F16:n.KeyCode.F16,VKEY_F17:n.KeyCode.F17,VKEY_F18:n.KeyCode.F18,VKEY_F19:n.KeyCode.F19,VKEY_F20:n.KeyCode.Unknown,VKEY_F21:n.KeyCode.Unknown,VKEY_F22:n.KeyCode.Unknown,VKEY_F23:n.KeyCode.Unknown,VKEY_F24:n.KeyCode.Unknown,VKEY_NUMLOCK:n.KeyCode.NumLock,VKEY_SCROLL:n.KeyCode.ScrollLock,VKEY_LSHIFT:n.KeyCode.Shift,VKEY_RSHIFT:n.KeyCode.Shift,VKEY_LCONTROL:n.KeyCode.Ctrl,VKEY_RCONTROL:n.KeyCode.Ctrl,VKEY_LMENU:n.KeyCode.Unknown,VKEY_RMENU:n.KeyCode.Unknown,VKEY_BROWSER_BACK:n.KeyCode.Unknown,VKEY_BROWSER_FORWARD:n.KeyCode.Unknown,VKEY_BROWSER_REFRESH:n.KeyCode.Unknown,VKEY_BROWSER_STOP:n.KeyCode.Unknown,VKEY_BROWSER_SEARCH:n.KeyCode.Unknown,VKEY_BROWSER_FAVORITES:n.KeyCode.Unknown,VKEY_BROWSER_HOME:n.KeyCode.Unknown,VKEY_VOLUME_MUTE:n.KeyCode.Unknown,VKEY_VOLUME_DOWN:n.KeyCode.Unknown,VKEY_VOLUME_UP:n.KeyCode.Unknown,VKEY_MEDIA_NEXT_TRACK:n.KeyCode.Unknown,VKEY_MEDIA_PREV_TRACK:n.KeyCode.Unknown,VKEY_MEDIA_STOP:n.KeyCode.Unknown,VKEY_MEDIA_PLAY_PAUSE:n.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_MAIL:n.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_MEDIA_SELECT:n.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_APP1:n.KeyCode.Unknown,VKEY_MEDIA_LAUNCH_APP2:n.KeyCode.Unknown,VKEY_OEM_1:n.KeyCode.US_SEMICOLON,VKEY_OEM_PLUS:n.KeyCode.US_EQUAL,VKEY_OEM_COMMA:n.KeyCode.US_COMMA,VKEY_OEM_MINUS:n.KeyCode.US_MINUS,VKEY_OEM_PERIOD:n.KeyCode.US_DOT,VKEY_OEM_2:n.KeyCode.US_SLASH,VKEY_OEM_3:n.KeyCode.US_BACKTICK,VKEY_OEM_4:n.KeyCode.US_OPEN_SQUARE_BRACKET,VKEY_OEM_5:n.KeyCode.US_BACKSLASH,VKEY_OEM_6:n.KeyCode.US_CLOSE_SQUARE_BRACKET,VKEY_OEM_7:n.KeyCode.US_QUOTE,VKEY_OEM_8:n.KeyCode.OEM_8,VKEY_OEM_102:n.KeyCode.OEM_102,VKEY_PROCESSKEY:n.KeyCode.Unknown,VKEY_PACKET:n.KeyCode.Unknown,VKEY_DBE_SBCSCHAR:n.KeyCode.Unknown,VKEY_DBE_DBCSCHAR:n.KeyCode.Unknown,VKEY_ATTN:n.KeyCode.Unknown,VKEY_CRSEL:n.KeyCode.Unknown,VKEY_EXSEL:n.KeyCode.Unknown,VKEY_EREOF:n.KeyCode.Unknown,VKEY_PLAY:n.KeyCode.Unknown,VKEY_ZOOM:n.KeyCode.Unknown,VKEY_NONAME:n.KeyCode.Unknown,VKEY_PA1:n.KeyCode.Unknown,VKEY_OEM_CLEAR:n.KeyCode.Unknown,VKEY_UNKNOWN:n.KeyCode.Unknown,VKEY_ALTGR:n.KeyCode.Unknown},d=[{"char":";",virtualKeyCode:186},{"char":":",virtualKeyCode:186},{"char":"=",virtualKeyCode:187},{"char":"+",virtualKeyCode:187},{"char":",",virtualKeyCode:188},{"char":"<",virtualKeyCode:188},{"char":"-",virtualKeyCode:189},{"char":"_",virtualKeyCode:189},{"char":".",virtualKeyCode:190},{"char":">",virtualKeyCode:190},{"char":"/",virtualKeyCode:191},{"char":"?",virtualKeyCode:191},{"char":"`",virtualKeyCode:192},{"char":"~",virtualKeyCode:192},{"char":"[",virtualKeyCode:219},{"char":"{",virtualKeyCode:219},{"char":"\\",virtualKeyCode:220},{"char":"|",virtualKeyCode:220},{"char":"]",virtualKeyCode:221},{"char":"}",virtualKeyCode:221},{"char":"'",virtualKeyCode:222},{"char":'"',virtualKeyCode:222}],p=Object.create(null);d.forEach(function(e){return p[e["char"]]=!0});var f=Object.create(null);d.forEach(function(e){return f[e.virtualKeyCode]=!0});var g=function(){var e=null;return function(){if(!e){e=Object.create(null);for(var t=u(),i=0,o=t.length;i<o;i++){var r=t[i];if(r.value&&p[r.value]){var s=l[r.key_code];s&&s!==n.KeyCode.Unknown&&(!e[r.value]||e[r.value]>s)&&(e[r.value]=s)}if(r.withShift&&p[r.withShift]){var s=l[r.key_code];s&&s!==n.KeyCode.Unknown&&(!e[r.withShift]||e[r.withShift]>s)&&(e[r.withShift]=s)}}}return e}}();o.setExtractKeyCode(function(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return n.KeyCode.fromString(t)}if(r.isMacintosh&&f[e.keyCode]&&"string"==typeof e.keyIdentifier){var i=e.keyIdentifier,s=i.substr(2);try{var a=parseInt(s,16),t=String.fromCharCode(a),c=g();if(c[t])return c[t]}catch(u){}}return o.lookupKeyCode(e)});var m=null;t.getNativeAriaLabelProvider=s;var v=null;t.getNativeLabelProvider=a;var y=null,E=function(e){function t(t){e.call(this),this.remaps=t}return h(t,e),t.prototype.getLabelForKey=function(t){return null!==this.remaps[t]?this.remaps[t]:e.prototype.getLabelForKey.call(this,t)},t}(n.MacUIKeyLabelProvider),S=function(e){function t(t){e.call(this),this.remaps=t}return h(t,e),t.prototype.getLabelForKey=function(t){return null!==this.remaps[t]?this.remaps[t]:e.prototype.getLabelForKey.call(this,t)},t}(n.ClassicUIKeyLabelProvider),b=function(e){function t(t){e.call(this),this.remaps=t}return h(t,e),t.prototype.getLabelForKey=function(t){return null!==this.remaps[t]?this.remaps[t]:e.prototype.getLabelForKey.call(this,t)},t}(n.AriaKeyLabelProvider)}),define(l[887],d([1,0,595,12,2,28,103,95,108,676,153,191,62,15,21,23,32,64,885,18]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";function C(e){return Array.isArray(e)}function w(e,t){return e?"string"!=typeof e.command?(t.push(i.localize(1,null,"command")),!1):"string"!=typeof e.key?(t.push(i.localize(2,null,"key")),!1):e.when&&"string"!=typeof e.when?(t.push(i.localize(3,null,"when")),!1):e.mac&&"string"!=typeof e.mac?(t.push(i.localize(4,null,"mac")),!1):e.linux&&"string"!=typeof e.linux?(t.push(i.localize(5,null,"linux")),!1):!e.win||"string"==typeof e.win||(t.push(i.localize(6,null,"win")),!1):(t.push(i.localize(0,null)),!1)}var I={type:"object","default":{command:"",key:""},properties:{command:{description:i.localize(7,null),type:"string"},key:{description:i.localize(8,null),type:"string"},mac:{description:i.localize(9,null),type:"string"},linux:{description:i.localize(10,null),type:"string"},win:{description:i.localize(11,null),type:"string"},when:{description:i.localize(12,null),type:"string"}}},T=a.ExtensionsRegistry.registerExtensionPoint("keybindings",{description:i.localize(13,null),oneOf:[I,{type:"array",items:I}]}),A=function(e){function t(t,i,n,o,r,s,a,c){var u=this;e.call(this,i,s,a),this.contextService=n,this.eventService=o,this.telemetryService=r,this._extensionService=c,this.toDispose=this.eventService.addListener2(S.EventType.WORKBENCH_OPTIONS_CHANGED,function(e){return u.onOptionsChanged(e)}),this._eventService=o,T.setHandler(function(e){for(var t=!1,i=0,n=e;i<n.length;i++){var o=n[i];t=u._handleKeybindingsExtensionPointUser(o.description.isBuiltin,o.value,o.collector)||t}t&&u.updateResolver()}),this._beginListening(t)}return h(t,e),t.prototype.customKeybindingsCount=function(){var e=this.contextService.getOptions();return e.globalSettings&&e.globalSettings.keybindings&&Array.isArray(e.globalSettings.keybindings)?e.globalSettings.keybindings.length:0},t.prototype._getExtraKeybindings=function(e){var t=[],i=this.contextService.getOptions();if(i.globalSettings&&i.globalSettings.keybindings){if(!e){var n=0;Array.isArray(i.globalSettings.keybindings)&&(n=i.globalSettings.keybindings.length),this.telemetryService.publicLog("customKeybindingsChanged",{keyCount:n})}Array.isArray(i.globalSettings.keybindings)&&(t=i.globalSettings.keybindings)}return t.map(function(e,t){return d.IOSupport.readKeybindingItem(e,t)})},t.prototype.onOptionsChanged=function(e){"globalSettings"===e.key&&this.updateResolver()},t.prototype.dispose=function(){this.toDispose.dispose()},t.prototype.getLabelFor=function(e){return e.toCustomLabel(b.getNativeLabelProvider())},t.prototype.getHTMLLabelFor=function(e){return e.toCustomHTMLLabel(b.getNativeLabelProvider())},t.prototype.getAriaLabelFor=function(e){return e.toCustomLabel(b.getNativeAriaLabelProvider())},t.prototype.getElectronAcceleratorFor=function(t){if(n.isWindows)return e.prototype.getElectronAcceleratorFor.call(this,t);var i=t._toUSLabel(),o=this.getLabelFor(t);return i!==o?null:e.prototype.getElectronAcceleratorFor.call(this,t)},t.prototype._handleKeybindingsExtensionPointUser=function(e,t,i){if(C(t)){for(var n=!1,o=0,r=t.length;o<r;o++)n=this._handleKeybinding(e,o+1,t[o],i)||n;return n}return this._handleKeybinding(e,1,t,i)},t.prototype._handleKeybinding=function(e,t,n,o){var r=[],s=!1;if(w(n,r)){var a=this._asCommandRule(e,t++,n);a&&(p.KeybindingsRegistry.registerCommandRule(a),s=!0)}return r.length>0&&o.error(i.localize(14,null,T.name,r.join("\n"))),s},t.prototype._invokeHandler=function(t,i){var n=this;return this._extensionService?this._extensionService.activateByEvent("onCommand:"+t).then(function(o){return e.prototype._invokeHandler.call(n,t,i)}):o.TPromise.as(null)},t.prototype._asCommandRule=function(e,t,i){var n,o=i.command,r=i.when,s=i.key,a=i.mac,c=i.linux,u=i.win;n=e?p.KeybindingsRegistry.WEIGHT.builtinExtension(t):p.KeybindingsRegistry.WEIGHT.externalExtension(t);var l={id:o,when:d.IOSupport.readKeybindingWhen(r),weight:n,primary:d.IOSupport.readKeybinding(s),mac:a&&{primary:d.IOSupport.readKeybinding(a)},linux:c&&{primary:d.IOSupport.readKeybinding(c)},win:u&&{primary:d.IOSupport.readKeybinding(u)}};if(l.primary||l.mac||l.linux||l.win)return l},t=g([m(1,y.IConfigurationService),m(2,E.IWorkspaceContextService),m(3,r.IEventService),m(4,v.ITelemetryService),m(5,_.IMessageService),m(6,l.IStatusbarService),m(7,s.IExtensionService)],t)}(u.KeybindingService);t.WorkbenchKeybindingService=A;var L="vscode://schemas/keybindings",D={id:L,type:"array",title:i.localize(15,null),items:{required:["key"],type:"object",defaultSnippets:[{body:{key:"{{_}}",command:"{{_}}",when:"{{_}}"}}],properties:{key:{type:"string",description:i.localize(16,null)},command:{description:i.localize(17,null)},when:{type:"string",description:i.localize(18,null)}}}},k=f.Registry.as(c.Extensions.JSONContribution);k.registerSchema(L,D)}),define(l[272],d([1,0,7,17,344,167,18]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e){this.telemetryService=e,this.serviceId=s.IMessageService,this.handler=new o.MessageList(r.Identifiers.WORKBENCH_CONTAINER,e),this.messageBuffer=[],this.canShowMessages=!0,this.disposeables=[]}return Object.defineProperty(e.prototype,"onMessagesShowing",{get:function(){return this.handler.onMessagesShowing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMessagesCleared",{get:function(){return this.handler.onMessagesCleared},enumerable:!0,configurable:!0}),e.prototype.suspend=function(){this.canShowMessages=!1,this.handler.hide()},e.prototype.resume=function(){for(this.canShowMessages=!0,this.handler.show();this.messageBuffer.length;){var e=this.messageBuffer.pop();e.disposeFn=this.show(e.severity,e.message)}},e.prototype.toBaseSeverity=function(e){switch(e){case s.Severity.Info:return o.Severity.Info;case s.Severity.Warning:return o.Severity.Warning}return o.Severity.Error},e.prototype.show=function(e,t){var o=this;if(!t)return function(){};if(Array.isArray(t)){var r=[];return t.forEach(function(t){return r.push(o.show(e,t))}),function(){return r.forEach(function(e){return e()})}}return i.isPromiseCanceledError(t)?function(){}:(n.isNumber(t.severity)&&(e=t.severity),this.doShow(e,t))},e.prototype.doShow=function(e,t){var n=this;if(!this.canShowMessages){var o={severity:e,message:t,disposeFn:function(){return n.messageBuffer.splice(n.messageBuffer.indexOf(o),1)}};return this.messageBuffer.push(o),function(){return o.disposeFn()}}return e===s.Severity.Error&&console.error(i.toErrorMessage(t,!0)),this.handler.showMessage(this.toBaseSeverity(e),t)},e.prototype.hideAll=function(){this.handler&&this.handler.hideMessages()},e.prototype.confirm=function(e){var t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),window.confirm(t)},e.prototype.dispose=function(){for(;this.disposeables.length;)this.disposeables.pop().dispose()},e}();t.WorkbenchMessageService=a}),define(l[93],d([1,0,6]),function(e,t,i){"use strict";t.IPanelService=i.createDecorator("panelService")}),define(l[890],d([1,0,571,5,9,16,131,86,6,28,64,93]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(e){function t(n,o,s,c,u){var d=this;e.call(this,i.localize(0,null),n?i.localize(1,null,n.label):"","",a.OUTPUT_MIME,!0,o),this.outputChannel=n,this.outputService=s,this.panelService=c,this.eventService=u,this.bufferedOutput="",this.toDispose=[],this.toDispose.push(this.outputService.onOutput(this.onOutputReceived,this)),this.toDispose.push(this.outputService.onActiveOutputChannel(function(){return d.scheduleOutputAppend()})),this.toDispose.push(this.eventService.addListener2(l.EventType.COMPOSITE_OPENED,function(e){e.compositeId===a.OUTPUT_PANEL_ID&&d.appendOutput()})),this.appendOutputScheduler=new r.RunOnceScheduler(function(){d.isVisible()&&d.appendOutput()},t.OUTPUT_DELAY)}return h(t,e),t.getInstances=function(){return Object.keys(t.instances).map(function(e){return t.instances[e]})},t.getInstance=function(e,i){return t.instances[i.id]?t.instances[i.id]:(t.instances[i.id]=e.createInstance(t,i),t.instances[i.id])},t.prototype.appendOutput=function(){this.value.length+this.bufferedOutput.length>a.MAX_OUTPUT_LENGTH?this.setValue(this.outputChannel.output):this.append(this.bufferedOutput),this.bufferedOutput="";var e=this.panelService.getActivePanel();e.revealLastLine()},t.prototype.onOutputReceived=function(e){this.outputSet&&e.channelId===this.outputChannel.id&&(e.output?(this.bufferedOutput=o.appendWithLimit(this.bufferedOutput,e.output,a.MAX_OUTPUT_LENGTH),this.scheduleOutputAppend()):null===e.output&&this.clearValue())},t.prototype.isVisible=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===a.OUTPUT_PANEL_ID&&this.outputService.getActiveChannel().id===this.outputChannel.id},t.prototype.scheduleOutputAppend=function(){this.isVisible()&&this.bufferedOutput&&!this.appendOutputScheduler.isScheduled()&&this.appendOutputScheduler.schedule()},t.prototype.getTypeId=function(){return a.OUTPUT_EDITOR_INPUT_ID},t.prototype.resolve=function(t){var i=this;return e.prototype.resolve.call(this,t).then(function(e){return i.outputSet?e:(i.setValue(i.outputChannel.output),i.outputSet=!0,e)})},t.prototype.matches=function(i){if(i instanceof t){var n=i;if(n.outputChannel.id===this.outputChannel.id)return e.prototype.matches.call(this,i)}return!1},t.prototype.dispose=function(){this.appendOutputScheduler.dispose(),this.toDispose=n.dispose(this.toDispose),e.prototype.dispose.call(this)},t.OUTPUT_DELAY=300,t.instances=Object.create(null),t=g([m(1,c.IInstantiationService),m(2,a.IOutputService),m(3,d.IPanelService),m(4,u.IEventService)],t)}(s.StringEditorInput);t.OutputEditorInput=p}),define(l[891],d([1,0,2,9,24,28,72,6,39,15,30,86,890,93]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";var f="output.activechannel",v=function(){function e(e,t,i,n,r){this.storageService=e,this.instantiationService=t,this.eventService=i,this.lifecycleService=n,this.panelService=r,this.serviceId=d.IOutputService,this._onOutput=new o.Emitter,this._onOutputChannel=new o.Emitter,this._onActiveOutputChannel=new o.Emitter,this.receivedOutput=Object.create(null);var s=u.Registry.as(d.Extensions.OutputChannels).getChannels();this.activeChannelId=this.storageService.get(f,c.StorageScope.WORKSPACE,s&&s.length>0?s[0].id:null)}return Object.defineProperty(e.prototype,"onOutput",{get:function(){return this._onOutput.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onOutputChannel",{get:function(){return this._onOutputChannel.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onActiveOutputChannel",{get:function(){return this._onActiveOutputChannel.event},enumerable:!0,configurable:!0}),e.prototype.getChannel=function(e){var t=this,i=u.Registry.as(d.Extensions.OutputChannels).getChannels().filter(function(t){return t.id===e}).pop(),n=this;return{id:e,label:i?i.label:e,get output(){return n.getOutput(e)},append:function(i){return t.append(e,i)},show:function(i){return t.showOutput(e,i)},clear:function(){return t.clearOutput(e)}}},e.prototype.append=function(e,t){this.receivedOutput[e]||(this.receivedOutput[e]="",this._onOutputChannel.fire(e)),t=n.removeAnsiEscapeCodes(t),t&&(this.receivedOutput[e]=n.appendWithLimit(this.receivedOutput[e],t,d.MAX_OUTPUT_LENGTH)),this._onOutput.fire({output:t,channelId:e})},e.prototype.getActiveChannel=function(){return this.getChannel(this.activeChannelId)},e.prototype.getOutput=function(e){return this.receivedOutput[e]||""},e.prototype.clearOutput=function(e){this.receivedOutput[e]="",this._onOutput.fire({channelId:e,output:null})},e.prototype.showOutput=function(e,t){var n=this,o=this.panelService.getActivePanel();return this.activeChannelId===e&&o&&o.getId()===d.OUTPUT_PANEL_ID?i.TPromise.as(o):(this.activeChannelId=e,this.storageService.store(f,this.activeChannelId,c.StorageScope.WORKSPACE),this._onActiveOutputChannel.fire(e),this.panelService.openPanel(d.OUTPUT_PANEL_ID,!t).then(function(i){return i&&i.setInput(h.OutputEditorInput.getInstance(n.instantiationService,n.getChannel(e)),l.EditorOptions.create({preserveFocus:t})).then(function(){return i})}))},e=g([m(0,c.IStorageService),m(1,a.IInstantiationService),m(2,r.IEventService),m(3,s.ILifecycleService),m(4,p.IPanelService)],e)}();t.OutputService=v}),define(l[55],d([1,0,6]),function(e,t,i){"use strict";!function(e){e[e.ACTIVITYBAR_PART=0]="ACTIVITYBAR_PART",e[e.SIDEBAR_PART=1]="SIDEBAR_PART",e[e.PANEL_PART=2]="PANEL_PART",e[e.EDITOR_PART=3]="EDITOR_PART",e[e.STATUSBAR_PART=4]="STATUSBAR_PART"}(t.Parts||(t.Parts={}));t.Parts;!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(t.Position||(t.Position={}));t.Position;t.IPartService=i.createDecorator("partService")}),define(l[893],d([1,0,15,86,55,93]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t,i){this._outputService=e,this._partService=t,this._panelService=i}return e.prototype.append=function(e,t,i){this._getChannel(e,t).append(i)},e.prototype.clear=function(e,t){this._getChannel(e,t).clear()},e.prototype.reveal=function(e,t,i){this._getChannel(e,t).show(i)},e.prototype._getChannel=function(e,t){return i.Registry.as(n.Extensions.OutputChannels).getChannels().every(function(t){return t.id!==e})&&i.Registry.as(n.Extensions.OutputChannels).registerChannel(e,t),this._outputService.getChannel(e)},e.prototype.close=function(e){var t=this._panelService.getActivePanel();t&&t.getId()===n.OUTPUT_PANEL_ID&&e===this._outputService.getActiveChannel().id&&this._partService.setPanelHidden(!0)},e=g([m(0,n.IOutputService),m(1,o.IPartService),m(2,r.IPanelService)],e)}();t.MainThreadOutputService=s}),define(l[42],d([1,0,2,78,15,62,55,18,21,6,33]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(e){var t=e.keybindingContext,i="undefined"==typeof e.keybindingWeight?r.KeybindingsRegistry.WEIGHT.workbenchContrib():e.keybindingWeight,n=e.keybindings,o={id:e.id,
handler:h(e),weight:i,when:t,primary:n&&n.primary,secondary:n&&n.secondary,win:n&&n.win,mac:n&&n.mac,linux:n&&n.linux};r.KeybindingsRegistry.registerCommandDesc(o)}function h(e){return function(t,n){var o=t.get(a.IMessageService),r=t.get(u.IInstantiationService),d=t.get(c.ITelemetryService),h=t.get(s.IPartService);i.TPromise.as(p(r,d,h,e,n)).done(null,function(e){o.show(l["default"].Error,e)})}}function p(e,t,n,o,r){var s=e.createInstance(o.syncDescriptor);return s.label=o.label||s.label,s.enabled?(t&&t.publicLog("workbenchActionExecuted",{id:s.id,from:r&&r.from||"keybinding"}),n.joinCreation().then(function(){try{return i.TPromise.as(s.run()).then(function(){s.dispose()},function(e){return s.dispose(),i.TPromise.wrapError(e)})}catch(e){return s.dispose(),i.TPromise.wrapError(e)}})):void s.dispose()}t.Extensions={WorkbenchActions:"workbench.contributions.actions"};var f=function(){function e(){this.workbenchActions=Object.create(null),this.mapActionIdToMeta=Object.create(null)}return e.prototype.registerWorkbenchAction=function(e,t,i){if(!this.workbenchActions[e.id]){this.workbenchActions[e.id]=e,d(e);var n={alias:t};"string"==typeof i&&(n.category=i),this.mapActionIdToMeta[e.id]=n}},e.prototype.unregisterWorkbenchAction=function(e){return!!this.workbenchActions[e]&&(delete this.workbenchActions[e],delete this.mapActionIdToMeta[e],!0)},e.prototype.getWorkbenchAction=function(e){return this.workbenchActions[e]||null},e.prototype.getCategory=function(e){return this.mapActionIdToMeta[e]&&this.mapActionIdToMeta[e].category||null},e.prototype.getAlias=function(e){return this.mapActionIdToMeta[e]&&this.mapActionIdToMeta[e].alias||null},e.prototype.getWorkbenchActions=function(){return n.values(this.workbenchActions)},e.prototype.setWorkbenchActions=function(e){var t=this;this.workbenchActions=Object.create(null),this.mapActionIdToMeta=Object.create(null),e.forEach(function(e){return t.registerWorkbenchAction(e,"")},this)},e}();o.Registry.add(t.Extensions.WorkbenchActions,new f),t.createCommandHandler=h,t.triggerAndDisposeAction=p}),define(l[895],d([1,0,2,474,15,27,35,42,55]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n){e.call(this,t,i),this.partService=n,this.enabled=!!this.partService}return h(t,e),t.prototype.run=function(){var e=this.partService.getSideBarPosition();return this.partService.setSideBarPosition(e===c.Position.LEFT?c.Position.RIGHT:c.Position.LEFT),i.TPromise.as(null)},t.ID="workbench.action.toggleSidebarPosition",t.LABEL=n.localize(0,null),t=g([m(2,c.IPartService)],t)}(r.Action);t.ToggleSidebarPositionAction=u;var l=o.Registry.as(a.Extensions.WorkbenchActions);l.registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL),"View: Toggle Side Bar Position",n.localize(1,null))}),define(l[896],d([1,0,2,475,15,27,35,42,55,13]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(e){function t(t,i,n){e.call(this,t,i),this.partService=n,this.enabled=!!this.partService}return h(t,e),t.prototype.run=function(){var e=!this.partService.isSideBarHidden();return this.partService.setSideBarHidden(e),i.TPromise.as(null)},t.ID="workbench.action.toggleSidebarVisibility",t.LABEL=n.localize(0,null),t=g([m(2,c.IPartService)],t)}(r.Action);t.ToggleSidebarVisibilityAction=l;var d=o.Registry.as(a.Extensions.WorkbenchActions);d.registerWorkbenchAction(new s.SyncActionDescriptor(l,l.ID,l.LABEL,{primary:u.KeyMod.CtrlCmd|u.KeyCode.KEY_B}),"View: Toggle Side Bar Visibility",n.localize(1,null))}),define(l[897],d([1,0,2,476,15,27,35,42,55]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n){e.call(this,t,i),this.partService=n,this.enabled=!!this.partService}return h(t,e),t.prototype.run=function(){var e=!this.partService.isStatusBarHidden();return this.partService.setStatusBarHidden(e),i.TPromise.as(null)},t.ID="workbench.action.toggleStatusbarVisibility",t.LABEL=n.localize(0,null),t=g([m(2,c.IPartService)],t)}(r.Action);t.ToggleStatusbarVisibilityAction=u;var l=o.Registry.as(a.Extensions.WorkbenchActions);l.registerWorkbenchAction(new s.SyncActionDescriptor(u,u.ID,u.LABEL),"View: Toggle Status Bar Visibility",n.localize(1,null))}),define(l[898],d([1,0,10,17,494,7,2,5,31,253,15,20,22,165,42,150,6,21,18,153,744]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";var C=function(e){function t(t,i){e.call(this,t),this.instantiationService=i,this.serviceId=_.IStatusbarService,this.toDispose=[]}return h(t,e),t.prototype.addEntry=function(e,i,n){void 0===n&&(n=0);for(var o=this.doCreateStatusItem(i,n),r=this.instantiationService.createInstance(w,e),s=r.render(o),a=this.statusItemsContainer.getHTMLElement(),u=this.getEntries(i),l=!1,d=0;d<u.length;d++){var h=u[d],p=c.$(h).getProperty(t.PRIORITY_PROP);if(i===y.StatusbarAlignment.LEFT&&p<n||i===y.StatusbarAlignment.RIGHT&&p>n){a.insertBefore(o,h),l=!0;break}}return l||a.appendChild(o),{dispose:function(){c.$(o).destroy(),s&&s.dispose()}}},t.prototype.getEntries=function(e){for(var i=[],n=this.statusItemsContainer.getHTMLElement(),o=n.children,r=0;r<o.length;r++){var s=o.item(r);c.$(s).getProperty(t.ALIGNMENT_PROP)===e&&i.push(s)}return i},t.prototype.createContentArea=function(e){var t=this;this.statusItemsContainer=c.$(e);var i=l.Registry.as(y.Extensions.Statusbar),n=i.items.filter(function(e){return e.alignment===y.StatusbarAlignment.LEFT}).sort(function(e,t){return t.priority-e.priority}),o=i.items.filter(function(e){return e.alignment===y.StatusbarAlignment.RIGHT}).sort(function(e,t){return e.priority-t.priority}),r=o.concat(n);return(s=this.toDispose).push.apply(s,r.map(function(e){var i=t.instantiationService.createInstance(e.syncDescriptor),n=t.doCreateStatusItem(e.alignment,e.priority),o=i.render(n);return t.statusItemsContainer.append(n),o})),this.statusItemsContainer;var s},t.prototype.doCreateStatusItem=function(e,n){void 0===n&&(n=0);var o=document.createElement("div");return i.addClass(o,"statusbar-item"),e===y.StatusbarAlignment.RIGHT?i.addClass(o,"right"):i.addClass(o,"left"),c.$(o).setProperty(t.PRIORITY_PROP,n),c.$(o).setProperty(t.ALIGNMENT_PROP,e),o},t.prototype.setStatusMessage=function(e,t,i){var n=this;void 0===t&&(t=-1),void 0===i&&(i=0),this.statusMsgDispose&&this.statusMsgDispose.dispose();var o,r,s=setTimeout(function(){o=n.addEntry({text:e},y.StatusbarAlignment.LEFT,Number.MIN_VALUE),s=null},i),a={dispose:function(){s&&clearTimeout(s),r&&clearTimeout(r),o&&o.dispose()}};return this.statusMsgDispose=a,"number"==typeof t&&t>0&&(r=setTimeout(function(){return a.dispose()},t)),a},t.prototype.dispose=function(){this.toDispose=a.dispose(this.toDispose),e.prototype.dispose.call(this)},t.PRIORITY_PROP="priority",t.ALIGNMENT_PROP="alignment",t=g([m(1,E.IInstantiationService)],t)}(f.Part);t.StatusbarPart=C;var w=function(){function e(e,t,i,n,o,r){this.keybindingService=t,this.instantiationService=i,this.messageService=n,this.telemetryService=o,this.editorService=r,this.entry=e}return e.prototype.render=function(e){var t=this,n=[];i.addClass(e,"statusbar-entry");var o;return this.entry.command?(o=document.createElement("a"),c.$(o).on("click",function(){return t.executeCommand(t.entry.command)},n)):o=document.createElement("span"),new u.OcticonLabel(o).text=this.entry.text,this.entry.tooltip&&c.$(o).title(this.entry.tooltip),this.entry.color&&c.$(o).color(this.entry.color),e.appendChild(o),{dispose:function(){n=a.dispose(n)}}},e.prototype.executeCommand=function(e){var t,i=this,a=this.editorService.getActiveEditor(),c=l.Registry.as(v.Extensions.WorkbenchActions).getWorkbenchAction(e);if(c&&(t=this.instantiationService.createInstance(c.syncDescriptor)),!t){var u=a?a.getControl():null;u&&n.isFunction(u.getAction)&&(t=u.getAction(e))}a&&a.focus(),t?t.enabled?(this.telemetryService.publicLog("workbenchActionExecuted",{id:t.id,from:"status bar"}),(t.run()||s.TPromise.as(null)).done(function(){t.dispose()},function(e){return i.messageService.show(b.Severity.Error,r.toErrorMessage(e))})):this.messageService.show(b.Severity.Warning,o.localize(0,null,t.label||e)):this.keybindingService.executeCommand(e).done(void 0,function(e){return i.messageService.show(b.Severity.Error,r.toErrorMessage(e))})},e=g([m(1,d.IKeybindingService),m(2,E.IInstantiationService),m(3,b.IMessageService),m(4,S.ITelemetryService),m(5,p.IWorkbenchEditorService)],e)}()}),define(l[899],d([1,0,500,74,102,160,99,112,16,2,19,27,42,84,15,35,18,56,6,182]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";function C(e,t){return void 0===t&&(t=null),function(i){return i.code===e?u.TPromise.as(t):u.TPromise.wrapError(i)}}function w(e){return a.readFile(e,"utf8").then(null,C("ENOENT",""))}var I=l["default"].parse(e.toUrl("")).fsPath,T=n.resolve(I,"..","bin","code"),A=o.existsSync(T),L=function(e){function t(t,i,n,o){e.call(this,t,i),this.messageService=n,this.editorService=o}return h(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"/usr/local/bin/"+_["default"].applicationName},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return this.checkLegacy().then(function(t){if(t.length>0){var n=t[0],o=n.file,r=n.lineNumber,s=i.localize(1,null,_["default"].darwinBundleIdentifier,o,r),c=l["default"].file(o),h={resource:c,mime:"text/x-shellscript"},p=[new d.Action("inlineEdit",i.localize(2,null,o),"",(!0),function(){return e.editorService.openEditor(h).then(function(){var t=i.localize(3,null,_["default"].applicationName,o),n=[new d.Action("cancel",i.localize(4,null)),new d.Action("continue",i.localize(5,null),"",(!0),function(){return e.run()})];e.messageService.show(E.Severity.Info,{message:t,actions:n})})})];return e.messageService.show(E.Severity.Warning,{message:s,actions:p}),u.TPromise.as(null)}return e.isInstalled().then(function(t){if(!A||t)return u.TPromise.as(null);var i=function(){return a.unlink(e.target).then(null,C("ENOENT")).then(function(){return a.symlink(T,e.target)})};return i().then(null,function(t){return"EACCES"===t.code||"ENOENT"===t.code?e.createBinFolder().then(function(){return i()}):u.TPromise.wrapError(t)})}).then(function(){return e.messageService.show(E.Severity.Info,i.localize(6,null,_["default"].applicationName))})})},t.prototype.isInstalled=function(){var e=this;return a.lstat(this.target).then(function(e){return e.isSymbolicLink()}).then(function(){return a.readlink(e.target)}).then(function(e){return e===T}).then(null,C("ENOENT",!1))},t.prototype.createBinFolder=function(){var e=this;return new u.TPromise(function(t,n){var o=i.localize(7,null),r=[new d.Action("cancel2",i.localize(8,null),"",(!0),function(){return n(new Error(i.localize(9,null))),null}),new d.Action("ok",i.localize(10,null),"",(!0),function(){var e='osascript -e "do shell script \\"mkdir -p /usr/local/bin && chown \\" & (do shell script (\\"whoami\\")) & \\" /usr/local/bin\\" with administrator privileges"';return c.nfcall(s.exec,e,{}).then(null,function(e){return u.TPromise.wrapError(new Error(i.localize(11,null)))}).done(t,n),null})];e.messageService.show(E.Severity.Info,{message:o,actions:r})})},t.prototype.checkLegacy=function(){var e=[n.join(r.homedir(),".bash_profile"),n.join(r.homedir(),".bashrc"),n.join(r.homedir(),".zshrc")];return u.TPromise.join(e.map(function(e){return w(e)})).then(function(t){return t.reduce(function(t,i,n){var o=e[n],r=i.split(/\r?\n/);return r.some(function(e,i){return e.indexOf(_["default"].darwinBundleIdentifier)>-1&&!/^\s*#/.test(e)&&(t.push({file:o,lineNumber:i+1}),!0)}),t},[])})},t.ID="workbench.action.installCommandLine",t.LABEL=i.localize(0,null,_["default"].applicationName),t=g([m(2,E.IMessageService),m(3,S.IEditorService)],t)}(d.Action),D=function(e){function t(t,i,n){e.call(this,t,i),this.messageService=n}return h(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return"/usr/local/bin/"+_["default"].applicationName},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return a.unlink(this.target).then(null,C("ENOENT")).then(function(){return e.messageService.show(E.Severity.Info,i.localize(13,null,_["default"].applicationName))})},t.ID="workbench.action.uninstallCommandLine",t.LABEL=i.localize(12,null,_["default"].applicationName),t=g([m(2,E.IMessageService)],t)}(d.Action),k=function(){function e(e,t){var n=e.createInstance(L,L.ID,L.LABEL);n.checkLegacy().done(function(e){if(e.length>0){var o=i.localize(14,null,_["default"].applicationName),r=new d.Action("changeNow",i.localize(15,null),"",(!0),function(){return n.run()}),s=new d.Action("later",i.localize(16,null),"",(!0),function(){return t.show(E.Severity.Info,i.localize(17,null,n.label)),null}),a=[s,r];t.show(E.Severity.Info,{message:o,actions:a})}})}return e.prototype.getId=function(){return"darwin.cli"},e=g([m(0,b.IInstantiationService),m(1,E.IMessageService)],e)}();if(A&&"darwin"===process.platform){var x=i.localize(18,null),M=v.Registry.as(p.Extensions.WorkbenchActions);M.registerWorkbenchAction(new y.SyncActionDescriptor(L,L.ID,L.LABEL),"Shell Command: Install 'code' command in PATH",x),M.registerWorkbenchAction(new y.SyncActionDescriptor(D,D.ID,D.LABEL),"Shell Command: Uninstall 'code' command from PATH",x);var R=v.Registry.as(f.Extensions.Workbench);R.registerWorkbenchContribution(k)}}),define(l[900],d([1,0,550,12,10,2,300,31,151,15,42,6]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(e){function t(t){e.call(this,{minimumSize:44,ariaHeaderLabel:i.localize(0,null)}),this.instantiationService=t}return h(t,e),t.prototype.renderHeader=function(e){var t=a.$("div.title").appendTo(e);a.$("span").text(i.localize(1,null)).appendTo(t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"explorer-empty-view");var r=a.$("div.section").appendTo(e);a.$("p").text(i.localize(2,null)).appendTo(r);var c=a.$("div.section").appendTo(e),u=new s.Button(c);u.label=i.localize(3,null),u.addListener2("click",function(){t.runWorkbenchAction(n.isMacintosh?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder")})},t.prototype.layoutBody=function(e){},t.prototype.runWorkbenchAction=function(e){var t=u.Registry.as(l.Extensions.WorkbenchActions),i=t.getWorkbenchAction(e),n=this.instantiationService.createInstance(i.syncDescriptor);return n.run().done(function(){return n.dispose()})},t.prototype.create=function(){return r.TPromise.as(null)},t.prototype.setVisible=function(e){return r.TPromise.as(null)},t.prototype.focusBody=function(){},t.prototype.reveal=function(e,t){return r.TPromise.as(null)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t=g([m(0,d.IInstantiationService)],t)}(c.CollapsibleView);t.EmptyView=p}),define(l[901],d([1,0,16,10,5,27,49,106,13,51,113,184,205,841,55,93,21,22,81]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b){"use strict";var _=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,p["default"].MARKERS_PANEL_ID,o,n,r),this.telemetryService=s}return h(t,e),t.prototype.run=function(){var t=e.prototype.run.call(this);return this.isPanelFocussed()&&this.telemetryService.publicLog("problems.used"),t},t.ID="workbench.actions.view.problems",t=g([m(2,v.IPartService),m(3,y.IPanelService),m(4,S.IWorkbenchEditorService),m(5,E.ITelemetryService)],t)}(l.TogglePanelAction);t.ToggleProblemsPanelAction=_;var C=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,p["default"].MARKERS_PANEL_ID,o,n,r),this.telemetryService=s}return h(t,e),t.prototype.run=function(){var t=e.prototype.run.call(this);return this.isPanelFocussed()&&this.telemetryService.publicLog("problems.used"),t},t.ID="workbench.action.showErrorsWarnings",t=g([m(2,v.IPartService),m(3,y.IPanelService),m(4,S.IWorkbenchEditorService),m(5,E.ITelemetryService)],t)}(l.TogglePanelAction);t.ToggleErrorsAndWarningsAction=C;var w=function(e){function t(t,i,n){e.call(this,t,i),this.telemetryService=n}return h(t,e),t.prototype.run=function(t){return this.telemetryService.publicLog("problems.collapseAll.used"),e.prototype.run.call(this,t)},t=g([m(2,E.ITelemetryService)],t)}(b.CollapseAllAction);t.CollapseAllAction=w;var I=function(e){function t(i){e.call(this,t.ID,d["default"].MARKERS_PANEL_ACTION_TOOLTIP_FILTER,"markers-panel-action-filter",!0),this.markersPanel=i}return h(t,e),t.ID="workbench.actions.problems.filter",t}(r.Action);t.FilterAction=I;var T=function(e){function t(t,n,o,r){e.call(this,t,n),this.markersPanel=t,this.contextViewService=o,this.telemetryService=r,this.toDispose=[],this.delayer=new i.Delayer(2e3)}return h(t,e),t.prototype.render=function(e){var t=this;n.addClass(e,"markers-panel-action-filter");var i=new a.InputBox(e,this.contextViewService,{placeholder:d["default"].MARKERS_PANEL_FILTER_PLACEHOLDER,ariaLabel:d["default"].MARKERS_PANEL_FILTER_PLACEHOLDER});i.value=this.markersPanel.markersModel.filterOptions.completeFilter,this.toDispose.push(i.onDidChange(function(e){return t.updateFilter(e)})),this.toDispose.push(n.addStandardDisposableListener(i.inputElement,"keyup",function(e){return t.onInputKeyUp(e,i)})),this.toDispose.push(n.addStandardDisposableListener(e,"keydown",this.handleKeyboardEvent)),this.toDispose.push(n.addStandardDisposableListener(e,"keyup",this.handleKeyboardEvent))},t.prototype.updateFilter=function(e){this.markersPanel.markersModel.update(new f.FilterOptions(e)),this.markersPanel.refreshPanel(),this.delayer.trigger(this.reportFilteringUsed.bind(this))},t.prototype.reportFilteringUsed=function(){var e={};e.errors=this.markersPanel.markersModel.filterOptions.filterErrors,e.warnings=this.markersPanel.markersModel.filterOptions.filterWarnings,e.infos=this.markersPanel.markersModel.filterOptions.filterInfos,this.telemetryService.publicLog("problems.filter",e)},t.prototype.dispose=function(){this.toDispose=o.dispose(this.toDispose),e.prototype.dispose.call(this)},t.prototype.handleKeyboardEvent=function(e){switch(e.keyCode){case c.CommonKeybindings.SPACE:case c.CommonKeybindings.LEFT_ARROW:case c.CommonKeybindings.RIGHT_ARROW:case c.CommonKeybindings.ESCAPE:e.stopPropagation()}},t.prototype.onInputKeyUp=function(e,t){switch(e.keyCode){case c.KeyCode.Escape:return void(t.value="");default:return}},t=g([m(2,u.IContextViewService),m(3,E.ITelemetryService)],t)}(s.BaseActionItem);t.FilterInputBoxActionItem=T}),define(l[902],d([1,0,184,205,13,15,35,42,113,67,901]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";function d(){r.Registry.as(u.Extensions.Configuration).registerConfiguration({id:"problems",order:101,title:i["default"].PROBLEMS_PANEL_CONFIGURATION_TITLE,type:"object",properties:{"problems.autoReveal":{description:i["default"].PROBLEMS_PANEL_CONFIGURATION_AUTO_REVEAL,type:"boolean","default":!0}}}),r.Registry.as(c.Extensions.Panels).registerPanel(new c.PanelDescriptor("vs/workbench/parts/markers/browser/markersPanel","MarkersPanel",n["default"].MARKERS_PANEL_ID,i["default"].MARKERS_PANEL_TITLE_NO_PROBLEMS,"markersPanel"));var e=r.Registry.as(a.Extensions.WorkbenchActions);e.registerWorkbenchAction(new s.SyncActionDescriptor(l.ToggleProblemsPanelAction,l.ToggleProblemsPanelAction.ID,i["default"].MARKERS_PANEL_TOGGLE_LABEL,{primary:null,win:{primary:o.KeyMod.CtrlCmd|o.KeyMod.Shift|o.KeyCode.KEY_M},linux:{primary:o.KeyMod.CtrlCmd|o.KeyMod.Shift|o.KeyCode.KEY_M},mac:{primary:o.KeyMod.CtrlCmd|o.KeyMod.Shift|o.KeyCode.KEY_M}}),"View: "+i["default"].MARKERS_PANEL_TOGGLE_LABEL,i["default"].MARKERS_PANEL_VIEW_CATEGORY),e.registerWorkbenchAction(new s.SyncActionDescriptor(l.ToggleErrorsAndWarningsAction,l.ToggleErrorsAndWarningsAction.ID,""),i["default"].SHOW_ERRORS_WARNINGS_ACTION_LABEL)}t.registerContributions=d}),define(l[903],d([1,0,902]),function(e,t,i){"use strict";i.registerContributions()}),define(l[904],d([1,0,2,570,15,27,40,54,86,49,55,93]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.partService=n,this.panelService=o,this.outputService=r}return h(t,e),t.prototype.run=function(e){var t=this.panelService.getActivePanel();return t&&t.getId()===c.OUTPUT_PANEL_ID?(this.partService.setPanelHidden(!0),i.TPromise.as(null)):this.outputService.getActiveChannel().show()},t.ID="workbench.action.output.toggleOutput",t.LABEL=n.localize(0,null),t=g([m(2,l.IPartService),m(3,d.IPanelService),m(4,c.IOutputService)],t)}(r.Action);t.ToggleOutputAction=p;var f=function(e){function t(t,i){e.call(this,"workbench.output.action.clearOutput",n.localize(1,null),"output-action clear-output"),this.outputService=t,this.panelService=i}return h(t,e),t.prototype.run=function(){return this.outputService.getActiveChannel().clear(),this.panelService.getActivePanel().focus(),i.TPromise.as(!0)},t=g([m(0,c.IOutputService),m(1,d.IPanelService)],t)}(r.Action);t.ClearOutputAction=f;var v=function(e){function t(t,i,n){e.call(this,t,i,a.Behaviour.WidgetFocus|a.Behaviour.ShowInContextMenu),this.outputService=n}return h(t,e),t.prototype.getGroupId=function(){return"clear"},t.prototype.isSupported=function(){var t=this.editor.getModel(),i=t&&t.getMode();return i&&i.getId()===c.OUTPUT_MODE_ID&&e.prototype.isSupported.call(this)},t.prototype.run=function(){return this.outputService.getActiveChannel().clear(),i.TPromise.as(!1)},t.ID="editor.action.clearoutput",t=g([m(2,c.IOutputService)],t)}(s.EditorAction);t.ClearOutputEditorAction=v;var y=function(e){function t(i){e.call(this,t.ID,n.localize(2,null)),this.outputService=i,this["class"]="output-action switch-to-output"}return h(t,e),t.prototype.run=function(e){return this.outputService.getChannel(e).show()},t.ID="workbench.output.action.switchBetweenOutputs",t=g([m(0,c.IOutputService)],t)}(r.Action);t.SwitchOutputAction=y;var E=function(e){function t(i,n){e.call(this,null,i,t.getChannelLabels(n),Math.max(0,t.getChannelLabels(n).indexOf(n.getActiveChannel().label))),this.outputService=n,this.toDispose.push(this.outputService.onOutputChannel(this.onOutputChannel,this)),this.toDispose.push(this.outputService.onActiveOutputChannel(this.onOutputChannel,this))}return h(t,e),t.prototype.getActionContext=function(e){var t=o.Registry.as(c.Extensions.OutputChannels).getChannels().filter(function(t){return t.label===e}).pop();return t?t.id:e},t.prototype.onOutputChannel=function(){var e=t.getChannelLabels(this.outputService),i=Math.max(0,e.indexOf(this.outputService.getActiveChannel().label));this.setOptions(e,i)},t.getChannelLabels=function(e){var t=o.Registry.as(c.Extensions.OutputChannels).getChannels().map(function(e){return e.label});return t.sort()},t=g([m(1,c.IOutputService)],t)}(u.SelectActionItem);t.SwitchOutputActionItem=E}),define(l[905],d([1,0,569,13,26,121,15,35,96,42,891,904,86,113,685]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";c.registerSingleton(h.IOutputService,l.OutputService),r.ModesRegistry.registerCompatMode({id:h.OUTPUT_MODE_ID,extensions:[],aliases:[null],mimetypes:[h.OUTPUT_MIME],moduleId:"vs/workbench/parts/output/common/outputMode",ctorName:"OutputMode"}),s.Registry.as(p.Extensions.Panels).registerPanel(new p.PanelDescriptor("vs/workbench/parts/output/browser/outputPanel","OutputPanel",h.OUTPUT_PANEL_ID,i.localize(0,null),"output"));var f=s.Registry.as(u.Extensions.WorkbenchActions);f.registerWorkbenchAction(new a.SyncActionDescriptor(d.ToggleOutputAction,d.ToggleOutputAction.ID,d.ToggleOutputAction.LABEL,{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_U,linux:{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_H}}),"View: Toggle Output",i.localize(1,null)),o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(d.ClearOutputEditorAction,d.ClearOutputEditorAction.ID,i.localize(2,null),(void 0),"Clear Output"))}),define(l[906],d([1,0,19,24,99,160,74,12,109,23,93,55,212,32,2,862]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v){"use strict";var y=function(){function t(e,t,i,o,r){this.codeEditorService=e,this.configurationService=t,this.panelService=i,this.partService=o,this.contextService=r,this.serviceId=h.ITerminalService,this.activeTerminalIndex=0,this.terminalProcesses=[],this._onActiveInstanceChanged=new n.Emitter,this._onInstancesChanged=new n.Emitter,this._onInstanceTitleChanged=new n.Emitter}return Object.defineProperty(t.prototype,"onActiveInstanceChanged",{get:function(){return this._onActiveInstanceChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onInstancesChanged",{get:function(){return this._onInstancesChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onInstanceTitleChanged",{get:function(){return this._onInstanceTitleChanged.event},enumerable:!0,configurable:!0}),t.prototype.setActiveTerminal=function(e){var t=this;return this.focus().then(function(){return t.showAndGetTerminalPanel().then(function(i){t.activeTerminalIndex=e,i.setActiveTerminal(t.activeTerminalIndex),i.focus(),t._onActiveInstanceChanged.fire()})})},t.prototype.focus=function(){return this.panelService.openPanel(h.TERMINAL_PANEL_ID,!0)},t.prototype.focusNext=function(){var e=this;return this.focus().then(function(){return e.showAndGetTerminalPanel().then(function(t){e.terminalProcesses.length<=1||(e.activeTerminalIndex++,e.activeTerminalIndex>=e.terminalProcesses.length&&(e.activeTerminalIndex=0),t.setActiveTerminal(e.activeTerminalIndex),t.focus(),e._onActiveInstanceChanged.fire())})})},t.prototype.focusPrevious=function(){var e=this;return this.focus().then(function(){return e.showAndGetTerminalPanel().then(function(t){e.terminalProcesses.length<=1||(e.activeTerminalIndex--,e.activeTerminalIndex<0&&(e.activeTerminalIndex=e.terminalProcesses.length-1),t.setActiveTerminal(e.activeTerminalIndex),t.focus(),e._onActiveInstanceChanged.fire())})})},t.prototype.runSelectedText=function(){var e=this;return this.showAndGetTerminalPanel().then(function(t){var i=e.codeEditorService.getFocusedCodeEditor(),n=i.getModel().getValueInRange(i.getSelection()),o=n+("\n"===n[n.length-1]?"":"\n");e.terminalProcesses[e.activeTerminalIndex].process.send({event:"input",data:o})})},t.prototype.toggle=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===h.TERMINAL_PANEL_ID?(this.partService.setPanelHidden(!0),f.TPromise.as(null)):this.show()},t.prototype.show=function(){return this.panelService.openPanel(h.TERMINAL_PANEL_ID,!0)},t.prototype.hide=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===h.TERMINAL_PANEL_ID&&this.partService.setPanelHidden(!0),f.TPromise.as(null)},t.prototype.createNew=function(){var e=this,t=this,i=this.terminalProcesses.length;return this.showAndGetTerminalPanel().then(function(n){if(!n)return f.TPromise.as(void 0);if(i===e.terminalProcesses.length)return t.initConfigHelper(n.getContainer()),n.createNewTerminalInstance(t.createTerminalProcess()),t._onInstancesChanged.fire(),f.TPromise.as(void 0)})},t.prototype.close=function(){return this.showAndGetTerminalPanel().then(function(e){return e.closeActiveTerminal()})},t.prototype.showAndGetTerminalPanel=function(){var e=this;return new f.TPromise(function(t){var i=e.panelService.getActivePanel();i&&i.getId()===h.TERMINAL_PANEL_ID?t(i):e.show().then(function(){i=e.panelService.getActivePanel(),t(i)})})},t.prototype.getActiveTerminalIndex=function(){return this.activeTerminalIndex},t.prototype.getTerminalInstanceTitles=function(){return this.terminalProcesses.map(function(e,t){return t+1+": "+e.title})},t.prototype.initConfigHelper=function(e){this.configHelper||(this.configHelper=new v.TerminalConfigHelper(a.platform,this.configurationService,e))},t.prototype.killTerminalProcess=function(e){e.process.connected&&(e.process.disconnect(),e.process.kill());var t=this.terminalProcesses.indexOf(e);if(t>=0){var i=t===this.getActiveTerminalIndex();this.getActiveTerminalIndex()>=t&&(this.activeTerminalIndex=Math.max(0,this.activeTerminalIndex-1)),this.terminalProcesses.splice(t,1),this._onInstancesChanged.fire(),i&&this._onActiveInstanceChanged.fire()}},t.prototype.createTerminalProcess=function(){var t=this,n=this.cloneEnv(),a=this.configHelper.getShell();n.PTYPID=process.pid.toString(),n.PTYSHELL=a.executable,a.args.forEach(function(e,t){n["PTYSHELLARG"+t]=e}),n.PTYCWD=this.contextService.getWorkspace()?this.contextService.getWorkspace().resource.fsPath:r.homedir();var c={title:"",process:o.fork("./terminalProcess",[],{env:n,cwd:i["default"].parse(s.dirname(e.toUrl("./terminalProcess"))).fsPath})};return this.terminalProcesses.push(c),this._onInstancesChanged.fire(),this.activeTerminalIndex=this.terminalProcesses.length-1,this._onActiveInstanceChanged.fire(),c.process.on("message",function(e){"title"===e.type&&(c.title=e.content,t._onInstanceTitleChanged.fire())}),c},t.prototype.cloneEnv=function(){var e=Object.create(null);return Object.keys(process.env).forEach(function(t){e[t]=process.env[t]}),e},t=g([m(0,c.ICodeEditorService),m(1,u.IConfigurationService),m(2,l.IPanelService),m(3,d.IPartService),m(4,p.IWorkspaceContextService)],t)}();t.TerminalService=y}),define(l[907],d([1,0,588,13,35,96,42,906,861,212,113,15,67,678,677]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";var p=d.Registry.as(h.Extensions.Configuration);p.registerConfiguration({id:"terminal",order:100,title:i.localize(0,null),type:"object",properties:{"terminal.integrated.shell.linux":{description:i.localize(1,null),type:"string","default":u.TERMINAL_DEFAULT_SHELL_LINUX},"terminal.integrated.shellArgs.linux":{description:i.localize(2,null),type:"array",items:{type:"string"},"default":[]},"terminal.integrated.shell.osx":{description:i.localize(3,null),type:"string","default":u.TERMINAL_DEFAULT_SHELL_OSX},"terminal.integrated.shellArgs.osx":{description:i.localize(4,null),type:"array",items:{type:"string"},"default":[]},"terminal.integrated.shell.windows":{description:i.localize(5,null),type:"string","default":u.TERMINAL_DEFAULT_SHELL_WINDOWS},"terminal.integrated.fontFamily":{description:i.localize(6,null),type:"string"},"terminal.integrated.fontSize":{description:i.localize(7,null),type:"number","default":0},"terminal.integrated.lineHeight":{description:i.localize(8,null),type:"number","default":0}}}),r.registerSingleton(u.ITerminalService,a.TerminalService),d.Registry.as(l.Extensions.Panels).registerPanel(new l.PanelDescriptor("vs/workbench/parts/terminal/electron-browser/terminalPanel","TerminalPanel",u.TERMINAL_PANEL_ID,i.localize(9,null),"terminal"));var f=d.Registry.as(s.Extensions.WorkbenchActions);f.registerWorkbenchAction(new o.SyncActionDescriptor(c.KillTerminalAction,c.KillTerminalAction.ID,c.KillTerminalAction.LABEL),c.KillTerminalAction.LABEL),f.registerWorkbenchAction(new o.SyncActionDescriptor(c.CreateNewTerminalAction,c.CreateNewTerminalAction.ID,c.CreateNewTerminalAction.LABEL,{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.US_BACKTICK,mac:{primary:n.KeyMod.WinCtrl|n.KeyMod.Shift|n.KeyCode.US_BACKTICK}}),c.CreateNewTerminalAction.LABEL),f.registerWorkbenchAction(new o.SyncActionDescriptor(c.FocusTerminalAction,c.FocusTerminalAction.ID,c.FocusTerminalAction.LABEL),c.FocusTerminalAction.LABEL),f.registerWorkbenchAction(new o.SyncActionDescriptor(c.FocusNextTerminalAction,c.FocusNextTerminalAction.ID,c.FocusNextTerminalAction.LABEL),c.KillTerminalAction.LABEL),f.registerWorkbenchAction(new o.SyncActionDescriptor(c.FocusPreviousTerminalAction,c.FocusPreviousTerminalAction.ID,c.FocusPreviousTerminalAction.LABEL),c.KillTerminalAction.LABEL),f.registerWorkbenchAction(new o.SyncActionDescriptor(c.RunSelectedTextInTerminalAction,c.RunSelectedTextInTerminalAction.ID,c.RunSelectedTextInTerminalAction.LABEL),c.RunSelectedTextInTerminalAction.LABEL),f.registerWorkbenchAction(new o.SyncActionDescriptor(c.ToggleTerminalAction,c.ToggleTerminalAction.ID,c.ToggleTerminalAction.LABEL,{primary:n.KeyMod.CtrlCmd|n.KeyCode.US_BACKTICK,mac:{primary:n.KeyMod.WinCtrl|n.KeyCode.US_BACKTICK}}),"View: "+c.ToggleTerminalAction.LABEL,i.localize(10,null))}),define(l[257],d([1,0,2,17,64,156]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t){this._eventService=e,this.scopeId=t,this.registerListeners()}return Object.defineProperty(e.prototype,"eventService",{get:function(){return this._eventService;
},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.eventService.addListener2(o.EventType.COMPOSITE_CLOSED,function(t){t.compositeId===e.scopeId&&e.onScopeDeactivated()}),this.eventService.addListener2(o.EventType.COMPOSITE_OPENED,function(t){t.compositeId===e.scopeId&&e.onScopeActivated()})},e}();t.ScopedService=s;var a=function(e){function t(t,i,o,s){e.call(this,t,o),this.serviceId=r.IProgressService,this.progressbar=i,this.isActive=s||n.isUndefinedOrNull(o),this.progressState=Object.create(null)}return h(t,e),t.prototype.onScopeDeactivated=function(){this.isActive=!1},t.prototype.onScopeActivated=function(){this.isActive=!0,this.progressState.done||(this.progressState.whilePromise?this.doShowWhile():this.progressState.infinite?this.progressbar.infinite().getContainer().show():(this.progressState.total&&this.progressbar.total(this.progressState.total).getContainer().show(),this.progressState.worked&&this.progressbar.worked(this.progressState.worked).getContainer().show()))},t.prototype.clearProgressState=function(){this.progressState.infinite=void 0,this.progressState.done=void 0,this.progressState.worked=void 0,this.progressState.total=void 0,this.progressState.whilePromise=void 0},t.prototype.show=function(e,t){var i,o,r=this;return e===!1||e===!0?i=e:o=e,this.clearProgressState(),this.progressState.infinite=i,this.progressState.total=o,this.isActive&&(n.isUndefinedOrNull(i)?n.isUndefinedOrNull(o)||(n.isUndefinedOrNull(t)?this.progressbar.total(o).getContainer().show():this.progressbar.total(o).getContainer().showDelayed(t)):n.isUndefinedOrNull(t)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(t)),{total:function(e){r.progressState.infinite=!1,r.progressState.total=e,r.isActive&&r.progressbar.total(e)},worked:function(e){!r.isActive||r.progressbar.hasTotal()?(r.progressState.infinite=!1,r.progressState.worked?r.progressState.worked+=e:r.progressState.worked=e,r.isActive&&r.progressbar.worked(e)):(r.progressState.infinite=!0,r.progressState.worked=void 0,r.progressState.total=void 0,r.progressbar.infinite().getContainer().show())},done:function(){r.progressState.infinite=!1,r.progressState.done=!0,r.isActive&&r.progressbar.stop().getContainer().hide()}}},t.prototype.showWhile=function(e,t){var n=this,o=!!this.progressState.whilePromise;o?e=i.TPromise.join([e,this.progressState.whilePromise]):this.clearProgressState(),this.progressState.whilePromise=e;var r=function(){n.progressState.whilePromise&&n.progressState.whilePromise!==e||(n.clearProgressState(),n.isActive&&n.progressbar.stop().getContainer().hide())};return this.doShowWhile(t),e.then(r,r)},t.prototype.doShowWhile=function(e){this.isActive&&(n.isUndefinedOrNull(e)?this.progressbar.infinite().getContainer().show():this.progressbar.infinite().getContainer().showDelayed(e))},t}(s);t.WorkbenchProgressService=a}),define(l[255],d([1,0,479,75,82,2,15,5,31,66,9,17,7,207,49,210,63,165,64,203,257,39,110,18,156,749]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y,E,S,b,_,C,w,I){"use strict";var T=function(e){function t(t,i,n,o,r,s,a,c,u,l,d,h,p,f){e.call(this,f),this.messageService=t,this.storageService=i,this.eventService=n,this.telemetryService=o,this.contextMenuService=r,this.partService=s,this.keybindingService=a,this.instantiationService=c,this.registry=u,this.activeCompositeSettingsKey=l,this.nameForTelemetry=d,this.compositeCSSClass=h,this.actionContributionScope=p,this.activeCompositeListeners=[],this.instantiatedCompositeListeners=[],this.mapCompositeToCompositeContainer={},this.mapActionsBindingToComposite={},this.mapProgressServiceToComposite={},this.activeComposite=null,this.instantiatedComposits=[],this.compositeLoaderPromises={}}return h(t,e),t.prototype.openComposite=function(e,t){return this.activeComposite&&this.activeComposite.getId()===e?(t&&this.activeComposite.focus(),r.TPromise.as(this.activeComposite)):this.doOpenComposite(e,t)},t.prototype.doOpenComposite=function(e,t){var i=this,s=n.start(n.Topic.WORKBENCH,l.format("Open Composite {0}",e.substr(e.lastIndexOf(".")+1))),a=o.generateUuid();this.currentCompositeOpenToken=a,this.emit(E.EventType.COMPOSITE_OPENING,new E.CompositeEvent(e));var c;return c=this.activeComposite?this.hideActiveComposite():r.TPromise.as(null),c.then(function(){return i.updateTitle(e),i.createComposite(e,!0).then(function(e){return i.currentCompositeOpenToken!==a||i.activeComposite&&i.activeComposite.getId()!==e.getId()?(s.stop(),r.TPromise.as(null)):i.activeComposite&&i.activeComposite.getId()===e.getId()?(t&&e.focus(),s.stop(),r.TPromise.as(e)):i.showComposite(e).then(function(){return t&&e.focus(),s.stop(),e})})})},t.prototype.createComposite=function(e,t){for(var i=this,n=0;n<this.instantiatedComposits.length;n++)if(this.instantiatedComposits[n].getId()===e)return r.TPromise.as(this.instantiatedComposits[n]);var o=this.registry.getComposite(e);if(o){var s=this.compositeLoaderPromises[e];if(!s){var a=new b.WorkbenchProgressService(this.eventService,this.progressBar,o.id,t),c=this.instantiationService.createChild(new C.ServiceCollection([I.IProgressService,a]));s=c.createInstance(o).then(function(t){return i.mapProgressServiceToComposite[t.getId()]=a,i.instantiatedComposits.push(t),i.instantiatedCompositeListeners.push(t.addListener2(S.EventType.INTERNAL_COMPOSITE_TITLE_AREA_UPDATE,function(e){i.onTitleAreaUpdate(e)})),delete i.compositeLoaderPromises[e],t}),a.showWhile(s,this.partService.isCreated()?800:3200),this.compositeLoaderPromises[e]=s}return s}throw new Error(l.format("Unable to find composite with id {0}",e))},t.prototype.showComposite=function(e){var t=this;this.activeComposite=e,this.storageService.store(this.activeCompositeSettingsKey,this.activeComposite.getId(),_.StorageScope.WORKSPACE),this.lastActiveCompositeId=this.activeComposite.getId(),this.activeCompositeListeners.push(this.eventService.addEmitter2(this.activeComposite,this.activeComposite.getId()));var i,n=this.mapCompositeToCompositeContainer[e.getId()];n?i=r.TPromise.as(null):(n=c.$().div({"class":["composite",this.compositeCSSClass],id:e.getId()},function(t){i=e.create(t)}),this.mapCompositeToCompositeContainer[e.getId()]=n);var o=this.mapProgressServiceToComposite[e.getId()];return o&&!n&&this.mapProgressServiceToComposite[e.getId()].showWhile(i,this.partService.isCreated()?800:3200),i.then(function(){if(t.activeComposite&&e.getId()===t.activeComposite.getId()){n.build(t.getContentArea()),n.show(),t.toolBar.actionRunner=e.getActionRunner();var i=t.registry.getComposite(e.getId());i&&i.name!==e.getTitle()&&t.updateTitle(e.getId(),e.getTitle());var o=t.mapActionsBindingToComposite[e.getId()];return o||(o=t.collectCompositeActions(e),t.mapActionsBindingToComposite[e.getId()]=o),o(),t.telemetryActionsListener&&(t.telemetryActionsListener.dispose(),t.telemetryActionsListener=null),t.telemetryActionsListener=t.toolBar.actionRunner.addListener2(u.EventType.RUN,function(e){e.error&&!p.isPromiseCanceledError(e.error)&&t.messageService.show(w.Severity.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:t.nameForTelemetry})}),e.setVisible(!0).then(function(){t.activeComposite&&e.getId()===t.activeComposite.getId()&&(t.contentAreaSize&&e.layout(t.contentAreaSize),t.emit(E.EventType.COMPOSITE_OPENED,new E.CompositeEvent(t.activeComposite.getId())))})}},function(e){return t.onError(e)})},t.prototype.onTitleAreaUpdate=function(e){if(this.activeComposite&&this.activeComposite.getId()===e.compositeId){this.updateTitle(this.activeComposite.getId(),this.activeComposite.getTitle());var t=this.collectCompositeActions(this.activeComposite);this.mapActionsBindingToComposite[this.activeComposite.getId()]=t,t()}else delete this.mapActionsBindingToComposite[e.compositeId]},t.prototype.updateTitle=function(e,t){var n=this,o=this.registry.getComposite(e);if(o){t||(t=o.name);var r=null,s=this.keybindingService.lookupKeybindings(e).map(function(e){return n.keybindingService.getLabelFor(e)});s&&s.length&&(r=s[0]),this.titleLabel.safeInnerHtml(t),this.titleLabel.title(r?i.localize(0,null,t,r):t),this.toolBar.setAriaLabel(i.localize(1,null,t))}},t.prototype.collectCompositeActions=function(e){var t=e.getActions().slice(0),i=e.getSecondaryActions().slice(0);t.push.apply(t,this.getActions()),i.push.apply(i,this.getSecondaryActions());var n=s.Registry.as(v.Extensions.Actionbar);return t.push.apply(t,n.getActionBarActionsForContext(this.actionContributionScope,e)),i.push.apply(i,n.getSecondaryActionBarActionsForContext(this.actionContributionScope,e)),this.toolBar.setActions(v.prepareActions(t),v.prepareActions(i))},t.prototype.getActiveComposite=function(){return this.activeComposite},t.prototype.getLastActiveCompositetId=function(){return this.lastActiveCompositeId},t.prototype.hideActiveComposite=function(){var e=this;if(!this.activeComposite)return r.TPromise.as(null);var t=this.activeComposite;this.activeComposite=null;var i=this.mapCompositeToCompositeContainer[t.getId()];return t.setVisible(!1).then(function(){i.offDOM(),i.hide(),e.progressBar.stop().getContainer().hide(),e.toolBar.setActions([])(),e.activeCompositeListeners=a.dispose(e.activeCompositeListeners),e.emit(E.EventType.COMPOSITE_CLOSED,new E.CompositeEvent(t.getId()))})},t.prototype.createTitleArea=function(e){var t=this,i=c.$(e).div({"class":["composite","title"]});return c.$(i).div({"class":"title-label"},function(e){t.titleLabel=e.span()}),c.$(i).div({"class":"title-actions"},function(e){t.toolBar=new f.ToolBar(e.getHTMLElement(),t.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:g.ActionsOrientation.HORIZONTAL,getKeyBinding:function(e){var i=t.keybindingService.lookupKeybindings(e.id);return i.length>0?i[0]:null}})}),i},t.prototype.actionItemProvider=function(e){var t;if(this.activeComposite&&(t=this.activeComposite.getActionItem(e)),!t){var i=s.Registry.as(v.Extensions.Actionbar);t=i.getActionItemForContext(this.actionContributionScope,f.CONTEXT,e)}return t},t.prototype.createContentArea=function(e){var t=this;return c.$(e).div({"class":"content"},function(e){t.progressBar=new m.ProgressBar(e),t.progressBar.getContainer().hide()})},t.prototype.onError=function(e){this.messageService.show(w.Severity.Error,d.isString(e)?new Error(e):e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.layout=function(t){var i=e.prototype.layout.call(this,t);return this.contentAreaSize=i[1],this.activeComposite&&this.activeComposite.layout(this.contentAreaSize),i},t.prototype.shutdown=function(){this.instantiatedComposits.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.mapCompositeToCompositeContainer=null,this.mapProgressServiceToComposite=null,this.mapActionsBindingToComposite=null;for(var t=0;t<this.instantiatedComposits.length;t++)this.instantiatedComposits[t].dispose();this.instantiatedComposits=[],this.activeCompositeListeners=a.dispose(this.activeCompositeListeners),this.instantiatedCompositeListeners=a.dispose(this.instantiatedCompositeListeners),this.progressBar.dispose(),this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(y.Part);t.CompositePart=T}),define(l[910],d([1,0,491,2,13,27,10,15,63,35,42,255,113,93,55,39,51,28,18,21,20,6,747]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w){"use strict";var I=function(e){function t(i,n,o,r,s,u,l,d,h){e.call(this,n,o,r,s,u,l,d,h,a.Registry.as(p.Extensions.Panels),t.activePanelSettingsKey,"panel","panel",c.Scope.PANEL,i),this.serviceId=f.IPanelService}return h(t,e),t.prototype.create=function(t){var i=this;e.prototype.create.call(this,t),s.addStandardDisposableListener(this.getContainer().getHTMLElement(),"keyup",function(e){e.equals(o.CommonKeybindings.ESCAPE)&&(i.partService.setPanelHidden(!0),e.preventDefault())})},t.prototype.openPanel=function(e,t){if(this.blockOpeningPanel)return n.TPromise.as(null);if(this.partService.isPanelHidden())try{this.blockOpeningPanel=!0,this.partService.setPanelHidden(!1)}finally{this.blockOpeningPanel=!1}return this.openComposite(e,t)},t.prototype.getActions=function(){return[this.instantiationService.createInstance(T,T.ID,T.LABEL)]},t.prototype.getActivePanel=function(){return this.getActiveComposite()},t.prototype.getLastActivePanelId=function(){return this.getLastActiveCompositetId()},t.prototype.hideActivePanel=function(){return this.hideActiveComposite()},t.activePanelSettingsKey="workbench.panelpart.activepanelid",t=g([m(1,b.IMessageService),m(2,y.IStorageService),m(3,S.IEventService),m(4,_.ITelemetryService),m(5,E.IContextMenuService),m(6,v.IPartService),m(7,C.IKeybindingService),m(8,w.IInstantiationService)],t)}(d.CompositePart);t.PanelPart=I;var T=function(e){function t(t,i,n){e.call(this,t,i,"hide-panel-action"),this.partService=n}return h(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(!0),n.TPromise.as(!0)},t.ID="workbench.action.closePanel",t.LABEL=i.localize(0,null),t=g([m(2,v.IPartService)],t)}(r.Action),A=function(e){function t(t,i,n){e.call(this,t,i,null),this.partService=n}return h(t,e),t.prototype.run=function(){return this.partService.setPanelHidden(!this.partService.isPanelHidden()),n.TPromise.as(!0)},t.ID="workbench.action.togglePanel",t.LABEL=i.localize(1,null),t=g([m(2,v.IPartService)],t)}(r.Action),L=a.Registry.as(l.Extensions.WorkbenchActions);L.registerWorkbenchAction(new u.SyncActionDescriptor(A,A.ID,A.LABEL,{primary:o.KeyMod.CtrlCmd|o.KeyCode.KEY_J}),"View: Toggle Panel Visibility",i.localize(2,null))}),define(l[50],d([1,0,6]),function(e,t,i){"use strict";t.IQuickOpenService=i.createDecorator("quickOpenService")}),define(l[248],d([1,0,432,2,40,26,410,50,38,54]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=this.editor.getModel();if(e){var t=e.getOptions(),i=new s.IndentationToSpacesCommand(this.editor.getSelection(),t.tabSize);return this.editor.executeCommands(this.id,[i]),e.updateOptions({insertSpaces:!0}),n.TPromise.as(!0)}},t.ID="editor.action.indentationToSpaces",t}(o.EditorAction);t.IndentationToSpacesAction=l;var d=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){var e=this.editor.getModel();if(e){var t=e.getOptions(),i=new s.IndentationToTabsCommand(this.editor.getSelection(),t.tabSize);return this.editor.executeCommands(this.id,[i]),e.updateOptions({insertSpaces:!1}),n.TPromise.as(!0)}},t.ID="editor.action.indentationToTabs",t}(o.EditorAction);t.IndentationToTabsAction=d;var p=function(e){function t(t,i,n,o,r){e.call(this,t,i,u.Behaviour.Writeable),this.insertSpaces=n,this.quickOpenService=o,this.modelService=r}return h(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel();if(t){var o=this.modelService.getCreationOptions(),r=[1,2,3,4,5,6,7,8].map(function(e){return{id:e.toString(),label:e.toString(),description:e===o.tabSize?i.localize(0,null):null}}),s=Math.min(t.getOptions().tabSize-1,7);return n.TPromise.timeout(50).then(function(){return e.quickOpenService.pick(r,{placeHolder:i.localize(1,null),autoFocus:{autoFocusIndex:s}}).then(function(i){return i&&t.updateOptions({tabSize:parseInt(i.label,10),insertSpaces:e.insertSpaces}),!0})})}},t}(o.EditorAction);t.ChangeIndentationSizeAction=p;var f=function(e){function t(t,i,n,o){e.call(this,t,i,!1,n,o)}return h(t,e),t.ID="editor.action.indentUsingTabs",t=g([m(2,a.IQuickOpenService),m(3,c.IModelService)],t)}(p);t.IndentUsingTabs=f;var v=function(e){function t(t,i,n,o){e.call(this,t,i,!0,n,o)}return h(t,e),t.ID="editor.action.indentUsingSpaces",t=g([m(2,a.IQuickOpenService),m(3,c.IModelService)],t)}(p);t.IndentUsingSpaces=v;var y=function(e){function t(t,i,n){e.call(this,t,i),this.modelService=n}return h(t,e),t.prototype.run=function(){var e=this.editor.getModel();if(e){var t=this.modelService.getCreationOptions();e.detectIndentation(t.insertSpaces,t.tabSize)}},t.ID="editor.action.detectIndentation",t=g([m(2,c.IModelService)],t)}(o.EditorAction);t.DetectIndentation=y;var E=function(e){function t(t,i){e.call(this,t,i,u.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){return this.editor.updateOptions({renderWhitespace:!this.editor.getConfiguration().viewInfo.renderWhitespace}),n.TPromise.as(!0)},t.ID="editor.action.toggleRenderWhitespace",t}(o.EditorAction);t.ToggleRenderWhitespaceAction=E;var S=function(e){function t(t,i){e.call(this,t,i,u.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){return this.editor.updateOptions({renderControlCharacters:!this.editor.getConfiguration().viewInfo.renderControlCharacters}),n.TPromise.as(!0)},t.ID="editor.action.toggleRenderControlCharacter",t}(o.EditorAction);t.ToggleRenderControlCharacterAction=S,r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(l,l.ID,i.localize(2,null),(void 0),"Convert Indentation to Spaces")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(d,d.ID,i.localize(3,null),(void 0),"Convert Indentation to Tabs")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(v,v.ID,i.localize(4,null),(void 0),"Indent Using Spaces")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(f,f.ID,i.localize(5,null),(void 0),"Indent Using Tabs")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(y,y.ID,i.localize(6,null),(void 0),"Detect Indentation from Content")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(E,E.ID,i.localize(7,null),(void 0),"Toggle Render Whitespace")),r.CommonEditorRegistry.registerEditorAction(new r.EditorActionDescriptor(S,S.ID,i.localize(8,null),(void 0),"Toggle Render Control Characters"))}),define(l[913],d([1,0,152,304,728,689,691,692,693,309,695,698,751,711,702,812,703,647,230,688,705,706,715,709,713,752,718,720,719,141,394,726,316,729,781,730,722,696,248,748]),function(e,t){"use strict"}),define(l[69],d([1,0,495,2,89,41,9,17,7,15,27,13,90,92,30,50,70]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(){function e(){}return e.prototype.getResults=function(e){return n.TPromise.as(null)},e.prototype.getAriaLabel=function(){return null},e.prototype.getClass=function(){return null},e.prototype.canRun=function(){return!0},e.prototype.getAutoFocus=function(e,t){return{}},e.prototype.onClose=function(e){},e.prototype.getGroupLabel=function(){return null},e.prototype.getEmptyLabel=function(e){return e.length>0?i.localize(0,null):i.localize(1,null)},e}();t.QuickOpenHandler=S;var b=function(e){function t(t,i,n,o,r){void 0===r&&(r=!1),e.call(this,t,i),this.prefix=n,this.id=t+i,this.instantProgress=r,a.isString(o)?this.description=o:this.helpEntries=o}return h(t,e),t.prototype.getId=function(){return this.id},t}(E.AsyncDescriptor);t.QuickOpenHandlerDescriptor=b,t.Extensions={Quickopen:"workbench.contributions.quickopen"};var _=function(){function e(){this.handlers=[],this.defaultHandlers=[]}return e.prototype.registerQuickOpenHandler=function(e){this.handlers.push(e),this.handlers.sort(function(e,t){return t.prefix.length-e.prefix.length})},e.prototype.registerDefaultQuickOpenHandler=function(e){this.defaultHandlers.push(e)},e.prototype.getQuickOpenHandlers=function(){return this.handlers.slice(0)},e.prototype.getQuickOpenHandler=function(e){return e?r.first(this.handlers,function(t){return s.startsWith(e,t.prefix)},null):null},e.prototype.getDefaultQuickOpenHandlers=function(){return this.defaultHandlers},e}();u.Registry.add(t.Extensions.Quickopen,new _);var C=function(e){function t(t){e.call(this),this._editorService=t}return h(t,e),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t.prototype.run=function(e,t){if(e===p.Mode.OPEN){var i=t.keymods.indexOf(d.KeyMod.CtrlCmd)>=0,n=this.getInput();return n instanceof v.EditorInput?this.editorService.openEditor(n,this.getOptions(),i).done(null,c.onUnexpectedError):this.editorService.openEditor(n,i).done(null,c.onUnexpectedError),!0}return!1},t}(f.QuickOpenEntry);t.EditorQuickOpenEntry=C;var w=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getInput=function(){return null},t.prototype.getOptions=function(){return null},t}(f.QuickOpenEntryGroup);t.EditorQuickOpenEntryGroup=w;var I=function(e){function t(t,i,n,o){e.call(this,o),this.quickOpenService=t,this.prefix=i,this.command=n,this.command=n}return h(t,e),t.prototype.getIcon=function(){return this.command.icon||null},t.prototype.getLabel=function(){return this.command.aliases[0]},t.prototype.getAriaLabel=function(){return i.localize(2,null,this.getLabel())},t.prototype.run=function(e,t){return e!==p.Mode.PREVIEW&&(this.quickOpenService.show(this.prefix+" "+this.command.aliases[0]+" "),!1)},t}(f.QuickOpenEntry),T=function(e){function t(t,i){e.call(this),this.quickOpenService=t,this.prefix=i.prefix,this.commands=i.commands.map(function(e){return{regexp:new RegExp("^("+e.aliases.join("|")+")\\b\\W+"),command:e}}),this.defaultCommand=i.defaultCommand||null}return h(t,e),t.prototype.getResults=function(e){var t,i,n=r.first(this.commands,function(i){return!!(t=e.match(i.regexp))});return i=n?n.command.getResults(e.substr(t[0].length)):this.defaultCommand?this.defaultCommand.getResults(e):this.getCommands(e),i.then(function(e){return new f.QuickOpenModel(e)})},t.prototype.getCommands=function(e){var t=this,i=this.commands.map(function(t){return{command:t.command,highlights:o.matchesFuzzy(e,t.command.aliases[0])}}).filter(function(t){var i=t.command,n=t.highlights;return!!n||i.aliases.some(function(t){return e===t})}).map(function(e){var i=e.command,n=e.highlights;return new I(t.quickOpenService,t.prefix,i,n)});return n.TPromise.as(i)},t.prototype.getClass=function(){return null},t.prototype.canRun=function(){return!0},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t.prototype.onClose=function(e){},t.prototype.getGroupLabel=function(){return null},t.prototype.getEmptyLabel=function(e){var t,n=r.first(this.commands,function(i){return!!(t=e.match(i.regexp))});return n?n.command.getEmptyLabel(e):i.localize(3,null)},t=g([m(0,y.IQuickOpenService)],t)}(S);t.CommandQuickOpenHandler=T;var A=function(e){function t(t,i,n,o){e.call(this,t,i),this.quickOpenService=o,this.prefix=n,this.enabled=!!this.quickOpenService}return h(t,e),t.prototype.run=function(e){return this.quickOpenService.show(this.prefix),n.TPromise.as(null)},t=g([m(3,y.IQuickOpenService)],t)}(l.Action);t.QuickOpenAction=A}),define(l[915],d([1,0,2,485,76,7,9,90,92,225,69,56,44,22,6,32,30,769]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(e){function t(t,i,n,o){e.call(this),this.editor=t,this._group=i,this.editorService=n,this.editorGroupService=o,this.stacks=o.getStacksModel()}return h(t,e),t.prototype.getIcon=function(){return this.editor.isDirty()?"dirty":""},t.prototype.getLabel=function(){return this.editor.getName()},Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!0,configurable:!0}),t.prototype.getResource=function(){var e=E.asFileEditorInput(this.editor,!0);return e&&e.getResource()},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.editor.getDescription()},t.prototype.getExtraClass=function(){return this._group.isPreview(this.editor)?"editor-preview":""},t.prototype.run=function(t,i){return t===a.Mode.OPEN?this.runOpen(i):e.prototype.run.call(this,t,i)},t.prototype.runOpen=function(e){return this.editorService.openEditor(this.editor,null,this.stacks.positionOfGroup(this.group)).done(null,r.onUnexpectedError),!0},t=g([m(2,f.IWorkbenchEditorService),m(3,p.IEditorGroupService)],t)}(c.QuickOpenEntryGroup);t.EditorPickerEntry=S;var b=function(e){function t(t,i,n,o){e.call(this),this.instantiationService=t,this.contextService=i,this.editorService=n,this.editorGroupService=o,this.scorerCache=Object.create(null)}return h(t,e),t.prototype.getResults=function(e){var t=this;e=e.trim();var r=s.stripWildcards(e).toLowerCase(),a=this.getEditorEntries();if(!a.length)return i.TPromise.as(null);var l=this.editorGroupService.getStacksModel(),d=a.filter(function(i){if(!e)return!0;var n=i.getResource(),s=n?o.getPathLabel(i.getResource(),t.contextService):i.getLabel();if(!u.matches(s,r))return!1;var a=c.QuickOpenEntry.highlight(i,e,!0),l=a.labelHighlights,d=a.descriptionHighlights;return i.setHighlights(l,d),!0});if(e&&d.sort(function(i,n){return i.group!==n.group?l.positionOfGroup(i.group)-l.positionOfGroup(n.group):c.QuickOpenEntry.compareByScore(i,n,e,r,t.scorerCache)}),l.groups.length>1){var h;d.forEach(function(e){h&&h===e.group||(e.setGroupLabel(n.localize(1,null,e.group.label)),e.setShowBorder(!!h),h=e.group)})}return i.TPromise.as(new c.QuickOpenModel(d))},t.prototype.onClose=function(e){this.scorerCache=Object.create(null)},t=g([m(0,v.IInstantiationService),m(1,y.IWorkspaceContextService),m(2,f.IWorkbenchEditorService),m(3,p.IEditorGroupService)],t)}(l.QuickOpenHandler);t.BaseEditorPicker=b;var _=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getEditorEntries=function(){var e=this,t=this.editorGroupService.getStacksModel(),i=t.groupAt(this.getPosition());return i?i.getEditors(!0).map(function(t,n){return e.instantiationService.createInstance(S,t,i)}):[]},t.prototype.getEmptyLabel=function(e){return e?n.localize(2,null):n.localize(3,null)},t.prototype.getAutoFocus=function(t,i){if(t||!i)return{autoFocusFirstEntry:!0};var n=this.editorGroupService.getStacksModel(),o=n.groupAt(this.getPosition());if(!o)return e.prototype.getAutoFocus.call(this,t);var r=i&&i.keybindings.some(function(e){return e.hasShift()});return r?{autoFocusLastEntry:!0}:{autoFocusFirstEntry:1===o.count,autoFocusSecondEntry:o.count>1}},t}(b);t.EditorGroupPicker=_;var C=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getPosition=function(){return d.Position.LEFT},t}(_);t.LeftEditorGroupPicker=C;var w=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getPosition=function(){var e=this.editorGroupService.getStacksModel();return e.groups.length>2?d.Position.CENTER:-1},t}(_);t.CenterEditorGroupPicker=w;var I=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getPosition=function(){var e=this.editorGroupService.getStacksModel();return e.groups.length>2?d.Position.RIGHT:d.Position.CENTER},t}(_);t.RightEditorGroupPicker=I;var T=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getEditorEntries=function(){var e=this,t=[],i=this.editorGroupService.getStacksModel();return i.groups.forEach(function(i,n){i.getEditors().forEach(function(n,o){t.push(e.instantiationService.createInstance(S,n,i))})}),t},t.prototype.getEmptyLabel=function(e){return e?n.localize(4,null):n.localize(5,null)},t.prototype.getAutoFocus=function(t){return t?{autoFocusFirstEntry:!0}:e.prototype.getAutoFocus.call(this,t)},t}(b);t.AllEditorsPicker=T}),define(l[916],d([1,0,531,73,26,23,50]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,n,o){e.call(this,t,i,o),this.quickOpenService=n}return h(t,e),t.prototype.runEmmetAction=function(e){var t=this,n={prompt:i.localize(0,null),placeHolder:i.localize(1,null)};this.quickOpenService.input(n).then(function(i){t.wrapAbbreviation(e,i)})},t.prototype.wrapAbbreviation=function(e,t){t&&!e.run("update_tag",this.editorAccessor,t)&&this.noExpansionOccurred()},t.ID="editor.emmet.action.updateTag",t=g([m(2,s.IQuickOpenService),m(3,r.IConfigurationService)],t)}(n.EmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,i.localize(2,null),(void 0),"Emmet: Update Tag"))}),define(l[917],d([1,0,532,73,26,23,50]),function(e,t,i,n,o,r,s){"use strict";var a=function(e){function t(t,i,n,o){e.call(this,t,i,o),this.quickOpenService=n}return h(t,e),t.prototype.runEmmetAction=function(e){var t=this,n={prompt:i.localize(0,null),placeHolder:i.localize(1,null)};this.quickOpenService.input(n).then(function(i){t.wrapAbbreviation(e,i)})},t.prototype.wrapAbbreviation=function(e,t){t&&!e.run("wrap_with_abbreviation",this.editorAccessor,t)&&this.noExpansionOccurred()},t.ID="editor.emmet.action.wrapWithAbbreviation",t=g([m(2,s.IQuickOpenService),m(3,r.IConfigurationService)],t)}(n.EmmetEditorAction);o.CommonEditorRegistry.registerEditorAction(new o.EditorActionDescriptor(a,a.ID,i.localize(2,null),(void 0),"Emmet: Wrap with Abbreviation"))}),define(l[918],d([1,0,533,15,67,802,799,804,917,800,808,810,809,807,805,811,801,803,806,916]),function(e,t,i,n,o){"use strict";var r=n.Registry.as(o.Extensions.Configuration);r.registerConfiguration({id:"emmet",order:6,title:i.localize(0,null),type:"object",properties:{"emmet.triggerExpansionOnTab":{type:"boolean","default":!0,description:i.localize(1,null)},"emmet.preferences":{type:"object","default":{},description:i.localize(2,null)},"emmet.syntaxProfiles":{type:"object","default":{},description:i.localize(3,null)}}})}),define(l[919],d([1,0,561,89,2,33,68,69,90,92,50,18]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(e){function t(t,i,n,o){e.call(this,o),this.gitService=t,this.messageService=i,this.ref=n}return h(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.ref.name},t.prototype.getDescription=function(){return""},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.run=function(e,t){return e!==c.Mode.PREVIEW},t}(u.QuickOpenEntry),f=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getDescription=function(){return i.localize(1,null,this.ref.commit.substr(0,8))},t.prototype.run=function(e,t){var i=this;return e!==c.Mode.PREVIEW&&(this.gitService.checkout(this.ref.name).done(null,function(e){return i.messageService.show(r["default"].Error,e)}),!0)},t}(p),v=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getDescription=function(){return i.localize(2,null,this.ref.commit.substr(0,8))},t.prototype.run=function(e,t){var i=this;if(e===c.Mode.PREVIEW)return!1;var n=/^[^\/]+\/(.*)$/.exec(this.ref.name),o=n?n[1]:this.ref.name;return this.gitService.checkout(o).done(null,function(e){return i.messageService.show(r["default"].Error,e)}),!0},t}(p),y=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getDescription=function(){return i.localize(3,null,this.ref.commit.substr(0,8))},t.prototype.run=function(e,t){var i=this;return e!==c.Mode.PREVIEW&&(this.gitService.checkout(this.ref.name).done(null,function(e){return i.messageService.show(r["default"].Error,e)}),!0)},t}(p),E=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getDescription=function(){return i.localize(4,null,this.ref.name)},t}(p),S=function(e){function t(t,i,n){e.call(this,[{start:0,end:n.length}]),this.gitService=t,this.messageService=i,this.name=n}return h(t,e),t.prototype.getIcon=function(){return"git"},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return i.localize(5,null,this.getLabel())},t.prototype.getDescription=function(){return i.localize(6,null,this.name)},t.prototype.run=function(e,t){var i=this;return e!==c.Mode.PREVIEW&&(this.gitService.branch(this.name,!0).done(null,function(e){return i.messageService.show(r["default"].Error,e)}),!0)},t}(u.QuickOpenEntry),b=function(){function e(e,t){this.gitService=e,this.messageService=t,this.aliases=["checkout","co"],this.icon="git"}return e.prototype.getResults=function(e){var t=this;e=e.trim();var i=this.gitService.getModel(),r=i.getHEAD(),a=i.getRefs(),c=a.filter(function(e){return e.type===s.RefType.Head}),l=a.filter(function(e){return e.type===s.RefType.Tag}),d=a.filter(function(e){return e.type===s.RefType.RemoteHead;
}),h=c.map(function(t){return{head:t,highlights:n.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),p=h.filter(function(e){var t=e.head;return t.name!==r.name}).map(function(e){var i=e.head,n=e.highlights;return new f(t.gitService,t.messageService,i,n)}),g=l.map(function(t){return{head:t,highlights:n.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),m=g.filter(function(e){var t=e.head;return t.name!==r.name}).map(function(e){var i=e.head,n=e.highlights;return new y(t.gitService,t.messageService,i,n)}),b=p.concat(m).sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())}),_=d.map(function(t){return{head:t,highlights:n.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),C=_.filter(function(e){var t=e.head;return t.name!==r.name}).map(function(e){var i=e.head,n=e.highlights;return new v(t.gitService,t.messageService,i,n)}).sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())});b.length>0&&(b[0]=new u.QuickOpenEntryGroup(b[0],"checkout",(!1))),C.length>0&&(C[0]=new u.QuickOpenEntryGroup(C[0],"checkout remote",b.length>0));var w=b.sort(function(e,t){return e.getLabel().localeCompare(t.getLabel())}).concat(C),I=h.concat(g).concat(_),T=I.filter(function(t){var i=t.head;return i.name===e}),A=T.filter(function(e){var t=e.head;return t.name===r.name});if(A.length>0)w.unshift(new E(this.gitService,this.messageService,A[0].head,A[0].highlights));else if(0===T.length&&s.isValidBranchName(e)){var L=new S(this.gitService,this.messageService,e);w.push(new u.QuickOpenEntryGroup(L,"branch",b.length>0||C.length>0))}return o.TPromise.as(w)},e.prototype.getEmptyLabel=function(e){return i.localize(7,null)},e}(),_=function(){function e(e,t){this.gitService=e,this.messageService=t,this.aliases=["branch"],this.icon="git"}return e.prototype.getResults=function(e){if(e=e.trim(),!s.isValidBranchName(e))return o.TPromise.as([]);var t=this.gitService.getModel(),i=t.getHEAD(),r=t.getRefs().map(function(t){return{head:t,highlights:n.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}),a=r.filter(function(t){var i=t.head;return i.name===e}),c=a.filter(function(e){var t=e.head;return t.name===i.name});if(c.length>0)return o.TPromise.as([new E(this.gitService,this.messageService,c[0].head,c[0].highlights)]);if(a.length>0)return o.TPromise.as([new f(this.gitService,this.messageService,a[0].head,a[0].highlights)]);var l=new S(this.gitService,this.messageService,e);return o.TPromise.as([new u.QuickOpenEntryGroup(l,"branch",(!1))])},e.prototype.getEmptyLabel=function(e){return i.localize(8,null)},e}(),C=function(e){function t(t,i,n){e.call(this,t,{prefix:"git",commands:[new b(i,n),new _(i,n)]})}return h(t,e),t=g([m(0,l.IQuickOpenService),m(1,s.IGitService),m(2,d.IMessageService)],t)}(a.CommandQuickOpenHandler);t.GitCommandQuickOpenHandler=C}),define(l[920],d([1,0,2,572,41,17,12,9,7,90,92,35,42,15,69,89,40,54,22,6,18,21,20,50,682]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T){"use strict";t.ALL_COMMANDS_PREFIX=">",t.EDITOR_COMMANDS_PREFIX="$";var A=y.or(y.matchesPrefix,y.matchesWords,y.matchesContiguousSubString),L=function(e){function i(i,n,o){e.call(this,i,n,t.ALL_COMMANDS_PREFIX,o)}return h(i,e),i.ID="workbench.action.showCommands",i.LABEL=n.localize(0,null),i=g([m(2,T.IQuickOpenService)],i)}(v.QuickOpenAction);t.ShowAllCommandsAction=L;var D=function(e){function t(t,i,n,o,r,s,a,c){e.call(this),this.messageService=a,this.telemetryService=c,this.keyLabel=t,this.keyAriaLabel=i,this.label=n,this.alias=o,this.setHighlights(r,null,s)}return h(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getDetail=function(){return this.alias},t.prototype.getAriaLabel=function(){return this.keyAriaLabel?n.localize(1,null,this.getLabel(),this.keyAriaLabel):n.localize(2,null,this.getLabel())},t.prototype.getGroupLabel=function(){return this.keyLabel},t.prototype.onError=function(e){var t,i=e;t=i&&"string"==typeof i.message&&Array.isArray(i.actions)?i:e?c.toErrorMessage(e):n.localize(3,null,this.label),this.messageService.show(C.Severity.Error,t)},t.prototype.runAction=function(e){var t=this;i.TPromise.timeout(50).done(function(){if(e&&e.enabled)try{t.telemetryService.publicLog("workbenchActionExecuted",{id:e.id,from:"quick open"}),(e.run()||i.TPromise.as(null)).done(function(){e.dispose()},function(e){return t.onError(e)})}catch(o){t.onError(o)}else t.messageService.show(C.Severity.Info,n.localize(4,null,t.getLabel()))},function(e){return t.onError(e)})},t=g([m(6,C.IMessageService),m(7,w.ITelemetryService)],t)}(l.QuickOpenEntryGroup),k=function(e){function t(t,i,n,o,r,s,a,c,u,l,d){e.call(this,t,i,n,o,r,s,l,d),this.editorService=c,this.instantiationService=u,this.actionDescriptor=a}return h(t,e),t.prototype.run=function(e,t){if(e===u.Mode.OPEN){var i=this.instantiationService.createInstance(this.actionDescriptor.syncDescriptor);return this.runAction(i),!0}return!1},t=g([m(7,b.IWorkbenchEditorService),m(8,_.IInstantiationService),m(9,C.IMessageService),m(10,w.ITelemetryService)],t)}(D),x=function(e){function t(t,i,n,o,r,s,a,c,u,l){e.call(this,t,i,n,o,r,s,u,l),this.editorService=c,this.action=a}return h(t,e),t.prototype.run=function(e,t){return e===u.Mode.OPEN&&(this.runAction(this.action),!0)},t=g([m(7,b.IWorkbenchEditorService),m(8,C.IMessageService),m(9,w.ITelemetryService)],t)}(D),M=function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this,t,i,n,o,r,s,c,u),this.action=a}return h(t,e),t.prototype.run=function(e,t){return e===u.Mode.OPEN&&(this.runAction(this.action),!0)},t=g([m(7,C.IMessageService),m(8,w.ITelemetryService)],t)}(D),R=function(e){function t(t,i,n,o,r){e.call(this),this.editorService=t,this.instantiationService=i,this.messageService=n,this.keybindingService=o,this.menuService=r}return h(t,e),t.prototype.includeWorkbenchCommands=function(){return!0},t.prototype.getResults=function(e){var t=this;e=e.trim();var s=[];if(this.includeWorkbenchCommands()){var c=f.Registry.as(p.Extensions.WorkbenchActions).getWorkbenchActions();s=this.actionDescriptorsToEntries(c,e)}var u=this.editorService.getActiveEditor(),h=u?u.getControl():null,g=[];h&&r.isFunction(h.getActions)&&(g=h.getActions());var m=this.editorActionsToEntries(g,e),v=this.menuService.getCommandActions().map(function(e){return new d.ExecuteCommandAction(e.id,e.category?n.localize(5,null,e.category,e.title):e.title,t.keybindingService)}),y=this.otherActionsToEntries(v,e),E=s.concat(m,y);return E=o.distinct(E,function(e){return e.getLabel()+e.getGroupLabel()}),E=E.sort(function(e,t){return a.localeCompare(e.getLabel().toLowerCase(),t.getLabel().toLowerCase())}),i.TPromise.as(new l.QuickOpenModel(E))},t.prototype.actionDescriptorsToEntries=function(e,t){for(var i=this,o=[],r=f.Registry.as(p.Extensions.WorkbenchActions),a=0;a<e.length;a++){var c=e[a],u=this.keybindingService.lookupKeybindings(c.id),l=u.map(function(e){return i.keybindingService.getLabelFor(e)}),d=u.map(function(e){return i.keybindingService.getAriaLabelFor(e)});if(c.label){var h=c.label,g=r.getCategory(c.id);g&&(h=n.localize(6,null,g,h));var m=s.language!==s.LANGUAGE_DEFAULT?r.getAlias(c.id):null,v=A(t,h),y=m?A(t,m):null;(v||y)&&o.push(this.instantiationService.createInstance(k,l.length>0?l.join(", "):"",d.length>0?d.join(", "):"",h,m,v,y,c))}}return o},t.prototype.editorActionsToEntries=function(e,t){for(var i=this,n=[],o=0;o<e.length;o++){var r=e[o],a=r;if(a.isSupported()){var c=this.keybindingService.lookupKeybindings(a.id),u=c.map(function(e){return i.keybindingService.getLabelFor(e)}),l=c.map(function(e){return i.keybindingService.getAriaLabelFor(e)}),d=r.label;if(d){var h=s.language!==s.LANGUAGE_DEFAULT?r.getAlias():null,p=A(t,d),f=h?A(t,h):null;(p||f)&&n.push(this.instantiationService.createInstance(x,u.length>0?u.join(", "):"",l.length>0?l.join(", "):"",d,h,p,f,r))}}}return n},t.prototype.otherActionsToEntries=function(e,t){for(var i=this,n=[],o=0,r=e;o<r.length;o++){var s=r[o],a=this.keybindingService.lookupKeybindings(s.id),c=a.map(function(e){return i.keybindingService.getLabelFor(e)}),u=a.map(function(e){return i.keybindingService.getAriaLabelFor(e)}),l=A(t,s.label);l&&n.push(this.instantiationService.createInstance(M,c.join(", "),u.join(", "),s.label,null,l,null,s))}return n},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e.trim()}},t.prototype.getClass=function(){return"commands-handler"},t.prototype.getEmptyLabel=function(e){return n.localize(7,null)},t=g([m(0,b.IWorkbenchEditorService),m(1,_.IInstantiationService),m(2,C.IMessageService),m(3,I.IKeybindingService),m(4,d.IMenuService)],t)}(v.QuickOpenHandler);t.CommandsHandler=R;var O=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.includeWorkbenchCommands=function(){return!1},t}(R);t.EditorCommandsHandler=O;var P=function(e){function t(t,i,o){e.call(this,t,i,S.Behaviour.WidgetFocus|S.Behaviour.ShowInContextMenu),this.quickOpenService=o,this.label=n.localize(8,null)}return h(t,e),t.prototype.getGroupId=function(){return"4_tools/1_commands"},t.prototype.run=function(){return this.editor.focus(),this.quickOpenService.show("$"),e.prototype.run.call(this)},t.ID="editor.action.quickCommand",t=g([m(2,T.IQuickOpenService)],t)}(E.EditorAction);t.QuickCommandsEditorAction=P}),define(l[921],d([1,0,2,575,31,17,15,90,92,69,50]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";t.HELP_PREFIX="?";var d=function(e){function t(t,i,n,o){e.call(this),this.prefix=t,this.description=i,this.quickOpenService=n,this.openOnPreview=o}return h(t,e),t.prototype.getLabel=function(){return this.prefix},t.prototype.getAriaLabel=function(){return n.localize(0,null,this.getLabel())},t.prototype.getDescription=function(){return this.description},t.prototype.getHeight=function(){return 22},t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return this.useBorder},t.prototype.setShowBorder=function(e){this.useBorder=e},t.prototype.render=function(e,t,i){var n=this,r=o.$(t);r.addClass("quick-open-entry"),this.showBorder()?o.$(t).addClass("results-group-separator"):o.$(t).removeClass("results-group-separator"),this.getGroupLabel()&&o.$(t).div(function(e){e.addClass("results-group"),e.attr({text:n.getGroupLabel()})});var s=r.clone().div({text:this.prefix,"class":"quick-open-help-entry-label"});return this.prefix||s.text("…"),r.span({text:this.description,"class":"quick-open-entry-description"}),null},t.prototype.run=function(e,t){return(e===a.Mode.OPEN||this.openOnPreview)&&this.quickOpenService.show(this.prefix),!1},t}(c.QuickOpenEntryItem),p=function(e){function o(t){e.call(this),this.quickOpenService=t}return h(o,e),o.prototype.getResults=function(e){var o=this;e=e.trim();var a=s.Registry.as(u.Extensions.Quickopen),l=a.getQuickOpenHandlers(),h=a.getDefaultQuickOpenHandlers();h.length>0&&l.push.apply(l,h);var p,f=[],g=[];return l.sort(function(e,t){return e.prefix.localeCompare(t.prefix)}).forEach(function(i){if(i.prefix!==t.HELP_PREFIX)if(r.isArray(i.helpEntries))for(var n=0;n<i.helpEntries.length;n++){var s=i.helpEntries[n];0===s.prefix.indexOf(e)&&(p=new d(s.prefix,s.description,o.quickOpenService,e.length>0),s.needsEditor?g.push(p):f.push(p))}else 0===i.prefix.indexOf(e)&&(p=new d(i.prefix,i.description,o.quickOpenService,e.length>0),f.push(p))}),f.length>0&&f[0].setGroupLabel(n.localize(1,null)),g.length>0&&(g[0].setGroupLabel(n.localize(2,null)),f.length>0&&g[0].setShowBorder(!0)),i.TPromise.as(new c.QuickOpenModel(f.concat(g)))},o.prototype.getAutoFocus=function(e){return e=e.trim(),{autoFocusFirstEntry:e.length>0,autoFocusPrefixMatch:e}},o=g([m(0,l.IQuickOpenService)],o)}(u.QuickOpenHandler);t.HelpHandler=p}),define(l[922],d([1,0,581,2,25,27,35,15,42,84,851,7,50,32,108,45,52,102]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S){"use strict";function b(e){return new n.TPromise(function(t,i,n){S.stat(e,function(e,i){return e?t(!1):i.isFile()?t(!0):void t(!1)})})}function _(e,t){return new n.Promise(function(i,n,o){S.writeFile(e,t,function(e){e&&n(e),i(!0)})})}var C=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.contextService=n,this.quickOpenService=o,this.modeService=r}return h(t,e),t.prototype.openFile=function(e){E.ipcRenderer.send("vscode:windowOpen",[e])},t.prototype.run=function(){var e=this,t=this.modeService.getRegisteredModes(),r=[];return t.forEach(function(t){var i=e.modeService.getLanguageName(t);i&&r.push({label:i,id:t})}),r=r.sort(function(e,t){return e.label.localeCompare(t.label)}),this.quickOpenService.pick(r,{placeHolder:i.localize(1,null)}).then(function(t){if(t){var r=o.join(e.contextService.getConfiguration().env.appSettingsHome,"snippets",t.id+".json");return b(r).then(function(o){if(o)return e.openFile(r),n.TPromise.as(null);var s=["{","/*","\t // Place your snippets for "+t.label+" here. Each snippet is defined under a snippet name and has a prefix, body and ","\t // description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:","\t // $1, $2 for tab stops, ${id} and ${id:label} and ${1:label} for variables. Variables with the same id are connected.","\t // Example:",'\t "Print to console": {','\t\t"prefix": "log",','\t\t"body": [',"\t\t\t\"console.log('$1');\",",'\t\t\t"$2"',"\t\t],",'\t\t"description": "Log output to console"',"\t}","*/","}"].join("\n");return _(r,s).then(function(){e.openFile(r)},function(e){d.onUnexpectedError(i.localize(2,null,r))})})}return n.TPromise.as(null)})},t.ID="workbench.action.openSnippets",t.LABEL=i.localize(0,null),t=g([m(2,f.IWorkspaceContextService),m(3,p.IQuickOpenService),m(4,y.IModeService)],t)}(r.Action),w=i.localize(3,null),I=a.Registry.as(c.Extensions.WorkbenchActions);I.registerWorkbenchAction(new s.SyncActionDescriptor(C,C.ID,C.LABEL),"Preferences: Snippets",w),a.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(l.SnippetsTracker);var T="vscode://schemas/snippets",A={id:T,defaultSnippets:[{label:i.localize(4,null),body:{"{{snippetName}}":{prefix:"{{prefix}}",body:"{{snippet}}",description:"{{description}}"}}}],type:"object",description:i.localize(5,null),additionalProperties:{type:"object",required:["prefix","body"],properties:{prefix:{description:i.localize(6,null),type:"string"},body:{description:i.localize(7,null),type:["string","array"],items:{type:"string"}},description:{description:i.localize(8,null),type:"string"}},additionalProperties:!1}},L=a.Registry.as(v.Extensions.JSONContribution);L.registerSchema(T,A)}),define(l[923],d([1,0,582,89,69,90,92,50,209]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i,n){void 0===n&&(n=[]),e.call(this,n),this.taskService=t,this.task=i}return h(t,e),t.prototype.getLabel=function(){return this.task.name},t.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())},t.prototype.run=function(e,t){return e!==r.Mode.PREVIEW&&(this.taskService.run(this.task.id),!0)},t}(s.QuickOpenEntry),l=function(e){function t(t,i){e.call(this),this.quickOpenService=t,this.taskService=i}return h(t,e),t.prototype.getAriaLabel=function(){return i.localize(1,null)},t.prototype.getResults=function(e){var t=this;return this.taskService.tasks().then(function(i){return i.sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(t){return{task:t,highlights:n.matchesContiguousSubString(e,t.name)}}).filter(function(e){var t=e.highlights;return!!t}).map(function(e){var i=e.task,n=e.highlights;return new u(t.taskService,i,n)})},function(e){return[]}).then(function(e){return new s.QuickOpenModel(e)})},t.prototype.getClass=function(){return null},t.prototype.canRun=function(){return!0},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!!e}},t.prototype.onClose=function(e){},t.prototype.getGroupLabel=function(){return null},t.prototype.getEmptyLabel=function(e){return e.length>0?i.localize(2,null):i.localize(3,null)},t=g([m(0,a.IQuickOpenService),m(1,c.ITaskService)],t)}(o.QuickOpenHandler);t.QuickOpenHandler=l}),define(l[924],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this.service=e}return e.prototype.call=function(e,t){switch(e){case"fileSearch":return this.service.fileSearch(t);case"textSearch":return this.service.textSearch(t)}},e}();t.SearchChannel=i;var n=function(){function e(e){this.channel=e}return e.prototype.fileSearch=function(e){return this.channel.call("fileSearch",e)},e.prototype.textSearch=function(e){return this.channel.call("textSearch",e)},e}();t.SearchChannelClient=n}),define(l[925],d([1,0,2,7,34,21,32]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t,i){this.fileService=e,this.contextService=t,this.telemetryService=i}return e.prototype.searchArray=function(e,t){return e.some(function(e){return e.search(t)>-1})},e.prototype.getWorkspaceTags=function(){var e=this,t=Object.create(null),o=this.contextService.getWorkspace();return o&&this.fileService?this.fileService.resolveFile(o.resource).then(function(i){var n=i.children.map(function(e){return e.name});t["workspace.empty"]=!1,t["workspace.language.cs"]=e.searchArray(n,/^.+\.cs$/i),t["workspace.language.js"]=e.searchArray(n,/^.+\.js$/i),t["workspace.language.ts"]=e.searchArray(n,/^.+\.ts$/i),t["workspace.language.php"]=e.searchArray(n,/^.+\.php$/i),t["workspace.language.python"]=e.searchArray(n,/^.+\.py$/i),t["workspace.language.vb"]=e.searchArray(n,/^.+\.vb$/i),t["workspace.language.aspx"]=e.searchArray(n,/^.+\.aspx$/i),t["workspace.grunt"]=e.searchArray(n,/^gruntfile\.js$/i),t["workspace.gulp"]=e.searchArray(n,/^gulpfile\.js$/i),t["workspace.jake"]=e.searchArray(n,/^jakefile\.js$/i),t["workspace.tsconfig"]=e.searchArray(n,/^tsconfig\.json$/i),t["workspace.jsconfig"]=e.searchArray(n,/^jsconfig\.json$/i),t["workspace.config.xml"]=e.searchArray(n,/^config\.xml/i),t["workspace.vsc.extension"]=e.searchArray(n,/^vsc-extension-quickstart\.md/i),t["workspace.ASP5"]=e.searchArray(n,/^project\.json$/i)&&t["workspace.language.cs"],t["workspace.sln"]=e.searchArray(n,/^.+\.sln$|^.+\.csproj$/i),t["workspace.unity"]=e.searchArray(n,/^Assets$/i)&&e.searchArray(n,/^Library$/i)&&e.searchArray(n,/^ProjectSettings/i),t["workspace.npm"]=e.searchArray(n,/^package\.json$|^node_modules$/i),t["workspace.bower"]=e.searchArray(n,/^bower\.json$|^bower_components$/i),t["workspace.yeoman.code"]=e.searchArray(n,/^vscodequickstart\.md$/i),t["workspace.yeoman.code.ext"]=e.searchArray(n,/^vsc-extension-quickstart\.md$/i);var o=e.searchArray(n,/^MainActivity\.cs$/i)||e.searchArray(n,/^MainActivity\.fs$/i),r=e.searchArray(n,/^AppDelegate\.cs$/i)||e.searchArray(n,/^AppDelegate\.fs$/i),s=e.searchArray(n,/^AndroidManifest\.xml$/i),a=e.searchArray(n,/^platforms$/i),c=e.searchArray(n,/^plugins$/i),u=e.searchArray(n,/^www$/i),l=e.searchArray(n,/^Properties/i),d=e.searchArray(n,/^Resources/i),h=e.searchArray(n,/^JNI/i);return!t["workspace.config.xml"]||t["workspace.language.cs"]||t["workspace.language.vb"]||t["workspace.language.aspx"]||(a&&c&&u?t["workspace.cordova.high"]=!0:t["workspace.cordova.low"]=!0),o&&l&&d&&(t["workspace.xamarin.android"]=!0),r&&d&&(t["workspace.xamarin.ios"]=!0),s&&h&&(t["workspace.android.cpp"]=!0),t["workspace.reactNative"]=e.searchArray(n,/^android$/i)&&e.searchArray(n,/^ios$/i)&&e.searchArray(n,/^index\.android\.js$/i)&&e.searchArray(n,/^index\.ios\.js$/i),t},function(e){return n.onUnexpectedError(e),null}):(t["workspace.empty"]=!0,i.TPromise.as(t))},e.prototype.reportWorkspaceTags=function(){var e=this;this.getWorkspaceTags().then(function(t){e.telemetryService.publicLog("workspce.tags",t)},function(e){return n.onUnexpectedError(e)})},e=g([m(0,o.IFileService),m(1,s.IWorkspaceContextService),m(2,r.ITelemetryService)],e)}();t.WorkspaceStats=a}),define(l[91],d([1,0,6]),function(e,t,i){"use strict";t.IThemeService=i.createDecorator("themeService")}),define(l[927],d([1,0,567,2,5,65,21,32,22,145,234,91,164,235]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var v=function(e){function t(i,n,r,s,a){e.call(this,t.ID,i),this._modelChangeSubscription=o.empty,this._themeChangeSubscription=o.empty,this._editorService=n,this._themeService=r,this._openerService=s,this._baseUrl=a.toResource("/")}return h(t,e),t.prototype.dispose=function(){this._webview.dispose(),this._themeChangeSubscription.dispose(),this._modelChangeSubscription.dispose(),this._model=void 0,e.prototype.dispose.call(this)},t.prototype.createEditor=function(e){this._container=document.createElement("div"),this._container.style.paddingLeft="20px",e.getHTMLElement().appendChild(this._container)},Object.defineProperty(t.prototype,"webview",{get:function(){var e=this;return this._webview||(this._webview=new f["default"](this._container,document.querySelector(".monaco-editor-background"),function(t){return e._openerService.open(t)}),this._webview.baseUrl=this._baseUrl&&this._baseUrl.toString(!0)),this._webview},enumerable:!0,configurable:!0}),t.prototype.changePosition=function(t){this._doSetVisible(!1),this._doSetVisible(!0),e.prototype.changePosition.call(this,t)},t.prototype.setEditorVisible=function(t,i){this._doSetVisible(t),e.prototype.setEditorVisible.call(this,t,i)},t.prototype._doSetVisible=function(e){var t=this;e?(this._themeChangeSubscription=this._themeService.onDidThemeChange(function(e){return t.webview.style(e)}),this.webview.style(this._themeService.getTheme()),this._hasValidModel()&&(this._modelChangeSubscription=this._model.onDidChangeContent(function(){return t.webview.contents=t._model.getLinesContent()}),this.webview.contents=this._model.getLinesContent())):(this._themeChangeSubscription.dispose(),this._modelChangeSubscription.dispose(),this._webview.dispose(),this._webview=void 0)},t.prototype._hasValidModel=function(){return this._model&&!this._model.isDisposed()},t.prototype.layout=function(e){var t=e.width,i=e.height;this._container.style.width=Math.max(t-20,0)+"px",this._container.style.height=i+"px"},t.prototype.focus=function(){this.webview.focus()},t.prototype.setInput=function(t,o){var r=this;return this.input===t&&this._hasValidModel()?n.TPromise.as(void 0):(this._model=void 0,this._modelChangeSubscription.dispose(),t instanceof l.HtmlInput?e.prototype.setInput.call(this,t,o).then(function(){return r._editorService.resolveEditorModel({resource:t.getResource()}).then(function(e){return e instanceof u.BaseTextEditorModel&&(r._model=e.textEditorModel),r._model?(r._modelChangeSubscription=r._model.onDidChangeContent(function(){return r.webview.contents=r._model.getLinesContent()}),void(r.webview.contents=r._model.getLinesContent())):n.TPromise.wrapError(i.localize(0,null))})}):n.TPromise.wrapError("Invalid input"))},t.ID="workbench.editor.htmlPreviewPart",t=g([m(0,s.ITelemetryService),m(1,c.IWorkbenchEditorService),m(2,d.IThemeService),m(3,p.IOpenerService),m(4,a.IWorkspaceContextService)],t)}(r.BaseEditor);t.HtmlPreviewPart=v}),define(l[928],d([1,0,566,62,6,22,19,234,927,15,65,70]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";u.Registry.as(l.Extensions.Editors).registerEditor(new l.EditorDescriptor(c.HtmlPreviewPart.ID,i.localize(0,null),"vs/workbench/parts/html/browser/htmlPreviewPart","HtmlPreviewPart"),[new d.SyncDescriptor(a.HtmlInput)]),n.KeybindingsRegistry.registerCommandDesc({id:"_workbench.previewHtml",weight:n.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t,i,n){var c=t instanceof s["default"]?t:s["default"].parse(t);n=n||c.fsPath;var u=e.get(o.IInstantiationService).createInstance(a.HtmlInput,n,"",c);return e.get(r.IWorkbenchEditorService).openEditor(u,{pinned:!0},i).then(function(e){return!0})},when:void 0,primary:void 0})}),define(l[929],d([1,0,590,27,35,18,15,42,50,32,91,16]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var p=function(e){function t(t,i,n,o,r,s){e.call(this,t,i),this.contextService=n,this.quickOpenService=o,this.messageService=r,this.themeService=s}return h(t,e),t.prototype.run=function(){var e=this;return this.themeService.getThemes().then(function(t){var n=e.themeService.getTheme(),o=[];t.forEach(function(e){o.push({id:e.id,label:e.label,description:e.description}),t[e.id]=e}),o=o.sort(function(e,t){return e.label.localeCompare(t.label)});var s;o.forEach(function(e,t){e.id===n&&(s=t)});var a=function(t,o){if(t){var s=t.id;e.themeService.setTheme(s,o).then(null,function(t){e.messageService.show(r.Severity.Info,i.localize(1,null,t.message))})}else e.themeService.setTheme(n,o)},c=null,u=new d.RunOnceScheduler(function(){a(c,!1)},100),l=function(e){c=e,u.schedule()},h=function(e){u.dispose(),a(e,!0)};return e.quickOpenService.pick(o,{placeHolder:i.localize(2,null),autoFocus:{autoFocusIndex:s}}).then(h,null,l)})},t.ID="workbench.action.selectTheme",t.LABEL=i.localize(0,null),t=g([m(2,u.IWorkspaceContextService),m(3,c.IQuickOpenService),m(4,r.IMessageService),m(5,l.IThemeService)],t)}(n.Action),f=i.localize(3,null),v=s.Registry.as(a.Extensions.WorkbenchActions);v.registerWorkbenchAction(new o.SyncActionDescriptor(p,p.ID,p.LABEL),"Preferences: Color Theme",f)}),define(l[930],d([1,0,2,25,185,157,45,112,62,6,91,22,30]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";var p=function(){function e(e,t){this.modeService=e,this.themeService=t}return e.prototype.getTestNode=function(e){var t=document.createElement("div");t.className="monaco-editor "+e,document.body.appendChild(t);var i=document.createElement("span");return t.appendChild(i),i},e.prototype.normalizeType=function(e){return e.split(".").sort().join(".")},e.prototype.getStyle=function(e,t){e.className="token "+t.replace(/\./g," ");var i=window.getComputedStyle(e);return i?i.color:""},e.prototype.getMatchedCSSRule=function(e,t){e.className="token "+t.replace(/\./g," ");var i=window.getMatchedCSSRules(e);if(i)for(var n=i.length-1;n>=0;n--){var o=i.item(n).selectorText;if(o&&o.match(/\.monaco-editor\..+token/))return o.substr(14)}else console.log("no match "+t);return""},e.prototype.appendThemeInformation=function(e){var t=this,n=this.themeService.getTheme(),o=function(e){var t="vscode-theme-defaults-themes-",i=e.indexOf(t);if(i!==-1)return e.substring(i+t.length,e.length-5)};return this.themeService.getThemes().then(function(n){var r=n.filter(function(e){return!!o(e.id)});return i.TPromise.join(r.map(function(i){var n=i.id;return t.themeService.setTheme(n,!1).then(function(i){if(i){var r=t.getTestNode(n),s=o(n);e.forEach(function(e){e.r[s]=t.getMatchedCSSRule(r,e.t)+" "+t.getStyle(r,e.t)})}})}))}).then(function(i){return t.themeService.setTheme(n,!1).then(function(t){return e})})},e.prototype.captureSyntaxTokens=function(e,t){var i=this;return this.modeService.getOrCreateModeByFilenameOrFirstLine(e).then(function(e){var n=[],s=new o.TextModelWithTokens([],r.TextModel.toRawText(t,r.TextModel.DEFAULT_CREATION_OPTIONS),e);return s.tokenIterator({lineNumber:1,column:1},function(e){for(;e.hasNext();){var t=e.next(),o=t.lineNumber,r=s.getValueInRange({startLineNumber:o,endLineNumber:o,startColumn:t.startColumn,endColumn:t.endColumn});n.push({c:r,t:i.normalizeType(t.token.type),r:{}})}}),i.appendThemeInformation(n)})},e=g([m(0,s.IModeService),m(1,l.IThemeService)],e)}();c.KeybindingsRegistry.registerCommandDesc({id:"_workbench.captureSyntaxTokens",weight:c.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t){var i=function(t){var i=t.fsPath,o=n.basename(i),r=e.get(u.IInstantiationService).createInstance(p);return a.readFile(i).then(function(e){return r.captureSyntaxTokens(o,e.toString())})};if(t)return i(t);var o=e.get(d.IWorkbenchEditorService),r=h.asFileEditorInput(o.getActiveEditorInput());r?i(r.getResource()).then(function(e){console.log(e)}):console.log("No file editor active")},when:void 0,primary:void 0})}),define(l[931],d([1,0]),function(e,t){"use strict";var i=function(){function e(e){this._proxies=Object.create(null),this._isMain=e,this._locals=Object.create(null),this._proxies=Object.create(null)}return e.prototype.handle=function(e,t,i){if(!this._locals[e])throw new Error("Unknown actor "+e);var n=this._locals[e],o=n[t];if("function"!=typeof o)throw new Error("Unknown method "+t+" on actor "+e);return o.apply(n,i)},e.prototype.get=function(e){return this._proxies[e.id]||(this._proxies[e.id]=this._createProxy(e.id,e.methodNames)),this._proxies[e.id]},e.prototype._createProxy=function(e,t){for(var i={},n=0;n<t.length;n++){var o=t[n];i[o]=this.createMethodProxy(e,o)}return i},e.prototype.createMethodProxy=function(e,t){var i=this;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o-0]=arguments[o];return i._callOnRemote(e,t,n)}},e.prototype.set=function(e,t){if(e.isMain!==this._isMain)throw new Error("Mismatch in object registration!");this._locals[e.id]=t},e}();t.AbstractThreadService=i}),define(l[79],d([1,0,6]),function(e,t,i){"use strict";function n(e,t){return new r((!0),"m"+e,t)}function o(e,t){return new r((!1),"e"+e,t)}t.IThreadService=i.createDecorator("threadService");var r=function(){function e(e,t,i){this.isMain=e,this.id=t,this.methodNames=[];for(var n in i.prototype)"function"==typeof i.prototype[n]&&this.methodNames.push(n)}return e}();t.ProxyIdentifier=r,t.createMainContextProxyIdentifier=n,t.createExtHostContextProxyIdentifier=o}),define(l[107],d([1,0,79]),function(e,t,i){"use strict";function n(){return new Error("Not implemented")}var o=function(){function e(){this._items=Object.create(null)}return e.prototype.define=function(e){var t=this;return new(function(){function i(){}return i.prototype.set=function(i){return t._set(e,i),i},i}())},e.prototype._set=function(e,t){this._items[e.id]=t},e.prototype.finish=function(e,i){var n=this,o=e?t.MainContext:t.ExtHostContext;Object.keys(o).forEach(function(e){var t=o[e],r=n._items[t.id];if(!r)throw new Error("Missing actor "+e+" (isMain: "+t.isMain+", id:  "+t.id+")");i.set(t,r)})},e}();t.InstanceCollection=o;var r=function(){function e(){}return e.prototype.$registerCommand=function(e){throw n()},e.prototype.$executeCommand=function(e,t){throw n()},e.prototype.$getCommands=function(){throw n()},e}();t.MainThreadCommandsShape=r;var s=function(){function e(){}return e}();t.MainThreadConfigurationShape=s;var a=function(){function e(){}return e.prototype.$changeMany=function(e,t){throw n()},e.prototype.$clear=function(e){throw n()},e}();t.MainThreadDiagnosticsShape=a;var c=function(){function e(){}return e.prototype._tryOpenDocument=function(e){throw n()},e.prototype.$registerTextContentProvider=function(e,t){throw n()},e.prototype.$onVirtualDocumentChange=function(e,t){throw n()},e.prototype.$unregisterTextContentProvider=function(e){throw n()},e.prototype._trySaveDocument=function(e){throw n()},e}();t.MainThreadDocumentsShape=c;var u=function(){function e(){}return e.prototype._tryShowTextDocument=function(e,t,i){throw n()},e.prototype._registerTextEditorDecorationType=function(e,t){throw n()},e.prototype._removeTextEditorDecorationType=function(e){throw n()},e.prototype._tryShowEditor=function(e,t){throw n()},e.prototype._tryHideEditor=function(e){throw n()},e.prototype._trySetOptions=function(e,t){throw n()},e.prototype._trySetDecorations=function(e,t,i){throw n()},e.prototype._tryRevealRange=function(e,t,i){throw n()},e.prototype._trySetSelections=function(e,t){throw n()},e.prototype._tryApplyEdits=function(e,t,i,o){throw n()},e}();t.MainThreadEditorsShape=u;var l=function(){function e(){}return e.prototype.onUnexpectedExtHostError=function(e){throw n()},e}();t.MainThreadErrorsShape=l;var d=function(){function e(){}return e.prototype.$unregister=function(e){throw n()},e.prototype.$registerOutlineSupport=function(e,t){throw n()},e.prototype.$registerCodeLensSupport=function(e,t){throw n()},e.prototype.$registerDeclaractionSupport=function(e,t){throw n()},e.prototype.$registerHoverProvider=function(e,t){throw n()},e.prototype.$registerDocumentHighlightProvider=function(e,t){throw n()},e.prototype.$registerReferenceSupport=function(e,t){throw n()},e.prototype.$registerQuickFixSupport=function(e,t){throw n()},e.prototype.$registerDocumentFormattingSupport=function(e,t){
throw n()},e.prototype.$registerRangeFormattingSupport=function(e,t){throw n()},e.prototype.$registerOnTypeFormattingSupport=function(e,t,i){throw n()},e.prototype.$registerNavigateTypeSupport=function(e){throw n()},e.prototype.$registerRenameSupport=function(e,t){throw n()},e.prototype.$registerSuggestSupport=function(e,t,i){throw n()},e.prototype.$registerSignatureHelpProvider=function(e,t,i){throw n()},e.prototype.$setLanguageConfiguration=function(e,t,i){throw n()},e}();t.MainThreadLanguageFeaturesShape=d;var h=function(){function e(){}return e.prototype._getLanguages=function(){throw n()},e}();t.MainThreadLanguagesShape=h;var p=function(){function e(){}return e.prototype.$showMessage=function(e,t,i){throw n()},e}();t.MainThreadMessageServiceShape=p;var f=function(){function e(){}return e.prototype.append=function(e,t,i){throw n()},e.prototype.clear=function(e,t){throw n()},e.prototype.reveal=function(e,t,i){throw n()},e.prototype.close=function(e){throw n()},e}();t.MainThreadOutputServiceShape=f;var g=function(){function e(){}return e.prototype.$show=function(e){throw n()},e.prototype.$setItems=function(e){throw n()},e.prototype.$setError=function(e){throw n()},e.prototype.$input=function(e,t){throw n()},e}();t.MainThreadQuickOpenShape=g;var m=function(){function e(){}return e.prototype.setEntry=function(e,t,i,o,r,s,a){throw n()},e.prototype.dispose=function(e){throw n()},e}();t.MainThreadStatusBarShape=m;var v=function(){function e(){}return e.prototype.getValue=function(e,t){throw n()},e.prototype.setValue=function(e,t,i){throw n()},e}();t.MainThreadStorageShape=v;var y=function(){function e(){}return e.prototype.$publicLog=function(e,t){throw n()},e.prototype.$getTelemetryInfo=function(){throw n()},e}();t.MainThreadTelemetryShape=y;var E=function(){function e(){}return e.prototype.$startSearch=function(e,t,i,o){throw n()},e.prototype.$cancelSearch=function(e){throw n()},e.prototype.$saveAll=function(e){throw n()},e.prototype.$applyWorkspaceEdit=function(e){throw n()},e}();t.MainThreadWorkspaceShape=E;var S=function(){function e(){}return e.prototype.$onExtensionHostReady=function(e,t){throw n()},e.prototype.$localShowMessage=function(e,t){throw n()},e.prototype.$onExtensionActivated=function(e){throw n()},e.prototype.$onExtensionActivationFailed=function(e){throw n()},e}();t.MainProcessExtensionServiceShape=S;var b=function(){function e(){}return e.prototype.$executeContributedCommand=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];throw n()},e.prototype.$getContributedCommandHandlerDescriptions=function(){throw n()},e}();t.ExtHostCommandsShape=b;var _=function(){function e(){}return e.prototype.$acceptConfigurationChanged=function(e){throw n()},e}();t.ExtHostConfigurationShape=_;var C=function(){function e(){}return e}();t.ExtHostDiagnosticsShape=C;var w=function(){function e(){}return e.prototype.$provideTextDocumentContent=function(e,t){throw n()},e.prototype._acceptModelAdd=function(e){throw n()},e.prototype._acceptModelModeChanged=function(e,t,i){throw n()},e.prototype._acceptModelSaved=function(e){throw n()},e.prototype._acceptModelDirty=function(e){throw n()},e.prototype._acceptModelReverted=function(e){throw n()},e.prototype._acceptModelRemoved=function(e){throw n()},e.prototype._acceptModelChanged=function(e,t){throw n()},e}();t.ExtHostDocumentsShape=w;var I=function(){function e(){}return e.prototype._acceptTextEditorAdd=function(e){throw n()},e.prototype._acceptOptionsChanged=function(e,t){throw n()},e.prototype._acceptSelectionsChanged=function(e,t){throw n()},e.prototype._acceptActiveEditorAndVisibleEditors=function(e,t){throw n()},e.prototype._acceptEditorPositionData=function(e){throw n()},e.prototype._acceptTextEditorRemove=function(e){throw n()},e}();t.ExtHostEditorsShape=I;var T=function(){function e(){}return e.prototype.$localShowMessage=function(e,t){throw n()},e.prototype.$activateExtension=function(e){throw n()},e}();t.ExtHostExtensionServiceShape=T;var A=function(){function e(){}return e.prototype._onFileEvent=function(e){throw n()},e}();t.ExtHostFileSystemEventServiceShape=A;var L=function(){function e(){}return e.prototype.$provideDocumentSymbols=function(e,t){throw n()},e.prototype.$provideCodeLenses=function(e,t){throw n()},e.prototype.$resolveCodeLens=function(e,t,i){throw n()},e.prototype.$provideDefinition=function(e,t,i){throw n()},e.prototype.$provideHover=function(e,t,i){throw n()},e.prototype.$provideDocumentHighlights=function(e,t,i){throw n()},e.prototype.$provideReferences=function(e,t,i,o){throw n()},e.prototype.$provideCodeActions=function(e,t,i){throw n()},e.prototype.$provideDocumentFormattingEdits=function(e,t,i){throw n()},e.prototype.$provideDocumentRangeFormattingEdits=function(e,t,i,o){throw n()},e.prototype.$provideOnTypeFormattingEdits=function(e,t,i,o,r){throw n()},e.prototype.$getNavigateToItems=function(e,t){throw n()},e.prototype.$provideRenameEdits=function(e,t,i,o){throw n()},e.prototype.$provideCompletionItems=function(e,t,i){throw n()},e.prototype.$resolveCompletionItem=function(e,t,i,o){throw n()},e.prototype.$provideSignatureHelp=function(e,t,i){throw n()},e}();t.ExtHostLanguageFeaturesShape=L;var D=function(){function e(){}return e.prototype.$onItemSelected=function(e){throw n()},e.prototype.$validateInput=function(e){throw n()},e}();t.ExtHostQuickOpenShape=D,t.MainContext={MainThreadCommands:i.createMainContextProxyIdentifier("MainThreadCommands",r),MainThreadConfiguration:i.createMainContextProxyIdentifier("MainThreadConfiguration",s),MainThreadDiagnostics:i.createMainContextProxyIdentifier("MainThreadDiagnostics",a),MainThreadDocuments:i.createMainContextProxyIdentifier("MainThreadDocuments",c),MainThreadEditors:i.createMainContextProxyIdentifier("MainThreadEditors",u),MainThreadErrors:i.createMainContextProxyIdentifier("MainThreadErrors",l),MainThreadLanguageFeatures:i.createMainContextProxyIdentifier("MainThreadLanguageFeatures",d),MainThreadLanguages:i.createMainContextProxyIdentifier("MainThreadLanguages",h),MainThreadMessageService:i.createMainContextProxyIdentifier("MainThreadMessageService",p),MainThreadOutputService:i.createMainContextProxyIdentifier("MainThreadOutputService",f),MainThreadQuickOpen:i.createMainContextProxyIdentifier("MainThreadQuickOpen",g),MainThreadStatusBar:i.createMainContextProxyIdentifier("MainThreadStatusBar",m),MainThreadStorage:i.createMainContextProxyIdentifier("MainThreadStorage",v),MainThreadTelemetry:i.createMainContextProxyIdentifier("MainThreadTelemetry",y),MainThreadWorkspace:i.createMainContextProxyIdentifier("MainThreadWorkspace",E),MainProcessExtensionService:i.createMainContextProxyIdentifier("MainProcessExtensionService",S)},t.ExtHostContext={ExtHostCommands:i.createExtHostContextProxyIdentifier("ExtHostCommands",b),ExtHostConfiguration:i.createExtHostContextProxyIdentifier("ExtHostConfiguration",_),ExtHostDiagnostics:i.createExtHostContextProxyIdentifier("ExtHostDiagnostics",C),ExtHostDocuments:i.createExtHostContextProxyIdentifier("ExtHostDocuments",w),ExtHostEditors:i.createExtHostContextProxyIdentifier("ExtHostEditors",I),ExtHostFileSystemEventService:i.createExtHostContextProxyIdentifier("ExtHostFileSystemEventService",A),ExtHostLanguageFeatures:i.createExtHostContextProxyIdentifier("ExtHostLanguageFeatures",L),ExtHostQuickOpen:i.createExtHostContextProxyIdentifier("ExtHostQuickOpen",D),ExtHostExtensionService:i.createExtHostContextProxyIdentifier("ExtHostExtensionService",T)}}),define(l[934],d([1,0,79,62,20,2,107]),function(e,t,i,n,o,r,s){"use strict";function a(e){if("string"==typeof e)return e;var t=[e.description];if(t.push("\n\n"),e.args)for(var i=0,n=e.args;i<n.length;i++){var o=n[i];t.push("* _"+o.name+"_ "+(o.description||"")+"\n")}return e.returns&&t.push("* _(returns)_ "+e.returns),t.push("\n\n"),t.join("")}var c=function(){function e(e,t){this._threadService=e,this._keybindingService=t,this._proxy=this._threadService.get(s.ExtHostContext.ExtHostCommands)}return e.prototype.$registerCommand=function(e){var t=this;n.KeybindingsRegistry.registerCommandDesc({id:e,handler:function(i){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return(r=t._proxy).$executeContributedCommand.apply(r,[e].concat(n));var r},weight:void 0,when:void 0,win:void 0,mac:void 0,linux:void 0,primary:void 0,secondary:void 0})},e.prototype.$executeCommand=function(e,t){return(i=this._keybindingService).executeCommand.apply(i,[e].concat(t));var i},e.prototype.$getCommands=function(){return r.TPromise.as(Object.keys(n.KeybindingsRegistry.getCommands()))},e=g([m(0,i.IThreadService),m(1,o.IKeybindingService)],e)}();t.MainThreadCommands=c,n.KeybindingsRegistry.registerCommandDesc({id:"_generateCommandsDocumentation",handler:function(e){return e.get(i.IThreadService).get(s.ExtHostContext.ExtHostCommands).$getContributedCommandHandlerDescriptions().then(function(e){var t=n.KeybindingsRegistry.getCommands();for(var i in t){var o=t[i].description;o&&(e[i]=o)}var r=[];for(var i in e)r.push("`"+i+"` - "+a(e[i]));console.log(r.join("\n"))})},when:void 0,weight:n.KeybindingsRegistry.WEIGHT.builtinExtension(0),primary:void 0})}),define(l[935],d([1,0,5,79,23,107]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t){var i=this;this._configurationService=e,this._proxy=t.get(r.ExtHostContext.ExtHostConfiguration),this._toDispose=this._configurationService.onDidUpdateConfiguration(function(e){return i._proxy.$acceptConfigurationChanged(e.config)}),this._proxy.$acceptConfigurationChanged(this._configurationService.getConfiguration())}return e.prototype.dispose=function(){this._toDispose=i.dispose(this._toDispose)},e=g([m(0,o.IConfigurationService),m(1,n.IThreadService)],e)}();t.MainThreadConfiguration=s}),define(l[936],d([1,0,5,2,79,11,109,22,44,38,756,21,28,41,29,107]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v){"use strict";var y=function(){function e(e,t,i,n,o,r,s){var a=this;this._proxy=e.get(v.ExtHostContext.ExtHostEditors),this._workbenchEditorService=t,this._telemetryService=n,this._toDispose=[],this._textEditorsListenersMap=Object.create(null),this._textEditorsMap=Object.create(null),this._activeTextEditor=null,this._visibleEditors=[],this._editorPositionData=null,this._editorTracker=new l.MainThreadEditorsTracker(o,s),this._toDispose.push(this._editorTracker),this._toDispose.push(this._editorTracker.onTextEditorAdd(function(e){return a._onTextEditorAdd(e)})),this._toDispose.push(this._editorTracker.onTextEditorRemove(function(e){return a._onTextEditorRemove(e)})),this._toDispose.push(this._editorTracker.onDidUpdateTextEditors(function(){return a._updateActiveAndVisibleTextEditors()})),this._toDispose.push(this._editorTracker.onChangedFocusedTextEditor(function(e){return a._updateActiveAndVisibleTextEditors()})),this._toDispose.push(i.onEditorsChanged(function(){return a._updateActiveAndVisibleTextEditors()})),this._toDispose.push(i.onEditorsMoved(function(){return a._updateActiveAndVisibleTextEditors()}))}return e.prototype.dispose=function(){var e=this;Object.keys(this._textEditorsListenersMap).forEach(function(t){i.dispose(e._textEditorsListenersMap[t])}),this._textEditorsListenersMap=Object.create(null),this._toDispose=i.dispose(this._toDispose)},e.prototype._onTextEditorAdd=function(e){var t=this,i=e.getId(),n=[];n.push(e.onConfigurationChanged(function(e){t._proxy._acceptOptionsChanged(i,e)})),n.push(e.onSelectionChanged(function(e){t._proxy._acceptSelectionsChanged(i,e)})),this._proxy._acceptTextEditorAdd({id:i,document:e.getModel().uri,options:e.getConfiguration(),selections:e.getSelections(),editorPosition:this._findEditorPosition(e)}),this._textEditorsListenersMap[i]=n,this._textEditorsMap[i]=e},e.prototype._onTextEditorRemove=function(e){var t=e.getId();i.dispose(this._textEditorsListenersMap[t]),delete this._textEditorsListenersMap[t],delete this._textEditorsMap[t],this._proxy._acceptTextEditorRemove(t)},e.prototype._updateActiveAndVisibleTextEditors=function(){var e=this._editorTracker.getVisibleTextEditorIds(),t=this._findActiveTextEditorId();t===this._activeTextEditor&&p.equals(this._visibleEditors,e,function(e,t){return e===t})||(this._activeTextEditor=t,this._visibleEditors=e,this._proxy._acceptActiveEditorAndVisibleEditors(this._activeTextEditor,this._visibleEditors));var i=this._getTextEditorPositionData();f.equals(this._editorPositionData,i)||(this._editorPositionData=i,this._proxy._acceptEditorPositionData(this._editorPositionData))},e.prototype._findActiveTextEditorId=function(){var e=this._editorTracker.getFocusedTextEditorId();if(e)return e;var t=this._workbenchEditorService.getActiveEditor();if(!t)return null;var i=t.getControl();return i&&"function"==typeof i.getEditorType?i.getEditorType()===r.EditorType.ICodeEditor?this._editorTracker.findTextEditorIdFor(i):this._editorTracker.findTextEditorIdFor(i.getModifiedEditor()):null},e.prototype._findEditorPosition=function(e){for(var t=0,i=this._workbenchEditorService.getVisibleEditors();t<i.length;t++){var n=i[t];if(e.matches(n))return n.position}},e.prototype._getTextEditorPositionData=function(){for(var e=Object.create(null),t=0,i=this._workbenchEditorService.getVisibleEditors();t<i.length;t++){var n=i[t],o=n.getControl();if(o&&"function"==typeof o.getEditorType&&o.getEditorType()===r.EditorType.ICodeEditor){var s=this._editorTracker.findTextEditorIdFor(o);s&&(e[s]=n.position)}}return e},e.prototype._tryShowTextDocument=function(e,t,i){var o=this,r={resource:e,options:{preserveFocus:i}};return this._workbenchEditorService.openEditor(r,t).then(function(e){if(e)return new n.TPromise(function(e){function t(){i.dispose(),clearTimeout(n),e(void 0)}var i,n;i=o._editorTracker.onDidUpdateTextEditors(function(){t()}),n=setTimeout(function(){t()},1e3)}).then(function(){for(var t in o._textEditorsMap)if(o._textEditorsMap[t].matches(e))return t})})},e.prototype._tryShowEditor=function(e,t){this._telemetryService.publicLog("api.deprecated",{"function":"TextEditor.show"});var i=this._textEditorsMap[e];if(i){var n=i.getModel();return this._workbenchEditorService.openEditor({resource:n.uri,options:{preserveFocus:!1}},t).then(function(){})}},e.prototype._tryHideEditor=function(e){this._telemetryService.publicLog("api.deprecated",{"function":"TextEditor.hide"});var t=this._textEditorsMap[e];if(t)for(var i=this._workbenchEditorService.getVisibleEditors(),n=0,o=i;n<o.length;n++){var r=o[n];if(t.matches(r))return this._workbenchEditorService.closeEditor(r.position,r.input).then(function(){})}},e.prototype._trySetSelections=function(e,t){return this._textEditorsMap[e]?(this._textEditorsMap[e].setSelections(t),n.TPromise.as(null)):n.TPromise.wrapError("TextEditor disposed")},e.prototype._trySetDecorations=function(e,t,i){return this._textEditorsMap[e]?(this._textEditorsMap[e].setDecorations(t,i),n.TPromise.as(null)):n.TPromise.wrapError("TextEditor disposed")},e.prototype._tryRevealRange=function(e,t,i){return this._textEditorsMap[e]?void this._textEditorsMap[e].revealRange(t,i):n.TPromise.wrapError("TextEditor disposed")},e.prototype._trySetOptions=function(e,t){return this._textEditorsMap[e]?(this._textEditorsMap[e].setConfiguration(t),n.TPromise.as(null)):n.TPromise.wrapError("TextEditor disposed")},e.prototype._tryApplyEdits=function(e,t,i,o){return this._textEditorsMap[e]?n.TPromise.as(this._textEditorsMap[e].applyEdits(t,i,o)):n.TPromise.wrapError("TextEditor disposed")},e.prototype._registerTextEditorDecorationType=function(e,t){this._editorTracker.registerTextEditorDecorationType(e,t)},e.prototype._removeTextEditorDecorationType=function(e){this._editorTracker.removeTextEditorDecorationType(e)},e=g([m(0,o.IThreadService),m(1,a.IWorkbenchEditorService),m(2,c.IEditorGroupService),m(3,d.ITelemetryService),m(4,s.ICodeEditorService),m(5,h.IEventService),m(6,u.IModelService)],e)}();t.MainThreadEditors=y}),define(l[240],d([1,0,33,672,95,18,79,32,107]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e){return(e.source?"["+e.source+"]: ":"")+e.message}var l=function(e){function t(){e.call(this,!0)}return h(t,e),t}(n.ActivatedExtension),d=function(e){function t(){e.call(this,!1)}return h(t,e),t}(n.ActivatedExtension),p=function(e){function t(t,i,n){var r=this;e.call(this,!1);var s=t.getConfiguration();this._isDev=!s.env.isBuilt||!!s.env.extensionDevelopmentPath,this._messageService=n,this._threadService=i,this._proxy=this._threadService.get(c.ExtHostContext.ExtHostExtensionService),this._extensionsStatus={},o.ExtensionsRegistry.handleExtensionPoints(function(e){return r._handleMessage(e)})}return h(t,e),t.prototype._handleMessage=function(e){this._showMessage(e.type,u(e)),this._extensionsStatus[e.source]||(this._extensionsStatus[e.source]={messages:[]}),this._extensionsStatus[e.source].messages.push(e)},t.prototype.$localShowMessage=function(e,t){var n=!1;if(e!==i["default"].Error&&e!==i["default"].Warning||this._isDev&&(this._messageService.show(e,t),n=!0),!n)switch(e){case i["default"].Error:console.error(t);break;case i["default"].Warning:console.warn(t);break;default:console.log(t)}},t.prototype.getExtensionsStatus=function(){return this._extensionsStatus},t.prototype._showMessage=function(e,t){this._proxy.$localShowMessage(e,t),this.$localShowMessage(e,t)},t.prototype._createFailedExtension=function(){return new l},t.prototype._actualActivateExtension=function(e){var t=this;return this._proxy.$activateExtension(e).then(function(i){return t._activatedExtensions[e.id]})},t.prototype.$onExtensionHostReady=function(e,t){var i=this;o.ExtensionsRegistry.registerExtensions(e),t.forEach(function(e){return i._handleMessage(e)}),this._triggerOnReady()},t.prototype.$onExtensionActivated=function(e){this._activatedExtensions[e]=new d},t.prototype.$onExtensionActivationFailed=function(e){this._activatedExtensions[e]=new l},t=g([m(0,a.IWorkspaceContextService),m(1,s.IThreadService),m(2,r.IMessageService)],t)}(n.AbstractExtensionService);t.MainProcessExtensionService=p}),define(l[938],d([1,0,34,79,28,16,107]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(e,t){var n=t.get(s.ExtHostContext.ExtHostFileSystemEventService),o={created:[],changed:[],deleted:[]},a=new r.RunOnceScheduler(function(){n._onFileEvent(o),o.created.length=0,o.changed.length=0,o.deleted.length=0},100);e.addListener2("files:fileChanges",function(e){for(var t=0,n=e.changes;t<n.length;t++){var r=n[t];switch(r.type){case i.FileChangeType.ADDED:o.created.push(r.resource);break;case i.FileChangeType.UPDATED:o.changed.push(r.resource);break;case i.FileChangeType.DELETED:o.deleted.push(r.resource)}}a.schedule()})}return e=g([m(0,o.IEventService),m(1,n.IThreadService)],e)}();t.MainThreadFileSystemEventService=a}),define(l[939],d([1,0,79,37,847,16,107,80]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(){function e(e){this._registrations=Object.create(null),this._proxy=e.get(s.ExtHostContext.ExtHostLanguageFeatures)}return e.prototype.$unregister=function(e){var t=this._registrations[e];t&&(t.dispose(),delete this._registrations[e])},e.prototype.$registerOutlineSupport=function(e,t){var i=this;this._registrations[e]=n.DocumentSymbolProviderRegistry.register(t,{provideDocumentSymbols:function(t,n){return r.wireCancellationToken(n,i._proxy.$provideDocumentSymbols(e,t.uri))}})},e.prototype.$registerCodeLensSupport=function(e,t){var i=this;this._registrations[e]=n.CodeLensProviderRegistry.register(t,{provideCodeLenses:function(t,n){return r.wireCancellationToken(n,i._proxy.$provideCodeLenses(e,t.uri))},resolveCodeLens:function(t,n,o){return r.wireCancellationToken(o,i._proxy.$resolveCodeLens(e,t.uri,n))}})},e.prototype.$registerDeclaractionSupport=function(e,t){var i=this;this._registrations[e]=n.DefinitionProviderRegistry.register(t,{provideDefinition:function(t,n,o){return r.wireCancellationToken(o,i._proxy.$provideDefinition(e,t.uri,n))}})},e.prototype.$registerHoverProvider=function(e,t){var i=this;this._registrations[e]=n.HoverProviderRegistry.register(t,{provideHover:function(t,n,o){return r.wireCancellationToken(o,i._proxy.$provideHover(e,t.uri,n))}})},e.prototype.$registerDocumentHighlightProvider=function(e,t){var i=this;this._registrations[e]=n.DocumentHighlightProviderRegistry.register(t,{provideDocumentHighlights:function(t,n,o){return r.wireCancellationToken(o,i._proxy.$provideDocumentHighlights(e,t.uri,n))}})},e.prototype.$registerReferenceSupport=function(e,t){var i=this;this._registrations[e]=n.ReferenceProviderRegistry.register(t,{provideReferences:function(t,n,o,s){return r.wireCancellationToken(s,i._proxy.$provideReferences(e,t.uri,n,o))}})},e.prototype.$registerQuickFixSupport=function(e,t){var i=this;this._registrations[e]=n.CodeActionProviderRegistry.register(t,{provideCodeActions:function(t,n,o){return r.wireCancellationToken(o,i._proxy.$provideCodeActions(e,t.uri,n))}})},e.prototype.$registerDocumentFormattingSupport=function(e,t){var i=this;this._registrations[e]=n.DocumentFormattingEditProviderRegistry.register(t,{provideDocumentFormattingEdits:function(t,n,o){return r.wireCancellationToken(o,i._proxy.$provideDocumentFormattingEdits(e,t.uri,n))}})},e.prototype.$registerRangeFormattingSupport=function(e,t){var i=this;this._registrations[e]=n.DocumentRangeFormattingEditProviderRegistry.register(t,{provideDocumentRangeFormattingEdits:function(t,n,o,s){return r.wireCancellationToken(s,i._proxy.$provideDocumentRangeFormattingEdits(e,t.uri,n,o))}})},e.prototype.$registerOnTypeFormattingSupport=function(e,t,i){var o=this;this._registrations[e]=n.OnTypeFormattingEditProviderRegistry.register(t,{autoFormatTriggerCharacters:i,provideOnTypeFormattingEdits:function(t,i,n,s,a){return r.wireCancellationToken(a,o._proxy.$provideOnTypeFormattingEdits(e,t.uri,i,n,s))}})},e.prototype.$registerNavigateTypeSupport=function(e){var t=this;this._registrations[e]=o.NavigateTypesSupportRegistry.register({getNavigateToItems:function(i){return t._proxy.$getNavigateToItems(e,i)}})},e.prototype.$registerRenameSupport=function(e,t){var i=this;this._registrations[e]=n.RenameProviderRegistry.register(t,{provideRenameEdits:function(t,n,o,s){return r.wireCancellationToken(s,i._proxy.$provideRenameEdits(e,t.uri,n,o))}})},e.prototype.$registerSuggestSupport=function(e,t,i){var o=this;this._registrations[e]=n.SuggestRegistry.register(t,{triggerCharacters:i,shouldAutotriggerSuggest:!0,provideCompletionItems:function(t,i,n){return r.wireCancellationToken(n,o._proxy.$provideCompletionItems(e,t.uri,i))},resolveCompletionItem:function(t,i,n,s){return r.wireCancellationToken(s,o._proxy.$resolveCompletionItem(e,t.uri,i,n))}})},e.prototype.$registerSignatureHelpProvider=function(e,t,i){var o=this;this._registrations[e]=n.SignatureHelpProviderRegistry.register(t,{signatureHelpTriggerCharacters:i,provideSignatureHelp:function(t,i,n){return r.wireCancellationToken(n,o._proxy.$provideSignatureHelp(e,t.uri,i))}})},e.prototype.$setLanguageConfiguration=function(e,t,i){i.__characterPairSupport&&(i.autoClosingPairs=i.__characterPairSupport.autoClosingPairs),this._registrations[e]=a.LanguageConfigurationRegistry.register(t,i)},e=g([m(0,i.IThreadService)],e)}();t.MainThreadLanguageFeatures=c}),define(l[940],d([1,0,2,79,50,107]),function(e,t,i,n,o,r){"use strict";var s=function(){function e(e,t){this._token=0,this._proxy=e.get(r.ExtHostContext.ExtHostQuickOpen),this._quickOpenService=t}return e.prototype.$show=function(e){var t=this,n=++this._token;return this._contents=new i.TPromise(function(e,i){t._doSetItems=function(i){n===t._token&&e(i)},t._doSetError=function(e){n===t._token&&i(e)}}),this._quickOpenService.pick(this._contents,e).then(function(e){if(e)return e.handle},void 0,function(e){e&&t._proxy.$onItemSelected(e.handle)})},e.prototype.$setItems=function(e){if(this._doSetItems)return void this._doSetItems(e)},e.prototype.$setError=function(e){if(this._doSetError)return void this._doSetError(e)},e.prototype.$input=function(e,t){var i=this,n=Object.create(null);return e&&(n.password=e.password,n.placeHolder=e.placeHolder,n.prompt=e.prompt,n.value=e.value),t&&(n.validateInput=function(e){return i._proxy.$validateInput(e)}),this._quickOpenService.input(n)},e=g([m(0,n.IThreadService),m(1,o.IQuickOpenService)],e)}();t.MainThreadQuickOpen=s}),define(l[87],d([1,0,19,6,66,41,144]),function(e,t,i,n,o,r,s){"use strict";t.IUntitledEditorService=n.createDecorator("untitledEditorService");var a=function(){function e(e){this.instantiationService=e,this.serviceId=t.IUntitledEditorService}return e.prototype.get=function(t){return e.CACHE[t.toString()]},e.prototype.getAll=function(t){var i=this;return t?r.coalesce(t.map(function(e){return i.get(e)})):Object.keys(e.CACHE).map(function(t){return e.CACHE[t]})},e.prototype.revertAll=function(e,t){var i=[],n=this.getAll(e);return n.forEach(function(e){e&&(e.revert(),e.dispose(),i.push(e.getResource()))}),i},e.prototype.isDirty=function(e){var t=this.get(e);return t&&t.isDirty()},e.prototype.getDirty=function(){return Object.keys(e.CACHE).map(function(t){return e.CACHE[t]}).filter(function(e){return e.isDirty()}).map(function(e){return e.getResource()})},e.prototype.createOrGet=function(t,i){var n=!1;return t&&(n="file"===t.scheme,t=this.resourceToUntitled(t),n&&(e.KNOWN_ASSOCIATED_FILE_PATHS[t.toString()]=!0)),t&&e.CACHE[t.toString()]?e.CACHE[t.toString()]:this.doCreate(t,n,i)},e.prototype.doCreate=function(t,n,r){if(!t){var a=Object.keys(e.CACHE).length+1;do t=i["default"].from({scheme:s.UntitledEditorInput.SCHEMA,path:"Untitled-"+a}),a++;while(Object.keys(e.CACHE).indexOf(t.toString())>=0)}var c=this.instantiationService.createInstance(s.UntitledEditorInput,t,n,r);return c.addOneTimeDisposableListener(o.EventType.DISPOSE,function(){delete e.CACHE[c.getResource().toString()],delete e.KNOWN_ASSOCIATED_FILE_PATHS[c.getResource().toString()]}),e.CACHE[t.toString()]=c,c},e.prototype.resourceToUntitled=function(e){return e.scheme===s.UntitledEditorInput.SCHEMA?e:i["default"].from({scheme:s.UntitledEditorInput.SCHEMA,path:e.fsPath})},e.prototype.hasAssociatedFilePath=function(t){return!!e.KNOWN_ASSOCIATED_FILE_PATHS[t.toString()]},e.CACHE=Object.create(null),e.KNOWN_ASSOCIATED_FILE_PATHS=Object.create(null),e=g([m(0,n.IInstantiationService)],e)}();t.UntitledEditorService=a}),define(l[942],d([1,0,7,38,11,79,19,5,28,22,47,2,34,45,87,130,107]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y){"use strict";var E=function(){function e(e,t,i,n,o,r,s,a){var c=this;this._modelService=t,this._modeService=i,this._textFileService=o,this._editorService=r,this._fileService=s,this._untitledEditorService=a,this._proxy=e.get(y.ExtHostContext.ExtHostDocuments),this._modelIsSynced={},this._toDispose=[],t.onModelAdded(this._onModelAdded,this,this._toDispose),t.onModelRemoved(this._onModelRemoved,this,this._toDispose),t.onModelModeChanged(this._onModelModeChanged,this,this._toDispose),this._toDispose.push(n.addListener2(l.EventType.FILE_SAVED,function(e){c._shouldHandleFileEvent(e)&&c._proxy._acceptModelSaved(e.resource.toString())})),this._toDispose.push(n.addListener2(l.EventType.FILE_REVERTED,function(e){c._shouldHandleFileEvent(e)&&c._proxy._acceptModelReverted(e.resource.toString())})),this._toDispose.push(n.addListener2(l.EventType.FILE_DIRTY,function(e){c._shouldHandleFileEvent(e)&&c._proxy._acceptModelDirty(e.resource.toString())}));var u=setInterval(function(){return c._runDocumentCleanup()},18e4);this._toDispose.push({dispose:function(){clearInterval(u)}}),this._modelToDisposeMap=Object.create(null),this._resourceContentProvider=Object.create(null),this._virtualDocumentSet=Object.create(null)}return e.prototype.dispose=function(){var e=this;Object.keys(this._modelToDisposeMap).forEach(function(t){e._modelToDisposeMap[t].dispose()}),this._modelToDisposeMap=Object.create(null),this._toDispose=a.dispose(this._toDispose)},e.prototype._shouldHandleFileEvent=function(e){var t=this._modelService.getModel(e.resource);return t&&!t.isTooLargeForHavingARichMode()},e.prototype._onModelAdded=function(e){var t=this;if(e.isTooLargeForHavingARichMode())return null;var i=e.uri;this._modelIsSynced[i.toString()]=!0,this._modelToDisposeMap[i.toString()]=e.addBulkListener(function(e){return t._onModelEvents(i,e)}),this._proxy._acceptModelAdd({url:e.uri,versionId:e.getVersionId(),value:e.toRawText(),modeId:e.getMode().getId(),isDirty:this._textFileService.isDirty(i)})},e.prototype._onModelModeChanged=function(e){var t=e.model,i=e.oldModeId,n=t.uri;this._modelIsSynced[n.toString()]&&this._proxy._acceptModelModeChanged(t.uri.toString(),i,t.getMode().getId())},e.prototype._onModelRemoved=function(e){var t=e.uri;this._modelIsSynced[t.toString()]&&(delete this._modelIsSynced[t.toString()],this._modelToDisposeMap[t.toString()].dispose(),delete this._modelToDisposeMap[t.toString()],this._proxy._acceptModelRemoved(t.toString()))},e.prototype._onModelEvents=function(e,t){for(var i=[],n=0,r=t.length;n<r;n++){var s=t[n];switch(s.getType()){case o.EventType.ModelContentChanged2:i.push(s.getData())}}i.length>0&&this._proxy._acceptModelChanged(e.toString(),i)},e.prototype._trySaveDocument=function(e){return this._textFileService.save(e)},e.prototype._tryOpenDocument=function(e){if(!e.scheme||!e.fsPath&&!e.authority)return d.TPromise.wrapError("Invalid uri. Scheme and authority or path must be set.");var t;switch(e.scheme){case"untitled":t=this._handleUnititledScheme(e);break;case"file":default:t=this._handleAsResourceInput(e)}return t.then(function(t){if(!t)return d.TPromise.wrapError("cannot open "+e.toString())},function(t){return d.TPromise.wrapError("cannot open "+e.toString()+". Detail: "+i.toErrorMessage(t))})},e.prototype._handleAsResourceInput=function(e){return this._editorService.resolveEditorModel({resource:e}).then(function(e){return!!e})},e.prototype._handleUnititledScheme=function(e){var t=this,i=s["default"].file(e.fsPath);return this._fileService.resolveFile(i).then(function(e){return d.TPromise.wrapError("file already exists on disk")},function(n){var o=t._untitledEditorService.createOrGet(i);return o.resolve(!0).then(function(i){if(o.getResource().toString()!==e.toString())throw new Error("expected URI "+e.toString()+" BUT GOT "+o.getResource().toString());if(!t._modelIsSynced[e.toString()])throw new Error("expected URI "+e.toString()+" to have come to LIFE");return t._proxy._acceptModelDirty(e.toString())}).then(function(){return!0})})},e.prototype.$registerTextContentProvider=function(e,t){var i=this;this._resourceContentProvider[e]=v.ResourceEditorInput.registerResourceContentProvider(t,{provideTextContent:function(t){return i._proxy.$provideTextDocumentContent(e,t).then(function(e){if("string"==typeof e){i._virtualDocumentSet[t.toString()]=!0;var n=e.substr(0,1+e.search(/\r?\n/)),o=i._modeService.getOrCreateModeByFilenameOrFirstLine(t.fsPath,n);return i._modelService.createModel(e,o,t)}})}})},e.prototype.$unregisterTextContentProvider=function(e){var t=this._resourceContentProvider[e];t&&(t.dispose(),delete this._resourceContentProvider[e])},e.prototype.$onVirtualDocumentChange=function(e,t){var i=this._modelService.getModel(e);i&&i.setValue(t)},e.prototype._runDocumentCleanup=function(){var e=this,t=[];d.TPromise.join(Object.keys(this._virtualDocumentSet).map(function(i){var n=s["default"].parse(i);return e._editorService.createInput({resource:n}).then(function(i){e._editorService.isVisible(i,!0)||t.push(n)})})).then(function(){for(var i=0,n=t;i<n.length;i++){var o=n[i];e._modelService.destroyModel(o),delete e._virtualDocumentSet[o.toString()]}},i.onUnexpectedError)},e=g([m(0,r.IThreadService),m(1,n.IModelService),m(2,p.IModeService),m(3,c.IEventService),m(4,l.ITextFileService),m(5,u.IWorkbenchEditorService),m(6,h.IFileService),m(7,f.IUntitledEditorService)],e)}();t.MainThreadDocuments=E}),define(l[215],d([1,0,2,19,98,58,15,25,17,11,65,30,130,144,88,87,22,6]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S){"use strict";var b=function(){function e(e,t,i){this.untitledEditorService=t,this.instantiationService=i,this.serviceId=E.IWorkbenchEditorService,this.editorPart=e,this.fileInputDescriptor=s.Registry.as(l.Extensions.Editors).getDefaultFileInput()}return e.prototype.getActiveEditor=function(){
return this.editorPart.getActiveEditor()},e.prototype.getActiveEditorInput=function(){return this.editorPart.getActiveEditorInput()},e.prototype.getVisibleEditors=function(){return this.editorPart.getVisibleEditors()},e.prototype.isVisible=function(e,t){return!!e&&this.getVisibleEditors().some(function(i){if(!i.input)return!1;if(e.matches(i.input))return!0;if(t&&i.input instanceof v.DiffEditorInput){var n=i.input;return e.matches(n.modifiedInput)||e.matches(n.originalInput)}return!1})},e.prototype.openEditor=function(e,t,r){var s=this;if(!e)return i.TPromise.as(null);if(e instanceof d.EditorInput)return this.doOpenEditor(e,t,r);var a=e;if(a.resource instanceof n["default"]){var c=a.resource.scheme;if(c===o.Schemas.http||c===o.Schemas.https)return window.open(a.resource.toString(!0)),i.TPromise.as(null)}var u=e;return this.createInput(u).then(function(e){return e?s.doOpenEditor(e,d.TextEditorOptions.from(u),t):i.TPromise.as(null)})},e.prototype.doOpenEditor=function(e,t,i){return this.editorPart.openEditor(e,t,i)},e.prototype.openEditors=function(e){var t=this;return i.TPromise.join(e.map(function(e){return t.createInput(e.input)})).then(function(i){var n=i.map(function(t,i){return{input:t,options:e[i].input instanceof d.EditorInput?e[i].options:d.TextEditorOptions.from(e[i].input),position:e[i].position}});return t.editorPart.openEditors(n)})},e.prototype.replaceEditors=function(e){var t=this;return i.TPromise.join(e.map(function(e){return t.createInput(e.toReplace)})).then(function(n){return i.TPromise.join(e.map(function(e){return t.createInput(e.replaceWith)})).then(function(i){var o=e.map(function(e,t){return{toReplace:n[t],replaceWith:i[t],options:e.toReplace instanceof d.EditorInput?e.options:d.TextEditorOptions.from(e.replaceWith)}});return t.editorPart.replaceEditors(o)})})},e.prototype.closeEditor=function(e,t){return this.editorPart.closeEditor(e,t)},e.prototype.closeEditors=function(e,t,i){return this.editorPart.closeEditors(e,t,i)},e.prototype.closeAllEditors=function(e){return this.editorPart.closeAllEditors(e)},e.prototype.resolveEditorModel=function(e,t){return this.createInput(e).then(function(e){return e&&e instanceof d.EditorInput?e.resolve(!!t):i.TPromise.as(null)})},e.prototype.createInput=function(e){if(e instanceof d.EditorInput)return i.TPromise.as(e);var t=e;if(t.resource instanceof n["default"]&&t.resource.scheme===o.Schemas.inMemory){var r=this.getActiveEditor();if(r){var s=r.getControl();if(c.isFunction(s.getEditorType))if(s.getEditorType()===u.EditorType.ICodeEditor){var l=s,h=this.findModel(l,e);if(h)return i.TPromise.as(r.input)}else if(s.getEditorType()===u.EditorType.IDiffEditor){var g=r.input,m=s,v=this.findModel(m.getOriginalEditor(),e);if(v)return i.TPromise.as(g.originalInput);var y=this.findModel(m.getModifiedEditor(),e);if(y)return i.TPromise.as(g.modifiedInput)}}}else{if(t.resource instanceof n["default"]&&t.resource.scheme===f.UntitledEditorInput.SCHEMA)return i.TPromise.as(this.untitledEditorService.createOrGet(t.resource));if(this.fileInputDescriptor&&t.resource instanceof n["default"]&&t.resource.scheme===o.Schemas.file)return this.createFileInput(t.resource,t.mime,t.encoding);if(t.resource instanceof n["default"])return i.TPromise.as(this.instantiationService.createInstance(p.ResourceEditorInput,a.basename(t.resource.fsPath),a.dirname(t.resource.fsPath),t.resource))}return i.TPromise.as(null)},e.prototype.createFileInput=function(e,t,i){return this.instantiationService.createInstance(this.fileInputDescriptor).then(function(n){return n.setResource(e),n.setMime(t||r.guessMimeTypes(e.fsPath).join(", ")),n.setPreferredEncoding(i),n})},e.prototype.findModel=function(e,t){var i=e.getModel();return i&&i.uri.toString()===t.resource.toString()?i:null},e=g([m(1,y.IUntitledEditorService),m(2,S.IInstantiationService)],e)}();t.WorkbenchEditorService=b;var _=function(e){function t(t,i,n,o){e.call(this,o,i,n),this.handler=t}return h(t,e),t.prototype.doOpenEditor=function(t,n,o){var r=this;return this.handler(t,n,o).then(function(s){return s?i.TPromise.as(s):e.prototype.doOpenEditor.call(r,t,n,o)})},t=g([m(1,y.IUntitledEditorService),m(2,S.IInstantiationService),m(3,E.IWorkbenchEditorService)],t)}(b);t.DelegatingWorkbenchEditorService=_}),define(l[944],d([1,0,2,19,124,29,225,9,115,180,198,87,38,32,23,924]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v){"use strict";var y=function(){function e(e,t,i,n){this.modelService=e,this.untitledEditorService=t,this.contextService=i,this.configurationService=n,this.serviceId=l.ISearchService;var o=i.getConfiguration();this.diskSearch=new E(!o.env.isBuilt||o.env.verboseLogging)}return e.prototype.search=function(e){var t=this,n=this.configurationService.getConfiguration();if(!e.fileEncoding){var o=n&&n.files&&n.files.encoding;e.fileEncoding=o}var s=n&&n.files&&n.files.exclude;s&&(e.excludePattern?r.mixin(e.excludePattern,s,!1):e.excludePattern=s);var a;return new i.PPromise(function(i,n,o){var r=!1,s=t.getLocalResults(e),c=function(){r||(r=!0,Object.keys(s).map(function(e){return s[e]}).filter(function(e){return!!e}).forEach(o))};a=t.diskSearch.search(e).then(function(e){c(),i({results:e.results.filter(function(e){return"undefined"==typeof s[e.resource.toString()]}),limitHit:e.limitHit})},function(e){c(),n(e)},function(e){c(),e.resource?"undefined"==typeof s[e.resource.toString()]&&o(e):o(e)})},function(){return a&&a.cancel()})},e.prototype.getLocalResults=function(e){var t=this,i=Object.create(null);if(e.type===l.QueryType.Text){var n=this.modelService.getModels();n.forEach(function(n){var o=n.uri;if(o){if("untitled"===o.scheme){if(!t.untitledEditorService.get(o))return}else if("file"!==o.scheme)return;if(t.matches(o,e.filePattern,e.includePattern,e.excludePattern)){var r=n.findMatches(e.contentPattern.pattern,!1,e.contentPattern.isRegExp,e.contentPattern.isCaseSensitive,e.contentPattern.isWordMatch);if(r.length){var s=new l.FileMatch(o);i[o.toString()]=s,r.forEach(function(e){s.lineMatches.push(new l.LineMatch(n.getLineContent(e.startLineNumber),e.startLineNumber-1,[[e.startColumn-1,e.endColumn-e.startColumn]]))})}else i[o.toString()]=!1}}})}return i},e.prototype.matches=function(e,t,i,n){var r=this.contextService.toWorkspaceRelativePath(e);if(t){if("file"!==e.scheme)return!1;if(!s.matches(e.fsPath,a.stripWildcards(t).toLowerCase()))return!1}if(i){if("file"!==e.scheme)return!1;if(!o.match(i,r||e.fsPath))return!1}if(n){if("file"!==e.scheme)return!0;if(o.match(n,r||e.fsPath))return!1}return!0},e=g([m(0,h.IModelService),m(1,d.IUntitledEditorService),m(2,p.IWorkspaceContextService),m(3,f.IConfigurationService)],e)}();t.SearchService=y;var E=function(){function t(t){var i=new u.Client(n["default"].parse(e.toUrl("bootstrap")).fsPath,{serverName:"Search",timeout:6e4,args:["--type=searchService"],env:{AMD_ENTRYPOINT:"vs/workbench/services/search/node/searchApp",PIPE_LOGGING:"true",VERBOSE_LOGGING:t}}),o=c.getNextTickChannel(i.getChannel("search"));this.raw=new v.SearchChannelClient(o)}return t.prototype.search=function(e){var t,o=[],r={rootFolders:e.folderResources?e.folderResources.map(function(e){return e.fsPath}):[],extraFiles:e.extraFileResources?e.extraFileResources.map(function(e){return e.fsPath}):[],filePattern:e.filePattern,excludePattern:e.excludePattern,includePattern:e.includePattern,maxResults:e.maxResults};return e.type===l.QueryType.Text&&(r.contentPattern=e.contentPattern,r.fileEncoding=e.fileEncoding),t=e.type===l.QueryType.File?this.raw.fileSearch(r):this.raw.textSearch(r),new i.PPromise(function(e,i,r){t.done(function(t){e({limitHit:t.limitHit,results:o})},i,function(e){if(e.path){var t=new l.FileMatch(n["default"].file(e.path));if(o.push(t),e.lineMatches)for(var i=0;i<e.lineMatches.length;i++)t.lineMatches.push(new l.LineMatch(e.lineMatches[i].preview,e.lineMatches[i].lineNumber,e.lineMatches[i].offsetAndLengths));r(t)}else r(e)})},function(){return t.cancel()})},t}()}),define(l[57],d([1,0,6]),function(e,t,i){"use strict";t.IViewletService=i.createDecorator("viewletService")}),define(l[71],d([1,0,496,2,10,7,15,31,27,49,63,207,183,5,151,57,22,203]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S){"use strict";function b(e){var t=document.createElement("div");return e.appendChild(t),t}function _(e,t){e&&(t?a.$(e.getHTMLElement()).show():a.$(e.getHTMLElement()).hide(),t?e.onVisible():e.onHidden())}function C(e){if(e){var t=e.getSelection();t.length>0&&w(e,t[0],.5).done(null,r.onUnexpectedError),e.DOMFocus()}}function w(e,t,i){return e?e.reveal(t,i):n.TPromise.as(null)}var I=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getOptimalWidth=function(){return null},t}(S.Composite);t.Viewlet=I;var T=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t),this.viewerContainer=t.div(),this.viewer=this.createViewer(this.viewerContainer),this.toUnbind.push(this.viewer.addListener2("selection",function(e){return i.onSelection(e)})),this.toUnbind.push(this.viewer.addListener2("focus",function(e){return i.onFocus(e)})),n.TPromise.as(null)},t.prototype.getViewer=function(){return this.viewer},t.prototype.setVisible=function(t){var i;return t?(i=e.prototype.setVisible.call(this,t),this.getViewer().onVisible()):(this.getViewer().onHidden(),i=e.prototype.setVisible.call(this,t)),i},t.prototype.focus=function(){if(this.viewer){var e=this.viewer.getSelection();e.length>0&&this.reveal(e[0],.5).done(null,r.onUnexpectedError),this.viewer.DOMFocus()}},t.prototype.reveal=function(e,t){return this.viewer?(this.wasLayouted||this.viewer.layout(),this.viewer.reveal(e,t)):n.TPromise.as(null)},t.prototype.layout=function(e){this.viewer&&(this.wasLayouted=!0,this.viewer.layout(e.height))},t.prototype.getControl=function(){return this.viewer},t.prototype.dispose=function(){this.viewer&&this.viewer.dispose(),e.prototype.dispose.call(this)},t}(I);t.ViewerViewlet=T;var A=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,n,o,r,s),this.isGlobal=a||!1}return h(t,e),t}(S.CompositeDescriptor);t.ViewletDescriptor=A,t.Extensions={Viewlets:"workbench.contributions.viewlets"};var L=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.registerViewlet=function(t){e.prototype.registerComposite.call(this,t)},t.prototype.getViewlet=function(e){return this.getComposite(e)},t.prototype.getViewlets=function(){return this.getComposits()},t.prototype.setDefaultViewletId=function(e){this.defaultViewletId=e},t.prototype.getDefaultViewletId=function(){return this.defaultViewletId},t}(S.CompositeRegistry);t.ViewletRegistry=L,s.Registry.add(t.Extensions.Viewlets,new L);var D=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.viewletService=o,this.editorService=r,this.viewletId=n,this.enabled=!!this.viewletService&&!!this.editorService}return h(t,e),t.prototype.run=function(){if(this.otherViewletShowing()||!this.sidebarHasFocus())return this.viewletService.openViewlet(this.viewletId,!0);var e=this.editorService.getActiveEditor();return e&&e.focus(),n.TPromise.as(!0)},t.prototype.otherViewletShowing=function(){var e=this.viewletService.getActiveViewlet();return!e||e.getId()!==this.viewletId},t.prototype.sidebarHasFocus=function(){var e=this.viewletService.getActiveViewlet(),t=document.activeElement;return e&&t&&o.isAncestor(t,e.getContainer().getHTMLElement())},t=g([m(3,y.IViewletService),m(4,E.IWorkbenchEditorService)],t)}(c.Action);t.ToggleViewletAction=D;var k=function(e){function t(t,o,r){e.call(this,"workbench.action.collapse",i.localize(0,null),r,o,function(e){return t.getHighlight()?n.TPromise.as(null):(t.collapseAll(),t.clearSelection(),t.clearFocus(),t.DOMFocus(),t.focusFirst(),n.TPromise.as(null))})}return h(t,e),t}(c.Action);t.CollapseAction=k;var x=function(e){function t(t,i,n,o,r,s,a){e.call(this,{expandedBodySize:i,headerSize:22,initialState:n?v.CollapsibleState.COLLAPSED:v.CollapsibleState.EXPANDED,ariaHeaderLabel:o}),this.viewName=o,this.messageService=r,this.keybindingService=s,this.contextMenuService=a,this.actionRunner=t,this.toDispose=[]}return h(t,e),t.prototype.create=function(){return n.TPromise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new d.ToolBar(a.$("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)},ariaLabel:i.localize(1,null,this.viewName),getKeyBinding:function(e){var i=t.keybindingService.lookupKeybindings(e.id);return i.length>0?i[0]:null}}),this.toolBar.actionRunner=this.actionRunner,this.toolBar.setActions(l.prepareActions(this.getActions()),l.prepareActions(this.getSecondaryActions()))(),this.dragHandler=new p.DelayedDragHandler(e,function(){t.isExpanded()||t.expand()})},t.prototype.changeState=function(t){_(this.tree,t===v.CollapsibleState.EXPANDED),e.prototype.changeState.call(this,t)},t.prototype.renderViewTree=function(e){return b(e)},t.prototype.getViewer=function(){return this.tree},t.prototype.setVisible=function(e){return this.isVisible=e,_(this.tree,e&&this.state===v.CollapsibleState.EXPANDED),n.TPromise.as(null)},t.prototype.focusBody=function(){C(this.tree)},t.prototype.reveal=function(e,t){return w(this.tree,e,t)},t.prototype.layoutBody=function(e){this.treeContainer.style.height=e+"px",this.tree.layout(e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree.dispose(),this.dragHandler.dispose(),this.toDispose=f.dispose(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(v.FixedCollapsibleView);t.AdaptiveCollapsibleViewletView=x;var M=function(e){function t(t,i,n,o,r,s,a){e.call(this,{minimumSize:44,initialState:i?v.CollapsibleState.COLLAPSED:v.CollapsibleState.EXPANDED,ariaHeaderLabel:n,headerSize:a}),this.viewName=n,this.messageService=o,this.keybindingService=r,this.contextMenuService=s,this.actionRunner=t,this.toDispose=[]}return h(t,e),t.prototype.changeState=function(t){_(this.tree,t===v.CollapsibleState.EXPANDED),e.prototype.changeState.call(this,t)},t.prototype.create=function(){return n.TPromise.as(null)},t.prototype.renderHeader=function(e){var t=this;this.toolBar=new d.ToolBar(a.$("div.actions").appendTo(e).getHTMLElement(),this.contextMenuService,{orientation:u.ActionsOrientation.HORIZONTAL,actionItemProvider:function(e){return t.getActionItem(e)},ariaLabel:i.localize(2,null,this.viewName),getKeyBinding:function(e){var i=t.keybindingService.lookupKeybindings(e.id);return i.length>0?i[0]:null}}),this.toolBar.actionRunner=this.actionRunner,this.toolBar.setActions(l.prepareActions(this.getActions()),l.prepareActions(this.getSecondaryActions()))(),this.dragHandler=new p.DelayedDragHandler(e,function(){t.isExpanded()||t.expand()})},t.prototype.renderViewTree=function(e){return b(e)},t.prototype.getViewer=function(){return this.tree},t.prototype.setVisible=function(e){return this.isVisible=e,_(this.tree,e&&this.state===v.CollapsibleState.EXPANDED),n.TPromise.as(null)},t.prototype.focusBody=function(){C(this.tree)},t.prototype.reveal=function(e,t){return w(this.tree,e,t)},t.prototype.layoutBody=function(e){this.treeContainer.style.height=e+"px",this.tree.layout(e)},t.prototype.getActions=function(){return[]},t.prototype.getSecondaryActions=function(){return[]},t.prototype.getActionItem=function(e){return null},t.prototype.shutdown=function(){},t.prototype.dispose=function(){this.isDisposed=!0,this.treeContainer=null,this.tree.dispose(),this.dragHandler&&this.dragHandler.dispose(),this.toDispose=f.dispose(this.toDispose),this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t}(v.CollapsibleView);t.CollapsibleViewletView=M}),define(l[947],d([1,0,478,2,31,7,49,15,64,71,165,864,57,139,55,51,28,6,18,21,20,772]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";var w=function(e){function t(t,i,n,o,r,s,a,c){e.call(this,t),this.viewletService=i,this.messageService=n,this.telemetryService=o,this.eventService=r,this.contextMenuService=s,this.keybindingService=a,this.instantiationService=c,this.serviceId=f.IActivityService,this.activityActionItems={},this.viewletIdToActions={},this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener2(c.EventType.COMPOSITE_OPENING,function(t){return e.onCompositeOpening(t)})),this.toUnbind.push(this.eventService.addListener2(c.EventType.COMPOSITE_CLOSED,function(t){return e.onCompositeClosed(t)}))},t.prototype.onCompositeOpening=function(e){if(this.viewletIdToActions[e.compositeId]){this.viewletIdToActions[e.compositeId].activate();for(var t in this.viewletIdToActions)this.viewletIdToActions.hasOwnProperty(t)&&t!==e.compositeId&&this.viewletIdToActions[t].deactivate()}},t.prototype.onCompositeClosed=function(e){this.viewletIdToActions[e.compositeId]&&this.viewletIdToActions[e.compositeId].deactivate()},t.prototype.showActivity=function(e,t,i){var n=this.viewletIdToActions[e];n&&(n.setBadge(t),i&&(n["class"]=i))},t.prototype.clearActivity=function(e){this.showActivity(e,null)},t.prototype.createContentArea=function(e){var t=o.$(e),i=o.$(".content").appendTo(t);return this.createViewletSwitcher(i.clone()),i},t.prototype.createViewletSwitcher=function(e){var t=this;this.viewletSwitcherBar=new s.ActionBar(e,{actionItemProvider:function(e){return t.activityActionItems[e.id]},orientation:s.ActionsOrientation.VERTICAL,ariaLabel:i.localize(0,null)}),this.viewletSwitcherBar.getContainer().addClass("position-top");var n=this.viewletService.getActiveViewlet(),o=a.Registry.as(u.Extensions.Viewlets),r=o.getViewlets(),c={label:!0,icon:!0},l=function(e){var i=t.instantiationService.createInstance(I,e.id+".activity-bar-action",e),o=null,r=t.keybindingService.lookupKeybindings(e.id).map(function(e){return t.keybindingService.getLabelFor(e)});return r&&r.length&&(o=r[0]),t.activityActionItems[i.id]=new d.ActivityActionItem(i,e.name,o),t.viewletIdToActions[e.id]=i,n&&n.getId()===e.id&&i.activate(),i};this.viewletSwitcherBar.push(r.filter(function(e){return!e.isGlobal}).sort(function(e,t){return e.order-t.order}).map(l),c)},t.prototype.dispose=function(){this.viewletSwitcherBar&&(this.viewletSwitcherBar.dispose(),this.viewletSwitcherBar=null),this.globalToolBar&&(this.globalToolBar.dispose(),this.globalToolBar=null),e.prototype.dispose.call(this)},t=g([m(1,p.IViewletService),m(2,b.IMessageService),m(3,_.ITelemetryService),m(4,E.IEventService),m(5,y.IContextMenuService),m(6,C.IKeybindingService),m(7,S.IInstantiationService)],t)}(l.Part);t.ActivitybarPart=w;var I=function(e){function t(t,i,n,o){e.call(this,t,i.name,i.cssClass),this.viewletService=n,this.partService=o,this.lastRun=0,this.viewlet=i}return h(t,e),t.prototype.run=function(){var e=Date.now();if(e-this.lastRun<t.preventDoubleClickDelay)return n.TPromise.as(!0);this.lastRun=e;var i=this.partService.isSideBarHidden(),o=this.viewletService.getActiveViewlet();return!i&&o&&o.getId()===this.viewlet.id?this.partService.setSideBarHidden(!0):(this.viewletService.openViewlet(this.viewlet.id,!0).done(null,r.onUnexpectedError),this.activate()),n.TPromise.as(!0)},t.preventDoubleClickDelay=300,t=g([m(2,p.IViewletService),m(3,v.IPartService)],t)}(d.ActivityAction)}),define(l[948],d([1,0,2,493,15,27,255,71,42,35,57,55,63,39,51,28,18,21,20,13,6,745]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";var w=function(e){function t(i,n,r,s,c,u,d,h,f){e.call(this,n,r,s,c,u,d,h,f,o.Registry.as(a.Extensions.Viewlets),t.activeViewletSettingsKey,"sideBar","viewlet",p.Scope.VIEWLET,i),this.serviceId=l.IViewletService}return h(t,e),t.prototype.openViewlet=function(e,t){if(this.blockOpeningViewlet)return i.TPromise.as(null);if(this.partService.isSideBarHidden())try{this.blockOpeningViewlet=!0,this.partService.setSideBarHidden(!1)}finally{this.blockOpeningViewlet=!1}return this.openComposite(e,t)},t.prototype.getActiveViewlet=function(){return this.getActiveComposite()},t.prototype.getLastActiveViewletId=function(){return this.getLastActiveCompositetId()},t.prototype.hideActiveViewlet=function(){return this.hideActiveComposite()},t.activeViewletSettingsKey="workbench.sidebar.activeviewletid",t=g([m(1,E.IMessageService),m(2,f.IStorageService),m(3,y.IEventService),m(4,S.ITelemetryService),m(5,v.IContextMenuService),m(6,d.IPartService),m(7,b.IKeybindingService),m(8,C.IInstantiationService)],t)}(s.CompositePart);t.SidebarPart=w;var I=function(e){function t(t,i,n,o){e.call(this,t,i),this.viewletService=n,this.partService=o}return h(t,e),t.prototype.run=function(){if(this.partService.isSideBarHidden())this.partService.setSideBarHidden(!1);else{var e=this.viewletService.getActiveViewlet();e&&e.focus()}return i.TPromise.as(!0)},t.ID="workbench.action.focusSideBar",t.LABEL=n.localize(0,null),t=g([m(2,l.IViewletService),m(3,d.IPartService)],t)}(r.Action);t.FocusSideBarAction=I;var T=o.Registry.as(c.Extensions.WorkbenchActions);T.registerWorkbenchAction(new u.SyncActionDescriptor(I,I.ID,I.LABEL,{primary:_.KeyMod.CtrlCmd|_.KeyCode.KEY_0}),"View: Focus into Side Bar",n.localize(1,null))}),define(l[949],d([1,0,12,10,30,57,22,39,28,32,44,52]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";var h=d.remote.dialog,p=function(){function e(e,t,i,n,o,r,s,a){this.contextService=i,this.eventService=n,this.storageService=o,this.editorService=r,this.editorGroupService=s,this.viewletService=a,this.win=e,this.windowId=e.id,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;i.platform===i.Platform.Mac&&this.editorGroupService.onEditorsChanged(function(){var t=o.asFileEditorInput(e.editorService.getActiveEditorInput(),!0),i="";t&&(i=t.getResource().fsPath),d.ipcRenderer.send("vscode:setRepresentedFilename",e.windowId,i)}),[n.EventType.DRAG_OVER,n.EventType.DROP].forEach(function(e){window.document.body.addEventListener(e,function(e){n.EventHelper.stop(e)})}),window.open=function(e,t,i,n){return d.shell.openExternal(e),null};var t=window.focus,r=this;window.focus=function(){t.call(this,arguments),r.focus()}},e.prototype.open=function(e){var t;t=Array.isArray(e)?e:"string"==typeof e?[e]:[e.fsPath],d.ipcRenderer.send("vscode:windowOpen",t)},e.prototype.openNew=function(){d.ipcRenderer.send("vscode:openNewWindow")},e.prototype.close=function(){this.win.close()},e.prototype.reload=function(){d.ipcRenderer.send("vscode:reloadWindow",this.windowId)},e.prototype.showMessageBox=function(e){return h.showMessageBox(this.win,e)},e.prototype.showSaveDialog=function(e,t){return t?h.showSaveDialog(this.win,e,t):h.showSaveDialog(this.win,e)},e.prototype.setFullScreen=function(e){d.ipcRenderer.send("vscode:setFullScreen",this.windowId,e)},e.prototype.openDevTools=function(){d.ipcRenderer.send("vscode:openDevTools",this.windowId)},e.prototype.setMenuBarVisibility=function(e){d.ipcRenderer.send("vscode:setMenuBarVisibility",this.windowId,e)},e.prototype.focus=function(){d.ipcRenderer.send("vscode:focusWindow",this.windowId)},e.prototype.flashFrame=function(){d.ipcRenderer.send("vscode:flashFrame",this.windowId)},e=g([m(2,u.IWorkspaceContextService),m(3,c.IEventService),m(4,a.IStorageService),m(5,s.IWorkbenchEditorService),m(6,l.IEditorGroupService),m(7,r.IViewletService)],e)}();t.ElectronWindow=p}),define(l[137],d([1,0,513,27,5,2,14,40,54,28,20,64,101,154,790,55,93,57,6,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";var C=p.IDebugService,w=function(e){function t(t,i,n,o,r){var s=this;e.call(this,t,i,n,!1),this.debugService=o,this.keybindingService=r,this.debugService=o,this.toDispose=[],this.toDispose.push(this.debugService.onDidChangeState(function(e){return s.updateEnablement(e)}));var a=this.keybindingService.lookupKeybindings(t).map(function(e){return s.keybindingService.getLabelFor(e)});a&&a.length&&(this.keybinding=a[0]),this.updateLabel(i),this.updateEnablement(this.debugService.state)}return h(t,e),t.prototype.run=function(e){throw new Error("implement me")},t.prototype.updateLabel=function(e){this.keybinding?this.label=i.localize(0,null,e,this.keybinding):this.label=e},t.prototype.updateEnablement=function(e){this.enabled=this.isEnabled(e)},t.prototype.isEnabled=function(e){return e!==p.State.Disabled},t.prototype.dispose=function(){this.debugService=null,this.toDispose=o.dispose(this.toDispose),e.prototype.dispose.call(this)},t=g([m(3,C),m(4,l.IKeybindingService)],t)}(n.Action);t.AbstractDebugAction=w;var I=function(e){function t(n,o,r,s){var a=this;e.call(this,n,o,"debug-action configure",r,s),this.toDispose.push(r.getConfigurationManager().onDidConfigurationChange(function(e){e?(a["class"]="debug-action configure",a.tooltip=t.LABEL):(a["class"]="debug-action configure notification",a.tooltip=i.localize(2,null))}))}return h(t,e),t.prototype.run=function(e){var t=!(!e||!e.ctrlKey&&!e.metaKey);return this.debugService.getConfigurationManager().openConfigFile(t)},t.ID="workbench.action.debug.configure",t.LABEL=i.localize(1,null,"launch.json"),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.ConfigureAction=I;var T=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action select-active-config",n,o)}return h(t,e),t.prototype.run=function(e){return this.debugService.getConfigurationManager().setConfiguration(e)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Inactive},t.ID="workbench.debug.action.setActiveConfig",t.LABEL=i.localize(3,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.SelectConfigAction=T;var A=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action start",n,o)}return h(t,e),t.prototype.run=function(){return this.keybindingService.executeCommand("_workbench.startDebug")},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Inactive},t.ID="workbench.action.debug.start",t.LABEL=i.localize(4,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.StartDebugAction=A;var L=function(e){function t(i,n,o,r){var s=this;e.call(this,i,n,"debug-action restart",o,r),this.toDispose.push(this.debugService.onDidChangeState(function(){var e=s.debugService.getActiveSession();e&&s.updateLabel(e.configuration.isAttach?t.RECONNECT_LABEL:t.LABEL)}))}return h(t,e),t.prototype.run=function(){return this.debugService.restartSession()},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==p.State.Inactive},t.ID="workbench.action.debug.restart",t.LABEL=i.localize(5,null),t.RECONNECT_LABEL=i.localize(6,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RestartDebugAction=L;var D=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action step-over",n,o)}return h(t,e),t.prototype.run=function(e){var t=e&&e instanceof f.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.next(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t.ID="workbench.action.debug.stepOver",t.LABEL=i.localize(7,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.StepOverDebugAction=D;var k=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action step-into",n,o)}return h(t,e),t.prototype.run=function(e){var t=e&&e instanceof f.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.stepIn(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t.ID="workbench.action.debug.stepInto",t.LABEL=i.localize(8,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.StepIntoDebugAction=k;var x=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action step-out",n,o)}return h(t,e),t.prototype.run=function(e){var t=e&&e instanceof f.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.stepOut(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t.ID="workbench.action.debug.stepOut",t.LABEL=i.localize(9,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.StepOutDebugAction=x;var M=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action step-back",n,o)}return h(t,e),t.prototype.run=function(e){var t=e&&e instanceof f.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.stepBack(t)},t.prototype.isEnabled=function(t){var i=this.debugService.getActiveSession();return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped&&i&&i.configuration.capabilities.supportsStepBack},t.ID="workbench.action.debug.stepBack",t.LABEL=i.localize(10,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.StepBackDebugAction=M;var R=function(e){function t(i,n,o,r){var s=this;e.call(this,i,n,"debug-action stop",o,r),this.toDispose.push(this.debugService.onDidChangeState(function(){var e=s.debugService.getActiveSession();e&&s.updateLabel(e.configuration.isAttach?t.DISCONNECT_LABEL:t.LABEL)}))}return h(t,e),t.prototype.run=function(){var e=this.debugService.getActiveSession();return e?e.disconnect(!1,!0):r.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t!==p.State.Inactive},t.ID="workbench.action.debug.stop",t.LABEL=i.localize(11,null),t.DISCONNECT_LABEL=i.localize(12,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.StopDebugAction=R;var O=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action continue",n,o)}return h(t,e),t.prototype.run=function(e){var t=e&&e instanceof f.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService["continue"](t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped},t.ID="workbench.action.debug.continue",t.LABEL=i.localize(13,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.ContinueAction=O;var P=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action pause",n,o)}return h(t,e),t.prototype.run=function(e){var t=e&&e instanceof f.Thread?e.threadId:this.debugService.getViewModel().getFocusedThreadId();return this.debugService.pause(t)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Running},t.ID="workbench.action.debug.pause",t.LABEL=i.localize(14,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.PauseAction=P;var N=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action remove",n,o)}return h(t,e),t.prototype.run=function(e){return e instanceof f.Breakpoint?this.debugService.removeBreakpoints(e.getId()):this.debugService.removeFunctionBreakpoints(e.getId())},t.ID="workbench.debug.viewlet.action.removeBreakpoint",t.LABEL=i.localize(15,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RemoveBreakpointAction=N;var F=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,"debug-action remove-all",n,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return h(t,e),t.prototype.run=function(){return r.TPromise.join([this.debugService.removeBreakpoints(),this.debugService.removeFunctionBreakpoints()])},t.prototype.isEnabled=function(t){var i=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&(i.getBreakpoints().length>0||i.getFunctionBreakpoints().length>0)},t.ID="workbench.debug.viewlet.action.removeAllBreakpoints",t.LABEL=i.localize(16,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RemoveAllBreakpointsAction=F;var W=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action toggle-enablement",n,o)}return h(t,e),t.prototype.run=function(e){return this.debugService.enableOrDisableBreakpoints(!e.enabled,e)},t.ID="workbench.debug.viewlet.action.toggleBreakpointEnablement",t.LABEL=i.localize(17,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.ToggleEnablementAction=W;var B=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,"debug-action enable-all-breakpoints",n,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){
return r.updateEnablement(r.debugService.state)}))}return h(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!0)},t.prototype.isEnabled=function(t){var i=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&i.getBreakpoints().concat(i.getFunctionBreakpoints()).concat(i.getExceptionBreakpoints()).some(function(e){return!e.enabled})},t.ID="workbench.debug.viewlet.action.enableAllBreakpoints",t.LABEL=i.localize(18,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.EnableAllBreakpointsAction=B;var K=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,"debug-action disable-all-breakpoints",n,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return h(t,e),t.prototype.run=function(){return this.debugService.enableOrDisableBreakpoints(!1)},t.prototype.isEnabled=function(t){var i=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&i.getBreakpoints().concat(i.getFunctionBreakpoints()).concat(i.getExceptionBreakpoints()).some(function(e){return e.enabled})},t.ID="workbench.debug.viewlet.action.disableAllBreakpoints",t.LABEL=i.localize(19,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.DisableAllBreakpointsAction=K;var V=function(e){function t(i,n,o,r){var s=this;e.call(this,i,n,"debug-action breakpoints-activate",o,r),this.updateLabel(this.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){s.updateLabel(s.debugService.getModel().areBreakpointsActivated()?t.DEACTIVATE_LABEL:t.ACTIVATE_LABEL),s.updateEnablement(s.debugService.state)}))}return h(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!this.debugService.getModel().areBreakpointsActivated())},t.prototype.isEnabled=function(e){return this.debugService.getModel().getFunctionBreakpoints().length+this.debugService.getModel().getBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.toggleBreakpointsActivatedAction",t.ACTIVATE_LABEL=i.localize(20,null),t.DEACTIVATE_LABEL=i.localize(21,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.ToggleBreakpointsActivatedAction=V;var H=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,null,n,o),this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return r.updateEnablement(r.debugService.state)}))}return h(t,e),t.prototype.run=function(){return this.debugService.setBreakpointsActivated(!0)},t.prototype.isEnabled=function(t){var i=this.debugService.getModel();return e.prototype.isEnabled.call(this,t)&&t!==p.State.Disabled&&t!==p.State.Inactive&&i.getFunctionBreakpoints().length+i.getBreakpoints().length>0},t.ID="workbench.debug.viewlet.action.reapplyBreakpointsAction",t.LABEL=i.localize(22,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.ReapplyBreakpointsAction=H;var z=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action add-function-breakpoint",n,o)}return h(t,e),t.prototype.run=function(){return this.debugService.addFunctionBreakpoint(),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.addFunctionBreakpointAction",t.LABEL=i.localize(23,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.AddFunctionBreakpointAction=z;var U=function(e){function t(t,i,n,o){e.call(this,t,i,null,n,o)}return h(t,e),t.prototype.run=function(e){return this.debugService.getViewModel().setSelectedFunctionBreakpoint(e),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.renameFunctionBreakpointAction",t.LABEL=i.localize(24,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RenameFunctionBreakpointAction=U;var G=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,null,r,s),this.editor=n,this.lineNumber=o,this.instantiationService=a}return h(t,e),t.prototype.run=function(){return v.BreakpointWidget.createInstance(this.editor,this.lineNumber,this.instantiationService),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.addConditionalBreakpointAction",t.LABEL=i.localize(25,null),t=g([m(4,C),m(5,l.IKeybindingService),m(6,b.IInstantiationService)],t)}(w);t.AddConditionalBreakpointAction=G;var j=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,null,r,s),this.editor=n,this.lineNumber=o,this.instantiationService=a}return h(t,e),t.prototype.run=function(e){return v.BreakpointWidget.createInstance(this.editor,this.lineNumber,this.instantiationService),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.editConditionalBreakpointAction",t.LABEL=i.localize(26,null),t=g([m(4,C),m(5,l.IKeybindingService),m(6,b.IInstantiationService)],t)}(w);t.EditConditionalBreakpointAction=j;var q=function(e){function t(t,i,n){e.call(this,t,i,c.Behaviour.TextFocus),this.debugService=n}return h(t,e),t.prototype.run=function(){var e=this.editor.getPosition().lineNumber,t=this.editor.getModel().uri;if(this.debugService.getConfigurationManager().canSetBreakpointsIn(this.editor.getModel())){var i=this.debugService.getModel().getBreakpoints().filter(function(i){return i.lineNumber===e&&i.source.uri.toString()===t.toString()}).pop();return i?this.debugService.removeBreakpoints(i.getId()):this.debugService.addBreakpoints([{uri:t,lineNumber:e}])}},t.ID="editor.debug.action.toggleBreakpoint",t=g([m(2,C)],t)}(a.EditorAction);t.ToggleBreakpointAction=q;var Y=function(e){function t(t,i,n,o){e.call(this,t,i,c.Behaviour.TextFocus),this.debugService=n,this.instantiationService=o}return h(t,e),t.prototype.run=function(){var e=this.editor.getPosition().lineNumber;return this.debugService.getConfigurationManager().canSetBreakpointsIn(this.editor.getModel())&&v.BreakpointWidget.createInstance(this.editor,e,this.instantiationService),r.TPromise.as(null)},t.ID="editor.debug.action.conditionalBreakpoint",t=g([m(2,C),m(3,b.IInstantiationService)],t)}(a.EditorAction);t.EditorConditionalBreakpointAction=Y;var $=function(e){function t(t,i,n,o,r){e.call(this,t,i,null,o,r),this.variable=n}return h(t,e),t.prototype.run=function(){return this.variable instanceof f.Variable&&this.debugService.getViewModel().setSelectedExpression(this.variable),r.TPromise.as(null)},t.prototype.isEnabled=function(t){var i=this.debugService.getActiveSession();return e.prototype.isEnabled.call(this,t)&&t===p.State.Stopped&&i&&i.configuration.capabilities.supportsSetVariable},t.ID="workbench.debug.viewlet.action.setValue",t.LABEL=i.localize(27,null),t=g([m(3,C),m(4,l.IKeybindingService)],t)}(w);t.SetValueAction=$;var X=function(e){function t(t,i,n,o,r){e.call(this,t,i,"debug-action copy-value",o,r),this.value=n}return h(t,e),t.prototype.run=function(){var e=this;if(this.value instanceof f.Variable){var t=this.debugService.getViewModel().getFocusedStackFrame().frameId,i=this.debugService.getActiveSession();return i.evaluate({expression:f.getFullExpressionName(this.value,i.configuration.type),frameId:t}).then(function(e){_.clipboard.writeText(e.body.result)},function(t){return _.clipboard.writeText(e.value.value)})}return _.clipboard.writeText(this.value),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.copyValue",t.LABEL=i.localize(28,null),t=g([m(3,C),m(4,l.IKeybindingService)],t)}(w);t.CopyValueAction=X;var Q=function(e){function t(t,i,n){e.call(this,t,i,c.Behaviour.TextFocus),this.debugService=n}return h(t,e),t.prototype.run=function(){var e=this,t=this.editor.getPosition().lineNumber,i=this.editor.getModel().uri,n=this.debugService.getActiveSession().onDidEvent(function(o){if("stopped"===o.event||"exit"===o.event){var r=e.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===t&&e.source.uri.toString()===i.toString()}).pop();e.debugService.removeBreakpoints(r.getId()),n.dispose()}});return this.debugService.addBreakpoints([{uri:i,lineNumber:t}]).then(function(){e.debugService["continue"](e.debugService.getViewModel().getFocusedThreadId())})},t.prototype.getGroupId=function(){return"5_debug/1_run_to_cursor"},t.prototype.shouldShowInContextMenu=function(){if(this.debugService.state!==p.State.Stopped)return!1;var e=this.editor.getPosition().lineNumber,t=this.editor.getModel().uri,i=this.debugService.getModel().getBreakpoints().filter(function(i){return i.lineNumber===e&&i.source.uri.toString()===t.toString()});return 0===i.length},t.prototype.isSupported=function(){return e.prototype.isSupported.call(this)&&this.debugService.state===p.State.Stopped},t.ID="editor.debug.action.runToCursor",t=g([m(2,C)],t)}(a.EditorAction);t.RunToCursorAction=Q;var Z=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,"debug-action add-watch-expression",n,o),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(){return r.updateEnablement(r.debugService.state)}))}return h(t,e),t.prototype.run=function(){return this.debugService.addWatchExpression()},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().every(function(e){return!!e.name})},t.ID="workbench.debug.viewlet.action.addWatchExpression",t.LABEL=i.localize(29,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.AddWatchExpressionAction=Z;var J=function(e){function t(t,i,n,o){e.call(this,t,i,c.Behaviour.TextFocus),this.debugService=n,this.viewletService=o}return h(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel().getValueInRange(this.editor.getSelection());return this.viewletService.openViewlet(p.VIEWLET_ID).then(function(){return e.debugService.addWatchExpression(t)})},t.prototype.getGroupId=function(){return"5_debug/3_selection_to_watch"},t.prototype.shouldShowInContextMenu=function(){var e=this.editor.getSelection(),t=this.editor.getModel().getValueInRange(e);return!!e&&!e.isEmpty()&&this.debugService.getConfigurationManager().configurationName&&t&&/\S/.test(t)},t.ID="editor.debug.action.selectionToWatch",t=g([m(2,C),m(3,S.IViewletService)],t)}(a.EditorAction);t.SelectionToWatchExpressionsAction=J;var ee=function(e){function t(t,i,n,o){e.call(this,t,i,c.Behaviour.TextFocus),this.debugService=n,this.panelService=o}return h(t,e),t.prototype.run=function(){var e=this,t=this.editor.getModel().getValueInRange(this.editor.getSelection());return this.debugService.addReplExpression(t).then(function(){return e.panelService.openPanel(p.REPL_ID,!0)})},t.prototype.getGroupId=function(){return"5_debug/2_selection_to_repl"},t.prototype.shouldShowInContextMenu=function(){var e=this.editor.getSelection();return!!e&&!e.isEmpty()&&this.debugService.state===p.State.Stopped},t.ID="editor.debug.action.selectionToRepl",t=g([m(2,C),m(3,E.IPanelService)],t)}(a.EditorAction);t.SelectionToReplAction=ee;var te=function(e){function t(t,i){e.call(this,t,i,c.Behaviour.TextFocus)}return h(t,e),t.prototype.run=function(){var e=this.editor.getPosition(),t=this.editor.getModel().getWordAtPosition(e);if(!t)return r.TPromise.as(null);var i=new s.Range(e.lineNumber,e.column,e.lineNumber,t.endColumn);return this.editor.getContribution(p.EDITOR_CONTRIBUTION_ID).showHover(i,t.word,!0)},t.ID="editor.debug.action.showDebugHover",t}(a.EditorAction);t.ShowDebugHoverAction=te;var ie=function(e){function t(t,i,n,o,r){e.call(this,t,i,"debug-action add-to-watch",o,r),this.expression=n}return h(t,e),t.prototype.run=function(){return this.debugService.addWatchExpression(f.getFullExpressionName(this.expression,this.debugService.getActiveSession().configuration.type))},t.ID="workbench.debug.viewlet.action.addToWatchExpressions",t.LABEL=i.localize(30,null),t=g([m(3,C),m(4,l.IKeybindingService)],t)}(w);t.AddToWatchExpressionsAction=ie;var ne=function(e){function t(t,i,n,o,r){e.call(this,t,i,"debug-action rename",o,r),this.expression=n}return h(t,e),t.prototype.run=function(){return this.debugService.getViewModel().setSelectedExpression(this.expression),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.renameWatchExpression",t.LABEL=i.localize(31,null),t=g([m(3,C),m(4,l.IKeybindingService)],t)}(w);t.RenameWatchExpressionAction=ne;var oe=function(e){function t(t,i,n,o){e.call(this,t,i,"debug-action remove",n,o)}return h(t,e),t.prototype.run=function(e){return this.debugService.removeWatchExpressions(e.getId()),r.TPromise.as(null)},t.ID="workbench.debug.viewlet.action.removeWatchExpression",t.LABEL=i.localize(32,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RemoveWatchExpressionAction=oe;var re=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,"debug-action remove-all",n,o),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(){return r.updateEnablement(r.debugService.state)}))}return h(t,e),t.prototype.run=function(){return this.debugService.removeWatchExpressions(),r.TPromise.as(null)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&this.debugService.getModel().getWatchExpressions().length>0},t.ID="workbench.debug.viewlet.action.removeAllWatchExpressions",t.LABEL=i.localize(33,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RemoveAllWatchExpressionsAction=re;var se=function(e){function t(t,i,n,o,r){e.call(this,t,i,"debug-action clear-repl",n,o),this.panelService=r}return h(t,e),t.prototype.run=function(){return this.debugService.removeReplExpressions(),this.panelService.openPanel(p.REPL_ID,!0)},t.ID="workbench.debug.panel.action.clearReplAction",t.LABEL=i.localize(34,null),t=g([m(2,C),m(3,l.IKeybindingService),m(4,E.IPanelService)],t)}(w);t.ClearReplAction=se;var ae=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.run=function(){return _.clipboard.writeText(window.getSelection().toString()),r.TPromise.as(null)},t.ID="workbench.debug.action.copy",t.LABEL=i.localize(35,null),t}(n.Action);t.CopyAction=ae;var ce=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,"debug-action toggle-repl",n,s),this.partService=o,this.panelService=r,this.eventService=a,this.enabled=this.debugService.state!==p.State.Disabled,this.registerListeners()}return h(t,e),t.prototype.run=function(){return this.isReplVisible()?(this.partService.setPanelHidden(!0),r.TPromise.as(null)):this.panelService.openPanel(p.REPL_ID,!0)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.getModel().onDidChangeReplElements(function(){e.isReplVisible()||(e["class"]="debug-action toggle-repl notification",e.tooltip=i.localize(37,null))})),this.toDispose.push(this.eventService.addListener2(d.EventType.COMPOSITE_OPENED,function(i){i.compositeId===p.REPL_ID&&(e["class"]="debug-action toggle-repl",e.tooltip=t.LABEL)}))},t.prototype.isReplVisible=function(){var e=this.panelService.getActivePanel();return e&&e.getId()===p.REPL_ID},t.ID="workbench.debug.action.toggleRepl",t.LABEL=i.localize(36,null),t=g([m(2,C),m(3,y.IPartService),m(4,E.IPanelService),m(5,l.IKeybindingService),m(6,u.IEventService)],t)}(w);t.ToggleReplAction=ce;var ue=function(e){function t(t,i,n,o){e.call(this,t,i,null,n,o)}return h(t,e),t.prototype.run=function(){return this.debugService.createSession(!0)},t.prototype.isEnabled=function(t){return e.prototype.isEnabled.call(this,t)&&t===p.State.Inactive},t.ID="workbench.action.debug.run",t.LABEL=i.localize(38,null),t=g([m(2,C),m(3,l.IKeybindingService)],t)}(w);t.RunAction=ue}),define(l[951],d([1,0,5,7,33,31,10,77,66,49,167,101,137,6,39,18,21]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y){"use strict";var E=d.IDebugService,S=r.$,b="debug.actionswidgetposition",_=function(){function e(e,t,i,n,o){this.messageService=e,this.telemetryService=t,this.debugService=i,this.instantiationService=n,this.storageService=o,this.$el=S().div().addClass("debug-actions-widget"),this.dragArea=S().div().addClass("drag-area"),this.$el.append(this.dragArea);var r=S().div().addClass(".action-bar-container");this.$el.append(r),this.toDispose=[],this.actionBar=new u.ActionBar(r,{orientation:u.ActionsOrientation.HORIZONTAL}),this.toDispose.push(this.actionBar),this.registerListeners(),this.hide(),this.isBuilt=!1}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.debugService.onDidChangeState(function(t){e.onDebugStateChange(t)})),this.toDispose.push(this.actionBar.actionRunner.addListener2(c.EventType.RUN,function(t){t.error&&!n.isPromiseCanceledError(t.error)&&e.messageService.show(o["default"].Error,t.error),e.telemetryService&&e.telemetryService.publicLog("workbenchActionExecuted",{id:t.action.id,from:"debugActionsWidget"})})),S(window).on(s.EventType.RESIZE,function(){return e.setXCoordinate()},this.toDispose),this.dragArea.on(s.EventType.MOUSE_DOWN,function(t){var i=S(window);e.dragArea.addClass("dragged"),i.on("mousemove",function(t){var i=new a.StandardMouseEvent(t);i.preventDefault(),e.setXCoordinate(i.posx)}).once("mouseup",function(t){var n=new a.StandardMouseEvent(t);e.storageService.store(b,n.posx/window.innerWidth,f.StorageScope.WORKSPACE),e.dragArea.removeClass("dragged"),i.off("mousemove")})})},e.prototype.setXCoordinate=function(e){if(this.isVisible){e||(e=parseFloat(this.storageService.get(b,f.StorageScope.WORKSPACE,"0.5"))*window.innerWidth);var t=this.$el.getHTMLElement().clientWidth/2;e=e+t-16,e=Math.max(148,e),e=Math.min(e,window.innerWidth-t-10),this.$el.style("left",e+"px")}},e.prototype.getId=function(){return e.ID},e.prototype.onDebugStateChange=function(e){return e===d.State.Disabled||e===d.State.Inactive?this.hide():(this.actionBar.clear(),this.actionBar.push(this.getActions(this.instantiationService,this.debugService.state),{icon:!0,label:!1}),void this.show())},e.prototype.show=function(){this.isVisible||(this.isBuilt||(this.isBuilt=!0,this.$el.build(r.withElementById(l.Identifiers.WORKBENCH_CONTAINER).getHTMLElement())),this.isVisible=!0,this.$el.show(),this.setXCoordinate())},e.prototype.hide=function(){this.isVisible=!1,this.$el.hide()},e.prototype.getActions=function(e,t){var i=this;this.actions||(this.continueAction=e.createInstance(h.ContinueAction,h.ContinueAction.ID,h.ContinueAction.LABEL),this.pauseAction=e.createInstance(h.PauseAction,h.PauseAction.ID,h.PauseAction.LABEL),this.actions=[this.continueAction,e.createInstance(h.StepOverDebugAction,h.StepOverDebugAction.ID,h.StepOverDebugAction.LABEL),e.createInstance(h.StepIntoDebugAction,h.StepIntoDebugAction.ID,h.StepIntoDebugAction.LABEL),e.createInstance(h.StepOutDebugAction,h.StepOutDebugAction.ID,h.StepOutDebugAction.LABEL),e.createInstance(h.RestartDebugAction,h.RestartDebugAction.ID,h.RestartDebugAction.LABEL),e.createInstance(h.StopDebugAction,h.StopDebugAction.ID,h.StopDebugAction.LABEL)],this.actions.forEach(function(e){i.toDispose.push(e)}),this.toDispose.push(this.pauseAction),this.toDispose.push(this.continueAction)),this.actions[0]=t===d.State.Running?this.pauseAction:this.continueAction;var n=this.debugService.getActiveSession();return n&&n.configuration.capabilities.supportsStepBack?(this.stepBackAction||(this.stepBackAction=e.createInstance(h.StepBackDebugAction,h.StepBackDebugAction.ID,h.StepBackDebugAction.LABEL),this.toDispose.push(this.stepBackAction)),this.actions.slice(0,4).concat([this.stepBackAction],this.actions.slice(4))):this.actions},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose),this.$el&&(this.$el.destroy(),delete this.$el)},e.ID="debug.actionsWidget",e=g([m(0,v.IMessageService),m(1,y.ITelemetryService),m(2,E),m(3,p.IInstantiationService),m(4,f.IStorageService)],e)}();t.DebugActionsWidget=_}),define(l[301],d([1,0,509,2,5,13,25,16,7,9,12,10,76,49,106,81,101,154,249,137,51,6,32,18]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T){"use strict";function A(e,t,i,n){var o="string"==typeof e?e:e.value;t.className="value",null===o||(e instanceof S.Expression||e instanceof S.Variable)&&!e.available?(d.addClass(t,"unavailable"),o!==S.Expression.DEFAULT_VALUE&&d.addClass(t,"error")):isNaN(+o)?M.test(o)?d.addClass(t,"boolean"):R.test(o)&&d.addClass(t,"string"):d.addClass(t,"number"),i&&e.valueChanged&&(t.className="value changed"),n&&o.length>n&&(o=o.substr(0,n)+"..."),t.textContent=o,t.title=o}function L(e,t,i,n){t.available&&(i.name.textContent=t.name+":",i.name.title=t.type?t.type:""),t.value?(A(t,i.value,n,O),i.expression.title=t.value):(i.value.textContent="",i.value.title="")}function D(e,t,i,n,s,u){var l=d.append(s,x(".inputBoxContainer")),h=new v.InputBox(l,t,{validationOptions:u.validationOptions,placeholder:u.placeholder,ariaLabel:u.ariaLabel});h.value=u.initialValue?u.initialValue:"",h.focus();var p=!1,f=[h],g=a.once(function(t){p||(p=!0,n instanceof S.Expression&&t&&h.value?e.renameWatchExpression(n.getId(),h.value).done(null,c.onUnexpectedError):n instanceof S.Expression&&!n.name?e.removeWatchExpressions(n.getId()):n instanceof S.FunctionBreakpoint&&t&&h.value?e.renameFunctionBreakpoint(n.getId(),h.value).done(null,c.onUnexpectedError):n instanceof S.FunctionBreakpoint&&!n.name?e.removeFunctionBreakpoints(n.getId()).done(null,c.onUnexpectedError):n instanceof S.Variable&&(n.errorMessage=null,t&&e.setVariable(n,h.value).done(function(){return i.refresh(n,!1)},c.onUnexpectedError)),i.clearHighlight(),i.DOMFocus(),i.setFocus(n),s.removeChild(l),o.dispose(f))});f.push(d.addStandardDisposableListener(h.inputElement,"keydown",function(e){var t=e.equals(r.CommonKeybindings.ESCAPE),i=e.equals(r.CommonKeybindings.ENTER);(t||i)&&g(i)})),f.push(d.addDisposableListener(h.inputElement,"blur",function(){g(!0)}))}function k(e,t){return e.inMemory?e.name:p.getPathLabel(s.basename(e.uri.fsPath),t)}var x=d.emmet,M=/^true|false$/i,R=/^(['"]).*\1$/,O=1024;t.renderExpressionValue=A,t.renderVariable=L;var P=function(e){function t(t,i,n,o){void 0===o&&(o=!0),e.call(this),this.debugService=t,this.contextMenuService=i,this.actionProvider=n,this.focusOnContextMenu=o,l.isMacintosh?this.downKeyBindingDispatcher.set(r.CommonKeybindings.CTRLCMD_BACKSPACE,this.onDelete.bind(this)):(this.downKeyBindingDispatcher.set(r.CommonKeybindings.DELETE,this.onDelete.bind(this)),this.downKeyBindingDispatcher.set(r.CommonKeybindings.SHIFT_DELETE,this.onDelete.bind(this)))}return h(t,e),t.prototype.onContextMenu=function(e,t,i){var n=this;if(i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;if(i.preventDefault(),i.stopPropagation(),this.focusOnContextMenu&&e.setFocus(t),this.actionProvider.hasSecondaryActions(e,t)){var o={x:i.posx+1,y:i.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return n.actionProvider.getSecondaryActions(e,t)},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return t}}),!0}return!1},t.prototype.onDelete=function(e,t){return!1},t}(y.DefaultController);t.BaseDebugController=P;var N=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.onLeftClick=function(t,i,n){return"number"==typeof i?this.showMoreStackFrames(t,i):(i instanceof S.StackFrame&&this.focusStackFrame(i,n,!0),e.prototype.onLeftClick.call(this,t,i,n))},t.prototype.onEnter=function(t,i){var n=t.getFocus();return"number"==typeof n?this.showMoreStackFrames(t,n):(n instanceof S.StackFrame&&this.focusStackFrame(n,i,!1),e.prototype.onEnter.call(this,t,i))},t.prototype.onUp=function(t,i){return e.prototype.onUp.call(this,t,i),this.focusStackFrame(t.getFocus(),i,!0),!0},t.prototype.onPageUp=function(t,i){return e.prototype.onPageUp.call(this,t,i),this.focusStackFrame(t.getFocus(),i,!0),!0},t.prototype.onDown=function(t,i){return e.prototype.onDown.call(this,t,i),this.focusStackFrame(t.getFocus(),i,!0),!0},t.prototype.onPageDown=function(t,i){return e.prototype.onPageDown.call(this,t,i),this.focusStackFrame(t.getFocus(),i,!0),!0},t.prototype.showMoreStackFrames=function(e,t){var i=this.debugService.getModel().getThreads()[t];return i&&i.getCallStack(this.debugService,!0).done(function(){return e.refresh()},c.onUnexpectedError),!0},t.prototype.focusStackFrame=function(e,t,i){this.debugService.setFocusedStackFrameAndEvaluate(e).done(null,c.onUnexpectedError);var n=t&&(t.ctrlKey||t.metaKey);this.debugService.openOrRevealSource(e.source,e.lineNumber,i,n).done(null,c.onUnexpectedError)},t}(P);t.CallStackController=N;var F=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return n.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return t instanceof S.Thread},e.prototype.getSecondaryActions=function(e,t){var i=[],o=t;return o.stopped?(i.push(this.instantiationService.createInstance(_.ContinueAction,_.ContinueAction.ID,_.ContinueAction.LABEL)),i.push(this.instantiationService.createInstance(_.StepOverDebugAction,_.StepOverDebugAction.ID,_.StepOverDebugAction.LABEL)),i.push(this.instantiationService.createInstance(_.StepIntoDebugAction,_.StepIntoDebugAction.ID,_.StepIntoDebugAction.LABEL)),i.push(this.instantiationService.createInstance(_.StepOutDebugAction,_.StepOutDebugAction.ID,_.StepOutDebugAction.LABEL))):i.push(this.instantiationService.createInstance(_.PauseAction,_.PauseAction.ID,_.PauseAction.LABEL)),n.TPromise.as(i)},e.prototype.getActionItem=function(e,t,i){return null},e=g([m(0,w.IInstantiationService)],e)}();t.CallStackActionProvider=F;var W=function(){function e(e){this.debugService=e}return e.prototype.getId=function(e,t){return"number"==typeof t?t.toString():"string"==typeof t?t:t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof S.Model||t instanceof S.Thread&&t.stopped},e.prototype.getChildren=function(e,t){if(t instanceof S.Thread)return this.getThreadChildren(t);var i=t.getThreads();return n.TPromise.as(Object.keys(i).map(function(e){return i[e]}))},e.prototype.getThreadChildren=function(e){return e.getCallStack(this.debugService).then(function(t){return e.stoppedDetails.framesErrorMessage?t.concat([e.stoppedDetails.framesErrorMessage]):e.stoppedDetails&&e.stoppedDetails.totalFrames>t.length?t.concat([e.threadId]):t})},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e=g([m(0,E.IDebugService)],e)}();t.CallStackDataSource=W;var B=function(){function e(e){this.contextService=e}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,i){return i instanceof S.Thread?e.THREAD_TEMPLATE_ID:i instanceof S.StackFrame?e.STACK_FRAME_TEMPLATE_ID:"string"==typeof i?e.ERROR_TEMPLATE_ID:e.LOAD_MORE_TEMPLATE_ID},e.prototype.renderTemplate=function(t,i,n){if(i===e.LOAD_MORE_TEMPLATE_ID){var o=Object.create(null);return o.label=d.append(n,x(".load-more")),o}if(i===e.ERROR_TEMPLATE_ID){var r=Object.create(null);return r.label=d.append(n,x(".error")),r}if(i===e.THREAD_TEMPLATE_ID){var s=Object.create(null);return s.thread=d.append(n,x(".thread")),s.name=d.append(s.thread,x(".name")),s.state=d.append(s.thread,x(".state")),s.stateLabel=d.append(s.state,x("span.label")),s}var a=Object.create(null);return a.stackFrame=d.append(n,x(".stack-frame")),a.label=d.append(a.stackFrame,x("span.label")),a.file=d.append(a.stackFrame,x(".file")),a.fileName=d.append(a.file,x("span.file-name")),a.lineNumber=d.append(a.file,x("span.line-number")),a},e.prototype.renderElement=function(t,i,n,o){n===e.THREAD_TEMPLATE_ID?this.renderThread(i,o):n===e.STACK_FRAME_TEMPLATE_ID?this.renderStackFrame(i,o):n===e.ERROR_TEMPLATE_ID?this.renderError(i,o):this.renderLoadMore(i,o)},e.prototype.renderThread=function(e,t){t.thread.title=i.localize(0,null),t.name.textContent=e.name,t.stateLabel.textContent=e.stopped?i.localize(1,null):i.localize(2,null)},e.prototype.renderError=function(e,t){t.label.textContent=e,t.label.title=e},e.prototype.renderLoadMore=function(e,t){t.label.textContent=i.localize(3,null)},e.prototype.renderStackFrame=function(e,t){e.source.available?d.removeClass(t.stackFrame,"disabled"):d.addClass(t.stackFrame,"disabled"),t.file.title=e.source.uri.fsPath,t.label.textContent=e.name,t.label.title=e.name,t.fileName.textContent=k(e.source,this.contextService),e.source.available&&void 0!==e.lineNumber?(t.lineNumber.textContent=""+e.lineNumber,d.removeClass(t.lineNumber,"unavailable")):d.addClass(t.lineNumber,"unavailable")},e.prototype.disposeTemplate=function(e,t,i){},e.THREAD_TEMPLATE_ID="thread",e.STACK_FRAME_TEMPLATE_ID="stackFrame",e.ERROR_TEMPLATE_ID="error",e.LOAD_MORE_TEMPLATE_ID="loadMore",e=g([m(0,I.IWorkspaceContextService)],e)}();t.CallStackRenderer=B;var K=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){return t instanceof S.Thread?i.localize(4,null,t.name):t instanceof S.StackFrame?i.localize(5,null,t.name,t.lineNumber,k(t.source,this.contextService)):null},e=g([m(0,I.IWorkspaceContextService)],e)}();t.CallstackAccessibilityProvider=K;var V=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return n.TPromise.as([])},e.prototype.hasSecondaryActions=function(e,t){return t instanceof S.Variable},e.prototype.getSecondaryActions=function(e,t){var i=[],o=t;return 0===o.reference&&(i.push(this.instantiationService.createInstance(_.SetValueAction,_.SetValueAction.ID,_.SetValueAction.LABEL,o)),i.push(this.instantiationService.createInstance(_.CopyValueAction,_.CopyValueAction.ID,_.CopyValueAction.LABEL,o)),i.push(new f.Separator)),i.push(this.instantiationService.createInstance(_.AddToWatchExpressionsAction,_.AddToWatchExpressionsAction.ID,_.AddToWatchExpressionsAction.LABEL,o)),n.TPromise.as(i)},e.prototype.getActionItem=function(e,t,i){return null},e}();t.VariablesActionProvider=V;var H=function(){function e(e){this.debugService=e}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof b.ViewModel||t instanceof S.Scope)return!0;var i=t;return 0!==i.reference&&!u.equalsIgnoreCase(i.value,"null")},e.prototype.getChildren=function(e,t){if(t instanceof b.ViewModel){var i=t.getFocusedStackFrame();return i?i.getScopes(this.debugService):n.TPromise.as([])}var o=t;return o.getChildren(this.debugService)},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.VariablesDataSource=H;var z=function(){function e(e,t){this.debugService=e,this.contextViewService=t}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,i){return i instanceof S.Scope?e.SCOPE_TEMPLATE_ID:i instanceof S.Variable?e.VARIABLE_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,i,n){if(i===e.SCOPE_TEMPLATE_ID){var o=Object.create(null);return o.name=d.append(n,x(".scope")),o}var r=Object.create(null);return r.expression=d.append(n,x(l.isMacintosh?".expression.mac":".expression.win-linux")),r.name=d.append(r.expression,x("span.name")),r.value=d.append(r.expression,x("span.value")),r},e.prototype.renderElement=function(t,n,o,r){if(o===e.SCOPE_TEMPLATE_ID)this.renderScope(n,r);else{var s=n;s===this.debugService.getViewModel().getSelectedExpression()||s.errorMessage?D(this.debugService,this.contextViewService,t,s,r.expression,{initialValue:s.value,ariaLabel:i.localize(6,null),validationOptions:{validation:function(e){return s.errorMessage?{content:s.errorMessage}:null}}}):L(t,s,r,!0)}},e.prototype.renderScope=function(e,t){t.name.textContent=e.name},e.prototype.disposeTemplate=function(e,t,i){},e.SCOPE_TEMPLATE_ID="scope",e.VARIABLE_TEMPLATE_ID="variable",e=g([m(0,E.IDebugService),m(1,C.IContextViewService)],e)}();t.VariablesRenderer=z;var U=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof S.Scope?i.localize(7,null,t.name):t instanceof S.Variable?i.localize(8,null,t.name,t.value):null},e}();t.VariablesAccessibilityProvider=U;var G=function(e){function t(t,i,n){e.call(this,t,i,n),this.downKeyBindingDispatcher.set(r.CommonKeybindings.ENTER,this.setSelectedExpression.bind(this))}return h(t,e),t.prototype.onLeftClick=function(t,i,n){if(i instanceof S.Variable&&2===n.detail){var o=i;return 0===o.reference&&this.debugService.getViewModel().setSelectedExpression(o),!0}return e.prototype.onLeftClick.call(this,t,i,n)},t.prototype.setSelectedExpression=function(e,t){var i=e.getFocus();return i instanceof S.Variable&&0===i.reference&&(this.debugService.getViewModel().setSelectedExpression(i),
!0)},t}(P);t.VariablesController=G;var j=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return t instanceof S.Expression&&t.name},e.prototype.hasSecondaryActions=function(e,t){return!0},e.prototype.getActions=function(e,t){return n.TPromise.as(this.getExpressionActions())},e.prototype.getExpressionActions=function(){return[this.instantiationService.createInstance(_.RemoveWatchExpressionAction,_.RemoveWatchExpressionAction.ID,_.RemoveWatchExpressionAction.LABEL)]},e.prototype.getSecondaryActions=function(e,t){var i=[];if(t instanceof S.Expression){var o=t;i.push(this.instantiationService.createInstance(_.AddWatchExpressionAction,_.AddWatchExpressionAction.ID,_.AddWatchExpressionAction.LABEL)),i.push(this.instantiationService.createInstance(_.RenameWatchExpressionAction,_.RenameWatchExpressionAction.ID,_.RenameWatchExpressionAction.LABEL,o)),0===o.reference&&i.push(this.instantiationService.createInstance(_.CopyValueAction,_.CopyValueAction.ID,_.CopyValueAction.LABEL,o.value)),i.push(new f.Separator),i.push(this.instantiationService.createInstance(_.RemoveWatchExpressionAction,_.RemoveWatchExpressionAction.ID,_.RemoveWatchExpressionAction.LABEL)),i.push(this.instantiationService.createInstance(_.RemoveAllWatchExpressionsAction,_.RemoveAllWatchExpressionsAction.ID,_.RemoveAllWatchExpressionsAction.LABEL))}else{if(i.push(this.instantiationService.createInstance(_.AddWatchExpressionAction,_.AddWatchExpressionAction.ID,_.AddWatchExpressionAction.LABEL)),t instanceof S.Variable){var r=t;0===r.reference&&i.push(this.instantiationService.createInstance(_.CopyValueAction,_.CopyValueAction.ID,_.CopyValueAction.LABEL,r.value)),i.push(new f.Separator)}i.push(this.instantiationService.createInstance(_.RemoveAllWatchExpressionsAction,_.RemoveAllWatchExpressionsAction.ID,_.RemoveAllWatchExpressionsAction.LABEL))}return n.TPromise.as(i)},e.prototype.getActionItem=function(e,t,i){return null},e}();t.WatchExpressionsActionProvider=j;var q=function(){function e(e){this.debugService=e}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){if(t instanceof S.Model)return!0;var i=t;return 0!==i.reference&&!u.equalsIgnoreCase(i.value,"null")},e.prototype.getChildren=function(e,t){if(t instanceof S.Model)return n.TPromise.as(t.getWatchExpressions());var i=t;return i.getChildren(this.debugService)},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.WatchExpressionsDataSource=q;var Y=function(){function e(e,t,i,n,o){this.actionRunner=t,this.messageService=i,this.debugService=n,this.contextViewService=o,this.toDispose=[],this.actionProvider=e}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,i){return i instanceof S.Expression?e.WATCH_EXPRESSION_TEMPLATE_ID:e.VARIABLE_TEMPLATE_ID},e.prototype.renderTemplate=function(t,i,n){var o=Object.create(null);return i===e.WATCH_EXPRESSION_TEMPLATE_ID&&(o.actionBar=new f.ActionBar(n,{actionRunner:this.actionRunner}),o.actionBar.push(this.actionProvider.getExpressionActions(),{icon:!0,label:!1})),o.expression=d.append(n,x(l.isMacintosh?".expression.mac":".expression.win-linux")),o.name=d.append(o.expression,x("span.name")),o.value=d.append(o.expression,x("span.value")),o},e.prototype.renderElement=function(t,i,n,o){n===e.WATCH_EXPRESSION_TEMPLATE_ID?this.renderWatchExpression(t,i,o):L(t,i,o,!0)},e.prototype.renderWatchExpression=function(e,t,n){var o=this.debugService.getViewModel().getSelectedExpression();(o instanceof S.Expression&&o.getId()===t.getId()||t instanceof S.Expression&&!t.name)&&D(this.debugService,this.contextViewService,e,t,n.expression,{initialValue:t.name,placeholder:i.localize(9,null),ariaLabel:i.localize(10,null)}),n.actionBar.context=t,n.name.textContent=t.name+":",t.value&&(A(t,n.value,!0,O),n.expression.title=t.value)},e.prototype.disposeTemplate=function(t,i,n){i===e.WATCH_EXPRESSION_TEMPLATE_ID&&n.actionBar.dispose()},e.prototype.dispose=function(){this.toDispose=o.dispose(this.toDispose)},e.WATCH_EXPRESSION_TEMPLATE_ID="watchExpression",e.VARIABLE_TEMPLATE_ID="variables",e=g([m(2,T.IMessageService),m(3,E.IDebugService),m(4,C.IContextViewService)],e)}();t.WatchExpressionsRenderer=Y;var $=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof S.Expression?i.localize(11,null,t.name,t.value):t instanceof S.Variable?i.localize(12,null,t.name,t.value):null},e}();t.WatchExpressionsAccessibilityProvider=$;var X=function(e){function t(t,i,n){e.call(this,t,i,n),l.isMacintosh?this.downKeyBindingDispatcher.set(r.CommonKeybindings.ENTER,this.onRename.bind(this)):this.downKeyBindingDispatcher.set(r.CommonKeybindings.F2,this.onRename.bind(this))}return h(t,e),t.prototype.onLeftClick=function(t,i,n){if(i instanceof S.Expression&&2===n.detail){var o=i;return 0===o.reference&&this.debugService.getViewModel().setSelectedExpression(o),!0}return e.prototype.onLeftClick.call(this,t,i,n)},t.prototype.onRename=function(e,t){var i=e.getFocus();if(i instanceof S.Expression){var n=i;return 0===n.reference&&this.debugService.getViewModel().setSelectedExpression(n),!0}return!1},t.prototype.onDelete=function(e,t){var i=e.getFocus();if(i instanceof S.Expression){var n=i;return this.debugService.removeWatchExpressions(n.getId()),!0}return!1},t}(P);t.WatchExpressionsController=X;var Q=function(){function e(e){this.instantiationService=e}return e.prototype.hasActions=function(e,t){return t instanceof S.Breakpoint},e.prototype.hasSecondaryActions=function(e,t){return t instanceof S.Breakpoint||t instanceof S.ExceptionBreakpoint||t instanceof S.FunctionBreakpoint},e.prototype.getActions=function(e,t){return t instanceof S.Breakpoint?n.TPromise.as(this.getBreakpointActions()):n.TPromise.as([])},e.prototype.getBreakpointActions=function(){return[this.instantiationService.createInstance(_.RemoveBreakpointAction,_.RemoveBreakpointAction.ID,_.RemoveBreakpointAction.LABEL)]},e.prototype.getSecondaryActions=function(e,t){var i=[this.instantiationService.createInstance(_.ToggleEnablementAction,_.ToggleEnablementAction.ID,_.ToggleEnablementAction.LABEL)];return i.push(new f.Separator),(t instanceof S.Breakpoint||t instanceof S.FunctionBreakpoint)&&i.push(this.instantiationService.createInstance(_.RemoveBreakpointAction,_.RemoveBreakpointAction.ID,_.RemoveBreakpointAction.LABEL)),i.push(this.instantiationService.createInstance(_.RemoveAllBreakpointsAction,_.RemoveAllBreakpointsAction.ID,_.RemoveAllBreakpointsAction.LABEL)),i.push(new f.Separator),i.push(this.instantiationService.createInstance(_.ToggleBreakpointsActivatedAction,_.ToggleBreakpointsActivatedAction.ID,_.ToggleBreakpointsActivatedAction.LABEL)),i.push(new f.Separator),i.push(this.instantiationService.createInstance(_.EnableAllBreakpointsAction,_.EnableAllBreakpointsAction.ID,_.EnableAllBreakpointsAction.LABEL)),i.push(this.instantiationService.createInstance(_.DisableAllBreakpointsAction,_.DisableAllBreakpointsAction.ID,_.DisableAllBreakpointsAction.LABEL)),i.push(new f.Separator),i.push(this.instantiationService.createInstance(_.AddFunctionBreakpointAction,_.AddFunctionBreakpointAction.ID,_.AddFunctionBreakpointAction.LABEL)),t instanceof S.FunctionBreakpoint&&i.push(this.instantiationService.createInstance(_.RenameFunctionBreakpointAction,_.RenameFunctionBreakpointAction.ID,_.RenameFunctionBreakpointAction.LABEL)),i.push(new f.Separator),i.push(this.instantiationService.createInstance(_.ReapplyBreakpointsAction,_.ReapplyBreakpointsAction.ID,_.ReapplyBreakpointsAction.LABEL)),n.TPromise.as(i)},e.prototype.getActionItem=function(e,t,i){return null},e}();t.BreakpointsActionProvider=Q;var Z=function(){function e(){}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof S.Model},e.prototype.getChildren=function(e,t){var i=t,o=i.getExceptionBreakpoints();return n.TPromise.as(o.concat(i.getFunctionBreakpoints()).concat(i.getBreakpoints()))},e.prototype.getParent=function(e,t){return n.TPromise.as(null)},e}();t.BreakpointsDataSource=Z;var J=function(){function e(e,t,i,n,o,r){this.actionProvider=e,this.actionRunner=t,this.messageService=i,this.contextService=n,this.debugService=o,this.contextViewService=r}return e.prototype.getHeight=function(e,t){return 22},e.prototype.getTemplateId=function(t,i){return i instanceof S.Breakpoint?e.BREAKPOINT_TEMPLATE_ID:i instanceof S.FunctionBreakpoint?e.FUNCTION_BREAKPOINT_TEMPLATE_ID:i instanceof S.ExceptionBreakpoint?e.EXCEPTION_BREAKPOINT_TEMPLATE_ID:null},e.prototype.renderTemplate=function(t,i,n){var o=Object.create(null);return i!==e.BREAKPOINT_TEMPLATE_ID&&i!==e.FUNCTION_BREAKPOINT_TEMPLATE_ID||(o.actionBar=new f.ActionBar(n,{actionRunner:this.actionRunner}),o.actionBar.push(this.actionProvider.getBreakpointActions(),{icon:!0,label:!1})),o.breakpoint=d.append(n,x(".breakpoint")),o.toDisposeBeforeRender=[],o.checkbox=x("input"),o.checkbox.type="checkbox",l.isMacintosh||(o.checkbox.className="checkbox-win-linux"),d.append(o.breakpoint,o.checkbox),o.name=d.append(o.breakpoint,x("span.name")),i===e.BREAKPOINT_TEMPLATE_ID&&(o.lineNumber=d.append(o.breakpoint,x("span.line-number")),o.filePath=d.append(o.breakpoint,x("span.file-path"))),o},e.prototype.renderElement=function(t,i,n,r){var s=this;r.toDisposeBeforeRender=o.dispose(r.toDisposeBeforeRender),r.toDisposeBeforeRender.push(d.addStandardDisposableListener(r.checkbox,"change",function(e){s.debugService.enableOrDisableBreakpoints(!i.enabled,i)})),n===e.EXCEPTION_BREAKPOINT_TEMPLATE_ID?this.renderExceptionBreakpoint(i,r):n===e.FUNCTION_BREAKPOINT_TEMPLATE_ID?this.renderFunctionBreakpoint(t,i,r):this.renderBreakpoint(t,i,r)},e.prototype.renderExceptionBreakpoint=function(e,t){t.name.textContent=e.label||e.filter+" exceptions",t.checkbox.checked=e.enabled},e.prototype.renderFunctionBreakpoint=function(e,t,n){var o=this.debugService.getViewModel().getSelectedFunctionBreakpoint();!t.name||o&&o.getId()===t.getId()?D(this.debugService,this.contextViewService,e,t,n.breakpoint,{initialValue:t.name,placeholder:i.localize(13,null),ariaLabel:i.localize(14,null)}):(this.debugService.getModel().areBreakpointsActivated()?e.removeTraits("disabled",[t]):e.addTraits("disabled",[t]),n.name.textContent=t.name,n.checkbox.checked=t.enabled),n.actionBar.context=t},e.prototype.renderBreakpoint=function(e,t,i){this.debugService.getModel().areBreakpointsActivated()?e.removeTraits("disabled",[t]):e.addTraits("disabled",[t]),i.name.textContent=p.getPathLabel(s.basename(t.source.uri.fsPath),this.contextService),i.lineNumber.textContent=t.desiredLineNumber!==t.lineNumber?t.desiredLineNumber+" → "+t.lineNumber:""+t.lineNumber,i.filePath.textContent=p.getPathLabel(s.dirname(t.source.uri.fsPath),this.contextService),i.checkbox.checked=t.enabled,i.actionBar.context=t;var n=this.debugService.state===E.State.Running||this.debugService.state===E.State.Stopped||this.debugService.state===E.State.Initializing;n&&!t.verified?(e.addTraits("disabled",[t]),t.message&&(i.breakpoint.title=t.message)):t.condition&&(i.breakpoint.title=t.condition)},e.prototype.disposeTemplate=function(t,i,n){i!==e.BREAKPOINT_TEMPLATE_ID&&i!==e.FUNCTION_BREAKPOINT_TEMPLATE_ID||n.actionBar.dispose()},e.EXCEPTION_BREAKPOINT_TEMPLATE_ID="exceptionBreakpoint",e.FUNCTION_BREAKPOINT_TEMPLATE_ID="functionBreakpoint",e.BREAKPOINT_TEMPLATE_ID="breakpoint",e=g([m(2,T.IMessageService),m(3,I.IWorkspaceContextService),m(4,E.IDebugService),m(5,C.IContextViewService)],e)}();t.BreakpointsRenderer=J;var ee=function(){function e(e){this.contextService=e}return e.prototype.getAriaLabel=function(e,t){return t instanceof S.Breakpoint?i.localize(15,null,t.lineNumber,k(t.source,this.contextService)):t instanceof S.FunctionBreakpoint?i.localize(16,null,t.name):t instanceof S.ExceptionBreakpoint?i.localize(17,null,t.filter):null},e=g([m(0,I.IWorkspaceContextService)],e)}();t.BreakpointsAccessibilityProvider=ee;var te=function(e){function t(t,i,n){e.call(this,t,i,n),l.isMacintosh?this.downKeyBindingDispatcher.set(r.CommonKeybindings.ENTER,this.onRename.bind(this)):this.downKeyBindingDispatcher.set(r.CommonKeybindings.F2,this.onRename.bind(this))}return h(t,e),t.prototype.onLeftClick=function(t,i,n){return i instanceof S.FunctionBreakpoint&&2===n.detail?(this.debugService.getViewModel().setSelectedFunctionBreakpoint(i),!0):(i instanceof S.Breakpoint&&this.openBreakpointSource(i,n,!0),e.prototype.onLeftClick.call(this,t,i,n))},t.prototype.onRename=function(t,i){var n=t.getFocus();return n instanceof S.FunctionBreakpoint&&n.name?(this.debugService.getViewModel().setSelectedFunctionBreakpoint(n),!0):(n instanceof S.Breakpoint&&this.openBreakpointSource(n,i,!1),e.prototype.onEnter.call(this,t,i))},t.prototype.onSpace=function(t,i){e.prototype.onSpace.call(this,t,i);var n=t.getFocus();return this.debugService.enableOrDisableBreakpoints(!n.enabled,n).done(null,c.onUnexpectedError),!0},t.prototype.onDelete=function(e,t){var i=e.getFocus();if(i instanceof S.Breakpoint)return this.debugService.removeBreakpoints(i.getId()).done(null,c.onUnexpectedError),!0;if(i instanceof S.FunctionBreakpoint){var n=i;return this.debugService.removeFunctionBreakpoints(n.getId()).done(null,c.onUnexpectedError),!0}return!1},t.prototype.openBreakpointSource=function(e,t,i){if(!e.source.inMemory){var n=t&&(t.ctrlKey||t.metaKey);this.debugService.openOrRevealSource(e.source,e.lineNumber,i,n).done(null,c.onUnexpectedError)}},t}(P);t.BreakpointsController=te}),define(l[953],d([1,0,5,2,7,13,10,508,119,81,53,154,301]),function(e,t,i,n,o,r,s,a,c,u,l,d,p){"use strict";var f=s.emmet,g={indentPixels:6,twistiePixels:15,ariaLabel:a.localize(0,null)},m=18,v=4096,y=function(){function e(e,t,i){this.editor=e,this.debugService=t,this.instantiationService=i,this.allowEditorOverflow=!0,this.domNode=f(".debug-hover-widget monaco-editor-background"),this.complexValueContainer=s.append(this.domNode,f(".complex-value")),this.complexValueTitle=s.append(this.complexValueContainer,f(".title")),this.treeContainer=s.append(this.complexValueContainer,f(".debug-hover-tree")),this.treeContainer.setAttribute("role","tree"),this.tree=new c.Tree(this.treeContainer,{dataSource:new p.VariablesDataSource(this.debugService),renderer:this.instantiationService.createInstance(S),controller:new E(e)},g),this.toDispose=[],this.registerListeners(),this.valueContainer=s.append(this.domNode,f(".value")),this.valueContainer.tabIndex=0,this.valueContainer.setAttribute("role","tooltip"),this.isVisible=!1,this.showAtPosition=null,this.highlightDecorations=[],this.editor.addContentWidget(this),this.editor.applyFontInfo(this.domNode)}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.tree.addListener2("item:expanded",function(){e.layoutTree()})),this.toDispose.push(this.tree.addListener2("item:collapsed",function(){e.layoutTree()})),this.toDispose.push(s.addStandardDisposableListener(this.domNode,"keydown",function(t){t.equals(r.CommonKeybindings.ESCAPE)&&e.hide()})),this.toDispose.push(this.editor.onDidChangeConfiguration(function(t){t.fontInfo&&e.editor.applyFontInfo(e.domNode)}))},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.showAt=function(e,t,i){var n=this,o=e.getStartPosition(),r=this.editor.getModel(),s=this.debugService.getViewModel().getFocusedStackFrame();if(t&&s&&s.source.uri.toString()===r.uri.toString()){var a=r.getLineContent(o.lineNumber),c=a.substring(0,a.indexOf("."+t)).split(".").map(function(e){return e.trim()}).filter(function(e){return!!e});return c.push(t),c[0]=c[0].substring(c[0].lastIndexOf(" ")+1),this.getExpression(c).then(function(e){return e&&e.available?(n.highlightDecorations=n.editor.deltaDecorations(n.highlightDecorations,[{range:{startLineNumber:o.lineNumber,endLineNumber:o.lineNumber,startColumn:a.indexOf(t)+1,endColumn:a.indexOf(t)+1+t.length},options:{className:"hoverHighlight"}}]),n.doShow(o,e,i)):void n.hide()})}},e.prototype.getExpression=function(e){var t=this,i=this.debugService.getActiveSession(),r=this.debugService.getViewModel().getFocusedStackFrame();if(i.configuration.capabilities.supportsEvaluateForHovers)return d.evaluateExpression(i,r,new d.Expression(e.join("."),(!0)),"hover");var s=[];return r.getScopes(this.debugService).then(function(i){return i.reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!e.expensive}).map(function(i){return i.getChildren(t.debugService).done(function(i){for(var n=0;n<e.length&&i;n++){var o=i.filter(function(t){return"string"==typeof t.name&&(e[n]===t.name||e[n]===t.name.substr(t.name.lastIndexOf(" ")+1))});if(1!==o.length)break;n===e.length-1?s.push(o[0]):o[0].getChildren(t.debugService).done(function(e){return i=e},i=null)}},o.onUnexpectedError)})}).then(function(){return 1===s.length?n.TPromise.as(s[0]):n.TPromise.as(null)})},e.prototype.doShow=function(e,t,i,o){var r=this;return void 0===o&&(o=!1),this.showAtPosition=e,this.isVisible=!0,this.stoleFocus=i,0===t.reference||o?(this.complexValueContainer.hidden=!0,this.valueContainer.hidden=!1,p.renderExpressionValue(t,this.valueContainer,!1,v),this.valueContainer.title="",this.editor.layoutContentWidget(this),i&&(this.editor.render(),this.valueContainer.focus()),n.TPromise.as(null)):(this.valueContainer.hidden=!0,this.complexValueContainer.hidden=!1,this.tree.setInput(t).then(function(){r.complexValueTitle.textContent=t.value,r.complexValueTitle.title=t.value,r.layoutTree(),r.editor.layoutContentWidget(r),i&&(r.editor.render(),r.tree.DOMFocus())}))},e.prototype.layoutTree=function(){for(var e=this.tree.getNavigator(),t=0;e.next();)t++;if(0===t)this.doShow(this.showAtPosition,this.tree.getInput(),!1,!0);else{var i=18*Math.min(t,m);this.treeContainer.clientHeight!==i&&(this.treeContainer.style.height=i+"px",this.tree.layout())}},e.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this.editor.deltaDecorations(this.highlightDecorations,[]),this.highlightDecorations=[],this.editor.layoutContentWidget(this),this.stoleFocus&&this.editor.focus())},e.prototype.getPosition=function(){return this.isVisible?{position:this.showAtPosition,preference:[l.ContentWidgetPositionPreference.ABOVE,l.ContentWidgetPositionPreference.BELOW]}:null},e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)},e.ID="debug.hoverWidget",e}();t.DebugHoverWidget=y;var E=function(e){function t(t){e.call(this),this.editor=t}return h(t,e),t.prototype.onLeftClick=function(t,i,n,o){return void 0===o&&(o="mouse"),i.reference>0&&(e.prototype.onLeftClick.call(this,t,i,n,o),t.clearFocus(),t.deselect(i),this.editor.focus()),!0},t}(u.DefaultController),S=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getHeight=function(e,t){return 18},t}(p.VariablesRenderer)}),define(l[954],d([1,0,510,25,10,31,2,7,66,63,119,151,71,101,154,301,137,51,6,21,18,20]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w){"use strict";function I(e){var t=document.createElement("div");return o.addClass(t,"debug-view-content"),e.appendChild(t),t}var T=f.IDebugService,A=function(e){return{indentPixels:8,twistiePixels:20,ariaLabel:e}},L=r.$,D=function(e){function t(n,o,r,s,a,c,u,l){e.call(this,n,!!o[t.MEMENTO],i.localize(0,null),r,u,s),this.settings=o,this.telemetryService=a,this.debugService=c,this.instantiationService=l}return h(t,e),t.prototype.renderHeader=function(t){var n=L("div.title").appendTo(t);L("span").text(i.localize(1,null)).appendTo(n),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-variables"),this.treeContainer=I(e),this.tree=new l.Tree(this.treeContainer,{dataSource:new y.VariablesDataSource(this.debugService),renderer:this.instantiationService.createInstance(y.VariablesRenderer),accessibilityProvider:new y.VariablesAccessibilityProvider,controller:new y.VariablesController(this.debugService,this.contextMenuService,new y.VariablesActionProvider(this.instantiationService))},A(i.localize(2,null)));var n=this.debugService.getViewModel();this.tree.setInput(n);var r=this.instantiationService.createInstance(p.CollapseAction,this.tree,!1,"explorer-action collapse-explorer");this.toolBar.setActions(u.prepareActions([r]))(),this.toDispose.push(n.onDidFocusStackFrame(function(e){return t.onFocusStackFrame(e)})),this.toDispose.push(this.debugService.onDidChangeState(function(e){r.enabled=e===f.State.Running||e===f.State.Stopped})),this.toDispose.push(this.tree.addListener2(c.EventType.FOCUS,function(e){var i=e.payload&&"mouse"===e.payload.origin,n=e.focus instanceof v.Variable;i&&n&&t.telemetryService.publicLog("debug/variables/selected")})),this.toDispose.push(this.debugService.getViewModel().onDidSelectExpression(function(e){e&&e instanceof v.Variable&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeDisposableListener(c.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedExpression(null)})}).done(null,a.onUnexpectedError)}))},t.prototype.onFocusStackFrame=function(e){var t=this;this.tree.refresh().then(function(){if(e)return e.getScopes(t.debugService).then(function(e){if(e.length>0&&!e[0].expensive)return t.tree.expand(e[0])})}).done(null,a.onUnexpectedError)},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===d.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO="variablesview.memento",t=g([m(2,C.IMessageService),m(3,S.IContextMenuService),m(4,_.ITelemetryService),m(5,T),m(6,w.IKeybindingService),m(7,b.IInstantiationService)],t)}(p.CollapsibleViewletView);t.VariablesView=D;var k=function(e){function t(n,o,r,s,a,c,u){var l=this;e.call(this,n,!!o[t.MEMENTO],i.localize(3,null),r,c,s),this.settings=o,this.debugService=a,this.instantiationService=u,this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(e){e instanceof v.Expression&&l.expand()}))}return h(t,e),t.prototype.renderHeader=function(t){var n=L("div.title").appendTo(t);L("span").text(i.localize(4,null)).appendTo(n),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-watch"),this.treeContainer=I(e);var n=new y.WatchExpressionsActionProvider(this.instantiationService);this.tree=new l.Tree(this.treeContainer,{dataSource:new y.WatchExpressionsDataSource(this.debugService),renderer:this.instantiationService.createInstance(y.WatchExpressionsRenderer,n,this.actionRunner),accessibilityProvider:new y.WatchExpressionsAccessibilityProvider,controller:new y.WatchExpressionsController(this.debugService,this.contextMenuService,n)},A(i.localize(5,null))),this.tree.setInput(this.debugService.getModel());var r=this.instantiationService.createInstance(E.AddWatchExpressionAction,E.AddWatchExpressionAction.ID,E.AddWatchExpressionAction.LABEL),s=this.instantiationService.createInstance(p.CollapseAction,this.tree,!1,"explorer-action collapse-explorer"),d=this.instantiationService.createInstance(E.RemoveAllWatchExpressionsAction,E.RemoveAllWatchExpressionsAction.ID,E.RemoveAllWatchExpressionsAction.LABEL);this.toolBar.setActions(u.prepareActions([r,s,d]))(),this.toDispose.push(this.debugService.getModel().onDidChangeWatchExpressions(function(e){return t.onWatchExpressionsUpdated(e)})),this.toDispose.push(this.debugService.getViewModel().onDidSelectExpression(function(e){e&&e instanceof v.Expression&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeDisposableListener(c.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedExpression(null)})}).done(null,a.onUnexpectedError)}))},t.prototype.onWatchExpressionsUpdated=function(e){var t=this;this.tree.refresh().done(function(){return e instanceof v.Expression?t.tree.reveal(e):s.TPromise.as(!0)},a.onUnexpectedError)},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===d.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO="watchexpressionsview.memento",t=g([m(2,C.IMessageService),m(3,S.IContextMenuService),m(4,T),m(5,w.IKeybindingService),m(6,b.IInstantiationService)],t)}(p.CollapsibleViewletView);t.WatchExpressionsView=k;var x=function(e){function t(n,o,r,s,a,c,u,l){e.call(this,n,!!o[t.MEMENTO],i.localize(6,null),r,u,s),this.settings=o,this.telemetryService=a,this.debugService=c,this.instantiationService=l}return h(t,e),t.prototype.renderHeader=function(t){var n=L("div.debug-call-stack-title").appendTo(t);L("span.title").text(i.localize(7,null)).appendTo(n),this.pauseMessage=L("span.pause-message").appendTo(n),this.pauseMessage.hide(),this.pauseMessageLabel=L("span.label").appendTo(this.pauseMessage),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-call-stack"),this.treeContainer=I(e);var n=this.instantiationService.createInstance(y.CallStackActionProvider);this.tree=new l.Tree(this.treeContainer,{dataSource:this.instantiationService.createInstance(y.CallStackDataSource),renderer:this.instantiationService.createInstance(y.CallStackRenderer),accessibilityProvider:this.instantiationService.createInstance(y.CallstackAccessibilityProvider),controller:new y.CallStackController(this.debugService,this.contextMenuService,n)},A(i.localize(8,null))),this.toDispose.push(this.tree.addListener2(c.EventType.FOCUS,function(e){var i=e.payload&&"mouse"===e.payload.origin,n=e.focus instanceof v.StackFrame;i&&n&&t.telemetryService.publicLog("debug/callStack/selected")}));var r=this.debugService.getModel();this.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(function(){var e=r.getThreads()[t.debugService.getViewModel().getFocusedThreadId()];return e?t.tree.expand(e).then(function(){var n=t.debugService.getViewModel().getFocusedStackFrame();return t.tree.setSelection([n]),e.stoppedDetails&&e.stoppedDetails.reason?(t.pauseMessageLabel.text(i.localize(9,null,e.stoppedDetails.reason)),e.stoppedDetails.text&&t.pauseMessageLabel.title(e.stoppedDetails.text),"exception"===e.stoppedDetails.reason?t.pauseMessageLabel.addClass("exception"):t.pauseMessageLabel.removeClass("exception"),t.pauseMessage.show()):t.pauseMessage.hide(),t.tree.reveal(n)}):void t.pauseMessage.hide()})),this.toDispose.push(r.onDidChangeCallStack(function(){var e=r.getThreads(),i=Object.keys(e).map(function(t){return e[t]}),n=1===i.length?i[0]:r;t.tree.getInput()===n?t.tree.refresh().done(null,a.onUnexpectedError):t.tree.setInput(n).done(null,a.onUnexpectedError)}))},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===d.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO="callstackview.memento",t=g([m(2,C.IMessageService),m(3,S.IContextMenuService),m(4,_.ITelemetryService),m(5,T),m(6,w.IKeybindingService),m(7,b.IInstantiationService)],t)}(p.CollapsibleViewletView);t.CallStackView=x;var M=function(e){function t(n,o,r,s,a,c,u){var l=this;e.call(this,n,t.getExpandedBodySize(a.getModel().getBreakpoints().length+a.getModel().getFunctionBreakpoints().length+a.getModel().getExceptionBreakpoints().length),!!o[t.MEMENTO],i.localize(10,null),r,c,s),this.settings=o,this.debugService=a,this.instantiationService=u,this.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(function(){return l.onBreakpointsChange()}))}return h(t,e),t.prototype.renderHeader=function(t){var n=L("div.title").appendTo(t);L("span").text(i.localize(11,null)).appendTo(n),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(e){var t=this;o.addClass(e,"debug-breakpoints"),this.treeContainer=I(e);var r=new y.BreakpointsActionProvider(this.instantiationService);this.tree=new l.Tree(this.treeContainer,{dataSource:new y.BreakpointsDataSource,renderer:this.instantiationService.createInstance(y.BreakpointsRenderer,r,this.actionRunner),accessibilityProvider:this.instantiationService.createInstance(y.BreakpointsAccessibilityProvider),controller:new y.BreakpointsController(this.debugService,this.contextMenuService,r),sorter:{compare:function(e,t,i){var o=t,r=i;return o instanceof v.ExceptionBreakpoint?-1:r instanceof v.ExceptionBreakpoint?1:o instanceof v.FunctionBreakpoint?-1:r instanceof v.FunctionBreakpoint?1:o.source.uri.toString()!==r.source.uri.toString()?n.basename(o.source.uri.fsPath).localeCompare(n.basename(r.source.uri.fsPath)):o.desiredLineNumber-r.desiredLineNumber}}},A(i.localize(12,null)));var s=this.debugService.getModel();this.tree.setInput(s),this.toDispose.push(this.debugService.getViewModel().onDidSelectFunctionBreakpoint(function(e){e&&e instanceof v.FunctionBreakpoint&&t.tree.refresh(e,!1).then(function(){t.tree.setHighlight(e),t.tree.addOneTimeDisposableListener(c.EventType.HIGHLIGHT,function(e){e.highlight||t.debugService.getViewModel().setSelectedFunctionBreakpoint(null)})}).done(null,a.onUnexpectedError)}))},t.prototype.getActions=function(){return[this.instantiationService.createInstance(E.AddFunctionBreakpointAction,E.AddFunctionBreakpointAction.ID,E.AddFunctionBreakpointAction.LABEL),this.instantiationService.createInstance(E.ToggleBreakpointsActivatedAction,E.ToggleBreakpointsActivatedAction.ID,E.ToggleBreakpointsActivatedAction.LABEL),this.instantiationService.createInstance(E.RemoveAllBreakpointsAction,E.RemoveAllBreakpointsAction.ID,E.RemoveAllBreakpointsAction.LABEL)]},t.prototype.onBreakpointsChange=function(){var e=this.debugService.getModel();this.expandedBodySize=t.getExpandedBodySize(e.getBreakpoints().length+e.getExceptionBreakpoints().length+e.getFunctionBreakpoints().length),this.tree&&this.tree.refresh()},t.getExpandedBodySize=function(e){return 22*Math.min(t.MAX_VISIBLE_FILES,e)},t.prototype.shutdown=function(){this.settings[t.MEMENTO]=this.state===d.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MAX_VISIBLE_FILES=9,t.MEMENTO="breakopintsview.memento",t=g([m(2,C.IMessageService),m(3,S.IContextMenuService),m(4,T),m(5,w.IKeybindingService),m(6,b.IInstantiationService)],t)}(p.AdaptiveCollapsibleViewletView);t.BreakpointsView=M}),define(l[955],d([1,0,540,2,90,92,69,129,57]),function(e,t,i,n,o,r,s,a,c){"use strict";var u=function(e){function t(t,i){e.call(this),this.label=t,this.action=i}return h(t,e),t.prototype.getLabel=function(){return this.label},t.prototype.getAriaLabel=function(){return this.label},t.prototype.run=function(e){return e!==o.Mode.PREVIEW&&(this.action(),!0)},t}(r.QuickOpenEntry),l=function(e){function t(t){e.call(this),this.viewletService=t}return h(t,e),t.prototype.getResults=function(e){var t=this,o=i.localize(0,null),s=function(){t.viewletService.openViewlet(a.VIEWLET_ID,!0).then(function(e){return e}).done(function(e){e.search("",!0),e.focus()})};return n.TPromise.as(new r.QuickOpenModel([new u(o,s)]))},t.prototype.getEmptyLabel=function(e){return""},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t=g([m(0,c.IViewletService)],t)}(s.QuickOpenHandler);t.ExtensionsHandler=l;var d=function(e){function t(t){e.call(this),this.viewletService=t}return h(t,e),t.prototype.getResults=function(e){var t=this,o=[];if(e){var s=i.localize(1,null,e),c=function(){t.viewletService.openViewlet(a.VIEWLET_ID,!0).then(function(e){return e}).done(function(t){t.search(e,!0),t.focus()})};o.push(new u(s,c))}return n.TPromise.as(new r.QuickOpenModel(o))},t.prototype.getEmptyLabel=function(e){return i.localize(2,null)},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:!0}},t=g([m(0,c.IViewletService)],t)}(s.QuickOpenHandler);t.GalleryExtensionsHandler=d}),define(l[97],d([1,0,6,24,52]),function(e,t,i,n,o){"use strict";var r=o.remote.getCurrentWindow().id;t.IWindowService=i.createDecorator("windowService");var s=function(){function e(){this.serviceId=t.IWindowService,this._onBroadcast=new n.Emitter,this.windowId=r,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;o.ipcRenderer.on("vscode:broadcast",function(t,i){e._onBroadcast.fire(i)})},Object.defineProperty(e.prototype,"onBroadcast",{get:function(){return this._onBroadcast.event},enumerable:!0,configurable:!0}),e.prototype.getWindowId=function(){
return this.windowId},e.prototype.getWindow=function(){return this.win},e.prototype.registerWindow=function(e){this.win=e},e.prototype.broadcast=function(e,t){o.ipcRenderer.send("vscode:broadcast",this.getWindowId(),t,{channel:e.channel,payload:e.payload})},e}();t.WindowService=s}),define(l[169],d([1,0,2,75,25,27,97,22,12,88,498,18,32,50,13,23,62,59,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b){"use strict";var _=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.windowService=o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();return e?this.editorService.closeEditor(e.position,e.input):(this.windowService.getWindow().close(),i.TPromise.as(!1))},t.ID="workbench.action.closeActiveEditor",t.LABEL=l.localize(0,null),t=g([m(2,a.IWorkbenchEditorService),m(3,s.IWindowService)],t)}(r.Action);t.CloseEditorAction=_;var C=function(e){function t(t,i,n){e.call(this,t,i),this.windowService=n}return h(t,e),t.prototype.run=function(){return this.windowService.getWindow().close(),i.TPromise.as(!0)},t.ID="workbench.action.closeWindow",t.LABEL=l.localize(1,null),t=g([m(2,s.IWindowService)],t)}(r.Action);t.CloseWindowAction=C;var w=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.contextService=n,this.messageService=o,this.windowService=r}return h(t,e),t.prototype.run=function(){return this.contextService.getWorkspace()?b.ipcRenderer.send("vscode:closeFolder",this.windowService.getWindowId()):this.messageService.show(d.Severity.Info,l.localize(3,null)),i.TPromise.as(!0)},t.ID="workbench.action.closeFolder",t.LABEL=l.localize(2,null),t=g([m(2,p.IWorkspaceContextService),m(3,d.IMessageService),m(4,s.IWindowService)],t)}(r.Action);t.CloseFolderAction=w;var I=function(e){function t(t,i,n){e.call(this,t,i),this.windowService=n}return h(t,e),t.prototype.run=function(){return this.windowService.getWindow().openNew(),i.TPromise.as(!0)},t.ID="workbench.action.newWindow",t.LABEL=l.localize(4,null),t=g([m(2,s.IWindowService)],t)}(r.Action);t.NewWindowAction=I;var T=function(e){function t(t,i,n){e.call(this,t,i),this.windowService=n}return h(t,e),t.prototype.run=function(){return b.ipcRenderer.send("vscode:toggleFullScreen",this.windowService.getWindowId()),i.TPromise.as(!0)},t.ID="workbench.action.toggleFullScreen",t.LABEL=l.localize(5,null),t=g([m(2,s.IWindowService)],t)}(r.Action);t.ToggleFullScreenAction=T;var A=function(e){function t(t,i,n){e.call(this,t,i),this.windowService=n}return h(t,e),t.prototype.run=function(){return b.ipcRenderer.send("vscode:toggleMenuBar",this.windowService.getWindowId()),i.TPromise.as(!0)},t.ID="workbench.action.toggleMenuBar",t.LABEL=l.localize(6,null),t=g([m(2,s.IWindowService)],t)}(r.Action);t.ToggleMenuBarAction=A;var L=function(e){function t(t,i,n){e.call(this,t,i),this.windowService=n}return h(t,e),t.prototype.run=function(){return b.ipcRenderer.send("vscode:toggleDevTools",this.windowService.getWindowId()),i.TPromise.as(!0)},t.ID="workbench.action.toggleDevTools",t.LABEL=l.localize(7,null),t=g([m(2,s.IWindowService)],t)}(r.Action);t.ToggleDevToolsAction=L;var D=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){return b.webFrame.setZoomLevel(b.webFrame.getZoomLevel()+1),S.setZoomLevel(b.webFrame.getZoomLevel()),i.TPromise.as(!0)},t.ID="workbench.action.zoomIn",t.LABEL=l.localize(8,null),t}(r.Action);t.ZoomInAction=D;var k=function(e){function t(t,i){e.call(this,t,i)}return h(t,e),t.prototype.run=function(){return b.webFrame.setZoomLevel(b.webFrame.getZoomLevel()-1),S.setZoomLevel(b.webFrame.getZoomLevel()),i.TPromise.as(!0)},t.ID="workbench.action.zoomOut",t.LABEL=l.localize(9,null),t}(r.Action);t.ZoomOutAction=k;var x=function(e){function t(t,i,n){e.call(this,t,i),this.configurationService=n}return h(t,e),t.prototype.run=function(){var e=this.getConfiguredZoomLevel();return b.webFrame.setZoomLevel(e),S.setZoomLevel(b.webFrame.getZoomLevel()),i.TPromise.as(!0)},t.prototype.getConfiguredZoomLevel=function(){var e=this.configurationService.getConfiguration();return e.window&&"number"==typeof e.window.zoomLevel?e.window.zoomLevel:0},t.ID="workbench.action.zoomReset",t.LABEL=l.localize(10,null),t=g([m(2,y.IConfigurationService)],t)}(r.Action);t.ZoomResetAction=x;var M;!function(e){e[e.LoaderAvailable=1]="LoaderAvailable",e[e.BeginLoadingScript=10]="BeginLoadingScript",e[e.EndLoadingScriptOK=11]="EndLoadingScriptOK",e[e.EndLoadingScriptError=12]="EndLoadingScriptError",e[e.BeginInvokeFactory=21]="BeginInvokeFactory",e[e.EndInvokeFactory=22]="EndInvokeFactory",e[e.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",e[e.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",e[e.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",e[e.NodeEndNativeRequire=34]="NodeEndNativeRequire"}(M||(M={}));var R=function(t){function o(e,i,n,o){t.call(this,e,i),this.windowService=n,this.contextService=o,this.enabled=o.getConfiguration().env.enablePerformance}return h(o,t),o.prototype._analyzeLoaderTimes=function(){for(var t=e.getStats(),i=[],n=0,o=0,r=t.length;o<r;o++)if(t[o].type===M.NodeEndNativeRequire&&t[o-1].type===M.NodeBeginNativeRequire&&t[o-1].detail===t[o].detail){var s={};s.Event="nodeRequire "+t[o].detail,s["Took (ms)"]=t[o].timestamp-t[o-1].timestamp,n+=t[o].timestamp-t[o-1].timestamp,s["Start (ms)"]="**"+t[o-1].timestamp,s["End (ms)"]="**"+t[o-1].timestamp,i.push(s)}if(n>0){var s={};s.Event="===nodeRequire TOTAL",s["Took (ms)"]=n,s["Start (ms)"]="**",s["End (ms)"]="**",i.push(s)}return i},o.prototype.run=function(){var e=[];e.push.apply(e,this._analyzeLoaderTimes());var t,o=Math.round(b.remote.getGlobal("programStart")||b.remote.getGlobal("vscodeStart")),r=Math.round(b.remote.getGlobal("windowShow")),s=n.getTimeKeeper().getCollectedEvents();s.forEach(function(i){if("Startup"===i.topic){t=i;var n={};n.Event=i.name,n["Took (ms)"]=i.stopTime.getTime()-i.startTime.getTime(),n["Start (ms)"]=Math.max(i.startTime.getTime()-o,0),n["End (ms)"]=i.stopTime.getTime()-o,e.push(n)}}),e.push({Event:"---------------------------"});var a={};a.Event="Show Window at",a["Start (ms)"]=r-o,e.push(a);var c={};return c.Event="Total",c["Took (ms)"]=t.stopTime.getTime()-o,e.push(c),this.windowService.getWindow().openDevTools(),setTimeout(function(){console.warn("Run the action again if you do not see the numbers!"),console.table(e)},1e3),i.TPromise.as(!0)},o.ID="workbench.action.appPerf",o.LABEL=l.localize(11,null),o=g([m(2,s.IWindowService),m(3,p.IWorkspaceContextService)],o)}(r.Action);t.ShowStartupPerformance=R;var O=function(e){function t(t,i,n){e.call(this,t,i),this.windowService=n}return h(t,e),t.prototype.run=function(){return this.windowService.getWindow().reload(),i.TPromise.as(!0)},t.ID="workbench.action.reloadWindow",t.LABEL=l.localize(12,null),t=g([m(2,s.IWindowService)],t)}(r.Action);t.ReloadWindowAction=O;var P=function(e){function t(t,i,n,o){e.call(this,t,i),this.contextService=n,this.quickOpenService=o}return h(t,e),t.prototype.run=function(){var e=this,t=this.contextService.getConfiguration().env.recentFolders,i=this.contextService.getConfiguration().env.recentFiles,n=t.map(function(t,i){return{label:o.basename(t),description:o.dirname(t),path:t,separator:0===i?{label:l.localize(14,null)}:void 0,run:function(i){return e.runPick(t,i)}}}),r=i.map(function(t,i){return{label:o.basename(t),description:o.dirname(t),path:t,separator:0===i?{label:l.localize(15,null),border:!0}:void 0,run:function(i){return e.runPick(t,i)}}}),s=!!this.contextService.getWorkspace();return this.quickOpenService.pick(n.concat.apply(n,r),{autoFocus:{autoFocusFirstEntry:!s,autoFocusSecondEntry:s},placeHolder:c.isMacintosh?l.localize(16,null):l.localize(17,null),matchOnDescription:!0}).then(function(e){return!0})},t.prototype.runPick=function(e,t){var i=t.keymods.indexOf(v.KeyMod.CtrlCmd)>=0;b.ipcRenderer.send("vscode:windowOpen",[e],i)},t.ID="workbench.action.openRecent",t.LABEL=l.localize(13,null),t=g([m(2,p.IWorkspaceContextService),m(3,f.IQuickOpenService)],t)}(r.Action);t.OpenRecentAction=P;var N=function(e){function t(t,i,n,o){e.call(this,t,i),this.messageService=n,this.editorService=o}return h(t,e),t.prototype.run=function(){this.messageService.hideAll();var e=this.editorService.getActiveEditor();return e&&e.focus(),i.TPromise.as(!0)},t.ID="workbench.action.closeMessages",t.LABEL=l.localize(18,null),t=g([m(2,d.IMessageService),m(3,a.IWorkbenchEditorService)],t)}(r.Action);t.CloseMessagesAction=N,E.KeybindingsRegistry.registerCommandDesc({id:"_workbench.ipc",weight:E.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t,i){t&&Array.isArray(i)?b.ipcRenderer.send.apply(b.ipcRenderer,[t].concat(i)):b.ipcRenderer.send(t)},when:void 0,primary:void 0}),E.KeybindingsRegistry.registerCommandDesc({id:"_workbench.diff",weight:E.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t){var n=e.get(a.IWorkbenchEditorService),o=t[0],r=t[1],s=t[2];return s||(s=l.localize(19,null,o.toString(!0),r.toString(!0))),i.TPromise.join([n.createInput({resource:o}),n.createInput({resource:r})]).then(function(e){var t=e[0],i=e[1],o=new u.DiffEditorInput(s,(void 0),t,i);return n.openEditor(o)}).then(function(){})},when:void 0,primary:void 0}),E.KeybindingsRegistry.registerCommandDesc({id:"_workbench.open",weight:E.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t){var i=e.get(a.IWorkbenchEditorService),n=t[0],o=t[1];return i.openEditor({resource:n},o).then(function(){})},when:void 0,primary:void 0})}),define(l[958],d([1,0,15,502,35,67,42,13,12,20,169]),function(e,t,i,n,o,r,s,a,c,u,l){"use strict";var d=n.localize(0,null),h=n.localize(1,null),p=n.localize(2,null),f=i.Registry.as(s.Extensions.WorkbenchActions);f.registerWorkbenchAction(new o.SyncActionDescriptor(l.NewWindowAction,l.NewWindowAction.ID,l.NewWindowAction.LABEL,{primary:a.KeyMod.CtrlCmd|a.KeyMod.Shift|a.KeyCode.KEY_N}),"New Window"),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.CloseWindowAction,l.CloseWindowAction.ID,l.CloseWindowAction.LABEL,{primary:a.KeyMod.CtrlCmd|a.KeyMod.Shift|a.KeyCode.KEY_W}),"Close Window"),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.CloseFolderAction,l.CloseFolderAction.ID,l.CloseFolderAction.LABEL,{primary:a.KeyMod.chord(a.KeyMod.CtrlCmd|a.KeyCode.KEY_K,a.KeyCode.KEY_F)}),"File: Close Folder",p),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.OpenRecentAction,l.OpenRecentAction.ID,l.OpenRecentAction.LABEL),"File: Open Recent",p),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ToggleDevToolsAction,l.ToggleDevToolsAction.ID,l.ToggleDevToolsAction.LABEL),"Developer: Toggle Developer Tools",h),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ZoomInAction,l.ZoomInAction.ID,l.ZoomInAction.LABEL,{primary:a.KeyMod.CtrlCmd|a.KeyCode.US_EQUAL}),"View: Zoom In",d),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ZoomOutAction,l.ZoomOutAction.ID,l.ZoomOutAction.LABEL,{primary:a.KeyMod.CtrlCmd|a.KeyCode.US_MINUS}),"View: Zoom Out",d),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ZoomResetAction,l.ZoomResetAction.ID,l.ZoomResetAction.LABEL),"View: Reset Zoom",d),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ShowStartupPerformance,l.ShowStartupPerformance.ID,l.ShowStartupPerformance.LABEL),"Developer: Startup Performance",h),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ReloadWindowAction,l.ReloadWindowAction.ID,l.ReloadWindowAction.LABEL),"Reload Window"),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.CloseMessagesAction,l.CloseMessagesAction.ID,l.CloseMessagesAction.LABEL,{primary:a.KeyCode.Escape,secondary:[a.KeyMod.Shift|a.KeyCode.Escape]},u.KbExpr.has("globalMessageVisible")),"Close Notification Messages"),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.CloseEditorAction,l.CloseEditorAction.ID,l.CloseEditorAction.LABEL,{primary:a.KeyMod.CtrlCmd|a.KeyCode.KEY_W,win:{primary:a.KeyMod.CtrlCmd|a.KeyCode.F4,secondary:[a.KeyMod.CtrlCmd|a.KeyCode.KEY_W]}}),"View: Close Editor",d),f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ToggleFullScreenAction,l.ToggleFullScreenAction.ID,l.ToggleFullScreenAction.LABEL,{primary:a.KeyCode.F11,mac:{primary:a.KeyMod.CtrlCmd|a.KeyMod.WinCtrl|a.KeyCode.KEY_F}}),"View: Toggle Full Screen",d),(c.isWindows||c.isLinux)&&f.registerWorkbenchAction(new o.SyncActionDescriptor(l.ToggleMenuBarAction,l.ToggleMenuBarAction.ID,l.ToggleMenuBarAction.LABEL),"View: Toggle Menu Bar",d);var g=i.Registry.as(r.Extensions.Configuration);g.registerConfiguration({id:"window",order:8,title:n.localize(3,null),type:"object",properties:{"window.openFilesInNewWindow":{type:"boolean","default":!0,description:n.localize(4,null)},"window.reopenFolders":{type:"string","enum":["none","one","all"],"default":"one",description:n.localize(5,null)},"window.restoreFullscreen":{type:"boolean","default":!1,description:n.localize(6,null)},"window.zoomLevel":{type:"number","default":0,description:n.localize(7,null)}}}),g.registerConfiguration({id:"update",order:15,title:n.localize(8,null),type:"object",properties:{"update.channel":{type:"string","enum":["none","default"],"default":"default",description:n.localize(9,null)}}})}),define(l[219],d([1,0,538,2,27,33,5,169,129,6,18,71,57,22,731]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var v=function(e){function t(i,n){var o=this;e.call(this,"extensions.install",t.InstallLabel,"extension-action install",!1),this.extension=i,this.extensionsWorkbenchService=n,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return o.update()})),this.update()}return h(t,e),t.prototype.update=function(){this.enabled=this.extensionsWorkbenchService.canInstall(this.extension)&&this.extension.state===c.ExtensionState.Uninstalled,this.label=this.extension.state===c.ExtensionState.Installing?t.InstallingLabel:t.InstallLabel},t.prototype.run=function(){return this.extensionsWorkbenchService.install(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=s.dispose(this.disposables)},t.InstallLabel=i.localize(0,null),t.InstallingLabel=i.localize(1,null),t=g([m(1,c.IExtensionsWorkbenchService)],t)}(o.Action);t.InstallAction=v;var y=function(e){function t(t,n,o,r){var s=this;e.call(this,"extensions.uninstall",i.localize(2,null),"extension-action uninstall",!1),this.extension=t,this.extensionsWorkbenchService=n,this.messageService=o,this.instantiationService=r,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.updateEnablement()})),this.updateEnablement()}return h(t,e),t.prototype.updateEnablement=function(){this.enabled=this.extension.state===c.ExtensionState.Installed||this.extension.state===c.ExtensionState.NeedsRestart},t.prototype.run=function(){var e=this;return window.confirm(i.localize(3,null,this.extension.displayName))?this.extensionsWorkbenchService.uninstall(this.extension).then(function(){e.messageService.show(r["default"].Info,{message:i.localize(4,null,e.extension.displayName),actions:[l.CloseAction,e.instantiationService.createInstance(a.ReloadWindowAction,a.ReloadWindowAction.ID,i.localize(5,null))]})}):n.TPromise.as(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=s.dispose(this.disposables)},t=g([m(1,c.IExtensionsWorkbenchService),m(2,l.IMessageService),m(3,u.IInstantiationService)],t)}(o.Action);t.UninstallAction=y;var E=function(e){function t(t,i){var n=this;e.call(this,"extensions.combinedInstall","","",!1),this.extension=t,this.disposables=[],this.installAction=i.createInstance(v,t),this.uninstallAction=i.createInstance(y,t),this.disposables.push(this.installAction,this.uninstallAction),this.disposables.push(this.installAction.addListener2(o.Action.ENABLED,function(){return n.update()})),this.disposables.push(this.installAction.addListener2(o.Action.LABEL,function(){return n.update()})),this.disposables.push(this.uninstallAction.addListener2(o.Action.ENABLED,function(){return n.update()})),this.update()}return h(t,e),t.prototype.update=function(){this.installAction.enabled?(this.enabled=!0,this.label=this.installAction.label,this["class"]=this.installAction["class"]):this.uninstallAction.enabled?(this.enabled=!0,this.label=this.uninstallAction.label,this["class"]=this.uninstallAction["class"]):this.extension.state===c.ExtensionState.Installing?(this.enabled=!1,this.label=this.installAction.label,this["class"]=this.installAction["class"]):this.enabled=!1},t.prototype.run=function(){return this.installAction.enabled?this.installAction.run():this.uninstallAction.enabled?this.uninstallAction.run():n.TPromise.as(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=s.dispose(this.disposables)},t=g([m(1,u.IInstantiationService)],t)}(o.Action);t.CombinedInstallAction=E;var S=function(e){function t(n,o){var r=this;e.call(this,"extensions.update",i.localize(6,null),t.DisabledClass,!1),this.extension=n,this.extensionsWorkbenchService=o,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return r.updateEnablement()})),this.updateEnablement()}return h(t,e),t.prototype.updateEnablement=function(){var e=this.extensionsWorkbenchService.canInstall(this.extension),i=this.extension.state===c.ExtensionState.Installed||this.extension.state===c.ExtensionState.NeedsRestart;this.enabled=e&&i&&this.extension.outdated,this["class"]=this.enabled?t.EnabledClass:t.DisabledClass},t.prototype.run=function(){return this.extensionsWorkbenchService.install(this.extension)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=s.dispose(this.disposables)},t.EnabledClass="extension-action update",t.DisabledClass=t.EnabledClass+" disabled",t=g([m(1,c.IExtensionsWorkbenchService)],t)}(o.Action);t.UpdateAction=S;var b=function(e){function t(n,o,r){var s=this;e.call(this,"extensions.enable",i.localize(7,null),t.DisabledClass,!1),this.extension=n,this.extensionsWorkbenchService=o,this.instantiationService=r,this.disposables=[],this.disposables.push(this.extensionsWorkbenchService.onChange(function(){return s.updateEnablement()})),this.updateEnablement()}return h(t,e),t.prototype.updateEnablement=function(){this.enabled=this.extension.state===c.ExtensionState.NeedsRestart,this["class"]=this.enabled?t.EnabledClass:t.DisabledClass},t.prototype.run=function(){if(!window.confirm(i.localize(8,null)))return n.TPromise.as(null);var e=this.instantiationService.createInstance(a.ReloadWindowAction,a.ReloadWindowAction.ID,i.localize(9,null));return e.run()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposables=s.dispose(this.disposables)},t.EnabledClass="extension-action enable",t.DisabledClass=t.EnabledClass+" disabled",t=g([m(1,c.IExtensionsWorkbenchService),m(2,u.IInstantiationService)],t)}(o.Action);t.EnableAction=b;var _=function(e){function t(t,i,n,o){e.call(this,t,i,c.VIEWLET_ID,n,o)}return h(t,e),t.ID=c.VIEWLET_ID,t.LABEL=i.localize(10,null),t=g([m(2,p.IViewletService),m(3,f.IWorkbenchEditorService)],t)}(d.ToggleViewletAction);t.OpenExtensionsViewletAction=_;var C=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.ID="workbench.extensions.action.installExtensions",t.LABEL=i.localize(11,null),t}(_);t.InstallExtensionsAction=C;var w=function(e){function t(t,i,n,o){e.call(this,t,i,"clear-extensions",!0),this.viewletService=n,this.extensionsWorkbenchService=o}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(c.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("",!0),e.focus()})},t.ID="workbench.extensions.action.clearExtensionsInput",t.LABEL=i.localize(12,null),t=g([m(2,p.IViewletService),m(3,c.IExtensionsWorkbenchService)],t)}(o.Action);t.ClearExtensionsInputAction=w;var I=function(e){function t(t,i,n){e.call(this,t,i,null,!0),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(c.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@outdated",!0),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.listOutdatedExtensions",t.LABEL=i.localize(13,null),t=g([m(2,p.IViewletService)],t)}(o.Action);t.ListOutdatedExtensionsAction=I;var T=function(e){function t(t,i,n){e.call(this,t,i,null,!0),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(c.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@popular",!0),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.showPopularExtensions",t.LABEL=i.localize(14,null),t=g([m(2,p.IViewletService)],t)}(o.Action);t.ShowPopularExtensionsAction=T;var A=function(e){function t(t,i,n){e.call(this,t,i,null,!0),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(c.VIEWLET_ID,!0).then(function(e){return e}).then(function(e){e.search("@recommended",!0),e.focus()})},t.prototype.isEnabled=function(){return!0},t.ID="workbench.extensions.action.showExtensionRecommendations",t.LABEL=i.localize(15,null),t=g([m(2,p.IViewletService)],t)}(o.Action);t.ShowExtensionRecommendationsAction=A;var L=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.ID="workbench.extensions.action.showInstalledExtensions",t.LABEL=i.localize(16,null),t}(w);t.ShowInstalledExtensionsAction=L}),define(l[960],d([1,0,535,2,311,5,10,65,57,21,6,155,111,91,129,23,818,52,182,49,219,235,727]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w){"use strict";function I(t){return'<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv="Content-type" content="text/html;charset=UTF-8">\n\t\t\t\t<link rel="stylesheet" type="text/css" href="'+e.toUrl("./media/markdown.css")+'" >\n\t\t\t</head>\n\t\t\t<body>'+t+"</body>\n\t\t</html>"}var T=function(e){function t(i,n,o,s,a,c,u,l){e.call(this,t.ID,i),this.galleryService=n,this.configurationService=o,this.instantiationService=s,this.requestService=a,this.viewletService=c,this.extensionsWorkbenchService=u,this.themeService=l,this._highlight=null,this.highlightDisposable=r.empty,this.disposables=[]}return h(t,e),t.prototype.createEditor=function(e){var t=e.getHTMLElement(),n=s.append(t,s.emmet(".extension-editor")),o=s.append(n,s.emmet(".header"));this.icon=s.append(o,s.emmet(".icon"));var r=s.append(o,s.emmet(".details")),a=s.append(r,s.emmet(".title"));this.name=s.append(a,s.emmet("a.name")),this.name.href="#",this.license=s.append(a,s.emmet("a.license")),this.license.href="#",this.license.textContent=i.localize(0,null);var c=s.append(r,s.emmet(".subtitle"));this.publisher=s.append(c,s.emmet("a.publisher")),this.publisher.href="#",this.installCount=s.append(c,s.emmet("span.install")),this.rating=s.append(c,s.emmet("a.rating")),this.rating.href="#",this.description=s.append(r,s.emmet(".description"));var u=s.append(r,s.emmet(".actions"));this.actionBar=new _.ActionBar(u,{animated:!1}),this.disposables.push(this.actionBar),this.body=s.append(n,s.emmet(".body"))},t.prototype.setInput=function(t,i){var a=this;this.transientDisposables=r.dispose(this.transientDisposables);var c=n.TPromise.as(null),u=t.extension;if(this.icon.style.backgroundImage='url("'+u.iconUrl+'")',this.name.textContent=u.displayName,this.publisher.textContent=u.publisherDisplayName,this.description.textContent=u.description,b["default"].extensionsGallery){var l=b["default"].extensionsGallery.itemUrl+"?itemName="+u.publisher+"."+u.name,d=b["default"].extensionsGallery.itemUrl+"/"+u.publisher+"."+u.name+"/license";this.name.onclick=s.finalHandler(function(){return S.shell.openExternal(l)}),this.license.onclick=s.finalHandler(function(){return S.shell.openExternal(d)}),this.rating.onclick=s.finalHandler(function(){return S.shell.openExternal(l+"#review-details")}),this.publisher.onclick=s.finalHandler(function(){a.viewletService.openViewlet(v.VIEWLET_ID,!0).then(function(e){return e}).done(function(e){return e.search('publisher:"'+u.publisherDisplayName+'"',!0)})})}var h=this.instantiationService.createInstance(E.InstallWidget,this.installCount,u,{});this.transientDisposables.push(h);var p=this.instantiationService.createInstance(E.RatingsWidget,this.rating,u,{});this.transientDisposables.push(p);var f=this.instantiationService.createInstance(C.CombinedInstallAction,u),g=this.instantiationService.createInstance(C.UpdateAction,u),m=this.instantiationService.createInstance(C.EnableAction,u);return this.actionBar.clear(),this.actionBar.push([m,g,f],{icon:!0,label:!0}),this.transientDisposables.push(m,g,f),this.body.innerHTML="",s.addClass(this.body,"loading"),u.readmeUrl&&(c=e.prototype.setInput.call(this,t,i).then(function(){return a.requestService.makeRequest({url:u.readmeUrl})}).then(function(e){return e.responseText}).then(o.marked.parse).then(function(e){var t=new w["default"](a.body,document.querySelector(".monaco-editor-background"),function(e){return S.shell.openExternal(e.toString())});t.style(a.themeService.getTheme()),t.contents=[I(e)];var i=a.themeService.onDidThemeChange(function(e){return t.style(e)});a.transientDisposables.push(t,i)}).then(null,function(){return null}).then(function(){return s.removeClass(a.body,"loading")})),this.transientDisposables.push(r.toDisposable(function(){return c.cancel()})),n.TPromise.as(null)},t.prototype.layout=function(){},t.prototype.dispose=function(){this._highlight=null,this.transientDisposables=r.dispose(this.transientDisposables),this.disposables=r.dispose(this.disposables),e.prototype.dispose.call(this)},t.ID="workbench.editor.extension",t=g([m(0,u.ITelemetryService),m(1,p.IExtensionGalleryService),m(2,y.IConfigurationService),m(3,l.IInstantiationService),m(4,d.IRequestService),m(5,c.IViewletService),m(6,v.IExtensionsWorkbenchService),m(7,f.IThemeService)],t)}(a.BaseEditor);t.ExtensionEditor=T}),define(l[961],d([1,0,536,78,5,2,27,124,111,38,39,182,18,6,219,33]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v){"use strict";var y=function(){function e(e,t,i,o,r,s){var a=this;if(this._galleryService=e,this._modelService=t,this.storageService=i,this.messageService=o,this.extensionsService=r,this.instantiationService=s,this.serviceId=c.IExtensionTipsService,this._recommendations=Object.create(null),this._availableRecommendations=Object.create(null),this._disposables=[],this._galleryService.isEnabled()){var u=d["default"].extensionTips;if(u){this.importantRecommendations=d["default"].extensionImportantTips||Object.create(null),this.importantRecommendationsIgnoreList=JSON.parse(i.get("extensionsAssistant/importantRecommendationsIgnore",l.StorageScope.GLOBAL,"[]"));for(var h=JSON.parse(i.get("extensionsAssistant/recommendations",l.StorageScope.GLOBAL,"[]")),p=0,f=h;p<f.length;p++){var g=f[p];this._recommendations[g]=!0}this._availableRecommendations=Object.create(null),n.forEach(u,function(e){var t=e.key,i=e.value,n=a._availableRecommendations[i];n?n.push(t):a._availableRecommendations[i]=[t]}),this._disposables.push(this._modelService.onModelAdded(function(e){return a._suggest(e.uri)})),this._modelService.getModels().forEach(function(e){return a._suggest(e.uri)})}}}return e.prototype.getRecommendations=function(){var e=Object.keys(this._recommendations);return 0===e.length?r.TPromise.as([]):this._galleryService.query({names:e,pageSize:e.length}).then(function(e){return e.firstPage},function(){return[]})},e.prototype._suggest=function(e){var t=this;e&&setImmediate(function(){n.forEach(t._availableRecommendations,function(i){var n=i.key,o=i.value;if(a.match(n,e.fsPath))for(var r=0,s=o;r<s.length;r++){var c=s[r];t._recommendations[c]=!0}}),t.storageService.store("extensionsAssistant/recommendations",JSON.stringify(Object.keys(t._recommendations)),l.StorageScope.GLOBAL),t.extensionsService.getInstalled().done(function(n){Object.keys(t.importantRecommendations).filter(function(e){return t.importantRecommendationsIgnoreList.indexOf(e)===-1}).filter(function(e){return n.every(function(t){return t.manifest.publisher+"."+t.manifest.name!==e})}).forEach(function(n){var o=t.importantRecommendations[n];if(a.match(o,e.fsPath)){var c=i.localize(0,null,n),u=new s.Action("neverShowAgain",i.localize(1,null),null,(!0),function(){return t.importantRecommendationsIgnoreList.push(n),t.storageService.store("extensionsAssistant/importantRecommendationsIgnore",JSON.stringify(t.importantRecommendationsIgnoreList),l.StorageScope.GLOBAL),r.TPromise.as(!0)}),d=t.instantiationService.createInstance(f.ShowExtensionRecommendationsAction,f.ShowExtensionRecommendationsAction.ID,i.localize(2,null));t.messageService.show(v["default"].Info,{message:c,actions:[h.CloseAction,u,d]})}})})})},e.prototype.dispose=function(){this._disposables=o.dispose(this._disposables)},e=g([m(0,c.IExtensionGalleryService),m(1,u.IModelService),m(2,l.IStorageService),m(3,h.IMessageService),m(4,c.IExtensionManagementService),m(5,p.IInstantiationService)],e)}();t.ExtensionTipsService=y}),define(l[962],d([1,0,2,33,7,72,18,97,52,24]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=function(){function e(e,t){this.messageService=e,this.windowService=t,this.serviceId=r.ILifecycleService,this._onWillShutdown=new u.Emitter,this._onShutdown=new u.Emitter,this.registerListeners()}return Object.defineProperty(e.prototype,"onWillShutdown",{get:function(){return this._onWillShutdown.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onShutdown",{get:function(){return this._onShutdown.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this,t=this.windowService.getWindowId();c.ipcRenderer.on("vscode:beforeUnload",function(i,n){e.onBeforeUnload().done(function(i){i?c.ipcRenderer.send(n.cancelChannel,t):(e._onShutdown.fire(),c.ipcRenderer.send(n.okChannel,t))})})},e.prototype.onBeforeUnload=function(){var e=this,t=[];if(this._onWillShutdown.fire({veto:function(e){t.push(e)}}),0===t.length)return i.TPromise.as(!1);for(var r=[],s=!1,a=0,c=t;a<c.length;a++){var u=c[a];if(u===!0)return i.TPromise.as(!0);i.TPromise.is(u)&&r.push(u.then(function(e){e&&(s=!0)},function(t){e.messageService.show(n["default"].Error,o.toErrorMessage(t)),s=!0}))}return i.TPromise.join(r).then(function(){return s})},e=g([m(0,s.IMessageService),m(1,a.IWindowService)],e)}();t.LifecycleService=l}),define(l[963],d([1,0,97,596,272,12,21,32]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(t,i,n){e.call(this,n),this.contextService=t,this.windowService=i}return h(t,e),t.prototype.confirm=function(e){e.primaryButton||(e.primaryButton=n.localize(0,null)),e.secondaryButton||(e.secondaryButton=n.localize(1,null));var t={title:e.title||this.contextService.getConfiguration().env.appName,message:e.message,buttons:[r.isLinux?this.mnemonicLabel(e.secondaryButton):this.mnemonicLabel(e.primaryButton),r.isLinux?this.mnemonicLabel(e.primaryButton):this.mnemonicLabel(e.secondaryButton)],noLink:!0,cancelId:1};r.isLinux&&(t.defaultId=1,t.cancelId=0),e.detail&&(t.detail=e.detail);var i=this.windowService.getWindow().showMessageBox(t);return r.isLinux?1===i:0===i},t.prototype.mnemonicLabel=function(e){return r.isWindows?e.replace(/&&/g,"&"):e.replace(/\(&&\w\)|&&/g,"")},t=g([m(0,a.IWorkspaceContextService),m(1,i.IWindowService),m(2,s.ITelemetryService)],t)}(o.WorkbenchMessageService);t.MessageService=c}),define(l[964],d([1,0,2,598,25,123,103,95,91,178,97,39,21,31,24,976,112]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y){"use strict";function E(e){switch(e){case"vs":return"vs "+k+"-themes-light_vs-json";case"vs-dark":return"vs-dark "+k+"-themes-dark_vs-json";case"hc-black":return"hc-black "+k+"-themes-hc_black-json";case"vs "+x+"-themes-light_plus-tmTheme":return"vs "+k+"-themes-light_plus-json";case"vs-dark "+x+"-themes-dark_plus-tmTheme":return"vs-dark "+k+"-themes-dark_plus-json"}return e}function S(e){return e=e.replace(/[^_\-a-zA-Z0-9]/g,"-"),e.charAt(0).match(/[0-9\-]/)&&(e="_"+e),e}function b(e,t){return e.styleSheetContent?(I(e.styleSheetContent),t(e),i.TPromise.as(!0)):_(e.path).then(function(i){var n=C(e.id,i);return e.styleSheetContent=n,
I(n),t(e),!0},function(t){return i.TPromise.wrapError(n.localize(7,null,e.path))})}function _(e){return y.readFile(e).then(function(t){if(".json"===o.extname(e)){var s=[],a=r.parse(t.toString(),s);return s.length>0?i.TPromise.wrapError(new Error(n.localize(8,null,s.map(function(e){return r.getParseErrorMessage(e.error)}).join(", ")))):a.include?_(o.join(o.dirname(e),a.include)).then(function(e){return a.settings=e.settings.concat(a.settings),i.TPromise.as(a)}):i.TPromise.as(a)}var c=v.parse(t.toString());return c.errors&&c.errors.length?i.TPromise.wrapError(new Error(n.localize(9,null,c.errors.join(", ")))):i.TPromise.as(c.value)})}function C(e,t){var i=[],n=t.settings,o={background:void 0,foreground:void 0,caret:void 0,invisibles:void 0,lineHighlight:void 0,selection:void 0},r=u.getBaseThemeId(e)+"."+u.getSyntaxThemeId(e);if(Array.isArray(n)&&n.forEach(function(e,t,n){if(0!==t||e.scope){var s=e.scope,a=e.settings;if(s&&a){var c=Array.isArray(s)?s:s.split(","),u=w(a);c.forEach(function(e){e=e.trim().replace(/ /g,"."),i.push(".monaco-editor."+r+" .token."+e+" { "+u+" }")})}}else o=e.settings}),o.background){var s=new P(o.background);i.push(".monaco-editor."+r+" .monaco-editor-background { background-color: "+s+"; }"),i.push(".monaco-editor."+r+" .glyph-margin { background-color: "+s+"; }"),i.push("."+r+" .monaco-workbench .monaco-editor-background { background-color: "+s+"; }")}if(o.foreground){var a=new P(o.foreground);i.push(".monaco-editor."+r+" { color: "+a+"; }"),i.push(".monaco-editor."+r+" .token { color: "+a+"; }")}if(o.selection){var c=new P(o.selection);i.push(".monaco-editor."+r+" .focused .selected-text { background-color: "+c+"; }"),i.push(".monaco-editor."+r+" .selected-text { background-color: "+c.transparent(.5)+"; }")}if(o.lineHighlight){var l=new P(o.lineHighlight);i.push(".monaco-editor."+r+" .current-line { background-color: "+l+"; border:0; }")}if(o.caret){var d=new P(o.caret),h=d.opposite();i.push(".monaco-editor."+r+" .cursor { background-color: "+d+"; border-color: "+d+"; color: "+h+"; }")}if(o.invisibles){var p=new P(o.invisibles);i.push(".monaco-editor."+r+" .token.whitespace { color: "+p+" !important; }"),i.push(".monaco-editor."+r+" .lines-content .cigr { background: "+p+"; }")}return i.join("\n")}function w(e){var t=[];for(var i in e){var n=e[i];switch(i){case"foreground":var o=new P(n);t.push("color: "+o+";");break;case"background":break;case"fontStyle":var r=n.split(" ");r.forEach(function(e){switch(n){case"italic":t.push("font-style: italic;");break;case"bold":t.push("font-weight: bold;");break;case"underline":t.push("text-decoration: underline;")}})}}return t.join(" ")}function I(e){var t=document.head.getElementsByClassName(O);if(0===t.length){var i=document.createElement("style");i.type="text/css",i.className=O,i.innerHTML=e,document.head.appendChild(i)}else t[0].innerHTML=e}var T="vs-dark vscode-theme-defaults-themes-dark_plus-json",A="vscode:changeTheme",L="workbench.theme",D=u.getBaseThemeId(T),k="vscode-theme-defaults",x="vscode-theme-colorful-defaults",M=a.ExtensionsRegistry.registerExtensionPoint("themes",{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{label:"{{label}}",uiTheme:"vs-dark",path:"./themes/{{id}}.tmTheme."}]}],items:{type:"object",defaultSnippets:[{body:{label:"{{label}}",uiTheme:"vs-dark",path:"./themes/{{id}}.tmTheme."}}],properties:{label:{description:n.localize(1,null),type:"string"},uiTheme:{description:n.localize(2,null),"enum":["vs","vs-dark","hc-black"]},path:{description:n.localize(3,null),type:"string"}}}}),R=function(){function e(e,t,i,n){var o=this;this.extensionService=e,this.windowService=t,this.storageService=i,this.telemetryService=n,this.serviceId=c.IThemeService,this.themeExtensionsActivated={},this.knownThemes=[],this.onThemeChange=new f.Emitter,M.setHandler(function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];o.onThemes(n.description.extensionFolderPath,n.description.id,n.value,n.collector)}}),t.onBroadcast(function(e){e.channel===A&&"string"==typeof e.payload&&o.setTheme(e.payload,!1)})}return Object.defineProperty(e.prototype,"onDidThemeChange",{get:function(){return this.onThemeChange.event},enumerable:!0,configurable:!0}),e.prototype.initialize=function(e){this.container=e;var t=this.storageService.get(L,d.StorageScope.GLOBAL,null);return t||(t=T,this.storageService.store(L,t,d.StorageScope.GLOBAL)),this.setTheme(t,!1)},e.prototype.setTheme=function(e,t){var n=this;if(!e)return i.TPromise.as(!1);if(e===this.currentTheme)return t&&this.windowService.broadcast({channel:A,payload:e}),i.TPromise.as(!0);e=E(e);var o=function(e){var i=e.id;n.container&&(n.currentTheme&&p.$(n.container).removeClass(n.currentTheme),n.currentTheme=i,p.$(n.container).addClass(i)),n.storageService.store(L,i,d.StorageScope.GLOBAL),t?n.windowService.broadcast({channel:A,payload:i}):n.sendTelemetry(e),n.onThemeChange.fire(i)};return this.applyThemeCSS(e,T,o)},e.prototype.getTheme=function(){return this.currentTheme||this.storageService.get(L,d.StorageScope.GLOBAL,T)},e.prototype.loadTheme=function(e,t){return this.getThemes().then(function(i){var n=i.filter(function(t){return t.id===e});if(n.length>0)return n[0];if(t){var o=i.filter(function(e){return e.id===t});if(o.length>0)return o[0]}return null})},e.prototype.applyThemeCSS=function(e,t,i){return this.loadTheme(e,t).then(function(e){return!!e&&b(e,i)})},e.prototype.getThemes=function(){var e=this;return this.extensionService.onReady().then(function(t){return e.knownThemes})},e.prototype.onThemes=function(e,t,i,r){var s=this;return Array.isArray(i)?void i.forEach(function(i){if(!i.path||"string"!=typeof i.path)return void r.error(n.localize(5,null,M.name,String(i.path)));var a=o.normalize(o.join(e,i.path));0!==a.indexOf(e)&&r.warn(n.localize(6,null,M.name,a,e));var c=S(t+"-"+o.normalize(i.path));s.knownThemes.push({id:(i.uiTheme||D)+" "+c,label:i.label||o.basename(i.path),description:i.description,path:a,extensionId:t})}):void r.error(n.localize(4,null,M.name))},e.prototype.sendTelemetry=function(e){if(!this.themeExtensionsActivated[e.extensionId]){var t=a.ExtensionsRegistry.getExtensionDescription(e.extensionId);t&&(this.telemetryService.publicLog("activatePlugin",{id:t.id,name:t.name,isBuiltin:t.isBuiltin,publisherDisplayName:t.publisher,themeId:e.id}),this.themeExtensionsActivated[e.extensionId]=!0)}},e=g([m(0,s.IExtensionService),m(1,l.IWindowService),m(2,d.IStorageService),m(3,h.ITelemetryService)],e)}();t.ThemeService=R;var O="contributedColorTheme",P=function(){function e(t){"string"==typeof t?this.parsed=e.parse(t):this.parsed=t,this.str=null}return e.parse=function(e){function t(e){return parseInt("0x"+e)}if("#"===e.charAt(0)&&e.length>=7){var i=t(e.substr(1,2)),n=t(e.substr(3,2)),o=t(e.substr(5,2)),r=9===e.length?t(e.substr(7,2))/255:1;return{r:i,g:n,b:o,a:r}}return{r:255,g:0,b:0,a:1}},e.prototype.toString=function(){if(!this.str){var e=this.parsed;this.str="rgba("+e.r+", "+e.g+", "+e.b+", "+ +e.a.toFixed(2)+")"}return this.str},e.prototype.transparent=function(t){var i=this.parsed;return new e({r:i.r,g:i.g,b:i.b,a:i.a*t})},e.prototype.opposite=function(){return new e({r:255-this.parsed.r,g:255-this.parsed.g,b:255-this.parsed.b,a:this.parsed.a})},e}()}),define(l[246],d([1,0,599,27,7,166,29,9,19,2,971,600,18,931,72,32,97,99,52,79]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";t.EXTENSION_LOG_BROADCAST_CHANNEL="vscode:extensionLog",t.EXTENSION_ATTACH_BROADCAST_CHANNEL="vscode:extensionAttach",t.EXTENSION_TERMINATE_BROADCAST_CHANNEL="vscode:extensionTerminate";var C=!1,w=function(e){function t(t,i,n,o){var r=this;e.call(this,!0),this.serviceId=_.IThreadService,this.extensionHostProcessManager=new I(t,i,n,o);var s=C||t.getConfiguration().env.logExtensionHostCommunication;this.remoteCom=d.create(function(e){s&&console.log("%c[Window → Extension]%c[len: "+a.pad(e.length,5," ")+"]","color: darkgreen","color: grey",e),r.extensionHostProcessManager.postMessage(e)}),this.extensionHostProcessManager.startExtensionHostProcess(function(e){s&&console.log("%c[Extension → Window]%c[len: "+a.pad(e.length,5," ")+"]","color: darkgreen","color: grey",e),r.remoteCom.handle(e)}),this.remoteCom.setManyHandler(this),o.onShutdown(function(){return r.dispose()})}return h(t,e),t.prototype.dispose=function(){this.extensionHostProcessManager.terminate()},t.prototype._callOnRemote=function(e,t,i){return this.remoteCom.callOnRemote(e,t,i)},t=g([m(0,y.IWorkspaceContextService),m(1,p.IMessageService),m(2,E.IWindowService),m(3,v.ILifecycleService)],t)}(f.AbstractThreadService);t.MainThreadService=w;var I=function(){function a(e,t,i,n){this.contextService=e,this.messageService=t,this.windowService=i,this.lifecycleService=n;var o=this.contextService.getConfiguration();this.isExtensionDevelopmentHost=!!o.env.extensionDevelopmentPath,this.isExtensionDevelopmentDebugging=!!o.env.debugBrkExtensionHost,this.isExtensionDevelopmentTestFromCli=this.isExtensionDevelopmentHost&&!!o.env.extensionTestsPath&&!o.env.debugBrkExtensionHost,this.unsentMessages=[],this.extensionHostProcessReady=!1,n.onWillShutdown(this._onWillShutdown,this)}return a.prototype.startExtensionHostProcess=function(a){var l=this,d=this.contextService.getConfiguration(),h={env:s.mixin(s.clone(process.env),{AMD_ENTRYPOINT:"vs/workbench/node/extensionHostProcess",PIPE_LOGGING:"true",VERBOSE_LOGGING:!0})};d.env.isBuilt&&!this.isExtensionDevelopmentHost||(this.initializeTimer=setTimeout(function(){var e=l.isExtensionDevelopmentDebugging?i.localize(0,null):i.localize(1,null);l.messageService.show(p.Severity.Warning,e)},1e4)),this.initializeExtensionHostProcess=new u.TPromise(function(s,f){return l.resolveDebugPort(d,function(f){f&&(h.execArgv=["--nolazy",(l.isExtensionDevelopmentDebugging?"--debug-brk=":"--debug=")+f]),l.extensionHostProcessHandle=S.fork(c["default"].parse(e.toUrl("bootstrap")).fsPath,["--type=extensionHost"],h),l.isExtensionDevelopmentHost&&f&&l.windowService.broadcast({channel:t.EXTENSION_ATTACH_BROADCAST_CHANNEL,payload:{port:f}},d.env.extensionDevelopmentPath),l.extensionHostProcessHandle.on("message",function(e){if("ready"===e){l.initializeTimer&&window.clearTimeout(l.initializeTimer);var i=r.stringify({parentPid:process.pid,contextService:{workspace:l.contextService.getWorkspace(),configuration:l.contextService.getConfiguration(),options:l.contextService.getOptions()}});l.extensionHostProcessHandle.send(i)}else if("initialized"===e)l.unsentMessages.forEach(function(e){return l.postMessage(e)}),l.unsentMessages=[],l.extensionHostProcessReady=!0,s(l.extensionHostProcessHandle);else if(e&&"__$console"===e.type){var n=e,o=[];try{var c=JSON.parse(n.arguments);o.push.apply(o,Object.getOwnPropertyNames(c).map(function(e){return c[e]}))}catch(u){o.push(n.arguments)}var h=[];h="string"==typeof o[0]&&o[0].indexOf("%")>=0?["%c[Extension Host]%c "+o[0],"color: blue","color: black"].concat(o.slice(1)):["%c[Extension Host]","color: blue"].concat(o),l.isExtensionDevelopmentTestFromCli||console[n.severity].apply(console,h),l.isExtensionDevelopmentTestFromCli?b.ipcRenderer.send("vscode:log",n):d.env.isBuilt&&!l.isExtensionDevelopmentHost||l.windowService.broadcast({channel:t.EXTENSION_LOG_BROADCAST_CHANNEL,payload:n},d.env.extensionDevelopmentPath)}else a(e)});var g=function(){return l.terminate()};process.once("exit",g),l.extensionHostProcessHandle.on("error",function(e){var t=o.toErrorMessage(e);t!==l.lastExtensionHostError&&(l.lastExtensionHostError=t,l.messageService.show(p.Severity.Error,i.localize(2,null,t)))}),l.extensionHostProcessHandle.on("exit",function(e,t){process.removeListener("exit",g),l.terminating||(l.isExtensionDevelopmentHost?l.isExtensionDevelopmentTestFromCli?b.ipcRenderer.send("vscode:exit",e):l.windowService.getWindow().close():(l.messageService.show(p.Severity.Error,{message:i.localize(3,null),actions:[new n.Action("reloadWindow",i.localize(4,null),null,(!0),function(){return l.windowService.getWindow().reload(),u.TPromise.as(null)})]}),console.error("Extension host terminated unexpectedly. Code: ",e," Signal: ",t)))})})},function(){return l.terminate()})},a.prototype.resolveDebugPort=function(e,t){var i=this;return"number"==typeof e.env.debugExtensionHostPort?l.findFreePort(e.env.debugExtensionHostPort,10,5e3,function(n){return n?(n!==e.env.debugExtensionHostPort&&console.warn("%c[Extension Host] %cProvided debugging port "+e.env.debugExtensionHostPort+" is not free, using "+n+" instead.","color: blue","color: black"),i.isExtensionDevelopmentDebugging?console.warn("%c[Extension Host] %cSTOPPED on first line for debugging on port "+n,"color: blue","color: black"):console.info("%c[Extension Host] %cdebugger listening on port "+n,"color: blue","color: black"),t(n)):(console.warn("%c[Extension Host] %cCould not find a free port for debugging","color: blue","color: black"),t(void 0))}):t(void 0)},a.prototype.postMessage=function(e){this.extensionHostProcessReady?this.extensionHostProcessHandle.send(e):this.initializeExtensionHostProcess?this.initializeExtensionHostProcess.done(function(t){return t.send(e)}):this.unsentMessages.push(e)},a.prototype.terminate=function(){this.terminating=!0,this.extensionHostProcessHandle&&this.extensionHostProcessHandle.send({type:"__$terminate"})},a.prototype._onWillShutdown=function(e){!this.isExtensionDevelopmentHost||this.isExtensionDevelopmentTestFromCli||this.isExtensionDevelopmentDebugging||(this.windowService.broadcast({channel:t.EXTENSION_TERMINATE_BROADCAST_CHANNEL,payload:!0},this.contextService.getConfiguration().env.extensionDevelopmentPath),e.veto(u.TPromise.timeout(100).then(function(){return!1})))},a}()}),define(l[43],d([1,0,64,6,753]),function(e,t,i,n,o){"use strict";t.IWorkspaceContextService=n.createDecorator("contextService");var r=function(e){function n(i,n,o,r){void 0===r&&(r={}),e.call(this,n,o,r),this.eventService=i,this.serviceId=t.IWorkspaceContextService}return h(n,e),n.prototype.updateOptions=function(e,t){var n=this.options[e];this.options[e]=t,this.eventService.emit(i.EventType.WORKBENCH_OPTIONS_CHANGED,new i.OptionsChangeEvent(e,n,t))},n}(o.BaseWorkspaceContextService);t.WorkspaceContextService=r}),define(l[967],d([1,0,472,25,19,76,12,27,15,42,22,43,34,35,108]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v){"use strict";var y=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.fileService=n,this.contextService=o,this.editorService=r}return h(t,e),t.prototype.run=function(e){var s=this,a=o["default"].file(n.join(this.contextService.getConfiguration().env.appSettingsHome,"locale.json"));return this.fileService.resolveFile(a).then(null,function(e){return s.fileService.createFile(a,t.DEFAULT_CONTENT)}).then(function(e){if(e)return s.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}})},function(e){throw new Error(i.localize(4,null,r.getPathLabel(a,s.contextService),e))})},t.ID="workbench.action.configureLocale",t.LABEL=i.localize(0,null),t.DEFAULT_CONTENT=["{","\t// "+i.localize(1,null),"\t// "+i.localize(2,null,"https://go.microsoft.com/fwlink/?LinkId=761051"),"\t// "+i.localize(3,null),'\t"locale":"'+s.language+'"',"}"].join("\n"),t=g([m(2,p.IFileService),m(3,d.IWorkspaceContextService),m(4,l.IWorkbenchEditorService)],t)}(a.Action),E=c.Registry.as(u.Extensions.WorkbenchActions);E.registerWorkbenchAction(new f.SyncActionDescriptor(y,y.ID,y.LABEL),"Configure Language");var S="vscode://schemas/locale",b={id:S,description:"Locale Definition file",type:"object","default":{locale:"en"},required:["locale"],properties:{locale:{type:"string","enum":["de","en","en-US","es","fr","it","ja","ko","ru","zh-CN","zh-TW"],description:i.localize(5,null)}}},_=c.Registry.as(v.Extensions.JSONContribution);_.registerSchema(S,b)}),define(l[222],d([1,0,2,473,19,98,76,15,27,9,42,131,256,22,43,23,56,44,39,34,18,20,35,6,13]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A){"use strict";var L=function(e){function t(t,i,n,o,r,s,a,c,u,l){e.call(this,t,i),this.editorService=n,this.editorGroupService=o,this.fileService=r,this.configurationService=s,this.messageService=a,this.contextService=c,this.keybindingService=u,this.instantiationService=l,this.enabled=!0}return h(t,e),t.prototype.createIfNotExists=function(e,t){var o=this;return this.fileService.resolveContent(e,{acceptTextOnly:!0}).then(null,function(r){return r.fileOperationResult===_.FileOperationResult.FILE_NOT_FOUND?o.fileService.updateContent(e,t).then(null,function(t){return i.TPromise.wrapError(new Error(n.localize(0,null,s.getPathLabel(e,o.contextService),t)))}):i.TPromise.wrapError(r)})},t.prototype.openTwoEditors=function(e,t,i){var n=this;return this.createIfNotExists(t,i).then(function(){return n.editorService.createInput({resource:t}).then(function(t){var i=[{input:e,position:E.Position.LEFT},{input:t,position:E.Position.CENTER}];return n.editorService.openEditors(i).then(function(){n.editorGroupService.focusGroup(E.Position.CENTER)})})})},t=g([m(2,f.IWorkbenchEditorService),m(3,S.IEditorGroupService),m(4,_.IFileService),m(5,y.IConfigurationService),m(6,C.IMessageService),m(7,v.IWorkspaceContextService),m(8,w.IKeybindingService),m(9,T.IInstantiationService)],t)}(c.Action);t.BaseTwoEditorsAction=L;var D=function(e){function t(t,i,n,o,r,s,a,c,u,l){e.call(this,t,i,n,o,r,s,a,c,u,l)}return h(t,e),t.prototype.open=function(e,t){return this.openTwoEditors(R.getInstance(this.instantiationService,this.configurationService),t,e)},t=g([m(2,f.IWorkbenchEditorService),m(3,S.IEditorGroupService),m(4,_.IFileService),m(5,y.IConfigurationService),m(6,C.IMessageService),m(7,v.IWorkspaceContextService),m(8,w.IKeybindingService),m(9,T.IInstantiationService)],t)}(L);t.BaseOpenSettingsAction=D;var k=function(e){function t(t,i,n,o,r,s,a,c,u,l,d){e.call(this,t,i,n,o,r,s,a,c,u,l),this.storageService=d}return h(t,e),t.prototype.run=function(e){var r=this;this.configurationService.hasWorkspaceConfiguration()&&!this.storageService.getBoolean(t.SETTINGS_INFO_IGNORE_KEY,b.StorageScope.WORKSPACE)&&this.messageService.show(C.Severity.Info,{message:n.localize(2,null),actions:[C.CloseAction,new c.Action("neverShowAgain",n.localize(3,null),null,(!0),function(){return r.storageService.store(t.SETTINGS_INFO_IGNORE_KEY,!0,b.StorageScope.WORKSPACE),i.TPromise.as(!0)}),new c.Action("open.workspaceSettings",n.localize(4,null),null,(!0),function(){var e=r.editorService.getVisibleEditors().length;return r.editorService.createInput({resource:r.contextService.toResource(".vscode/settings.json")}).then(function(t){return r.editorService.openEditor(t,null,2===e?E.Position.RIGHT:1===e?E.Position.CENTER:void 0)})})]});var s=n.localize(5,null);return this.open("// "+s+"\n{\n}",o["default"].file(this.contextService.getConfiguration().env.appSettingsPath))},t.ID="workbench.action.openGlobalSettings",t.LABEL=n.localize(1,null),t.SETTINGS_INFO_IGNORE_KEY="settings.workspace.info.ignore",t=g([m(2,f.IWorkbenchEditorService),m(3,S.IEditorGroupService),m(4,_.IFileService),m(5,y.IConfigurationService),m(6,C.IMessageService),m(7,v.IWorkspaceContextService),m(8,w.IKeybindingService),m(9,T.IInstantiationService),m(10,b.IStorageService)],t)}(D);t.OpenGlobalSettingsAction=k;var x=function(e){function t(t,i,n,o,r,s,a,c,u,l){e.call(this,t,i,n,o,r,s,a,c,u,l)}return h(t,e),t.prototype.run=function(e){var t="// "+n.localize(7,null)+"\n[\n]";return this.openTwoEditors(O.getInstance(this.instantiationService,this.keybindingService),o["default"].file(this.contextService.getConfiguration().env.appKeybindingsPath),t)},t.ID="workbench.action.openGlobalKeybindings",t.LABEL=n.localize(6,null),t=g([m(2,f.IWorkbenchEditorService),m(3,S.IEditorGroupService),m(4,_.IFileService),m(5,y.IConfigurationService),m(6,C.IMessageService),m(7,v.IWorkspaceContextService),m(8,w.IKeybindingService),m(9,T.IInstantiationService)],t)}(L);t.OpenGlobalKeybindingsAction=x;var M=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.run=function(e){if(!this.contextService.getWorkspace())return void this.messageService.show(C.Severity.Info,n.localize(9,null));var t=["// "+n.localize(10,null),"{","}"].join("\n");return this.open(t,this.contextService.toResource(".vscode/settings.json"))},t.ID="workbench.action.openWorkspaceSettings",t.LABEL=n.localize(8,null),t}(D);t.OpenWorkspaceSettingsAction=M;var R=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.getInstance=function(e,i){if(!t.INSTANCE){var o=i.getConfiguration(),r=p.getDefaultValuesContent(o.editor.insertSpaces?u.repeat(" ",o.editor.tabSize):"\t"),s="// "+n.localize(11,null);s+="\n// "+n.localize(12,null),t.INSTANCE=e.createInstance(t,n.localize(13,null),null,s+"\n"+r,"application/json",!1)}return t.INSTANCE},t.prototype.getResource=function(){return o["default"].from({scheme:r.Schemas.vscode,authority:"defaultsettings",path:"/settings.json"})},t}(d.StringEditorInput),O=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.getInstance=function(e,i){if(!t.INSTANCE){var o="// "+n.localize(14,null),r=i.getDefaultKeybindings();t.INSTANCE=e.createInstance(t,n.localize(15,null),null,o+"\n"+r,"application/json",!1)}return t.INSTANCE},t.prototype.getResource=function(){return o["default"].from({scheme:r.Schemas.vscode,authority:"defaultsettings",path:"/keybindings.json"})},t}(d.StringEditorInput),P=n.localize(16,null),N=a.Registry.as(l.Extensions.WorkbenchActions);N.registerWorkbenchAction(new I.SyncActionDescriptor(k,k.ID,k.LABEL,{primary:null,mac:{primary:A.KeyMod.CtrlCmd|A.KeyCode.US_COMMA}}),"Preferences: Open User Settings",P),N.registerWorkbenchAction(new I.SyncActionDescriptor(x,x.ID,x.LABEL),"Preferences: Open Keyboard Shortcuts",P),N.registerWorkbenchAction(new I.SyncActionDescriptor(M,M.ID,M.LABEL),"Preferences: Open Workspace Settings",P)}),define(l[969],d([1,0,31,122,22,55,43,57,39,51,28,91,5,44]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";var f=170,v=77,y=170,E=50,S=50,b=function(){function e(){this.margin=new i.Box(0,0,0,0)}return e.prototype.setMargin=function(e){return this.margin=e,this},e}();t.LayoutOptions=b;var _=function(){function e(t,i,o,r,s,a,u,l,d,h,p,f,g,m){var v=this;this.storageService=a,this.contextViewService=l,this.editorService=d,this.editorGroupService=h,this.contextService=p,this.partService=f,this.viewletService=g,this.parent=t,this.workbenchContainer=i,this.activitybar=o.activitybar,this.editor=o.editor,this.sidebar=o.sidebar,this.panel=o.panel,this.statusbar=o.statusbar,this.quickopen=r,this.options=s||new b,this.toUnbind=[],this.computedStyles=null,this.sashX=new n.Sash(this.workbenchContainer.getHTMLElement(),this,{baseSize:5}),this.sashY=new n.Sash(this.workbenchContainer.getHTMLElement(),this,{baseSize:4,orientation:n.Orientation.HORIZONTAL}),this.sidebarWidth=this.storageService.getInteger(e.sashXWidthSettingsKey,c.StorageScope.GLOBAL,-1),this.panelHeight=this.storageService.getInteger(e.sashYHeightSettingsKey,c.StorageScope.GLOBAL,0),this.toUnbind.push(m.onDidThemeChange(function(e){return v.relayout()})),this.toUnbind.push(h.onEditorsChanged(function(){return v.onEditorsChanged()})),this.registerSashListeners()}return e.prototype.registerSashListeners=function(){var t=this,i=0,n=0;this.sashX.addListener2("start",function(e){t.startSidebarWidth=t.sidebarWidth,i=e.startX}),this.sashY.addListener2("start",function(e){t.startPanelHeight=t.panelHeight,n=e.startY}),this.sashX.addListener2("change",function(e){var n=!1,o=t.partService.getSideBarPosition(),s=t.partService.isSideBarHidden(),a=o===r.Position.LEFT?t.startSidebarWidth+e.currentX-i:t.startSidebarWidth-e.currentX+i;if(s)(o===r.Position.LEFT&&e.currentX-i>=t.computedStyles.sidebar.minWidth||o===r.Position.RIGHT&&i-e.currentX>=t.computedStyles.sidebar.minWidth)&&(t.startSidebarWidth=t.computedStyles.sidebar.minWidth-(o===r.Position.LEFT?e.currentX-i:i-e.currentX),t.sidebarWidth=t.computedStyles.sidebar.minWidth,t.partService.setSideBarHidden(!1));else if(a+E<t.computedStyles.sidebar.minWidth){var c=f-E;t.partService.setSideBarHidden(!0),i=o===r.Position.LEFT?Math.max(t.computedStyles.activitybar.minWidth,e.currentX-c):Math.min(e.currentX+c,t.workbenchSize.width-t.computedStyles.activitybar.minWidth),t.sidebarWidth=t.startSidebarWidth}else t.sidebarWidth=Math.max(t.computedStyles.sidebar.minWidth,a),n=a>=t.computedStyles.sidebar.minWidth;n&&t.layout()}),this.sashY.addListener2("change",function(e){var i=!1,o=t.partService.isPanelHidden(),r=t.partService.isStatusBarHidden(),s=t.startPanelHeight-(e.currentY-n);if(o)n-e.currentY>=t.computedStyles.panel.minHeight&&(t.startPanelHeight=0,t.panelHeight=t.computedStyles.panel.minHeight,t.partService.setPanelHidden(!1));else if(s+S<t.computedStyles.panel.minHeight){var a=v-S;t.partService.setPanelHidden(!0);var c=r?0:t.computedStyles.statusbar.height;n=Math.min(t.sidebarHeight-c,e.currentY+a),t.panelHeight=t.startPanelHeight}else t.panelHeight=Math.max(t.computedStyles.panel.minHeight,s),i=s>=t.computedStyles.panel.minHeight;i&&t.layout()}),this.sashX.addListener2("end",function(){t.storageService.store(e.sashXWidthSettingsKey,t.sidebarWidth,c.StorageScope.GLOBAL)}),this.sashY.addListener2("end",function(){t.storageService.store(e.sashYHeightSettingsKey,t.panelHeight,c.StorageScope.GLOBAL)}),this.sashY.addListener2("reset",function(){t.panelHeight=v,t.storageService.store(e.sashYHeightSettingsKey,t.panelHeight,c.StorageScope.GLOBAL),t.partService.setPanelHidden(!1),t.layout()}),this.sashX.addListener2("reset",function(){var i=t.viewletService.getActiveViewlet(),n=i&&i.getOptimalWidth();t.sidebarWidth=Math.max(f,n||0),t.storageService.store(e.sashXWidthSettingsKey,t.sidebarWidth,c.StorageScope.GLOBAL),t.partService.setSideBarHidden(!1),t.layout()})},e.prototype.onEditorsChanged=function(){if(this.workbenchSize&&this.sidebarWidth){var e=this.editorService.getVisibleEditors().length;e>1&&this.workbenchSize.width-this.sidebarWidth<e*f&&this.layout()}},e.prototype.relayout=function(){this.computeStyle(),this.editor.getLayout().computeStyle(),this.sidebar.getLayout().computeStyle(),this.panel.getLayout().computeStyle(),this.layout()},e.prototype.computeStyle=function(){var e=this.sidebar.getContainer().getComputedStyle(),t=this.panel.getContainer().getComputedStyle(),i=this.editor.getContainer().getComputedStyle(),n=this.activitybar.getContainer().getComputedStyle(),o=this.statusbar.getContainer().getComputedStyle();this.computedStyles={activitybar:{minWidth:parseInt(n.getPropertyValue("min-width"),10)||0},sidebar:{minWidth:parseInt(e.getPropertyValue("min-width"),10)||f},panel:{minHeight:parseInt(t.getPropertyValue("min-height"),10)||v},editor:{minWidth:parseInt(i.getPropertyValue("min-width"),10)||f},statusbar:{height:parseInt(o.getPropertyValue("height"),10)||18}}},e.prototype.layout=function(t){t&&(this.computeStyle(),this.editor.getLayout().computeStyle(),this.sidebar.getLayout().computeStyle(),this.panel.getLayout().computeStyle()),this.computedStyles||this.computeStyle(),this.workbenchSize=this.getWorkbenchArea();var n,o=this.partService.isSideBarHidden(),s=this.partService.isPanelHidden(),a=this.partService.getSideBarPosition(),u=this.partService.isStatusBarHidden();o?n=0:this.sidebarWidth!==-1?n=Math.max(this.computedStyles.sidebar.minWidth,this.sidebarWidth):(n=this.workbenchSize.width/5,this.sidebarWidth=n);var l=u?0:this.computedStyles.statusbar.height;this.sidebarHeight=this.workbenchSize.height-l;var d,h=new i.Dimension(n,this.sidebarHeight),p=this.computedStyles.activitybar.minWidth,g=new i.Dimension(p,h.height);d=s?0:this.panelHeight>0?Math.min(h.height-y,Math.max(this.computedStyles.panel.minHeight,this.panelHeight)):.4*h.height;var m=new i.Dimension(this.workbenchSize.width-h.width-g.width,d);this.panelWidth=m.width;var v={width:0,height:0,remainderLeft:0,remainderRight:0},E=new i.Dimension(m.width,h.height-m.height);v.width=E.width,v.height=E.height,o&&(v.width=Math.min(this.workbenchSize.width-g.width,this.workbenchSize.width-p),a===r.Position.LEFT?(v.remainderLeft=Math.round((this.workbenchSize.width-v.width+g.width)/2),v.remainderRight=this.workbenchSize.width-v.width-v.remainderLeft):(v.remainderRight=Math.round((this.workbenchSize.width-v.width+g.width)/2),v.remainderLeft=this.workbenchSize.width-v.width-v.remainderRight));var S=this.computedStyles.editor.minWidth,b=this.editorService.getVisibleEditors().length;if(b>1&&(S*=b),v.width<S){var _=S-v.width;v.width=S,m.width=S,h.width-=_,h.width=Math.max(f,h.width)}o||(this.sidebarWidth=h.width,this.storageService.store(e.sashXWidthSettingsKey,this.sidebarWidth,c.StorageScope.GLOBAL)),s||(this.panelHeight=m.height,this.storageService.store(e.sashYHeightSettingsKey,this.panelHeight,c.StorageScope.GLOBAL)),this.workbenchContainer.position(this.options.margin.top,this.options.margin.right,this.options.margin.bottom,this.options.margin.left,"relative").size(this.workbenchSize.width,this.workbenchSize.height),this.workbenchContainer.getHTMLElement().scrollTop>0&&(this.workbenchContainer.getHTMLElement().scrollTop=0),this.editor.getContainer().size(v.width,v.height),this.panel.getContainer().size(m.width,m.height);var C=l+m.height;o?(this.editor.getContainer().position(0,v.remainderRight,C,v.remainderLeft),this.panel.getContainer().position(E.height,v.remainderRight,l,v.remainderLeft)):a===r.Position.LEFT?(this.editor.getContainer().position(0,0,C,h.width+g.width),this.panel.getContainer().position(E.height,0,l,h.width+g.width)):(this.editor.getContainer().position(0,h.width,C,0),this.panel.getContainer().position(E.height,h.width,l,0)),this.activitybar.getContainer().size(null,g.height),a===r.Position.LEFT?(this.activitybar.getContainer().getHTMLElement().style.right="",this.activitybar.getContainer().position(0,null,0,0)):(this.activitybar.getContainer().getHTMLElement().style.left="",this.activitybar.getContainer().position(0,0,0,null)),this.sidebar.getContainer().size(h.width,h.height),a===r.Position.LEFT?this.sidebar.getContainer().position(0,v.width,0,g.width):this.sidebar.getContainer().position(0,null,0,v.width),this.statusbar.getContainer().position(this.workbenchSize.height-l),this.quickopen.layout(this.workbenchSize),this.sashX.layout(),this.sashY.layout(),this.editor.layout(new i.Dimension(v.width,v.height)),this.sidebar.layout(h),this.panel.layout(m),this.contextViewService.layout()},e.prototype.getWorkbenchArea=function(){var e=this.parent.getClientArea();return e.substract(this.options.margin)},e.prototype.getVerticalSashTop=function(e){return 0},e.prototype.getVerticalSashLeft=function(e){var t=this.partService.isSideBarHidden(),i=this.partService.getSideBarPosition(),n=this.computedStyles.activitybar.minWidth;return i===r.Position.LEFT?t?n:this.sidebarWidth+n:t?this.workbenchSize.width-n:this.workbenchSize.width-this.sidebarWidth-n},e.prototype.getVerticalSashHeight=function(e){return this.sidebarHeight},e.prototype.getHorizontalSashTop=function(e){return 2+(this.partService.isPanelHidden()?this.sidebarHeight:this.sidebarHeight-this.panelHeight)},e.prototype.getHorizontalSashLeft=function(e){return this.partService.getSideBarPosition()===r.Position.LEFT?this.getVerticalSashLeft(e):0},e.prototype.getHorizontalSashWidth=function(e){return this.panelWidth},e.prototype.dispose=function(){this.toUnbind&&(h.dispose(this.toUnbind),this.toUnbind=null)},e.sashXWidthSettingsKey="workbench.sidebar.width",e.sashYHeightSettingsKey="workbench.panel.height",e=g([m(5,c.IStorageService),m(6,l.IEventService),m(7,u.IContextViewService),m(8,o.IWorkbenchEditorService),m(9,p.IEditorGroupService),m(10,s.IWorkspaceContextService),m(11,r.IPartService),m(12,a.IViewletService),m(13,d.IThemeService)],e)}();t.WorkbenchLayout=_}),define(l[104],d([1,0,29,152,64,65,147,43,39,23,28,6,18,21,22,45,91]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(e){function t(t,i,n,r,s,a,c,u,l,d,h){var p=this;e.call(this,t,i),this._instantiationService=n,this._contextService=r,this._storageService=s,this._messageService=a,this.configurationService=c,this._eventService=u,this._editorService=l,this._modeService=d,this._themeService=h,this.toUnbind.push(this._eventService.addListener2(o.EventType.WORKBENCH_OPTIONS_CHANGED,function(e){
return p.onOptionsChanged(e)})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(e){return p.applyConfiguration(e.config)})),this.toUnbind.push(h.onDidThemeChange(function(e){return p.onThemeChanged()}))}return h(t,e),Object.defineProperty(t.prototype,"instantiationService",{get:function(){return this._instantiationService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storageService",{get:function(){return this._storageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),t.prototype.applyConfiguration=function(e){if(this.editorControl){var t=this.getCodeEditorOptions();e=i.clone(e),i.assign(e[s.EditorConfiguration.EDITOR_SECTION],t),s.EditorConfiguration.apply(e,this.editorControl)}this._modeService.configureAllModes(e)},t.prototype.onOptionsChanged=function(e){this.editorControl&&this.editorControl.updateOptions(this.getCodeEditorOptions())},t.prototype.onThemeChanged=function(){this.editorControl.updateOptions(this.getCodeEditorOptions())},t.prototype.getCodeEditorOptions=function(){var e={overviewRulerLanes:3,glyphMargin:!0,lineNumbersMinChars:3,theme:this._themeService.getTheme()};return i.mixin(e,this.contextService.getOptions().editor)},Object.defineProperty(t.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorContainer",{get:function(){return this._editorContainer},enumerable:!0,configurable:!0}),t.prototype.createEditor=function(e){this._editorContainer=e,this.editorControl=this.createEditorControl(e),this.applyConfiguration(this.configurationService.getConfiguration())},t.prototype.createEditorControl=function(e){return this._instantiationService.createInstance(n.CodeEditorWidget,e.getHTMLElement(),this.getCodeEditorOptions())},t.prototype.setInput=function(t,i){var n=this;return e.prototype.setInput.call(this,t,i).then(function(){n.editorControl.updateOptions(n.getCodeEditorOptions())})},t.prototype.setEditorVisible=function(t,i){void 0===i&&(i=null),t?this.editorControl.onVisible():this.editorControl.onHide(),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.focus=function(){this.editorControl.focus()},t.prototype.layout=function(e){this.editorControl.layout(e)},t.prototype.getControl=function(){return this.editorControl},t.prototype.getSelection=function(){return this.editorControl.getSelection()},t.prototype.dispose=function(){this.editorControl.destroy(),e.prototype.dispose.call(this)},t=g([m(1,f.ITelemetryService),m(2,d.IInstantiationService),m(3,a.IWorkspaceContextService),m(4,c.IStorageService),m(5,p.IMessageService),m(6,u.IConfigurationService),m(7,l.IEventService),m(8,v.IWorkbenchEditorService),m(9,y.IModeService),m(10,E.IThemeService)],t)}(r.BaseEditor);t.BaseTextEditor=S}),define(l[176],d([1,0,2,483,27,30,92,69,22,50,55,56,6,146,20,44,104]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";function S(e){if(e instanceof s.QuickOpenEntryGroup){var t=e;t.getEntry()&&(e=t.getEntry())}return e instanceof a.EditorQuickOpenEntry||e instanceof a.EditorQuickOpenEntryGroup?e:null}function b(e,t,i){if(i)return{input:i.editor,position:t.getStacksModel().positionOfGroup(i.group)};var n=e.getActiveEditor();return n?{input:n.input,position:n.position}:null}var _=function(e){function t(t,i,n,o){e.call(this,t,i,"split-editor-action"),this.editorService=n,this.editorGroupService=o}return h(t,e),t.prototype.run=function(e){var t,n=this;if(t=e?this.editorService.getVisibleEditors()[this.editorGroupService.getStacksModel().positionOfGroup(e.group)]:this.editorService.getActiveEditor(),!t)return i.TPromise.as(!0);if(t.input instanceof r.EditorInput&&!t.input.supportsSplitEditor())return i.TPromise.as(!0);var o;t instanceof E.BaseTextEditor?(o=new r.TextEditorOptions,o.viewState(t.getControl().saveViewState())):o=new r.EditorOptions,o.pinned=!0;var s,a=this.editorService.getVisibleEditors(),c=a.length;switch(c){case 1:s=d.Position.CENTER;break;case 2:if(t.position===d.Position.CENTER)s=d.Position.RIGHT;else if(t.position===d.Position.LEFT)return o.preserveFocus=!0,this.editorService.openEditor(t.input,o,d.Position.RIGHT).then(function(){n.editorGroupService.moveGroup(d.Position.RIGHT,d.Position.CENTER),n.editorGroupService.focusGroup(d.Position.CENTER)})}return"number"==typeof s?this.editorService.openEditor(t.input,o,s):i.TPromise.as(!0)},t.ID="workbench.action.splitEditor",t.LABEL=n.localize(0,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService)],t)}(o.Action);t.SplitEditorAction=_;var C=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.editorGroupService=o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return i.TPromise.as(!1);var t=this.editorService.getVisibleEditors(),n=t.length,o=(e.position+1)%n;return this.editorGroupService.focusGroup(o),i.TPromise.as(!0)},t.ID="workbench.action.navigateEditorGroups",t.LABEL=n.localize(1,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService)],t)}(o.Action);t.NavigateBetweenGroupsAction=C;var w=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorService=n,this.editorGroupService=o,this.historyService=r}return h(t,e),t.prototype.run=function(){for(var e=this.editorService.getVisibleEditors(),t=0,n=e;t<n.length;t++){var o=n[t];if(o.position===d.Position.LEFT)return this.editorGroupService.focusGroup(d.Position.LEFT),i.TPromise.as(!0)}for(var s=this.historyService.getHistory(),a=0,c=s;a<c.length;a++){var u=c[a];if(r.getUntitledOrFileResource(u))return this.editorService.openEditor(u,null,d.Position.LEFT)}return i.TPromise.as(!0)},t.ID="workbench.action.focusFirstEditorGroup",t.LABEL=n.localize(2,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService),m(4,f.IHistoryService)],t)}(o.Action);t.FocusFirstGroupAction=w;var I=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorService=n,this.editorGroupService=o,this.historyService=r}return h(t,e),t.prototype.run=function(){for(var e,t=this.editorService.getVisibleEditors(),n=0;n<t.length;n++){var o=t[n];if(o.position===this.getTargetEditorSide())return this.editorGroupService.focusGroup(o.position),i.TPromise.as(!0);o.position===this.getReferenceEditorSide()&&(e=o)}if(e&&e.input.supportsSplitEditor()){var s=void 0;return e instanceof E.BaseTextEditor?(s=new r.TextEditorOptions,s.pinned=!0,s.viewState(e.getControl().saveViewState())):s=r.EditorOptions.create({pinned:!0}),this.editorService.openEditor(e.input,s,this.getTargetEditorSide())}if(e)for(var a=this.historyService.getHistory(),c=0,u=a;c<u.length;c++){var l=u[c];if(r.getUntitledOrFileResource(l))return this.editorService.openEditor(l,r.EditorOptions.create({pinned:!0}),this.getTargetEditorSide())}return i.TPromise.as(!0)},t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService),m(4,f.IHistoryService)],t)}(o.Action);t.BaseFocusSideGroupAction=I;var T=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.getReferenceEditorSide=function(){return d.Position.LEFT},t.prototype.getTargetEditorSide=function(){return d.Position.CENTER},t.ID="workbench.action.focusSecondEditorGroup",t.LABEL=n.localize(3,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService),m(4,f.IHistoryService)],t)}(I);t.FocusSecondGroupAction=T;var A=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o,r)}return h(t,e),t.prototype.getReferenceEditorSide=function(){return d.Position.CENTER},t.prototype.getTargetEditorSide=function(){return d.Position.RIGHT},t.ID="workbench.action.focusThirdEditorGroup",t.LABEL=n.localize(4,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService),m(4,f.IHistoryService)],t)}(I);t.FocusThirdGroupAction=A;var L=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!e)return i.TPromise.as(!0);var t=d.Position.LEFT;return e.position===d.Position.RIGHT&&(t=d.Position.CENTER),this.editorGroupService.focusGroup(t),i.TPromise.as(!0)},t.ID="workbench.action.focusPreviousGroup",t.LABEL=n.localize(5,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.FocusPreviousGroup=L;var D=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.navigateActions=[],this.navigateActions[d.Position.LEFT]=o.createInstance(w,w.ID,w.LABEL),this.navigateActions[d.Position.CENTER]=o.createInstance(T,T.ID,T.LABEL),this.navigateActions[d.Position.RIGHT]=o.createInstance(A,A.ID,A.LABEL)}return h(t,e),t.prototype.run=function(e){var t,n=this.editorService.getActiveEditor();return n?n.position===d.Position.LEFT?t=d.Position.CENTER:n.position===d.Position.CENTER&&(t=d.Position.RIGHT):t=d.Position.LEFT,"number"==typeof t&&this.navigateActions[t]?this.navigateActions[t].run(e):i.TPromise.as(!0)},t.ID="workbench.action.focusNextGroup",t.LABEL=n.localize(6,null),t=g([m(2,c.IWorkbenchEditorService),m(3,p.IInstantiationService)],t)}(o.Action);t.FocusNextGroup=D;var k=function(e){function t(i){e.call(this,t.OPEN_TO_SIDE_ID,t.OPEN_TO_SIDE_LABEL),this.editorService=i,this["class"]="quick-open-sidebyside",this.updateEnablement()}return h(t,e),t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!e||e.position!==d.Position.RIGHT},t.prototype.run=function(e){var t=this,n=S(e);if(n){var o=void 0,s=n.getInput();return o=s instanceof r.EditorInput?i.TPromise.as(s):this.editorService.createInput(s),o.then(function(e){return t.editorService.openEditor(e,n.getOptions(),!0)})}return i.TPromise.as(!1)},t.OPEN_TO_SIDE_ID="workbench.action.openToSide",t.OPEN_TO_SIDE_LABEL=n.localize(7,null),t=g([m(0,c.IWorkbenchEditorService)],t)}(o.Action);t.OpenToSideAction=k,t.toEditorQuickOpenEntry=S;var x=function(e){function t(t,i,n,o){e.call(this,t,i,"close-editor-action"),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var n=this.editorService.getActiveEditor();if(n)return this.editorService.closeEditor(n.position,n.input)}var o=e?e.editor:null;if(!o){var r=this.editorService.getVisibleEditors();r[t]&&(o=r[t].input)}return o?this.editorService.closeEditor(t,o):i.TPromise.as(!1)},t.ID="workbench.action.closeEditor",t.LABEL=n.localize(8,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.CloseEditorAction=x;var M=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.groupService=o}return h(t,e),t.prototype.run=function(e){var t=b(this.editorService,this.groupService,e);return t?this.editorService.closeEditors(t.position,t.input,d.Direction.LEFT):i.TPromise.as(!1)},t.ID="workbench.action.closeEditorsToTheLeft",t.LABEL=n.localize(9,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService)],t)}(o.Action);t.CloseLeftEditorsInGroupAction=M;var R=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.groupService=o}return h(t,e),t.prototype.run=function(e){var t=b(this.editorService,this.groupService,e);return t?this.editorService.closeEditors(t.position,t.input,d.Direction.RIGHT):i.TPromise.as(!1)},t.ID="workbench.action.closeEditorsToTheRight",t.LABEL=n.localize(10,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService)],t)}(o.Action);t.CloseRightEditorsInGroupAction=R;var O=function(e){function t(t,i,n){e.call(this,t,i,"action-close-all-files"),this.editorService=n}return h(t,e),t.prototype.run=function(){return this.editorService.closeAllEditors()},t.ID="workbench.action.closeAllEditors",t.LABEL=n.localize(11,null),t=g([m(2,c.IWorkbenchEditorService)],t)}(o.Action);t.CloseAllEditorsAction=O;var P=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var n=this.editorService.getActiveEditor();n&&(t=n.position)}return"number"==typeof t?this.editorService.closeAllEditors(t):i.TPromise.as(!1)},t.ID="workbench.action.closeEditorsInOtherGroups",t.LABEL=n.localize(12,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.CloseEditorsInOtherGroupsAction=P;var N=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null,n=e?e.editor:null,o=this.editorService.getActiveEditor();return o&&(t="number"==typeof t?t:o.position,n=n?n:o.input),"number"==typeof t&&n?this.editorService.closeEditors(t,n):i.TPromise.as(!1)},t.ID="workbench.action.closeOtherEditors",t.LABEL=n.localize(13,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.CloseOtherEditorsInGroupAction=N;var F=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var n=this.editorService.getActiveEditor();n&&(t=n.position)}return"number"==typeof t?this.editorService.closeEditors(t):i.TPromise.as(!1)},t.ID="workbench.action.closeEditorsInGroup",t.LABEL=n.localize(14,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.CloseEditorsInGroupAction=F;var W=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var n=this.editorService.getActiveEditor();!n||n.position!==d.Position.CENTER&&n.position!==d.Position.RIGHT||(t=n.position)}if("number"==typeof t){var o=t===d.Position.CENTER?d.Position.LEFT:d.Position.CENTER;this.editorGroupService.moveGroup(t,o)}return i.TPromise.as(!1)},t.ID="workbench.action.moveActiveEditorGroupLeft",t.LABEL=n.localize(15,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.MoveGroupLeftAction=W;var B=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=e?this.editorGroupService.getStacksModel().positionOfGroup(e.group):null;if("number"!=typeof t){var n=this.editorService.getActiveEditor(),o=this.editorService.getVisibleEditors();(2===o.length&&n.position===d.Position.LEFT||3===o.length&&n.position!==d.Position.RIGHT)&&(t=n.position)}if("number"==typeof t){var r=t===d.Position.LEFT?d.Position.CENTER:d.Position.RIGHT;this.editorGroupService.moveGroup(t,r)}return i.TPromise.as(!1)},t.ID="workbench.action.moveActiveEditorGroupRight",t.LABEL=n.localize(16,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.MoveGroupRightAction=B;var K=function(e){function t(t,i,n){e.call(this,t,i),this.editorGroupService=n}return h(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(c.GroupArrangement.MINIMIZE_OTHERS),i.TPromise.as(!1)},t.ID="workbench.action.minimizeOtherEditors",t.LABEL=n.localize(17,null),t=g([m(2,y.IEditorGroupService)],t)}(o.Action);t.MinimizeOtherGroupsAction=K;var V=function(e){function t(t,i,n){e.call(this,t,i),this.editorGroupService=n}return h(t,e),t.prototype.run=function(){return this.editorGroupService.arrangeGroups(c.GroupArrangement.EVEN_WIDTH),i.TPromise.as(!1)},t.ID="workbench.action.evenEditorWidths",t.LABEL=n.localize(18,null),t=g([m(2,y.IEditorGroupService)],t)}(o.Action);t.EvenGroupWidthsAction=V;var H=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorService=n,this.editorGroupService=o,this.partService=r}return h(t,e),t.prototype.run=function(){return this.editorService.getActiveEditor()&&(this.editorGroupService.arrangeGroups(c.GroupArrangement.MINIMIZE_OTHERS),this.partService.setSideBarHidden(!0)),i.TPromise.as(!1)},t.ID="workbench.action.maximizeEditor",t.LABEL=n.localize(19,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService),m(4,l.IPartService)],t)}(o.Action);t.MaximizeGroupAction=H;var z=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(e){var t=b(this.editorService,this.editorGroupService,e);return t&&this.editorGroupService.pinEditor(t.position,t.input),i.TPromise.as(!0)},t.ID="workbench.action.keepEditor",t.LABEL=n.localize(20,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.KeepEditorAction=z;var U=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(){var e=this.editorGroupService.getStacksModel(),t=this.navigate();return t?this.editorService.openEditor(t.editor,null,e.positionOfGroup(t.group)):i.TPromise.as(!1)},t}(o.Action);t.BaseNavigateEditorAction=U;var G=function(e){function t(t,i,n,o){e.call(this,t,i,n,o)}return h(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().next()},t.ID="workbench.action.nextEditor",t.LABEL=n.localize(21,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(U);t.OpenNextEditor=G;var j=function(e){function t(t,i,n,o){e.call(this,t,i,n,o)}return h(t,e),t.prototype.navigate=function(){return this.editorGroupService.getStacksModel().previous()},t.ID="workbench.action.previousEditor",t.LABEL=n.localize(22,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(U);t.OpenPreviousEditor=j;var q=function(e){function t(t,i,n){e.call(this,t,i),this.historyService=n}return h(t,e),t.prototype.run=function(){return this.historyService.forward(),i.TPromise.as(null)},t.ID="workbench.action.navigateForward",t.LABEL=n.localize(23,null),t=g([m(2,f.IHistoryService)],t)}(o.Action);t.NavigateForwardAction=q;var Y=function(e){function t(t,i,n){e.call(this,t,i),this.historyService=n}return h(t,e),t.prototype.run=function(){return this.historyService.back(),i.TPromise.as(null)},t.ID="workbench.action.navigateBack",t.LABEL=n.localize(24,null),t=g([m(2,f.IHistoryService)],t)}(o.Action);t.NavigateBackwardsAction=Y;var $=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.historyService=n,this.editorGroupService=o,this.editorService=r}return h(t,e),t.prototype.run=function(){for(var e=this.editorGroupService.getStacksModel(),t=this.historyService.popLastClosedEditor();t&&e.activeGroup&&e.activeGroup.indexOf(t)>=0;)t=this.historyService.popLastClosedEditor();return t&&this.editorService.openEditor(t,r.EditorOptions.create({pinned:!0})),i.TPromise.as(!1)},t.ID="workbench.action.reopenClosedEditor",t.LABEL=n.localize(25,null),t=g([m(2,f.IHistoryService),m(3,y.IEditorGroupService),m(4,c.IWorkbenchEditorService)],t)}(o.Action);t.ReopenClosedEditorAction=$,t.NAVIGATE_IN_LEFT_GROUP_PREFIX="edt left ";var X=function(e){function i(i,n,o,r){e.call(this,i,n,t.NAVIGATE_IN_LEFT_GROUP_PREFIX,o),this.editorService=r,this["class"]="show-group-editors-action"}return h(i,e),i.ID="workbench.action.showEditorsInLeftGroup",i.LABEL=n.localize(26,null),i=g([m(2,u.IQuickOpenService),m(3,c.IWorkbenchEditorService)],i)}(a.QuickOpenAction);t.ShowEditorsInLeftGroupAction=X,t.NAVIGATE_IN_CENTER_GROUP_PREFIX="edt center ";var Q=function(e){function i(i,n,o,r){e.call(this,i,n,t.NAVIGATE_IN_CENTER_GROUP_PREFIX,o),this.editorService=r,this["class"]="show-group-editors-action"}return h(i,e),i.ID="workbench.action.showEditorsInCenterGroup",i.LABEL=n.localize(27,null),i=g([m(2,u.IQuickOpenService),m(3,c.IWorkbenchEditorService)],i)}(a.QuickOpenAction);t.ShowEditorsInCenterGroupAction=Q,t.NAVIGATE_IN_RIGHT_GROUP_PREFIX="edt right ";var Z=function(e){function i(i,n,o,r){e.call(this,i,n,t.NAVIGATE_IN_RIGHT_GROUP_PREFIX,o),this.editorService=r,this["class"]="show-group-editors-action"}return h(i,e),i.ID="workbench.action.showEditorsInRightGroup",i.LABEL=n.localize(28,null),i=g([m(2,u.IQuickOpenService),m(3,c.IWorkbenchEditorService)],i)}(a.QuickOpenAction);t.ShowEditorsInRightGroupAction=Z;var J=function(e){function i(t,i,n,o){e.call(this,t,i),this.quickOpenService=n,this.editorGroupService=o}return h(i,e),i.prototype.run=function(e){var i=this.editorGroupService.getStacksModel(),n=i.groups.length;if(n<=1||!e)return this.quickOpenService.show(t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX);switch(i.positionOfGroup(e.group)){case d.Position.CENTER:return this.quickOpenService.show(2===n?t.NAVIGATE_IN_RIGHT_GROUP_PREFIX:t.NAVIGATE_IN_CENTER_GROUP_PREFIX);case d.Position.RIGHT:return this.quickOpenService.show(t.NAVIGATE_IN_RIGHT_GROUP_PREFIX)}return this.quickOpenService.show(t.NAVIGATE_IN_LEFT_GROUP_PREFIX)},i.ID="workbench.action.showEditorsInGroup",i.LABEL=n.localize(29,null),i=g([m(2,u.IQuickOpenService),m(3,y.IEditorGroupService)],i)}(o.Action);t.ShowEditorsInGroupAction=J,t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX="edt ";var ee=function(e){function i(i,n,o){e.call(this,i,n,t.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,o)}return h(i,e),i.ID="workbench.action.showAllEditors",i.LABEL=n.localize(30,null),i=g([m(2,u.IQuickOpenService)],i)}(a.QuickOpenAction);t.ShowAllEditorsAction=ee;var te=function(e){function n(t,i,n,o,r,s){e.call(this,t,i),this.quickOpenService=n,this.keybindingService=o,this.editorGroupService=r,this.editorService=s}return h(n,e),n.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id),n=this.editorGroupService.getStacksModel();if(n.activeGroup){var o=n.positionOfGroup(n.activeGroup),r=n.groups.length,s=t.NAVIGATE_IN_LEFT_GROUP_PREFIX;o===d.Position.CENTER&&3===r?s=t.NAVIGATE_IN_CENTER_GROUP_PREFIX:(o===d.Position.RIGHT||o===d.Position.CENTER&&2===r)&&(s=t.NAVIGATE_IN_RIGHT_GROUP_PREFIX),this.quickOpenService.show(s,{quickNavigateConfiguration:{keybindings:e}})}return i.TPromise.as(!0)},n=g([m(2,u.IQuickOpenService),m(3,v.IKeybindingService),m(4,y.IEditorGroupService),m(5,c.IWorkbenchEditorService)],n)}(o.Action);t.BaseQuickOpenEditorInGroupAction=te;var ie=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.ID="workbench.action.openPreviousRecentlyUsedEditorInGroup",t.LABEL=n.localize(31,null),t=g([m(2,u.IQuickOpenService),m(3,v.IKeybindingService),m(4,y.IEditorGroupService),m(5,c.IWorkbenchEditorService)],t)}(te);t.OpenPreviousRecentlyUsedEditorInGroupAction=ie;var ne=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.ID="workbench.action.openNextRecentlyUsedEditorInGroup",t.LABEL=n.localize(32,null),t=g([m(2,u.IQuickOpenService),m(3,v.IKeybindingService),m(4,y.IEditorGroupService),m(5,c.IWorkbenchEditorService)],t)}(te);t.OpenNextRecentlyUsedEditorInGroupAction=ne;var oe=function(e){function t(t,i,n){e.call(this,t,i),this.quickOpenService=n,this.order=100,this["class"]="quickopen"}return h(t,e),t.prototype.run=function(){return this.quickOpenService.show(null),i.TPromise.as(!0)},t.ID="workbench.action.quickOpen",t.LABEL=n.localize(33,null),t=g([m(2,u.IQuickOpenService)],t)}(o.Action);t.GlobalQuickOpenAction=oe;var re=function(e){function t(t,i,n,o){e.call(this,t,i),this.quickOpenService=n,this.keybindingService=o}return h(t,e),t.prototype.run=function(){var e=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.show(null,{quickNavigateConfiguration:{keybindings:e}}),i.TPromise.as(!0)},t.ID="workbench.action.openPreviousEditorFromHistory",t.LABEL=n.localize(34,null),t=g([m(2,u.IQuickOpenService),m(3,v.IKeybindingService)],t)}(o.Action);t.OpenPreviousEditorFromHistoryAction=re;var se=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorService=n,this.editorGroupService=o,this.historyService=r}return h(t,e),t.prototype.run=function(){return this.historyService.clear(),i.TPromise.as(!0)},t.ID="workbench.action.clearEditorHistory",t.LABEL=n.localize(35,null),t=g([m(2,c.IWorkbenchEditorService),m(3,y.IEditorGroupService),m(4,f.IHistoryService)],t)}(o.Action);t.ClearEditorHistoryAction=se;var ae=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorGroupService=n,this.quickOpenService=o,this.historyService=r}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorGroupService.onEditorOpening(function(i){t.dispose(),i.prevent(),e.historyService.remove(i.editorInput)});return this.quickOpenService.show().then(function(){t.dispose()}),i.TPromise.as(!0)},t.ID="workbench.action.removeFromEditorHistory",t.LABEL=n.localize(36,null),t=g([m(2,y.IEditorGroupService),m(3,u.IQuickOpenService),m(4,f.IHistoryService)],t)}(o.Action);t.RemoveFromEditorHistoryAction=ae;var ce=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.quickOpenService=o,this.keybindingService=r,this.navigateNext=n}return h(t,e),t.prototype.run=function(e){var t=this.keybindingService.lookupKeybindings(this.id);return this.quickOpenService.quickNavigate({keybindings:t},this.navigateNext),i.TPromise.as(!0)},t=g([m(3,u.IQuickOpenService),m(4,v.IKeybindingService)],t)}(o.Action);t.BaseQuickOpenNavigateAction=ce;var ue=function(e){function t(t,i,n,o){e.call(this,t,i,!0,n,o)}return h(t,e),t.ID="workbench.action.quickOpenNavigateNext",t.LABEL=n.localize(37,null),t=g([m(2,u.IQuickOpenService),m(3,v.IKeybindingService)],t)}(ce);t.QuickOpenNavigateNextAction=ue;var le=function(e){function t(t,i,n,o){e.call(this,t,i,!1,n,o)}return h(t,e),t.ID="workbench.action.quickOpenNavigatePrevious",t.LABEL=n.localize(38,null),t=g([m(2,u.IQuickOpenService),m(3,v.IKeybindingService)],t)}(ce);t.QuickOpenNavigatePreviousAction=le;var de=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorGroupService=n,this.editorService=o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(e){var t=this.editorGroupService.getStacksModel().groupAt(e.position),n=t.getEditor(t.count-1);if(n)return this.editorService.openEditor(n)}return i.TPromise.as(!0)},t.ID="workbench.action.openLastEditorInGroup",t.LABEL=n.localize(39,null),t=g([m(2,y.IEditorGroupService),m(3,c.IWorkbenchEditorService)],t)}(o.Action);t.FocusLastEditorInStackAction=de}),define(l[972],d([1,0,486,2,10,9,25,17,7,27,12,144,30,5,18,222,230,11,248,64,104,22,50,23,28,34,6,45,60,44,767]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M){"use strict";function R(e){if(e){if(e.getEditorType()===S.EditorType.IDiffEditor)return e.getModifiedEditor();if(e.getEditorType()===S.EditorType.ICodeEditor)return e}return null}function O(e){var t,i=e.getModel();return t=i&&i.modified?i.modified:i}function P(e){return e instanceof d.UntitledEditorInput?e:p.asFileEditorInput(e,!0)}function N(e){x.StyleMutator.setDisplay(e,"")}function F(e){x.StyleMutator.setDisplay(e,"none")}function W(e){var t=e.getControl();if(t.getEditorType()===S.EditorType.IDiffEditor&&(t=t.getModifiedEditor()),t.getEditorType()!==S.EditorType.ICodeEditor)return!1;var i=t.getConfiguration();return i.tabFocusMode&&!i.readOnly}function B(e){var t=e.getControl();return t.getEditorType()===S.EditorType.IDiffEditor&&(t=t.getModifiedEditor()),t.getEditorType()===S.EditorType.ICodeEditor&&!t.getConfiguration().readOnly}var K=function(){function e(){this.indentation=!1,this.selectionStatus=!1,this.mode=!1,this.encoding=!1,this.EOL=!1,this.tabFocusMode=!1}return e.prototype.combine=function(e){this.indentation=this.indentation||e.indentation,this.selectionStatus=this.selectionStatus||e.selectionStatus,this.mode=this.mode||e.mode,this.encoding=this.encoding||e.encoding,this.EOL=this.EOL||e.EOL,this.tabFocusMode=this.tabFocusMode||e.tabFocusMode},e}(),V=function(){function e(){this._selectionStatus=null,this._mode=null,this._encoding=null,this._EOL=null,this._tabFocusMode=!1}return Object.defineProperty(e.prototype,"selectionStatus",{get:function(){return this._selectionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"encoding",{get:function(){return this._encoding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EOL",{get:function(){return this._EOL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indentation",{get:function(){return this._indentation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabFocusMode",{get:function(){return this._tabFocusMode},enumerable:!0,configurable:!0}),e.prototype.update=function(e){var t=new K,i=!1;return"undefined"!=typeof e.selectionStatus&&this._selectionStatus!==e.selectionStatus&&(this._selectionStatus=e.selectionStatus,i=!0,t.selectionStatus=!0),"undefined"!=typeof e.indentation&&this._indentation!==e.indentation&&(this._indentation=e.indentation,i=!0,t.indentation=!0),"undefined"!=typeof e.mode&&this._mode!==e.mode&&(this._mode=e.mode,i=!0,t.mode=!0),"undefined"!=typeof e.encoding&&this._encoding!==e.encoding&&(this._encoding=e.encoding,i=!0,t.encoding=!0),"undefined"!=typeof e.EOL&&this._EOL!==e.EOL&&(this._EOL=e.EOL,i=!0,t.EOL=!0),"undefined"!=typeof e.tabFocusMode&&this._tabFocusMode!==e.tabFocusMode&&(this._tabFocusMode=e.tabFocusMode,i=!0,t.tabFocusMode=!0),i?t:null},e}(),H=i.localize(0,null),z=i.localize(1,null),U=i.localize(2,null),G=i.localize(3,null),j=i.localize(4,null),q=i.localize(5,null),Y=i.localize(6,null),$=function(){function e(e,t,i,n,o,r,s){this.editorService=e,this.editorGroupService=t,this.quickOpenService=i,this.instantiationService=n,this.eventService=o,this.modeService=r,this.configurationService=s,this.toDispose=[],this.activeEditorListeners=[],this.state=new V}return e.prototype.render=function(e){var t=this;return this.element=o.append(e,o.emmet(".editor-statusbar-item")),this.tabFocusModeElement=o.append(this.element,o.emmet("a.editor-status-tabfocusmode")),this.tabFocusModeElement.title=i.localize(7,null),this.tabFocusModeElement.onclick=function(){return t.onTabFocusModeClick()},this.tabFocusModeElement.textContent=Y,F(this.tabFocusModeElement),this.selectionElement=o.append(this.element,o.emmet("a.editor-status-selection")),this.selectionElement.title=i.localize(8,null),this.selectionElement.onclick=function(){return t.onSelectionClick()},F(this.selectionElement),this.indentationElement=o.append(this.element,o.emmet("a.editor-status-indentation")),this.indentationElement.title=i.localize(9,null),this.indentationElement.onclick=function(){return t.onIndentationClick()},F(this.indentationElement),this.encodingElement=o.append(this.element,o.emmet("a.editor-status-encoding")),this.encodingElement.title=i.localize(10,null),this.encodingElement.onclick=function(){return t.onEncodingClick()},F(this.encodingElement),this.eolElement=o.append(this.element,o.emmet("a.editor-status-eol")),this.eolElement.title=i.localize(11,null),this.eolElement.onclick=function(){return t.onEOLClick()},F(this.eolElement),this.modeElement=o.append(this.element,o.emmet("a.editor-status-mode")),this.modeElement.title=i.localize(12,null),this.modeElement.onclick=function(){return t.onModeClick()},F(this.modeElement),this.delayedRender=null,this.toRender=null,this.toDispose.push({dispose:function(){t.delayedRender&&(t.delayedRender.dispose(),t.delayedRender=null)}},this.editorGroupService.onEditorsChanged(function(){return t.onEditorsChanged()}),this.eventService.addListener2(_.EventType.RESOURCE_ENCODING_CHANGED,function(e){return t.onResourceEncodingChange(e.resource)})),f.combinedDisposable(this.toDispose)},e.prototype.updateState=function(e){var t=this,i=this.state.update(e);i&&(this.toRender?this.toRender.combine(i):(this.toRender=i,this.delayedRender=o.runAtThisOrScheduleAtNextAnimationFrame(function(){
t.delayedRender=null;var e=t.toRender;t.toRender=null,t._renderNow(e)})))},e.prototype._renderNow=function(e){e.tabFocusMode&&(this.state.tabFocusMode&&this.state.tabFocusMode===!0?N(this.tabFocusModeElement):F(this.tabFocusModeElement)),e.indentation&&(this.state.indentation?(this.indentationElement.textContent=this.state.indentation,N(this.indentationElement)):F(this.indentationElement)),e.selectionStatus&&(this.state.selectionStatus?(this.selectionElement.textContent=this.state.selectionStatus,N(this.selectionElement)):F(this.selectionElement)),e.encoding&&(this.state.encoding?(this.encodingElement.textContent=this.state.encoding,N(this.encodingElement)):F(this.encodingElement)),e.EOL&&(this.state.EOL?(this.eolElement.textContent="\r\n"===this.state.EOL?q:j,N(this.eolElement)):F(this.eolElement)),e.mode&&(this.state.mode?(this.modeElement.textContent=this.state.mode,N(this.modeElement)):F(this.modeElement))},e.prototype.getSelectionLabel=function(e){return e&&e.selections?1===e.selections.length?e.charactersSelected?r.format(H,e.selections[0].positionLineNumber,e.selections[0].positionColumn,e.charactersSelected):r.format(z,e.selections[0].positionLineNumber,e.selections[0].positionColumn):e.charactersSelected?r.format(U,e.selections.length,e.charactersSelected):r.format(G,e.selections.length):null},e.prototype.onModeClick=function(){var e=this.instantiationService.createInstance(X,X.ID,X.LABEL);e.run().done(null,c.onUnexpectedError),e.dispose()},e.prototype.onIndentationClick=function(){var e=this.instantiationService.createInstance(Q,Q.ID,Q.LABEL);e.run().done(null,c.onUnexpectedError),e.dispose()},e.prototype.onSelectionClick=function(){this.quickOpenService.show(":")},e.prototype.onEOLClick=function(){var e=this.instantiationService.createInstance(Z,Z.ID,Z.LABEL);e.run().done(null,c.onUnexpectedError),e.dispose()},e.prototype.onEncodingClick=function(){var e=this.instantiationService.createInstance(J,J.ID,J.LABEL);e.run().done(null,c.onUnexpectedError),e.dispose()},e.prototype.onTabFocusModeClick=function(){var e=this.editorService.getActiveEditor();e instanceof C.BaseTextEditor&&W(e)&&e.getControl().updateOptions({tabFocusMode:!1})},e.prototype.onEditorsChanged=function(){var e,t=this,i=this.editorService.getActiveEditor();if(i instanceof C.BaseTextEditor&&(e=i.getControl()),this.onSelectionChange(e),this.onModeChange(e),this.onEOLChange(e),this.onEncodingChange(i),this.onTabFocusModeChange(i),this.onIndentationChange(e),f.dispose(this.activeEditorListeners),i instanceof C.BaseTextEditor){var n=i.getControl();this.activeEditorListeners.push(n.onDidChangeCursorPosition(function(e){t.onSelectionChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelMode(function(e){t.onModeChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelRawContent(function(e){t.onEOLChange(n)})),this.activeEditorListeners.push(n.onDidChangeModelOptions(function(e){t.onIndentationChange(n)})),this.activeEditorListeners.push(n.onDidChangeConfiguration(function(e){t.onTabFocusModeChange(i)}))}},e.prototype.onModeChange=function(e){var t={mode:null};if(e){var i=O(e);if(i&&i.getMode){var n=i.getMode();n&&(t={mode:this.modeService.getLanguageName(n.getId())})}}this.updateState(t)},e.prototype.onIndentationChange=function(e){var t={indentation:null};if(e){e.getEditorType()===S.EditorType.IDiffEditor&&(e=e.getModifiedEditor());var n=e.getModel();if(n){var o=n.getOptions();t.indentation=o.insertSpaces?i.localize(13,null,o.tabSize):i.localize(14,null,o.tabSize)}}this.updateState(t)},e.prototype.onSelectionChange=function(e){var t={};if(e){t.selections=e.getSelections()||[],t.charactersSelected=0;var i=O(e);if(i&&t.selections.forEach(function(e){t.charactersSelected+=i.getValueLengthInRange(e)}),1===t.selections.length){var n=e.getVisibleColumnFromPosition(e.getPosition()),o=t.selections[0].clone();o.positionColumn=n,t.selections[0]=o}}this.updateState({selectionStatus:this.getSelectionLabel(t)})},e.prototype.onEOLChange=function(e){var t={EOL:null},i=R(e);if(i&&!i.getConfiguration().readOnly){var n=i.getModel();n&&(t.EOL=n.getEOL())}this.updateState(t)},e.prototype.onEncodingChange=function(e){if(!e||this.isActiveEditor(e)){var t={encoding:null};if(e instanceof C.BaseTextEditor){var i=P(e.input);if(i&&a.isFunction(i.getEncoding)){var n=i.getEncoding(),o=L.SUPPORTED_ENCODINGS[n];o?t.encoding=o.labelShort:t.encoding=n}}this.updateState(t)}},e.prototype.onResourceEncodingChange=function(e){var t=this.editorService.getActiveEditor();if(t){var i=p.getUntitledOrFileResource(t.input,!0);if(i&&i.toString()===e.toString())return this.onEncodingChange(t)}},e.prototype.onTabFocusModeChange=function(e){var t={tabFocusMode:!1};e instanceof C.BaseTextEditor&&W(e)&&(t={tabFocusMode:!0}),this.updateState(t)},e.prototype.isActiveEditor=function(e){var t=this.editorService.getActiveEditor();return t&&e&&t===e},e=g([m(0,w.IWorkbenchEditorService),m(1,M.IEditorGroupService),m(2,I.IQuickOpenService),m(3,D.IInstantiationService),m(4,A.IEventService),m(5,k.IModeService),m(6,T.IConfigurationService)],e)}();t.EditorStatus=$;var X=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i),this.modeService=n,this.editorService=o,this.messageService=r,this.instantiationService=s,this.quickOpenService=a}return h(t,e),t.prototype.run=function(){var e=this,t=this.modeService.getRegisteredLanguageNames(),n=this.editorService.getActiveEditor();if(!(n instanceof C.BaseTextEditor))return this.quickOpenService.pick([{label:i.localize(16,null)}]);var o,r=n.getControl(),a=O(r),u=p.asFileEditorInput(n.input,!0);if(a.getMode){var l=a.getMode();l&&(o=this.modeService.getLanguageName(l.getId()))}var d=t.sort().map(function(e,t){return{label:e,description:o===e?i.localize(17,null):void 0}});d[0].separator={border:!0,label:i.localize(18,null)};var h=i.localize(19,null);if(u){var f=u.getResource(),g=s.extname(f.fsPath)||s.basename(f.fsPath);g&&(h=i.localize(20,null,g))}var m={label:h};d.unshift(m);var E={label:i.localize(21,null)};return u&&d.unshift(E),this.quickOpenService.pick(d,{placeHolder:i.localize(22,null)}).then(function(t){if(t&&(n=e.editorService.getActiveEditor(),n instanceof C.BaseTextEditor)){var o=n.getControl(),r=[],s=O(o);r.push(s);var a=o.getModel();a&&a.original&&r.push(a.original);var u;if(t===E)u=e.modeService.getOrCreateModeByFilenameOrFirstLine(p.getUntitledOrFileResource(n.input,!0).fsPath,s.getLineContent(1));else if(t===m){var l=e.instantiationService.createInstance(y.OpenGlobalSettingsAction,y.OpenGlobalSettingsAction.ID,y.OpenGlobalSettingsAction.LABEL);l.run().done(function(){return l.dispose()},c.onUnexpectedError),e.messageService.show(v.Severity.Info,i.localize(23,null))}else u=e.modeService.getOrCreateModeByLanguageName(t.label);r.forEach(function(e){e.getMode&&e.setMode(u)})}})},t.ID="workbench.action.editor.changeLanguageMode",t.LABEL=i.localize(15,null),t=g([m(2,k.IModeService),m(3,w.IWorkbenchEditorService),m(4,v.IMessageService),m(5,D.IInstantiationService),m(6,I.IQuickOpenService)],t)}(u.Action);t.ChangeModeAction=X;var Q=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.quickOpenService=o}return h(t,e),t.prototype.run=function(){var e=this.editorService.getActiveEditor();if(!(e instanceof C.BaseTextEditor))return this.quickOpenService.pick([{label:i.localize(25,null)}]);if(!B(e))return this.quickOpenService.pick([{label:i.localize(26,null)}]);var t=e.getControl(),n=[t.getAction(b.IndentUsingSpaces.ID),t.getAction(b.IndentUsingTabs.ID),t.getAction(b.DetectIndentation.ID),t.getAction(b.IndentationToSpacesAction.ID),t.getAction(b.IndentationToTabsAction.ID),t.getAction(E.TrimTrailingWhitespaceAction.ID)].map(function(e){return{id:e.id,label:e.label,detail:l.language===l.LANGUAGE_DEFAULT?null:e.getAlias(),run:function(){return e.run()}}});return n[0].separator={label:i.localize(27,null)},n[3].separator={label:i.localize(28,null),border:!0},this.quickOpenService.pick(n,{placeHolder:i.localize(29,null),matchOnDetail:!0}).then(function(e){return e&&e.run()})},t.ID="workbench.action.editor.changeIndentation",t.LABEL=i.localize(24,null),t=g([m(2,w.IWorkbenchEditorService),m(3,I.IQuickOpenService)],t)}(u.Action),Z=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.quickOpenService=o}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(!(t instanceof C.BaseTextEditor))return this.quickOpenService.pick([{label:i.localize(31,null)}]);if(!B(t))return this.quickOpenService.pick([{label:i.localize(32,null)}]);var n=t.getControl(),o=O(n),r=[{label:j,eol:S.EndOfLineSequence.LF},{label:q,eol:S.EndOfLineSequence.CRLF}],s="\n"===o.getEOL()?0:1;return this.quickOpenService.pick(r,{placeHolder:i.localize(33,null),autoFocus:{autoFocusIndex:s}}).then(function(i){if(i&&(t=e.editorService.getActiveEditor(),t instanceof C.BaseTextEditor&&B(t))){var n=t.getControl(),o=O(n);o.setEOL(i.eol)}})},t.ID="workbench.action.editor.changeEOL",t.LABEL=i.localize(30,null),t=g([m(2,w.IWorkbenchEditorService),m(3,I.IQuickOpenService)],t)}(u.Action);t.ChangeEOLAction=Z;var J=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.editorService=n,this.quickOpenService=o,this.configurationService=r}return h(t,e),t.prototype.run=function(){var e=this,t=this.editorService.getActiveEditor();if(!(t instanceof C.BaseTextEditor&&t.input))return this.quickOpenService.pick([{label:i.localize(35,null)}]);var o=P(t.input);if(!a.areFunctions(o.setEncoding,o.getEncoding))return this.quickOpenService.pick([{label:i.localize(36,null)}]);var r,s,c;return l.language===l.LANGUAGE_DEFAULT?(s={label:i.localize(37,null)},c={label:i.localize(38,null)}):(s={label:i.localize(39,null),detail:"Save with Encoding"},c={label:i.localize(40,null),detail:"Reopen with Encoding"}),r=o instanceof d.UntitledEditorInput?n.TPromise.as(s):B(t)?this.quickOpenService.pick([c,s],{placeHolder:i.localize(41,null),matchOnDetail:!0}):n.TPromise.as(c),r.then(function(r){if(r)return n.TPromise.timeout(50).then(function(){var n,s,u=e.configurationService.getConfiguration(),l=r===c,d=u&&u.files&&u.files.encoding,h=Object.keys(L.SUPPORTED_ENCODINGS).sort(function(e,t){return e===d?-1:t===d?1:L.SUPPORTED_ENCODINGS[e].order-L.SUPPORTED_ENCODINGS[t].order}).filter(function(e){return!l||!L.SUPPORTED_ENCODINGS[e].encodeOnly}).map(function(e,t){return e===o.getEncoding()?n=t:L.SUPPORTED_ENCODINGS[e].alias===o.getEncoding()&&(s=t),{id:e,label:L.SUPPORTED_ENCODINGS[e].labelLong}});return e.quickOpenService.pick(h,{placeHolder:l?i.localize(42,null):i.localize(43,null),autoFocus:{autoFocusIndex:"number"==typeof n?n:"number"==typeof s?s:void 0}}).then(function(i){i&&(t=e.editorService.getActiveEditor(),o=P(t.input),o&&a.areFunctions(o.setEncoding,o.getEncoding)&&o.getEncoding()!==i.id&&o.setEncoding(i.id,l?p.EncodingMode.Decode:p.EncodingMode.Encode))})})})},t.ID="workbench.action.editor.changeEncoding",t.LABEL=i.localize(34,null),t=g([m(2,w.IWorkbenchEditorService),m(3,I.IQuickOpenService),m(4,T.IConfigurationService)],t)}(u.Action);t.ChangeEncodingAction=J}),define(l[973],d([1,0,2,487,17,145,144,104,64,21,43,39,23,28,6,18,22,45,91]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b){"use strict";var _=function(e){function t(i,n,o,r,s,a,u,l,d,h){var p=this;e.call(this,t.ID,i,n,o,r,s,a,u,l,d,h),this.mapResourceToEditorViewState=Object.create(null),this.toUnbind.push(this.eventService.addListener2(c.EventType.UNTITLED_FILE_SAVED,function(e){return p.onUntitledSavedEvent(e)}))}return h(t,e),t.prototype.onUntitledSavedEvent=function(e){delete this.mapResourceToEditorViewState[e.resource.toString()]},t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize(0,null)},t.prototype.setInput=function(t,n){var a=this,c=this.getInput();e.prototype.setInput.call(this,t,n);var u=n&&n.forceOpen;if(!u&&t.matches(c)){var l=n;return l&&o.isFunction(l.apply)&&l.apply(this.getControl()),i.TPromise.as(null)}return c instanceof s.UntitledEditorInput&&(this.mapResourceToEditorViewState[c.getResource().toString()]=this.getControl().saveViewState()),this.editorService.resolveEditorModel(t,!0).then(function(e){if(!(e instanceof r.BaseTextEditorModel))return i.TPromise.wrapError("Invalid editor input. String editor requires a model instance of BaseTextEditorModel.");if(!a.getInput()||a.getInput()!==t)return null;var c=a.getControl(),u=e.textEditorModel;c.setModel(u);var l=!1,d=n;if(d&&o.isFunction(d.apply)&&(l=d.apply(c)),!l&&t instanceof s.UntitledEditorInput){var h=a.mapResourceToEditorViewState[t.getResource().toString()];h&&c.restoreViewState(h)}c.updateOptions(a.getCodeEditorOptions())})},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),i=this.getInput(),o=i instanceof s.UntitledEditorInput,r=!o;t.readOnly=r;var a,c=i&&i.getName();return a=r?c?n.localize(1,null,c):n.localize(2,null):c?n.localize(3,null,c):n.localize(4,null),t.ariaLabel=a,t},t.prototype.revealLastLine=function(){var e=this.getControl(),t=e.getModel();if(t){var i=t.getLineCount();e.revealLine(i)}},t.prototype.clearInput=function(){this.input instanceof s.UntitledEditorInput&&(this.mapResourceToEditorViewState[this.input.getResource().toString()]=this.getControl().saveViewState()),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.ID="workbench.editors.stringEditor",t=g([m(0,u.ITelemetryService),m(1,v.IInstantiationService),m(2,l.IWorkspaceContextService),m(3,d.IStorageService),m(4,y.IMessageService),m(5,p.IConfigurationService),m(6,f.IEventService),m(7,E.IWorkbenchEditorService),m(8,S.IModeService),m(9,b.IThemeService)],t)}(a.BaseTextEditor);t.StringEditor=_}),define(l[320],d([1,0,2,489,27,7,17,104,30,131,130,88,309,304,281,215,34,21,43,39,23,28,6,110,18,22,45,20,91,763]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x){"use strict";var M=function(e){function t(i,n,o,r,s,a,c,u,l,d,h){e.call(this,t.ID,i,n,o,r,s,a,c,u,l,h),this.textDiffEditorVisible=d.createKey("textCompareEditorVisible",!1)}return h(t,e),t.prototype.getTitle=function(){return this.input?this.input.getName():n.localize(0,null)},t.prototype.createEditorControl=function(e){var t=this;this.nextDiffAction=new R(this,(!0)),this.previousDiffAction=new R(this,(!1));var n=this.instantiationService.createInstance(y.DelegatingWorkbenchEditorService,function(e,n,o){if(s.isUndefinedOrNull(o)||o===!1||o===t.position){var r=t.getInput();if(e&&n&&r){if(e.matches(r.modifiedInput))return t.setInput(t.getInput(),n).then(function(){return t});if(e.matches(r.originalInput)){var a=t.getControl().getOriginalEditor();if(n instanceof c.TextEditorOptions)return n.apply(a),i.TPromise.as(t)}}}return i.TPromise.as(null)}),o=this.instantiationService.createChild(new T.ServiceCollection([L.IWorkbenchEditorService,n]));return o.createInstance(f.DiffEditorWidget,e.getHTMLElement(),this.getCodeEditorOptions())},t.prototype.setInput=function(t,n){var o=this,r=this.getInput();e.prototype.setInput.call(this,t,n);var a=n&&n.forceOpen;if(!a&&t.matches(r)){var u=n;return u&&s.isFunction(u.apply)&&u.apply(this.getControl()),i.TPromise.as(null)}return this.diffNavigator&&this.diffNavigator.dispose(),this.editorService.resolveEditorModel(t,!0).then(function(e){if(!(e instanceof v.TextDiffEditorModel)&&o.openAsBinary(t,n))return null;if(!o.getInput()||o.getInput()!==t)return null;var i=o.getControl();i.setModel(e.textDiffEditorModel);var r=!0;if(n instanceof c.TextDiffEditorOptions){var a=n;r=s.isUndefinedOrNull(a.autoRevealFirstChange)?r:a.autoRevealFirstChange}o.diffNavigator=new p.DiffNavigator(i,{alwaysRevealFirst:r}),o.diffNavigator.addListener2(p.DiffNavigator.Events.UPDATED,function(){o.nextDiffAction.updateEnablement(),o.previousDiffAction.updateEnablement()}),n&&s.isFunction(n.apply)&&n.apply(i),i.updateOptions(o.getCodeEditorOptions())},function(e){return o.isFileBinaryError(e)&&o.openAsBinary(t,n)?null:i.TPromise.wrapError(e)})},t.prototype.openAsBinary=function(e,t){if(e instanceof d.DiffEditorInput){var i=e.originalInput,n=e.modifiedInput,o=new d.DiffEditorInput(e.getName(),e.getDescription(),i,n,(!0));return this.editorService.openEditor(o,t,this.position).done(null,r.onUnexpectedError),!0}return!1},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),i=this.input;if(i instanceof d.DiffEditorInput){var o=i.modifiedInput,r=o instanceof u.StringEditorInput||o instanceof l.ResourceEditorInput;t.readOnly=r;var s=void 0,a=i&&i.getName();s=r?a?n.localize(1,null,a):n.localize(2,null):a?n.localize(3,null,a):n.localize(4,null),t.ariaLabel=s}return t},t.prototype.isFileBinaryError=function(e){var t=this;if(s.isArray(e)){var i=e;return i.some(function(e){return t.isFileBinaryError(e)})}return e.fileOperationResult===E.FileOperationResult.FILE_IS_BINARY},t.prototype.clearInput=function(){this.diffNavigator&&this.diffNavigator.dispose(),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.setEditorVisible=function(t,i){this.textDiffEditorVisible.set(t),e.prototype.setEditorVisible.call(this,t,i)},t.prototype.getDiffNavigator=function(){return this.diffNavigator},t.prototype.getActions=function(){return[this.previousDiffAction,this.nextDiffAction]},t.prototype.getSecondaryActions=function(){var t=this,r=e.prototype.getSecondaryActions.call(this),s=this.getControl(),a=s&&!s.renderSideBySide,c=n.localize(5,null),u=n.localize(6,null),l=new o.Action("toggle.diff.editorMode",a?u:c,null,(!0),function(){return t.getControl().updateOptions({renderSideBySide:a}),a=!a,l.label=a?u:c,i.TPromise.as(!0)});return l.order=50,r.push.apply(r,[l]),r},t.prototype.getControl=function(){return e.prototype.getControl.call(this)},t.prototype.dispose=function(){this.diffNavigator&&this.diffNavigator.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.editors.textDiffEditor",t=g([m(0,S.ITelemetryService),m(1,I.IInstantiationService),m(2,b.IWorkspaceContextService),m(3,_.IStorageService),m(4,A.IMessageService),m(5,C.IConfigurationService),m(6,w.IEventService),m(7,L.IWorkbenchEditorService),m(8,D.IModeService),m(9,k.IKeybindingService),m(10,x.IThemeService)],t)}(a.BaseTextEditor);t.TextDiffEditor=M;var R=function(e){function t(i,o){e.call(this,o?t.ID_NEXT:t.ID_PREV),this.editor=i,this.next=o,this.label=this.next?n.localize(7,null):n.localize(8,null),this["class"]=this.next?"textdiff-editor-action next":"textdiff-editor-action previous",this.enabled=!1}return h(t,e),t.prototype.run=function(){return this.next?this.editor.getDiffNavigator().next():this.editor.getDiffNavigator().previous(),null},t.prototype.updateEnablement=function(){this.enabled=this.editor.getDiffNavigator().canNavigate()},t.ID_NEXT="workbench.action.compareEditor.nextChange",t.ID_PREV="workbench.action.compareEditor.previousChange",t}(o.Action)}),define(l[975],d([1,0,15,482,27,69,150,65,131,973,88,144,130,6,62,20,320,22,18,869,44,67,972,42,63,35,70,13,176]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x){"use strict";function M(e,t){var i=e.get(S.IWorkbenchEditorService),n=[i.getActiveEditor()].concat(i.getVisibleEditors()).filter(function(e){return e instanceof E.TextDiffEditor});n.length>0&&(t?n[0].getDiffNavigator().next():n[0].getDiffNavigator().previous())}function R(e){return e?{primary:k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.KEY_P,secondary:[k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.KEY_E,k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.Tab],mac:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.KEY_P,secondary:[k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.KEY_E,k.KeyMod.WinCtrl|k.KeyMod.Shift|k.KeyCode.Tab]}}:{primary:k.KeyMod.CtrlCmd|k.KeyCode.KEY_P,secondary:[k.KeyMod.CtrlCmd|k.KeyCode.KEY_E,k.KeyMod.CtrlCmd|k.KeyCode.Tab],mac:{primary:k.KeyMod.CtrlCmd|k.KeyCode.KEY_P,secondary:[k.KeyMod.CtrlCmd|k.KeyCode.KEY_E,k.KeyMod.WinCtrl|k.KeyCode.Tab]}}}function O(e){switch(e){case 0:return k.KeyCode.KEY_0;case 1:return k.KeyCode.KEY_1;case 2:return k.KeyCode.KEY_2;case 3:return k.KeyCode.KEY_3;case 4:return k.KeyCode.KEY_4;case 5:return k.KeyCode.KEY_5;case 6:return k.KeyCode.KEY_6;case 7:return k.KeyCode.KEY_7;case 8:return k.KeyCode.KEY_8;case 9:return k.KeyCode.KEY_9}}i.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(u.StringEditor.ID,n.localize(0,null),"vs/workbench/browser/parts/editor/stringEditor","StringEditor"),[new D.SyncDescriptor(c.StringEditorInput),new D.SyncDescriptor(d.UntitledEditorInput),new D.SyncDescriptor(p.ResourceEditorInput)]),i.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(E.TextDiffEditor.ID,n.localize(1,null),"vs/workbench/browser/parts/editor/textDiffEditor","TextDiffEditor"),[new D.SyncDescriptor(l.DiffEditorInput)]),i.Registry.as(a.Extensions.Editors).registerEditor(new a.EditorDescriptor(_.BinaryResourceDiffEditor.ID,n.localize(2,null),"vs/workbench/browser/parts/editor/binaryDiffEditor","BinaryResourceDiffEditor"),[new D.SyncDescriptor(l.DiffEditorInput)]);var P=i.Registry.as(s.Extensions.Statusbar);P.registerStatusbarItem(new s.StatusbarItemDescriptor(I.EditorStatus,s.StatusbarAlignment.RIGHT,100));var N=i.Registry.as(T.Extensions.WorkbenchActions);N.registerWorkbenchAction(new L.SyncActionDescriptor(I.ChangeModeAction,I.ChangeModeAction.ID,I.ChangeModeAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyCode.KEY_M)}),"Change Language Mode"),N.registerWorkbenchAction(new L.SyncActionDescriptor(I.ChangeEOLAction,I.ChangeEOLAction.ID,I.ChangeEOLAction.LABEL),"Change End of Line Sequence"),N.registerWorkbenchAction(new L.SyncActionDescriptor(I.ChangeEncodingAction,I.ChangeEncodingAction.ID,I.ChangeEncodingAction.LABEL),"Change File Encoding"),v.KeybindingsRegistry.registerCommandDesc({id:"workbench.action.compareEditor.nextChange",weight:v.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:y.KbExpr.has("textCompareEditorVisible"),primary:null,handler:function(e){return M(e,!0)}}),v.KeybindingsRegistry.registerCommandDesc({id:"workbench.action.compareEditor.previousChange",weight:v.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:y.KbExpr.has("textCompareEditorVisible"),primary:null,handler:function(e){return M(e,!1)}}),v.KeybindingsRegistry.registerCommandDesc({id:"_workbench.printStacksModel",weight:v.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){console.log(e.get(C.IEditorGroupService).getStacksModel().toString()+"\n\n")},when:void 0,primary:void 0}),v.KeybindingsRegistry.registerCommandDesc({id:"_workbench.validateStacksModel",weight:v.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e){e.get(C.IEditorGroupService).getStacksModel().validate()},when:void 0,primary:void 0});var F=function(e){function t(t){e.call(this),this.instantiationService=t}return h(t,e),t.prototype.hasActions=function(e){var t=this.getEntry(e);return!!t},t.prototype.getActions=function(e){var t=[],i=this.getEntry(e);return i&&(this.openToSideActionInstance||(this.openToSideActionInstance=this.instantiationService.createInstance(x.OpenToSideAction)),t.push(this.openToSideActionInstance)),t},t.prototype.getEntry=function(e){return e&&e.element?x.toEditorQuickOpenEntry(e.element):null},t=g([m(0,f.IInstantiationService)],t)}(A.ActionBarContributor);t.QuickOpenActionContributor=F;var W=i.Registry.as(A.Extensions.Actionbar);W.registerActionBarContributor(A.Scope.VIEWER,F),i.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","LeftEditorGroupPicker",x.NAVIGATE_IN_LEFT_GROUP_PREFIX,[{prefix:x.NAVIGATE_IN_LEFT_GROUP_PREFIX,needsEditor:!1,description:n.localize(3,null)}])),i.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","CenterEditorGroupPicker",x.NAVIGATE_IN_CENTER_GROUP_PREFIX,[{prefix:x.NAVIGATE_IN_CENTER_GROUP_PREFIX,needsEditor:!1,description:n.localize(4,null)}])),i.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","RightEditorGroupPicker",x.NAVIGATE_IN_RIGHT_GROUP_PREFIX,[{prefix:x.NAVIGATE_IN_RIGHT_GROUP_PREFIX,needsEditor:!1,description:n.localize(5,null)}])),i.Registry.as(r.Extensions.Quickopen).registerQuickOpenHandler(new r.QuickOpenHandlerDescriptor("vs/workbench/browser/parts/editor/editorPicker","AllEditorsPicker",x.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,[{prefix:x.NAVIGATE_ALL_EDITORS_GROUP_PREFIX,needsEditor:!1,description:n.localize(6,null)}]));var B={primary:k.KeyMod.CtrlCmd|k.KeyCode.KEY_P,secondary:[k.KeyMod.CtrlCmd|k.KeyCode.KEY_E]},K=n.localize(7,null);N.registerWorkbenchAction(new L.SyncActionDescriptor(x.OpenNextRecentlyUsedEditorInGroupAction,x.OpenNextRecentlyUsedEditorInGroupAction.ID,x.OpenNextRecentlyUsedEditorInGroupAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.Tab,mac:{primary:k.KeyMod.WinCtrl|k.KeyCode.Tab}}),"Open Next Recently Used Editor in Group"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.OpenPreviousRecentlyUsedEditorInGroupAction,x.OpenPreviousRecentlyUsedEditorInGroupAction.ID,x.OpenPreviousRecentlyUsedEditorInGroupAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.Tab,mac:{primary:k.KeyMod.WinCtrl|k.KeyMod.Shift|k.KeyCode.Tab}}),"Open Previous Recently Used Editor in Group"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.ShowAllEditorsAction,x.ShowAllEditorsAction.ID,x.ShowAllEditorsAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyMod.CtrlCmd|k.KeyCode.KEY_P),mac:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Alt|k.KeyCode.Tab}}),"View: Show All Editors",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.ShowEditorsInLeftGroupAction,x.ShowEditorsInLeftGroupAction.ID,x.ShowEditorsInLeftGroupAction.LABEL),"View: Show Editors in Left Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.ShowEditorsInCenterGroupAction,x.ShowEditorsInCenterGroupAction.ID,x.ShowEditorsInCenterGroupAction.LABEL),"View: Show Editors in Center Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.ShowEditorsInRightGroupAction,x.ShowEditorsInRightGroupAction.ID,x.ShowEditorsInRightGroupAction.LABEL),"View: Show Editors in Left Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.OpenNextEditor,x.OpenNextEditor.ID,x.OpenNextEditor.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.PageDown,mac:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Alt|k.KeyCode.RightArrow}}),"View: Open Next Editor",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.OpenPreviousEditor,x.OpenPreviousEditor.ID,x.OpenPreviousEditor.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.PageUp,mac:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Alt|k.KeyCode.LeftArrow}}),"View: Open Previous Editor",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.ReopenClosedEditorAction,x.ReopenClosedEditorAction.ID,x.ReopenClosedEditorAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.KEY_T}),"View: Reopen Closed Editor",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.KeepEditorAction,x.KeepEditorAction.ID,x.KeepEditorAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyCode.Enter)}),"View: Keep Editor",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.CloseAllEditorsAction,x.CloseAllEditorsAction.ID,x.CloseAllEditorsAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyMod.CtrlCmd|k.KeyCode.KEY_W)}),"View: Close All Editors",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.CloseLeftEditorsInGroupAction,x.CloseLeftEditorsInGroupAction.ID,x.CloseLeftEditorsInGroupAction.LABEL),"View: Close Editors to the Left",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.CloseRightEditorsInGroupAction,x.CloseRightEditorsInGroupAction.ID,x.CloseRightEditorsInGroupAction.LABEL),"View: Close Editors to the Right",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.CloseEditorsInGroupAction,x.CloseEditorsInGroupAction.ID,x.CloseEditorsInGroupAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyCode.KEY_W)}),"View: Close All Editors in Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.CloseOtherEditorsInGroupAction,x.CloseOtherEditorsInGroupAction.ID,x.CloseOtherEditorsInGroupAction.LABEL,{primary:null,mac:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Alt|k.KeyCode.KEY_T}}),"View: Close Other Editors",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.CloseEditorsInOtherGroupsAction,x.CloseEditorsInOtherGroupsAction.ID,x.CloseEditorsInOtherGroupsAction.LABEL),"View: Close Editors in Other Groups",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.SplitEditorAction,x.SplitEditorAction.ID,x.SplitEditorAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.US_BACKSLASH}),"View: Split Editor",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.NavigateBetweenGroupsAction,x.NavigateBetweenGroupsAction.ID,x.NavigateBetweenGroupsAction.LABEL),"View: Navigate Between Editor Groups",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.FocusFirstGroupAction,x.FocusFirstGroupAction.ID,x.FocusFirstGroupAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.KEY_1}),"View: Focus Left Editor Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.FocusSecondGroupAction,x.FocusSecondGroupAction.ID,x.FocusSecondGroupAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.KEY_2}),"View: Focus Center Editor Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.FocusThirdGroupAction,x.FocusThirdGroupAction.ID,x.FocusThirdGroupAction.LABEL,{primary:k.KeyMod.CtrlCmd|k.KeyCode.KEY_3}),"View: Focus Right Editor Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.FocusLastEditorInStackAction,x.FocusLastEditorInStackAction.ID,x.FocusLastEditorInStackAction.LABEL,{primary:k.KeyMod.Alt|k.KeyCode.KEY_0,mac:{primary:k.KeyMod.WinCtrl|k.KeyCode.KEY_0}}),"View: Focus Last Editor in Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.EvenGroupWidthsAction,x.EvenGroupWidthsAction.ID,x.EvenGroupWidthsAction.LABEL),"View: Even Editor Group Widths",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.MaximizeGroupAction,x.MaximizeGroupAction.ID,x.MaximizeGroupAction.LABEL),"View: Maximize Editor Group and Hide Sidebar",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.MinimizeOtherGroupsAction,x.MinimizeOtherGroupsAction.ID,x.MinimizeOtherGroupsAction.LABEL),"View: Minimize Other Editor Groups",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.MoveGroupLeftAction,x.MoveGroupLeftAction.ID,x.MoveGroupLeftAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyCode.LeftArrow)}),"View: Move Editor Group Left",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.MoveGroupRightAction,x.MoveGroupRightAction.ID,x.MoveGroupRightAction.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyCode.RightArrow)}),"View: Move Editor Group Right",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.FocusPreviousGroup,x.FocusPreviousGroup.ID,x.FocusPreviousGroup.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyMod.CtrlCmd|k.KeyCode.LeftArrow)}),"View: Focus Previous Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.FocusNextGroup,x.FocusNextGroup.ID,x.FocusNextGroup.LABEL,{primary:k.KeyMod.chord(k.KeyMod.CtrlCmd|k.KeyCode.KEY_K,k.KeyMod.CtrlCmd|k.KeyCode.RightArrow)}),"View: Focus Next Group",K),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.NavigateForwardAction,x.NavigateForwardAction.ID,x.NavigateForwardAction.LABEL,{primary:null,win:{primary:k.KeyMod.Alt|k.KeyCode.RightArrow},mac:{primary:k.KeyMod.WinCtrl|k.KeyMod.Shift|k.KeyCode.US_MINUS},linux:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Shift|k.KeyCode.US_MINUS}}),"Go Forward"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.NavigateBackwardsAction,x.NavigateBackwardsAction.ID,x.NavigateBackwardsAction.LABEL,{primary:null,win:{primary:k.KeyMod.Alt|k.KeyCode.LeftArrow},mac:{primary:k.KeyMod.WinCtrl|k.KeyCode.US_MINUS},linux:{primary:k.KeyMod.CtrlCmd|k.KeyMod.Alt|k.KeyCode.US_MINUS
}}),"Go Back"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.GlobalQuickOpenAction,x.GlobalQuickOpenAction.ID,x.GlobalQuickOpenAction.LABEL,B),"Go to File..."),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.OpenPreviousEditorFromHistoryAction,x.OpenPreviousEditorFromHistoryAction.ID,x.OpenPreviousEditorFromHistoryAction.LABEL),"Open Previous Editor from History"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.ClearEditorHistoryAction,x.ClearEditorHistoryAction.ID,x.ClearEditorHistoryAction.LABEL),"Clear Editor History"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.RemoveFromEditorHistoryAction,x.RemoveFromEditorHistoryAction.ID,x.RemoveFromEditorHistoryAction.LABEL),"Remove From Editor History"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.QuickOpenNavigateNextAction,x.QuickOpenNavigateNextAction.ID,x.QuickOpenNavigateNextAction.LABEL,R(!1),y.KbExpr.has("inQuickOpen")),"Navigate Next in Quick Open"),N.registerWorkbenchAction(new L.SyncActionDescriptor(x.QuickOpenNavigatePreviousAction,x.QuickOpenNavigatePreviousAction.ID,x.QuickOpenNavigatePreviousAction.LABEL,R(!0),y.KbExpr.has("inQuickOpen"),v.KeybindingsRegistry.WEIGHT.workbenchContrib(50)),"Navigate Previous in Quick Open");for(var V=function(e){var t=e,i=e+1;v.KeybindingsRegistry.registerCommandDesc({id:"workbench.action.openEditorAtIndex"+i,weight:v.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:void 0,primary:k.KeyMod.Alt|O(i),mac:{primary:k.KeyMod.WinCtrl|O(i)},handler:function(e){var i=e.get(S.IWorkbenchEditorService),n=e.get(C.IEditorGroupService),o=i.getActiveEditor();if(o){var r=n.getStacksModel().groupAt(o.position),s=r.getEditor(t);if(s)return i.openEditor(s)}}})},H=0;H<9;H++)V(H);var z=i.Registry.as(w.Extensions.Configuration);z.registerConfiguration({id:"workbench",order:7,title:n.localize(8,null),type:"object",properties:{"workbench.editor.showTabs":{type:"boolean",description:n.localize(9,null),"default":!0},"workbench.editor.enablePreview":{type:"boolean",description:n.localize(10,null),"default":!0},"workbench.editor.enablePreviewFromQuickOpen":{type:"boolean",description:n.localize(11,null),"default":!0},"workbench.editor.openPositioning":{type:"string","enum":["left","right","first","last"],"default":"right",description:n.localize(12,null)}}});var U={"workbench.action.focusFirstEditor":"workbench.action.focusFirstEditorGroup","workbench.action.focusSecondEditor":"workbench.action.focusSecondEditorGroup","workbench.action.focusThirdEditor":"workbench.action.focusThirdEditorGroup","workbench.action.focusLeftEditor":"workbench.action.focusPreviousGroup","workbench.action.focusRightEditor":"workbench.action.focusNextGroup","workbench.action.moveActiveEditorLeft":"workbench.action.moveActiveEditorGroupLeft","workbench.action.moveActiveEditorRight":"workbench.action.moveActiveEditorGroupRight","workbench.action.openPreviousEditor":"workbench.action.openPreviousEditorFromHistory","workbench.files.action.addToWorkingFiles":"workbench.action.keepEditor","workbench.files.action.closeAllFiles":"workbench.action.closeAllEditors","workbench.files.action.closeFile":"workbench.action.closeActiveEditor","workbench.files.action.closeOtherFiles":"workbench.action.closeOtherEditors","workbench.files.action.focusWorkingFiles":"workbench.files.action.focusOpenEditorsView","workbench.files.action.openNextWorkingFile":"workbench.action.nextEditor","workbench.files.action.openPreviousWorkingFile":"workbench.action.previousEditor","workbench.files.action.reopenClosedFile":"workbench.action.reopenClosedEditor","workbench.files.action.workingFilesPicker":"workbench.action.showAllEditors","workbench.action.cycleEditor":"workbench.action.navigateEditorGroups"};Object.keys(U).forEach(function(e){var t=U[e];v.KeybindingsRegistry.registerCommandDesc({id:e,weight:v.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(i){var r=i.get(b.IMessageService),s=i.get(y.IKeybindingService);r.show(b.Severity.Warning,{message:n.localize(13,null,e,t),actions:[b.CloseAction,new o.Action("openKeybindings",n.localize(14,null),null,(!0),function(){return s.executeCommand("workbench.action.openGlobalKeybindings")})]})},when:void 0,primary:void 0})})}),define(l[224],d([1,0,490,15,63,7,10,2,65,16,30,66,49,207,22,51,56,23,44,18,77,21,6,20,176,5,194,35,189,750]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k){"use strict";var x=function(){function e(e,t,i,n,o,r,s,a,c){var l=this;this.contextMenuService=e,this.instantiationService=t,this.configurationService=i,this.editorService=n,this.editorGroupService=o,this.keybindingService=r,this.telemetryService=s,this.messageService=a,this.menuService=c,this.toDispose=[],this.stacks=o.getStacksModel(),this.mapActionsToEditors=Object.create(null),this.onConfigurationUpdated(i.getConfiguration()),this.scheduler=new u.RunOnceScheduler(function(){return l.onSchedule()},0),this.toDispose.push(this.scheduler),this.resourceContext=t.createInstance(k.ResourceContextKey),this.contributedTitleBarMenu=this.menuService.createMenu(D.MenuId.EditorTitle,this.keybindingService),this.toDispose.push(this.contributedTitleBarMenu),this.toDispose.push(this.contributedTitleBarMenu.onDidChange(function(e){return l.update()})),this.initActions(),this.registerListeners()}return e.getDraggedEditor=function(){return e.draggedEditor},e.prototype.onEditorDragStart=function(t){e.draggedEditor=t},e.prototype.onEditorDragEnd=function(){e.draggedEditor=void 0},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)})),this.toDispose.push(this.stacks.onModelChanged(function(t){return e.onStacksChanged(t)}))},e.prototype.onStacksChanged=function(e){e.structural&&this.updateSplitActionEnablement()},e.prototype.onConfigurationUpdated=function(e){this.previewEditors=e.workbench.editor.enablePreview,this.showTabs=e.workbench.editor.showTabs},e.prototype.updateSplitActionEnablement=function(){if(this.context){var e=this.stacks.groups.length;this.splitEditorAction.enabled=e<3}},e.prototype.onSchedule=function(){this.refreshScheduled?this.doRefresh():this.doUpdate(),this.refreshScheduled=!1},e.prototype.setContext=function(e){this.context=e},e.prototype.update=function(e){e?(this.scheduler.cancel(),this.onSchedule()):this.scheduler.schedule()},e.prototype.refresh=function(e){this.refreshScheduled=!0,e?(this.scheduler.cancel(),this.onSchedule()):this.scheduler.schedule()},e.prototype.doUpdate=function(){this.doRefresh()},e.prototype.layout=function(){},e.prototype.allowDragging=function(e){return!s.findParentWithClass(e,"monaco-action-bar","one-editor-container")},e.prototype.initActions=function(){this.closeEditorAction=this.instantiationService.createInstance(T.CloseEditorAction,T.CloseEditorAction.ID,i.localize(0,null)),this.closeOtherEditorsAction=this.instantiationService.createInstance(T.CloseOtherEditorsInGroupAction,T.CloseOtherEditorsInGroupAction.ID,i.localize(1,null)),this.closeRightEditorsAction=this.instantiationService.createInstance(T.CloseRightEditorsInGroupAction,T.CloseRightEditorsInGroupAction.ID,i.localize(2,null)),this.closeEditorsInGroupAction=this.instantiationService.createInstance(T.CloseEditorsInGroupAction,T.CloseEditorsInGroupAction.ID,i.localize(3,null)),this.pinEditorAction=this.instantiationService.createInstance(T.KeepEditorAction,T.KeepEditorAction.ID,i.localize(4,null)),this.showEditorsInGroupAction=this.instantiationService.createInstance(T.ShowEditorsInGroupAction,T.ShowEditorsInGroupAction.ID,T.ShowEditorsInGroupAction.LABEL),this.splitEditorAction=this.instantiationService.createInstance(T.SplitEditorAction,T.SplitEditorAction.ID,T.SplitEditorAction.LABEL),this.moveGroupLeftAction=this.instantiationService.createInstance(T.MoveGroupLeftAction,T.MoveGroupLeftAction.ID,i.localize(5,null)),this.moveGroupRightAction=this.instantiationService.createInstance(T.MoveGroupRightAction,T.MoveGroupRightAction.ID,i.localize(6,null)),this.showEditorsInGroupAction["class"]="show-group-editors-action"},e.prototype.doCreateToolbar=function(e){var t=this,n=new p.ToolBar(e,this.contextMenuService,{actionItemProvider:function(e){return t.actionItemProvider(e)},orientation:h.ActionsOrientation.HORIZONTAL,ariaLabel:i.localize(7,null),getKeyBinding:function(e){var i=t.keybindingService.lookupKeybindings(e.id);return i.length>0?i[0]:null}});return this.toDispose.push(n.actionRunner.addListener2(d.EventType.RUN,function(e){e.error&&!r.isPromiseCanceledError(e.error)&&t.messageService.show(b.Severity.Error,e.error),t.telemetryService&&t.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"editorPart"})})),n},e.prototype.actionItemProvider=function(e){if(!this.context)return null;var t,i=this.context,r=this.stacks.positionOfGroup(i),s=this.editorService.getVisibleEditors()[r];if(s instanceof c.BaseEditor&&(t=s.getActionItem(e)),!t){var a=n.Registry.as(o.Extensions.Actionbar);t=a.getActionItemForContext(o.Scope.EDITOR,{input:s&&s.input,editor:s,position:r},e)}return t||(t=L.createActionItem(e,this.keybindingService,this.messageService)),t},e.prototype.getEditorActions=function(e){var t=[],i=[],n=e.group,o=this.stacks.positionOfGroup(n);this.resourceContext.set(n&&l.getResource(n.activeEditor));var r=this.editorService.getVisibleEditors()[o];if(r instanceof c.BaseEditor&&r.input&&"number"==typeof r.position){var s=this.mapActionsToEditors[r.getId()];s||(s=this.getEditorActionsForContext(r),this.mapActionsToEditors[r.getId()]=s),t.push.apply(t,s.primary),i.push.apply(i,s.secondary);var a=this.getEditorActionsForContext({input:r.input,editor:r,position:r.position});t.push.apply(t,a.primary),i.push.apply(i,a.secondary),L.fillInActions(this.contributedTitleBarMenu,{primary:t,secondary:i})}return{primary:t,secondary:i}},e.prototype.getEditorActionsForContext=function(e){var t=[],i=[];if(e instanceof c.BaseEditor)t.push.apply(t,e.getActions()),i.push.apply(i,e.getSecondaryActions());else{var r=n.Registry.as(o.Extensions.Actionbar);t.push.apply(t,r.getActionBarActionsForContext(o.Scope.EDITOR,e)),i.push.apply(i,r.getSecondaryActionBarActionsForContext(o.Scope.EDITOR,e))}return{primary:t,secondary:i}},e.prototype.getGroupActions=function(e){var t=e.activeEditor,i=[];switch(i.push(this.showEditorsInGroupAction),t instanceof l.EditorInput&&t.supportsSplitEditor()&&i.push(this.splitEditorAction),this.stacks.positionOfGroup(e)){case y.Position.LEFT:this.moveGroupLeftAction.enabled=!1,this.moveGroupRightAction.enabled=this.stacks.groups.length>1;break;case y.Position.CENTER:this.moveGroupRightAction.enabled=this.stacks.groups.length>2;break;case y.Position.RIGHT:this.moveGroupRightAction.enabled=!1}var n=[this.moveGroupLeftAction,this.moveGroupRightAction,new h.Separator,this.closeEditorsInGroupAction];return{primary:i,secondary:n}},e.prototype.onContextMenu=function(e,t,i){var n=this,o=i;if(t instanceof MouseEvent){var r=new _.StandardMouseEvent(t);o={x:r.posx,y:r.posy}}this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return a.TPromise.as(n.getContextMenuActions(e))},getActionsContext:function(){return e},getKeyBinding:function(e){var t=n.keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:null}})},e.prototype.getContextMenuActions=function(e){var t=e.editor,i=e.group;this.closeOtherEditorsAction.enabled=i.count>1,this.pinEditorAction.enabled=!i.isPinned(t),this.closeRightEditorsAction.enabled=i.indexOf(t)!==i.count-1;var n=[this.closeEditorAction,this.closeOtherEditorsAction];return this.showTabs&&n.push(this.closeRightEditorsAction),n.push(this.closeEditorsInGroupAction),this.previewEditors&&n.push(new h.Separator,this.pinEditorAction),n},e.prototype.dispose=function(){A.dispose(this.toDispose),[this.splitEditorAction,this.showEditorsInGroupAction,this.closeEditorAction,this.closeRightEditorsAction,this.closeOtherEditorsAction,this.closeEditorsInGroupAction,this.moveGroupLeftAction,this.moveGroupRightAction,this.pinEditorAction].forEach(function(e){e.dispose()})},e=g([m(0,v.IContextMenuService),m(1,w.IInstantiationService),m(2,E.IConfigurationService),m(3,f.IWorkbenchEditorService),m(4,S.IEditorGroupService),m(5,I.IKeybindingService),m(6,C.ITelemetryService),m(7,b.IMessageService),m(8,D.IMenuService)],e)}();t.TitleControl=x}),define(l[977],d([1,0,63,7,41,30,10,224,766]),function(e,t,i,n,o,r,s,a){"use strict";var c=function(e){function t(){e.apply(this,arguments),this.currentPrimaryEditorActionIds=[],this.currentSecondaryEditorActionIds=[]}return h(t,e),t.prototype.setContext=function(t){e.prototype.setContext.call(this,t),this.editorActionsToolbar.context={group:t}},t.prototype.create=function(e){var t=this;this.titleContainer=e,this.toDispose.push(s.addDisposableListener(this.titleContainer,s.EventType.DBLCLICK,function(e){s.EventHelper.stop(e),t.onTitleDoubleClick()})),this.toDispose.push(s.addDisposableListener(this.titleContainer,s.EventType.MOUSE_UP,function(e){s.EventHelper.stop(e,!1),t.onTitleClick(e)})),this.titleDecoration=document.createElement("div"),s.addClass(this.titleDecoration,"title-decoration"),this.titleContainer.appendChild(this.titleDecoration);var i=document.createElement("div");s.addClass(i,"title-label"),this.titleLabel=document.createElement("a"),i.appendChild(this.titleLabel),this.titleDescription=document.createElement("span"),i.appendChild(this.titleDescription),this.titleContainer.appendChild(i);var n=document.createElement("div");s.addClass(n,"title-actions"),this.editorActionsToolbar=this.doCreateToolbar(n),this.titleContainer.appendChild(n),this.toDispose.push(s.addDisposableListener(this.titleContainer,s.EventType.CONTEXT_MENU,function(e){return t.onContextMenu({group:t.context,editor:t.context.activeEditor},e,t.titleContainer)}))},t.prototype.onTitleDoubleClick=function(){if(this.context){var e=this.context,t=this.stacks.positionOfGroup(e);this.editorGroupService.pinEditor(t,e.activeEditor)}},t.prototype.onTitleClick=function(e){if(this.context){var t=this.context,i=this.stacks.positionOfGroup(t);1===e.button?this.editorService.closeEditor(i,t.activeEditor).done(null,n.onUnexpectedError):1!==this.stacks.groups.length||s.isAncestor(e.target||e.srcElement,this.editorActionsToolbar.getContainer().getHTMLElement())||this.editorGroupService.focusGroup(i)}},t.prototype.doRefresh=function(){var e=this.context,t=e&&e.activeEditor;if(!t)return this.titleLabel.innerText="",this.titleDescription.innerText="",this.editorActionsToolbar.setActions([],[])(),this.currentPrimaryEditorActionIds=[],void(this.currentSecondaryEditorActionIds=[]);var n=e.isPinned(e.activeEditor),a=this.stacks.isActive(e);n?s.addClass(this.titleContainer,"pinned"):s.removeClass(this.titleContainer,"pinned"),a?s.addClass(this.titleContainer,"active"):s.removeClass(this.titleContainer,"active");var c=t.getName()||"",u=a?t.getDescription()||"":"",l=t.getDescription(!0)||"";u===l&&(l=""),this.titleLabel.innerText=c,this.titleLabel.title=l,this.titleDescription.innerText=u,this.titleDescription.title=l,t.isDirty()?s.addClass(this.titleDecoration,"dirty"):s.removeClass(this.titleDecoration,"dirty");var d=[],h=[];if(a){var p=this.getEditorActions({group:e,editor:t});d=i.prepareActions(p.primary),a&&t instanceof r.EditorInput&&t.supportsSplitEditor()&&d.push(this.splitEditorAction),h=i.prepareActions(p.secondary)}var f=d.map(function(e){return e.id});f.push(this.closeEditorAction.id);var g=h.map(function(e){return e.id});o.equals(f,this.currentPrimaryEditorActionIds)&&o.equals(g,this.currentSecondaryEditorActionIds)||(this.editorActionsToolbar.setActions(d,h)(),this.editorActionsToolbar.addPrimaryAction(this.closeEditorAction)(),this.currentPrimaryEditorActionIds=f,this.currentSecondaryEditorActionIds=g)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.editorActionsToolbar.dispose()},t}(a.TitleControl);t.NoTabsTitleControl=c}),define(l[978],d([1,0,488,63,41,7,10,12,58,30,83,13,49,23,22,51,44,87,18,21,6,20,35,224,5,138,94,183,764]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k){"use strict";var x=function(e){function t(t,i,n,o,r,s,a,c,u,l){e.call(this,t,i,n,o,r,a,c,u,l),this.untitledEditorService=s,this.tabDisposeables=[],this.currentPrimaryGroupActionIds=[],this.currentSecondaryGroupActionIds=[],this.currentPrimaryGroupActionIds=[],this.currentSecondaryGroupActionIds=[],this.tabDisposeables=[]}return h(t,e),t.prototype.setContext=function(t){e.prototype.setContext.call(this,t),this.groupActionsToolbar.context={group:t}},t.prototype.create=function(e){var t=this;this.titleContainer=e,this.tabsContainer=document.createElement("div"),this.tabsContainer.setAttribute("role","tablist"),s.addClass(this.tabsContainer,"tabs-container"),this.toDispose.push(s.addDisposableListener(this.tabsContainer,s.EventType.SCROLL,function(e){s.hasClass(t.tabsContainer,"scroll")&&t.scrollbar.updateState({scrollLeft:t.tabsContainer.scrollLeft})})),this.toDispose.push(s.addDisposableListener(this.tabsContainer,s.EventType.DBLCLICK,function(e){var i=e.target;if(i instanceof HTMLElement&&0===i.className.indexOf("tabs-container"))return s.EventHelper.stop(e),t.editorService.openEditor(t.untitledEditorService.createOrGet(),u.EditorOptions.create({pinned:!0}))})),this.scrollbar=new L.ScrollableElement(this.tabsContainer,{horizontal:D.ScrollbarVisibility.Auto,vertical:D.ScrollbarVisibility.Hidden,scrollYToX:!0,useShadows:!1,canUseTranslate3d:!0,horizontalScrollbarSize:3}),this.scrollbar.onScroll(function(e){t.tabsContainer.scrollLeft=e.scrollLeft}),this.titleContainer.appendChild(this.scrollbar.getDomNode()),this.toDispose.push(s.addDisposableListener(this.tabsContainer,s.EventType.DRAG_OVER,function(e){s.addClass(t.tabsContainer,"scroll");var i=e.target;i instanceof HTMLElement&&0===i.className.indexOf("tabs-container")&&s.addClass(t.tabsContainer,"dropfeedback")})),this.toDispose.push(s.addDisposableListener(this.tabsContainer,s.EventType.DRAG_LEAVE,function(e){s.removeClass(t.tabsContainer,"dropfeedback"),s.removeClass(t.tabsContainer,"scroll")})),this.toDispose.push(s.addDisposableListener(this.tabsContainer,s.EventType.DRAG_END,function(e){s.removeClass(t.tabsContainer,"dropfeedback"),s.removeClass(t.tabsContainer,"scroll")})),this.toDispose.push(s.addDisposableListener(this.tabsContainer,s.EventType.DROP,function(e){s.removeClass(t.tabsContainer,"dropfeedback"),s.removeClass(t.tabsContainer,"scroll");var i=e.target;if(i instanceof HTMLElement&&0===i.className.indexOf("tabs-container")){var n=t.context;if(n){var o=t.stacks.positionOfGroup(n),a=n.count,c=T.TitleControl.getDraggedEditor();if(c){s.EventHelper.stop(e,!0);var l=t.stacks.positionOfGroup(c.group);t.isMoveOperation(e,c.group,n)?t.editorGroupService.moveEditor(c.editor,l,o,a):t.editorService.openEditor(c.editor,u.EditorOptions.create({pinned:!0,index:a}),o).done(null,r.onUnexpectedError),t.onEditorDragEnd()}else t.handleExternalDrop(e,o,a)}}}));var i=document.createElement("div");s.addClass(i,"group-actions"),this.titleContainer.appendChild(i),this.groupActionsToolbar=this.doCreateToolbar(i)},t.prototype.allowDragging=function(e){return"tabs-container"===e.className},t.prototype.doUpdate=function(){var e=this;if(this.context){var t=this.context,i=this.stacks.isActive(t);i?s.addClass(this.titleContainer,"active"):s.removeClass(this.titleContainer,"active"),this.context.getEditors().forEach(function(i,n){var o=e.tabsContainer.children[n];if(o instanceof HTMLElement){var r=t.isPinned(i),a=t.isActive(i),c=i.isDirty();r?s.addClass(o,"pinned"):s.removeClass(o,"pinned"),a?(s.addClass(o,"active"),o.setAttribute("aria-selected","true"),e.activeTab=o):(s.removeClass(o,"active"),o.setAttribute("aria-selected","false")),c?s.addClass(o,"dirty"):s.removeClass(o,"dirty")}}),this.layout()}},t.prototype.doRefresh=function(){var e=this.context,t=e&&e.activeEditor;if(!t)return this.clearTabs(),this.groupActionsToolbar.setActions([],[])(),this.currentPrimaryGroupActionIds=[],void(this.currentSecondaryGroupActionIds=[]);var i=this.getGroupActions(e),n=i.primary,r=i.secondary,s=n.map(function(e){return e.id}),a=r.map(function(e){return e.id});o.equals(s,this.currentPrimaryGroupActionIds)&&o.equals(a,this.currentSecondaryGroupActionIds)||(this.groupActionsToolbar.setActions(n,r)(),this.currentPrimaryGroupActionIds=s,this.currentSecondaryGroupActionIds=a),this.refreshTabs(e),this.doUpdate()},t.prototype.clearTabs=function(){s.clearNode(this.tabsContainer),A.dispose(this.tabDisposeables),this.tabDisposeables=[]},t.prototype.refreshTabs=function(e){var t=this;this.clearTabs();var n=[];this.context.getEditors().forEach(function(o){var r=document.createElement("div");r.draggable=!0,r.tabIndex=0,r.setAttribute("role","tab"),r.setAttribute("aria-label",o.getName()),s.addClass(r,"tab monaco-editor-background"),n.push(r);var a=document.createElement("div");r.appendChild(a),s.addClass(a,"tab-label");var c=document.createElement("a");c.innerText=o.getName(),c.title=o.getDescription(!0)||"",a.appendChild(c);var u=document.createElement("div");s.addClass(u,"tab-close"),r.appendChild(u);var l=new p.ActionBar(u,{context:{editor:o,group:e},ariaLabel:i.localize(0,null)});l.push(t.closeEditorAction,{icon:!0,label:!1}),t.tabDisposeables.push(l),t.hookTabListeners(r,{editor:o,group:e})}),n.forEach(function(e){return t.tabsContainer.appendChild(e)})},t.prototype.layout=function(){if(this.activeTab){var e=this.tabsContainer.offsetWidth,t=this.tabsContainer.scrollWidth;this.scrollbar.updateState({width:e,scrollWidth:t});var i=this.tabsContainer.scrollLeft,n=this.activeTab.offsetLeft,o=this.activeTab.offsetWidth,r=o<=e;r&&i+e<n+o?this.scrollbar.updateState({scrollLeft:i+(n+o-(i+e))}):(i>n||!r)&&this.scrollbar.updateState({scrollLeft:this.activeTab.offsetLeft});var s=t>e;this.showEditorsInGroupAction.enabled=s}},t.prototype.hookTabListeners=function(e,i){var n=this,o=i.editor,a=i.group,h=this.stacks.positionOfGroup(a);this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.MOUSE_DOWN,function(t){e.blur(),0!==t.button||s.findParentWithClass(t.target||t.srcElement,"monaco-action-bar","tab")||setTimeout(function(){return n.editorService.openEditor(o,null,h).done(null,r.onUnexpectedError)})})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.MOUSE_UP,function(t){s.EventHelper.stop(t),e.blur(),1===t.button&&n.editorService.closeEditor(h,o).done(null,r.onUnexpectedError)})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.KEY_UP,function(e){var t=new l.StandardKeyboardEvent(e),i=!1;if(t.equals(d.CommonKeybindings.ENTER)||t.equals(d.CommonKeybindings.SPACE))i=!0,n.editorService.openEditor(o,null,h).done(null,r.onUnexpectedError);else if([d.CommonKeybindings.LEFT_ARROW,d.CommonKeybindings.RIGHT_ARROW,d.CommonKeybindings.UP_ARROW,d.CommonKeybindings.DOWN_ARROW,d.CommonKeybindings.HOME,d.CommonKeybindings.END].some(function(e){return t.equals(e)})){var c=a.indexOf(o),p=void 0;p=t.equals(d.CommonKeybindings.LEFT_ARROW)||t.equals(d.CommonKeybindings.UP_ARROW)?c-1:t.equals(d.CommonKeybindings.RIGHT_ARROW)||t.equals(d.CommonKeybindings.DOWN_ARROW)?c+1:t.equals(d.CommonKeybindings.HOME)?0:a.count-1;var f=a.getEditor(p);f&&(i=!0,n.editorService.openEditor(f,u.EditorOptions.create({preserveFocus:!0}),h).done(null,r.onUnexpectedError),n.tabsContainer.childNodes[p].focus())}i&&s.EventHelper.stop(e,!0)})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.DBLCLICK,function(e){s.EventHelper.stop(e),n.editorGroupService.pinEditor(h,o)})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.CONTEXT_MENU,function(t){return n.onContextMenu(i,t,e)})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.DRAG_START,function(e){n.onEditorDragStart({editor:o,group:a}),e.dataTransfer.effectAllowed="copyMove";var t=u.asFileEditorInput(o,!0);t&&e.dataTransfer.setData("DownloadURL",[c.MIME_BINARY,o.getName(),t.getResource().toString()].join(":"))})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.DRAG_OVER,function(t){s.addClass(e,"dropfeedback")})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.DRAG_LEAVE,function(t){s.removeClass(e,"dropfeedback")})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.DRAG_END,function(t){s.removeClass(e,"dropfeedback"),n.onEditorDragEnd()})),this.tabDisposeables.push(s.addDisposableListener(e,s.EventType.DROP,function(i){s.removeClass(e,"dropfeedback");var c=n.stacks.positionOfGroup(a),l=a.indexOf(o),d=t.getDraggedEditor();if(d){s.EventHelper.stop(i,!0);var h=n.stacks.positionOfGroup(d.group);n.isMoveOperation(i,d.group,a)?n.editorGroupService.moveEditor(d.editor,h,c,l):n.editorService.openEditor(d.editor,u.EditorOptions.create({pinned:!0,index:l}),c).done(null,r.onUnexpectedError),n.onEditorDragEnd()}else n.handleExternalDrop(i,c,l)}))},t.prototype.handleExternalDrop=function(e,t,i){var n=this,o=k.extractResources(e).filter(function(e){return"file"===e.scheme||"untitled"===e.scheme});o.length&&(s.EventHelper.stop(e,!0),this.editorService.openEditors(o.map(function(e){return{input:{resource:e,options:{pinned:!0,index:i}},position:t}})).done(function(){n.editorGroupService.focusGroup(t),window.focus()},r.onUnexpectedError))},t.prototype.isMoveOperation=function(e,t,i){var n=e.ctrlKey&&!a.isMacintosh||e.altKey&&a.isMacintosh;return!n||t.id===i.id},t.prototype.getContextMenuActions=function(t){var i=e.prototype.getContextMenuActions.call(this,t),o=t.editor,r=t.group;if(r.isActive(o)){var s=this.getEditorActions(t);s.primary.length&&i.push.apply(i,[new p.Separator].concat(n.prepareActions(s.primary))),s.secondary.length&&i.push.apply(i,[new p.Separator].concat(n.prepareActions(s.secondary)))}return i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.groupActionsToolbar.dispose()},t=g([m(0,y.IContextMenuService),m(1,C.IInstantiationService),m(2,f.IConfigurationService),m(3,v.IWorkbenchEditorService),m(4,E.IEditorGroupService),m(5,S.IUntitledEditorService),m(6,w.IKeybindingService),m(7,_.ITelemetryService),m(8,b.IMessageService),m(9,I.IMenuService)],t)}(T.TitleControl);t.TabsTitleControl=x}),define(l[979],d([1,0,41,24,77,17,31,122,210,10,7,12,22,51,56,44,28,18,21,23,6,110,20,103,5,978,224,977,30,183,765]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x){"use strict";!function(e){e[e.NONE=0]="NONE",e[e.CENTER_TO_LEFT=1]="CENTER_TO_LEFT",e[e.RIGHT_TO_CENTER=2]="RIGHT_TO_CENTER",e[e.CENTER_AND_RIGHT_TO_LEFT=3]="CENTER_AND_RIGHT_TO_LEFT"}(t.Rochade||(t.Rochade={}));var M=t.Rochade;!function(e){e[e.INFINITE=0]="INFINITE",e[e.DONE=1]="DONE",e[e.STOP=2]="STOP"}(t.ProgressState||(t.ProgressState={}));var R=t.ProgressState,O=function(){function e(e,t,i,o,r,a,c,u,l,d,h){this.editorService=t,this.editorGroupService=i,this.messageService=o,this.telemetryService=r,this.contextMenuService=a,this.eventService=c,this.configurationService=u,this.keybindingService=l,this.extensionService=d,this.instantiationService=h,this.stacks=i.getStacksModel(),this.parent=e,this.dimension=new s.Dimension(0,0),this.instantiationServices=[],this.containers=[],this.containerWidth=[],this.titleContainer=[],this.titleAreaControl=[],this.progressBar=[],this.visibleEditors=[],this.visibleEditorContainers=[],this.visibleEditorFocusTrackers=[],this._onGroupFocusChanged=new n.Emitter,this.toDispose=[],this.create(this.parent),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.stacks.onModelChanged(function(t){return e.onStacksChanged(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)})),this.extensionService.onReady().then(function(){return e.onExtensionsReady()})},e.prototype.onConfigurationUpdated=function(e){var t=this,i=e.workbench.editor.showTabs;f.POSITIONS.forEach(function(e){var n=t.titleContainer[e];i?n.addClass("tabs"):n.removeClass("tabs");var o=t.titleAreaControl[e];if(o){var r=o instanceof A.TabsTitleControl;r!==i&&(o.dispose(),t.titleContainer[e].empty(),t.createTitleControl(e))}})},e.prototype.onExtensionsReady=function(){var e=this;f.POSITIONS.forEach(function(t){return e.titleAreaControl[t].update()})},e.prototype.onStacksChanged=function(e){var t=this;f.POSITIONS.forEach(function(e){t.titleAreaControl[e].setContext(t.stacks.groupAt(e))});var i=this.stacks.positionOfGroup(e.group);i>=0&&(e.structural?this.titleAreaControl[i].refresh():this.titleAreaControl[i].update())},Object.defineProperty(e.prototype,"onGroupFocusChanged",{get:function(){return this._onGroupFocusChanged.event},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t,i,n,o){var r=this.getVisibleEditorCount();this.visibleEditors[i]=e,this.visibleEditorContainers[i]=t,n&&this.lastActiveEditor||this.doSetActive(e,i),this.trackFocus(e,i);var s=this.containers[i];if(t.build(s),!o||2!==o.length&&3!==o.length)0===r&&this.dimension?(this.containerWidth[i]=this.dimension.width,this.layoutContainers()):i===f.Position.CENTER&&this.leftSash.isHidden()&&this.rightSash.isHidden()&&this.dimension?(this.containerWidth[f.Position.LEFT]=this.dimension.width/2,this.containerWidth[f.Position.CENTER]=this.dimension.width-this.containerWidth[f.Position.LEFT],this.leftSash.show(),this.leftSash.layout(),this.layoutContainers()):i===f.Position.RIGHT&&this.rightSash.isHidden()&&this.dimension&&(this.containerWidth[f.Position.LEFT]=this.dimension.width/3,this.containerWidth[f.Position.CENTER]=this.dimension.width/3,this.containerWidth[f.Position.RIGHT]=this.dimension.width-this.containerWidth[f.Position.LEFT]-this.containerWidth[f.Position.CENTER],this.leftSash.layout(),this.rightSash.show(),this.rightSash.layout(),this.layoutContainers());else{var a=this.dimension&&this.dimension.width;a||(this.containerInitialRatios=o),2===o.length?a&&(this.containerWidth[i]=this.dimension.width*o[i]):3===o.length&&(a&&(this.containerWidth[i]=this.dimension.width*o[i]),this.rightSash.isHidden()&&(this.rightSash.show(),this.rightSash.layout())),this.leftSash.isHidden()&&(this.leftSash.show(),this.leftSash.layout()),a&&this.layoutContainers()}t.show(),this.updateParentStyle()},e.prototype.getVisibleEditorCount=function(){return this.visibleEditors.filter(function(e){return!!e}).length},e.prototype.trackFocus=function(e,t){var i=this;this.visibleEditorFocusTrackers[t]&&this.visibleEditorFocusTrackers[t].dispose(),this.visibleEditorFocusTrackers[t]=u.trackFocus(e.getContainer().getHTMLElement()),this.visibleEditorFocusTrackers[t].addFocusListener(function(){i.onFocusGained(e)})},e.prototype.onFocusGained=function(e){this.setActive(e)},e.prototype.setActive=function(t){var i=this;if(this.lastActiveEditor!==t){if(this.doSetActive(t,this.visibleEditors.indexOf(t)),this.containerWidth[this.lastActivePosition]===e.MIN_EDITOR_WIDTH){this.telemetryService&&this.telemetryService.publicLog("workbenchEditorMaximized");var n=this.dimension.width;f.POSITIONS.forEach(function(t){i.lastActivePosition!==t&&i.visibleEditors[t]&&(i.containerWidth[t]=e.MIN_EDITOR_WIDTH,n-=i.containerWidth[t])}),n>e.MIN_EDITOR_WIDTH&&(this.containerWidth[this.lastActivePosition]=n,this.leftSash.isHidden()||this.leftSash.layout(),this.rightSash.isHidden()||this.rightSash.layout(),this.layoutContainers())}this._onGroupFocusChanged.fire()}},e.prototype.focusNextNonMinimized=function(){var t=this;if(!r.isUndefinedOrNull(this.lastActivePosition)&&this.containerWidth[this.lastActivePosition]===e.MIN_EDITOR_WIDTH){var i=null,n=e.MIN_EDITOR_WIDTH;f.POSITIONS.forEach(function(e){e!==t.lastActivePosition&&t.visibleEditors[e]&&t.containerWidth[e]>n&&(i=e,n=t.containerWidth[e])}),r.isUndefinedOrNull(i)||this.editorGroupService.focusGroup(i)}},e.prototype.hide=function(e,t,i,n){var o=M.NONE,s=this.getVisibleEditorCount(),a=!!this.visibleEditors[f.Position.CENTER],c=!!this.visibleEditors[f.Position.RIGHT];if(e!==this.visibleEditors[i])return o;if(this.clearPosition(i),t.offDOM(),t.hide(),n&&(1===s?(this.containerWidth[i]=0,this.leftSash.hide(),
this.rightSash.hide(),this.layoutContainers()):a&&!c?(this.containerWidth[f.Position.LEFT]=this.dimension.width,this.containerWidth[f.Position.CENTER]=0,this.leftSash.hide(),this.rightSash.hide(),i===f.Position.LEFT&&(this.rochade(f.Position.CENTER,f.Position.LEFT),o=M.CENTER_TO_LEFT),this.layoutContainers()):a&&c&&(this.containerWidth[f.Position.LEFT]=this.dimension.width/2,this.containerWidth[f.Position.CENTER]=this.dimension.width-this.containerWidth[f.Position.LEFT],this.containerWidth[f.Position.RIGHT]=0,this.leftSash.layout(),this.rightSash.hide(),i===f.Position.CENTER?(this.rochade(f.Position.RIGHT,f.Position.CENTER),o=M.RIGHT_TO_CENTER):i===f.Position.LEFT&&(this.rochade(f.Position.CENTER,f.Position.LEFT),this.rochade(f.Position.RIGHT,f.Position.CENTER),o=M.CENTER_AND_RIGHT_TO_LEFT),this.layoutContainers())),this.lastActiveEditor===e&&(this.doSetActive(null,null),n)){var u=void 0;switch(i){case f.Position.LEFT:u=a?f.Position.LEFT:null;break;case f.Position.CENTER:u=f.Position.LEFT;break;case f.Position.RIGHT:u=f.Position.CENTER}r.isUndefinedOrNull(u)||this.doSetActive(this.visibleEditors[u],u)}return this.updateParentStyle(),o},e.prototype.updateParentStyle=function(){var e=this.getVisibleEditorCount();e>1?this.parent.addClass("multiple-editors"):this.parent.removeClass("multiple-editors")},e.prototype.doSetActive=function(e,t){this.lastActivePosition=t,this.lastActiveEditor=e},e.prototype.clearPosition=function(e){this.visibleEditorFocusTrackers[e]&&(this.visibleEditorFocusTrackers[e].dispose(),this.visibleEditorFocusTrackers[e]=null),this.visibleEditors[e]=null,this.visibleEditorContainers[e]=null},e.prototype.rochade=function(e,t){var i=this.visibleEditorContainers[e],n=this.visibleEditors[e];i.offDOM(),i.build(this.containers[t]),n.changePosition(t);var o=this.visibleEditorFocusTrackers[e];this.visibleEditorFocusTrackers[t]=o,this.visibleEditorFocusTrackers[e]=null,this.visibleEditorContainers[t]=i,this.visibleEditorContainers[e]=null,this.visibleEditors[t]=n,this.visibleEditors[e]=null,this.lastActivePosition===e&&this.doSetActive(this.lastActiveEditor,t)},e.prototype.move=function(e,t){var n,o,r,s;if(1===Math.abs(e-t))n=this.visibleEditorContainers[e],o=this.visibleEditors[e],n.offDOM(),n.build(this.containers[t]),o.changePosition(t),r=this.visibleEditorContainers[t],s=this.visibleEditors[t],r.offDOM(),r.build(this.containers[e]),s.changePosition(e),this.lastActivePosition===e?this.doSetActive(this.lastActiveEditor,t):this.lastActivePosition===t&&this.doSetActive(this.lastActiveEditor,e);else{var a=void 0,c=void 0,u=void 0;e===f.Position.LEFT?(a=f.Position.RIGHT,c=f.Position.LEFT,u=f.Position.CENTER):(a=f.Position.CENTER,c=f.Position.RIGHT,u=f.Position.LEFT),n=this.visibleEditorContainers[f.Position.LEFT],o=this.visibleEditors[f.Position.LEFT],n.offDOM(),n.build(this.containers[a]),o.changePosition(a),r=this.visibleEditorContainers[f.Position.CENTER],s=this.visibleEditors[f.Position.CENTER],r.offDOM(),r.build(this.containers[c]),s.changePosition(c);var l=this.visibleEditorContainers[f.Position.RIGHT],d=this.visibleEditors[f.Position.RIGHT];l.offDOM(),l.build(this.containers[u]),d.changePosition(u),this.lastActivePosition===f.Position.LEFT?this.doSetActive(this.lastActiveEditor,a):this.lastActivePosition===f.Position.CENTER?this.doSetActive(this.lastActiveEditor,c):this.lastActivePosition===f.Position.RIGHT&&this.doSetActive(this.lastActiveEditor,u)}i.move(this.visibleEditorContainers,e,t),i.move(this.visibleEditors,e,t),i.move(this.visibleEditorFocusTrackers,e,t),i.move(this.containerWidth,e,t),this.leftSash.isHidden()||this.leftSash.layout(),this.rightSash.isHidden()||this.rightSash.layout(),this.layoutContainers()},e.prototype.arrangeGroups=function(t){var i=this;if(this.dimension){var n=this.dimension.width,o=this.getVisibleEditorCount();o<=1||(t===h.GroupArrangement.MINIMIZE_OTHERS?(f.POSITIONS.forEach(function(t){i.visibleEditors[t]&&t!==i.lastActivePosition&&(i.containerWidth[t]=e.MIN_EDITOR_WIDTH,n-=e.MIN_EDITOR_WIDTH)}),this.containerWidth[this.lastActivePosition]=n):t===h.GroupArrangement.EVEN_WIDTH&&f.POSITIONS.forEach(function(e){i.visibleEditors[e]&&(i.containerWidth[e]=n/o)}),this.layoutControl(this.dimension))}},e.prototype.getWidthRatios=function(){var e=this,t=[];if(this.dimension){var i=this.dimension.width;f.POSITIONS.forEach(function(n){e.visibleEditors[n]&&t.push(e.containerWidth[n]/i)})}return t},e.prototype.getActiveEditor=function(){return this.lastActiveEditor},e.prototype.getActivePosition=function(){return this.lastActivePosition},e.prototype.create=function(e){var t=this;this.enableDropTarget(e.getHTMLElement()),this.containers[f.Position.LEFT]=s.$(e).div({"class":"one-editor-container editor-left monaco-editor-background"}),this.leftSash=new a.Sash(e.getHTMLElement(),this,{baseSize:5}),this.toDispose.push(this.leftSash.addListener2("start",function(){return t.onLeftSashDragStart()})),this.toDispose.push(this.leftSash.addListener2("change",function(e){return t.onLeftSashDrag(e)})),this.toDispose.push(this.leftSash.addListener2("end",function(){return t.onLeftSashDragEnd()})),this.toDispose.push(this.leftSash.addListener2("reset",function(){return t.onLeftSashReset()})),this.leftSash.hide(),this.containers[f.Position.CENTER]=s.$(e).div({"class":"one-editor-container editor-center monaco-editor-background"}),this.rightSash=new a.Sash(e.getHTMLElement(),this,{baseSize:5}),this.toDispose.push(this.rightSash.addListener2("start",function(){return t.onRightSashDragStart()})),this.toDispose.push(this.rightSash.addListener2("change",function(e){return t.onRightSashDrag(e)})),this.toDispose.push(this.rightSash.addListener2("end",function(){return t.onRightSashDragEnd()})),this.toDispose.push(this.rightSash.addListener2("reset",function(){return t.onRightSashReset()})),this.rightSash.hide(),this.containers[f.Position.RIGHT]=s.$(e).div({"class":"one-editor-container editor-right monaco-editor-background"}),f.POSITIONS.forEach(function(e){t.instantiationServices[e]=t.instantiationService.createChild(new C.ServiceCollection([w.IKeybindingService,t.keybindingService.createScoped(t.containers[e].getHTMLElement())]))});var i=!!this.configurationService.getConfiguration().workbench.editor.showTabs;f.POSITIONS.forEach(function(e){t.titleContainer[e]=s.$(t.containers[e]).div({"class":"title"}),i&&t.titleContainer[e].addClass("tabs"),t.hookTitleDragListener(e),t.createTitleControl(e)}),f.POSITIONS.forEach(function(e){t.progressBar[e]=new c.ProgressBar(s.$(t.containers[e])),t.progressBar[e].getContainer().hide()})},e.prototype.enableDropTarget=function(t){function i(e,i,o){u.removeClass(t,"dropfeedback"),n();var r=h.editorService,s=h.editorGroupService,a="number"==typeof o,c=1===m.groups.length?f.Position.CENTER:f.Position.RIGHT,p=k.EditorOptions.create({pinned:!0}),g=L.TitleControl.getDraggedEditor();if(g){var v=e.ctrlKey&&!d.isMacintosh||e.altKey&&d.isMacintosh;if(v)a?r.openEditor(g.editor,p,c).then(function(){o!==c&&s.moveGroup(c,o)}).done(null,l.onUnexpectedError):r.openEditor(g.editor,p,i).done(null,l.onUnexpectedError);else{var y=m.positionOfGroup(g.group);a?1===g.group.count?s.moveGroup(y,o):r.openEditor(g.editor,p,c).then(function(){o!==c&&s.moveGroup(c,o),s.moveEditor(g.editor,m.positionOfGroup(g.group),o)}).done(null,l.onUnexpectedError):s.moveEditor(g.editor,y,i)}}else{var E=x.extractResources(e).filter(function(e){return"file"===e.scheme||"untitled"===e.scheme});E.length&&(window.focus(),r.openEditors(E.map(function(e){return{input:{resource:e,options:{pinned:!0}},position:a?c:i}})).then(function(){a&&o!==c&&s.moveGroup(c,o),s.focusGroup(a?o:i)}).done(null,l.onUnexpectedError))}}function n(){a&&(a.destroy(),a=void 0)}function o(e,t,i){var n,o=e.target,r=e.offsetX,s="number"==typeof a.getProperty(g),c=o.clientWidth,u=s?c/5:c/10,l=e.ctrlKey&&!d.isMacintosh||e.altKey&&d.isMacintosh,h=L.TitleControl.getDraggedEditor(),p=r<u,v=r+u>c;if(t===f.POSITIONS.length)n=null;else if(!l&&h&&1===h.group.count){var y=m.positionOfGroup(h.group);switch(y){case f.Position.LEFT:i===f.Position.CENTER&&v&&(n=f.Position.CENTER);break;case f.Position.CENTER:i===f.Position.LEFT&&p&&(n=f.Position.LEFT);break;default:n=null}}else v?n=i===f.Position.LEFT?f.Position.CENTER:f.Position.RIGHT:p&&(n=i===f.Position.LEFT?f.Position.LEFT:f.Position.CENTER);var E="number"==typeof n;E?a.setProperty(g,n):a.removeProperty(g),E&&v?a.style({left:"50%",width:"50%"}):E&&p?a.style({width:"50%"}):a.style({left:"0",width:"100%"}),a.style({opacity:1})}function r(t){if(!a){var r=h.visibleEditorContainers.filter(function(e){return!!e});r.forEach(function(c,l){if(c&&u.isAncestor(t,c.getHTMLElement())){var d=!!h.configurationService.getConfiguration().workbench.editor.showTabs;a=s.$("div").style({top:d?e.EDITOR_TITLE_HEIGHT+"px":0,height:d?"calc(100% - "+e.EDITOR_TITLE_HEIGHT+"px":"100%"}).id(p),a.appendTo(c),a.on(u.EventType.DROP,function(e){u.EventHelper.stop(e,!0),i(e,l,a.getProperty(g))}),a.on(u.EventType.DRAG_OVER,function(e){o(e,r.length,l)}),a.on([u.EventType.DRAG_LEAVE,u.EventType.DRAG_END],function(){n()}),a.once(u.EventType.MOUSE_OVER,function(){setTimeout(function(){n()},100)})}})}}var a,c=this,h=this,p="monaco-workbench-editor-drop-overlay",g="splitToPosition",m=this.editorGroupService.getStacksModel();this.toDispose.push(u.addDisposableListener(t,u.EventType.DROP,function(e){e.target===t&&(u.EventHelper.stop(e,!0),i(e,f.Position.LEFT))})),this.toDispose.push(u.addDisposableListener(t,u.EventType.DRAG_OVER,function(e){u.addClass(t,"dropfeedback");var i=e.target;i&&(a&&i.id!==p&&n(),r(i))})),this.toDispose.push(u.addDisposableListener(t,u.EventType.DRAG_LEAVE,function(e){u.removeClass(t,"dropfeedback")})),[t,window].forEach(function(e){c.toDispose.push(u.addDisposableListener(e,u.EventType.DRAG_END,function(e){u.removeClass(t,"dropfeedback"),n()}))})},e.prototype.createTitleControl=function(e){var t=!!this.configurationService.getConfiguration().workbench.editor.showTabs;this.titleAreaControl[e]=this.instantiationServices[e].createInstance(t?A.TabsTitleControl:D.NoTabsTitleControl),this.titleAreaControl[e].create(this.titleContainer[e].getHTMLElement()),this.titleAreaControl[e].setContext(this.stacks.groupAt(e)),this.titleAreaControl[e].refresh()},e.prototype.hookTitleDragListener=function(t){var i=this,n=!1;this.titleContainer[t].on(u.EventType.MOUSE_DOWN,function(r){if(i.titleAreaControl[t].allowDragging(r.target||r.srcElement)&&(n=!1,!(i.getVisibleEditorCount()<=1)&&0===r.button)){u.EventHelper.stop(r);var a=s.$("div").style({top:e.EDITOR_TITLE_HEIGHT+"px",height:"100%"}).id("monaco-workbench-editor-move-overlay");a.appendTo(i.parent),i.dragging=!0;var c=i.getVisibleEditorCount(),l=new o.StandardMouseEvent(r),d=l.posx,h=null;i.containers[t].addClass("drag"),i.parent.addClass("drag");var p=s.$(window);p.on(u.EventType.MOUSE_MOVE,function(e){u.EventHelper.stop(e,!1);var r=new o.StandardMouseEvent(e),s=r.posx-d,a=null;switch(Math.abs(s)>5&&(n=!0),t){case f.Position.LEFT:a=Math.max(-1,Math.min(s,i.dimension.width-i.containerWidth[f.Position.LEFT]));break;case f.Position.CENTER:a=2===c?Math.min(i.containerWidth[f.Position.LEFT],Math.max(-1,i.containerWidth[f.Position.LEFT]+s)):Math.min(i.dimension.width-i.containerWidth[f.Position.CENTER],Math.max(-1,i.containerWidth[f.Position.LEFT]+s));break;case f.Position.RIGHT:a=Math.min(i.containerWidth[f.Position.LEFT]+i.containerWidth[f.Position.CENTER],Math.max(-1,i.containerWidth[f.Position.LEFT]+i.containerWidth[f.Position.CENTER]+s))}if(h!==a){h=a;var l=i.findMoveTarget(t,s);switch(t){case f.Position.LEFT:l===f.Position.LEFT||null===l?(i.containers[f.Position.CENTER].style({left:i.containerWidth[f.Position.LEFT]+"px",right:"auto",borderLeftWidth:"1px"}),i.containers[f.Position.RIGHT].style({left:"auto",right:0})):l===f.Position.CENTER?(i.containers[f.Position.CENTER].style({left:0,right:"auto",borderLeftWidth:0}),i.containers[f.Position.CENTER].addClass("draggedunder"),i.containers[f.Position.RIGHT].style({left:"auto",right:0})):l===f.Position.RIGHT&&(i.containers[f.Position.CENTER].style({left:0,right:"auto"}),i.containers[f.Position.RIGHT].style({left:"auto",right:i.containerWidth[f.Position.LEFT]+"px"}),i.containers[f.Position.RIGHT].addClass("draggedunder"));break;case f.Position.CENTER:l===f.Position.LEFT?(i.containers[f.Position.LEFT].style({left:i.containerWidth[f.Position.CENTER]+"px",right:"auto"}),i.containers[f.Position.LEFT].addClass("draggedunder")):l===f.Position.CENTER||null===l?(i.containers[f.Position.LEFT].style({left:0,right:"auto"}),i.containers[f.Position.RIGHT].style({left:"auto",right:0})):l===f.Position.RIGHT&&(i.containers[f.Position.RIGHT].style({left:"auto",right:i.containerWidth[f.Position.CENTER]+"px"}),i.containers[f.Position.RIGHT].addClass("draggedunder"),i.containers[f.Position.LEFT].style({left:0,right:"auto"}));break;case f.Position.RIGHT:l===f.Position.LEFT?(i.containers[f.Position.LEFT].style({left:i.containerWidth[f.Position.RIGHT]+"px",right:"auto"}),i.containers[f.Position.LEFT].addClass("draggedunder")):l===f.Position.CENTER?(i.containers[f.Position.LEFT].style({left:0,right:"auto"}),i.containers[f.Position.CENTER].style({left:i.containerWidth[f.Position.LEFT]+i.containerWidth[f.Position.RIGHT]+"px",right:"auto"}),i.containers[f.Position.CENTER].addClass("draggedunder")):l!==f.Position.RIGHT&&null!==l||(i.containers[f.Position.LEFT].style({left:0,right:"auto"}),i.containers[f.Position.CENTER].style({left:i.containerWidth[f.Position.LEFT]+"px",right:"auto"}))}null!==a&&(i.containers[t].style({left:a+"px"}),i.containers[t].addClass("dragging"),i.parent.addClass("dragging"))}}).once(u.EventType.MOUSE_UP,function(e){u.EventHelper.stop(e,!1),a.destroy(),i.dragging=!1,i.parent.removeClass("drag"),i.containers[t].removeClass("drag"),i.parent.removeClass("dragging"),i.containers[t].removeClass("dragging"),f.POSITIONS.forEach(function(e){return i.containers[e].removeClass("draggedunder")}),i.containers[f.Position.LEFT].style({left:0,right:"auto"}),i.containers[f.Position.CENTER].style({left:"auto",right:"auto",borderLeftWidth:"1px"}),i.containers[f.Position.RIGHT].style({left:"auto",right:0,borderLeftWidth:"1px"});var r=new o.StandardMouseEvent(e),s=r.posx-d,c=i.findMoveTarget(t,s);null!==c?(i.editorGroupService.moveGroup(t,c),f.POSITIONS.forEach(function(e){i.titleAreaControl[e].refresh(!0)})):i.layoutContainers(),n||t===i.getActivePosition()||i.editorGroupService.focusGroup(t),p.off("mousemove")})}})},e.prototype.findMoveTarget=function(e,t){var i=this.getVisibleEditorCount();switch(e){case f.Position.LEFT:if(2===i&&(t>=this.containerWidth[f.Position.LEFT]/2||t>=this.containerWidth[f.Position.CENTER]/2))return f.Position.CENTER;if(3===i&&(t>=this.containerWidth[f.Position.LEFT]/2+this.containerWidth[f.Position.CENTER]||t>=this.containerWidth[f.Position.RIGHT]/2+this.containerWidth[f.Position.CENTER]))return f.Position.RIGHT;if(3===i&&(t>=this.containerWidth[f.Position.LEFT]/2||t>=this.containerWidth[f.Position.CENTER]/2))return f.Position.CENTER;break;case f.Position.CENTER:if(2===i&&t>0)return null;if(2===i&&(Math.abs(t)>=this.containerWidth[f.Position.CENTER]/2||Math.abs(t)>=this.containerWidth[f.Position.LEFT]/2))return f.Position.LEFT;if(3===i&&(t<0&&Math.abs(t)>=this.containerWidth[f.Position.CENTER]/2||t<0&&Math.abs(t)>=this.containerWidth[f.Position.LEFT]/2))return f.Position.LEFT;if(3===i&&(t>0&&Math.abs(t)>=this.containerWidth[f.Position.CENTER]/2||t>0&&Math.abs(t)>=this.containerWidth[f.Position.RIGHT]/2))return f.Position.RIGHT;break;case f.Position.RIGHT:if(t>0)return null;if(Math.abs(t)>=this.containerWidth[f.Position.RIGHT]/2+this.containerWidth[f.Position.CENTER]||Math.abs(t)>=this.containerWidth[f.Position.LEFT]/2+this.containerWidth[f.Position.CENTER])return f.Position.LEFT;if(Math.abs(t)>=this.containerWidth[f.Position.RIGHT]/2||Math.abs(t)>=this.containerWidth[f.Position.CENTER]/2)return f.Position.CENTER}return null},e.prototype.centerSash=function(e,t){var i=this.containerWidth[e]+this.containerWidth[t],n=i/2;this.containerWidth[e]=n,this.containerWidth[t]=i-n,this.layoutContainers()},e.prototype.onLeftSashDragStart=function(){this.startLeftContainerWidth=this.containerWidth[f.Position.LEFT]},e.prototype.onLeftSashDrag=function(t){var i=this.containerWidth[f.Position.LEFT],n=this.startLeftContainerWidth+t.currentX-t.startX;this.rightSash.isHidden()?(n<e.MIN_EDITOR_WIDTH?n=e.MIN_EDITOR_WIDTH:this.dimension.width-n<e.MIN_EDITOR_WIDTH?n=this.dimension.width-e.MIN_EDITOR_WIDTH:n-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH?n=e.MIN_EDITOR_WIDTH:this.dimension.width-n-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH&&(n=this.dimension.width-e.MIN_EDITOR_WIDTH),this.containerWidth[f.Position.LEFT]=n,this.containerWidth[f.Position.CENTER]=this.dimension.width-n):(n<e.MIN_EDITOR_WIDTH?n=e.MIN_EDITOR_WIDTH:this.dimension.width-n-this.containerWidth[f.Position.RIGHT]<e.MIN_EDITOR_WIDTH?(this.dimension.width-n-this.containerWidth[f.Position.CENTER]<e.MIN_EDITOR_WIDTH?(n=this.dimension.width-2*e.MIN_EDITOR_WIDTH,this.containerWidth[f.Position.CENTER]=this.containerWidth[f.Position.RIGHT]=e.MIN_EDITOR_WIDTH):this.dimension.width-n-this.containerWidth[f.Position.CENTER]-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH?this.containerWidth[f.Position.RIGHT]=e.MIN_EDITOR_WIDTH:this.containerWidth[f.Position.RIGHT]=this.containerWidth[f.Position.RIGHT]-(n-i),this.rightSash.layout()):n-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH?n=e.MIN_EDITOR_WIDTH:this.dimension.width-this.containerWidth[f.Position.RIGHT]-n-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH&&(n=this.dimension.width-this.containerWidth[f.Position.RIGHT]-e.MIN_EDITOR_WIDTH),this.containerWidth[f.Position.LEFT]=n,this.containerWidth[f.Position.CENTER]=this.dimension.width-this.containerWidth[f.Position.LEFT]-this.containerWidth[f.Position.RIGHT]),this.layoutContainers()},e.prototype.onLeftSashDragEnd=function(){this.leftSash.layout(),this.rightSash.layout(),this.focusNextNonMinimized()},e.prototype.onLeftSashReset=function(){this.centerSash(f.Position.LEFT,f.Position.CENTER),this.leftSash.layout()},e.prototype.onRightSashDragStart=function(){this.startRightContainerWidth=this.containerWidth[f.Position.RIGHT]},e.prototype.onRightSashDrag=function(t){var i=this.containerWidth[f.Position.RIGHT],n=this.startRightContainerWidth-t.currentX+t.startX;n<e.MIN_EDITOR_WIDTH?n=e.MIN_EDITOR_WIDTH:this.dimension.width-n-this.containerWidth[f.Position.LEFT]<e.MIN_EDITOR_WIDTH?(this.dimension.width-n-this.containerWidth[f.Position.CENTER]<e.MIN_EDITOR_WIDTH?(n=this.dimension.width-2*e.MIN_EDITOR_WIDTH,this.containerWidth[f.Position.LEFT]=this.containerWidth[f.Position.CENTER]=e.MIN_EDITOR_WIDTH):this.dimension.width-n-this.containerWidth[f.Position.CENTER]-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH?this.containerWidth[f.Position.LEFT]=e.MIN_EDITOR_WIDTH:this.containerWidth[f.Position.LEFT]=this.containerWidth[f.Position.LEFT]-(n-i),this.leftSash.layout()):n-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH?n=e.MIN_EDITOR_WIDTH:this.dimension.width-this.containerWidth[f.Position.LEFT]-n-e.SNAP_TO_MINIMIZED_THRESHOLD<=e.MIN_EDITOR_WIDTH&&(n=this.dimension.width-this.containerWidth[f.Position.LEFT]-e.MIN_EDITOR_WIDTH),this.containerWidth[f.Position.RIGHT]=n,this.containerWidth[f.Position.CENTER]=this.dimension.width-this.containerWidth[f.Position.LEFT]-this.containerWidth[f.Position.RIGHT],this.layoutContainers()},e.prototype.onRightSashDragEnd=function(){this.leftSash.layout(),this.rightSash.layout(),this.focusNextNonMinimized()},e.prototype.onRightSashReset=function(){this.centerSash(f.Position.CENTER,f.Position.RIGHT),this.rightSash.layout()},e.prototype.getVerticalSashTop=function(e){return 0},e.prototype.getVerticalSashLeft=function(e){return e===this.leftSash?this.containerWidth[f.Position.LEFT]:this.containerWidth[f.Position.CENTER]+this.containerWidth[f.Position.LEFT]},e.prototype.getVerticalSashHeight=function(e){return this.dimension.height},e.prototype.isDragging=function(){return this.dragging},e.prototype.layout=function(e){e instanceof s.Dimension?this.layoutControl(e):this.layoutEditor(e)},e.prototype.layoutControl=function(t){var i=this,n=this.dimension;this.dimension=t,n&&n.width&&n.height||(n=t);var o=0;if(f.POSITIONS.forEach(function(t){if(i.visibleEditors[t]){if(i.containerWidth[t]!==e.MIN_EDITOR_WIDTH){var s=void 0;i.containerInitialRatios&&r.isNumber(i.containerInitialRatios[t])?(s=i.containerInitialRatios[t],delete i.containerInitialRatios[t]):s=i.containerWidth[t]/n.width,i.containerWidth[t]=Math.max(Math.round(i.dimension.width*s),e.MIN_EDITOR_WIDTH)}o+=i.containerWidth[t]}}),o>0){var s=o-this.dimension.width;if(s<0){var a=null;f.POSITIONS.forEach(function(t){i.visibleEditors[t]&&null===a&&i.containerWidth[t]!==e.MIN_EDITOR_WIDTH&&(a=t)}),null===a&&(a=f.Position.LEFT),this.containerWidth[a]-=s}else s>0&&f.POSITIONS.forEach(function(t){var n=i.containerWidth[t]-e.MIN_EDITOR_WIDTH;if(n>=s)i.containerWidth[t]-=s,s=0;else if(n>0){var o=s-n;i.containerWidth[t]-=o,s-=o}})}this.leftSash.layout(),this.rightSash.layout(),this.layoutContainers()},e.prototype.layoutContainers=function(){var e=this;f.POSITIONS.forEach(function(t){e.containers[t].size(e.containerWidth[t],e.dimension.height)}),this.visibleEditors[f.Position.RIGHT]?this.containers[f.Position.CENTER].position(null,this.containerWidth[f.Position.RIGHT]):this.containers[f.Position.CENTER].position(null,this.dimension.width-this.containerWidth[f.Position.LEFT]-this.containerWidth[f.Position.CENTER]),f.POSITIONS.forEach(function(t){e.visibleEditors[t]&&e.containers[t].isHidden()?e.containers[t].show():e.visibleEditors[t]||e.containers[t].isHidden()||e.containers[t].hide()}),f.POSITIONS.forEach(function(t){e.layoutEditor(t)}),f.POSITIONS.forEach(function(t){e.titleAreaControl[t].layout()})},e.prototype.layoutEditor=function(t){var i=this.containerWidth[t];i&&this.visibleEditors[t]&&this.visibleEditors[t].layout(new s.Dimension(i,this.dimension.height-e.EDITOR_TITLE_HEIGHT))},e.prototype.getInstantiationService=function(e){return this.instantiationServices[e]},e.prototype.getProgressBar=function(e){return this.progressBar[e]},e.prototype.updateProgress=function(e,t){switch(t){case R.INFINITE:this.progressBar[e].infinite().getContainer().show();break;case R.DONE:this.progressBar[e].done().getContainer().hide();break;case R.STOP:this.progressBar[e].stop().getContainer().hide()}},e.prototype.dispose=function(){var e=this;T.dispose(this.toDispose),f.POSITIONS.forEach(function(t){e.clearPosition(t)}),this.titleAreaControl.forEach(function(e){return e.dispose()}),this.progressBar.forEach(function(e){e.dispose()}),this.leftSash.dispose(),this.rightSash.dispose(),this.containers.forEach(function(e){e.destroy()}),this.lastActiveEditor=null,this.lastActivePosition=null,this.visibleEditors=null,this.visibleEditorContainers=null,this._onGroupFocusChanged.dispose()},e.MIN_EDITOR_WIDTH=170,e.EDITOR_TITLE_HEIGHT=35,e.SNAP_TO_MINIMIZED_THRESHOLD=50,e=g([m(1,h.IWorkbenchEditorService),m(2,v.IEditorGroupService),m(3,E.IMessageService),m(4,S.ITelemetryService),m(5,p.IContextMenuService),m(6,y.IEventService),m(7,b.IConfigurationService),m(8,w.IKeybindingService),m(9,I.IExtensionService),m(10,_.IInstantiationService)],e)}();t.SideBySideEditorControl=O}),define(l[980],d([1,0,2,492,31,9,89,82,17,90,92,397,63,76,25,15,30,202,24,167,13,69,7,22,50,57,39,23,28,6,18,21,43,20,146,746]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F){"use strict";var W="?",B="inQuickOpen",K=function(e){function t(i,n,o,r,s,a,c,u,l,d){e.call(this,t.ID),this.eventService=i,this.storageService=n,this.editorService=o,this.viewletService=r,this.messageService=s,this.telemetryService=a,this.contextService=c,this.historyService=l,this.instantiationService=d,this.serviceId=A.IQuickOpenService,this.actionProvider=new p.ContributableActionProvider,this.previousValue="",this.mapResolvedHandlersToPrefix={},this.promisesToCompleteOnHide=[],this.inQuickOpenMode=u.createKey(B,!1),this._onShow=new b.Emitter,this._onHide=new b.Emitter}return h(t,e),Object.defineProperty(t.prototype,"onShow",{get:function(){return this._onShow.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onHide",{get:function(){return this._onHide.event},enumerable:!0,configurable:!0}),t.prototype.quickNavigate=function(e,t){this.quickOpenWidget&&this.quickOpenWidget.quickNavigate(e,t)},t.prototype.input=function(e){var t,o=this,r=e&&e.prompt?n.localize(0,null,e.prompt):n.localize(1,null),s=r,a=i.TPromise.as(!0),c=e&&e.value||"",u=function(n,l){o.doPick(i.TPromise.as([{label:s}]),{ignoreFocusLost:!0,autoFocus:{autoFocusFirstEntry:!0},password:e.password,placeHolder:e.placeHolder,value:e.value,inputDecoration:t,onDidType:function(o){c=o,e.validateInput&&(a&&a.cancel(),a=i.TPromise.timeout(100).then(function(){return e.validateInput(o).then(function(e){t=e?R.Severity.Error:void 0;var o=e||r;return o!==s&&(s=o,n(new i.TPromise(u))),!e})},function(e){}))}}).then(n,l)};return new i.TPromise(u).then(function(e){return a.then(function(t){if(t&&e)return c})})},t.prototype.pick=function(e,t){var n=this;t||(t=Object.create(null));var o;if(Array.isArray(e))o=i.TPromise.as(e);else{if(!i.TPromise.is(e))throw new Error("illegal input");o=e}var r=!1,s=o.then(function(e){return e.map(function(e){return"string"==typeof e?(r=!0,{label:e}):e})});return new i.TPromise(function(e,i,o){function a(e){return e&&r?e.label:e}n.doPick(s,t).then(function(t){return e(a(t))},function(e){return i(e)},function(e){return o(a(e))})})},t.prototype.doPick=function(e,t){var u=this,h=t.autoFocus,p=a.generateUuid();return this.currentPickerToken=p,this.pickOpenWidget?this.pickOpenWidget.setPlaceHolder(t.placeHolder||""):(this.pickOpenWidget=new d.QuickOpenWidget(o.withElementById(_.Identifiers.WORKBENCH_CONTAINER).getHTMLElement(),{onOk:function(){},onCancel:function(){},onType:function(e){},onShow:function(){return u.emitQuickOpenVisibilityChange(!0)},onHide:function(e){e||u.restoreFocus(),u.emitQuickOpenVisibilityChange(!1)}},{inputPlaceHolder:t.placeHolder||""},this.telemetryService),this.pickOpenWidget.create()),t.value&&this.pickOpenWidget.setValue(t.value),this.pickOpenWidget.setPassword(t.password),c.isUndefinedOrNull(t.inputDecoration)?this.pickOpenWidget.clearInputDecoration():this.pickOpenWidget.showInputDecoration(t.inputDecoration),this.layoutDimensions&&this.pickOpenWidget.layout(this.layoutDimensions),new i.TPromise(function(o,a,c){var d=!1;e.then(function(e){if(u.currentPickerToken===p){d=!0,u.pickOpenWidget.getProgressBar().stop().getContainer().hide();var i=new l.QuickOpenModel,a=e.map(function(e){var t=e;return t.height&&t.render?new z(t.label,t.description,t.height,t.render.bind(t),function(){return c(e)}):new H(t.label,t.description,t.detail,function(){return c(e)},t.separator&&t.separator.border,t.separator&&t.separator.label)});0===e.length&&a.push(new H(n.localize(2,null))),i.setEntries(a),u.pickOpenWidget.setCallbacks({onOk:function(){if(0===e.length)return o(null);var t,i=-1;a.forEach(function(e,n){e.shouldRunWithContext&&(i=n,t=e.shouldRunWithContext)});var n=e[i];n&&"function"==typeof n.run&&n.run(t),o(n||null)},onCancel:function(){return o(void 0)},onFocusLost:function(){return t.ignoreFocusLost},onType:function(n){return t.onDidType?void t.onDidType(n):void(0!==e.length&&(n=n?r.trim(n):n,n?a.forEach(function(e){var i=s.matchesFuzzy(n,e.getLabel()),o=t.matchOnDescription&&s.matchesFuzzy(n,e.getDescription()),r=t.matchOnDetail&&e.getDetail()&&s.matchesFuzzy(n,e.getDetail());i||o||r?(e.setHighlights(i,o,r),e.setHidden(!1)):(e.setHighlights(null,null,null),e.setHidden(!0))}):a.forEach(function(e){e.setHighlights(null),e.setHidden(!1)}),u.pickOpenWidget.refresh(i,n?{autoFocusFirstEntry:!0}:h)))},onShow:function(){u.emitQuickOpenVisibilityChange(!0)},onHide:function(e){e||u.restoreFocus(),u.emitQuickOpenVisibilityChange(!1)}}),u.pickOpenWidget.isVisible()?u.pickOpenWidget.setInput(i,h):u.pickOpenWidget.show(i,{autoFocus:h})}},function(e){u.pickOpenWidget.hide(),a(e)}),i.TPromise.timeout(800).then(function(){d||u.currentPickerToken!==p||u.pickOpenWidget.getProgressBar().infinite().getContainer().show()}),d||u.pickOpenWidget.show(new l.QuickOpenModel)})},t.prototype.emitQuickOpenVisibilityChange=function(e){var t=this;this.visibilityChangeTimeoutHandle&&window.clearTimeout(this.visibilityChangeTimeoutHandle),this.visibilityChangeTimeoutHandle=setTimeout(function(){e?t._onShow.fire():t._onHide.fire(),t.visibilityChangeTimeoutHandle=void 0},100)},t.prototype.refresh=function(e){return this.quickOpenWidget.isVisible()?e&&this.previousValue!==e?i.TPromise.as(null):this.show(this.previousValue):i.TPromise.as(null)},t.prototype.show=function(e,t){var r=this,s=t?t.quickNavigateConfiguration:void 0;this.previousValue=e;var a=new i.TPromise(function(e){r.promisesToCompleteOnHide.push(e)}),c=y.Registry.as(w.Extensions.Quickopen),u=c.getQuickOpenHandler(e);if(!u){var l=c.getDefaultQuickOpenHandlers();l.length>0&&(u=l[0])}if(u&&this.telemetryService.publicLog("quickOpenWidgetShown",{mode:u.getId(),quickNavigate:s}),this.quickOpenWidget||(this.quickOpenWidget=new d.QuickOpenWidget(o.withElementById(_.Identifiers.WORKBENCH_CONTAINER).getHTMLElement(),{onOk:function(){return r.onClose(!1)},onCancel:function(){return r.onCancel()},onType:function(e){return r.onType(e||"")},onShow:function(){r.inQuickOpenMode.set(!0),r.emitQuickOpenVisibilityChange(!0)},onHide:function(e){for(r.inQuickOpenMode.reset();r.promisesToCompleteOnHide.length;)r.promisesToCompleteOnHide.pop()(!0);e||r.restoreFocus(),r.emitQuickOpenVisibilityChange(!1)}},{inputPlaceHolder:this.hasHandler(W)?n.localize(3,null):""},this.telemetryService),this.quickOpenWidget.create()),this.layoutDimensions&&this.quickOpenWidget.layout(this.layoutDimensions),!this.quickOpenWidget.isVisible()||s)if(e)this.quickOpenWidget.show(e,{quickNavigateConfiguration:s});else{var h=this.getEditorHistoryWithGroupLabel();h.getEntries().length<2&&(s=null);var p=void 0;if(s){var f=this.editorService.getVisibleEditors().length;p={autoFocusFirstEntry:0===f,autoFocusSecondEntry:0!==f}}else p={autoFocusFirstEntry:!0};this.quickOpenWidget.show(h,{quickNavigateConfiguration:s,autoFocus:p})}else this.quickOpenWidget.show(e||"");return a},t.prototype.hasHandler=function(e){return!!y.Registry.as(w.Extensions.Quickopen).getQuickOpenHandler(e)},t.prototype.getEditorHistoryWithGroupLabel=function(){var e=this.getEditorHistoryEntries();return e.length>0&&(e[0]=new l.QuickOpenEntryGroup(e[0],n.localize(4,null),(!1))),new l.QuickOpenModel(e,this.actionProvider)},t.prototype.onCancel=function(e){void 0===e&&(e=!0),e&&this.onClose(!0)},t.prototype.onClose=function(e){this.previousActiveHandlerDescriptor=null;for(var t in this.mapResolvedHandlersToPrefix)if(this.mapResolvedHandlersToPrefix.hasOwnProperty(t)){var i=this.mapResolvedHandlersToPrefix[t];i.onClose(e)}},t.prototype.restoreFocus=function(){var e=this.editorService.getActiveEditor();e&&e.focus()},t.prototype.onType=function(e){var t=this;this.previousValue=e;var n=y.Registry.as(w.Extensions.Quickopen),o=n.getQuickOpenHandler(e),s=o&&o.instantProgress,u=a.generateUuid();this.currentResultToken=u,s||this.quickOpenWidget.getProgressBar().stop().getContainer().hide(),this.quickOpenWidget.setExtraClass(null);var l=r.trim(e);if(!l)return void this.quickOpenWidget.setInput(this.getEditorHistoryWithGroupLabel(),{autoFocusFirstEntry:!0});var d,h=!1;if(o)d=this.handleSpecificHandler(o,e,u);else{var p=n.getDefaultQuickOpenHandlers();d=this.handleDefaultHandlers(p,e,u)}this.previousActiveHandlerDescriptor=o,i.TPromise.timeout(s?0:800).then(function(){h||u!==t.currentResultToken||t.quickOpenWidget.getProgressBar().infinite().getContainer().show()}),d.done(function(){h=!0,u===t.currentResultToken&&t.quickOpenWidget.getProgressBar().getContainer().hide()},function(e){h=!0,I.onUnexpectedError(e),t.messageService.show(R.Severity.Error,c.isString(e)?new Error(e):e)})},t.prototype.handleDefaultHandlers=function(e,t,o){
var r=this,s=this.getEditorHistoryEntries(t);s.length>0&&(s[0]=new l.QuickOpenEntryGroup(s[0],n.localize(5,null),(!1)));var a=new l.QuickOpenModel(s,this.actionProvider);if(this.quickOpenWidget.setInput(a,{autoFocusFirstEntry:!0}),0===e.length)return i.TPromise.as(null);var u=[];return e.forEach(function(e){u.push(r.resolveHandler(e))}),i.TPromise.join(u).then(function(e){var n=[];return e.forEach(function(e){var i=e.canRun();c.isUndefinedOrNull(i)||"boolean"==typeof i&&!i||"string"==typeof i||n.push(e.getResults(t).then(function(t){if(r.currentResultToken===o){var i=t&&t.entries;i||(i=[]),r.mergeResults(a,i,e.getGroupLabel())}}))}),i.TPromise.join(n).then(function(){})})},t.prototype.getEditorHistoryEntries=function(e){var t=this;e&&(e=e.replace(/ /g,""));var i=this.historyService.getHistory();if(!e)return i.map(function(e){return t.instantiationService.createInstance(U,e)});var n=e.indexOf(v.nativeSep)>=0,o=[];return i.forEach(function(i){var r=E.getUntitledOrFileResource(i);if(r){var a=n?f.getPathLabel(r,t.contextService):i.getName();if(s.matchesFuzzy(e,a)){var c=t.instantiationService.createInstance(U,i),u=l.QuickOpenEntry.highlight(c,e),d=u.labelHighlights,h=u.descriptionHighlights;c.setHighlights(d,h),o.push(c)}}}),o.sort(function(t,i){return l.QuickOpenEntry.compare(t,i,e)})},t.prototype.mergeResults=function(e,t,i){for(var o=this.mapEntriesToResource(e),r=[],s=0;s<t.length;s++){var a=t[s],c=a.getResource();c&&o[c.toString()]||r.push(a)}if(r.length>0){var u=e.getEntries().length>0;r[0]=new l.QuickOpenEntryGroup(r[0],i,u),e.addEntries(r),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0})}else 0===e.getEntries().length&&(e.addEntries([new V(n.localize(6,null))]),this.quickOpenWidget.refresh(e,{autoFocusFirstEntry:!0}))},t.prototype.handleSpecificHandler=function(e,t,o){var r=this;return this.resolveHandler(e).then(function(s){t=t.substr(e.prefix.length);var a=s.canRun();if(c.isUndefinedOrNull(a)||"boolean"==typeof a&&!a||"string"==typeof a){var u="string"==typeof a?a:n.localize(7,null),d=new l.QuickOpenModel([new V(u)],r.actionProvider);return r.showModel(d,s.getAutoFocus(t,r.quickOpenWidget.getQuickNavigateConfiguration()),s.getAriaLabel()),i.TPromise.as(null)}var h=s.getClass();return h&&r.quickOpenWidget.setExtraClass(h),r.previousActiveHandlerDescriptor!==e&&r.clearModel(),s.getResults(t).then(function(e){if(r.currentResultToken===o)if(e&&e.entries.length)r.showModel(e,s.getAutoFocus(t,r.quickOpenWidget.getQuickNavigateConfiguration()),s.getAriaLabel());else{var i=new l.QuickOpenModel([new V(s.getEmptyLabel(t))]);r.showModel(i,s.getAutoFocus(t,r.quickOpenWidget.getQuickNavigateConfiguration()),s.getAriaLabel())}})})},t.prototype.showModel=function(e,t,i){return this.quickOpenWidget.getInput()===e?void this.quickOpenWidget.refresh(e,t):void this.quickOpenWidget.setInput(e,t,i)},t.prototype.clearModel=function(){this.showModel(new l.QuickOpenModel,null)},t.prototype.mapEntriesToResource=function(e){var t=e.getEntries(),i={};return t.forEach(function(e){e.getResource()&&(i[e.getResource().toString()]=e)}),i},t.prototype.resolveHandler=function(e){var t=this,n=e.getId();return this.mapResolvedHandlersToPrefix[n]?i.TPromise.as(this.mapResolvedHandlersToPrefix[n]):this.instantiationService.createInstance(e).then(function(e){return t.mapResolvedHandlersToPrefix[n]=e,e},function(t){return i.TPromise.wrapError("Unable to instantiate quick open handler "+e.moduleName+" - "+e.ctorName+": "+JSON.stringify(t))})},t.prototype.layout=function(e){this.layoutDimensions=e,this.quickOpenWidget&&this.quickOpenWidget.layout(this.layoutDimensions),this.pickOpenWidget&&this.pickOpenWidget.layout(this.layoutDimensions)},t.prototype.dispose=function(){this.quickOpenWidget&&this.quickOpenWidget.dispose(),this.pickOpenWidget&&this.pickOpenWidget.dispose(),e.prototype.dispose.call(this)},t.ID="workbench.component.quickopen",t=g([m(0,x.IEventService),m(1,D.IStorageService),m(2,T.IWorkbenchEditorService),m(3,L.IViewletService),m(4,R.IMessageService),m(5,O.ITelemetryService),m(6,P.IWorkspaceContextService),m(7,N.IKeybindingService),m(8,F.IHistoryService),m(9,M.IInstantiationService)],t)}(S.WorkbenchComponent);t.QuickOpenController=K;var V=function(e){function t(t){e.call(this),this.placeHolderLabel=t}return h(t,e),t.prototype.getLabel=function(){return this.placeHolderLabel},t}(l.QuickOpenEntryGroup),H=function(e){function t(t,i,n,o,r,s){e.call(this,t),this.onPreview=o,this.hasSeparator=r,this.separatorLabel=s,this.description=i,this.detail=n}return h(t,e),Object.defineProperty(t.prototype,"shouldRunWithContext",{get:function(){return this._shouldRunWithContext},enumerable:!0,configurable:!0}),t.prototype.getDescription=function(){return this.description},t.prototype.getDetail=function(){return this.detail},t.prototype.showBorder=function(){return this.hasSeparator},t.prototype.getGroupLabel=function(){return this.separatorLabel},t.prototype.run=function(e,t){return e===u.Mode.OPEN?(this._shouldRunWithContext=t,!0):(e===u.Mode.PREVIEW&&this.onPreview&&this.onPreview(),!1)},t}(V),z=function(e){function t(t,i,n,o,r){e.call(this),this.label=t,this.description=i,this.height=n,this.renderFn=o,this.onPreview=r}return h(t,e),t.prototype.getHeight=function(){return this.height},t.prototype.render=function(e,t,i){return this.renderFn(e,t,i)},Object.defineProperty(t.prototype,"shouldRunWithContext",{get:function(){return this._shouldRunWithContext},enumerable:!0,configurable:!0}),t.prototype.getLabel=function(){return this.label},t.prototype.getDescription=function(){return this.description},t.prototype.run=function(e,t){return e===u.Mode.OPEN?(this._shouldRunWithContext=t,!0):(e===u.Mode.PREVIEW&&this.onPreview&&this.onPreview(),!1)},t}(l.QuickOpenEntryItem),U=function(e){function t(t,i,n,o,r){e.call(this,i),this.instantiationService=n,this.configurationService=o,this.contextService=r,this.input=t,this.resource=E.getUntitledOrFileResource(t)}return h(t,e),t.prototype.getIcon=function(){return this.input.isDirty()?"dirty":""},t.prototype.getLabel=function(){return this.input.getName()},t.prototype.getAriaLabel=function(){return n.localize(8,null,this.getLabel())},t.prototype.getDescription=function(){return this.input.getDescription()},t.prototype.getResource=function(){return this.resource},t.prototype.getInput=function(){return this.input},t.prototype.matches=function(e){return this.input.matches(e)},t.prototype.run=function(e,t){if(e===u.Mode.OPEN){var i=!t.quickNavigateConfiguration&&t.keymods.indexOf(C.KeyMod.CtrlCmd)>=0,n=!this.configurationService.getConfiguration().workbench.editor.enablePreviewFromQuickOpen;return this.editorService.openEditor(this.input,E.EditorOptions.create({pinned:n}),i).done(null,I.onUnexpectedError),!0}return!1},t=g([m(1,T.IWorkbenchEditorService),m(2,M.IInstantiationService),m(3,k.IConfigurationService),m(4,P.IWorkspaceContextService)],t)}(w.EditorQuickOpenEntry);t.EditorHistoryEntry=U}),define(l[287],d([1,0,24,30,39,6,23,72,43,5,65,15,56,88]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";var f=function(){function e(t,n,o){this.instantiationService=n,this.configurationService=o,this._id=e.IDS++,this.editors=[],this.mru=[],this.toDispose=[],this.mapResourceToEditor=Object.create(null),this.onConfigurationUpdated(o.getConfiguration()),this._onEditorActivated=new i.Emitter,this._onEditorOpened=new i.Emitter,this._onEditorClosed=new i.Emitter,this._onEditorDisposed=new i.Emitter,this._onEditorDirty=new i.Emitter,this._onEditorMoved=new i.Emitter,this._onEditorPinned=new i.Emitter,this._onEditorUnpinned=new i.Emitter,this._onEditorStateChanged=new i.Emitter,this._onEditorsStructureChanged=new i.Emitter,this.toDispose.push(this._onEditorActivated,this._onEditorOpened,this._onEditorClosed,this._onEditorDisposed,this._onEditorDirty,this._onEditorMoved,this._onEditorPinned,this._onEditorUnpinned,this._onEditorStateChanged,this._onEditorsStructureChanged),"object"==typeof t?this.deserialize(t):this._label=t,this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)}))},e.prototype.onConfigurationUpdated=function(e){this.editorOpenPositioning=e.workbench.editor.openPositioning},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.editors.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorActivated",{get:function(){return this._onEditorActivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorOpened",{get:function(){return this._onEditorOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorClosed",{get:function(){return this._onEditorClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDisposed",{get:function(){return this._onEditorDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDirty",{get:function(){return this._onEditorDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorMoved",{get:function(){return this._onEditorMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorPinned",{get:function(){return this._onEditorPinned.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorUnpinned",{get:function(){return this._onEditorUnpinned.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorStateChanged",{get:function(){return this._onEditorStateChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorsStructureChanged",{get:function(){return this._onEditorsStructureChanged.event},enumerable:!0,configurable:!0}),e.prototype.getEditors=function(e){return e?this.mru.slice(0):this.editors.slice(0)},e.prototype.getEditor=function(e){return this.editors[e]},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this.active},enumerable:!0,configurable:!0}),e.prototype.isActive=function(e){return this.matches(this.active,e)},Object.defineProperty(e.prototype,"previewEditor",{get:function(){return this.preview},enumerable:!0,configurable:!0}),e.prototype.isPreview=function(e){return this.matches(this.preview,e)},e.prototype.openEditor=function(e,t){var i=this.indexOf(e),o=t&&t.pinned,r=t&&t.active||!this.activeEditor||!o&&this.matches(this.preview,this.activeEditor);if(i===-1){var s=void 0,a=this.indexOf(this.active);if(s=t&&"number"==typeof t.index?t.index:this.editorOpenPositioning===n.EditorOpenPositioning.FIRST?0:this.editorOpenPositioning===n.EditorOpenPositioning.LAST?this.editors.length:this.editorOpenPositioning===n.EditorOpenPositioning.LEFT?0!==a&&this.editors.length?a:0:a+1,!o&&this.preview||this.splice(s,!1,e),!o){if(this.preview){var c=this.indexOf(this.preview);s>c&&s--,this.closeEditor(this.preview,!r),this.splice(s,!1,e)}this.preview=e}this.hookEditorListeners(e),this.fireEvent(this._onEditorOpened,e,!0),r&&this.setActive(e)}else o&&this.pin(e),r&&this.setActive(e),t&&"number"==typeof t.index&&this.moveEditor(e,t.index)},e.prototype.hookEditorListeners=function(e){var t=this,i=[];i.push(e.addOneTimeDisposableListener("dispose",function(){t.indexOf(e)>=0&&t._onEditorDisposed.fire(e)})),i.push(e.onDidChangeDirty(function(){t.fireEvent(t._onEditorDirty,e,!1)})),i.push(this.onEditorClosed(function(t){t.editor.matches(e)&&u.dispose(i)}))},e.prototype.closeEditor=function(e,t){void 0===t&&(t=!0);var i=this.indexOf(e);if(i!==-1){t&&this.matches(this.active,e)&&(this.mru.length>1?this.setActive(this.mru[1]):this.active=null);var n=!0;this.matches(this.preview,e)&&(this.preview=null,n=!1),this.splice(i,!0),this.fireEvent(this._onEditorClosed,{editor:e,pinned:n},!0)}},e.prototype.closeEditors=function(e,t){var i=this,n=this.indexOf(e);if(n!==-1)if(t===h.Direction.LEFT)for(var o=n-1;o>=0;o--)this.closeEditor(this.editors[o]);else if(t===h.Direction.RIGHT)for(var o=this.editors.length-1;o>n;o--)this.closeEditor(this.editors[o]);else this.mru.filter(function(t){return!i.matches(t,e)}).forEach(function(e){return i.closeEditor(e)})},e.prototype.closeAllEditors=function(){var e=this;this.mru.filter(function(t){return!e.matches(t,e.active)}).forEach(function(t){return e.closeEditor(t)}),this.closeEditor(this.active)},e.prototype.moveEditor=function(e,t){var i=this.indexOf(e);i<0||(this.editors.splice(i,1),this.editors.splice(t,0,e),this.fireEvent(this._onEditorMoved,e,!0))},e.prototype.setActive=function(e){var t=this.indexOf(e);t!==-1&&(this.matches(this.active,e)||(this.active=e,this.setMostRecentlyUsed(e),this.fireEvent(this._onEditorActivated,e,!1)))},e.prototype.pin=function(e){var t=this.indexOf(e);t!==-1&&this.isPreview(e)&&(this.preview=null,this.fireEvent(this._onEditorPinned,e,!1))},e.prototype.unpin=function(e){var t=this.indexOf(e);if(t!==-1&&this.isPinned(e)){var i=this.preview;this.preview=e,this.fireEvent(this._onEditorUnpinned,e,!1),this.closeEditor(i)}},e.prototype.isPinned=function(e){var t=this.indexOf(e);return t!==-1&&(!this.preview||!this.matches(this.preview,e))},e.prototype.fireEvent=function(e,t,i){e.fire(t),i?this._onEditorsStructureChanged.fire(t instanceof n.EditorInput?t:t.editor):this._onEditorStateChanged.fire(t instanceof n.EditorInput?t:t.editor)},e.prototype.splice=function(e,t,i){var n=this.editors[e],o=[e,t?1:0];if(i&&o.push(i),this.editors.splice.apply(this.editors,o),!t&&i)this.mru.push(i),this.updateResourceMap(i,!1);else{var r=this.indexOf(n,this.mru);t&&!i?(this.mru.splice(r,1),this.updateResourceMap(n,!0)):(this.mru.splice(r,1,i),this.updateResourceMap(i,!1),this.updateResourceMap(n,!0))}},e.prototype.updateResourceMap=function(e,t){var i=n.getUntitledOrFileResource(e,!0);i&&(this.mapResourceToEditor[i.toString()]=t?void 0:e)},e.prototype.indexOf=function(e,t){if(void 0===t&&(t=this.editors),!e)return-1;for(var i=0;i<t.length;i++)if(this.matches(t[i],e))return i;return-1},e.prototype.contains=function(e){return e instanceof n.EditorInput?this.indexOf(e)>=0:!!this.mapResourceToEditor[e.toString()]},e.prototype.setMostRecentlyUsed=function(e){var t=this.indexOf(e);if(t!==-1){var i=this.indexOf(e,this.mru);this.mru.splice(i,1),this.mru.unshift(e)}},e.prototype.matches=function(e,t){return!!e&&!!t&&e.matches(t)},e.prototype.serialize=function(){var e,t=this,i=d.Registry.as(l.Extensions.Editors),n=[],o=[];this.editors.forEach(function(r){var s=i.getEditorInputFactory(r.getTypeId());if(s){var a=s.serialize(r);"string"==typeof a&&(o.push({id:r.getTypeId(),value:a}),n.push(r),t.preview===r&&(e=n.length-1))}});var r=this.mru.map(function(e){return t.indexOf(e,n)}).filter(function(e){return e>=0});return{label:this.label,editors:o,mru:r,preview:e}},e.prototype.deserialize=function(e){var t=this,i=d.Registry.as(l.Extensions.Editors);this._label=e.label,this.editors=e.editors.map(function(e){var n=i.getEditorInputFactory(e.id);if(n){var o=n.deserialize(t.instantiationService,e.value);return t.hookEditorListeners(o),t.updateResourceMap(o,!1),o}return null}).filter(function(e){return!!e}),this.mru=e.mru.map(function(e){return t.editors[e]}),this.active=this.mru[0],this.preview=this.editors[e.preview]},e.prototype.dispose=function(){u.dispose(this.toDispose)},e.IDS=0,e=g([m(1,r.IInstantiationService),m(2,s.IConfigurationService)],e)}();t.EditorGroup=f;var v=function(){function e(e,t,n,o){this.storageService=e,this.lifecycleService=t,this.contextService=n,this.instantiationService=o,this.toDispose=[],this._groups=[],this.groupToIdentifier=Object.create(null),this._onGroupOpened=new i.Emitter,this._onGroupClosed=new i.Emitter,this._onGroupActivated=new i.Emitter,this._onGroupDeactivated=new i.Emitter,this._onGroupMoved=new i.Emitter,this._onGroupRenamed=new i.Emitter,this._onModelChanged=new i.Emitter,this._onEditorDisposed=new i.Emitter,this._onEditorDirty=new i.Emitter,this._onEditorClosed=new i.Emitter,this.toDispose.push(this._onGroupOpened,this._onGroupClosed,this._onGroupActivated,this._onGroupDeactivated,this._onGroupMoved,this._onGroupRenamed,this._onModelChanged,this._onEditorDisposed,this._onEditorDirty,this._onEditorClosed),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.lifecycleService.onShutdown(function(){return e.onShutdown()}))},Object.defineProperty(e.prototype,"onGroupOpened",{get:function(){return this._onGroupOpened.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupClosed",{get:function(){return this._onGroupClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupActivated",{get:function(){return this._onGroupActivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupDeactivated",{get:function(){return this._onGroupDeactivated.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupMoved",{get:function(){return this._onGroupMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onGroupRenamed",{get:function(){return this._onGroupRenamed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onModelChanged",{get:function(){return this._onModelChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDisposed",{get:function(){return this._onEditorDisposed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorDirty",{get:function(){return this._onEditorDirty.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onEditorClosed",{get:function(){return this._onEditorClosed.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.ensureLoaded(),this._groups.slice(0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeGroup",{get:function(){return this.ensureLoaded(),this._activeGroup},enumerable:!0,configurable:!0}),e.prototype.isActive=function(e){return this.activeGroup===e},e.prototype.getGroup=function(e){return this.ensureLoaded(),this.groupToIdentifier[e]},e.prototype.openGroup=function(e,t,i){void 0===t&&(t=!0),this.ensureLoaded();var n=this.doCreateGroup(e);return"number"==typeof i?this._groups[i]=n:this._activeGroup?this._groups.splice(this.indexOf(this._activeGroup)+1,0,n):this._groups.push(n),this.fireEvent(this._onGroupOpened,n,!0),this._activeGroup&&!t||this.setActive(n),n},e.prototype.renameGroup=function(e,t){this.ensureLoaded(),e.label!==t&&(e.label=t,this.fireEvent(this._onGroupRenamed,e,!1))},e.prototype.closeGroup=function(e){this.ensureLoaded();var t=this.indexOf(e);if(!(t<0)){if(e===this._activeGroup)if(this._groups.length>1){var i=void 0;i=this._groups.length>t+1?this._groups[t+1]:this._groups[t-1],this.setActive(i)}else this._activeGroup=null;e.closeAllEditors(),e.dispose(),this._groups.splice(t,1),this.groupToIdentifier[e.id]=void 0,this.fireEvent(this._onGroupClosed,e,!0);for(var n=t;n<this._groups.length;n++)this.fireEvent(this._onGroupMoved,this._groups[n],!0)}},e.prototype.closeGroups=function(e){var t=this;this.ensureLoaded(),this.groups.filter(function(i){return i!==t._activeGroup&&i!==e}).forEach(function(e){return t.closeGroup(e)}),this._activeGroup!==e&&this.closeGroup(this._activeGroup)},e.prototype.setActive=function(e){if(this.ensureLoaded(),this._activeGroup!==e){var t=this._activeGroup;this._activeGroup=e,this.fireEvent(this._onGroupActivated,e,!1),t&&this.fireEvent(this._onGroupDeactivated,t,!1)}},e.prototype.moveGroup=function(e,t){this.ensureLoaded();var i=this.indexOf(e);if(!(i<0)){this._groups.splice(i,1),this._groups.splice(t,0,e);for(var n=Math.min(i,t);n<=Math.max(i,t)&&n<this._groups.length;n++)this.fireEvent(this._onGroupMoved,this._groups[n],!0)}},e.prototype.indexOf=function(e){return this._groups.indexOf(e)},e.prototype.positionOfGroup=function(e){return this.indexOf(e)},e.prototype.groupAt=function(e){return this.ensureLoaded(),this._groups[e]},e.prototype.next=function(){if(this.ensureLoaded(),!this.activeGroup)return null;var e=this.activeGroup.indexOf(this.activeGroup.activeEditor);if(e+1<this.activeGroup.count)return{group:this.activeGroup,editor:this.activeGroup.getEditor(e+1)};var t=this.indexOf(this.activeGroup),i=this.groups[t+1];if(i)return{group:i,editor:i.getEditor(0)};var n=this.groups[0];return{group:n,editor:n.getEditor(0)}},e.prototype.previous=function(){if(this.ensureLoaded(),!this.activeGroup)return null;var e=this.activeGroup.indexOf(this.activeGroup.activeEditor);if(e>0)return{group:this.activeGroup,editor:this.activeGroup.getEditor(e-1)};var t=this.indexOf(this.activeGroup),i=this.groups[t-1];if(i)return{group:i,editor:i.getEditor(i.count-1)};var n=this.groups[this.groups.length-1];return{group:n,editor:n.getEditor(n.count-1)}},e.prototype.save=function(){var t=this.serialize();this.storageService.store(e.STORAGE_KEY,JSON.stringify(t),o.StorageScope.WORKSPACE)},e.prototype.serialize=function(){var e,t=this._groups.map(function(e){return e.serialize()}).filter(function(e){return e.editors.length>0});return t.length>0&&(e=t.length===this._groups.length?this.indexOf(this._activeGroup):0),{groups:t,active:e}},e.prototype.fireEvent=function(e,t,i){e.fire(t),this._onModelChanged.fire({group:t,structural:i})},e.prototype.ensureLoaded=function(){this.loaded||(this.loaded=!0,this.load())},e.prototype.load=function(){var t=this,i=this.contextService.getOptions();if(!(i.filesToCreate&&i.filesToCreate.length||i.filesToOpen&&i.filesToOpen.length||i.filesToDiff&&i.filesToDiff.length)){var n=this.storageService.get(e.STORAGE_KEY,o.StorageScope.WORKSPACE);if(n){var r=JSON.parse(n),s=this.doValidate(r);if(s)return console.warn("Ignoring invalid stacks model (Error code: "+s+"): "+JSON.stringify(r)),void console.warn(r);this._groups=r.groups.map(function(e){return t.doCreateGroup(e)}),this._activeGroup=this._groups[r.active]}else this.migrate()}},e.prototype.migrate=function(){var e=this,t="memento/workbench.parts.editor",i=this.storageService.get(t,o.StorageScope.WORKSPACE);if(i)try{var n=JSON.parse(i),r=n["editorpart.editorState"],s=r.editors,a=d.Registry.as(l.Extensions.Editors),c=s.map(function(t){var i=a.getEditorInputFactory(t.inputId);return i?i.deserialize(e.instantiationService,t.inputValue):null}).filter(function(e){return!!e});if(c.length>0){var u=this.openGroup("",!0);u.openEditor(c[0],{active:!0,pinned:!0})}if(c.length>1){var h=this.openGroup("",!0);h.openEditor(c[1],{active:!0,pinned:!0})}if(c.length>2){var p=this.openGroup("",!0);p.openEditor(c[2],{active:!0,pinned:!0})}this.storageService.remove(t,o.StorageScope.WORKSPACE)}catch(f){console.warn("Unable to migrate previous editor state",f,i),this._groups=[],this._activeGroup=void 0,this.groupToIdentifier=Object.create(null)}},e.prototype.doValidate=function(e){return e.groups.length||"number"!=typeof e.active?e.groups.length&&!e.groups[e.active]?2:e.groups.length>3?3:e.groups.some(function(e){return!e.editors.length})?4:e.groups.some(function(e){return e.editors.length!==e.mru.length})?5:e.groups.some(function(e){return"number"==typeof e.preview&&!e.editors[e.preview]})?6:e.groups.some(function(e){return!e.label})?7:0:1},e.prototype.doCreateGroup=function(e){var t=this,i=this.instantiationService.createInstance(f,e);this.groupToIdentifier[i.id]=i;var n=[];return n.push(i.onEditorsStructureChanged(function(e){return t._onModelChanged.fire({group:i,editor:e,structural:!0})})),n.push(i.onEditorStateChanged(function(e){return t._onModelChanged.fire({group:i,editor:e})})),n.push(i.onEditorClosed(function(e){t.handleOnEditorClosed(e),t._onEditorClosed.fire(e)})),n.push(i.onEditorDisposed(function(e){return t._onEditorDisposed.fire({editor:e,group:i})})),n.push(i.onEditorDirty(function(e){return t._onEditorDirty.fire({editor:e,group:i})})),n.push(this.onGroupClosed(function(e){e===i&&u.dispose(n)})),i},e.prototype.handleOnEditorClosed=function(e){var t=this,i=e.editor;this.isOpen(i)||(i.close(),i instanceof p.DiffEditorInput&&[i.originalInput,i.modifiedInput].forEach(function(e){t.isOpen(e)||e.close()}))},e.prototype.isOpen=function(e){return e instanceof n.EditorInput?this._groups.some(function(t){return t.indexOf(e)>=0}):this._groups.some(function(t){return t.contains(e)})},e.prototype.onShutdown=function(){this.save(),u.dispose(this.toDispose)},e.prototype.validate=function(){var e=this.serialize(),t=this.doValidate(e);t?(console.warn("Ignoring invalid stacks model (Error code: "+t+"): "+JSON.stringify(e)),console.warn(e)):console.log("Stacks Model OK!")},e.prototype.toString=function(){var e=this;this.ensureLoaded();var t=[];return this.groups.length?(this.groups.forEach(function(i){var n="Group: "+i.label;e._activeGroup===i&&(n+=" [active]"),t.push(n),i.getEditors().forEach(function(e){var n="\t"+e.getName();i.previewEditor===e&&(n+=" [preview]"),i.activeEditor===e&&(n+=" [active]"),t.push(n)})}),t.join("\n")):"<No Groups>"},e.STORAGE_KEY="editorStacks.model",e=g([m(0,o.IStorageService),m(1,a.ILifecycleService),m(2,c.IWorkspaceContextService),m(3,r.IInstantiationService)],e)}();t.EditorStacksModel=v}),define(l[982],d([1,0,2,15,75,31,484,9,41,17,7,171,165,65,30,979,257,23,55,56,39,28,6,110,18,21,44,156,287,24,768,975]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M){"use strict";var R=function(){function e(e,t){this._token=e,this.progressPromise=t}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this.progressPromise.cancel()},e}(),O=function(e){function t(t,i,n,o,r,s,a,u){e.call(this,t),this.messageService=i,this.eventService=n,this.telemetryService=o,this.storageService=r,this.partService=s,this.configurationService=a,this.instantiationService=u,this.serviceId=D.IEditorGroupService,this._onEditorsChanged=new M.Emitter,this._onEditorOpening=new M.Emitter,this._onEditorsMoved=new M.Emitter,this._onEditorOpenFail=new M.Emitter,this.visibleEditors=[],this.editorOpenToken=c.fill(_.POSITIONS.length,function(){return 0}),this.instantiatedEditors=c.fill(_.POSITIONS.length,function(){return[]}),this.mapEditorToEditorContainers=c.fill(_.POSITIONS.length,function(){return Object.create(null)}),this.mapEditorInstantiationPromiseToEditor=c.fill(_.POSITIONS.length,function(){return Object.create(null)}),this.pendingEditorInputsToClose=[],this.pendingEditorInputCloseTimeout=null,this.stacks=this.instantiationService.createInstance(x.EditorStacksModel);var l=a.getConfiguration().workbench.editor;this.previewEditors=l.enablePreview,this.telemetryService.publicLog("workbenchEditorConfiguration",l),this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.stacks.onEditorDirty(function(t){return e.onEditorDirty(t)})),this.toUnbind.push(this.stacks.onEditorDisposed(function(t){return e.onEditorDisposed(t)})),this.toUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)}))},t.prototype.onConfigurationUpdated=function(e){var t=this,i=e.workbench.editor.enablePreview;this.previewEditors===i||i||this.stacks.groups.forEach(function(e){e.previewEditor&&t.pinEditor(t.stacks.positionOfGroup(e),e.previewEditor)}),this.previewEditors=i},t.prototype.onEditorDirty=function(e){var t=this.stacks.positionOfGroup(e.group);this.pinEditor(t,e.editor)},t.prototype.onEditorDisposed=function(e){this.pendingEditorInputsToClose.push(e),this.startDelayedCloseEditorsFromInputDispose()},Object.defineProperty(t.prototype,"onEditorsChanged",{get:function(){return this._onEditorsChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorOpening",{get:function(){return this._onEditorOpening.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorsMoved",{get:function(){return this._onEditorsMoved.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEditorOpenFail",{get:function(){return this._onEditorOpenFail.event},enumerable:!0,configurable:!0}),t.prototype.openEditor=function(e,t,o,r){t||(t=null);var s=this.validatePosition(o,r);if(!e||null===s||Object.keys(this.mapEditorInstantiationPromiseToEditor[s]).length>0||this.sideBySideControl.isDragging())return i.TPromise.as(null);var c=new v.EditorInputEvent(e);if(this._onEditorOpening.fire(c),c.isPrevented())return i.TPromise.as(null);var u=n.Registry.as(f.Extensions.Editors).getEditor(e);return u?(s!==_.Position.LEFT&&this.telemetryService.publicLog("workbenchSideEditorOpened",{position:s}),this.doOpenEditor(s,u,e,t,r)):i.TPromise.wrapError(new Error(a.format("Can not find a registered editor for the input {0}",e)))},t.prototype.doOpenEditor=function(e,t,n,o,r){var s=this,a=this.ensureGroup(e,!o||!o.preserveFocus),c=!this.previewEditors||o&&(o.pinned||"number"==typeof o.index)||n.isDirty(),u=0===a.count||!o||!o.inactive;if(a.openEditor(n,{active:u,pinned:c,index:o&&o.index}),!u)return i.TPromise.as(null);this.editorOpenToken[e]++;var l=this.editorOpenToken[e],d=new R(l,i.TPromise.timeout(this.partService.isCreated()?800:3200).then(function(){var e=s.stacks.positionOfGroup(a);l===s.editorOpenToken[e]&&s.sideBySideControl.updateProgress(e,y.ProgressState.INFINITE)}));return this.doShowEditor(a,t,n,o,r,d).then(function(e){return e?s.doSetInput(a,e,n,o,d):i.TPromise.as(null)})},t.prototype.doShowEditor=function(e,t,n,r,s,c){var l=this,d=this.stacks.positionOfGroup(e),h=this.visibleEditors[d];if(h&&t.describes(h))return i.TPromise.as(h);h&&this.doHideEditor(d,!1);var p=o.start(o.Topic.WORKBENCH,a.format("Creating Editor: {0}",t.getName()));return this.doCreateEditor(e,t,c).then(function(i){var n=l.stacks.positionOfGroup(e);return i&&l.visibleEditors[n]&&i.getId()===l.visibleEditors[n].getId()?(l.sideBySideControl.show(i,l.mapEditorToEditorContainers[n][t.getId()],n,r&&r.preserveFocus,s),i.setVisible(!0,n),l.sideBySideControl.layout(n),p.stop(),i):(p.stop(),c.cancel(),null)},function(e){return l.messageService.show(A.Severity.Error,u.isString(e)?new Error(e):e)})},t.prototype.doCreateEditor=function(e,t,i){var n,o=this,s=this.stacks.positionOfGroup(e),a=this.mapEditorToEditorContainers[s][t.getId()];return a||(a=r.$().div({"class":"editor-container",role:"tabpanel",id:t.getId()},function(e){n=e}),this.mapEditorToEditorContainers[s][t.getId()]=a),this.doInstantiateEditor(e,t).then(function(t){var r=o.stacks.positionOfGroup(e);return i.token!==o.editorOpenToken[r]?(i.cancel(),null):(o.visibleEditors[r]=t,n&&t.create(n),t)})},t.prototype.doInstantiateEditor=function(e,t){var n=this,o=this.stacks.positionOfGroup(e),r=this.instantiatedEditors[o].filter(function(e){return t.describes(e)})[0];if(r)return i.TPromise.as(r);var s=this.mapEditorInstantiationPromiseToEditor[o][t.getId()];if(s)return s;var a=new E.WorkbenchProgressService(this.eventService,this.sideBySideControl.getProgressBar(o),t.getId(),(!0)),c=this.sideBySideControl.getInstantiationService(o).createChild(new T.ServiceCollection([k.IProgressService,a])),u=!1,l=function(o){var r=n.stacks.positionOfGroup(e);return u=!0,delete n.mapEditorInstantiationPromiseToEditor[r][t.getId()],o instanceof f.BaseEditor?(n.instantiatedEditors[r].push(o),i.TPromise.as(o)):i.TPromise.wrapError(o)},d=c.createInstance(t).then(l,l);return u||(this.mapEditorInstantiationPromiseToEditor[o][t.getId()]=d),d},t.prototype.doSetInput=function(e,t,i,n,r){var s=this,c=t.getInput(),u=!c||!c.matches(i)||n&&n.forceOpen,l=o.start(o.Topic.WORKBENCH,a.format("Set Editor Input: {0}",i.getName()));return t.setInput(i,n).then(function(){r.cancel();var i=s.stacks.positionOfGroup(e);if(i===-1)return null;var o=!n||!n.preserveFocus;return o&&t.focus(),s.sideBySideControl.updateProgress(i,y.ProgressState.DONE),
u&&s._onEditorsChanged.fire(),l.stop(),t},function(o){return s.doHandleSetInputError(o,e,t,i,n,r)})},t.prototype.doHandleSetInputError=function(e,t,i,n,o,r){var a=this.stacks.positionOfGroup(t);if(r.cancel(),this.partService.isCreated()&&!l.isPromiseCanceledError(e)){var c=s.localize(3,null,n.getName(),l.toErrorMessage(e)),d=void 0;d=e&&e.actions&&e.actions.length?l.create(c,{actions:e.actions}):c,this.messageService.show(A.Severity.Error,u.isString(d)?new Error(d):d)}this.sideBySideControl.updateProgress(a,y.ProgressState.DONE),this._onEditorOpenFail.fire(n),t.activeEditor===n&&this.doCloseActiveEditor(t)},t.prototype.closeEditor=function(e,t){var n=this,o=this.stacks.groupAt(e);return o?this.handleDirty([{group:o,editor:t}]).then(function(e){e||n.doCloseEditor(o,t)}):i.TPromise.as(null)},t.prototype.doCloseEditor=function(e,t,i){"boolean"!=typeof i&&(i=this.stacks.isActive(e)),e.activeEditor&&e.activeEditor.matches(t)?this.doCloseActiveEditor(e,i):this.doCloseInactiveEditor(e,t)},t.prototype.doCloseActiveEditor=function(e,t){void 0===t&&(t=!0);var i=this.stacks.positionOfGroup(e);e.closeEditor(e.activeEditor),0===e.count?this.doCloseGroup(e):this.openEditor(e.activeEditor,t?null:v.EditorOptions.create({preserveFocus:!0}),i).done(null,l.onUnexpectedError)},t.prototype.doCloseInactiveEditor=function(e,t){e.closeEditor(t)},t.prototype.doCloseGroup=function(e){var t=this,i=this.stacks.positionOfGroup(e);this.modifyGroups(function(){return t.stacks.closeGroup(e)}),this.doHideEditor(i,!0),this._onEditorsChanged.fire();var n=this.stacks.activeGroup;n&&(this.focusGroup(this.stacks.positionOfGroup(n)),this.onGroupFocusChanged())},t.prototype.doHideEditor=function(e,t){var i=this.visibleEditors[e],n=this.mapEditorToEditorContainers[e][i.getId()],o=this.sideBySideControl.hide(i,n,e,t);this.sideBySideControl.updateProgress(e,y.ProgressState.STOP),i.clearInput(),i.setVisible(!1),this.visibleEditors[e]=null,this.rochade(o),o!==y.Rochade.NONE&&this._onEditorsMoved.fire()},t.prototype.closeAllEditors=function(e){var t=this,i=this.stacks.groups.reverse();"number"==typeof e&&(i=i.filter(function(i){return t.stacks.positionOfGroup(i)!==e}));var n=c.flatten(i.map(function(e){return e.getEditors().map(function(t){return{group:e,editor:t}})}));return this.handleDirty(n).then(function(e){e||i.forEach(function(e){return t.doCloseEditors(e)})})},t.prototype.closeEditors=function(e,t,n){var o=this,r=this.stacks.groupAt(e);if(!r)return i.TPromise.as(null);var s;return s=n?n===_.Direction.LEFT?r.getEditors().slice(0,r.indexOf(t)):r.getEditors().slice(r.indexOf(t)+1):r.getEditors().filter(function(e){return!t||!e.matches(t)}),this.handleDirty(s.map(function(e){return{group:r,editor:e}})).then(function(e){e||o.doCloseEditors(r,t,n)})},t.prototype.doCloseEditors=function(e,t,i){var n=this;t?t.matches(e.activeEditor)?e.closeEditors(e.activeEditor,i):this.openEditor(t,null,this.stacks.positionOfGroup(e)).done(function(){n.doCloseEditors(e,t,i)},l.onUnexpectedError):(e.closeEditors(e.activeEditor),this.doCloseActiveEditor(e))},t.prototype.handleDirty=function(e){var t=this;return e.length?this.doHandleDirty(e.shift()).then(function(i){return i?i:t.handleDirty(e)}):i.TPromise.as(!1)},t.prototype.doHandleDirty=function(e){if(!e||!e.editor||!e.editor.isDirty())return i.TPromise.as(!1);var t=e.editor,n=t.confirmSave();switch(n){case v.ConfirmResult.SAVE:return t.save().then(function(e){return!e});case v.ConfirmResult.DONT_SAVE:return t.revert().then(function(e){return!e});case v.ConfirmResult.CANCEL:return i.TPromise.as(!0)}},t.prototype.getStacksModel=function(){return this.stacks},t.prototype.getActiveEditorInput=function(){var e=this.getActiveEditor();return e?e.input:null},t.prototype.getActiveEditor=function(){return this.sideBySideControl?this.sideBySideControl.getActiveEditor():null},t.prototype.getVisibleEditors=function(){return this.visibleEditors?this.visibleEditors.filter(function(e){return!!e}):[]},t.prototype.moveGroup=function(e,t){var i=this,n=this.stacks.groupAt(e),o=this.stacks.groupAt(t);n&&o&&e!==t&&(this.modifyGroups(function(){return i.stacks.moveGroup(n,t)}),this.sideBySideControl.move(e,t),c.move(this.visibleEditors,e,t),c.move(this.editorOpenToken,e,t),c.move(this.mapEditorInstantiationPromiseToEditor,e,t),c.move(this.instantiatedEditors,e,t),c.move(this.mapEditorToEditorContainers,e,t),this.focusGroup(this.stacks.positionOfGroup(n)),this._onEditorsMoved.fire())},t.prototype.moveEditor=function(e,t,i,n){var o=this.stacks.groupAt(t),r=this.stacks.groupAt(i);o&&r&&(t===i?this.doMoveEditorInsideGroups(e,o,n):this.doMoveEditorAcrossGroups(e,o,r,n))},t.prototype.doMoveEditorInsideGroups=function(e,t,i){if("number"==typeof i){var n=t.indexOf(e);n!==i&&(t.moveEditor(e,i),t.pin(e))}},t.prototype.doMoveEditorAcrossGroups=function(e,t,i,n){this.openEditor(e,v.EditorOptions.create({pinned:!0,index:n}),this.stacks.positionOfGroup(i)).done(null,l.onUnexpectedError),this.doCloseEditor(t,e,!1)},t.prototype.arrangeGroups=function(e){this.sideBySideControl.arrangeGroups(e)},t.prototype.createContentArea=function(e){var t=this,i=r.$(e).div().addClass("content");return this.sideBySideControl=this.instantiationService.createInstance(y.SideBySideEditorControl,i),this.toUnbind.push(this.sideBySideControl.onGroupFocusChanged(function(){return t.onGroupFocusChanged()})),this.memento=this.getMemento(this.storageService,d.Scope.WORKSPACE),i},t.prototype.onGroupFocusChanged=function(){var e=this.sideBySideControl.getActivePosition();"number"==typeof e&&this.stacks.setActive(this.stacks.groupAt(e));var t=this.sideBySideControl.getActiveEditor();t&&this._onEditorsChanged.fire()},t.prototype.replaceEditors=function(e){var t=this,i=[],n=[];e.forEach(function(e){e.toReplace.isDirty()||t.stacks.groups.forEach(function(t){var o=t.indexOf(e.toReplace);if(o>=0){e.options?e.options.index=o:e.options=v.EditorOptions.create({index:o});var r={group:t,editor:e.toReplace,replaceWith:e.replaceWith,options:e.options};t.activeEditor.matches(e.toReplace)?i.push(r):n.push(r)}})}),n.forEach(function(e){var t=e.group;t.openEditor(e.replaceWith,{active:!1,pinned:!0,index:e.options.index}),t.closeEditor(e.editor)});var o=this.openEditors(i.map(function(e){var i=e.group;return{input:e.replaceWith,position:t.stacks.positionOfGroup(i),options:e.options}}));return i.forEach(function(e){t.doCloseEditor(e.group,e.editor,!1)}),o},t.prototype.openEditors=function(e){if(!e.length)return i.TPromise.as([]);var t;this.stacks.activeGroup&&(t=this.stacks.positionOfGroup(this.stacks.activeGroup));var n=this.sideBySideControl.getWidthRatios();return this.doOpenEditors(e,t,n)},t.prototype.restoreEditors=function(){var e=this.stacks.groups.map(function(e,t){return{input:e.activeEditor,position:t,options:e.isPinned(e.activeEditor)?v.EditorOptions.create({pinned:!0}):void 0}});if(!e.length)return i.TPromise.as([]);var n;this.stacks.groups.length&&(n=this.stacks.positionOfGroup(this.stacks.activeGroup));var o=this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY];return this.doOpenEditors(e,n,o&&o.widthRatio)},t.prototype.doOpenEditors=function(e,t,n){var o=this,r=e.filter(function(e){return e.position===_.Position.LEFT}),s=e.filter(function(e){return e.position===_.Position.CENTER}),a=e.filter(function(e){return e.position===_.Position.RIGHT}),c=this.stacks.groupAt(_.Position.LEFT),u=this.stacks.groupAt(_.Position.CENTER),l=this.stacks.groupAt(_.Position.RIGHT),d=r.length+(c?c.count:0),h=s.length+(u?u.count:0),p=a.length+(l?l.count:0);(!d&&(h||p)||!h&&p)&&(r.push.apply(r,s),r.push.apply(r,a),s.splice(0,s.length),a.splice(0,a.length)),"number"!=typeof t&&(t=_.Position.LEFT);var f=a.length?3:s.length?2:1;n&&n.length===f||(n=this.getVisibleEditors().length?void 0:3===f?[.33,.33,.34]:2===f?[.5,.5]:[1]);var g=[];return[r.shift(),s.shift(),a.shift()].forEach(function(e,i){if(e){var r,s=e.input,a=t!==i;e.options?(r=e.options,"boolean"!=typeof r.preserveFocus&&(r.preserveFocus=a)):r=v.EditorOptions.create({preserveFocus:a}),g.push(o.openEditor(s,r,i,n))}}),i.TPromise.join(g).then(function(e){return o.focusGroup(t),[r,s,a].forEach(function(e,t){var i=o.stacks.groupAt(t);i&&e.forEach(function(e){return i.openEditor(e.input,{pinned:!0})})}),o.sideBySideControl.layout(o.dimension),e})},t.prototype.activateGroup=function(e){var t=this.stacks.groupAt(e);if(t){this.stacks.setActive(t);var i=this.visibleEditors[e];i&&this.sideBySideControl.setActive(i)}},t.prototype.focusGroup=function(e){var t=this.stacks.groupAt(e);if(t){this.activateGroup(e);var i=this.visibleEditors[e];i&&i.focus()}},t.prototype.pinEditor=function(e,t){var i=this.stacks.groupAt(e);if(i){if(i.isPinned(t))return;i.pin(t)}},t.prototype.unpinEditor=function(e,t){var n=this;if(!t.isDirty()){var o=this.stacks.groupAt(e);if(o){if(o.isPreview(t))return;var r=i.TPromise.as(!1);o.previewEditor&&(r=this.handleDirty([{group:o,editor:o.previewEditor}])),r.done(function(e){e||(o.isPreview(o.activeEditor)&&!o.activeEditor.matches(t)&&n.doCloseActiveEditor(o),o.unpin(t))})}}},t.prototype.layout=function(t){var i=e.prototype.layout.call(this,t);return this.dimension=i[1],this.sideBySideControl.layout(this.dimension),i},t.prototype.shutdown=function(){var i={widthRatio:this.sideBySideControl.getWidthRatios()};this.memento[t.EDITOR_PART_UI_STATE_STORAGE_KEY]=i;for(var n=0;n<this.instantiatedEditors.length;n++)for(var o=0;o<this.instantiatedEditors[n].length;o++)this.instantiatedEditors[n][o].shutdown();e.prototype.shutdown.call(this)},t.prototype.dispose=function(){var t=this;this.mapEditorToEditorContainers=null,this._onEditorsChanged.dispose(),this._onEditorOpening.dispose(),this._onEditorsMoved.dispose(),this._onEditorOpenFail.dispose(),this.editorOpenToken=[];for(var i=0;i<_.POSITIONS.length;i++)this.editorOpenToken[i]=0;this.sideBySideControl.dispose(),this.visibleEditors.forEach(function(e){e&&e.dispose()});for(var n=0;n<this.instantiatedEditors.length;n++)for(var o=0;o<this.instantiatedEditors[n].length;o++)this.visibleEditors.some(function(e){return e===t.instantiatedEditors[n][o]})||this.instantiatedEditors[n][o].dispose();this.visibleEditors=null,e.prototype.dispose.call(this)},t.prototype.validatePosition=function(e,t){if(t&&u.isNumber(e))return e;var i=this.getVisibleEditors(),n=this.getActiveEditor();if(0===i.length||!n)return _.Position.LEFT;if(u.isUndefinedOrNull(e)||e===!1){var o=this.sideBySideControl.getActivePosition();return o||_.Position.LEFT}if(e===!0){switch(n.position){case _.Position.LEFT:return _.Position.CENTER;case _.Position.CENTER:return _.Position.RIGHT;case _.Position.RIGHT:return null}return null}return e===_.Position.RIGHT&&1===i.length?_.Position.CENTER:e},t.prototype.startDelayedCloseEditorsFromInputDispose=function(){var e=this;null===this.pendingEditorInputCloseTimeout&&(this.pendingEditorInputCloseTimeout=setTimeout(function(){var t=[],i=[];e.pendingEditorInputsToClose.forEach(function(e){var n=e.group,o=e.editor;n.isActive(o)?t.push(e):n.contains(o)&&i.push(e)}),i.forEach(function(t){return e.doCloseEditor(t.group,t.editor)}),t.sort(function(t,i){return e.stacks.positionOfGroup(i.group)-e.stacks.positionOfGroup(t.group)}).forEach(function(t){return e.doCloseEditor(t.group,t.editor)}),e.pendingEditorInputCloseTimeout=null,e.pendingEditorInputsToClose=[]},0))},t.prototype.rochade=function(e,t){if(u.isUndefinedOrNull(t)){var i=e;switch(i){case y.Rochade.CENTER_TO_LEFT:this.rochade(_.Position.CENTER,_.Position.LEFT);break;case y.Rochade.RIGHT_TO_CENTER:this.rochade(_.Position.RIGHT,_.Position.CENTER);break;case y.Rochade.CENTER_AND_RIGHT_TO_LEFT:this.rochade(_.Position.CENTER,_.Position.LEFT),this.rochade(_.Position.RIGHT,_.Position.CENTER)}}else{var n=e,o=t;this.doRochade(this.visibleEditors,n,o,null),this.doRochade(this.editorOpenToken,n,o,null),this.doRochade(this.mapEditorInstantiationPromiseToEditor,n,o,Object.create(null)),this.doRochade(this.instantiatedEditors,n,o,[]),this.doRochade(this.mapEditorToEditorContainers,n,o,Object.create(null))}},t.prototype.doRochade=function(e,t,i,n){e[i]=e[t],e[t]=n},t.prototype.ensureGroup=function(e,t){var i=this;void 0===t&&(t=!0);var n=this.stacks.groupAt(e);return n?this.renameGroups():this.modifyGroups(function(){for(var o=0;o<e;o++)i.hasGroup(o)||i.stacks.openGroup("",!1,o);n=i.stacks.openGroup("",t,e)}),t&&this.stacks.setActive(n),n},t.prototype.modifyGroups=function(e){e(),this.renameGroups()},t.prototype.renameGroups=function(){var e=this.stacks.groups;e.length>0&&(e.length>2?(this.stacks.renameGroup(this.stacks.groupAt(_.Position.LEFT),t.GROUP_LEFT_LABEL),this.stacks.renameGroup(this.stacks.groupAt(_.Position.CENTER),t.GROUP_CENTER_LABEL),this.stacks.renameGroup(this.stacks.groupAt(_.Position.RIGHT),t.GROUP_RIGHT_LABEL)):e.length>1?(this.stacks.renameGroup(this.stacks.groupAt(_.Position.LEFT),t.GROUP_LEFT_LABEL),this.stacks.renameGroup(this.stacks.groupAt(_.Position.CENTER),t.GROUP_RIGHT_LABEL)):this.stacks.renameGroup(this.stacks.groupAt(_.Position.LEFT),t.GROUP_LEFT_LABEL))},t.prototype.hasGroup=function(e){return!!this.stacks.groupAt(e)},t.GROUP_LEFT_LABEL=s.localize(0,null),t.GROUP_CENTER_LABEL=s.localize(1,null),t.GROUP_RIGHT_LABEL=s.localize(2,null),t.EDITOR_PART_UI_STATE_STORAGE_KEY="editorpart.uiState",t=g([m(1,A.IMessageService),m(2,w.IEventService),m(3,L.ITelemetryService),m(4,C.IStorageService),m(5,b.IPartService),m(6,S.IConfigurationService),m(7,I.IInstantiationService)],t)}(p.Part);t.EditorPart=O}),define(l[983],d([1,0,501,2,7,41,33,49,27,55,18,6,21,51,20,43,97,23,949,59,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_){"use strict";var C=_.remote.getCurrentWindow(),w=[new c.Action("undo",i.localize(0,null),null,(!0),function(){return document.execCommand("undo")&&n.TPromise.as(!0)}),new c.Action("redo",i.localize(1,null),null,(!0),function(){return document.execCommand("redo")&&n.TPromise.as(!0)}),new a.Separator,new c.Action("editor.action.clipboardCutAction",i.localize(2,null),null,(!0),function(){return document.execCommand("cut")&&n.TPromise.as(!0)}),new c.Action("editor.action.clipboardCopyAction",i.localize(3,null),null,(!0),function(){return document.execCommand("copy")&&n.TPromise.as(!0)}),new c.Action("editor.action.clipboardPasteAction",i.localize(4,null),null,(!0),function(){return document.execCommand("paste")&&n.TPromise.as(!0)}),new a.Separator,new c.Action("editor.action.selectAll",i.localize(5,null),null,(!0),function(){return document.execCommand("selectAll")&&n.TPromise.as(!0)})],I=function(){function e(e,t,i,n,o,r,s,a,c){this.instantiationService=e,this.windowService=t,this.partService=i,this.contextService=n,this.telemetryService=o,this.configurationService=r,this.keybindingService=s,this.messageService=a,this.contextMenuService=c}return e.prototype.integrate=function(e){var t=this,i=this.instantiationService.createInstance(S.ElectronWindow,C,e);this.windowService.registerWindow(i),_.ipcRenderer.on("vscode:runAction",function(e,i){t.keybindingService.executeCommand(i,{from:"menu"}).done(void 0,function(e){return t.messageService.show(s["default"].Error,e)})}),_.ipcRenderer.on("vscode:optionsChange",function(e,i){var n=JSON.parse(i);for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];t.contextService.updateOptions(o,r)}}),_.ipcRenderer.on("vscode:resolveKeybindings",function(e,i){var n=[];try{n=JSON.parse(i)}catch(r){}t.resolveKeybindings(n).done(function(e){e.length&&_.ipcRenderer.send("vscode:keybindingsResolved",JSON.stringify(e))},function(){return o.onUnexpectedError})}),_.ipcRenderer.on("vscode:telemetry",function(e,i){var n=i.eventName,o=i.data;t.telemetryService.publicLog(n,o)}),_.ipcRenderer.on("vscode:reportError",function(e,t){if(t){var i=JSON.parse(t);i.mainProcess=!0,o.onUnexpectedError(i)}}),this.partService.joinCreation().then(function(){_.ipcRenderer.send("vscode:workbenchLoaded",t.windowService.getWindowId())}),_.ipcRenderer.on("vscode:showInfoMessage",function(e,i){t.messageService.show(s["default"].Info,i)}),b.setZoomLevel(_.webFrame.getZoomLevel());var r;this.configurationService.onDidUpdateConfiguration(function(e){var t=e.config,i=0;if(t.window&&"number"==typeof t.window.zoomLevel){if(i=t.window.zoomLevel,r===i)return;r=i}_.webFrame.getZoomLevel()!==i&&(_.webFrame.setZoomLevel(i),b.setZoomLevel(_.webFrame.getZoomLevel()))}),window.document.addEventListener("contextmenu",function(e){if(e.target instanceof HTMLElement){var i=e.target;!i.nodeName||"input"!==i.nodeName.toLowerCase()&&"textarea"!==i.nodeName.toLowerCase()||(e.preventDefault(),e.stopPropagation(),t.contextMenuService.showContextMenu({getAnchor:function(){return i},getActions:function(){return n.TPromise.as(w)},getKeyBinding:function(e){var i=t.keybindingService.lookupKeybindings(e.id);return i.length>0?i[0]:null}}))}})},e.prototype.resolveKeybindings=function(e){var t=this;return this.partService.joinCreation().then(function(){return r.coalesce(e.map(function(e){for(var i=t.keybindingService.lookupKeybindings(e),n=0;n<i.length;n++){var o=i[n],r=t.keybindingService.getElectronAcceleratorFor(o);if(r)return{id:e,binding:o.value}}return null}))})},e=g([m(0,d.IInstantiationService),m(1,y.IWindowService),m(2,u.IPartService),m(3,v.IWorkspaceContextService),m(4,h.ITelemetryService),m(5,E.IConfigurationService),m(6,f.IKeybindingService),m(7,l.IMessageService),m(8,p.IContextMenuService)],e)}();t.ElectronIntegration=I}),define(l[285],d([1,0,504,33,2,27,52,18,43,155]),function(e,t,i,n,o,r,s,a,c,u){"use strict";var l=new r.Action("update.applyUpdate",i.localize(0,null),null,(!0),function(){return s.ipcRenderer.send("vscode:update-apply"),o.TPromise.as(!0)}),d=new r.Action("update.later",i.localize(1,null),null,(!0),function(){return o.TPromise.as(!0)});t.ShowReleaseNotesAction=function(e,t){return void 0===t&&(t=!1),new r.Action("update.showReleaseNotes",i.localize(2,null),null,(!0),function(){return s.shell.openExternal(e),o.TPromise.as(t)})},t.DownloadAction=function(e){return new r.Action("update.download",i.localize(3,null),null,(!0),function(){return s.shell.openExternal(e),o.TPromise.as(!0)})};var h=function(){function e(e,o,r){var a=this;this.contextService=e,this.messageService=o,this.requestService=r;var c=this.contextService.getConfiguration().env;s.ipcRenderer.on("vscode:update-downloaded",function(e,o){a.messageService.show(n["default"].Info,{message:i.localize(4,null,c.appName),actions:[t.ShowReleaseNotesAction(c.releaseNotesUrl),d,l]})}),s.ipcRenderer.on("vscode:update-available",function(e,o){a.messageService.show(n["default"].Info,{message:i.localize(5,null),actions:[t.ShowReleaseNotesAction(c.releaseNotesUrl),d,t.DownloadAction(o)]})}),s.ipcRenderer.on("vscode:update-not-available",function(){a.messageService.show(n["default"].Info,i.localize(6,null))})}return e=g([m(0,c.IWorkspaceContextService),m(1,a.IMessageService),m(2,u.IRequestService)],e)}();t.Update=h}),define(l[985],d([1,0,506,2,16,5,12,27,13,11,953,137,101,43,6,51]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v){"use strict";var y=300,E=function(){function e(e,t,i,n,r){var s=this;this.editor=e,this.debugService=t,this.contextService=i,this.contextMenuService=n,this.instantiationService=r,this.breakpointHintDecoration=[],this.hoverWidget=new l.DebugHoverWidget(this.editor,this.debugService,this.instantiationService),this.toDispose=[this.hoverWidget],this.showHoverScheduler=new o.RunOnceScheduler(function(){return s.showHover(s.hoverRange,s.hoveringOver,!1)},y),this.hideHoverScheduler=new o.RunOnceScheduler(function(){return s.hoverWidget.hide()},y),this.registerListeners()}return e.getDebugEditorContribution=function(e){return e.getContribution(h.EDITOR_CONTRIBUTION_ID)},e.prototype.getContextMenuActions=function(e,t,o){var r=this,s=[];return e?(s.push(this.instantiationService.createInstance(d.RemoveBreakpointAction,d.RemoveBreakpointAction.ID,d.RemoveBreakpointAction.LABEL)),s.push(this.instantiationService.createInstance(d.EditConditionalBreakpointAction,d.EditConditionalBreakpointAction.ID,d.EditConditionalBreakpointAction.LABEL,this.editor,o)),s.push(this.instantiationService.createInstance(d.ToggleEnablementAction,d.ToggleEnablementAction.ID,d.ToggleEnablementAction.LABEL))):(s.push(new a.Action("addBreakpoint",i.localize(0,null),null,(!0),function(){return r.debugService.addBreakpoints([{uri:t,lineNumber:o}])})),s.push(this.instantiationService.createInstance(d.AddConditionalBreakpointAction,d.AddConditionalBreakpointAction.ID,d.AddConditionalBreakpointAction.LABEL,this.editor,o))),n.TPromise.as(s)},e.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.editor.onMouseDown(function(t){if(t.target.type===u.MouseTargetType.GUTTER_GLYPH_MARGIN&&!t.target.detail&&e.debugService.getConfigurationManager().canSetBreakpointsIn(e.editor.getModel())){var i=t.target.position.lineNumber,n=e.editor.getModel().uri;if(t.event.rightButton||s.isMacintosh&&t.event.leftButton&&t.event.ctrlKey){var o={x:t.event.posx+1,y:t.event.posy},r=e.debugService.getModel().getBreakpoints().filter(function(e){return e.lineNumber===i&&e.source.uri.toString()===n.toString()}).pop();e.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return e.getContextMenuActions(r,n,i)},getActionsContext:function(){return r}})}else{var a=e.debugService.getModel().getBreakpoints().filter(function(e){return e.source.uri.toString()===n.toString()&&e.lineNumber===i}).pop();a?e.debugService.removeBreakpoints(a.getId()):e.debugService.addBreakpoints([{uri:n,lineNumber:i}])}}})),this.toDispose.push(this.editor.onMouseMove(function(t){var i=-1;t.target.type===u.MouseTargetType.GUTTER_GLYPH_MARGIN&&e.debugService.getConfigurationManager().canSetBreakpointsIn(e.editor.getModel())&&(t.target.detail||(i=t.target.position.lineNumber)),e.ensureBreakpointHintDecoration(i)})),this.toDispose.push(this.editor.onMouseLeave(function(t){e.ensureBreakpointHintDecoration(-1)})),this.toDispose.push(this.debugService.onDidChangeState(function(t){return e.onDebugStateUpdate(t)})),this.toDispose.push(this.editor.onMouseDown(function(t){return e.onEditorMouseDown(t)})),this.toDispose.push(this.editor.onMouseMove(function(t){return e.onEditorMouseMove(t)})),this.toDispose.push(this.editor.onMouseLeave(function(t){return e.hoverWidget.hide()})),this.toDispose.push(this.editor.onKeyDown(function(t){return e.onKeyDown(t)})),this.toDispose.push(this.editor.onDidChangeModel(function(){return e.hideHoverWidget()})),this.toDispose.push(this.editor.onDidScrollChange(function(){return e.hideHoverWidget}))},e.prototype.getId=function(){return h.EDITOR_CONTRIBUTION_ID},e.prototype.showHover=function(e,t,i){return this.hoverWidget.showAt(e,t,i)},e.prototype.ensureBreakpointHintDecoration=function(t){var i=[];t!==-1&&i.push({options:e.BREAKPOINT_HELPER_DECORATION,range:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}}),this.breakpointHintDecoration=this.editor.deltaDecorations(this.breakpointHintDecoration,i)},e.prototype.onDebugStateUpdate=function(e){e!==h.State.Stopped&&this.hideHoverWidget(),this.contextService.updateOptions("editor",{hover:e!==h.State.Stopped})},e.prototype.hideHoverWidget=function(){!this.hideHoverScheduler.isScheduled()&&this.hoverWidget.isVisible&&this.hideHoverScheduler.schedule(),this.showHoverScheduler.cancel(),this.hoveringOver=null},e.prototype.onEditorMouseDown=function(e){e.target.type===u.MouseTargetType.CONTENT_WIDGET&&e.target.detail===l.DebugHoverWidget.ID||this.hideHoverWidget()},e.prototype.onEditorMouseMove=function(e){if(this.debugService.state===h.State.Stopped){var t=e.target.type,i=s.isMacintosh?"metaKey":"ctrlKey";if(t!==u.MouseTargetType.CONTENT_WIDGET||e.target.detail!==l.DebugHoverWidget.ID||e.event[i])if(t===u.MouseTargetType.CONTENT_TEXT){var n=this.editor.getModel().getWordAtPosition(e.target.range.getStartPosition());n&&this.hoveringOver!==n.word&&(this.hoverRange=e.target.range,this.hoveringOver=n.word,this.showHoverScheduler.schedule())}else this.hideHoverWidget()}},e.prototype.onKeyDown=function(e){var t=s.isMacintosh?c.KeyCode.Meta:c.KeyCode.Ctrl;e.keyCode!==t&&this.hideHoverWidget()},e.prototype.dispose=function(){this.toDispose=r.dispose(this.toDispose)},e.BREAKPOINT_HELPER_DECORATION={glyphMarginClassName:"debug-breakpoint-hint-glyph",stickiness:u.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges},e=g([m(1,h.IDebugService),m(2,p.IWorkspaceContextService),m(3,v.IContextMenuService),m(4,f.IInstantiationService)],e)}();t.DebugEditorContribution=E}),define(l[986],d([1,0,74,516,16,2,9,17,12,24,29,19,98,25,95,15,108,23,34,21,20,233,795,43,22,50]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I,T,A){"use strict";t.debuggersExtPoint=f.ExtensionsRegistry.registerExtensionPoint("debuggers",{description:n.localize(0,null),type:"array",defaultSnippets:[{body:[{type:"",extensions:[]}]}],items:{type:"object",defaultSnippets:[{body:{type:"",program:"",runtime:"",enableBreakpointsFor:{languageIds:[""]}}}],properties:{type:{description:n.localize(1,null),type:"string"},label:{description:n.localize(2,null),type:"string"},enableBreakpointsFor:{description:n.localize(3,null),type:"object",properties:{languageIds:{description:n.localize(4,null),type:"array",items:{type:"string"}}}},program:{description:n.localize(5,null),type:"string"},args:{description:n.localize(6,null),type:"array"},runtime:{description:n.localize(7,null),type:"string"},runtimeArgs:{description:n.localize(8,null),type:"array"},variables:{description:n.localize(9,null),type:"object"},initialConfigurations:{description:n.localize(10,null),type:"array"},configurationAttributes:{description:n.localize(11,null),type:"object"},windows:{description:n.localize(12,null),type:"object",properties:{runtime:{description:n.localize(13,null),type:"string"}}},osx:{description:n.localize(14,null),type:"object",properties:{runtime:{description:n.localize(15,null),type:"string"}}},linux:{description:n.localize(16,null),type:"object",properties:{runtime:{description:n.localize(17,null),type:"string"}}}}}}),t.schemaId="vscode://schemas/launch";var L={id:t.schemaId,type:"object",title:n.localize(18,null),required:["version","configurations"],properties:{version:{type:"string",description:n.localize(19,null),"default":"0.2.0"},configurations:{type:"array",description:n.localize(20,null),items:{oneOf:[]}}}},D=v.Registry.as(y.Extensions.JSONContribution);D.registerSchema(t.schemaId,L);var k=function(){function e(e,t,i,n,o,r,s,a){this.contextService=t,this.fileService=i,this.telemetryService=n,this.editorService=o,this.configurationService=r,this.quickOpenService=s,this.keybindingService=a,this._onDidConfigurationChange=new u.Emitter,this.systemVariables=this.contextService.getWorkspace()?new C.SystemVariables(this.editorService,this.contextService):null,this.setConfiguration(e),this.adapters=[],this.registerListeners(),this.allModeIdsForBreakpoints={}}return e.prototype.registerListeners=function(){var e=this;t.debuggersExtPoint.setHandler(function(t){t.forEach(function(t){t.value.forEach(function(i){var o=new w.Adapter(i,e.systemVariables,t.description),r=e.adapters.filter(function(e){return e.type===o.type})[0];i.type&&"string"==typeof i.type||t.collector.error(n.localize(21,null)),r?Object.keys(o).forEach(function(e){o[e]&&("enableBreakpointsFor"===e?Object.keys(o.enableBreakpointsFor).forEach(function(e){return r.enableBreakpointsFor[e]=!0}):r[e]&&"type"!==e&&"extensionDescription"!==e?(r[e]=o[e],t.collector.error(n.localize(22,null,o.type,e))):r[e]=o[e])}):e.adapters.push(o),o.enableBreakpointsFor&&o.enableBreakpointsFor.languageIds.forEach(function(t){e.allModeIdsForBreakpoints[t]=!0})})}),e.adapters.forEach(function(e){var t=e.getSchemaAttributes();t&&(i=L.properties.configurations.items.oneOf).push.apply(i,t);var i})})},Object.defineProperty(e.prototype,"onDidConfigurationChange",{get:function(){return this._onDidConfigurationChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configurationName",{get:function(){return this.configuration?this.configuration.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adapter",{get:function(){var e=this;return this.configuration&&this.configuration.type?this.adapters.filter(function(t){return s.equalsIgnoreCase(t.type,e.configuration.type)}).pop():null},enumerable:!0,configurable:!0}),e.prototype.resolveInteractiveVariables=function(){var e=this;if(!this.configuration)return r.TPromise.as(null);var t={},i=function(e){Object.keys(e).forEach(function(n){if(e[n]&&"object"==typeof e[n])i(e[n]);else if("string"==typeof e[n]){var o=/\${command.(.+)}/.exec(e[n]);if(o&&2===o.length){var r=o[1];t[r]||(t[r]=[]),t[r].push(n)}}})};i(this.configuration);var s=Object.keys(t).map(function(i){return function(){var o=e.adapter.variables?e.adapter.variables[i]:null;return o?e.keybindingService.executeCommand(o,e.configuration).then(function(n){n||(e.configuration.silentlyAbort=!0),t[i].forEach(function(t){return e.configuration[t]=e.configuration[t].replace("${command."+i+"}",n)})}):r.TPromise.wrapError(n.localize(23,null,e.adapter.type,i))}});return o.sequence(s).then(function(){return e.configuration})},e.prototype.setConfiguration=function(e){var t=this;return this.loadLaunchConfig().then(function(i){if(a.isObject(e))t.configuration=l.deepClone(e);else{if(!i||!i.configurations)return void(t.configuration=null);var n=e?i.configurations.filter(function(t){return t.name===e}):[i.configurations[0]];t.configuration=1===n.length?l.deepClone(n[0]):null,i&&t.configuration&&(t.configuration.debugServer=i.debugServer)}t.configuration&&(c.isWindows&&t.configuration.windows&&Object.keys(t.configuration.windows).forEach(function(e){t.configuration[e]=t.configuration.windows[e]}),c.isMacintosh&&t.configuration.osx&&Object.keys(t.configuration.osx).forEach(function(e){t.configuration[e]=t.configuration.osx[e]}),c.isLinux&&t.configuration.linux&&Object.keys(t.configuration.linux).forEach(function(e){t.configuration[e]=t.configuration.linux[e]}),t.systemVariables&&Object.keys(t.configuration).forEach(function(e){t.configuration[e]=t.systemVariables.resolveAny(t.configuration[e])}))}).then(function(){return t._onDidConfigurationChange.fire(t.configurationName)})},e.prototype.openConfigFile=function(e){var t=this,i=d["default"].file(p.join(this.contextService.getWorkspace().resource.fsPath,"/.vscode/launch.json"));return this.fileService.resolveContent(i).then(function(e){return!0},function(e){return t.getInitialConfigFileContent().then(function(e){return!!e&&t.fileService.updateContent(i,e).then(function(){return!0})})}).then(function(n){return!!n&&(t.telemetryService.publicLog("debugConfigure"),t.editorService.openEditor({resource:i,options:{forceOpen:!0}},e).then(function(){return!0}))},function(e){throw new Error(n.localize(24,null,e))})},e.prototype.getInitialConfigFileContent=function(){var e=this;return this.quickOpenService.pick(this.adapters,{placeHolder:n.localize(25,null)}).then(function(t){return t?e.massageInitialConfigurations(t).then(function(){var i=e.configurationService.getConfiguration();return JSON.stringify({version:"0.2.0",configurations:t.initialConfigurations?t.initialConfigurations:[]},null,i.editor.insertSpaces?s.repeat(" ",i.editor.tabSize):"\t")}):null})},e.prototype.massageInitialConfigurations=function(e){if(!e||!e.initialConfigurations||"node"!==e.type)return r.TPromise.as(void 0);var t=d["default"].file(p.join(this.contextService.getWorkspace().resource.fsPath,"/package.json"));return this.fileService.resolveContent(t).then(function(e){try{var t=JSON.parse(e.value);if(t.main)return t.main;if(t.scripts&&"string"==typeof t.scripts.start)return t.scripts.start.split(" ").pop()}catch(i){}return null},function(e){return null}).then(function(t){e.initialConfigurations.forEach(function(e){t&&e.program&&(i.isAbsolute(t)||(t=p.join("${workspaceRoot}",t)),e.program=t)})})},e.prototype.canSetBreakpointsIn=function(e){if(e.uri.scheme===h.Schemas.inMemory)return!1;var t=e?e.getMode():null,i=t?t.getId():null;return!!this.allModeIdsForBreakpoints[i]},e.prototype.loadLaunchConfig=function(){return r.TPromise.as(this.configurationService.getConfiguration("launch"));
},e=g([m(1,I.IWorkspaceContextService),m(2,S.IFileService),m(3,b.ITelemetryService),m(4,T.IWorkbenchEditorService),m(5,E.IConfigurationService),m(6,A.IQuickOpenService),m(7,_.IKeybindingService)],e)}();t.ConfigurationManager=k}),define(l[987],d([1,0,514,5,58,24,19,16,27,41,17,7,33,2,120,20,118,72,103,6,34,28,18,21,313,314,39,44,30,101,843,154,788,249,137,986,252,209,142,57,93,55,47,23,43,22,97,246,52,180]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W,B,K,V,H,z,U,G,j,q,Y,$,X,Q){"use strict";var Z="debug.breakpoint",J="debug.breakpointactivated",ee="debug.functionbreakpoint",te="debug.exceptionbreakpoint",ie="debug.watchexpressions",ne="debug.selectedconfigname",oe=function(){function t(e,t,i,n,o,s,a,c,u,l,d,h,p,f,g,m,v,y,E,S){this.storageService=e,this.editorService=t,this.textFileService=i,this.viewletService=n,this.panelService=o,this.fileService=s,this.messageService=a,this.partService=c,this.windowService=u,this.telemetryService=l,this.contextService=d,this.editorGroupService=p,this.lifecycleService=g,this.instantiationService=m,this.extensionService=v,this.markerService=y,this.taskService=E,this.configurationService=S,this.serviceId=x.IDebugService,this.toDispose=[],this.toDisposeOnSessionEnd=[],this.session=null,this._state=x.State.Inactive,this._onDidChangeState=new r.Emitter,this.contextService.getWorkspace()||(this._state=x.State.Disabled),this.configurationManager=this.instantiationService.createInstance(F.ConfigurationManager,this.storageService.get(ne,L.StorageScope.WORKSPACE,"null")),this.inDebugMode=h.createKey(x.CONTEXT_IN_DEBUG_MODE,!1),this.model=new R.Model(this.loadBreakpoints(),this.storageService.getBoolean(J,L.StorageScope.WORKSPACE,!0),this.loadFunctionBreakpoints(),this.loadExceptionBreakpoints(),this.loadWatchExpressions()),this.toDispose.push(this.model),this.viewModel=new P.ViewModel,this.registerListeners(f,g)}return t.prototype.registerListeners=function(e,t){var i=this;this.toDispose.push(e.addListener2(_.EventType.FILE_CHANGES,function(e){return i.onFileChanges(e)})),this.taskService&&(this.toDispose.push(this.taskService.addListener2(B.TaskServiceEvents.Active,function(e){i.lastTaskEvent=e})),this.toDispose.push(this.taskService.addListener2(B.TaskServiceEvents.Inactive,function(e){e.type===B.TaskType.SingleRun&&(i.lastTaskEvent=null)})),this.toDispose.push(this.taskService.addListener2(B.TaskServiceEvents.Terminated,function(e){i.lastTaskEvent=null}))),t.onShutdown(this.store,this),t.onShutdown(this.dispose,this),this.toDispose.push(this.windowService.onBroadcast(this.onBroadcast,this))},t.prototype.onBroadcast=function(e){if(e.channel===$.EXTENSION_ATTACH_BROADCAST_CHANNEL)return void this.rawAttach(e.payload.port);if(e.channel===$.EXTENSION_TERMINATE_BROADCAST_CHANNEL)return void this.onSessionEnd();var t=this.getActiveSession();if(t&&"extensionHost"===t.configuration.type&&e.channel===$.EXTENSION_LOG_BROADCAST_CHANNEL){var i=e.payload,n="warn"===i.severity?h["default"].Warning:"error"===i.severity?h["default"].Error:h["default"].Info,o=[];try{var r=JSON.parse(i.arguments);o.push.apply(o,Object.getOwnPropertyNames(r).map(function(e){return r[e]}))}catch(s){o.push(i.arguments)}for(var a=[],c=0;c<o.length;c++){var u=o[c];if("undefined"==typeof u)a.push("undefined");else if(null===u)a.push("null");else if(l.isObject(u)||Array.isArray(u))a.length&&(this.logToRepl(a.join(" "),n),a=[]),this.logToRepl(u,n);else if("string"==typeof u){for(var d="",p=0,f=u.length;p<f;p++)"%"!==u[p]||"s"!==u[p+1]&&"i"!==u[p+1]&&"d"!==u[p+1]?d+=u[p]:(c++,d+=l.isUndefinedOrNull(o[c])?"":o[c],p++);a.push(d)}else a.push(u)}a.length&&this.logToRepl(a.join(" "),n)}},t.prototype.registerSessionListeners=function(){var e=this;this.toDisposeOnSessionEnd.push(this.session),this.toDisposeOnSessionEnd.push(this.session.onDidInitialize(function(t){f.status(i.localize(0,null)),e.sendAllBreakpoints().then(function(){e.session.configuration.capabilities.supportsConfigurationDoneRequest&&e.session.configurationDone().done(null,d.onUnexpectedError)})})),this.toDisposeOnSessionEnd.push(this.session.onDidStop(function(t){e.setStateAndEmit(x.State.Stopped);var n=t.body.threadId;e.getThreadData().done(function(){e.model.rawUpdate({threadId:n,stoppedDetails:t.body,allThreadsStopped:t.body.allThreadsStopped});var o=e.model.getThreads()[n];o.getCallStack(e).then(function(n){if(n.length>0){var r=u.first(n,function(e){return e.source&&e.source.available},n[0]);return e.setFocusedStackFrameAndEvaluate(r,o).done(null,d.onUnexpectedError),e.windowService.getWindow().focus(),f.alert(i.localize(1,null,t.body.reason,r.source?r.source.name:"",r.lineNumber)),e.openOrRevealSource(r.source,r.lineNumber,!1,!1)}e.setFocusedStackFrameAndEvaluate(null,o).done(null,d.onUnexpectedError)})},d.onUnexpectedError)})),this.toDisposeOnSessionEnd.push(this.session.onDidThread(function(t){"started"===t.body.reason?e.getThreadData().done(null,d.onUnexpectedError):"exited"===t.body.reason&&e.model.clearThreads(!0,t.body.threadId)})),this.toDisposeOnSessionEnd.push(this.session.onDidTerminateDebugee(function(t){f.status(i.localize(2,null)),e.session&&e.session.getId()===t.body.sessionId&&(t.body&&"boolean"==typeof t.body.restart&&t.body.restart?e.restartSession().done(null,function(t){return e.messageService.show(h["default"].Error,t.message)}):e.session.disconnect().done(null,d.onUnexpectedError))})),this.toDisposeOnSessionEnd.push(this.session.onDidOutput(function(t){t.body&&"telemetry"===t.body.category?e.customTelemetryService&&e.telemetryService.isOptedIn&&e.customTelemetryService.publicLog(t.body.output,t.body.data):t.body&&"string"==typeof t.body.output&&t.body.output.length>0&&e.onOutput(t)})),this.toDisposeOnSessionEnd.push(this.session.onDidBreakpoint(function(t){var i=t.body&&t.body.breakpoint?t.body.breakpoint.id:void 0,n=e.model.getBreakpoints().filter(function(e){return e.idFromAdapter===i}).pop();if(n)e.model.updateBreakpoints((r={},r[n.getId()]=t.body.breakpoint,r));else{var o=e.model.getFunctionBreakpoints().filter(function(e){return e.idFromAdapter===i}).pop();o&&e.model.updateFunctionBreakpoints((s={},s[o.getId()]=t.body.breakpoint,s))}var r,s})),this.toDisposeOnSessionEnd.push(this.session.onDidExitAdapter(function(t){"extensionHost"===e.session.configuration.type&&e._state===x.State.RunningNoDebug&&X.ipcRenderer.send("vscode:closeExtensionHostWindow",e.contextService.getWorkspace().resource.fsPath),e.session&&e.session.getId()===t.body.sessionId&&e.onSessionEnd()}))},t.prototype.onOutput=function(e){var t="stderr"===e.body.category?h["default"].Error:"console"===e.body.category?h["default"].Warning:h["default"].Info;this.appendReplOutput(e.body.output,t)},t.prototype.getThreadData=function(){var e=this;return this.session.threads().then(function(t){t.body.threads.forEach(function(t){return e.model.rawUpdate({threadId:t.id,thread:t})})})},t.prototype.loadBreakpoints=function(){try{return JSON.parse(this.storageService.get(Z,L.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.Breakpoint(new W.Source(e.source.raw?e.source.raw:{path:s["default"].parse(e.source.uri).fsPath,name:e.source.name}),e.desiredLineNumber||e.lineNumber,e.enabled,e.condition)})}catch(e){return[]}},t.prototype.loadFunctionBreakpoints=function(){try{return JSON.parse(this.storageService.get(ee,L.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.FunctionBreakpoint(e.name,e.enabled)})}catch(e){return[]}},t.prototype.loadExceptionBreakpoints=function(){var e=null;try{e=JSON.parse(this.storageService.get(te,L.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.ExceptionBreakpoint(e.filter||e.name,e.label,e.enabled)})}catch(t){e=[]}return e},t.prototype.loadWatchExpressions=function(){try{return JSON.parse(this.storageService.get(ie,L.StorageScope.WORKSPACE,"[]")).map(function(e){return new R.Expression(e.name,(!1),e.id)})}catch(e){return[]}},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDidChangeState",{get:function(){return this._onDidChangeState.event},enumerable:!0,configurable:!0}),t.prototype.setStateAndEmit=function(e){this._state=e,this._onDidChangeState.fire(e)},Object.defineProperty(t.prototype,"enabled",{get:function(){return!!this.contextService.getWorkspace()},enumerable:!0,configurable:!0}),t.prototype.setFocusedStackFrameAndEvaluate=function(e,t){return!t&&e&&(t=this.model.getThreads()[e.threadId]),this.viewModel.setFocusedStackFrame(e,t),e?this.model.evaluateWatchExpressions(this.session,e):(this.model.clearWatchExpressionValues(),p.TPromise.as(null))},t.prototype.enableOrDisableBreakpoints=function(e,t){return t?(this.model.setEnablement(t,e),t instanceof R.Breakpoint?this.sendBreakpoints(t.source.uri):t instanceof R.FunctionBreakpoint?this.sendFunctionBreakpoints():this.sendExceptionBreakpoints()):(this.model.enableOrDisableAllBreakpoints(e),this.sendAllBreakpoints())},t.prototype.addBreakpoints=function(e){var t=this;this.model.addBreakpoints(e);var n=u.distinct(e,function(e){return e.uri.toString()}).map(function(e){return e.uri});return e.forEach(function(e){return f.status(i.localize(3,null,e.lineNumber,e.uri.fsPath))}),p.TPromise.join(n.map(function(e){return t.sendBreakpoints(e)}))},t.prototype.removeBreakpoints=function(e){var t=this,n=this.model.getBreakpoints().filter(function(t){return!e||t.getId()===e});n.forEach(function(e){return f.status(i.localize(4,null,e.lineNumber,e.source.uri.fsPath))});var o=u.distinct(n,function(e){return e.source.uri.toString()}).map(function(e){return e.source.uri});return this.model.removeBreakpoints(n),p.TPromise.join(o.map(function(e){return t.sendBreakpoints(e)}))},t.prototype.setBreakpointsActivated=function(e){return this.model.setBreakpointsActivated(e),this.sendAllBreakpoints()},t.prototype.addFunctionBreakpoint=function(){this.model.addFunctionBreakpoint("")},t.prototype.renameFunctionBreakpoint=function(e,t){return this.model.updateFunctionBreakpoints((i={},i[e]={name:t},i)),this.sendFunctionBreakpoints();var i},t.prototype.removeFunctionBreakpoints=function(e){return this.model.removeFunctionBreakpoints(e),this.sendFunctionBreakpoints()},t.prototype.addReplExpression=function(e){var t=this;this.telemetryService.publicLog("debugService/addReplExpression");var i=this.viewModel.getFocusedStackFrame();return this.model.addReplExpression(this.session,i,e).then(function(){return t.setFocusedStackFrameAndEvaluate(i)})},t.prototype.logToRepl=function(e,t){this.model.logToRepl(e,t)},t.prototype.appendReplOutput=function(e,t){this.model.appendReplOutput(e,t)},t.prototype.removeReplExpressions=function(){this.model.removeReplExpressions()},t.prototype.setVariable=function(e,t){return this.session&&e instanceof R.Variable?this.session.setVarialbe({name:e.name,value:t,variablesReference:e.parent.reference}).then(function(t){return e.value=t.body.value},function(t){return e.errorMessage=t.message}):p.TPromise.as(null)},t.prototype.addWatchExpression=function(e){return this.model.addWatchExpression(this.session,this.viewModel.getFocusedStackFrame(),e)},t.prototype.renameWatchExpression=function(e,t){return this.model.renameWatchExpression(this.session,this.viewModel.getFocusedStackFrame(),e,t)},t.prototype.removeWatchExpressions=function(e){this.model.removeWatchExpressions(e)},t.prototype.createSession=function(e,t){var n=this;return this.removeReplExpressions(),this.textFileService.saveAll().then(function(){return n.configurationService.loadConfiguration().then(function(){return n.extensionService.onReady().then(function(){return n.configurationManager.setConfiguration(t||n.configurationManager.configurationName).then(function(){return n.configurationManager.resolveInteractiveVariables()}).then(function(o){return(t=o)?t.silentlyAbort?void 0:(t.noDebug=e,n.configurationManager.adapter?n.runPreLaunchTask(t.preLaunchTask).then(function(e){var o=t.preLaunchTask?n.markerService.getStatistics().errors:0,r=e&&0===e.exitCode,s=e&&void 0!==e.exitCode&&0!==e.exitCode;return r||0===o&&!s?n.doCreateSession(t):void n.messageService.show(h["default"].Error,{message:o>1?i.localize(8,null,t.preLaunchTask):1===o?i.localize(9,null,t.preLaunchTask):i.localize(10,null,t.preLaunchTask,e.exitCode),actions:[w.CloseAction,new c.Action("debug.continue",i.localize(11,null),null,(!0),function(){return n.messageService.hideAll(),n.doCreateSession(t)})]})},function(e){if(e.code!==K.TaskErrors.NotConfigured)throw e;n.messageService.show(e.severity,{message:e.message,actions:[w.CloseAction,n.taskService.configureAction()]})}):t.type?p.TPromise.wrapError(new Error(i.localize(6,null,t.type))):p.TPromise.wrapError(d.create(i.localize(7,null),{actions:[w.CloseAction,n.instantiationService.createInstance(N.ConfigureAction,N.ConfigureAction.ID,N.ConfigureAction.LABEL)]}))):n.configurationManager.openConfigFile(!1).then(function(e){e&&n.messageService.show(h["default"].Info,i.localize(5,null))})})})})})},t.prototype.doCreateSession=function(t){var n=this;return this.setStateAndEmit(x.State.Initializing),this.telemetryService.getTelemetryInfo().then(function(e){var t=Object.create(null);return t["common.vscodemachineid"]=e.machineId,t["common.vscodesessionid"]=e.sessionId,t}).then(function(o){var r=n.configurationManager.adapter,a=r.aiKey,c=r.type,u=n.configurationManager.adapter.extensionDescription.publisher;if(n.customTelemetryService=null,a){var l=new Q.Client(s["default"].parse(e.toUrl("bootstrap")).fsPath,{serverName:"Debug Telemetry",timeout:3e5,args:[u+"."+c,JSON.stringify(o),a],env:{ATOM_SHELL_INTERNAL_RUN_AS_NODE:1,PIPE_LOGGING:"true",AMD_ENTRYPOINT:"vs/workbench/parts/debug/node/telemetryApp"}}),h=l.getChannel("telemetryAppender"),f=new A.TelemetryAppenderClient(h);n.toDisposeOnSessionEnd.push(l),n.customTelemetryService=new T.TelemetryService({appender:f},n.configurationService)}return n.session=n.instantiationService.createInstance(M.RawDebugSession,t.debugServer,n.configurationManager.adapter,n.customTelemetryService),n.registerSessionListeners(),n.session.initialize({adapterID:t.type,pathFormat:"path",linesStartAt1:!0,columnsStartAt1:!0}).then(function(e){return n.session?(n.model.setExceptionBreakpoints(n.session.configuration.capabilities.exceptionBreakpointFilters),"attach"===t.request?n.session.attach(t):n.session.launch(t)):p.TPromise.wrapError(new Error(i.localize(12,null)))}).then(function(e){("openOnSessionStart"===t.internalConsoleOptions||!n.viewModel.changedWorkbenchViewState&&"neverOpen"!==t.internalConsoleOptions)&&n.panelService.openPanel(x.REPL_ID,!1).done(void 0,d.onUnexpectedError),n.viewModel.changedWorkbenchViewState||n.partService.isSideBarHidden()||(n.viewModel.changedWorkbenchViewState=!0,n.viewletService.openViewlet(x.VIEWLET_ID)),t.noDebug||n.partService.addClass("debugging"),n.extensionService.activateByEvent("onDebug:"+t.type).done(null,d.onUnexpectedError),n.contextService.updateOptions("editor",{glyphMargin:!0}),n.inDebugMode.set(!0),n.lazyTransitionToRunningState(),n.telemetryService.publicLog("debugSessionStart",{type:t.type,breakpointCount:n.model.getBreakpoints().length,exceptionBreakpoints:n.model.getExceptionBreakpoints(),watchExpressionsCount:n.model.getWatchExpressions().length,extensionName:n.configurationManager.adapter.extensionDescription.publisher+"."+n.configurationManager.adapter.extensionDescription.name,isBuiltin:n.configurationManager.adapter.extensionDescription.isBuiltin})}).then(void 0,function(e){if(e instanceof Error&&"Canceled"===e.message)return p.TPromise.as(null);n.telemetryService.publicLog("debugMisconfiguration",{type:t?t.type:void 0}),n.setStateAndEmit(x.State.Inactive),n.session&&n.session.disconnect(),n.model.getReplElements().length>0&&n.panelService.openPanel(x.REPL_ID,!1).done(void 0,d.onUnexpectedError);var i=n.instantiationService.createInstance(N.ConfigureAction,N.ConfigureAction.ID,N.ConfigureAction.LABEL),o=e.actions&&e.actions.length?e.actions.concat([i]):[w.CloseAction,i];return p.TPromise.wrapError(d.create(e.message,{actions:o}))})})},t.prototype.runPreLaunchTask=function(e){var t=this;return e?this.taskService.tasks().then(function(n){var o=n.filter(function(t){return t.name===e});if(1!==o.length)return p.TPromise.wrapError(d.create(i.localize(13,null,e),{actions:[w.CloseAction,t.taskService.configureAction(),t.instantiationService.createInstance(N.ConfigureAction,N.ConfigureAction.ID,N.ConfigureAction.LABEL)]}));if(t.lastTaskEvent&&t.lastTaskEvent.taskName===e)return p.TPromise.as(null);if(t.lastTaskEvent)return p.TPromise.wrapError(d.create(i.localize(14,null,t.lastTaskEvent.taskName,e)));var r=t.taskService.run(o[0].id).then(function(e){return t.lastTaskEvent=null,e},function(e){t.lastTaskEvent=null});return o[0].isWatching?new p.TPromise(function(e,i){return t.taskService.addOneTimeDisposableListener(B.TaskServiceEvents.Inactive,function(){return e(null)})}):r}):p.TPromise.as(null)},t.prototype.rawAttach=function(e){if(this.session){if(!this.session.configuration.isAttach)return this.session.attach({port:e});this.session.disconnect().done(null,d.onUnexpectedError)}this.setStateAndEmit(x.State.Initializing);var t=this.configurationManager.configuration;return this.doCreateSession({type:t.type,request:"attach",port:e,sourceMaps:t.sourceMaps,outDir:t.outDir,debugServer:t.debugServer})},t.prototype.restartSession=function(){var e=this;return this.session?this.session.disconnect(!0).then(function(){return new p.TPromise(function(t,i){setTimeout(function(){e.createSession(!1,null).then(function(){return t(null)},function(e){return i(e)})},300)})}):this.createSession(!1,null)},t.prototype.getActiveSession=function(){return this.session},t.prototype.onSessionEnd=function(){if(this.session){var e=this.model.getBreakpoints().length>0;this.telemetryService.publicLog("debugSessionStop",{type:this.session.configuration.type,success:this.session.emittedStopped||!e,sessionLengthInSeconds:this.session.getLengthInSeconds(),breakpointCount:this.model.getBreakpoints().length,watchExpressionsCount:this.model.getWatchExpressions().length})}this.session=null;try{this.toDisposeOnSessionEnd=n.dispose(this.toDisposeOnSessionEnd)}catch(t){}this.partService.removeClass("debugging"),this.model.clearThreads(!0),this.setFocusedStackFrameAndEvaluate(null).done(null,d.onUnexpectedError),this.setStateAndEmit(x.State.Inactive);var i={};this.model.getBreakpoints().forEach(function(e){delete e.source.raw.sourceReference,i[e.getId()]={line:e.lineNumber,verified:!1}}),this.model.updateBreakpoints(i),this.inDebugMode.reset()},t.prototype.getModel=function(){return this.model},t.prototype.getViewModel=function(){return this.viewModel},t.prototype.openOrRevealSource=function(e,t,i,n){for(var r=this,s=this.editorService.getVisibleEditors(),a=0;a<s.length;a++){var c=k.asFileEditorInput(s[a].input);if(c&&c.getResource().toString()===e.uri.toString()||s[a].input instanceof O.DebugStringEditorInput&&s[a].input.getResource().toString()===e.uri.toString()){var u=s[a].getControl();return u&&(u.revealLineInCenterIfOutsideViewport(t),u.setSelection({startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1}),this.editorGroupService.activateGroup(a),i||this.editorGroupService.focusGroup(a)),p.TPromise.as(null)}}return e.inMemory?0!==e.reference&&this.session?this.session.source({sourceReference:e.reference}).then(function(s){var a=r.getDebugStringEditorInput(e,s.body.content,o.guessMimeTypes(e.name)[0]);return r.editorService.openEditor(a,k.TextEditorOptions.create({selection:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1},preserveFocus:i}),n)}):this.sourceIsUnavailable(e,n):this.fileService.resolveFile(e.uri).then(function(){return r.editorService.openEditor({resource:e.uri,options:{selection:{startLineNumber:t,startColumn:1,endLineNumber:t,endColumn:1},preserveFocus:i}},n)},function(t){return r.sourceIsUnavailable(e,n)})},t.prototype.sourceIsUnavailable=function(e,t){this.model.sourceIsUnavailable(e);var n=this.getDebugStringEditorInput(e,i.localize(15,null,e.uri.fsPath),"text/plain");return this.editorService.openEditor(n,k.TextEditorOptions.create({preserveFocus:!0}),t)},t.prototype.getConfigurationManager=function(){return this.configurationManager},t.prototype.next=function(e){var t=this;return this.session?this.session.next({threadId:e}).then(function(){t.lazyTransitionToRunningState(e)}):p.TPromise.as(null)},t.prototype.stepIn=function(e){var t=this;return this.session?this.session.stepIn({threadId:e}).then(function(){t.lazyTransitionToRunningState(e)}):p.TPromise.as(null)},t.prototype.stepOut=function(e){var t=this;return this.session?this.session.stepOut({threadId:e}).then(function(){t.lazyTransitionToRunningState(e)}):p.TPromise.as(null)},t.prototype.stepBack=function(e){var t=this;return this.session?this.session.stepBack({threadId:e}).then(function(){t.lazyTransitionToRunningState(e)}):p.TPromise.as(null)},t.prototype["continue"]=function(e){var t=this;return this.session?this.session["continue"]({threadId:e}).then(function(i){var n=!i.body||i.body.allThreadsContinued!==!1;t.lazyTransitionToRunningState(n?void 0:e)}):p.TPromise.as(null)},t.prototype.pause=function(e){return this.session?this.session.pause({threadId:e}):p.TPromise.as(null)},t.prototype.lazyTransitionToRunningState=function(e){var t,n=this,o=this.session.onDidStop(function(i){i.body.threadId!==e&&!i.body.allThreadsStopped&&e||t.cancel()});this.model.clearThreads(!1,e);var r=this.model.getThreads(),s=Object.keys(r).filter(function(e){return r[e].stopped}).pop(),c=s?r[parseInt(s)]:null,u=c?c.getCachedCallStack():null,l=u&&u.length>0?u[0]:null;c||this.setStateAndEmit(this.configurationManager.configuration.noDebug?x.State.RunningNoDebug:x.State.Running),t=new a.RunOnceScheduler(function(){o.dispose(),f.status(i.localize(16,null)),n.setFocusedStackFrameAndEvaluate(l).done(null,d.onUnexpectedError)},500),t.schedule()},t.prototype.getDebugStringEditorInput=function(e,t,i){var n=this.instantiationService.createInstance(O.DebugStringEditorInput,e.name,e.uri,e.origin,t,i,void 0);return this.toDisposeOnSessionEnd.push(n),n},t.prototype.sendAllBreakpoints=function(){var e=this;return p.TPromise.join(u.distinct(this.model.getBreakpoints(),function(e){return e.source.uri.toString()}).map(function(t){return e.sendBreakpoints(t.source.uri)})).then(function(){return e.sendFunctionBreakpoints()}).then(function(){return e.sendExceptionBreakpoints()})},t.prototype.sendBreakpoints=function(e){var t=this;if(!this.session||!this.session.readyForBreakpoints)return p.TPromise.as(null);var i=u.distinct(this.model.getBreakpoints().filter(function(i){return t.model.areBreakpointsActivated()&&i.enabled&&i.source.uri.toString()===e.toString()}),function(e){return""+e.desiredLineNumber}),n=i.length>0?i[0].source.raw:W.Source.toRawSource(e,this.model);return this.session.setBreakpoints({source:n,lines:i.map(function(e){return e.desiredLineNumber}),breakpoints:i.map(function(e){return{line:e.desiredLineNumber,condition:e.condition}})}).then(function(e){for(var n={},o=0;o<i.length;o++)n[i[o].getId()]=e.body.breakpoints[o];t.model.updateBreakpoints(n)})},t.prototype.sendFunctionBreakpoints=function(){var e=this;if(!this.session||!this.session.readyForBreakpoints||!this.session.configuration.capabilities.supportsFunctionBreakpoints)return p.TPromise.as(null);var t=this.model.getFunctionBreakpoints().filter(function(t){return t.enabled&&e.model.areBreakpointsActivated()});return this.session.setFunctionBreakpoints({breakpoints:t}).then(function(i){for(var n={},o=0;o<t.length;o++)n[t[o].getId()]=i.body.breakpoints[o];e.model.updateFunctionBreakpoints(n)})},t.prototype.sendExceptionBreakpoints=function(){if(!this.session||!this.session.readyForBreakpoints||0===this.model.getExceptionBreakpoints().length)return p.TPromise.as(null);var e=this.model.getExceptionBreakpoints().filter(function(e){return e.enabled});return this.session.setExceptionBreakpoints({filters:e.map(function(e){return e.filter})})},t.prototype.onFileChanges=function(e){this.model.removeBreakpoints(this.model.getBreakpoints().filter(function(t){return e.contains(t.source.uri,_.FileChangeType.DELETED)}))},t.prototype.store=function(){this.storageService.store(Z,JSON.stringify(this.model.getBreakpoints()),L.StorageScope.WORKSPACE),this.storageService.store(J,this.model.areBreakpointsActivated()?"true":"false",L.StorageScope.WORKSPACE),this.storageService.store(ee,JSON.stringify(this.model.getFunctionBreakpoints()),L.StorageScope.WORKSPACE),this.storageService.store(te,JSON.stringify(this.model.getExceptionBreakpoints()),L.StorageScope.WORKSPACE),this.storageService.store(ne,this.configurationManager.configurationName,L.StorageScope.WORKSPACE),this.storageService.store(ie,JSON.stringify(this.model.getWatchExpressions()),L.StorageScope.WORKSPACE)},t.prototype.dispose=function(){this.toDisposeOnSessionEnd=n.dispose(this.toDisposeOnSessionEnd),this.toDispose=n.dispose(this.toDispose)},t=g([m(0,L.IStorageService),m(1,q.IWorkbenchEditorService),m(2,U.ITextFileService),m(3,V.IViewletService),m(4,H.IPanelService),m(5,_.IFileService),m(6,w.IMessageService),m(7,z.IPartService),m(8,Y.IWindowService),m(9,I.ITelemetryService),m(10,j.IWorkspaceContextService),m(11,v.IKeybindingService),m(12,D.IEditorGroupService),m(13,C.IEventService),m(14,E.ILifecycleService),m(15,b.IInstantiationService),m(16,S.IExtensionService),m(17,y.IMarkerService),m(18,B.ITaskService),m(19,G.IConfigurationService)],t)}();t.DebugService=oe}),define(l[988],d([1,0,512,13,2,11,26,61,35,15,96,62,20,42,71,113,954,84,101,791,137,951,987,985,57,22,736,735]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L){"use strict";var D=b.IDebugService,k=function(e){function t(t,i,n,o){e.call(this,t,i,b.VIEWLET_ID,n,o)}return h(t,e),t.ID=b.VIEWLET_ID,t.LABEL=i.localize(0,null),t=g([m(2,A.IViewletService),m(3,L.IWorkbenchEditorService)],t)}(v.ToggleViewletAction);a.EditorBrowserRegistry.registerEditorContribution(T.DebugEditorContribution),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(C.ToggleBreakpointAction,C.ToggleBreakpointAction.ID,i.localize(1,null),{context:s.ContextKey.EditorTextFocus,primary:n.KeyCode.F9},"Debug: Toggle Breakpoint")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(C.ShowDebugHoverAction,C.ShowDebugHoverAction.ID,i.localize(2,null),{context:s.ContextKey.EditorTextFocus,kbExpr:p.KbExpr.and(p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE),p.KbExpr.has(r.KEYBINDING_CONTEXT_EDITOR_TEXT_FOCUS)),primary:n.KeyMod.chord(n.KeyMod.CtrlCmd|n.KeyCode.KEY_K,n.KeyMod.CtrlCmd|n.KeyCode.KEY_I)},"Debug: Show Hover")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(C.EditorConditionalBreakpointAction,C.EditorConditionalBreakpointAction.ID,i.localize(3,null),(void 0),"Debug: Conditional Breakpoint")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(C.SelectionToReplAction,C.SelectionToReplAction.ID,i.localize(4,null),(void 0),"Debug: Evaluate")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(C.SelectionToWatchExpressionsAction,C.SelectionToWatchExpressionsAction.ID,i.localize(5,null),(void 0),"Debug: Add to Watch")),s.CommonEditorRegistry.registerEditorAction(new s.EditorActionDescriptor(C.RunToCursorAction,C.RunToCursorAction.ID,i.localize(6,null),(void 0),"Debug: Run to Cursor")),u.Registry.as(v.Extensions.Viewlets).registerViewlet(new v.ViewletDescriptor("vs/workbench/parts/debug/browser/debugViewlet","DebugViewlet",b.VIEWLET_ID,i.localize(7,null),"debug",40));var x={primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_D};u.Registry.as(y.Extensions.Panels).registerPanel(new y.PanelDescriptor("vs/workbench/parts/debug/browser/repl","Repl",b.REPL_ID,i.localize(8,null),"repl")),u.Registry.as(y.Extensions.Panels).setDefaultPanelId(b.REPL_ID),b.DebugViewRegistry.registerDebugView(E.VariablesView,10),b.DebugViewRegistry.registerDebugView(E.WatchExpressionsView,20),b.DebugViewRegistry.registerDebugView(E.CallStackView,30),b.DebugViewRegistry.registerDebugView(E.BreakpointsView,40);var M=u.Registry.as(f.Extensions.WorkbenchActions);M.registerWorkbenchAction(new c.SyncActionDescriptor(k,k.ID,k.LABEL,x),"View: Show Debug",i.localize(9,null)),u.Registry.as(S.Extensions.Workbench).registerWorkbenchContribution(_.DebugEditorModelManager),u.Registry.as(S.Extensions.Workbench).registerWorkbenchContribution(w.DebugActionsWidget);var R=i.localize(10,null);M.registerWorkbenchAction(new c.SyncActionDescriptor(C.StartDebugAction,C.StartDebugAction.ID,C.StartDebugAction.LABEL,{primary:n.KeyCode.F5},p.KbExpr.not(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Start Debugging",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.StepOverDebugAction,C.StepOverDebugAction.ID,C.StepOverDebugAction.LABEL,{primary:n.KeyCode.F10},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Step Over",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.StepIntoDebugAction,C.StepIntoDebugAction.ID,C.StepIntoDebugAction.LABEL,{primary:n.KeyCode.F11},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE),d.KeybindingsRegistry.WEIGHT.workbenchContrib(1)),"Debug: Step Into",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.StepOutDebugAction,C.StepOutDebugAction.ID,C.StepOutDebugAction.LABEL,{primary:n.KeyMod.Shift|n.KeyCode.F11},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Step Out",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.StepBackDebugAction,C.StepBackDebugAction.ID,C.StepBackDebugAction.LABEL,{primary:n.KeyMod.Shift|n.KeyCode.F10},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Step Back",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.RestartDebugAction,C.RestartDebugAction.ID,C.RestartDebugAction.LABEL,{primary:n.KeyMod.Shift|n.KeyMod.CtrlCmd|n.KeyCode.F5},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Restart",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.StopDebugAction,C.StopDebugAction.ID,C.StopDebugAction.LABEL,{primary:n.KeyMod.Shift|n.KeyCode.F5},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Stop",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.ContinueAction,C.ContinueAction.ID,C.ContinueAction.LABEL,{primary:n.KeyCode.F5},p.KbExpr.has(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Continue",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.PauseAction,C.PauseAction.ID,C.PauseAction.LABEL),"Debug: Pause",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.ConfigureAction,C.ConfigureAction.ID,C.ConfigureAction.LABEL),"Debug: Open launch.json",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.ToggleReplAction,C.ToggleReplAction.ID,C.ToggleReplAction.LABEL,{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_Y}),"Debug: Debug Console",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.AddFunctionBreakpointAction,C.AddFunctionBreakpointAction.ID,C.AddFunctionBreakpointAction.LABEL),"Debug: Add Function Breakpoint",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.ReapplyBreakpointsAction,C.ReapplyBreakpointsAction.ID,C.ReapplyBreakpointsAction.LABEL),"Debug: Reapply All Breakpoints",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.RunAction,C.RunAction.ID,C.RunAction.LABEL,{primary:n.KeyMod.CtrlCmd|n.KeyCode.F5},p.KbExpr.not(b.CONTEXT_IN_DEBUG_MODE)),"Debug: Start Without Debugging",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.RemoveAllBreakpointsAction,C.RemoveAllBreakpointsAction.ID,C.RemoveAllBreakpointsAction.LABEL),"Debug: Remove All Breakpoints",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.EnableAllBreakpointsAction,C.EnableAllBreakpointsAction.ID,C.EnableAllBreakpointsAction.LABEL),"Debug: Enable All Breakpoints",R),M.registerWorkbenchAction(new c.SyncActionDescriptor(C.DisableAllBreakpointsAction,C.DisableAllBreakpointsAction.ID,C.DisableAllBreakpointsAction.LABEL),"Debug: Disable All Breakpoints",R),d.KeybindingsRegistry.registerCommandDesc({id:"_workbench.startDebug",weight:d.KeybindingsRegistry.WEIGHT.workbenchContrib(0),handler:function(e,t){var n=e.get(b.IDebugService);
if("string"==typeof t){var r=n.getConfigurationManager();return r.setConfiguration(t).then(function(){return r.configurationName?n.createSession(!1):o.TPromise.wrapError(new Error(i.localize(11,null,t)))})}var s=t&&!!t.noDebug;return n.createSession(s,t)},when:p.KbExpr.not(b.CONTEXT_IN_DEBUG_MODE),primary:void 0}),l.registerSingleton(D,I.DebugService)}),define(l[280],d([1,0,534,2,15,12,27,42,25,63,19,47,43,204,35,6,22,30,13,67,245]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";var w=o.Registry.as(_.Extensions.Configuration);w.registerConfiguration({id:"externalTerminal",order:100,title:i.localize(0,null),type:"object",properties:{"terminal.external.windowsExec":{type:"string",description:i.localize(1,null),"default":C.DEFAULT_TERMINAL_WINDOWS},"terminal.external.osxExec":{type:"string",description:i.localize(2,null),"default":C.DEFAULT_TERMINAL_OSX},"terminal.external.linuxExec":{type:"string",description:i.localize(3,null),"default":C.DEFAULT_TERMINAL_LINUX}}});var I=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.terminalService=n,this.editorService=o,this.contextService=r,this.order=49}return h(t,e),t.prototype.setResource=function(e){this.resource=e,this.enabled=!c.isUNC(this.resource.fsPath)},t.prototype.run=function(e){var t,i=this.contextService.getWorkspace();if(t=this.resource?this.resource.fsPath:i&&i.resource.fsPath,!t){var o=S.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);o&&(t=c.dirname(o.getResource().fsPath))}return this.terminalService.openTerminal(t),n.TPromise.as(null)},t.ID="workbench.action.terminal.openNativeConsole",t.Label=r.isWindows?i.localize(4,null):i.localize(5,null),t.ScopedLabel=r.isWindows?i.localize(6,null):i.localize(7,null),t=g([m(2,f.ITerminalService),m(3,E.IWorkbenchEditorService),m(4,p.IWorkspaceContextService)],t)}(s.Action);t.OpenConsoleAction=I;var T=function(e){function t(t){e.call(this),this.instantiationService=t}return h(t,e),t.prototype.hasSecondaryActions=function(e){return!!d.asFileResource(e.element)},t.prototype.getSecondaryActions=function(e){var t=d.asFileResource(e.element),i=t.resource;t.isDirectory||(i=l["default"].file(c.dirname(i.fsPath)));var n=this.instantiationService.createInstance(I,I.ID,I.ScopedLabel);return n.setResource(i),[n]},t=g([m(0,y.IInstantiationService)],t)}(u.ActionBarContributor),A=o.Registry.as(u.Extensions.Actionbar);A.registerActionBarContributor(u.Scope.VIEWER,T),o.Registry.as(a.Extensions.WorkbenchActions).registerWorkbenchAction(new v.SyncActionDescriptor(I,I.ID,I.Label,{primary:b.KeyMod.CtrlCmd|b.KeyMod.Shift|b.KeyCode.KEY_C}),"Open New Command Prompt")}),define(l[990],d([1,0,7,541,2,5,111,6,18,129,33,43,139,169,52]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f){"use strict";var v=function(){function e(e,t,n,o,r,s){this.instantiationService=e,this.extensionManagementService=t,this.messageService=n,this.registerListeners();var a=o.getOptions();a.extensionsToInstall&&a.extensionsToInstall.length&&this.install(a.extensionsToInstall).done(null,i.onUnexpectedError)}return e.prototype.registerListeners=function(){var e=this;f.ipcRenderer.on("vscode:installExtensions",function(t,n){n.extensionsToInstall&&e.install(n.extensionsToInstall).done(null,i.onUnexpectedError)})},e.prototype.install=function(e){var t=this;return o.Promise.join(e.map(function(e){return t.extensionManagementService.install(e)})).then(function(e){t.messageService.show(l["default"].Info,{message:e.length>1?n.localize(0,null):n.localize(1,null,e[0].displayName),actions:[t.instantiationService.createInstance(p.ReloadWindowAction,p.ReloadWindowAction.ID,n.localize(2,null))]})})},e.prototype.getId=function(){return"vs.extensions.workbenchextension"},e=g([m(0,a.IInstantiationService),m(1,s.IExtensionManagementService),m(2,c.IMessageService),m(3,d.IWorkspaceContextService),m(4,s.IExtensionTipsService),m(5,s.IExtensionGalleryService)],e)}();t.ExtensionsWorkbenchExtension=v;var y=function(){function e(e,t){this.activityService=e,this.extensionsWorkbenchService=t,t.onChange(this.onServiceChange,this,this.disposables)}return e.prototype.getId=function(){return"vs.extensions.statusupdater"},e.prototype.onServiceChange=function(){if(this.extensionsWorkbenchService.local.some(function(e){return e.state===u.ExtensionState.Installing}))return void this.activityService.showActivity(u.VIEWLET_ID,new h.ProgressBadge(function(){return n.localize(3,null)}),"extensions-badge progress-badge");var e=this.extensionsWorkbenchService.local.reduce(function(e,t){return e+(t.outdated?1:0)},0);if(e>0){var t=new h.NumberBadge(e,function(e){return n.localize(4,null,e)});this.activityService.showActivity(u.VIEWLET_ID,t,"extensions-badge count-badge")}else this.activityService.showActivity(u.VIEWLET_ID,null,"extensions-badge")},e.prototype.dispose=function(){this.disposables=r.dispose(this.disposables)},e=g([m(0,h.IActivityService),m(1,u.IExtensionsWorkbenchService)],e)}();t.StatusUpdater=y}),define(l[991],d([1,0,537,13,15,35,96,111,733,42,961,84,990,86,65,70,129,819,219,817,71,960,69,723]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,g,m,v,y,E,S,b,_){"use strict";s.registerSingleton(a.IExtensionGalleryService,c.ExtensionGalleryService),s.registerSingleton(a.IExtensionTipsService,l.ExtensionTipsService),s.registerSingleton(m.IExtensionsWorkbenchService,v.ExtensionsWorkbenchService),o.Registry.as(d.Extensions.Workbench).registerWorkbenchContribution(h.ExtensionsWorkbenchExtension),o.Registry.as(d.Extensions.Workbench).registerWorkbenchContribution(h.StatusUpdater),o.Registry.as(p.Extensions.OutputChannels).registerChannel(a.ExtensionsChannelId,a.ExtensionsLabel),o.Registry.as(_.Extensions.Quickopen).registerQuickOpenHandler(new _.QuickOpenHandlerDescriptor("vs/workbench/parts/extensions/electron-browser/extensionsQuickOpen","ExtensionsHandler","ext ",i.localize(0,null),(!0))),o.Registry.as(_.Extensions.Quickopen).registerQuickOpenHandler(new _.QuickOpenHandlerDescriptor("vs/workbench/parts/extensions/electron-browser/extensionsQuickOpen","GalleryExtensionsHandler","ext install ",i.localize(1,null),(!0)));var C=new f.EditorDescriptor(b.ExtensionEditor.ID,i.localize(2,null),"vs/workbench/parts/extensions/electron-browser/extensionEditor","ExtensionEditor");o.Registry.as(f.Extensions.Editors).registerEditor(C,[new g.SyncDescriptor(E.ExtensionsInput)]);var w=new S.ViewletDescriptor("vs/workbench/parts/extensions/electron-browser/extensionsViewlet","ExtensionsViewlet",m.VIEWLET_ID,i.localize(3,null),"extensions",100);o.Registry.as(S.Extensions.Viewlets).registerViewlet(w);var I=o.Registry.as(u.Extensions.WorkbenchActions),T=new r.SyncActionDescriptor(y.OpenExtensionsViewletAction,y.OpenExtensionsViewletAction.ID,y.OpenExtensionsViewletAction.LABEL,{primary:n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.KEY_X});I.registerWorkbenchAction(T,"View: Show Extensions",i.localize(4,null));var A=new r.SyncActionDescriptor(y.InstallExtensionsAction,y.InstallExtensionsAction.ID,y.InstallExtensionsAction.LABEL);I.registerWorkbenchAction(A,"Extensions: Install",a.ExtensionsLabel);var L=new r.SyncActionDescriptor(y.ListOutdatedExtensionsAction,y.ListOutdatedExtensionsAction.ID,y.ListOutdatedExtensionsAction.LABEL);I.registerWorkbenchAction(L,"Extensions: Show Outdated Extensions",a.ExtensionsLabel);var D=new r.SyncActionDescriptor(y.ShowExtensionRecommendationsAction,y.ShowExtensionRecommendationsAction.ID,y.ShowExtensionRecommendationsAction.LABEL);I.registerWorkbenchAction(D,"Extensions: "+y.ShowExtensionRecommendationsAction.LABEL,a.ExtensionsLabel);var k=new r.SyncActionDescriptor(y.ShowPopularExtensionsAction,y.ShowPopularExtensionsAction.ID,y.ShowPopularExtensionsAction.LABEL);I.registerWorkbenchAction(k,"Extensions: "+y.ShowPopularExtensionsAction.LABEL,a.ExtensionsLabel)}),define(l[992],d([1,0,542,31,295,21,43,710]),function(e,t,i,n,o,r,s){"use strict";var a;!function(e){e[e.SENDING=0]="SENDING",e[e.SENT=1]="SENT",e[e.SEND_ERROR=2]="SEND_ERROR"}(a||(a={}));var c=function(e){function t(t,o,r,s){e.call(this,t,{contextViewProvider:o.contextViewProvider,labelRenderer:function(e){return n.$(e).addClass("send-feedback"),null}}),this.telemetryService=r,this.contextService=s,this.$el.addClass("send-feedback"),this.$el.title(i.localize(0,null)),this.feedbackService=o.feedbackService,this.feedback="",this.sentiment=1,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.feedbackForm=null,this.feedbackDescriptionInput=null,this.smileyInput=null,this.frownyInput=null,this.sendButton=null;var a=s.getConfiguration().env;this.reportIssueLink=a.sendASmile.reportIssueUrl,this.requestFeatureLink=a.sendASmile.requestFeatureUrl}return h(t,e),t.prototype.renderContents=function(e){var t=this,o=n.$("form.feedback-form").attr({action:"javascript:void(0);",tabIndex:"-1"}).appendTo(e);n.$(e).addClass("monaco-menu-container"),this.feedbackForm=o.getHTMLElement(),n.$("h2.title").text(i.localize(1,null)).appendTo(o),this.invoke(n.$("div.cancel").attr("tabindex","0"),function(){t.hide()}).appendTo(o);var r=n.$("div.content").appendTo(o),s=n.$("div").appendTo(r);n.$("span").text(i.localize(2,null)).appendTo(s);var a=n.$("div.feedback-sentiment").appendTo(s);this.smileyInput=n.$("div").addClass("sentiment smile").attr({"aria-checked":"false","aria-label":i.localize(3,null),tabindex:0,role:"checkbox"}),this.invoke(this.smileyInput,function(){t.setSentiment(!0)}).appendTo(a),this.frownyInput=n.$("div").addClass("sentiment frown").attr({"aria-checked":"false","aria-label":i.localize(4,null),tabindex:0,role:"checkbox"}),this.invoke(this.frownyInput,function(){t.setSentiment(!1)}).appendTo(a),1===this.sentiment?this.smileyInput.addClass("checked").attr("aria-checked","true"):this.frownyInput.addClass("checked").attr("aria-checked","true");var c=n.$("div.contactus").appendTo(r);n.$("span").text(i.localize(5,null)).appendTo(c);var u=n.$("div.channels").appendTo(c);n.$("div").append(n.$("a").attr("target","_blank").attr("href",this.reportIssueLink).text(i.localize(6,null)).attr("tabindex","0")).appendTo(u),n.$("div").append(n.$("a").attr("target","_blank").attr("href",this.requestFeatureLink).text(i.localize(7,null)).attr("tabindex","0")).appendTo(u),this.remainingCharacterCount=n.$("span.char-counter").text(this.getCharCountText(0)),n.$("h3").text(i.localize(8,null)).append(this.remainingCharacterCount).appendTo(o),this.feedbackDescriptionInput=n.$("textarea.feedback-description").attr({rows:3,maxlength:this.maxFeedbackCharacters,"aria-label":i.localize(9,null)}).text(this.feedback).attr("required","required").on("keyup",function(){t.updateCharCountText()}).appendTo(o).domFocus().getHTMLElement();var l=n.$("div.form-buttons").appendTo(o);return this.sendButton=this.invoke(n.$("input.send").type("submit").attr("disabled","").value(i.localize(10,null)).appendTo(l),function(){t.isSendingFeedback||t.onSubmit()}),{dispose:function(){t.feedbackForm=null,t.feedbackDescriptionInput=null,t.smileyInput=null,t.frownyInput=null}}},t.prototype.getCharCountText=function(e){var t=this.maxFeedbackCharacters-e,n=1===t?i.localize(11,null):i.localize(12,null);return"("+t+" "+n+")"},t.prototype.updateCharCountText=function(){this.remainingCharacterCount.text(this.getCharCountText(this.feedbackDescriptionInput.value.length)),this.feedbackDescriptionInput.value?this.sendButton.removeAttribute("disabled"):this.sendButton.attr("disabled","")},t.prototype.setSentiment=function(e){e?(this.smileyInput.addClass("checked"),this.smileyInput.attr("aria-checked","true"),this.frownyInput.removeClass("checked"),this.frownyInput.attr("aria-checked","false")):(this.frownyInput.addClass("checked"),this.frownyInput.attr("aria-checked","true"),this.smileyInput.removeClass("checked"),this.smileyInput.attr("aria-checked","false")),this.sentiment=e?1:0,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.updateCharCountText(),n.$(this.feedbackDescriptionInput).attr({maxlength:this.maxFeedbackCharacters})},t.prototype.invoke=function(e,t){return e.on("click",t),e.on("keypress",function(e){if(e instanceof KeyboardEvent){var i=e;13!==i.keyCode&&32!==i.keyCode||t()}}),e},t.prototype.hide=function(){this.feedbackDescriptionInput&&(this.feedback=this.feedbackDescriptionInput.value),this.autoHideTimeout&&(clearTimeout(this.autoHideTimeout),this.autoHideTimeout=null),e.prototype.hide.call(this)},t.prototype.onEvent=function(e,t){if(e instanceof KeyboardEvent){var i=e;27===i.keyCode&&this.hide()}},t.prototype.onSubmit=function(){this.feedbackForm.checkValidity&&!this.feedbackForm.checkValidity()||(this.changeFormStatus(a.SENDING),this.feedbackService.submitFeedback({feedback:this.feedbackDescriptionInput.value,sentiment:this.sentiment}),this.changeFormStatus(a.SENT))},t.prototype.changeFormStatus=function(e){var t=this;switch(e){case a.SENDING:this.isSendingFeedback=!0,this.sendButton.setClass("send in-progress"),this.sendButton.value(i.localize(13,null));break;case a.SENT:this.isSendingFeedback=!1,this.sendButton.setClass("send success").value(i.localize(14,null)),this.resetForm(),this.autoHideTimeout=setTimeout(function(){t.hide()},1e3),this.sendButton.off(["click","keypress"]),this.invoke(this.sendButton,function(){t.hide(),t.sendButton.off(["click","keypress"])});break;case a.SEND_ERROR:this.isSendingFeedback=!1,this.sendButton.setClass("send error").value(i.localize(15,null))}},t.prototype.resetForm=function(){this.feedbackDescriptionInput&&(this.feedbackDescriptionInput.value=""),this.sentiment=1,this.maxFeedbackCharacters=this.feedbackService.getCharacterLimit(this.sentiment),this.aliasEnabled=!1},t=g([m(2,r.ITelemetryService),m(3,s.IWorkspaceContextService)],t)}(o.Dropdown);t.FeedbackDropdown=c}),define(l[993],d([1,0,992,51,6,32,52]),function(e,t,i,n,o,r,s){"use strict";var a=function(){function e(){}return e.prototype.combineHashTagsAsString=function(){return e.HASHTAGS.join(",")},e.prototype.submitFeedback=function(t){var i="?"+(1===t.sentiment?"hashtags="+this.combineHashTagsAsString()+"&":null)+"ref_src=twsrc%5Etfw&related=twitterapi%2Ctwitter&text="+t.feedback+"&tw_p=tweetbutton&via="+e.VIA_NAME,n=e.TWITTER_URL+i;s.shell.openExternal(n)},e.prototype.getCharacterLimit=function(t){var i=0;return 1===t&&e.HASHTAGS.forEach(function(e){i+=e.length+2}),e.VIA_NAME&&(i+=(" via @"+e.VIA_NAME).length),140-i},e.TWITTER_URL="https://twitter.com/intent/tweet",e.VIA_NAME="code",e.HASHTAGS=["HappyCoding"],e}(),c=function(){function e(e,t,i){this.instantiationService=e,this.contextViewService=t,this.contextService=i}return e.prototype.render=function(e){if(this.contextService.getConfiguration().env.sendASmile)return this.instantiationService.createInstance(i.FeedbackDropdown,e,{contextViewProvider:this.contextViewService,feedbackService:this.instantiationService.createInstance(a)})},e=g([m(0,o.IInstantiationService),m(1,n.IContextViewService),m(2,r.IWorkspaceContextService)],e)}();t.FeedbackStatusbarItem=c}),define(l[994],d([1,0,15,150,993]),function(e,t,i,n,o){"use strict";i.Registry.as(n.Extensions.Statusbar).registerStatusbarItem(new n.StatusbarItemDescriptor(o.FeedbackStatusbarItem,n.StatusbarAlignment.RIGHT,(-100)))}),define(l[116],d([1,0,2,15,17,25,58,76,9,85,65,149,34,47,143,43,6,5,28]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b){"use strict";var _=function(e){function t(t,i,n,o,r,a,c){e.call(this),this.eventService=o,this.instantiationService=r,this.contextService=a,this.textFileService=c,this.toUnbind=[],t&&(this.setResource(t),this.setMime(i||s.guessMimeTypes(this.resource.fsPath).join(", ")),this.preferredEncoding=n),this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener2(f.EventType.FILE_DIRTY,function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.eventService.addListener2(f.EventType.FILE_SAVE_ERROR,function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.eventService.addListener2(f.EventType.FILE_SAVED,function(t){return e.onDirtyStateChange(t)})),this.toUnbind.push(this.eventService.addListener2(f.EventType.FILE_REVERTED,function(t){return e.onDirtyStateChange(t)}))},t.prototype.onDirtyStateChange=function(e){e.resource.toString()===this.resource.toString()&&this._onDidChangeDirty.fire()},t.prototype.setResource=function(e){if("file"!==e.scheme)throw new Error("FileEditorInput can only handle file:// resources.");this.resource=e,this.name=null,this.description=null,this.verboseDescription=null},t.prototype.getResource=function(){return this.resource},t.prototype.getMime=function(){return this.mime},t.prototype.setMime=function(e){u.ok(e,"Editor input needs mime type"),this.mime=e},t.prototype.setPreferredEncoding=function(e){this.preferredEncoding=e},t.prototype.getEncoding=function(){var e=v.CACHE.get(this.resource);return e?e.getEncoding():this.preferredEncoding},t.prototype.setEncoding=function(e,t){this.preferredEncoding=e;var i=v.CACHE.get(this.resource);i&&i.setEncoding(e,t)},t.prototype.getTypeId=function(){return f.FILE_EDITOR_INPUT_ID},t.prototype.getName=function(){return this.name||(this.name=r.basename(this.resource.fsPath)),this.name},t.prototype.getDescription=function(e){return e?(this.verboseDescription||(this.verboseDescription=a.getPathLabel(this.resource.fsPath)),this.verboseDescription):(this.description||(this.description=a.getPathLabel(r.dirname(this.resource.fsPath),this.contextService)),this.description)},t.prototype.isDirty=function(){var e=v.CACHE.get(this.resource);if(!e)return!1;var t=e.getState();return t===f.ModelState.CONFLICT||t===f.ModelState.ERROR||this.textFileService.getAutoSaveMode()!==f.AutoSaveMode.AFTER_SHORT_DELAY&&e.isDirty()},t.prototype.confirmSave=function(){return this.textFileService.confirmSave([this.resource])},t.prototype.save=function(){return this.textFileService.save(this.resource)},t.prototype.revert=function(){return this.textFileService.revert(this.resource)},t.prototype.getPreferredEditorId=function(e){for(var t,i=n.Registry.as(l.Extensions.Editors),r=this.mime.split(","),s=0;s<r.length;s++)for(var a=c.trim(r[s]),u=0;u<e.length;u++)if(t=i.getEditorById(e[u]),o.isFunction(t.getMimeTypes))for(var d=t.getMimeTypes(),h=0;h<d.length;h++){var p=d[h];if(a===p)return t.getId();if(c.endsWith(p,"/*")&&c.startsWith(a,p.substring(0,p.length-1)))return t.getId()}return f.BINARY_FILE_EDITOR_ID},t.prototype.resolve=function(e){var n,r=this,s=this.resource.toString(),a=t.FILE_EDITOR_MODEL_CLIENTS[s];if(o.isUndefinedOrNull(a)?t.FILE_EDITOR_MODEL_CLIENTS[s]=[this]:this.indexOfClient()===-1&&t.FILE_EDITOR_MODEL_CLIENTS[s].push(this),t.FILE_EDITOR_MODEL_LOADERS[s])return t.FILE_EDITOR_MODEL_LOADERS[s];var c=v.CACHE.get(this.resource);return c&&!e?n=i.TPromise.as(c):c&&e?(n=c.load(),t.FILE_EDITOR_MODEL_LOADERS[s]=n):(n=this.createAndLoadModel(),t.FILE_EDITOR_MODEL_LOADERS[s]=n),n.then(function(e){return e instanceof v.TextFileEditorModel&&v.CACHE.add(r.resource,e),t.FILE_EDITOR_MODEL_LOADERS[s]=null,e},function(e){return t.FILE_EDITOR_MODEL_LOADERS[s]=null,i.TPromise.wrapError(e)})},t.prototype.indexOfClient=function(){var e=t.FILE_EDITOR_MODEL_CLIENTS[this.resource.toString()];if(e)for(var i=0;i<e.length;i++){var n=e[i];if(n===this)return i}return-1},t.prototype.createAndLoadModel=function(){var e=this,t=n.Registry.as(l.Extensions.Editors).getEditor(this);if(!t)throw new Error("Unable to find an editor in the registry for this input.");var o=this.instantiationService.createInstance(v.TextFileEditorModel,this.resource,this.preferredEncoding);return o.load().then(function(){return o},function(t){if(t.fileOperationResult===p.FileOperationResult.FILE_IS_BINARY||t.fileOperationResult===p.FileOperationResult.FILE_TOO_LARGE){o.dispose();var n=new d.BinaryEditorModel(e.resource,e.getName());return n.load()}return i.TPromise.wrapError(t)})},t.prototype.dispose=function(){S.dispose(this.toUnbind);var i=this.indexOfClient();i>=0&&t.FILE_EDITOR_MODEL_CLIENTS[this.resource.toString()].splice(i,1),e.prototype.dispose.call(this)},t.prototype.matches=function(i){return e.prototype.matches.call(this,i)===!0||!!i&&(i instanceof t&&i.resource.toString()===this.resource.toString())},t.getAll=function(e){var i=[],n=t.FILE_EDITOR_MODEL_CLIENTS;for(var o in n){var s=n[o];r.isEqualOrParent(o,e.toString())&&i.push.apply(i,s)}return i},t.FILE_EDITOR_MODEL_CLIENTS=Object.create(null),t.FILE_EDITOR_MODEL_LOADERS=Object.create(null),t=g([m(3,b.IEventService),m(4,E.IInstantiationService),m(5,y.IWorkspaceContextService),m(6,f.ITextFileService)],t)}(f.FileEditorInput);t.FileEditorInput=_}),define(l[128],d([1,0,2,545,12,16,58,25,19,7,9,66,76,33,239,104,27,106,5,64,47,34,88,30,116,148,143,87,22,71,44,50,57,39,56,28,6,18,32,13,704]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W,B,K,V,H){"use strict";function z(e){switch(e){case ee.ID:return new H.Keybinding(H.KeyMod.CtrlCmd|H.KeyCode.KEY_N);case q.ID:return new H.Keybinding(o.isMacintosh?H.KeyCode.Enter:H.KeyCode.F2);case Ce.ID:return new H.Keybinding(H.KeyMod.CtrlCmd|H.KeyCode.KEY_S);case ce.ID:case ae.ID:return new H.Keybinding(o.isMacintosh?H.KeyMod.CtrlCmd|H.KeyCode.Backspace:H.KeyCode.Delete);case he.ID:return new H.Keybinding(H.KeyMod.CtrlCmd|H.KeyCode.KEY_C);case pe.ID:return new H.Keybinding(H.KeyMod.CtrlCmd|H.KeyCode.KEY_V);case ge.ID:return o.isMacintosh?new H.Keybinding(H.KeyMod.WinCtrl|H.KeyCode.Enter):new H.Keybinding(H.KeyMod.CtrlCmd|H.KeyCode.Enter)}return null}function U(e,t,i){if(void 0===i&&(i=!1),t=G(t),!t||0===t.length||/^\s+$/.test(t))return n.localize(52,null);if(!i&&e.children&&e.children.some(function(e){return o.isLinux?e.name===t:e.name.toLowerCase()===t.toLowerCase()}))return n.localize(53,null,t);if(!a.isValidBasename(t))return n.localize(54,null,t);if(o.isWindows){var r=t.length+e.resource.fsPath.length+1;if(r>255)return n.localize(55,null,t)}return null}function G(e){return e?(e=l.trim(l.trim(e," "),"\t"),e=l.rtrim(e,".")):e}var j=function(e){function t(t,i,n,o,r,s,a,c){e.call(this,t,i),this._contextService=n,this._editorService=o,this._fileService=r,this._messageService=s,this._textFileService=a,this._eventService=c,this.enabled=!1}return h(t,e),Object.defineProperty(t.prototype,"contextService",{get:function(){return this._contextService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"messageService",{get:function(){return this._messageService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editorService",{get:function(){return this._editorService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fileService",{get:function(){return this._fileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventService",{get:function(){return this._eventService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFileService",{get:function(){return this._textFileService},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e},enumerable:!0,configurable:!0}),t.prototype._isEnabled=function(){return!0},t.prototype._updateEnablement=function(){this.enabled=!!(this._contextService&&this._fileService&&this._editorService&&this._isEnabled())},t.prototype.onError=function(e){this._messageService.show(K.Severity.Error,e)},t.prototype.onWarning=function(e){this._messageService.show(K.Severity.Warning,e)},t.prototype.onErrorWithRetry=function(e,t,i){var o=[K.CancelAction,new E.Action(this.id,n.localize(0,null),null,(!0),function(){return t()})];i&&o.push(i);var r={actions:o,message:u.toErrorMessage(e,!1)};this._messageService.show(K.Severity.Error,r)},t.prototype.handleDirty=function(){if(this.textFileService.isDirty(this._element.resource)){var e=this.textFileService.confirmSave([this._element.resource]);return e===T.ConfirmResult.SAVE?this.textFileService.save(this._element.resource).then(function(){return!1}):e===T.ConfirmResult.DONT_SAVE?this.textFileService.revert(this._element.resource).then(function(){return!1}):i.TPromise.as(!0)}return i.TPromise.as(!1)},t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService)],t)}(E.Action);t.BaseFileAction=j;var q=function(e){function t(i,o,r,s,a,c,u,l,d){e.call(this,t.ID,n.localize(1,null),r,s,a,c,u,l),this.tree=i,this.element=o,this.renameAction=d.createInstance($,o),this._updateEnablement()}return h(t,e),t.prototype.validateFileName=function(e,t){return this.renameAction.validateFileName(this.element.parent,t)},t.prototype.run=function(e){var t=this;if(!e)return i.TPromise.wrapError("No context provided to BaseEnableFileRenameAction.");var n=e.viewletState;if(!n)return i.TPromise.wrapError("Invalid viewlet state provided to BaseEnableFileRenameAction.");var o=e.stat;return o?(n.setEditable(o,{action:this.renameAction,validator:function(e){var i=t.validateFileName(t.element.parent,e);return i?{content:i,formatContent:!0,type:S.MessageType.ERROR}:null}}),void this.tree.refresh(o,!1).then(function(){t.tree.setHighlight(o);var e=t.tree.addListener2(d.EventType.HIGHLIGHT,function(i){i.highlight||(n.clearEditable(o),t.tree.refresh(o).done(null,u.onUnexpectedError),e.dispose())})}).done(null,u.onUnexpectedError)):i.TPromise.wrapError("Invalid stat provided to BaseEnableFileRenameAction.")},t.ID="workbench.files.action.triggerRename",t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService),m(8,B.IInstantiationService)],t)}(j);t.TriggerRenameFileAction=q;var Y=function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this,t,i,o,r,s,a,c,u),this.element=n}return h(t,e),t.prototype.run=function(e){var t=this;if(!e)return i.TPromise.wrapError("No context provided to BaseRenameFileAction.");var n=e.value;if(!n)return i.TPromise.wrapError("No new name provided to BaseRenameFileAction.");n=G(n);var o=G(this.element.name);if(n===o||this.validateFileName(this.element.parent,n))return i.TPromise.as(null);var r=this.runAction(n).then(function(e){e&&t.onSuccess(e)},function(e){t.onError(e)});return r},t.prototype.validateFileName=function(e,t){var i=this.element.name,n=t;return o.isLinux||(i=i.toLowerCase(),n=n.toLowerCase()),G(i)===G(n)?null:U(e,t,!1)},t.prototype.onSuccess=function(e){var t=null;this.element instanceof L.NewStatPlaceholder||(t=this.element.clone()),this.eventService.emit("files.internal:fileChanged",new C.LocalFileChangeEvent(t,e))},t=g([m(3,V.IWorkspaceContextService),m(4,x.IWorkbenchEditorService),m(5,w.IFileService),m(6,K.IMessageService),m(7,C.ITextFileService),m(8,W.IEventService)],t)}(j);t.BaseRenameAction=Y;var $=function(e){function t(i,o,r,s,a,c,u){e.call(this,t.ID,n.localize(2,null),i,o,r,s,a,c,u),this._updateEnablement()}return h(t,e),t.prototype.runAction=function(e){var t=this;return this.handleDirty().then(function(o){return o?i.TPromise.as(null):t.textFileService.isDirty(t.element.resource)?(t.onWarning(n.localize(3,null,p.getPathLabel(t.element.resource))),i.TPromise.as(null)):t.fileService.rename(t.element.resource,e).then(null,function(i){t.onErrorWithRetry(i,function(){return t.runAction(e)})})})},t.ID="workbench.files.action.renameFile",t=g([m(1,V.IWorkspaceContextService),m(2,x.IWorkbenchEditorService),m(3,w.IFileService),m(4,K.IMessageService),m(5,C.ITextFileService),m(6,W.IEventService)],t)}(Y);t.RenameFileAction=$;var X=function(e){function t(t,i,n,o,r,s,a,c,u,l,d,h){e.call(this,t,i,a,c,u,l,d,h),s&&(this.presetFolder=s.isDirectory?s:s.parent),this.tree=n,this.isFile=o,this.renameAction=r}return h(t,e),t.prototype.run=function(e){var t=this;if(!e)return i.TPromise.wrapError("No context provided to BaseNewAction.");var n=e.viewletState;if(!n)return i.TPromise.wrapError("Invalid viewlet state provided to BaseNewAction.");var o=this.presetFolder;if(!o){var r=this.tree.getFocus();o=r?r.isDirectory?r:r.parent:this.tree.getInput()}return o?this.tree.reveal(o,.5).then(function(){return t.tree.expand(o).then(function(){var e=L.NewStatPlaceholder.addNewStatPlaceholder(o,!t.isFile);return t.renameAction.element=e,n.setEditable(e,{action:t.renameAction,validator:function(e){var i=t.renameAction.validateFileName(o,e);return i?{content:i,formatContent:!0,type:S.MessageType.ERROR}:null}}),t.tree.refresh(o).then(function(){return t.tree.expand(o).then(function(){return t.tree.reveal(e,.5).then(function(){t.tree.setHighlight(e);var i=t.tree.addListener2(d.EventType.HIGHLIGHT,function(n){n.highlight||(e.destroy(),t.tree.refresh(o).done(null,u.onUnexpectedError),i.dispose())})})})})})}):i.TPromise.wrapError("Invalid parent folder to create.")},t=g([m(6,V.IWorkspaceContextService),m(7,x.IWorkbenchEditorService),m(8,w.IFileService),m(9,K.IMessageService),m(10,C.ITextFileService),m(11,W.IEventService)],t)}(j);t.BaseNewAction=X;var Q=function(e){function t(t,i,o,r,s,a,c,u,l){e.call(this,"workbench.action.files.newFile",n.localize(4,null),t,!0,l.createInstance(oe,i),null,o,r,s,a,c,u),this["class"]="explorer-action new-file",this._updateEnablement()}return h(t,e),t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService),m(8,B.IInstantiationService)],t)}(X);t.NewFileAction=Q;var Z=function(e){function t(t,i,o,r,s,a,c,u,l){e.call(this,"workbench.action.files.newFolder",n.localize(5,null),t,!1,l.createInstance(re,i),null,o,r,s,a,c,u),this["class"]="explorer-action new-folder",this._updateEnablement()}return h(t,e),t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService),m(8,B.IInstantiationService)],t)}(X);t.NewFolderAction=Z;var J=function(e){function t(t,i,n,o,r){e.call(this,t,i),this.viewletService=n,this.instantiationService=o,this.messageService=r}return h(t,e),t.prototype.run=function(){var e=this;return this.viewletService.openViewlet(C.VIEWLET_ID,!0).then(function(t){return i.TPromise.timeout(100).then(function(){t.focus();var i=t,o=i.getExplorerView();if(!o)return e.messageService.show(K.Severity.Info,n.localize(6,null));o.isExpanded()||o.expand();var r=e.toDispose=e.instantiationService.createInstance(e.getAction(),o.getViewer(),null);return i.getActionRunner().run(r)})})},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.toDispose&&(this.toDispose.dispose(),this.toDispose=null)},t=g([m(2,P.IViewletService),m(3,B.IInstantiationService),m(4,K.IMessageService)],t)}(E.Action);t.BaseGlobalNewAction=J;var ee=function(e){function t(t,i,n,o,r,s){e.call(this,t,i),this.storageService=n,this.editorService=o,this.textFileService=r,this.untitledEditorService=s}return h(t,e),t.prototype.run=function(){var e=this.untitledEditorService.createOrGet();return this.editorService.openEditor(e,T.EditorOptions.create({pinned:!0}))},t.ID="workbench.action.files.newUntitledFile",t.LABEL=n.localize(7,null),t=g([m(2,N.IStorageService),m(3,x.IWorkbenchEditorService),m(4,C.ITextFileService),m(5,k.IUntitledEditorService)],t)}(E.Action);t.GlobalNewUntitledFileAction=ee;var te=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getAction=function(){return Q},t.ID="workbench.action.files.newFile",t.LABEL=n.localize(8,null),t}(J);t.GlobalNewFileAction=te;var ie=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getAction=function(){return Z},t.ID="workbench.action.files.newFolder",t.LABEL=n.localize(9,null),t}(J);t.GlobalNewFolderAction=ie;var ne=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.validateFileName=function(t,i){return this.element instanceof L.NewStatPlaceholder?U(t,i,!1):e.prototype.validateFileName.call(this,t,i)},t}(Y);t.BaseCreateAction=ne;var oe=function(e){function t(i,n,o,r,s,a,c){e.call(this,t.ID,t.LABEL,i,n,o,r,s,a,c),this._updateEnablement()}return h(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFile(c["default"].file(a.join(this.element.parent.resource.fsPath,e))).then(null,function(i){
t.onErrorWithRetry(i,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFileFromExplorer",t.LABEL=n.localize(10,null),t=g([m(1,V.IWorkspaceContextService),m(2,x.IWorkbenchEditorService),m(3,w.IFileService),m(4,K.IMessageService),m(5,C.ITextFileService),m(6,W.IEventService)],t)}(ne);t.CreateFileAction=oe;var re=function(e){function t(i,n,o,r,s,a,c){e.call(this,t.ID,t.LABEL,null,n,o,r,s,a,c),this._updateEnablement()}return h(t,e),t.prototype.runAction=function(e){var t=this;return this.fileService.createFolder(c["default"].file(a.join(this.element.parent.resource.fsPath,e))).then(null,function(i){t.onErrorWithRetry(i,function(){return t.runAction(e)})})},t.ID="workbench.files.action.createFolderFromExplorer",t.LABEL=n.localize(11,null),t=g([m(1,V.IWorkspaceContextService),m(2,x.IWorkbenchEditorService),m(3,w.IFileService),m(4,K.IMessageService),m(5,C.ITextFileService),m(6,W.IEventService)],t)}(ne);t.CreateFolderAction=re;var se=function(e){function t(t,i,n,o,r,s,c,u,l,d,h){e.call(this,t,i,s,c,u,l,d,h),this.tree=n,this.element=o,this.useTrash=r&&!a.isUNC(o.resource.fsPath),this._updateEnablement()}return h(t,e),t.prototype.run=function(){var e=this;if(this.tree&&this.tree.clearHighlight(),!this.skipConfirm){var t;if(t=this.useTrash?{message:this.element.isDirectory?n.localize(12,null,this.element.name):n.localize(13,null,this.element.name),detail:o.isWindows?n.localize(14,null):n.localize(15,null),primaryButton:o.isWindows?n.localize(16,null):n.localize(17,null)}:{message:this.element.isDirectory?n.localize(18,null,this.element.name):n.localize(19,null,this.element.name),detail:n.localize(20,null),primaryButton:n.localize(21,null)},!this.messageService.confirm(t))return i.TPromise.as(null)}this.eventService.emit("files.internal:fileChanged",new C.LocalFileChangeEvent(this.element.clone(),null));var r=this.fileService.del(this.element.resource,this.useTrash).then(function(){e.element.parent&&e.tree.setFocus(e.element.parent)},function(t){var i;e.useTrash&&(i=new E.Action("permanentDelete",n.localize(22,null),null,(!0),function(){return e.useTrash=!1,e.skipConfirm=!0,e.run()})),e.onErrorWithRetry(t,function(){return e.run()},i);var o=new C.LocalFileChangeEvent(new L.FileStat(e.contextService.getWorkspace().resource,(!0),(!0)),new L.FileStat(e.contextService.getWorkspace().resource,(!0),(!0)));e.eventService.emit("files.internal:fileChanged",o),e.tree.DOMFocus()});return r},t=g([m(5,V.IWorkspaceContextService),m(6,x.IWorkbenchEditorService),m(7,w.IFileService),m(8,K.IMessageService),m(9,C.ITextFileService),m(10,W.IEventService)],t)}(j);t.BaseDeleteFileAction=se;var ae=function(e){function t(i,o,r,s,a,c,u,l){e.call(this,t.ID,n.localize(23,null),i,o,!0,r,s,a,c,u,l)}return h(t,e),t.ID="workbench.files.action.moveFileToTrash",t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService)],t)}(se);t.MoveFileToTrashAction=ae;var ce=function(e){function t(i,o,r,s,a,c,u,l){e.call(this,t.ID,n.localize(24,null),i,o,!1,r,s,a,c,u,l)}return h(t,e),t.ID="workbench.files.action.deleteFile",t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService)],t)}(se);t.DeleteFileAction=ce;var ue=function(e){function t(i,o,r,s,a,c,u,l,d){e.call(this,t.ID,n.localize(25,null),s,a,c,u,l,d),this.tree=i,this.element=o,r&&(this["class"]=r),this._updateEnablement()}return h(t,e),t.prototype.getViewer=function(){return this.tree},t.prototype.run=function(e){var t=this,s=i.TPromise.as(null).then(function(){var i=e.input;if(i.files&&i.files.length>0){var s;s=t.element?t.element:t.tree.getFocus()||t.tree.getInput(),s.isDirectory||(s=s.parent);for(var a=[],u=0;u<i.files.length;u++){var l=i.files[u];a.push(l)}return t.fileService.resolveFile(s.resource).then(function(i){var u={};i.children.forEach(function(e){u[o.isLinux?e.name:e.name.toLowerCase()]=e});var l=!0;if(a.some(function(e){return!!u[o.isLinux?e.name:e.name.toLowerCase()]})){var d={message:n.localize(26,null),detail:n.localize(27,null),primaryButton:n.localize(28,null)};l=t.messageService.confirm(d)}if(l){var h=[];return a.forEach(function(i){h.push(function(){var n=c["default"].file(i.path);return t.fileService.importFile(n,s.resource).then(function(n){if(n.stat){var r=u[o.isLinux?i.name:i.name.toLowerCase()];r&&r.resource.fsPath!==n.stat.resource.fsPath&&t.eventService.emit("files.internal:fileChanged",new C.LocalFileChangeEvent(r,null)),t.eventService.emit("files.internal:fileChanged",new le(n.stat,n.isNew,e.event))}},function(e){t.messageService.show(K.Severity.Error,e)})})}),r.sequence(h)}})}});return s.then(function(){t.tree.clearHighlight()},function(e){t.onError(e),t.tree.clearHighlight()})},t.ID="workbench.files.action.importFile",t=g([m(3,V.IWorkspaceContextService),m(4,x.IWorkbenchEditorService),m(5,w.IFileService),m(6,K.IMessageService),m(7,C.ITextFileService),m(8,W.IEventService)],t)}(j);t.ImportFileAction=ue;var le=function(e){function t(t,i,n){e.call(this,null,t,n),this.isNew=i}return h(t,e),t.prototype.gotAdded=function(){return this.isNew},t.prototype.gotMoved=function(){return!1},t.prototype.gotUpdated=function(){return!this.isNew},t.prototype.gotDeleted=function(){return!1},t}(C.LocalFileChangeEvent);t.FileImportedEvent=le;var de,he=function(e){function t(i,o,r,s,a,c,u,l){e.call(this,t.ID,n.localize(29,null),r,s,a,c,u,l),this.tree=i,this.element=o,this._updateEnablement()}return h(t,e),t.prototype.run=function(){return de=this.element,this.tree&&this.tree.clearHighlight(),this.tree.DOMFocus(),i.TPromise.as(null)},t.ID="workbench.files.action.copyFile",t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService)],t)}(j);t.CopyFileAction=he;var pe=function(e){function t(i,o,r,s,a,c,u,l,d){e.call(this,t.ID,n.localize(30,null),r,s,a,c,u,l),this.instantiationService=d,this.tree=i,this.element=o,this._updateEnablement()}return h(t,e),t.prototype._isEnabled=function(){if(!de)return!1;var e=this.tree.getInput(),t=e.find(de.resource);return t?this.element.resource.toString()===de.resource.toString()||!a.isEqualOrParent(this.element.resource.fsPath,de.resource.fsPath):(de=null,!1)},t.prototype.run=function(){var e,t=this;e=this.element.resource.toString()===de.resource.toString()?this.element.parent:this.element.isDirectory?this.element:this.element.parent;var i=this.instantiationService.createInstance(fe,this.tree,de,e);return i.run().then(function(){t.tree.DOMFocus()})},t.ID="workbench.files.action.pasteFile",t=g([m(2,V.IWorkspaceContextService),m(3,x.IWorkbenchEditorService),m(4,w.IFileService),m(5,K.IMessageService),m(6,C.ITextFileService),m(7,W.IEventService),m(8,B.IInstantiationService)],t)}(j);t.PasteFileAction=pe;var fe=function(e){function t(t,i,o,r,s,a,c,u,l){e.call(this,"workbench.files.action.duplicateFile",n.localize(31,null),r,s,a,c,u,l),this.tree=t,this.element=i,this.target=o&&o.isDirectory?o:i.parent,this._updateEnablement()}return h(t,e),t.prototype.run=function(){var e=this;this.tree&&this.tree.clearHighlight();var t=this.fileService.copyFile(this.element.resource,this.findTarget()).then(function(t){e.eventService.emit("files.internal:fileChanged",new C.LocalFileChangeEvent(null,t))},function(t){e.onError(t)});return t},t.prototype.onError=function(e){this.messageService.show(K.Severity.Error,e)},t.prototype.findTarget=function(){for(var e=this.tree.getInput(),t=this.element.name,i=c["default"].file(a.join(this.target.resource.fsPath,t));;){if(!e.find(i))break;t=this.toCopyName(t,this.element.isDirectory),i=c["default"].file(a.join(this.target.resource.fsPath,t))}return i},t.prototype.toCopyName=function(e,t){if(!t&&e.match(/(\d+)(\..*)$/))return e.replace(/(\d+)(\..*)$/,function(e,t,i){return parseInt(t)+1+i});var i=e.lastIndexOf(".");return!t&&i>=0?l.format("{0}.1{1}",e.substr(0,i),e.substr(i)):t&&e.match(/(\d+)$/)?e.replace(/(\d+)$/,function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return String(parseInt(t[0])+1)}):l.format("{0}.1",e)},t=g([m(3,V.IWorkspaceContextService),m(4,x.IWorkbenchEditorService),m(5,w.IFileService),m(6,K.IMessageService),m(7,C.ITextFileService),m(8,W.IEventService)],t)}(j);t.DuplicateFileAction=fe;var ge=function(e){function t(i,n,o,r){e.call(this,t.ID,t.LABEL),this.editorService=r,this.tree=i,this.preserveFocus=o,this.resource=n,this.updateEnablement()}return h(t,e),t.prototype.updateEnablement=function(){var e=this.editorService.getActiveEditor();this.enabled=!e||e.position!==F.Position.RIGHT},t.prototype.run=function(){return this.tree.clearHighlight(),this.editorService.openEditor({resource:this.resource,options:{preserveFocus:this.preserveFocus}},!0)},t.ID="workbench.files.action.openToSide",t.LABEL=n.localize(32,null),t=g([m(3,x.IWorkbenchEditorService)],t)}(E.Action);t.OpenToSideAction=ge;var me,ve=function(e){function t(t,i){e.call(this,"workbench.files.action.selectForCompare",n.localize(33,null)),this.tree=i,this.resource=t,this.enabled=!0}return h(t,e),t.prototype.run=function(){return me=this.resource,this.tree&&(this.tree.clearHighlight(),this.tree.DOMFocus()),i.TPromise.as(null)},t}(E.Action);t.SelectResourceForCompareAction=ve;var ye=function(e){function t(t,i,n,o,r,s,a,c){e.call(this,t,i),this.quickOpenService=n,this.instantiationService=o,this.editorService=r,this.editorGroupService=s,this.messageService=a,this.eventService=c}return h(t,e),t.prototype.run=function(){var e=this,t=T.asFileEditorInput(this.editorService.getActiveEditorInput());if(t){me=t.getResource();var o=this.editorGroupService.onEditorOpening(function(t){o.dispose();var i=T.asFileEditorInput(t.editorInput);if(i){var r=e.instantiationService.createInstance(Ee,i.getResource(),null);r._isEnabled()?(t.prevent(),r.run().done(function(){return r.dispose()})):e.messageService.show(K.Severity.Info,n.localize(35,null,a.basename(me.fsPath)))}});this.quickOpenService.show().then(function(){o.dispose()})}else this.messageService.show(K.Severity.Info,n.localize(36,null));return i.TPromise.as(!0)},t.ID="workbench.files.action.compareFileWith",t.LABEL=n.localize(34,null),t=g([m(2,O.IQuickOpenService),m(3,B.IInstantiationService),m(4,x.IWorkbenchEditorService),m(5,R.IEditorGroupService),m(6,K.IMessageService),m(7,W.IEventService)],t)}(E.Action);t.GlobalCompareResourcesAction=ye;var Ee=function(e){function t(i,n,o,r,s){e.call(this,"workbench.files.action.compareFiles",t.computeLabel()),this.contextService=o,this.instantiationService=r,this.editorService=s,this.tree=n,this.resource=i}return h(t,e),t.computeLabel=function(){return me?n.localize(37,null,a.basename(me.fsPath)):n.localize(38,null)},t.prototype.getLabel=function(){return t.computeLabel()},t.prototype._isEnabled=function(){if(!me)return!1;if(this.tree){var e=this.tree.getInput();if(e instanceof L.FileStat){var t=e.find(me);if(!t)return me=null,!1}}if(this.resource.toString()===me.toString())return!1;var i=s.guessMimeTypes(this.resource.fsPath).join(", "),n=s.guessMimeTypes(me.fsPath).join(", ");if(i===n)return!0;var o=s.isBinaryMime(i),r=s.isBinaryMime(n);return o===r},t.prototype.run=function(){this.tree&&this.tree.clearHighlight();var e=this.instantiationService.createInstance(A.FileEditorInput,me,void 0,void 0),t=this.instantiationService.createInstance(A.FileEditorInput,this.resource,void 0,void 0);return this.editorService.openEditor(new I.DiffEditorInput(I.toDiffLabel(me,this.resource,this.contextService),null,e,t))},t=g([m(2,V.IWorkspaceContextService),m(3,B.IInstantiationService),m(4,x.IWorkbenchEditorService)],t)}(E.Action);t.CompareResourcesAction=Ee;var Se=function(e){function t(t,i){e.call(this,"workbench.files.action.refreshExplorer",n.localize(39,null),i,!0,function(e){return t.refresh()})}return h(t,e),t}(E.Action);t.RefreshViewExplorerAction=Se;var be=function(e){function t(t,i,n){e.call(this,t,i),this.messageService=n}return h(t,e),t.prototype.run=function(e){var t=this;return this.doRun(e).then(function(){return!0},function(e){t.messageService.show(K.Severity.Error,u.toErrorMessage(e,!1))})},t}(E.Action);t.BaseActionWithErrorReporting=be;var _e=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,a),this.editorService=n,this.textFileService=o,this.untitledEditorService=r,this.instantiationService=s,this.enabled=!0}return h(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.doRun=function(e){var t,n=this;if(t=this.resource?this.resource:T.getUntitledOrFileResource(this.editorService.getActiveEditorInput(),!0)){if(this.isSaveAs()||"untitled"===t.scheme){var o;if("untitled"===t.scheme){var r=this.untitledEditorService.get(t).getMime();s.isUnspecific(r)||(o=[r,s.MIME_TEXT].join(", "))}var a;if("untitled"===t.scheme)a=this.untitledEditorService.get(t).getEncoding();else if("file"===t.scheme){var u=D.CACHE.get(t);a=u&&u.getEncoding()}var l,d=this.editorService.getActiveEditor();if(d instanceof y.BaseTextEditor){var h=T.getUntitledOrFileResource(d.input,!0);h&&h.toString()===t.toString()&&(l=d.getSelection())}var p=void 0;return p=!this.isSaveAs()&&"untitled"===t.scheme&&this.untitledEditorService.hasAssociatedFilePath(t)?this.textFileService.save(t).then(function(e){return e?c["default"].file(t.fsPath):null}):this.textFileService.saveAs(t),p.then(function(e){if(e&&e.toString()!==t.toString()){var i={resource:e,mime:o,encoding:a,options:{pinned:!0,selection:l}};return n.editorService.replaceEditors([{toReplace:{resource:t},replaceWith:i}]).then(function(){return!0})}})}return this.textFileService.save(t)}return i.TPromise.as(!1)},t=g([m(2,x.IWorkbenchEditorService),m(3,C.ITextFileService),m(4,k.IUntitledEditorService),m(5,B.IInstantiationService),m(6,K.IMessageService)],t)}(be);t.BaseSaveFileAction=_e;var Ce=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.isSaveAs=function(){return!1},t.ID="workbench.action.files.save",t.LABEL=n.localize(40,null),t}(_e);t.SaveFileAction=Ce;var we=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.isSaveAs=function(){return!0},t.ID="workbench.action.files.saveAs",t.LABEL=n.localize(41,null),t}(_e);t.SaveFileAsAction=we;var Ie=function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this,t,i,u),this.editorService=n,this.editorGroupService=o,this.textFileService=r,this.untitledEditorService=s,this.instantiationService=a,this.eventService=c,this.toDispose=[],this.lastIsDirty=this.textFileService.isDirty(),this.enabled=this.lastIsDirty,this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.eventService.addListener2(C.EventType.FILE_DIRTY,function(t){return e.updateEnablement(!0)})),this.toDispose.push(this.eventService.addListener2(C.EventType.FILE_SAVED,function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.eventService.addListener2(C.EventType.FILE_REVERTED,function(t){return e.updateEnablement(!1)})),this.toDispose.push(this.eventService.addListener2(C.EventType.FILE_SAVE_ERROR,function(t){return e.updateEnablement(!0)})),this.includeUntitled()&&(this.toDispose.push(this.eventService.addListener2(_.EventType.UNTITLED_FILE_DIRTY,function(){return e.updateEnablement(!0)})),this.toDispose.push(this.eventService.addListener2(_.EventType.UNTITLED_FILE_SAVED,function(){return e.updateEnablement(!1)})))},t.prototype.updateEnablement=function(e){this.lastIsDirty!==e&&(this.enabled=this.textFileService.isDirty(),this.lastIsDirty=this.enabled)},t.prototype.doRun=function(e){var t=this,i=this.editorGroupService.getStacksModel(),n=Object.create(null);return this.textFileService.getDirty().filter(function(e){return"untitled"===e.scheme}).map(function(e){return t.untitledEditorService.get(e)}).filter(function(e){return!!e}).forEach(function(e){n[e.getResource().toString()]={mime:e.getMime(),encoding:e.getEncoding(),indexInGroups:i.groups.map(function(t){return t.indexOf(e)}),activeInGroups:i.groups.map(function(t){return t.isActive(e)})}}),this.textFileService.saveAll(this.getSaveAllArguments(e)).then(function(e){var i=[];if(e.results.forEach(function(e){if(e.success&&"untitled"===e.source.scheme){var t=n[e.source.toString()];if(t){var o;s.isUnspecific(t.mime)||(o=[t.mime,s.MIME_TEXT].join(", ")),t.indexInGroups.forEach(function(n,r){n>=0&&i.push({input:{resource:e.target,mime:o,encoding:t.encoding,options:{pinned:!0,index:n,preserveFocus:!0,inactive:!t.activeInGroups[r]}},position:r})})}}}),i.length)return t.editorService.openEditors(i).then(function(){return!0})})},t.prototype.dispose=function(){this.toDispose=b.dispose(this.toDispose),e.prototype.dispose.call(this)},t=g([m(2,x.IWorkbenchEditorService),m(3,R.IEditorGroupService),m(4,C.ITextFileService),m(5,k.IUntitledEditorService),m(6,B.IInstantiationService),m(7,W.IEventService),m(8,K.IMessageService)],t)}(be);t.BaseSaveAllAction=Ie;var Te=function(e){function t(){e.apply(this,arguments)}return h(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.getSaveAllArguments=function(){return this.includeUntitled()},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.action.files.saveAll",t.LABEL=n.localize(42,null),t}(Ie);t.SaveAllAction=Te;var Ae=function(e){function t(){e.apply(this,arguments)}return h(t,e),Object.defineProperty(t.prototype,"class",{get:function(){return"explorer-action save-all"},enumerable:!0,configurable:!0}),t.prototype.getSaveAllArguments=function(e){if(!e)return this.includeUntitled();var t=e.group,i=[];return t.getEditors().forEach(function(e){(e instanceof A.FileEditorInput||e instanceof T.UntitledEditorInput)&&i.push(e.getResource())}),i},t.prototype.includeUntitled=function(){return!0},t.ID="workbench.files.action.saveAllInGroup",t.LABEL=n.localize(43,null),t}(Ie);t.SaveAllInGroupAction=Ae;var Le=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.getSaveAllArguments=function(){return this.includeUntitled()},t.prototype.includeUntitled=function(){return!1},t.ID="workbench.action.files.saveFiles",t.LABEL=n.localize(44,null),t}(Ie);t.SaveFilesAction=Le;var De=function(e){function t(t,i,n,o){e.call(this,t,i),this.editorService=n,this.textFileService=o,this.enabled=!0}return h(t,e),t.prototype.setResource=function(e){this.resource=e},t.prototype.run=function(){var e;if(this.resource)e=this.resource;else{var t=T.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);t&&(e=t.getResource())}return e&&"untitled"!==e.scheme?this.textFileService.revert(e,!0):i.TPromise.as(!0)},t.ID="workbench.action.files.revert",t.LABEL=n.localize(45,null),t=g([m(2,x.IWorkbenchEditorService),m(3,C.ITextFileService)],t)}(E.Action);t.RevertFileAction=De;var ke=function(e){function t(t,i,n){e.call(this,t,i),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(C.VIEWLET_ID,!0).then(function(e){var t=e.getOpenEditorsView();t&&(t.expand(),t.getViewer().DOMFocus())})},t.ID="workbench.files.action.focusOpenEditorsView",t.LABEL=n.localize(46,null),t=g([m(2,P.IViewletService)],t)}(E.Action);t.FocusOpenEditorsView=ke;var xe=function(e){function t(t,i,n){e.call(this,t,i),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(C.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&(t.expand(),t.getViewer().DOMFocus())})},t.ID="workbench.files.action.focusFilesExplorer",t.LABEL=n.localize(47,null),t=g([m(2,P.IViewletService)],t)}(E.Action);t.FocusFilesExplorer=xe;var Me=function(e){function t(t,i,n,o,r,s){e.call(this,t,i),this.editorService=n,this.viewletService=o,this.contextService=r,this.messageService=s}return h(t,e),t.prototype.run=function(){var e=this,t=T.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);return t?this.viewletService.openViewlet(C.VIEWLET_ID,!1).then(function(i){var n=e.contextService.isInsideWorkspace(t.getResource());if(n){var o=i.getExplorerView();o&&(o.expand(),o.select(t.getResource(),!0))}else{var r=i.getOpenEditorsView();r&&r.expand()}}):(this.messageService.show(f["default"].Info,n.localize(49,null)),i.TPromise.as(!0))},t.ID="workbench.files.action.showActiveFileInExplorer",t.LABEL=n.localize(48,null),t=g([m(2,x.IWorkbenchEditorService),m(3,P.IViewletService),m(4,V.IWorkspaceContextService),m(5,K.IMessageService)],t)}(E.Action);t.ShowActiveFileInExplorer=Me;var Re=function(e){function t(t,i,n){e.call(this,t,i),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(C.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();if(t){var i=t.getViewer();if(i){var n=new M.CollapseAction(i,(!0),null);n.run().done(),n.dispose()}}})},t.ID="workbench.files.action.collapseFilesExplorerFolders",t.LABEL=n.localize(50,null),t=g([m(2,P.IViewletService)],t)}(E.Action);t.CollapseExplorerView=Re;var Oe=function(e){function t(t,i,n){e.call(this,t,i),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(C.VIEWLET_ID,!0).then(function(e){var t=e.getExplorerView();t&&t.refresh()})},t.ID="workbench.files.action.refreshFilesExplorer",t.LABEL=n.localize(51,null),t=g([m(2,P.IViewletService)],t)}(E.Action);t.RefreshExplorerView=Oe,t.keybindingForAction=z,t.validateFileName=U,t.getWellFormedFileName=G;var Pe;Pe||(Pe=v.register("FileActionsDiagnostics",function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];console.log(e[1]+" - "+e[0]+" (time: "+e[2].getTime()+" ["+e[2].toUTCString()+"])")}))}),define(l[997],d([1,0,546,15,49,63,128,35,42,6,32,20,148,13]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f){"use strict";var v=function(e){function t(t,i,n){e.call(this),this.instantiationService=t,this.contextService=i,this.keybindingService=n}return h(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return t instanceof p.FileStat},t.prototype.getSecondaryActions=function(e){var t=e.element,i=e.viewer,n=[],r=!1;if(t.isDirectory||(n.push(this.instantiationService.createInstance(s.OpenToSideAction,i,t.resource,!1)),r=!0),r&&n.push(new o.Separator(null,50)),t.isDirectory)n.push(this.instantiationService.createInstance(s.NewFileAction,i,t)),n.push(this.instantiationService.createInstance(s.NewFolderAction,i,t)),n.push(new o.Separator(null,50));else if(!t.isDirectory){var a=this.instantiationService.createInstance(s.CompareResourcesAction,t.resource,i);a._isEnabled()&&n.push(a),n.push(this.instantiationService.createInstance(s.SelectResourceForCompareAction,t.resource,i)),n.push(new o.Separator(null,100))}var c=this.contextService.getWorkspace(),u=c&&t.resource.toString()===c.resource.toString();u||n.push(this.instantiationService.createInstance(s.CopyFileAction,i,t)),t.isDirectory&&n.push(this.instantiationService.createInstance(s.PasteFileAction,i,t)),u||(n.push(new o.Separator(null,150)),n.push(this.instantiationService.createInstance(s.TriggerRenameFileAction,i,t))),u||n.push(this.instantiationService.createInstance(s.MoveFileToTrashAction,i,t));for(var l=10,d=0;d<n.length;d++){var h=n[d];h.order?l=h.order:(l+=10,h.order=l)}return n},t.prototype.getActionItem=function(e,t){if(e&&e.element instanceof p.FileStat){var i=s.keybindingForAction(t.id);if(i)return new o.ActionItem(e,t,{label:!0,keybinding:this.keybindingService.getLabelFor(i)})}return null},t=g([m(0,u.IInstantiationService),m(1,l.IWorkspaceContextService),m(2,d.IKeybindingService)],t)}(r.ActionBarContributor),y=n.Registry.as(r.Extensions.Actionbar);y.registerActionBarContributor(r.Scope.VIEWER,v);var E=i.localize(0,null),S=n.Registry.as(c.Extensions.WorkbenchActions);S.registerWorkbenchAction(new a.SyncActionDescriptor(s.SaveFileAction,s.SaveFileAction.ID,s.SaveFileAction.LABEL,{primary:f.KeyMod.CtrlCmd|f.KeyCode.KEY_S}),"Files: Save",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.SaveAllAction,s.SaveAllAction.ID,s.SaveAllAction.LABEL),"Files: Save All",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.SaveFilesAction,s.SaveFilesAction.ID,null),null),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.RevertFileAction,s.RevertFileAction.ID,s.RevertFileAction.LABEL),"Files: Revert File",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.GlobalNewFileAction,s.GlobalNewFileAction.ID,s.GlobalNewFileAction.LABEL),"Files: New File",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.GlobalNewFolderAction,s.GlobalNewFolderAction.ID,s.GlobalNewFolderAction.LABEL),"Files: New Folder",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.GlobalCompareResourcesAction,s.GlobalCompareResourcesAction.ID,s.GlobalCompareResourcesAction.LABEL),"Files: Compare Active File With...",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.FocusOpenEditorsView,s.FocusOpenEditorsView.ID,s.FocusOpenEditorsView.LABEL,{primary:f.KeyMod.chord(f.KeyMod.CtrlCmd|f.KeyCode.KEY_K,f.KeyCode.KEY_E)}),"Files: Focus on Open Editors View",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.FocusFilesExplorer,s.FocusFilesExplorer.ID,s.FocusFilesExplorer.LABEL),"Files: Focus on Files Explorer",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.ShowActiveFileInExplorer,s.ShowActiveFileInExplorer.ID,s.ShowActiveFileInExplorer.LABEL),"Files: Show Active File in Explorer",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.CollapseExplorerView,s.CollapseExplorerView.ID,s.CollapseExplorerView.LABEL),"Files: Collapse Folders in Explorer",E),S.registerWorkbenchAction(new a.SyncActionDescriptor(s.RefreshExplorerView,s.RefreshExplorerView.ID,s.RefreshExplorerView.LABEL),"Files: Refresh Explorer",E)}),define(l[998],d([1,0,7,547,58,19,25,41,88,30,56,47,34,116,143,64,44,87,22,139,28,6,5,146]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I){"use strict";var T=function(){function e(e,t,i,n,o,r,s,a){this.eventService=e,this.editorService=t,this.activityService=i,this.textFileService=n,this.historyService=o,this.editorGroupService=r,this.instantiationService=s,this.untitledEditorService=a,this.toUnbind=[],this.stacks=r.getStacksModel(),this.pendingDirtyResources=[],this.registerListeners()}return e.prototype.getId=function(){return"vs.files.filetracker"},e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),this.toUnbind.push(this.eventService.addListener2(v.EventType.UNTITLED_FILE_SAVED,function(t){return e.onUntitledEditorSaved(t)})),this.toUnbind.push(this.eventService.addListener2(v.EventType.UNTITLED_FILE_DIRTY,function(t){return e.onUntitledEditorDirty(t)})),this.toUnbind.push(this.eventService.addListener2(d.EventType.FILE_DIRTY,function(t){return e.onTextFileDirty(t)})),this.toUnbind.push(this.eventService.addListener2(d.EventType.FILE_SAVE_ERROR,function(t){return e.onTextFileSaveError(t)})),this.toUnbind.push(this.eventService.addListener2(d.EventType.FILE_SAVED,function(t){return e.onTextFileSaved(t)})),this.toUnbind.push(this.eventService.addListener2(d.EventType.FILE_REVERTED,function(t){return e.onTextFileReverted(t)})),this.toUnbind.push(this.eventService.addListener2("files.internal:fileChanged",function(t){return e.onLocalFileChange(t)})),this.toUnbind.push(this.eventService.addListener2(h.EventType.FILE_CHANGES,function(t){return e.onFileChanges(t)}))},e.prototype.onEditorsChanged=function(){this.disposeUnusedTextFileModels()},e.prototype.onTextFileDirty=function(e){var t=this;this.textFileService.getAutoSaveMode()!==d.AutoSaveMode.AFTER_SHORT_DELAY&&this.updateActivityBadge(),this.pendingDirtyResources.push(e.resource),this.pendingDirtyHandle||(this.pendingDirtyHandle=setTimeout(function(){return t.doOpenDirtyResources()},250))},e.prototype.doOpenDirtyResources=function(){var e=this,t=a.distinct(this.pendingDirtyResources.filter(function(t){return!e.stacks.isOpen(t)&&e.textFileService.isDirty(t)}),function(e){return e.toString()});this.pendingDirtyHandle=void 0,this.pendingDirtyResources=[];var n=this.editorService.getActiveEditor(),o=n?n.position:l.Position.LEFT;this.editorService.openEditors(t.map(function(e){return{input:{resource:e,options:{inactive:!0,pinned:!0,preserveFocus:!0}},position:o}})).done(null,i.onUnexpectedError)},e.prototype.onTextFileSaveError=function(e){this.updateActivityBadge()},e.prototype.onTextFileSaved=function(e){this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.onTextFileReverted=function(e){this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.onUntitledEditorDirty=function(e){this.updateActivityBadge()},e.prototype.onUntitledEditorSaved=function(e){this.lastDirtyCount>0&&this.updateActivityBadge()},e.prototype.updateActivityBadge=function(){var e=this.textFileService.getDirty().length;this.lastDirtyCount=e,e>0?this.activityService.showActivity(d.VIEWLET_ID,new b.NumberBadge(e,function(t){return n.localize(0,null,e)}),"explorer-viewlet-label"):this.activityService.clearActivity(d.VIEWLET_ID)},e.prototype.onLocalFileChange=function(e){if(e.gotMoved()){var t=e.getBefore(),i=e.getAfter();this.handleMovedFileInVisibleEditors(t?t.resource:null,i?i.resource:null,i?i.mime:null)}var n=e.getBefore();(e.gotMoved()||e.gotDeleted())&&this.handleDelete(n.resource)},e.prototype.onFileChanges=function(t){var n=this,o=t.getDeleted();o&&o.length>0&&o.forEach(function(e){n.handleDelete(e.resource)}),t.getUpdated().map(function(e){return f.CACHE.get(e.resource)}).filter(function(t){var i=n.canDispose(t);return!!i&&!(Date.now()-t.getLastDirtyTime()<e.FILE_CHANGE_UPDATE_DELAY)}).forEach(function(e){return f.CACHE.dispose(e.getResource())});var r=this.editorService.getVisibleEditors();r.forEach(function(o){var r=o.input;if(r instanceof c.DiffEditorInput&&(r=n.getMatchingFileEditorInputFromDiff(r,t)),r instanceof p.FileEditorInput){var s=r,a=s.getResource();if(t.contains(a,h.FileChangeType.UPDATED)||t.contains(a,h.FileChangeType.ADDED)){var l=f.CACHE.get(a);if(l){var g=l.getState();if(g===d.ModelState.SAVED){var m=l.getLastDirtyTime();if(Date.now()-m>e.FILE_CHANGE_UPDATE_DELAY){var v=o.getControl(),y=v.saveViewState(),E=l.getLastModifiedTime();l.load().done(function(){l.getLastModifiedTime()!==E&&n.isEditorShowingPath(o,l.getResource())&&v.restoreViewState(y)},i.onUnexpectedError)}}}else if(o.getId()===d.BINARY_FILE_EDITOR_ID){var S=new u.EditorOptions;S.forceOpen=!0,S.preserveFocus=!0,n.editorService.openEditor(o.input,S,o.position).done(null,i.onUnexpectedError)}}}})},e.prototype.isEditorShowingPath=function(e,t){if(!e.isVisible())return!1;var i=e.getInput();return!!i&&(i instanceof c.DiffEditorInput&&(i=i.modifiedInput),i instanceof p.FileEditorInput&&i.getResource().toString()===t.toString())},e.prototype.handleMovedFileInVisibleEditors=function(e,t,n){var a=this,l=this.editorGroupService.getStacksModel(),d=this.editorService.getVisibleEditors();d.forEach(function(d){var h=l.groupAt(d.position),f=d.input;f instanceof c.DiffEditorInput&&(f=f.modifiedInput);var g;if(f instanceof p.FileEditorInput&&(g=f.getResource()),g){var m=!1;if(s.isEqualOrParent(g.fsPath,e.fsPath)&&(m=!0),m){var v=void 0;if(e.toString()===g.toString())v=t;else{var y=g.fsPath.indexOf(e.fsPath);v=r["default"].file(s.join(t.fsPath,g.fsPath.substr(y+e.fsPath.length+1)))}var E=void 0,S=new u.EditorOptions;S.preserveFocus=!0,S.pinned=h.isPinned(f),S.index=h.indexOf(f),f instanceof p.FileEditorInput&&(E=a.instantiationService.createInstance(p.FileEditorInput,v,n||o.MIME_UNKNOWN,void 0),a.editorService.openEditor(E,S,d.position).done(null,i.onUnexpectedError))}}})},e.prototype.getMatchingFileEditorInputFromDiff=function(e,t){var i=e.modifiedInput,n=this.getMatchingFileEditorInputFromInput(i,t);return n?n:this.getMatchingFileEditorInputFromInput(e.originalInput,t)},e.prototype.getMatchingFileEditorInputFromInput=function(e,t){if(e instanceof p.FileEditorInput)if(t instanceof r["default"]){var i=t;if(this.containsResource(e,i))return e}else{var n=t;if(n.contains(e.getResource(),h.FileChangeType.UPDATED))return e}return null},
e.prototype.handleDelete=function(e){var t=this;if(!this.textFileService.isDirty(e)){var i=p.FileEditorInput.getAll(e),n=this.historyService.getHistory();this.stacks.groups.forEach(function(e){return n.push.apply(n,e.getEditors())}),n.forEach(function(n){n instanceof c.DiffEditorInput?(n=t.getMatchingFileEditorInputFromDiff(n,e),n instanceof p.FileEditorInput&&i.push(n)):n instanceof p.FileEditorInput&&t.containsResource(n,e)&&i.push(n)}),i.forEach(function(e){t.historyService.remove(e),e.isDisposed()||e.dispose()}),f.CACHE.dispose(e)}},e.prototype.containsResource=function(e,t){var i;return e instanceof p.FileEditorInput&&(i=e.getResource()),!!s.isEqualOrParent(i.fsPath,t.fsPath)},e.prototype.disposeUnusedTextFileModels=function(){var e=this;f.CACHE.getAll().filter(function(t){return!e.stacks.isOpen(t.getResource())&&e.canDispose(t)}).forEach(function(e){return f.CACHE.dispose(e.getResource())})},e.prototype.canDispose=function(e){return!!e&&(!e.isDisposed()&&((!e.textEditorModel||!e.textEditorModel.isAttachedToEditor())&&e.getState()===d.ModelState.SAVED))},e.prototype.dispose=function(){w.dispose(this.toUnbind)},e.FILE_CHANGE_UPDATE_DELAY=2e3,e=g([m(0,_.IEventService),m(1,S.IWorkbenchEditorService),m(2,b.IActivityService),m(3,d.ITextFileService),m(4,I.IHistoryService),m(5,y.IEditorGroupService),m(6,C.IInstantiationService),m(7,E.IUntitledEditorService)],e)}();t.FileTracker=T}),define(l[999],d([1,0,2,549,7,25,27,19,58,130,88,116,128,34,22,28,47,6,18,32,45,38]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w){"use strict";var I=function(){function e(e,t,i){this.messageService=e,this.eventService=t,this.instantiationService=i,this.messages=Object.create(null),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.eventService.addListener2(E.EventType.FILE_SAVED,function(t){return e.onFileSavedOrReverted(t.resource)}),this.eventService.addListener2(E.EventType.FILE_REVERTED,function(t){return e.onFileSavedOrReverted(t.resource)})},e.prototype.onFileSavedOrReverted=function(e){var t=this.messages[e.toString()];t&&(t(),this.messages[e.toString()]=void 0)},e.prototype.onSaveError=function(e,t){var a,c=this,u=t.getResource();if(e.fileOperationResult===f.FileOperationResult.FILE_MODIFIED_SINCE)a=this.instantiationService.createInstance(L,t,null);else{var l=e.fileOperationResult===f.FileOperationResult.FILE_READ_ONLY,d=[];d.push(b.CancelAction),l?d.push(new s.Action("workbench.files.action.overwrite",n.localize(0,null),null,(!0),function(){return t.isDisposed()?i.TPromise.as(!0):t.save(!0).then(function(){return!0})})):d.push(new s.Action("workbench.files.action.retry",n.localize(1,null),null,(!0),function(){var e=c.instantiationService.createInstance(p.SaveFileAction,p.SaveFileAction.ID,p.SaveFileAction.LABEL);return e.setResource(u),e.run().then(function(){return e.dispose(),!0})})),d.push(new s.Action("workbench.files.action.discard",n.localize(2,null),null,(!0),function(){var e=c.instantiationService.createInstance(p.RevertFileAction,p.RevertFileAction.ID,p.RevertFileAction.LABEL);return e.setResource(u),e.run().then(function(){return e.dispose(),!0})})),d.push(new s.Action("workbench.files.action.saveAs",p.SaveFileAsAction.LABEL,null,(!0),function(){var e=c.instantiationService.createInstance(p.SaveFileAsAction,p.SaveFileAsAction.ID,p.SaveFileAsAction.LABEL);return e.setResource(u),e.run().then(function(){return e.dispose(),!0})}));var h=void 0;h=l?n.localize(3,null,r.basename(u.fsPath)):n.localize(4,null,r.basename(u.fsPath),o.toErrorMessage(e,!1)),a={message:h,actions:d}}this.messages[t.getResource().toString()]=this.messageService.show(b.Severity.Error,a)},e=g([m(0,b.IMessageService),m(1,y.IEventService),m(2,S.IInstantiationService)],e)}();t.SaveErrorHandler=I;var T=function(e){function t(t,i,n,o,r){e.call(this,i,n,o,r),this.model=t}return h(t,e),t.prototype.getModel=function(){return this.model},t.prototype.getTypeId=function(){return t.ID},t.ID="workbench.editors.files.conflictResolutionDiffEditorInput",t}(l.DiffEditorInput);t.ConflictResolutionDiffEditorInput=T;var A=function(e){function t(t,i,n,o,r,s,c,u,l){e.call(this,n,o,a["default"].from({scheme:"disk",path:t.fsPath}),r,c),this.modeService=s,this.fileService=u,this.textFileService=l,this.fileResource=t,this.mime=i}return h(t,e),t.prototype.getLastModified=function(){return this.lastModified},t.prototype.resolve=function(t){var i=this;return this.textFileService.resolveTextContent(this.fileResource).then(function(n){i.lastModified=n.mtime;var o=i.modelService.getModel(i.resource);return o?o.setValueFromRawText(n.value):(i.modelService.createModel(n.value,i.modeService.getOrCreateMode(i.mime),i.resource),i.createdEditorModel=!0),e.prototype.resolve.call(i,t)})},t.prototype.dispose=function(){this.createdEditorModel&&(this.modelService.destroyModel(this.resource),this.createdEditorModel=!1),e.prototype.dispose.call(this)},t=g([m(4,w.IModelService),m(5,C.IModeService),m(6,S.IInstantiationService),m(7,f.IFileService),m(8,E.ITextFileService)],t)}(u.ResourceEditorInput);t.FileOnDiskEditorInput=A;var L=function(){function e(e,t,o,a,u,l){var h=this;this.messageService=o,this.instantiationService=a,this.contextService=u,this.editorService=l,this.model=e;var p=e.getResource();t?this.message=t:this.message=n.localize(5,null,r.basename(p.fsPath)),this.actions=[new s.Action("workbench.files.action.resolveConflict",n.localize(6,null),null,(!0),function(){if(!h.model.isDisposed()){var e=c.guessMimeTypes(p.fsPath).join(", "),t=h.instantiationService.createInstance(A,p,e,r.basename(p.fsPath),p.fsPath),o=h.instantiationService.createInstance(d.FileEditorInput,p,e,void 0),s=h.instantiationService.createInstance(T,h.model,n.localize(7,null,o.getName(),h.contextService.getConfiguration().env.appName),n.localize(8,null,o.getDescription()),t,o);return h.editorService.openEditor(s).then(function(e){h.model.setConflictResolutionMode(),h.messageService.show(b.Severity.Info,{message:n.localize(9,null),actions:[h.instantiationService.createInstance(D,s,e.position),h.instantiationService.createInstance(k,s,e.position)]})})}return i.TPromise.as(!0)})]}return e=g([m(2,b.IMessageService),m(3,S.IInstantiationService),m(4,_.IWorkspaceContextService),m(5,v.IWorkbenchEditorService)],e)}(),D=function(e){function t(t,i,o,r,s){e.call(this,"workbench.files.action.acceptLocalChanges",n.localize(10,null),"conflict-editor-action accept-changes"),this.input=t,this.position=i,this.messageService=o,this.instantiationService=r,this.editorService=s,this.messagesToHide=[]}return h(t,e),t.prototype.run=function(){var e=this,t=this.input,i=t.getModel(),o=i.getValue();return t.resolve(!1).then(function(r){var s=t.originalInput.getLastModified();return i.revert().then(function(){var r=i.getLastModifiedTime();return r<=s?(i.textEditorModel.setValue(o),i.save().then(function(){for(;e.messagesToHide.length;)e.messagesToHide.pop()();var n=e.instantiationService.createInstance(d.FileEditorInput,i.getResource(),c.guessMimeTypes(i.getResource().fsPath).join(", "),void 0);return e.editorService.openEditor(n,null,e.position).then(function(){t.dispose()})})):(i.setConflictResolutionMode(),i.textEditorModel.setValue(o),t.originalInput.resolve(!0).then(function(){e.messagesToHide.push(e.messageService.show(b.Severity.Info,n.localize(11,null)))}))})})},t=g([m(2,b.IMessageService),m(3,S.IInstantiationService),m(4,v.IWorkbenchEditorService)],t)}(s.Action);t.AcceptLocalChangesAction=D;var k=function(e){function t(t,i,o,r){e.call(this,"workbench.action.files.revert",n.localize(12,null),"conflict-editor-action revert-changes"),this.input=t,this.position=i,this.instantiationService=o,this.editorService=r}return h(t,e),t.prototype.run=function(){var e=this,t=this.input,i=t.getModel();return i.revert().then(function(){var n=e.instantiationService.createInstance(d.FileEditorInput,i.getResource(),c.guessMimeTypes(i.getResource().fsPath).join(", "),void 0);return e.editorService.openEditor(n,null,e.position).then(function(){t.dispose()})})},t=g([m(2,S.IInstantiationService),m(3,v.IWorkbenchEditorService)],t)}(s.Action);t.RevertLocalChangesAction=k}),define(l[1e3],d([1,0,2,544,7,58,17,25,27,171,47,999,104,143,149,116,57,34,21,43,39,23,28,6,18,22,45,91]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k){"use strict";var x="editorViewState",M="textEditorViewState",R=function(e){function t(i,n,o,r,s,a,c,u,l,h,p,g){var m=this;e.call(this,t.ID,i,r,s,a,c,u,l,h,p,g),this.fileService=n,this.viewletService=o,f.TextFileEditorModel.setSaveErrorHandler(r.createInstance(d.SaveErrorHandler)),this.toUnbind.push(this.eventService.addListener2(S.EventType.FILE_CHANGES,function(e){return m.onFilesChanged(e)}))}return h(t,e),t.prototype.onFilesChanged=function(e){var t=e.getDeleted();t&&t.length&&this.clearTextEditorViewState(this.storageService,t.map(function(e){return e.resource.toString()}))},t.prototype.getTitle=function(){return this.getInput()?this.getInput().getName():n.localize(0,null)},t.prototype.setInput=function(t,u){var l=this,d=this.getInput();e.prototype.setInput.call(this,t,u);var h=u&&u.forceOpen;return!h&&t.matches(d)?(u&&s.isFunction(u.apply)&&u.apply(this.getControl()),i.TPromise.as(null)):(d&&this.saveTextEditorViewState(this.storageService,d.getResource().toString()),this.editorService.resolveEditorModel(t,!0).then(function(e){if(e instanceof v.BinaryEditorModel&&l.openAsBinary(t,u))return null;if(!(e instanceof f.TextFileEditorModel))return i.TPromise.wrapError("Invalid editor input. Text file editor requires a model instance of TextFileEditorModel.");var n=e,o=l.getControl();if(!n.textEditorModel)return i.TPromise.wrapError("Unable to open the file because the associated text model is undefined.");if(!l.getInput()||l.getInput().getResource().toString()!==n.getResource().toString())return null;var r=n.textEditorModel.getMode(),a=l.telemetryService.timedPublicLog("editorSetModel",{mode:r&&r.getId(),resource:n.textEditorModel.uri.toString()});o.setModel(n.textEditorModel),a.stop();var c=!1;if(u&&s.isFunction(u.apply)&&(c=u.apply(o)),!c){var d=l.loadTextEditorViewState(l.storageService,l.getInput().getResource().toString());d&&o.restoreViewState(d)}},function(e){if(!(e.fileOperationResult===S.FileOperationResult.FILE_IS_BINARY&&l.openAsBinary(t,u)||e.fileOperationResult===S.FileOperationResult.FILE_IS_DIRECTORY&&l.openAsFolder(t)))return e.fileOperationResult===S.FileOperationResult.FILE_NOT_FOUND&&a.isValidBasename(a.basename(t.getResource().fsPath))?i.TPromise.wrapError(o.create(o.toErrorMessage(e),{actions:[A.CancelAction,new c.Action("workbench.files.action.createMissingFile",n.localize(1,null),null,(!0),function(){return l.fileService.updateContent(t.getResource(),"").then(function(){return l.editorService.openEditor({resource:t.getResource(),mime:r.MIME_TEXT,options:{pinned:!0}})})})]})):i.TPromise.wrapError(e)}))},t.prototype.openAsBinary=function(e,t){if(e instanceof y.FileEditorInput){var i=e,n=this.instantiationService.createInstance(y.FileEditorInput,i.getResource(),r.MIME_BINARY,void 0);return this.editorService.openEditor(n,t,this.position).done(null,o.onUnexpectedError),!0}return!1},t.prototype.openAsFolder=function(e){var t=this;return this.editorService.closeEditor(this.position,this.input).done(function(){if(e instanceof y.FileEditorInput){var i=e;t.contextService.isInsideWorkspace(i.getResource())&&t.viewletService.openViewlet(l.VIEWLET_ID,!0).done(function(e){return e.getExplorerView().select(i.getResource(),!0)},o.onUnexpectedError)}},o.onUnexpectedError),!0},t.prototype.getCodeEditorOptions=function(){var t=e.prototype.getCodeEditorOptions.call(this),i=this.getInput(),o=i&&i.getName();return t.ariaLabel=o?n.localize(2,null,o):n.localize(3,null),t},t.prototype.saveTextEditorViewState=function(e,t){var i=this.getMemento(e,u.Scope.WORKSPACE),n=i[M];n||(n=Object.create(null),i[M]=n);var o=this.getControl().saveViewState(),r=n[t];r||(r=Object.create(null),n[t]=r),"number"==typeof this.position&&(r[this.position]=o)},t.prototype.clearTextEditorViewState=function(e,t){var i=this.getMemento(e,u.Scope.WORKSPACE),n=i[M];n&&t.forEach(function(e){return delete n[e]})},t.prototype.loadTextEditorViewState=function(e,t){var i=this.getMemento(e,u.Scope.WORKSPACE),n=i[M];if(n){var o=n[t];if(o)return o[this.position]}var r=i[x];return r?r[t]:null},t.prototype.clearInput=function(){this.input&&this.saveTextEditorViewState(this.storageService,this.input.getResource().toString()),this.getControl().setModel(null),e.prototype.clearInput.call(this)},t.prototype.shutdown=function(){this.input&&this.saveTextEditorViewState(this.storageService,this.input.getResource().toString()),e.prototype.shutdown.call(this)},t.ID=l.TEXT_FILE_EDITOR_ID,t=g([m(0,b.ITelemetryService),m(1,S.IFileService),m(2,E.IViewletService),m(3,T.IInstantiationService),m(4,_.IWorkspaceContextService),m(5,C.IStorageService),m(6,A.IMessageService),m(7,w.IConfigurationService),m(8,I.IEventService),m(9,L.IWorkbenchEditorService),m(10,D.IModeService),m(11,k.IThemeService)],t)}(p.BaseTextEditor);t.TextFileEditor=R}),define(l[1001],d([1,0,19,71,548,35,15,67,42,84,65,821,34,47,998,825,116,1e3,871,70,57,22,13,12,694]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T){"use strict";var A=function(e){function t(t,i,n,o){e.call(this,t,i,f.VIEWLET_ID,n,o)}return h(t,e),t.ID=f.VIEWLET_ID,t.LABEL=o.localize(0,null),t=g([m(2,C.IViewletService),m(3,w.IWorkbenchEditorService)],t)}(n.ToggleViewletAction);t.OpenExplorerViewletAction=A,s.Registry.as(n.Extensions.Viewlets).registerViewlet(new n.ViewletDescriptor("vs/workbench/parts/files/browser/explorerViewlet","ExplorerViewlet",f.VIEWLET_ID,o.localize(1,null),"explore",0)),s.Registry.as(n.Extensions.Viewlets).setDefaultViewletId(f.VIEWLET_ID);var L={primary:I.KeyMod.CtrlCmd|I.KeyMod.Shift|I.KeyCode.KEY_E},D=s.Registry.as(c.Extensions.WorkbenchActions);D.registerWorkbenchAction(new r.SyncActionDescriptor(A,A.ID,A.LABEL,L),"View: Show Explorer",o.localize(2,null)),s.Registry.as(l.Extensions.Editors).registerEditor(new d.FileEditorDescriptor(S.TextFileEditor.ID,o.localize(3,null),"vs/workbench/parts/files/browser/editors/textFileEditor","TextFileEditor",["text/*","application/unknown"]),[new _.SyncDescriptor(E.FileEditorInput)]),s.Registry.as(l.Extensions.Editors).registerEditor(new d.FileEditorDescriptor(b.BinaryFileEditor.ID,o.localize(4,null),"vs/workbench/parts/files/browser/editors/binaryFileEditor","BinaryFileEditor",["image/*","application/pdf","audio/*","video/*","application/octet-stream"]),[new _.SyncDescriptor(E.FileEditorInput)]);var k=new _.AsyncDescriptor("vs/workbench/parts/files/browser/editors/fileEditorInput","FileEditorInput",(void 0),(void 0),(void 0));s.Registry.as(l.Extensions.Editors).registerDefaultFileInput(k);var x=function(){function e(){}return e.prototype.serialize=function(e){var t=e,i={resource:t.getResource().toString()};return JSON.stringify(i)},e.prototype.deserialize=function(e,t){var n=JSON.parse(t);return e.createInstance(E.FileEditorInput,i["default"].parse(n.resource),void 0,void 0)},e}();s.Registry.as(l.Extensions.Editors).registerEditorInputFactory(f.FILE_EDITOR_INPUT_ID,x),s.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(v.FileTracker),s.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(y.SaveParticipant);var M=s.Registry.as(a.Extensions.Configuration);M.registerConfiguration({id:"files",order:9,title:o.localize(5,null),type:"object",properties:{"files.exclude":{type:"object",description:o.localize(6,null),"default":{"**/.git":!0,"**/.svn":!0,"**/.DS_Store":!0},additionalProperties:{anyOf:[{type:"boolean",description:o.localize(7,null)},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*","default":"$(basename).ext",description:o.localize(8,null)}}}]}},"files.associations":{type:"object",description:o.localize(9,null)},"files.encoding":{type:"string","enum":Object.keys(p.SUPPORTED_ENCODINGS),"default":"utf8",description:o.localize(10,null)},"files.eol":{type:"string","enum":["\n","\r\n"],"default":T.isLinux||T.isMacintosh?"\n":"\r\n",description:o.localize(11,null)},"files.trimTrailingWhitespace":{type:"boolean","default":!1,description:o.localize(12,null)},"files.autoSave":{type:"string","enum":[p.AutoSaveConfiguration.OFF,p.AutoSaveConfiguration.AFTER_DELAY,p.AutoSaveConfiguration.ON_FOCUS_CHANGE],"default":p.AutoSaveConfiguration.OFF,description:o.localize(13,null,p.AutoSaveConfiguration.OFF,p.AutoSaveConfiguration.AFTER_DELAY,p.AutoSaveConfiguration.ON_FOCUS_CHANGE,p.AutoSaveConfiguration.AFTER_DELAY)},"files.autoSaveDelay":{type:"number","default":1e3,description:o.localize(14,null,p.AutoSaveConfiguration.AFTER_DELAY)},"files.watcherExclude":{type:"object","default":T.isLinux||T.isMacintosh?{"**/.git/objects/**":!0,"**/node_modules/**":!0}:{"**/.git/objects/**":!0},description:o.localize(15,null)}}}),M.registerConfiguration({id:"explorer",order:10,title:o.localize(16,null),type:"object",properties:{"explorer.openEditors.visible":{type:"number",description:o.localize(17,null),"default":9},"explorer.openEditors.dynamicHeight":{type:"boolean",description:o.localize(18,null),"default":!0},"explorer.autoReveal":{type:"boolean",description:o.localize(19,null),"default":!0}}})}),define(l[1002],d([1,0,2,7,24,116,143,47,43,34,6,28,23,21,5,22,44,327,38]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S){"use strict";var b=function(){function e(e,t,i,n,r,s,c,u,l){this.contextService=e,this.instantiationService=t,this.configurationService=i,this.telemetryService=n,this.editorService=r,this.editorGroupService=s,this.eventService=c,this.fileService=u,this.modelService=l,this.serviceId=a.ITextFileService,this.listenerToUnbind=[],this._onAutoSaveConfigurationChange=new o.Emitter}return e.prototype.init=function(){this.registerListeners();var e=this.configurationService.getConfiguration();this.onConfigurationChange(e),this.telemetryService.publicLog("autoSave",this.getAutoSaveConfiguration())},e.prototype.resolveTextContent=function(e,t){var i=this;return this.fileService.resolveStreamContent(e,t).then(function(e){return E.ModelBuilder.fromStringStream(e.value,i.modelService.getCreationOptions()).then(function(t){var i={resource:e.resource,name:e.name,mtime:e.mtime,etag:e.etag,mime:e.mime,encoding:e.encoding,value:t.rawText,valueLogicalHash:t.hash};return i})})},Object.defineProperty(e.prototype,"onAutoSaveConfigurationChange",{get:function(){return this._onAutoSaveConfigurationChange.event},enumerable:!0,configurable:!0}),e.prototype.registerListeners=function(){var e=this;this.listenerToUnbind.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationChange(t.config)})),window.addEventListener("blur",function(){return e.onEditorsChanged()},!0),this.listenerToUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()}))},e.prototype.onEditorsChanged=function(){this.configuredAutoSaveOnFocusChange&&this.getDirty().length&&this.saveAll().done(null,n.onUnexpectedError)},e.prototype.onConfigurationChange=function(e){var t=this.getAutoSaveMode()!==a.AutoSaveMode.OFF,i=e&&e.files&&e.files.autoSave||u.AutoSaveConfiguration.OFF;switch(i){case u.AutoSaveConfiguration.AFTER_DELAY:this.configuredAutoSaveDelay=e&&e.files&&e.files.autoSaveDelay,this.configuredAutoSaveOnFocusChange=!1;break;case u.AutoSaveConfiguration.ON_FOCUS_CHANGE:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!0;break;default:this.configuredAutoSaveDelay=void 0,this.configuredAutoSaveOnFocusChange=!1}this._onAutoSaveConfigurationChange.fire(this.getAutoSaveConfiguration()),t||this.getAutoSaveMode()===a.AutoSaveMode.OFF||this.saveAll().done(null,n.onUnexpectedError)},e.prototype.getDirty=function(e){return this.getDirtyFileModels(e).map(function(e){return e.getResource()})},e.prototype.isDirty=function(e){return s.CACHE.getAll(e).some(function(e){return e.isDirty()})},e.prototype.save=function(e){return this.saveAll([e]).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.saveAll=function(e){var t=this.getDirtyFileModels(Array.isArray(e)?e:void 0),n=Object.create(null);return t.forEach(function(e){n[e.getResource().toString()]={source:e.getResource()}}),i.TPromise.join(t.map(function(e){return e.save().then(function(){e.isDirty()||(n[e.getResource().toString()].success=!0)})})).then(function(e){return{results:Object.keys(n).map(function(e){return n[e]})}})},e.prototype.getFileModels=function(e){var t=this;if(Array.isArray(e)){var i=[];return e.forEach(function(e){i.push.apply(i,t.getFileModels(e))}),i}return s.CACHE.getAll(e)},e.prototype.getDirtyFileModels=function(e){return this.getFileModels(e).filter(function(e){return e.isDirty()})},e.prototype.confirmSave=function(e){throw new Error("Unsupported")},e.prototype.revert=function(e,t){return this.revertAll([e],t).then(function(e){return 1===e.results.length&&e.results[0].success})},e.prototype.revertAll=function(e,t){var n=t?this.getFileModels(e):this.getDirtyFileModels(e),o=Object.create(null);return n.forEach(function(e){o[e.getResource().toString()]={source:e.getResource()}}),i.TPromise.join(n.map(function(e){return e.revert().then(function(){e.isDirty()||(o[e.getResource().toString()].success=!0)},function(t){if(t.fileOperationResult!==u.FileOperationResult.FILE_NOT_FOUND)return i.TPromise.wrapError(t);var n=r.FileEditorInput.getAll(e.getResource());n.forEach(function(e){return e.dispose()}),s.CACHE.dispose(e.getResource()),o[e.getResource().toString()].success=!0})})).then(function(e){return{results:Object.keys(o).map(function(e){return o[e]})}})},e.prototype.getAutoSaveMode=function(){return this.configuredAutoSaveOnFocusChange?a.AutoSaveMode.ON_FOCUS_CHANGE:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay<=1e3?a.AutoSaveMode.AFTER_SHORT_DELAY:a.AutoSaveMode.AFTER_LONG_DELAY:a.AutoSaveMode.OFF},e.prototype.getAutoSaveConfiguration=function(){return{autoSaveDelay:this.configuredAutoSaveDelay&&this.configuredAutoSaveDelay>0?this.configuredAutoSaveDelay:void 0,autoSaveFocusChange:this.configuredAutoSaveOnFocusChange}},e.prototype.dispose=function(){this.listenerToUnbind=f.dispose(this.listenerToUnbind),s.CACHE.clear()},e=g([m(0,c.IWorkspaceContextService),m(1,l.IInstantiationService),m(2,h.IConfigurationService),m(3,p.ITelemetryService),m(4,v.IWorkbenchEditorService),m(5,y.IEditorGroupService),m(6,d.IEventService),m(7,u.IFileService),m(8,S.IModelService)],e)}();t.TextFileService=b}),define(l[241],d([1,0,2,552,5,29,10,19,58,16,25,7,17,27,277,106,31,12,124,63,47,34,116,128,30,217,76,216,81,395,148,22,55,43,20,51,28,6,18,156,21,13,35,194]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W,B,K,V,H,z,U,G,j){"use strict";var q=function(){function e(e,t,i,n,o){this.progressService=e,this.messageService=t,this.fileService=i,this.partService=n,this.workspace=o.getWorkspace()}return e.prototype.getId=function(e,t){return t.getId()},e.prototype.hasChildren=function(e,t){return t.isDirectory},e.prototype.getChildren=function(e,t){var n=this;if(t.isDirectoryResolved)return i.TPromise.as(t.children);var o=this.fileService.resolveFile(t.resource,{resolveSingleChildDescendants:!0}).then(function(e){for(var i=R.FileStat.create(e),n=0;n<i.children.length;n++)t.addChild(i.children[n]);return t.isDirectoryResolved=!0,t.children},function(e){return n.messageService.show(V.Severity.Error,e),[]});return this.progressService.showWhile(o,this.partService.isCreated()?800:3200),o},e.prototype.getParent=function(e,t){return t?this.workspace&&t.resource.toString()===this.workspace.resource.toString()?i.TPromise.as(null):t.parent?i.TPromise.as(t.parent):i.TPromise.as(null):i.TPromise.as(null)},e=g([m(0,H.IProgressService),m(1,V.IMessageService),m(2,w.IFileService),m(3,P.IPartService),m(4,N.IWorkspaceContextService)],e)}();t.FileDataSource=q;var Y=function(e){function t(t){e.call(this),this.state=t}return h(t,e),t.prototype.hasActions=function(t,i){return!(i instanceof R.NewStatPlaceholder)&&e.prototype.hasActions.call(this,t,i)},t.prototype.getActions=function(t,n){return n instanceof R.NewStatPlaceholder?i.TPromise.as([]):e.prototype.getActions.call(this,t,n)},t.prototype.hasSecondaryActions=function(t,i){return!(i instanceof R.NewStatPlaceholder)&&e.prototype.hasSecondaryActions.call(this,t,i)},t.prototype.getSecondaryActions=function(t,n){return n instanceof R.NewStatPlaceholder?i.TPromise.as([]):e.prototype.getSecondaryActions.call(this,t,n)},t.prototype.runAction=function(e,t,n,o){var s=this;if(void 0===o&&(o={}),o=r.mixin({viewletState:this.state,stat:t},o),!p.isString(n)){var a=n;return a.enabled?a.run(o):null}var c=n,u=this.hasActions(e,t)?this.getActions(e,t):i.TPromise.as([]);return u.then(function(n){for(var r=0,a=n.length;r<a;r++)if(n[r].id===c&&n[r].enabled)return n[r].run(o);return u=s.hasSecondaryActions(e,t)?s.getSecondaryActions(e,t):i.TPromise.as([]),u.then(function(e){for(var t=0,i=e.length;t<i;t++)if(e[t].id===c&&e[t].enabled)return e[t].run(o);return null})})},t}(_.ContributableActionProvider);t.FileActionProvider=Y;var $=function(){function e(){this._actionProvider=new Y(this),this.editableStats=Object.create(null)}return Object.defineProperty(e.prototype,"actionProvider",{get:function(){return this._actionProvider},enumerable:!0,configurable:!0}),e.prototype.getEditableData=function(e){return this.editableStats[e.resource&&e.resource.toString()]},e.prototype.setEditable=function(e,t){t&&(this.editableStats[e.resource&&e.resource.toString()]=t)},e.prototype.clearEditable=function(e){delete this.editableStats[e.resource&&e.resource.toString()]},e}();t.FileViewletState=$;var X=function(e){function t(t){e.call(this),this.viewletState=t}return h(t,e),t.prototype.run=function(t,i){return e.prototype.run.call(this,t,{viewletState:this.viewletState})},t}(f.ActionRunner);t.ActionRunner=X;var Q=function(e){function t(t,i,n){e.call(this,{actionProvider:t.actionProvider,actionRunner:i}),this.contextViewService=n,this.state=t}return h(t,e),t.prototype.getContentHeight=function(e,t){return 22},t.prototype.renderContents=function(e,t,i,r){var a=this,c=E.$(i).clearChildren(),l=E.$(".explorer-item").addClass(this.iconClass(t)).appendTo(c),d=this.state.getEditableData(t);if(!d){var h=E.$(".explorer-item-label").appendTo(l);return E.$("a.plain").text(t.name).appendTo(h),null}var p=new y.InputBox(l.getHTMLElement(),this.contextViewService,{validationOptions:{validation:d.validator,showMessage:!0},ariaLabel:n.localize(0,null)}),f=t.name||"",g=f.lastIndexOf(".");p.value=f,p.select({start:0,end:g>0&&!t.isDirectory?g:f.length}),p.focus();var m=u.once(function(i){e.clearHighlight(),i&&p.value&&a.state.actionProvider.runAction(e,t,d.action,{value:p.value}),setTimeout(function(){e.DOMFocus(),o.dispose(v)},0)}),v=[p,s.addStandardDisposableListener(p.inputElement,s.EventType.KEY_DOWN,function(e){e.equals(U.CommonKeybindings.ENTER)?p.validate()&&m(!0):e.equals(U.CommonKeybindings.ESCAPE)&&m(!1)}),s.addDisposableListener(p.inputElement,"blur",function(){m(p.isInputValid())})];return function(){return m(!0)}},t.prototype.iconClass=function(e){return e.isDirectory?"folder-icon":"text-file-icon"},t=g([m(2,W.IContextViewService)],t)}(M.ActionsRenderer);t.FileRenderer=Q;var Z=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return n.localize(1,null,t.name)},e}();t.FileAccessibilityProvider=Z;var J=function(e){function t(t,i,n,o,r,s,a,c,u,l){e.call(this,{clickBehavior:x.ClickBehavior.ON_MOUSE_DOWN}),this.editorService=i,this.textFileService=n,this.contextMenuService=o,this.eventService=r,this.instantiationService=s,this.telemetryService=a,this.contextService=c,this.contributedContextMenu=u.createMenu(G.MenuId.ExplorerContext,l),this.workspace=c.getWorkspace(),this.didCatchEnterDown=!1,this.downKeyBindingDispatcher.set(S.isMacintosh?U.CommonKeybindings.CTRLCMD_DOWN_ARROW:U.CommonKeybindings.ENTER,this.onEnterDown.bind(this)),this.upKeyBindingDispatcher.set(S.isMacintosh?U.CommonKeybindings.CTRLCMD_DOWN_ARROW:U.CommonKeybindings.ENTER,this.onEnterUp.bind(this)),S.isMacintosh?this.upKeyBindingDispatcher.set(U.CommonKeybindings.WINCTRL_ENTER,this.onModifierEnterUp.bind(this)):this.upKeyBindingDispatcher.set(U.CommonKeybindings.CTRLCMD_ENTER,this.onModifierEnterUp.bind(this)),this.downKeyBindingDispatcher.set(S.isMacintosh?U.CommonKeybindings.ENTER:U.CommonKeybindings.F2,this.onF2.bind(this)),this.downKeyBindingDispatcher.set(U.CommonKeybindings.CTRLCMD_C,this.onCopy.bind(this)),this.downKeyBindingDispatcher.set(U.CommonKeybindings.CTRLCMD_V,this.onPaste.bind(this)),S.isMacintosh?(this.downKeyBindingDispatcher.set(U.CommonKeybindings.CTRLCMD_UP_ARROW,this.onLeft.bind(this)),this.downKeyBindingDispatcher.set(U.CommonKeybindings.CTRLCMD_BACKSPACE,this.onDelete.bind(this))):(this.downKeyBindingDispatcher.set(U.CommonKeybindings.DELETE,this.onDelete.bind(this)),this.downKeyBindingDispatcher.set(U.CommonKeybindings.SHIFT_DELETE,this.onDelete.bind(this))),this.state=t}return h(t,e),t.prototype.onLeftClick=function(e,t,i,n){void 0===n&&(n="mouse");var o={origin:n},r="mouse"===n&&2===i.detail;if(e.getHighlight())return i.preventDefault(),i.stopPropagation(),e.clearHighlight(o),!1;if(this.workspace&&t.resource.toString()===this.workspace.resource.toString())return e.clearFocus(o),e.clearSelection(o),!1;var s=i&&i.browserEvent&&"mousedown"===i.browserEvent.type;if(s||i.preventDefault(),i.stopPropagation(),e.DOMFocus(),e.toggleExpansion(t),!i.shiftKey||t instanceof R.NewStatPlaceholder){if(!(t instanceof R.NewStatPlaceholder)){var a=!r;e.setFocus(t,o),r&&i.preventDefault(),t.isDirectory||(e.setSelection([t],o),this.openEditor(t,a,i&&(i.ctrlKey||i.metaKey),r))}}else{var c=e.getSelection();c&&c.length>0&&c[0]===t&&e.clearSelection(o)}return!0},t.prototype.onContextMenu=function(e,t,i){var n=this;if(i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;if(i.preventDefault(),i.stopPropagation(),e.setFocus(t),!this.state.actionProvider.hasSecondaryActions(e,t))return!0;var o={x:i.posx+1,y:i.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return o},getActions:function(){return n.state.actionProvider.getSecondaryActions(e,t).then(function(e){return j.fillInActions(n.contributedContextMenu,e),e})},getActionItem:this.state.actionProvider.getActionItem.bind(this.state.actionProvider,e,t),getKeyBinding:function(e){return T.keybindingForAction(e.id)},getActionsContext:function(){return{viewletState:n.state,stat:t}},onHide:function(t){t&&e.DOMFocus()}}),!0},t.prototype.onEnterDown=function(e,t){if(e.getHighlight())return!1;var i={origin:"keyboard"},n=e.getFocus();return n&&(n.isDirectory?e.toggleExpansion(n):(e.setFocus(n,i),this.openEditor(n,!1,!1))),this.didCatchEnterDown=!0,!0},t.prototype.onEnterUp=function(e,t){if(!this.didCatchEnterDown||e.getHighlight())return!1;var i=e.getFocus();return i&&!i.isDirectory&&this.openEditor(i,!1,!1),this.didCatchEnterDown=!1,!0},t.prototype.onModifierEnterUp=function(e,t){if(e.getHighlight())return!1;var i=e.getFocus();return i&&!i.isDirectory&&this.openEditor(i,!1,!0),this.didCatchEnterDown=!1,!0},t.prototype.onCopy=function(e,t){var i=e.getFocus();return!!i&&(this.runAction(e,i,"workbench.files.action.copyFile").done(),!0)},t.prototype.onPaste=function(e,t){var i=e.getFocus()||e.getInput();if(i){var n=this.instantiationService.createInstance(T.PasteFileAction,e,i);if(n._isEnabled())return n.run().done(null,d.onUnexpectedError),!0}return!1},t.prototype.openEditor=function(e,t,i,n){if(void 0===n&&(n=!1),e&&!e.isDirectory){var o=this.instantiationService.createInstance(I.FileEditorInput,e.resource,e.mime,void 0),r=A.EditorOptions.create({preserveFocus:t,pinned:n});this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"explorer"}),this.editorService.openEditor(o,r,i).done(null,d.onUnexpectedError)}},t.prototype.onF2=function(e,t){var i=e.getFocus();return!!i&&(this.runAction(e,i,"workbench.files.action.triggerRename").done(),
!0)},t.prototype.onDelete=function(e,t){var i=!t.shiftKey,n=e.getFocus();return!!n&&(this.runAction(e,n,i?"workbench.files.action.moveFileToTrash":"workbench.files.action.deleteFile").done(),!0)},t.prototype.runAction=function(e,t,i){return this.state.actionProvider.runAction(e,t,i)},t=g([m(1,O.IWorkbenchEditorService),m(2,C.ITextFileService),m(3,W.IContextMenuService),m(4,B.IEventService),m(5,K.IInstantiationService),m(6,z.ITelemetryService),m(7,N.IWorkspaceContextService),m(8,G.IMenuService),m(9,F.IKeybindingService)],t)}(x.DefaultController);t.FileController=J;var ee=function(){function e(){}return e.prototype.compare=function(e,t,i){return t.isDirectory&&!i.isDirectory?-1:i.isDirectory&&!t.isDirectory?1:t.isDirectory&&i.isDirectory?t.name.toLowerCase().localeCompare(i.name.toLowerCase()):t instanceof R.NewStatPlaceholder?-1:i instanceof R.NewStatPlaceholder?1:v.compareFileNames(t.name,i.name)},e}();t.FileSorter=ee;var te=function(){function e(e){this.contextService=e,this.hiddenExpression=Object.create(null)}return e.prototype.updateConfiguration=function(e){var t=e&&e.files&&e.files.exclude||Object.create(null),i=!r.equals(this.hiddenExpression,t);return this.hiddenExpression=r.clone(t),i},e.prototype.isVisible=function(e,t){return this.doIsVisible(t)},e.prototype.doIsVisible=function(e){if(e instanceof R.NewStatPlaceholder)return!0;var t=e.parent&&e.parent.children&&e.parent.children.map(function(e){return e.name});return!b.match(this.hiddenExpression,this.contextService.toWorkspaceRelativePath(e.resource),t)},e=g([m(0,N.IWorkspaceContextService)],e)}();t.FileFilter=te;var ie=function(){function e(e,t,i,n,o,r,s){this.messageService=e,this.contextService=t,this.eventService=i,this.progressService=n,this.fileService=o,this.instantiationService=r,this.textFileService=s}return e.prototype.getDragURI=function(e,t){return t.resource&&t.resource.toString()},e.prototype.onDragStart=function(e,t,i){var n=t.getData(),o=null;n.length>0&&(o=n[0]),o&&o.isDirectory&&e.isExpanded(o)&&e.collapse(o,!1),t instanceof k.DesktopDragAndDropData||o&&!o.isDirectory&&i.dataTransfer.setData("DownloadURL",[c.MIME_BINARY,o.name,o.resource.toString()].join(":"))},e.prototype.onDragOver=function(e,t,i,n){var o=n&&(n.ctrlKey&&!S.isMacintosh||n.altKey&&S.isMacintosh),r=t instanceof k.DesktopDragAndDropData;if(r){for(var s=t.getData(),a=s.types,c=[],u=0;u<a.length;u++)c.push(a[u]);if(0===c.length||!c.some(function(e){return"Files"===e}))return L.DRAG_OVER_REJECT}else{if(t instanceof k.ExternalElementsDragAndDropData)return L.DRAG_OVER_REJECT;var d=t.getData();if(!Array.isArray(d))return L.DRAG_OVER_REJECT;if(d.some(function(e){return e instanceof R.NewStatPlaceholder||(e.resource.toString()===i.resource.toString()||(!o&&l.dirname(e.resource.fsPath)===i.resource.fsPath||!!l.isEqualOrParent(i.resource.fsPath,e.resource.fsPath)))}))return L.DRAG_OVER_REJECT}return i.isDirectory?r||o?L.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY:L.DRAG_OVER_ACCEPT_BUBBLE_DOWN:i.resource.toString()!==this.contextService.getWorkspace().resource.toString()?r||o?L.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY:L.DRAG_OVER_ACCEPT_BUBBLE_UP:L.DRAG_OVER_REJECT},e.prototype.drop=function(e,t,o,r){var s=this,c=i.TPromise.as(null);if(t instanceof k.DesktopDragAndDropData){var u=this.instantiationService.createInstance(T.ImportFileAction,e,o,null);c=u.run({input:{files:t.getData().files}})}else{var h=t.getData()[0],p=r.ctrlKey&&!S.isMacintosh||r.altKey&&S.isMacintosh;c=e.expand(o).then(function(){if(p){var t=s.instantiationService.createInstance(T.DuplicateFileAction,e,h,o);return t.run()}var r=i.TPromise.as(null);if(s.textFileService.isDirty(h.resource)){var c=s.textFileService.confirmSave([h.resource]);if(c===A.ConfirmResult.SAVE)r=s.textFileService.save(h.resource);else if(c===A.ConfirmResult.DONT_SAVE)r=s.textFileService.revert(h.resource);else if(c===A.ConfirmResult.CANCEL)return i.TPromise.as(null)}return r.then(function(){if(s.textFileService.isDirty(h.resource))return s.messageService.show(V.Severity.Warning,n.localize(2,null,D.getPathLabel(h.resource))),i.TPromise.as(null);var e=a["default"].file(l.join(o.resource.fsPath,h.name)),t=!1,r=function(e){s.eventService.emit("files.internal:fileChanged",new C.LocalFileChangeEvent(h.clone(),e))};return s.fileService.moveFile(h.resource,e).then(r,function(i){if(i.fileOperationResult!==w.FileOperationResult.FILE_MOVE_CONFLICT)s.messageService.show(V.Severity.Error,i);else{t=!0;var o={message:n.localize(3,null,h.name),detail:n.localize(4,null),primaryButton:n.localize(5,null)};if(s.messageService.confirm(o))return s.fileService.moveFile(h.resource,e,!0).then(function(t){var i=new R.FileStat(e);s.eventService.emit("files.internal:fileChanged",new C.LocalFileChangeEvent(i,null)),r(t)},function(e){s.messageService.show(V.Severity.Error,e)})}})})},d.onUnexpectedError)}this.progressService.showWhile(c,800),c.done(null,d.onUnexpectedError)},e=g([m(0,V.IMessageService),m(1,N.IWorkspaceContextService),m(2,B.IEventService),m(3,H.IProgressService),m(4,w.IFileService),m(5,K.IInstantiationService),m(6,C.ITextFileService)],e)}();t.FileDragAndDrop=ie}),define(l[1004],d([1,0,551,2,31,19,16,7,76,25,63,119,30,34,128,116,241,5,144,44,10,71,148,22,55,39,23,28,20,6,156,32,51,18,189]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F){"use strict";var W=function(e){function t(n,o,r,a,c,u,l,d,h,p,f,g,m,v,y,E,S){e.call(this,o,!1,i.localize(0,null),c,E,u,a),this.instantiationService=l,this.editorGroupService=d,this.eventService=h,this.storageService=p,this.contextService=f,this.progressService=g,this.editorService=m,this.fileService=v,this.partService=y,this.configurationService=S,this.workspace=f.getWorkspace(),this.settings=r,this.viewletState=n,this.actionRunner=o,this.autoReveal=!0,this.explorerRefreshDelayer=new s.ThrottledDelayer(t.EXPLORER_FILE_CHANGES_REFRESH_DELAY),this.explorerImportDelayer=new s.ThrottledDelayer(t.EXPLORER_IMPORT_REFRESH_DELAY),this.resourceContext=l.createInstance(F.ResourceContextKey)}return h(t,e),t.prototype.renderHeader=function(t){var i=o.$("div.title").appendTo(t);o.$("span").text(this.workspace.name).title(c.getPathLabel(this.workspace.resource.fsPath)).appendTo(i),e.prototype.renderHeader.call(this,t)},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),C.addClass(this.treeContainer,"explorer-folders-view"),this.tree=this.createViewer(o.$(this.treeContainer)),this.toolBar&&this.toolBar.setActions(l.prepareActions(this.getActions()),[])()},t.prototype.getActions=function(){var e=[];e.push(this.instantiationService.createInstance(v.NewFileAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(v.NewFolderAction,this.getViewer(),null)),e.push(this.instantiationService.createInstance(v.RefreshViewExplorerAction,this,"explorer-action refresh-explorer")),e.push(this.instantiationService.createInstance(w.CollapseAction,this.getViewer(),!0,"explorer-action collapse-explorer"));for(var t=0;t<e.length;t++){var i=e[t];i.order=10*(t+1)}return e},t.prototype.create=function(){var e=this,t=this.configurationService.getConfiguration();return this.onConfigurationUpdated(t),this.doRefresh().then(function(){e.toDispose.push(e.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),e.toDispose.push(e.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config,!0)}))})},t.prototype.onEditorsChanged=function(){var e=this.editorService.getActiveEditorInput(),i=!0,n=!1;if(e instanceof y.FileEditorInput){var o=e.getResource();if(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=o.toString(),this.isVisible&&this.contextService.isInsideWorkspace(o)){var r=this.hasSelection(o);r||this.select(o).done(null,a.onUnexpectedError),i=!1}}(e instanceof b.UntitledEditorInput||!e)&&(this.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=void 0,n=!0),i&&this.explorerViewer.clearSelection(),n&&this.explorerViewer.clearFocus()},t.prototype.onConfigurationUpdated=function(e,t){this.autoReveal=e&&e.explorer&&e.explorer.autoReveal;var i=!1;this.filter&&(i=this.filter.updateConfiguration(e)),t&&i&&this.doRefresh().done(null,a.onUnexpectedError)},t.prototype.focusBody=function(){var e=!1;if(this.explorerViewer){if(this.autoReveal){var t=this.explorerViewer.getSelection();t.length>0&&this.reveal(t[0],.5).done(null,a.onUnexpectedError)}this.explorerViewer.DOMFocus(),e=!0}var i=this.editorService.getActiveEditorInput();i&&i instanceof y.FileEditorInput||this.openFocusedElement(e)},t.prototype.setVisible=function(i){var o=this;return e.prototype.setVisible.call(this,i).then(function(){if(i){var e=n.TPromise.as(null);o.shouldRefresh&&(e=o.doRefresh(),o.shouldRefresh=!1);var s=o.getActiveEditorInputResource();if(s)return e.then(function(){return o.select(s)});if(!o.partService.isCreated())return n.TPromise.as(null);var c=o.getInput(),u=void 0;if(o.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]&&(u=r["default"].parse(o.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE])),u&&c&&c.find(u)){var l=o.instantiationService.createInstance(y.FileEditorInput,u,void 0,void 0);return o.activateOrOpenEditor(l).done(null,a.onUnexpectedError),e}return e.then(function(){o.openFocusedElement()})}})},t.prototype.openFocusedElement=function(e){var t=this.explorerViewer.getFocus();if(t&&!t.isDirectory){var i=this.instantiationService.createInstance(y.FileEditorInput,t.resource,t.mime,void 0);this.activateOrOpenEditor(i,e).done(null,a.onUnexpectedError)}},t.prototype.activateOrOpenEditor=function(e,t){var i=this.editorService.getVisibleEditors();if(i)for(var o=0;o<i.length;o++){var r=i[o];if(e.matches(r.input))return t||this.editorGroupService.focusGroup(r.position),n.TPromise.as(r)}return this.editorService.openEditor(e,t?p.EditorOptions.create({preserveFocus:!0}):void 0)},t.prototype.getActiveEditorInputResource=function(){var e=this.editorService.getActiveEditorInput();return e&&e instanceof y.FileEditorInput?e.getResource():null},t.prototype.getInput=function(){return this.explorerViewer?this.explorerViewer.getInput():null},t.prototype.createViewer=function(e){var t=this,n=this.instantiationService.createInstance(E.FileDataSource),o=this.instantiationService.createInstance(E.FileRenderer,this.viewletState,this.actionRunner),r=this.instantiationService.createInstance(E.FileController,this.viewletState),s=new E.FileSorter;this.filter=this.instantiationService.createInstance(E.FileFilter);var a=this.instantiationService.createInstance(E.FileDragAndDrop),c=this.instantiationService.createInstance(E.FileAccessibilityProvider);return this.explorerViewer=new d.Tree(e.getHTMLElement(),{dataSource:n,renderer:o,controller:r,sorter:s,filter:this.filter,dnd:a,accessibilityProvider:c},{autoExpandSingleChildren:!0,ariaLabel:i.localize(1,null)}),this.toDispose.push(S.toDisposable(function(){return o.dispose()})),this.toDispose.push(this.eventService.addListener2("files.internal:fileChanged",function(e){return t.onLocalFileChange(e)})),this.toDispose.push(this.eventService.addListener2(f.EventType.FILE_CHANGES,function(e){return t.onFileChanges(e)})),this.toDispose.push(this.explorerViewer.addListener2("focus",function(e){return t.resourceContext.set(e.focus&&e.focus.resource)})),this.explorerViewer},t.prototype.getOptimalWidth=function(){var e=this.explorerViewer.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".explorer-item-label > a"));return C.getLargestChildWidth(e,t)},t.prototype.onLocalFileChange=function(e){var t,i,n,o,s=this;if(e.gotAdded()){var c=e.getAfter();if(n=r["default"].file(u.dirname(c.resource.fsPath)),o=this.getInput().find(n)){var l=I.FileStat.create(c);o.addChild(l);var d=function(){return s.explorerViewer.refresh(o).then(function(){return s.reveal(l,.5).then(function(){if(s.explorerViewer.setFocus(l),!l.isDirectory)return s.editorService.openEditor({resource:l.resource,options:{pinned:!0}})})})};e instanceof v.FileImportedEvent?this.explorerImportDelayer.trigger(d).done(null,a.onUnexpectedError):d().done(null,a.onUnexpectedError)}}else if(e.gotMoved()){var h=e.getBefore(),p=e.getAfter(),f=r["default"].file(u.dirname(h.resource.fsPath)),g=r["default"].file(u.dirname(p.resource.fsPath)),m=!1,y=this.explorerViewer.getFocus();if(y&&y.resource&&y.resource.toString()===h.resource.toString()&&(m=!0),f&&g&&f.toString()===g.toString()){if(t=this.getInput().find(h.resource)){if(!t.isDirectory&&!t.mime)return;t.rename(p),i=t.parent,i&&this.explorerViewer.refresh(i).done(function(){m&&s.explorerViewer.setFocus(t)},a.onUnexpectedError)}}else if(f&&g){var E=this.getInput().find(f),S=this.getInput().find(g);t=this.getInput().find(h.resource),E&&S&&t&&t.move(S,function(e){s.explorerViewer.refresh(E,!0).done(e,a.onUnexpectedError)},function(){s.explorerViewer.refresh(S,!0).done(function(){return s.explorerViewer.expand(S)},a.onUnexpectedError)})}}else if(e.gotDeleted()){var b=e.getBefore();t=this.getInput().find(b.resource),t&&t.parent&&(i=t.parent,i.removeChild(t),this.explorerViewer.refresh(i).done(function(){s.explorerViewer.DOMFocus()},a.onUnexpectedError))}else if(e instanceof v.FileImportedEvent){var _=e.getAfter();n=r["default"].file(u.dirname(_.resource.fsPath)),o=this.getInput().find(n),o&&this.explorerViewer.refresh(o).then(function(){return s.editorService.openEditor({resource:_.resource,options:{pinned:!0}})}).done(null,a.onUnexpectedError)}else this.workspace&&e.gotUpdated()&&e.getAfter().resource.toString()===this.workspace.resource.toString()&&!this.explorerViewer.getHighlight()&&this.refreshFromEvent()},t.prototype.onFileChanges=function(e){var i=this;setTimeout(function(){var n=i.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE];n&&e.contains(r["default"].parse(n),f.FileChangeType.DELETED)&&(i.settings[t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE]=null)}),setTimeout(function(){!i.shouldRefresh&&i.shouldRefreshFromEvent(e)&&i.refreshFromEvent()},t.EXPLORER_FILE_CHANGES_REACT_DELAY)},t.prototype.shouldRefreshFromEvent=function(e){if(e=this.filterToAddRemovedOnWorkspacePath(e,function(e,t){return".git"!==t[0]||1===t.length}),e.gotAdded()||e.gotDeleted()){var t=e.getAdded(),i=e.getDeleted(),n=this.getInput();if(!n)return!1;for(var o={},s=0;s<t.length;s++){var a=t[s];if(this.contextService.isInsideWorkspace(a.resource)){var c=u.dirname(a.resource.fsPath);if(!o[c]){var l=n.find(r["default"].file(c));if(l&&l.isDirectoryResolved&&!n.find(a.resource))return!0;l&&l.isDirectoryResolved||(o[c]=!0)}}}for(var d=0;d<i.length;d++){var h=i[d];if(this.contextService.isInsideWorkspace(h.resource)&&n.find(h.resource))return!0}}return!1},t.prototype.filterToAddRemovedOnWorkspacePath=function(e,t){var i=this;return new f.FileChangesEvent(e.changes.filter(function(e){if(e.type===f.FileChangeType.UPDATED)return!1;var n=i.contextService.toWorkspaceRelativePath(e.resource);if(!n)return!1;var o=n.split(/\//);return t(e,o)}))},t.prototype.refreshFromEvent=function(){var e=this;this.isVisible?this.explorerRefreshDelayer.trigger(function(){return e.explorerViewer.getHighlight()?n.TPromise.as(null):e.doRefresh()}).done(null,a.onUnexpectedError):this.shouldRefresh=!0},t.prototype.refresh=function(){var e=this;if(!this.explorerViewer||this.explorerViewer.getHighlight())return n.TPromise.as(null);this.explorerViewer.DOMFocus();var t;if(this.autoReveal&&(t=this.getActiveEditorInputResource(),!t)){var i=this.explorerViewer.getSelection();i&&1===i.length&&(t=i[0].resource)}return this.doRefresh().then(function(){return t?e.select(t,!0):n.TPromise.as(null)})},t.prototype.doRefresh=function(){var e=this,i=this.getInput(),o=[],s=[];if(this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]&&(s=this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES].map(function(e){return r["default"].parse(e)})),i)this.getResolvedDirectories(i,o);else{var a=this.getActiveEditorInputResource();a&&o.push(a),s.length&&o.push.apply(o,s)}var c={resolveTo:o},u=this.fileService.resolveFile(this.workspace.resource,c).then(function(t){var o,r=I.FileStat.create(t,c.resolveTo);return i?(I.FileStat.mergeLocalWithDisk(r,i),o=e.explorerViewer.refresh(i)):o=e.explorerViewer.setInput(r).then(function(){return s?e.explorerViewer.expandAll(s.map(function(t){return e.getInput().find(t)})):n.TPromise.as(null)}),o},function(e){return n.TPromise.wrapError(e)});return this.progressService.showWhile(u,this.partService.isCreated()?800:3200),u},t.prototype.getResolvedDirectories=function(e,t){if(e.isDirectoryResolved){if(e.resource.toString()!==this.workspace.resource.toString()){for(var i=t.length-1;i>=0;i--){var n=t[i];0===e.resource.toString().indexOf(n.toString())&&t.splice(i)}t.push(e.resource)}for(var i=0;i<e.children.length;i++){var o=e.children[i];this.getResolvedDirectories(o,t)}}},t.prototype.select=function(e,t){var i=this;if(void 0===t&&(t=this.autoReveal),!e||e.toString()===this.workspace.resource.toString())return n.TPromise.as(null);var o=this.hasSelection(e);if(o)return t?this.reveal(o,.5):n.TPromise.as(null);var r=this.getInput();if(!r)return n.TPromise.as(null);var s=r.find(e);if(s)return this.doSelect(s,t);var a={resolveTo:[e]};return this.fileService.resolveFile(this.workspace.resource,a).then(function(n){var o=I.FileStat.create(n,a.resolveTo);return I.FileStat.mergeLocalWithDisk(o,r),i.explorerViewer.refresh(r).then(function(){return i.doSelect(r.find(e),t)})},function(e){return i.messageService.show(N.Severity.Error,e)})},t.prototype.hasSelection=function(e){for(var t=this.explorerViewer.getSelection(),i=0;i<t.length;i++)if(t[i].resource.toString()===e.toString())return t[i];return null},t.prototype.doSelect=function(e,t){var i=this;if(!e)return n.TPromise.as(null);if(!this.filter.isVisible(this.tree,e)&&(e=e.parent,!e))return n.TPromise.as(null);var o;return o=t?this.reveal(e,.5):n.TPromise.as(null),o.then(function(){e.isDirectory||i.explorerViewer.setSelection([e]),i.explorerViewer.setFocus(e)})},t.prototype.shutdown=function(){var i=this,n=this.getInput();if(n){var o=this.explorerViewer.getExpandedElements().filter(function(e){return e.resource.toString()!==i.workspace.resource.toString()}).map(function(e){return e.resource.toString()});this.settings[t.MEMENTO_EXPANDED_FOLDER_RESOURCES]=o}e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.toolBar&&this.toolBar.dispose(),e.prototype.dispose.call(this)},t.EXPLORER_FILE_CHANGES_REACT_DELAY=500,t.EXPLORER_FILE_CHANGES_REFRESH_DELAY=100,t.EXPLORER_IMPORT_REFRESH_DELAY=300,t.MEMENTO_LAST_ACTIVE_FILE_RESOURCE="explorer.memento.lastActiveFileResource",t.MEMENTO_EXPANDED_FOLDER_RESOURCES="explorer.memento.expandedFolderResources",t=g([m(4,N.IMessageService),m(5,P.IContextMenuService),m(6,M.IInstantiationService),m(7,_.IEditorGroupService),m(8,k.IEventService),m(9,L.IStorageService),m(10,O.IWorkspaceContextService),m(11,R.IProgressService),m(12,T.IWorkbenchEditorService),m(13,f.IFileService),m(14,A.IPartService),m(15,x.IKeybindingService),m(16,D.IConfigurationService)],t)}(w.CollapsibleViewletView);t.ExplorerView=W}),define(l[1005],d([1,0,554,19,7,25,2,81,217,216,49,10,6,21,44,51,20,30,47,22,287,128,276,280,87,176]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L){"use strict";var D=d.emmet,k=function(){function e(e,t){this.editor=e,this.group=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this.editor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorGroup",{get:function(){return this.group},enumerable:!0,configurable:!0}),e.prototype.getId=function(){return"openeditor:"+this.group.id+":"+this.group.indexOf(this.editor)+":"+this.editor.getName()+":"+this.editor.getDescription()},e.prototype.isPreview=function(){return this.group.isPreview(this.editor)},e.prototype.isUntitled=function(){return this.editor instanceof S.UntitledEditorInput},e.prototype.isDirty=function(){return this.editor.isDirty()},e.prototype.getResource=function(){return this.editor instanceof b.FileEditorInput?this.editor.getResource():this.editor instanceof S.UntitledEditorInput?this.editor.getResource():null},e}();t.OpenEditor=k;var x=function(){function e(){}return e.prototype.getId=function(e,t){return t instanceof C.EditorStacksModel?"root":t instanceof C.EditorGroup?t.id.toString():t.getId()},e.prototype.hasChildren=function(e,t){return t instanceof C.EditorStacksModel||t instanceof C.EditorGroup},e.prototype.getChildren=function(e,t){if(t instanceof C.EditorStacksModel)return s.TPromise.as(t.groups);var i=t;return s.TPromise.as(i.getEditors().map(function(e){return new k(e,i)}))},e.prototype.getParent=function(e,t){return s.TPromise.as(null)},e}();t.DataSource=x;var M=function(){function e(e,t,i,n){this.actionProvider=e,this.model=t,this.textFileService=i,this.untitledEditorService=n}return e.prototype.getHeight=function(t,i){return e.ITEM_HEIGHT},e.prototype.getTemplateId=function(t,i){return i instanceof C.EditorGroup?e.EDITOR_GROUP_TEMPLATE_ID:e.OPEN_EDITOR_TEMPLATE_ID},e.prototype.renderTemplate=function(t,i,n){if(i===e.EDITOR_GROUP_TEMPLATE_ID){var o=Object.create(null);return o.root=d.append(n,D(".editor-group")),o.name=d.append(o.root,D("span.name")),o.actionBar=new l.ActionBar(n),o.actionBar.push(this.actionProvider.getEditorGroupActions(),{icon:!0,label:!1}),o}var r=Object.create(null);return r.container=n,r.actionBar=new l.ActionBar(n),r.actionBar.push(this.actionProvider.getOpenEditorActions(),{icon:!0,label:!1}),r.root=d.append(n,D(".open-editor")),r.name=d.append(r.root,D("span.name")),r.description=d.append(r.root,D("span.description")),r},e.prototype.renderElement=function(t,i,n,o){n===e.EDITOR_GROUP_TEMPLATE_ID?this.renderEditorGroup(t,i,o):this.renderOpenEditor(t,i,o)},e.prototype.renderEditorGroup=function(e,t,i){i.name.textContent=t.label,i.actionBar.context={group:t}},e.prototype.renderOpenEditor=function(e,t,i){t.isPreview()?d.addClass(i.root,"preview"):d.removeClass(i.root,"preview"),t.isDirty()?d.addClass(i.container,"dirty"):d.removeClass(i.container,"dirty");var n=t.getResource();i.root.title=n?n.fsPath:"",i.name.textContent=t.editorInput.getName(),i.description.textContent=t.editorInput.getDescription(),i.actionBar.context={group:t.editorGroup,editor:t.editorInput}},e.prototype.disposeTemplate=function(t,i,n){i===e.OPEN_EDITOR_TEMPLATE_ID&&n.actionBar.dispose(),i===e.EDITOR_GROUP_TEMPLATE_ID&&n.actionBar.dispose()},e.ITEM_HEIGHT=22,e.EDITOR_GROUP_TEMPLATE_ID="editorgroup",e.OPEN_EDITOR_TEMPLATE_ID="openeditor",e=g([m(2,b.ITextFileService),m(3,A.IUntitledEditorService)],e)}();t.Renderer=M;var R=function(e){function t(t,i,n,o,r,s,c,u){e.call(this,{clickBehavior:a.ClickBehavior.ON_MOUSE_DOWN}),this.actionProvider=t,this.model=i,this.editorService=n,this.editorGroupService=o,this.instantiationService=r,this.contextMenuService=s,this.telemetryService=c,this.keybindingService=u}return h(t,e),t.prototype.onClick=function(t,i,n){if(i instanceof k&&n.browserEvent&&1===n.browserEvent.button){var r=this.model.positionOfGroup(i.editorGroup);return this.editorService.closeEditor(r,i.editorInput).done(null,o.onUnexpectedError),!0}return e.prototype.onClick.call(this,t,i,n)},t.prototype.onLeftClick=function(e,t,i,n){void 0===n&&(n="mouse");var o={origin:n},r="mouse"===n&&2===i.detail,s=i&&i.browserEvent&&"mousedown"===i.browserEvent.type;if(s||i.preventDefault(),i.stopPropagation(),!(t instanceof k))return!0;if(e.DOMFocus(),i.shiftKey){var a=e.getSelection();a&&a.length>0&&a[0]===t&&e.clearSelection(o)}else e.setFocus(t,o),r&&i.preventDefault(),e.setSelection([t],o),this.openEditor(t,r);return!0},t.prototype.onLeft=function(e,t){return!0},t.prototype.onRight=function(e,t){return!0},t.prototype.onEnter=function(t,i){var n=t.getFocus();return n instanceof C.EditorGroup?(i.preventDefault(),i.stopPropagation(),!0):(this.openEditor(n,!1),e.prototype.onEnter.call(this,t,i))},t.prototype.onContextMenu=function(e,t,i){var n=this;if(i.target&&i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!1;if(t===e.getInput())return!1;i.preventDefault(),i.stopPropagation(),e.setFocus(t);var o=t instanceof C.EditorGroup?t:t.editorGroup,r=t instanceof k?t.editorInput:void 0,s={x:i.posx+1,y:i.posy};return this.contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return n.actionProvider.getSecondaryActions(e,t)},getKeyBinding:function(e){var t=n.keybindingService.lookupKeybindings(e.id);return t.length>0?t[0]:w.keybindingForAction(e.id)},onHide:function(t){t&&e.DOMFocus()},getActionsContext:function(){return{group:o,editor:r}}}),!0},t.prototype.openEditor=function(e,t){var i=this;if(e){this.telemetryService.publicLog("workbenchActionExecuted",{id:"workbench.files.openFile",from:"openEditors"});var n=this.model.positionOfGroup(e.editorGroup);t&&this.editorGroupService.pinEditor(n,e.editorInput),this.editorGroupService.activateGroup(n),this.editorService.openEditor(e.editorInput,S.EditorOptions.create({preserveFocus:!t}),n).done(function(){return i.editorGroupService.activateGroup(n)},o.onUnexpectedError)}},t=g([m(2,_.IWorkbenchEditorService),m(3,v.IEditorGroupService),m(4,p.IInstantiationService),m(5,y.IContextMenuService),m(6,f.ITelemetryService),m(7,E.IKeybindingService)],t)}(a.DefaultController);t.Controller=R;var O=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return t instanceof C.EditorGroup?i.localize(0,null,t.label):i.localize(1,null,t.editorInput.getName())},e}();t.AccessibilityProvider=O;var P=function(){function e(e,t,i,n){this.model=e,this.instantiationService=t,this.textFileService=i,this.untitledEditorService=n}return e.prototype.hasActions=function(e,t){var i=this.model.groups.length>1;return t instanceof k||t instanceof C.EditorGroup&&i},e.prototype.getActions=function(e,t){return t instanceof k?s.TPromise.as(this.getOpenEditorActions()):t instanceof C.EditorGroup?s.TPromise.as(this.getEditorGroupActions()):s.TPromise.as([])},e.prototype.getOpenEditorActions=function(){return[this.instantiationService.createInstance(L.CloseEditorAction,L.CloseEditorAction.ID,L.CloseEditorAction.LABEL)]},e.prototype.getEditorGroupActions=function(){var e=this.instantiationService.createInstance(w.SaveAllInGroupAction,w.SaveAllInGroupAction.ID,w.SaveAllInGroupAction.LABEL);return[e,this.instantiationService.createInstance(L.CloseEditorsInGroupAction,L.CloseEditorsInGroupAction.ID,L.CloseEditorsInGroupAction.LABEL)]},e.prototype.hasSecondaryActions=function(e,t){return t instanceof k||t instanceof C.EditorGroup},e.prototype.getSecondaryActions=function(e,t){var o=[],a=this.textFileService.getAutoSaveMode()===b.AutoSaveMode.AFTER_SHORT_DELAY;if(t instanceof C.EditorGroup)a||(o.push(this.instantiationService.createInstance(w.SaveAllInGroupAction,w.SaveAllInGroupAction.ID,i.localize(2,null))),o.push(new l.Separator)),o.push(this.instantiationService.createInstance(L.CloseEditorsInGroupAction,L.CloseEditorsInGroupAction.ID,i.localize(3,null)));else{var c=t,u=c.getResource();if(u){if(o.push(this.instantiationService.createInstance(w.OpenToSideAction,e,u,!1)),c.isUntitled()){if(o.push(new l.Separator),this.untitledEditorService.hasAssociatedFilePath(u)){var d=this.instantiationService.createInstance(w.SaveFileAction,w.SaveFileAction.ID,w.SaveFileAction.LABEL);d.setResource(u),o.push(d)}var h=this.instantiationService.createInstance(w.SaveFileAsAction,w.SaveFileAsAction.ID,w.SaveFileAsAction.LABEL);h.setResource(u),o.push(h)}else{o.push(new l.Separator),o.push(this.instantiationService.createInstance(I.RevealInOSAction,u));var p=this.instantiationService.createInstance(T.OpenConsoleAction,T.OpenConsoleAction.ID,T.OpenConsoleAction.ScopedLabel);if(p.setResource(n["default"].file(r.dirname(u.fsPath))),o.push(p),o.push(this.instantiationService.createInstance(I.CopyPathAction,u)),!a){o.push(new l.Separator);var f=this.instantiationService.createInstance(w.SaveFileAction,w.SaveFileAction.ID,w.SaveFileAction.LABEL);f.setResource(u),f.enabled=c.isDirty(),o.push(f);var g=this.instantiationService.createInstance(w.RevertFileAction,w.RevertFileAction.ID,w.RevertFileAction.LABEL);g.setResource(u),g.enabled=c.isDirty(),o.push(g)}o.push(new l.Separator);var m=this.instantiationService.createInstance(w.CompareResourcesAction,u,e);m._isEnabled()&&o.push(m),o.push(this.instantiationService.createInstance(w.SelectResourceForCompareAction,u,e))}o.push(new l.Separator)}o.push(this.instantiationService.createInstance(L.CloseEditorAction,L.CloseEditorAction.ID,i.localize(4,null)));var v=this.instantiationService.createInstance(L.CloseOtherEditorsInGroupAction,L.CloseOtherEditorsInGroupAction.ID,i.localize(5,null));v.enabled=c.editorGroup.count>1,o.push(v),o.push(this.instantiationService.createInstance(L.CloseEditorsInGroupAction,L.CloseEditorsInGroupAction.ID,i.localize(6,null)))}return s.TPromise.as(o)},e.prototype.getActionItem=function(e,t,i){return null},e=g([m(1,p.IInstantiationService),m(2,b.ITextFileService),m(3,A.IUntitledEditorService)],e)}();t.ActionProvider=P;var N=function(e){function t(t,i){e.call(this),this.editorService=t,this.editorGroupService=i}return h(t,e),t.prototype.getDragURI=function(e,t){if(!(t instanceof k))return null;var i=t.getResource();return i?i.toString():t.editorInput.getName()},t.prototype.onDragOver=function(e,t,i,n){if(!(i instanceof k||i instanceof C.EditorGroup))return c.DRAG_OVER_REJECT;if(t instanceof u.ExternalElementsDragAndDropData){var o=b.asFileResource(t.getData()[0]);return o?o.isDirectory?c.DRAG_OVER_REJECT:c.DRAG_OVER_ACCEPT:c.DRAG_OVER_REJECT}return t instanceof u.DesktopDragAndDropData?c.DRAG_OVER_REJECT:t instanceof u.ElementsDragAndDropData?c.DRAG_OVER_ACCEPT:c.DRAG_OVER_REJECT},t.prototype.drop=function(e,t,i,n){var r,s=this.editorGroupService.getStacksModel(),a=s.positionOfGroup(i instanceof C.EditorGroup?i:i.editorGroup),c=i instanceof k?i.editorGroup.indexOf(i.editorInput):void 0;if(t instanceof u.ExternalElementsDragAndDropData){var l=b.asFileResource(t.getData()[0]);l.options={index:c,pinned:!0},this.editorService.openEditor(l,a).done(null,o.onUnexpectedError)}else{var d=t.getData();Array.isArray(d)&&(r=d[0])}r&&(r instanceof k?this.editorGroupService.moveEditor(r.editorInput,s.positionOfGroup(r.editorGroup),a,c):this.editorGroupService.moveGroup(s.positionOfGroup(r),a))},t=g([m(0,_.IWorkbenchEditorService),m(1,v.IEditorGroupService)],t)}(a.DefaultDragAndDrop);t.DragAndDrop=N}),define(l[1006],d([1,0,553,7,16,10,151,119,51,18,6,44,28,23,20,64,128,71,47,22,1005,87,176]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I){"use strict";var T=r.emmet,A=function(e){function t(n,r,s,a,c,u,l,d,h,p,f,g){var m=this;e.call(this,n,t.computeExpandedBodySize(d.getStacksModel()),!!r[t.MEMENTO_COLLAPSED],i.localize(0,null),s,p,u),this.eventService=a,this.instantiationService=c,this.textFileService=l,this.editorGroupService=d,this.configurationService=h,this.editorService=f,this.untitledEditorService=g,this.settings=r,this.model=d.getStacksModel(),this.structuralRefreshDelay=0,this.structuralTreeRefreshScheduler=new o.RunOnceScheduler(function(){return m.structuralTreeUpdate()},this.structuralRefreshDelay)}return h(t,e),t.prototype.renderHeader=function(t){var n=r.append(t,T(".title")),o=r.append(n,T("span"));o.textContent=i.localize(1,null),this.dirtyCountElement=r.append(n,T(".monaco-count-badge")),this.updateDirtyIndicator(),e.prototype.renderHeader.call(this,t)},t.prototype.getActions=function(){return[this.instantiationService.createInstance(E.SaveAllAction,E.SaveAllAction.ID,E.SaveAllAction.LABEL),this.instantiationService.createInstance(I.CloseAllEditorsAction,I.CloseAllEditorsAction.ID,I.CloseAllEditorsAction.LABEL)]},t.prototype.renderBody=function(t){this.treeContainer=e.prototype.renderViewTree.call(this,t),r.addClass(this.treeContainer,"explorer-open-editors");var n=this.instantiationService.createInstance(C.DataSource),o=this.instantiationService.createInstance(C.ActionProvider,this.model),s=this.instantiationService.createInstance(C.Renderer,o,this.model),c=this.instantiationService.createInstance(C.Controller,o,this.model),u=this.instantiationService.createInstance(C.AccessibilityProvider),l=this.instantiationService.createInstance(C.DragAndDrop);
this.tree=new a.Tree(this.treeContainer,{dataSource:n,renderer:s,controller:c,accessibilityProvider:u,dnd:l},{indentPixels:0,twistiePixels:20,ariaLabel:i.localize(2,null)}),this.fullRefreshNeeded=!0,this.structuralTreeUpdate()},t.prototype.create=function(){var t=this.configurationService.getConfiguration();return this.onConfigurationUpdated(t),this.registerListeners(),e.prototype.create.call(this)},t.prototype.registerListeners=function(){var e=this;this.toDispose.push(this.model.onModelChanged(function(t){return e.onEditorStacksModelChanged(t)})),this.toDispose.push(this.configurationService.onDidUpdateConfiguration(function(t){return e.onConfigurationUpdated(t.config)})),this.toDispose.push(this.eventService.addListener2(y.EventType.COMPOSITE_OPENED,function(t){t.compositeId===b.VIEWLET_ID&&(e.fullRefreshNeeded=!0,e.structuralTreeUpdate(),e.updateDirtyIndicator())}))},t.prototype.onEditorStacksModelChanged=function(e){var t=this;if(!this.isDisposed&&this.isVisible&&this.tree)if(e.structural)e.editor&&!this.groupToRefresh?this.groupToRefresh=e.group:this.fullRefreshNeeded=!0,this.structuralTreeRefreshScheduler.schedule(this.structuralRefreshDelay);else{var i=e.editor?new C.OpenEditor(e.editor,e.group):e.group;this.updateDirtyIndicator(),this.tree.refresh(i,!1).done(function(){return t.highlightActiveEditor()},n.onUnexpectedError)}},t.prototype.structuralTreeUpdate=function(){var e=this;this.expandedBodySize=this.getExpandedBodySize(this.model);var t=1===this.model.groups.length?this.model.groups[0]:this.model;this.fullRefreshNeeded=!0;var i=this.fullRefreshNeeded?null:this.groupToRefresh;(t!==this.tree.getInput()?this.tree.setInput(t):this.tree.refresh(i)).done(function(){return e.fullRefreshNeeded=!1,e.groupToRefresh=null,e.tree.expandAll(e.model.groups).then(function(){return e.highlightActiveEditor()})},n.onUnexpectedError)},t.prototype.highlightActiveEditor=function(){if(this.model.activeGroup&&this.model.activeGroup.activeEditor){var e=new C.OpenEditor(this.model.activeGroup.activeEditor,this.model.activeGroup);this.tree.clearFocus(),this.tree.clearSelection(),e&&(this.tree.setFocus(e),this.tree.setSelection([e]),this.tree.reveal(e).done(null,n.onUnexpectedError))}},t.prototype.onConfigurationUpdated=function(e){var i=e&&e.explorer&&e.explorer.openEditors&&e.explorer.openEditors.visible;"number"==typeof i?this.visibleOpenEditors=i:this.visibleOpenEditors=t.DEFAULT_VISIBLE_OPEN_EDITORS;var n=e&&e.explorer&&e.explorer.openEditors&&e.explorer.openEditors.dynamicHeight;"boolean"==typeof n?this.dynamicHeight=n:this.dynamicHeight=t.DEFAULT_DYNAMIC_HEIGHT,this.expandedBodySize=this.getExpandedBodySize(this.model)},t.prototype.updateDirtyIndicator=function(){var e=this.textFileService.getAutoSaveMode()!==b.AutoSaveMode.AFTER_SHORT_DELAY?this.textFileService.getDirty().length:this.untitledEditorService.getDirty().length;0===e?r.addClass(this.dirtyCountElement,"hidden"):(this.dirtyCountElement.textContent=i.localize(3,null,e),r.removeClass(this.dirtyCountElement,"hidden"))},t.prototype.getExpandedBodySize=function(e){return t.computeExpandedBodySize(e,this.visibleOpenEditors,this.dynamicHeight)},t.computeExpandedBodySize=function(e,i,n){void 0===i&&(i=t.DEFAULT_VISIBLE_OPEN_EDITORS),void 0===n&&(n=t.DEFAULT_DYNAMIC_HEIGHT);var o=e.groups.reduce(function(e,t){return e+t.count},0);e.groups.length>1&&(o+=e.groups.length);var r;return r=n?Math.min(Math.max(i,1),o):Math.max(i,1),r*C.Renderer.ITEM_HEIGHT},t.prototype.setStructuralRefreshDelay=function(e){this.structuralRefreshDelay=e},t.prototype.getOptimalWidth=function(){var e=this.tree.getHTMLElement(),t=[].slice.call(e.querySelectorAll(".monaco-file-label > .file-name"));return r.getLargestChildWidth(e,t)},t.prototype.shutdown=function(){this.settings[t.MEMENTO_COLLAPSED]=this.state===s.CollapsibleState.COLLAPSED,e.prototype.shutdown.call(this)},t.MEMENTO_COLLAPSED="openEditors.memento.collapsed",t.DEFAULT_VISIBLE_OPEN_EDITORS=9,t.DEFAULT_DYNAMIC_HEIGHT=!0,t=g([m(2,u.IMessageService),m(3,p.IEventService),m(4,l.IInstantiationService),m(5,c.IContextMenuService),m(6,b.ITextFileService),m(7,d.IEditorGroupService),m(8,f.IConfigurationService),m(9,v.IKeybindingService),m(10,_.IWorkbenchEditorService),m(11,w.IUntitledEditorService)],t)}(S.AdaptiveCollapsibleViewletView);t.OpenEditorsView=A}),define(l[1007],d([1,0,2,171,47,71,151,23,241,1004,900,1006,39,6,32,21,215,110,22,44,20,707]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C){"use strict";var w=function(e){function t(t,i,r,s,a,u,l,d){var h=this;e.call(this,o.VIEWLET_ID,t),this.contextService=i,this.storageService=r,this.editorGroupService=s,this.editorService=a,this.configurationService=u,this.instantiationService=l,this.views=[],this.viewletState=new c.FileViewletState,this.viewletVisibleContextKey=d.createKey("explorerViewletVisible",!0),this.viewletSettings=this.getMemento(r,n.Scope.WORKSPACE),this.configurationService.onDidUpdateConfiguration(function(e){return h.onConfigurationUpdated(e.config)})}return h(t,e),t.prototype.create=function(t){var i=this;return e.prototype.create.call(this,t),this.viewletContainer=t.div().addClass("explorer-viewlet"),this.configurationService.loadConfiguration().then(function(e){return i.onConfigurationUpdated(e)})},t.prototype.getActions=function(){return this.openEditorsVisible?[]:this.explorerView.getActions()},t.prototype.onConfigurationUpdated=function(e){var t=this;this.delayEditorOpeningInOpenedEditors=!!e.workbench.editor.enablePreview;var n=!this.contextService.getWorkspace()||0!==e.explorer.openEditors.visible;return this.openEditorsVisible!==n?(this.dispose(),this.openEditorsVisible=n,this.views=[],this.viewletContainer.clearChildren(),this.openEditorsVisible&&(this.splitView=new s.SplitView(this.viewletContainer.getHTMLElement()),this.addOpenEditorsView(),this.focusListener=this.splitView.onFocus(function(e){t.lastFocusedView=e})),this.addExplorerView(),this.lastFocusedView=this.explorerView,i.TPromise.join(this.views.map(function(e){return e.create()})).then(function(){}).then(function(){return t.dimension&&t.layout(t.dimension),t.updateTitleArea(),t.setVisible(t.isVisible()).then(function(){return t.focus()})})):i.TPromise.as(null)},t.prototype.addOpenEditorsView=function(){this.openEditorsView=this.instantiationService.createInstance(d.OpenEditorsView,this.getActionRunner(),this.viewletSettings),this.splitView.addView(this.openEditorsView),this.views.push(this.openEditorsView)},t.prototype.addExplorerView=function(){var e,t=this;if(this.contextService.getWorkspace()){var i=this.instantiationService.createInstance(E.DelegatingWorkbenchEditorService,function(e,i,n){if(t.openEditorsView){var o=0;if(t.delayEditorOpeningInOpenedEditors&&(n===!1||"number"!=typeof n)){var r=t.editorGroupService.getStacksModel().activeGroup;r&&r.previewEditor||(o=250)}t.openEditorsView.setStructuralRefreshDelay(o)}var s=function(e){return t.openEditorsView&&t.openEditorsView.setStructuralRefreshDelay(0),e};return t.editorService.openEditor(e,i,n).then(s,s)}),n=this.instantiationService.createChild(new S.ServiceCollection([b.IWorkbenchEditorService,i])),o=this.openEditorsVisible?void 0:0;this.explorerView=e=n.createInstance(u.ExplorerView,this.viewletState,this.getActionRunner(),this.viewletSettings,o)}else e=this.instantiationService.createInstance(l.EmptyView);this.openEditorsVisible?this.splitView.addView(e):e.render(this.viewletContainer.getHTMLElement(),s.Orientation.VERTICAL),this.views.push(e)},t.prototype.getExplorerView=function(){return this.explorerView},t.prototype.getOpenEditorsView=function(){return this.openEditorsView},t.prototype.setVisible=function(t){var n=this;return this.viewletVisibleContextKey.set(t),e.prototype.setVisible.call(this,t).then(function(){return i.TPromise.join(n.views.map(function(e){return e.setVisible(t)})).then(function(){})})},t.prototype.focus=function(){return e.prototype.focus.call(this),this.lastFocusedView&&this.lastFocusedView.isExpanded()&&this.hasSelectionOrFocus(this.lastFocusedView)?void this.lastFocusedView.focusBody():this.hasSelectionOrFocus(this.openEditorsView)?this.openEditorsView.focusBody():this.hasSelectionOrFocus(this.explorerView)?this.explorerView.focusBody():this.openEditorsView&&this.openEditorsView.isExpanded()?this.openEditorsView.focusBody():this.explorerView&&this.explorerView.isExpanded()?this.explorerView.focusBody():this.openEditorsView.focus()},t.prototype.hasSelectionOrFocus=function(e){if(!e)return!1;if(!e.isExpanded())return!1;if(e instanceof u.ExplorerView||e instanceof d.OpenEditorsView){var t=e.getViewer();return!!t&&(!!t.getFocus()||t.getSelection()&&t.getSelection().length>0)}return!1},t.prototype.layout=function(e){this.dimension=e,this.openEditorsVisible?this.splitView.layout(e.height):this.explorerView&&this.explorerView.layout(e.height,s.Orientation.VERTICAL)},t.prototype.getActionRunner=function(){return this.actionRunner||(this.actionRunner=new c.ActionRunner(this.viewletState)),this.actionRunner},t.prototype.getOptimalWidth=function(){var e=16,t=this.openEditorsVisible?this.openEditorsView.getOptimalWidth():0,i=this.getExplorerView(),n=i?i.getOptimalWidth():0,o=Math.max(t,n);return o+e},t.prototype.shutdown=function(){this.views.forEach(function(e){return e.shutdown()}),e.prototype.shutdown.call(this)},t.prototype.dispose=function(){this.splitView&&(this.splitView.dispose(),this.splitView=null),this.explorerView&&(this.explorerView.dispose(),this.explorerView=null),this.openEditorsView&&(this.openEditorsView.dispose(),this.openEditorsView=null),this.focusListener&&(this.focusListener.dispose(),this.focusListener=null)},t=g([m(0,y.ITelemetryService),m(1,v.IWorkspaceContextService),m(2,p.IStorageService),m(3,_.IEditorGroupService),m(4,b.IWorkbenchEditorService),m(5,a.IConfigurationService),m(6,f.IInstantiationService),m(7,C.IKeybindingService)],t)}(r.Viewlet);t.ExplorerViewlet=w}),define(l[1008],d([1,0,2,47,34,12,88,30,7,22,19,56,97,64,87,55,43,28,6,72,57,5,52,44]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I){"use strict";var T=function(){function e(e,t,i,n,o,s,a,c,u,l,d,h){this.contextService=e,this.eventService=t,this.partService=i,this.fileService=n,this.textFileService=o,this.viewletService=s,this.editorService=a,this.editorGroupService=c,this.instantiationService=u,this.untitledEditorService=l,this.lifecycleService=d,this.windowService=h,this.toUnbind=[],this.isDocumentedEdited=!1,this.activeOutOfWorkspaceWatchers=Object.create(null),r.platform===r.Platform.Mac&&w.ipcRenderer.send("vscode:setDocumentEdited",this.windowService.getWindowId(),!1),this.registerListeners()}return e.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.eventService.addListener2(p.EventType.UNTITLED_FILE_SAVED,function(){return e.onUntitledSavedEvent()})),this.toUnbind.push(this.eventService.addListener2(p.EventType.UNTITLED_FILE_DIRTY,function(){return e.onUntitledDirtyEvent()})),this.toUnbind.push(this.eventService.addListener2(n.EventType.FILE_DIRTY,function(t){return e.onTextFileDirty(t)})),this.toUnbind.push(this.eventService.addListener2(n.EventType.FILE_SAVED,function(t){return e.onTextFileSaved(t)})),this.toUnbind.push(this.eventService.addListener2(n.EventType.FILE_SAVE_ERROR,function(t){return e.onTextFileSaveError(t)})),this.toUnbind.push(this.eventService.addListener2(n.EventType.FILE_REVERTED,function(t){return e.onTextFileReverted(t)})),w.ipcRenderer.on("vscode:openFiles",function(t,i){return e.onOpenFiles(i)}),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return e.onEditorsChanged()})),this.lifecycleService.onShutdown(this.dispose,this)},e.prototype.onOpenFiles=function(e){var t=[],i=2===e.filesToDiff.length;!i&&e.filesToOpen&&t.push.apply(t,this.toInputs(e.filesToOpen,!1)),!i&&e.filesToCreate&&t.push.apply(t,this.toInputs(e.filesToCreate,!0)),i&&t.push.apply(t,this.toInputs(e.filesToDiff,!1)),t.length&&this.openResources(t,i).done(null,c.onUnexpectedError)},e.prototype.openResources=function(e,t){var o=this;return this.partService.joinCreation().then(function(){var r=i.TPromise.as(null);return o.partService.isSideBarHidden()||(r=o.viewletService.openViewlet(n.VIEWLET_ID,!1)),r.then(function(){if(t)return i.TPromise.join(e.map(function(e){return o.editorService.createInput(e)})).then(function(t){return o.editorService.openEditor(new s.DiffEditorInput(s.toDiffLabel(e[0].resource,e[1].resource,o.contextService),null,t[0],t[1]))});if(1===e.length)return o.editorService.openEditor(e[0]);var n=o.editorService.getActiveEditor();return o.editorService.openEditors(e.map(function(e,t){return{input:e,position:n?n.position:d.Position.LEFT}}))})})},e.prototype.toInputs=function(e,t){var i=this;return e.map(function(e){var n={resource:t?i.untitledEditorService.createOrGet(l["default"].file(e.filePath)).getResource():l["default"].file(e.filePath),options:{pinned:!0}};return!t&&e.lineNumber&&(n.options.selection={startLineNumber:e.lineNumber,startColumn:e.columnNumber}),n})},e.prototype.onEditorsChanged=function(){var e=this,t=this.editorService.getVisibleEditors().map(function(e){return a.asFileEditorInput(e.input,!0)}).filter(function(t){return!!t&&!e.contextService.isInsideWorkspace(t.getResource())}).map(function(e){return e.getResource().toString()});Object.keys(this.activeOutOfWorkspaceWatchers).forEach(function(i){t.indexOf(i)<0&&(e.fileService.unwatchFileChanges(i),delete e.activeOutOfWorkspaceWatchers[i])}),t.forEach(function(t){e.activeOutOfWorkspaceWatchers[t]||(e.fileService.watchFileChanges(l["default"].parse(t)),e.activeOutOfWorkspaceWatchers[t]=!0)})},e.prototype.onUntitledDirtyEvent=function(){this.isDocumentedEdited||this.updateDocumentEdited()},e.prototype.onUntitledSavedEvent=function(){this.isDocumentedEdited&&this.updateDocumentEdited()},e.prototype.onTextFileDirty=function(e){this.textFileService.getAutoSaveMode()===n.AutoSaveMode.AFTER_SHORT_DELAY||this.isDocumentedEdited||this.updateDocumentEdited()},e.prototype.onTextFileSaved=function(e){this.isDocumentedEdited&&this.updateDocumentEdited()},e.prototype.onTextFileSaveError=function(e){this.isDocumentedEdited||this.updateDocumentEdited()},e.prototype.onTextFileReverted=function(e){this.isDocumentedEdited&&this.updateDocumentEdited()},e.prototype.updateDocumentEdited=function(){if(r.platform===r.Platform.Mac){var e=this.textFileService.isDirty();this.isDocumentedEdited=e,w.ipcRenderer.send("vscode:setDocumentEdited",this.windowService.getWindowId(),e)}},e.prototype.getId=function(){return"vs.files.electronFileTracker"},e.prototype.dispose=function(){this.toUnbind=C.dispose(this.toUnbind);for(var e in this.activeOutOfWorkspaceWatchers)this.fileService.unwatchFileChanges(e);this.activeOutOfWorkspaceWatchers=Object.create(null)},e=g([m(0,y.IWorkspaceContextService),m(1,E.IEventService),m(2,v.IPartService),m(3,o.IFileService),m(4,n.ITextFileService),m(5,_.IViewletService),m(6,u.IWorkbenchEditorService),m(7,I.IEditorGroupService),m(8,S.IInstantiationService),m(9,f.IUntitledEditorService),m(10,b.ILifecycleService),m(11,h.IWindowService)],e)}();t.FileTracker=T}),define(l[1009],d([1,0,558,2,25,9,12,19,30,28,1002,143,47,87,34,149,6,43,72,21,23,45,22,97,44,38]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L){"use strict";var D=function(e){function t(t,i,n,o,r,s,a,c,u,l,d,h,p){e.call(this,t,i,a,s,l,d,c,n,p),this.untitledEditorService=o,this.lifecycleService=r,this.modeService=u,this.windowService=h,this.init()}return h(t,e),t.prototype.registerListeners=function(){var t=this;e.prototype.registerListeners.call(this),this.lifecycleService.onWillShutdown(function(e){return e.veto(t.beforeShutdown())}),this.lifecycleService.onShutdown(this.onShutdown,this)},t.prototype.beforeShutdown=function(){var e=this;return!!this.getDirty().length&&(this.getAutoSaveMode()!==p.AutoSaveMode.OFF?this.saveAll(!1).then(function(){return!!e.getDirty().length&&e.confirmBeforeShutdown()}):this.confirmBeforeShutdown())},t.prototype.confirmBeforeShutdown=function(){var e=this.confirmSave();return e===c.ConfirmResult.SAVE?this.saveAll(!0).then(function(e){return!!e.results.some(function(e){return!e.success})}):e!==c.ConfirmResult.DONT_SAVE&&(e===c.ConfirmResult.CANCEL||void 0)},t.prototype.onShutdown=function(){e.prototype.dispose.call(this)},t.prototype.revertAll=function(t,i){var n=this;return e.prototype.revertAll.call(this,t,i).then(function(e){var i=n.untitledEditorService.revertAll(t);return i.forEach(function(t){return e.results.push({source:t,success:!0})}),e})},t.prototype.getDirty=function(t){var i=this,n=e.prototype.getDirty.call(this,t);if(t){var o=t.map(function(e){return i.untitledEditorService.get(e)}).filter(function(e){return e&&e.isDirty()}).map(function(e){return e.getResource()});n.push.apply(n,o)}else n.push.apply(n,this.untitledEditorService.getDirty());return n},t.prototype.isDirty=function(t){return!!e.prototype.isDirty.call(this,t)||this.untitledEditorService.getDirty().some(function(e){return!t||e.toString()===t.toString()})},t.prototype.confirmSave=function(e){if(this.contextService.getConfiguration().env.extensionDevelopmentPath)return c.ConfirmResult.DONT_SAVE;var n=this.getDirty(e);if(0===n.length)return c.ConfirmResult.DONT_SAVE;var r=[1===n.length?i.localize(0,null,o.basename(n[0].fsPath)):i.localize(1,null,n.length)];n.length>1&&(r.push(""),r.push.apply(r,n.slice(0,t.MAX_CONFIRM_FILES).map(function(e){return o.basename(e.fsPath)})),n.length>t.MAX_CONFIRM_FILES&&(n.length-t.MAX_CONFIRM_FILES===1?r.push(i.localize(2,null)):r.push(i.localize(3,null,n.length-t.MAX_CONFIRM_FILES))),r.push(""));var a={label:n.length>1?this.mnemonicLabel(i.localize(4,null)):this.mnemonicLabel(i.localize(5,null)),result:c.ConfirmResult.SAVE},u={label:this.mnemonicLabel(i.localize(6,null)),result:c.ConfirmResult.DONT_SAVE},l={label:i.localize(7,null),result:c.ConfirmResult.CANCEL},d=[];s.isWindows?d.push(a,u,l):s.isLinux?d.push(u,l,a):d.push(a,l,u);var h={title:this.contextService.getConfiguration().env.appName,message:r.join("\n"),type:"warning",detail:i.localize(8,null),buttons:d.map(function(e){return e.label}),noLink:!0,cancelId:d.indexOf(l)};s.isLinux&&(h.defaultId=2);var p=this.windowService.getWindow().showMessageBox(h);return d[p].result},t.prototype.mnemonicLabel=function(e){return s.isWindows?e.replace(/&&/g,"&"):e.replace(/\(&&\w\)|&&/g,"")},t.prototype.saveAll=function(e){var t=[];t=Array.isArray(e)?this.getDirty(e):this.getDirty();var i=[],n=[];return t.forEach(function(t){"file"===t.scheme?i.push(t):!Array.isArray(e)&&e!==!0||"untitled"!==t.scheme||n.push(t)}),this.doSaveAll(i,n)},t.prototype.doSaveAll=function(t,i){var o=this;return e.prototype.saveAll.call(this,t).then(function(e){for(var r=[],s=0;s<i.length;s++){var c=o.untitledEditorService.get(i[s]);if(c){var u=void 0;if(o.untitledEditorService.hasAssociatedFilePath(c.getResource()))u=c.getResource().fsPath;else if(u=o.promptForPath(o.suggestFileName(i[s])),!u)return n.TPromise.as({results:t.concat(i).map(function(e){return{source:e}})});r.push(a["default"].file(u))}}var l=[];return r.forEach(function(t,n){var r=o.saveAs(i[n],t).then(function(t){e.results.push({source:i[n],target:t,success:!!t})});l.push(r)}),n.TPromise.join(l).then(function(){return e})})},t.prototype.saveAs=function(e,t){if(!t){var i=e.fsPath;"untitled"===e.scheme&&(i=this.suggestFileName(e));var o=this.promptForPath(i);o&&(t=a["default"].file(o))}return t?e.toString()===t.toString()?this.save(e).then(function(){return e}):this.doSaveAs(e,t):n.TPromise.as(null)},t.prototype.doSaveAs=function(e,t){var i=this,o=n.TPromise.as(null);if("file"===e.scheme)o=n.TPromise.as(d.CACHE.get(e));else if("untitled"===e.scheme){var r=this.untitledEditorService.get(e);r&&(o=r.resolve())}return o.then(function(n){return n?i.doSaveTextFileAs(n,e,t):i.fileService.copyFile(e,t)}).then(function(){return i.revert(e).then(function(){return t})})},t.prototype.doSaveTextFileAs=function(e,t,i){var n=this;return this.fileService.resolveFile(i).then(function(e){return e},function(){return null}).then(function(e){return e||n.fileService.createFile(i)}).then(function(o){return n.editorService.resolveEditorModel({resource:i}).then(function(o){return o instanceof y.BinaryEditorModel?n.fileService.del(i).then(function(){return n.doSaveTextFileAs(e,t,i)}):(o.updatePreferredEncoding(e.getEncoding()),o.textEditorModel.setValue(e.getValue()),o.save())})})},t.prototype.suggestFileName=function(e){var t=this.contextService.getWorkspace();return t?a["default"].file(o.join(t.resource.fsPath,this.untitledEditorService.get(e).suggestFileName())).fsPath:this.untitledEditorService.get(e).suggestFileName()},t.prototype.promptForPath=function(e){return this.windowService.getWindow().showSaveDialog(this.getSaveDialogOptions(e?o.normalize(e,!0):void 0))},t.prototype.getSaveDialogOptions=function(e){var t=this,n={defaultPath:e},s=!0;if(s)return n;var a,c=o.extname(e),u=this.modeService.getRegisteredLanguageNames().map(function(e){var i=t.modeService.getExtensions(e);if(!i||!i.length)return null;var n={name:e,extensions:i.map(function(e){return r.trim(e,".")})};return c&&i.indexOf(c)>=0?(a=n,null):n}).filter(function(e){return!!e}),l={name:i.localize(9,null),extensions:["*"]};return a?(u.unshift(a),u.push(l)):u.unshift(l),n.filters=u,n},t.MAX_CONFIRM_FILES=10,t=g([m(0,S.IWorkspaceContextService),m(1,E.IInstantiationService),m(2,v.IFileService),m(3,f.IUntitledEditorService),m(4,b.ILifecycleService),m(5,_.ITelemetryService),m(6,C.IConfigurationService),m(7,u.IEventService),m(8,w.IModeService),m(9,I.IWorkbenchEditorService),m(10,A.IEditorGroupService),m(11,T.IWindowService),m(12,L.IModelService)],t)}(l.TextFileService);t.TextFileService=D}),define(l[1010],d([1,0,557,15,63,42,35,12,47,84,128,1008,1009,276,6,96,13]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(e){function t(t){e.call(this),this.instantiationService=t}return h(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element;return!!c.asFileResource(t)},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var i=c.asFileResource(e.element);t.push(this.instantiationService.createInstance(f.RevealInOSAction,i.resource)),t.push(this.instantiationService.createInstance(f.CopyPathAction,i.resource))}return t},t=g([m(0,v.IInstantiationService)],t)}(o.ActionBarContributor),b=i.localize(0,null),_=n.Registry.as(r.Extensions.WorkbenchActions);_.registerWorkbenchAction(new s.SyncActionDescriptor(l.SaveFileAsAction,l.SaveFileAsAction.ID,l.SaveFileAsAction.LABEL,{primary:E.KeyMod.CtrlCmd|E.KeyMod.Shift|E.KeyCode.KEY_S}),"Files: Save As...",b),_.registerWorkbenchAction(new s.SyncActionDescriptor(l.GlobalNewUntitledFileAction,l.GlobalNewUntitledFileAction.ID,l.GlobalNewUntitledFileAction.LABEL,{primary:E.KeyMod.CtrlCmd|E.KeyCode.KEY_N}),"Files: New Untitled File",b),_.registerWorkbenchAction(new s.SyncActionDescriptor(f.GlobalCopyPathAction,f.GlobalCopyPathAction.ID,f.GlobalCopyPathAction.LABEL,{primary:E.KeyMod.chord(E.KeyMod.CtrlCmd|E.KeyCode.KEY_K,E.KeyCode.KEY_P)}),"Files: Copy Path of Active File",b),_.registerWorkbenchAction(new s.SyncActionDescriptor(f.GlobalRevealInOSAction,f.GlobalRevealInOSAction.ID,f.GlobalRevealInOSAction.LABEL,{primary:E.KeyMod.chord(E.KeyMod.CtrlCmd|E.KeyCode.KEY_K,E.KeyCode.KEY_R)}),"Files: Reveal Active File",b),_.registerWorkbenchAction(new s.SyncActionDescriptor(f.ShowOpenedFileInNewWindow,f.ShowOpenedFileInNewWindow.ID,f.ShowOpenedFileInNewWindow.LABEL,{primary:E.KeyMod.chord(E.KeyMod.CtrlCmd|E.KeyCode.KEY_K,E.KeyCode.KEY_O)}),"Files: Open Active File in New Window",b),a.isMacintosh?_.registerWorkbenchAction(new s.SyncActionDescriptor(f.OpenFileFolderAction,f.OPEN_FILE_FOLDER_ID,f.OPEN_FILE_FOLDER_LABEL,{primary:E.KeyMod.CtrlCmd|E.KeyCode.KEY_O}),"Files: Open...",b):(_.registerWorkbenchAction(new s.SyncActionDescriptor(f.OpenFileAction,f.OPEN_FILE_ID,f.OPEN_FILE_LABEL,{primary:E.KeyMod.CtrlCmd|E.KeyCode.KEY_O}),"Files: Open File...",b),_.registerWorkbenchAction(new s.SyncActionDescriptor(f.OpenFolderAction,f.OPEN_FOLDER_ID,f.OPEN_FOLDER_LABEL),"Files: Open Folder...",b));var C=n.Registry.as(o.Extensions.Actionbar);C.registerActionBarContributor(o.Scope.VIEWER,S),n.Registry.as(u.Extensions.Workbench).registerWorkbenchContribution(d.FileTracker),y.registerSingleton(c.ITextFileService,p.TextFileService)}),define(l[317],d([1,0,2,559,5,9,17,27,236,213,30,7,12,22,43,28,34,18,33,68,50,25,19]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I){"use strict";function T(e,t){if(void 0===t&&(t=!1),e){if(Array.isArray(e)){if(e.some(function(e){return!(e instanceof c.FileStatus)}))throw new Error("Invalid context.");return e}if(e instanceof c.FileStatus)return[e];if(e instanceof c.StatusGroup)return e.all();if(e.tree){var i=e.tree.getSelection();return i.indexOf(e.fileStatus)>-1?i:[e.fileStatus]}if(e.selection)return!t&&e.selection.indexOf(e.focus)>-1?e.selection:[e.focus];throw new Error("Invalid context.")}return e}var A=function(e){function t(t,i,n,o){var r=this;e.call(this,t,i,n,!1),this.gitService=o,this.toDispose=[this.gitService.addBulkListener2(function(){return r.onGitServiceChange()})],this.onGitServiceChange()}return h(t,e),t.prototype.onGitServiceChange=function(){this.updateEnablement()},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t.prototype.isEnabled=function(){return!!this.gitService},t.prototype.dispose=function(){this.gitService=null,this.toDispose=o.dispose(this.toDispose),e.prototype.dispose.call(this)},t}(a.Action);t.GitAction=A;var L=function(e){function t(i,o){e.call(this,t.ID,n.localize(0,null),"git-action open-change",o),this.editorService=i,this.onGitServiceChange()}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this,i=T(e,!0);return this.gitService.getInput(i[0]).then(function(e){var i=new l.TextDiffEditorOptions;return i.forceOpen=!0,t.editorService.openEditor(e,i)})},t.ID="workbench.action.git.openChange",t=g([m(0,f.IWorkbenchEditorService),m(1,_.IGitService)],t)}(A);t.OpenChangeAction=L;var D=function(e){function t(i,o,r,s){e.call(this,t.ID,n.localize(1,null),"git-action open-file",r),this.fileService=o,this.editorService=i,this.contextService=s,this.onGitServiceChange()}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService||!!this.fileService},t.prototype.getPath=function(e){if(e.getStatus()===_.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),_.StatusType.INDEX);return t&&t.getStatus()===_.Status.INDEX_RENAMED?e.getRename():e.getPath()},t.prototype.run=function(e){var n=this,o=T(e,!0),r=o[0];if(!(r instanceof c.FileStatus))return i.Promise.wrapError(new Error("Can't open file."));if(t.DELETED_STATES.indexOf(r.getStatus())>-1)return i.Promise.wrapError(new Error("Can't open file which is has been deleted."));var s=I["default"].file(w.join(this.gitService.getModel().getRepositoryRoot(),this.getPath(r)));return this.fileService.resolveFile(s).then(function(e){return n.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}})})},t.DELETED_STATES=[_.Status.BOTH_DELETED,_.Status.DELETED,_.Status.DELETED_BY_US,_.Status.INDEX_DELETED],t.ID="workbench.action.git.openFile",t=g([m(0,f.IWorkbenchEditorService),m(1,E.IFileService),m(2,_.IGitService),m(3,v.IWorkspaceContextService)],t)}(A);t.OpenFileAction=D;var k=function(e){function t(i){e.call(this,t.ID,n.localize(2,null),"git-action init",i)}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getState()===_.ServiceState.NotARepo},t.prototype.run=function(){return this.gitService.init()},t.ID="workbench.action.git.init",t=g([m(0,_.IGitService)],t)}(A);t.InitAction=k;var x=function(e){function t(i){e.call(this,t.ID,n.localize(3,null),"git-action refresh",i)}return h(t,e),t.prototype.run=function(){return this.gitService.status()},t.ID="workbench.action.git.refresh",t=g([m(0,_.IGitService)],t)}(A);t.RefreshAction=x;var M=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o),this.editorService=r}return h(t,e),t.prototype.run=function(e){var t=this,n=T(e);return this.gitService.add(n).then(function(e){var o=t.findGitWorkingTreeEditor();if(!o)return i.TPromise.as(e);var r=o.input,s=r.getFileStatus();if(n&&n.every(function(e){return e!==s}))return i.TPromise.as(e);var a=r.getFileStatus().getPath(),c=e.getStatus().find(a,_.StatusType.INDEX);if(!c)return i.TPromise.as(e);var u=o.getControl(),d=u?u.saveViewState():null;return t.gitService.getInput(c).then(function(i){var n=new l.TextDiffEditorOptions;return n.forceOpen=!0,t.editorService.openEditor(i,n,o.position).then(function(t){return d&&u.restoreViewState(d),e})})})},t.prototype.findGitWorkingTreeEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var i=e[t];if(u.isGitEditorInput(i.input))return i}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t}(A);t.BaseStageAction=M;var R=function(e){function t(i,n){e.call(this,t.ID,t.LABEL,"git-action stage",i,n)}return h(t,e),t.ID="workbench.action.git.stage",t.LABEL=n.localize(4,null),t=g([m(0,_.IGitService),m(1,f.IWorkbenchEditorService)],t)}(M);t.StageAction=R;var O=function(e){function t(i,o){e.call(this,t.ID,n.localize(5,null),"git-action stage",i,o)}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(t){return e.prototype.run.call(this)},t.ID="workbench.action.git.stageAll",t=g([m(0,_.IGitService),m(1,f.IWorkbenchEditorService)],t)}(M);t.GlobalStageAction=O;var P=function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this,t,i,n,o),this.eventService=r,this.editorService=c,this.messageService=s,this.fileService=a,this.contextService=u,this.onGitServiceChange()}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.eventService&&!!this.editorService&&!!this.fileService},t.prototype.run=function(e){var t=this;if(!this.messageService.confirm(this.getConfirm(e)))return i.TPromise.as(null);var n=[];if(e instanceof c.StatusGroup)n=[this.gitService.undo()];else{for(var o=T(e),r=[],s=[],a=0;a<o.length;a++){var u=o[a].clone();switch(u.getStatus()){case _.Status.UNTRACKED:case _.Status.IGNORED:r.push(u);break;default:s.push(u)}}r.length>0&&n.push(this.gitService.clean(r)),s.length>0&&n.push(this.gitService.checkout("",s))}return i.Promise.join(n).then(function(e){if(0===e.length)return i.TPromise.as(null);var n=e[e.length-1],r=t.findWorkingTreeDiffEditor();if(!r)return i.TPromise.as(n);var s=r.input,a=s.getFileStatus();if(o&&o.every(function(e){return e!==a}))return i.TPromise.as(n);var c=s.getFileStatus().getPath(),u=r.getControl(),l=u?u.getModifiedEditor():null,d=l?l.saveViewState():null;return t.fileService.resolveFile(t.contextService.toResource(c)).then(function(e){return t.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}},r.position).then(function(e){if(d){var t=r.getControl();t&&t.restoreViewState(d)}})})}).then(null,function(e){return console.error("One or more errors occurred",e),i.Promise.wrapError(e[0])})},t.prototype.findWorkingTreeDiffEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var i=e[t];if(i.input instanceof u.GitWorkingTreeDiffEditorInput)return i}return null},t.prototype.getConfirm=function(e){var t=T(e);if(t.length>1){var i=t.length;return{message:n.localize(6,null),detail:1===i?n.localize(7,null,i):n.localize(8,null,i),primaryButton:n.localize(9,null)}}var o=t[0].getPathComponents().reverse()[0];return{message:n.localize(10,null,o),detail:n.localize(11,null),primaryButton:n.localize(12,null)}},t.prototype.dispose=function(){this.eventService=null,this.editorService=null,this.fileService=null,e.prototype.dispose.call(this)},t}(A);t.BaseUndoAction=P;var N=function(e){
function t(i,o,r,s,a,c){e.call(this,t.ID,n.localize(13,null),"git-action undo",i,o,r,s,a,c)}return h(t,e),t.ID="workbench.action.git.undo",t=g([m(0,_.IGitService),m(1,y.IEventService),m(2,S.IMessageService),m(3,E.IFileService),m(4,f.IWorkbenchEditorService),m(5,v.IWorkspaceContextService)],t)}(P);t.UndoAction=N;var F=function(e){function t(i,o,r,s,a,c){e.call(this,t.ID,n.localize(14,null),"git-action undo",i,o,r,s,a,c)}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getWorkingTreeStatus().all().length>0},t.prototype.run=function(t){return e.prototype.run.call(this,this.gitService.getModel().getStatus().getWorkingTreeStatus())},t.ID="workbench.action.git.undoAll",t=g([m(0,_.IGitService),m(1,y.IEventService),m(2,S.IMessageService),m(3,E.IFileService),m(4,f.IWorkbenchEditorService),m(5,v.IWorkspaceContextService)],t)}(P);t.GlobalUndoAction=F;var W=function(e){function t(t,i,n,o,r){e.call(this,t,i,n,o),this.editorService=r,this.onGitServiceChange()}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.editorService},t.prototype.run=function(e){var t=this,n=T(e);return this.gitService.revertFiles("HEAD",n).then(function(e){var o=t.findGitIndexEditor();if(!o)return i.TPromise.as(e);var r=o.input,s=r.getFileStatus();if(n&&n.every(function(e){return e!==s}))return i.TPromise.as(e);var a=r.getFileStatus().getPath(),c=e.getStatus().find(a,_.StatusType.WORKING_TREE);if(!c)return i.TPromise.as(e);var u=o.getControl(),d=u?u.saveViewState():null;return t.gitService.getInput(c).then(function(i){var n=new l.TextDiffEditorOptions;return n.forceOpen=!0,t.editorService.openEditor(i,n,o.position).then(function(t){return d&&u.restoreViewState(d),e})})})},t.prototype.findGitIndexEditor=function(){for(var e=this.editorService.getVisibleEditors(),t=0;t<e.length;t++){var i=e[t];if(u.isGitEditorInput(i.input))return i}return null},t.prototype.dispose=function(){this.editorService=null,e.prototype.dispose.call(this)},t}(A);t.BaseUnstageAction=W;var B=function(e){function t(i,n){e.call(this,t.ID,t.LABEL,"git-action unstage",i,n)}return h(t,e),t.ID="workbench.action.git.unstage",t.LABEL=n.localize(15,null),t=g([m(0,_.IGitService),m(1,f.IWorkbenchEditorService)],t)}(W);t.UnstageAction=B;var K=function(e){function t(i,o){e.call(this,t.ID,n.localize(16,null),"git-action unstage",i,o)}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t.prototype.run=function(t){return e.prototype.run.call(this)},t.ID="workbench.action.git.unstageAll",t=g([m(0,_.IGitService),m(1,f.IWorkbenchEditorService)],t)}(W);t.GlobalUnstageAction=K;var V;!function(e){e[e.Alive=0]="Alive",e[e.Disposing=1]="Disposing",e[e.Disposed=2]="Disposed"}(V||(V={}));var H=function(e){function t(i,n,o){e.call(this,t.ID,i.name,"git-action checkout",n),this.editorService=o,this.branch=i,this.HEAD=null,this.state=V.Alive,this.runPromises=[],this.onGitServiceChange()}return h(t,e),t.prototype.onGitServiceChange=function(){this.gitService.getState()===_.ServiceState.OK&&(this.HEAD=this.gitService.getModel().getHEAD(),this.HEAD&&this.HEAD.name===this.branch.name?this["class"]="git-action checkout HEAD":this["class"]="git-action checkout"),e.prototype.onGitServiceChange.call(this)},t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&!!this.HEAD},t.prototype.run=function(e){var t=this;if(this.state!==V.Alive)return i.Promise.wrapError("action disposed");if(this.HEAD&&this.HEAD.name===this.branch.name)return i.TPromise.as(null);var o=this.gitService.checkout(this.branch.name).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.DirtyWorkTree?i.Promise.wrapError(new Error(n.localize(17,null))):i.Promise.wrapError(e)});return this.runPromises.push(o),o.done(function(){return t.runPromises.splice(t.runPromises.indexOf(o),1)}),o},t.prototype.dispose=function(){var e=this;this.state===V.Alive&&(this.state=V.Disposing,i.Promise.join(this.runPromises).done(function(){return e.actuallyDispose()}))},t.prototype.actuallyDispose=function(){this.editorService=null,this.branch=null,this.HEAD=null,e.prototype.dispose.call(this),this.state=V.Disposed},t.ID="workbench.action.git.checkout",t=g([m(1,_.IGitService),m(2,f.IWorkbenchEditorService)],t)}(A);t.CheckoutAction=H;var z=function(e){function t(i,n){e.call(this,t.ID,"Branch","git-action checkout",n),this.checkout=i}return h(t,e),t.prototype.run=function(e){return s.isString(e)?this.gitService.branch(e,this.checkout):i.TPromise.as(!1)},t.ID="workbench.action.git.branch",t=g([m(1,_.IGitService)],t)}(A);t.BranchAction=z;var U=function(e){function t(t,i,n,o,r){var s=this;e.call(this,i,n,o,r),this.commitState=t,this.toDispose.push(t.addListener2("change/commitInputBox",function(){s.updateEnablement()})),this.onGitServiceChange()}return h(t,e),t.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.gitService.getModel().getStatus().getIndexStatus().all().length>0},t.prototype.run=function(e){return this.commitState.getCommitMessage()?this.gitService.commit(this.commitState.getCommitMessage()):(this.commitState.onEmptyCommitMessage(),i.TPromise.as(null))},t}(A);t.BaseCommitAction=U;var G=function(e){function t(i,o){e.call(this,i,t.ID,n.localize(18,null),"git-action commit",o)}return h(t,e),t.ID="workbench.action.git.commit",t=g([m(1,_.IGitService)],t)}(U);t.CommitAction=G;var j=function(e){function t(i,n,o,r){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,i,n,"",o),this.quickOpenService=r}return h(t,e),t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(){var e=this;if(!this.enabled)return i.TPromise.as(null);var t=this.gitService.getModel().getStatus();return this.quickOpenService.input({prompt:n.localize(20,null)}).then(function(i){return i&&e.gitService.commit(i,!1,0===t.getIndexStatus().all().length)})},t.ID="workbench.action.git.input-commit",t.LABEL=n.localize(19,null),t=g([m(2,_.IGitService),m(3,C.IQuickOpenService)],t)}(A);t.InputCommitAction=j;var q=function(e){function t(i,o){e.call(this,i,t.ID,n.localize(21,null),"git-action stage-and-commit",o)}return h(t,e),t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(e){return this.commitState.getCommitMessage()?this.gitService.commit(this.commitState.getCommitMessage(),!1,!0):(this.commitState.onEmptyCommitMessage(),i.TPromise.as(null))},t.ID="workbench.action.git.stageAndCommit",t=g([m(1,_.IGitService)],t)}(U);t.StageAndCommitAction=q;var Y=function(e){function t(i,n,o){e.call(this,i,t.ID,t.ALL,"git-action smart-commit",n),this.messageService=o,this.onGitServiceChange()}return h(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),!this.enabled)return void(this.label=t.ALL);var i=this.gitService.getModel().getStatus();i.getIndexStatus().all().length>0?this.label=t.STAGED:this.label=t.ALL,this.label+=" ("+(p.isMacintosh?"Cmd+Enter":"Ctrl+Enter")+")"},t.prototype.isEnabled=function(){if(!this.gitService)return!1;if(!this.gitService.isIdle())return!1;var e=this.gitService.getModel().getStatus();return e.getIndexStatus().all().length>0||e.getWorkingTreeStatus().all().length>0},t.prototype.run=function(e){if(!this.commitState.getCommitMessage())return this.commitState.onEmptyCommitMessage(),i.TPromise.as(null);var t=this.gitService.getModel().getStatus();return this.gitService.commit(this.commitState.getCommitMessage(),!1,0===t.getIndexStatus().all().length)},t.ID="workbench.action.git.commitAll",t.ALL=n.localize(22,null),t.STAGED=n.localize(23,null),t=g([m(1,_.IGitService),m(2,S.IMessageService)],t)}(U);t.SmartCommitAction=Y;var $=function(e){function t(i,n,o){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,i,n,"git-action pull",o)}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),i=t.getHEAD();return!!(i&&i.name&&i.upstream)},t.prototype.run=function(e){return this.pull()},t.prototype.pull=function(e){return void 0===e&&(e=!1),this.gitService.pull(e).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.DirtyWorkTree?i.Promise.wrapError(d.create(n.localize(24,null),{severity:b["default"].Warning})):e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?i.Promise.wrapError(d.create(n.localize(25,null))):i.Promise.wrapError(e)})},t.ID="workbench.action.git.pull",t.LABEL="Pull",t=g([m(2,_.IGitService)],t)}(A);t.PullAction=$;var X=function(e){function t(i){e.call(this,t.ID,t.LABEL,i)}return h(t,e),t.prototype.run=function(e){return this.pull(!0)},t.ID="workbench.action.git.pull.rebase",t.LABEL="Pull (Rebase)",t=g([m(0,_.IGitService)],t)}($);t.PullWithRebaseAction=X;var Q=function(e){function t(i,n,o){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,i,n,"git-action push",o)}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),i=t.getHEAD();return!!(i&&i.name&&i.upstream)&&!!i.ahead},t.prototype.run=function(e){return this.gitService.push().then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?i.Promise.wrapError(d.create(n.localize(26,null))):i.Promise.wrapError(e)})},t.ID="workbench.action.git.push",t.LABEL="Push",t=g([m(2,_.IGitService)],t)}(A);t.PushAction=Q;var Z=function(e){function t(i,n,o,r,s){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,i,n,"git-action publish",o),this.quickOpenService=r,this.messageService=s}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel();if(0===t.getRemotes().length)return!1;var i=t.getHEAD();return!(!i||!i.name||i.upstream)},t.prototype.run=function(e){var t,o=this,r=this.gitService.getModel(),s=r.getRemotes(),a=r.getHEAD().name;if(1===s.length){var c=s[0].name,u=this.messageService.confirm({message:n.localize(28,null,a,c),primaryButton:n.localize(29,null)});t=i.TPromise.as(u?c:null)}else{var l=s.map(function(e){var t=e.name,i=e.url;return{label:t,description:i}}),h=n.localize(30,null,a);t=this.quickOpenService.pick(l,{placeHolder:h}).then(function(e){return e&&e.label})}return t.then(function(e){return e&&o.gitService.push(e,a,{setUpstream:!0})}).then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?i.Promise.wrapError(d.create(n.localize(31,null))):i.Promise.wrapError(e)})},t.ID="workbench.action.git.publish",t.LABEL=n.localize(27,null),t=g([m(2,_.IGitService),m(3,C.IQuickOpenService),m(4,S.IMessageService)],t)}(A);t.PublishAction=Z;var J=function(e){function t(t,i,n,o){e.call(this,t,i,n,o)}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService.isIdle())return!1;var t=this.gitService.getModel(),i=t.getHEAD();return!!(i&&i.name&&i.upstream)},t.prototype.run=function(e){return this.enabled?this.gitService.sync().then(null,function(e){return e.gitErrorCode===_.GitErrorCodes.AuthenticationFailed?i.Promise.wrapError(d.create(n.localize(32,null))):i.Promise.wrapError(e)}):i.TPromise.as(null)},t}(A);t.BaseSyncAction=J;var ee=function(e){function t(t,i,n){e.call(this,t,i,"git-action sync",n)}return h(t,e),t.ID="workbench.action.git.sync",t.LABEL="Sync",t=g([m(2,_.IGitService)],t)}(J);t.SyncAction=ee;var te=function(e){function t(i){e.call(this,t.ID,"sync",t.CLASS_NAME,i)}return h(t,e),t.prototype.onGitServiceChange=function(){if(e.prototype.onGitServiceChange.call(this),this.gitService.getRunningOperations().some(function(e){return e.id===_.ServiceOperations.SYNC||e.id===_.ServiceOperations.PULL||e.id===_.ServiceOperations.PUSH}))this.label="",this["class"]=t.CLASS_NAME_LOADING,this.tooltip=n.localize(33,null);else{this["class"]=t.CLASS_NAME;var i=this.gitService.getModel(),o=i.getHEAD();o?o.name?o.upstream?o.ahead||o.behind?(this.label=r.format("{0}↓ {1}↑",o.behind,o.ahead),i.getStatus().getGroups().some(function(e){return e.all().length>0})?this.tooltip=n.localize(37,null):1===o.behind&&1===o.ahead?this.tooltip=n.localize(38,null,o.name,o.behind,o.ahead,o.upstream):1===o.behind?this.tooltip=n.localize(39,null,o.name,o.behind,o.ahead,o.upstream):1===o.ahead?this.tooltip=n.localize(40,null,o.name,o.behind,o.ahead,o.upstream):this.tooltip=n.localize(41,null,o.name,o.behind,o.ahead,o.upstream)):(this.label="",this.tooltip=n.localize(36,null,o.name)):(this.label="",this.tooltip=n.localize(35,null,o.name)):(this.label="",this.tooltip=n.localize(34,null)):(this.label="",this.tooltip="")}},t.ID="workbench.action.git.liveSync",t.CLASS_NAME="git-action live-sync",t.CLASS_NAME_LOADING="git-action live-sync loading",t=g([m(0,_.IGitService)],t)}(J);t.LiveSyncAction=te;var ie=function(e){function t(i,n,o){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,t.ID,t.LABEL,"git-action undo-last-commit",o)}return h(t,e),t.prototype.run=function(){return this.gitService.reset("HEAD~")},t.ID="workbench.action.git.undoLastCommit",t.LABEL=n.localize(42,null),t=g([m(2,_.IGitService)],t)}(A);t.UndoLastCommitAction=ie;var ne=function(e){function t(t,i,n){e.call(this,t,i),this.quickOpenService=n}return h(t,e),t.prototype.run=function(e){return this.quickOpenService.show("git checkout "),i.TPromise.as(null)},t.ID="workbench.action.git.startGitCheckout",t.LABEL="Checkout",t=g([m(2,C.IQuickOpenService)],t)}(a.Action);t.StartGitCheckoutAction=ne;var oe=function(e){function t(t,i,n){e.call(this,t,i),this.quickOpenService=n}return h(t,e),t.prototype.run=function(e){return this.quickOpenService.show("git branch "),i.TPromise.as(null)},t.ID="workbench.action.git.startGitBranch",t.LABEL="Branch",t=g([m(2,C.IQuickOpenService)],t)}(a.Action);t.StartGitBranchAction=oe}),define(l[1012],d([1,0,563,9,16,10,5,68,50,6,317,33,18]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";var p=500,f=function(){function e(e,t,i,n){this.messageService=n,this.instantiationService=e,this.gitService=t,this.quickOpenService=i,this.disablementDelayer=new o.Delayer(p),this.syncAction=e.createInstance(l.SyncAction,l.SyncAction.ID,l.SyncAction.LABEL),this.publishAction=e.createInstance(l.PublishAction,l.PublishAction.ID,l.PublishAction.LABEL),this.toDispose=[this.syncAction,this.publishAction],this.state={serviceState:a.ServiceState.NotInitialized,isBusy:!1,isSyncing:!1,HEAD:null,remotes:[],ps1:""}}return e.prototype.render=function(e){var t=this;return this.element=r.append(e,r.emmet(".git-statusbar-group")),this.branchElement=r.append(this.element,r.emmet("a")),this.publishElement=r.append(this.element,r.emmet("a.octicon.octicon-cloud-upload")),this.publishElement.title=i.localize(0,null),this.publishElement.onclick=function(){return t.onPublishClick()},this.syncElement=r.append(this.element,r.emmet("a.git-statusbar-sync-item")),this.syncElement.title=i.localize(1,null),this.syncElement.onclick=function(){return t.onSyncClick()},r.append(this.syncElement,r.emmet("span.octicon.octicon-sync")),this.syncLabelElement=r.append(this.syncElement,r.emmet("span.ahead-behind")),this.setState(this.state),this.toDispose.push(this.gitService.addBulkListener2(function(){return t.onGitServiceChange()})),s.combinedDisposable(this.toDispose)},e.prototype.onGitServiceChange=function(){var e=this.gitService.getModel();this.setState({serviceState:this.gitService.getState(),isBusy:this.gitService.getRunningOperations().some(function(e){return e.id===a.ServiceOperations.CHECKOUT||e.id===a.ServiceOperations.BRANCH}),isSyncing:this.gitService.getRunningOperations().some(function(e){return e.id===a.ServiceOperations.SYNC}),HEAD:e.getHEAD(),remotes:e.getRemotes(),ps1:e.getPS1()})},e.prototype.setState=function(e){var t=this;this.state=e;var o,s=!1,c="git-statusbar-branch-item",u="",l="",d=null;if(e.serviceState!==a.ServiceState.OK)s=!0,c+=" disabled",l=i.localize(2,null),o=" ";else{var h=e.HEAD;e.isBusy?c+=" busy":d=function(){return t.onBranchClick()},h?h.name?h.commit&&h.upstream&&(h.ahead||h.behind)?(o=e.ps1,u=n.format("{0}↓ {1}↑",h.behind,h.ahead)):o=e.ps1:(o=e.ps1,c+=" headless"):o=e.ps1}this.branchElement.className=c,this.branchElement.title=l,this.branchElement.textContent=o,this.branchElement.onclick=d,this.syncLabelElement.textContent=u,s?(r.hide(this.branchElement),r.hide(this.publishElement),r.hide(this.syncElement)):(r.show(this.branchElement),e.HEAD&&e.HEAD.upstream?(r.show(this.syncElement),r.toggleClass(this.syncElement,"syncing",this.state.isSyncing),r.toggleClass(this.syncElement,"empty",!u),this.disablementDelayer.trigger(function(){return r.toggleClass(t.syncElement,"disabled",!t.syncAction.enabled)},this.syncAction.enabled?0:p),r.hide(this.publishElement)):e.remotes.length>0?(r.hide(this.syncElement),r.show(this.publishElement),this.disablementDelayer.trigger(function(){return r.toggleClass(t.publishElement,"disabled",!t.publishAction.enabled)},this.publishAction.enabled?0:p)):(r.hide(this.syncElement),r.hide(this.publishElement)))},e.prototype.onBranchClick=function(){this.quickOpenService.show("git checkout ")},e.prototype.onPublishClick=function(){var e=this;this.publishAction.enabled&&this.publishAction.run().done(null,function(t){return e.messageService.show(d["default"].Error,t)})},e.prototype.onSyncClick=function(){var e=this;this.syncAction.enabled&&this.syncAction.run().done(null,function(t){return e.messageService.show(d["default"].Error,t)})},e=g([m(0,u.IInstantiationService),m(1,a.IGitService),m(2,c.IQuickOpenService),m(3,h.IMessageService)],e)}();t.GitStatusbarItem=f}),define(l[242],d([1,0,564,16,7,25,5,2,84,68,11,152,71,150,15,1012,42,844,86,35,61,67,69,828,139,28,6,18,32,57,22,13,38,157,127,44,686]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W){"use strict";function B(){v.Registry.as(f.Extensions.Statusbar).registerStatusbarItem(new f.StatusbarItemDescriptor(y.GitStatusbarItem,f.StatusbarAlignment.LEFT,100));var e=v.Registry.as(b.Extensions.OutputChannels);e.registerChannel("Git",i.localize(3,null)),v.Registry.as(c.Extensions.Workbench).registerWorkbenchContribution(S.GitOutput),v.Registry.as(p.Extensions.Viewlets).registerViewlet(new p.ViewletDescriptor("vs/workbench/parts/git/browser/gitViewlet","GitViewlet",t.VIEWLET_ID,i.localize(4,null),"git",35)),v.Registry.as(E.Extensions.WorkbenchActions).registerWorkbenchAction(new _.SyncActionDescriptor(U,U.ID,U.LABEL,{primary:null,win:{primary:O.KeyMod.CtrlCmd|O.KeyMod.Shift|O.KeyCode.KEY_G},linux:{primary:O.KeyMod.CtrlCmd|O.KeyMod.Shift|O.KeyCode.KEY_G},mac:{primary:O.KeyMod.WinCtrl|O.KeyMod.Shift|O.KeyCode.KEY_G}}),"View: Show Git",i.localize(5,null)),C.EditorBrowserRegistry.registerEditorContribution(T.MergeDecorator),v.Registry.as(c.Extensions.Workbench).registerWorkbenchContribution(V),v.Registry.as(c.Extensions.Workbench).registerWorkbenchContribution(z),v.Registry.as(I.Extensions.Quickopen).registerQuickOpenHandler(new I.QuickOpenHandlerDescriptor("vs/workbench/parts/git/browser/gitQuickOpen","GitCommandQuickOpenHandler","git ",i.localize(6,null)));var n=v.Registry.as(w.Extensions.Configuration);n.registerConfiguration({id:"git",order:15,title:i.localize(7,null),type:"object",properties:{"git.enabled":{type:"boolean",description:i.localize(8,null),"default":!0},"git.path":{type:["string","null"],description:i.localize(9,null),"default":null},"git.autofetch":{type:"boolean",description:i.localize(10,null),"default":!0},"git.enableLongCommitWarning":{type:"boolean",description:i.localize(11,null),"default":!0},"git.allowLargeRepositories":{type:"boolean",description:i.localize(12,null),"default":!1}}})}var K=u.IGitService,V=function(){function e(e,t,i,o){var r=this;this.gitService=e,this.eventService=t,this.activityService=i,this.messageService=o,this.progressBadgeDelayer=new n.Delayer(200),this.toDispose=[],this.toDispose.push(this.gitService.addBulkListener2(function(e){return r.onGitServiceChange()}))}return e.prototype.onGitServiceChange=function(){var e=this;this.gitService.getState()!==u.ServiceState.OK?(this.progressBadgeDelayer.cancel(),this.activityService.showActivity("workbench.view.git",null,"git-viewlet-label")):this.gitService.isIdle()?this.showChangesBadge():this.progressBadgeDelayer.trigger(function(){e.activityService.showActivity("workbench.view.git",new A.ProgressBadge(function(){return i.localize(0,null)}),"git-viewlet-label-progress")})},e.prototype.showChangesBadge=function(){var e=this.gitService.getModel().getStatus().getGroups().map(function(e){return e.all().length}).reduce(function(e,t){return e+t},0),t=new A.NumberBadge(e,function(e){return i.localize(1,null,e)});this.progressBadgeDelayer.cancel(),this.activityService.showActivity("workbench.view.git",t,"git-viewlet-label")},e.prototype.getId=function(){return e.ID},e.prototype.dispose=function(){this.toDispose=s.dispose(this.toDispose)},e.ID="vs.git.statusUpdater",e=g([m(0,K),m(1,L.IEventService),m(2,A.IActivityService),m(3,k.IMessageService)],e)}();t.StatusUpdater=V;var H=function(){function e(t,i,o,r,s,a,c){var l=this;this.modelService=o,this.editorWorkerService=r,this.editorService=s,this.contextService=a,this.gitService=c,this.model=t,this._originalContentsURI=t.uri["with"]({scheme:e.GIT_ORIGINAL_SCHEME}),this.path=i,this.decorations=[],this.delayer=new n.ThrottledDelayer(500),this.diffDelayer=new n.ThrottledDelayer(200),this.toDispose=[],this.toDispose.push(t.onDidChangeContent(function(){return l.triggerDiff()})),this.toDispose.push(this.gitService.addListener2(u.ServiceEvents.STATE_CHANGED,function(){return l.onChanges()})),this.toDispose.push(this.gitService.addListener2(u.ServiceEvents.OPERATION_END,function(e){e.operation.id!==u.ServiceOperations.BACKGROUND_FETCH&&l.onChanges()})),this.onChanges()}return e.prototype.onChanges=function(){this.gitService&&this.gitService.getState()===u.ServiceState.OK&&this.trigger()},e.prototype.trigger=function(){var e=this;this.delayer.trigger(function(){return e.diffOriginalContents()}).done(null,o.onUnexpectedError)},e.prototype.diffOriginalContents=function(){var e=this;return this.getOriginalContents().then(function(t){if(e.model&&!e.model.isDisposed()){if(!t)return e.modelService.destroyModel(e._originalContentsURI),e.triggerDiff();var i=e.modelService.getModel(e._originalContentsURI);if(i){var n=N.RawText.fromStringWithModelOptions(t,i);if(i.equals(n))return a.TPromise.as(null);i.setValueFromRawText(n)}else e.modelService.createModel(t,null,e._originalContentsURI);return e.triggerDiff()}})},e.prototype.getOriginalContents=function(){var e=this.gitService.getModel(),t=e.getStatus().find(this.path,u.StatusType.INDEX)?"~":"HEAD";return this.gitService.buffer(this.path,t)},e.prototype.triggerDiff=function(){var t=this;return this.diffDelayer?this.diffDelayer.trigger(function(){return!t.model||t.model.isDisposed()?a.TPromise.as([]):t.editorWorkerService.computeDirtyDiff(t._originalContentsURI,t.model.uri,!0)}).then(function(i){if(t.model&&!t.model.isDisposed())return t.decorations=t.model.deltaDecorations(t.decorations,e.changesToDecorations(i||[]))}):a.TPromise.as(null)},e.changesToDecorations=function(t){return t.map(function(t){var i=t.modifiedStartLineNumber,n=t.modifiedEndLineNumber||i;return 0===t.originalEndLineNumber?{range:{startLineNumber:i,startColumn:1,endLineNumber:n,endColumn:1},options:e.ADDED_DECORATION_OPTIONS}:0===t.modifiedEndLineNumber?{range:{startLineNumber:i,startColumn:1,endLineNumber:i,endColumn:1},options:e.DELETED_DECORATION_OPTIONS}:{range:{startLineNumber:i,startColumn:1,endLineNumber:n,endColumn:1},options:e.MODIFIED_DECORATION_OPTIONS}})},e.prototype.dispose=function(){this.modelService.destroyModel(this._originalContentsURI),this.toDispose=s.dispose(this.toDispose),this.model&&!this.model.isDisposed()&&this.model.deltaDecorations(this.decorations,[]),this.model=null,this.decorations=null,this.delayer&&(this.delayer.cancel(),this.delayer=null),this.diffDelayer&&(this.diffDelayer.cancel(),this.diffDelayer=null)},e.GIT_ORIGINAL_SCHEME="git-index",e.ID="vs.git.editor.dirtyDiffDecorator",e.MODIFIED_DECORATION_OPTIONS={linesDecorationsClassName:"git-dirty-modified-diff-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:l.OverviewRulerLane.Left}},e.ADDED_DECORATION_OPTIONS={linesDecorationsClassName:"git-dirty-added-diff-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:l.OverviewRulerLane.Left}},e.DELETED_DECORATION_OPTIONS={linesDecorationsClassName:"git-dirty-deleted-diff-glyph",isWholeLine:!0,overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:l.OverviewRulerLane.Left}},e=g([m(2,P.IModelService),m(3,F.IEditorWorkerService),m(4,R.IWorkbenchEditorService),m(5,x.IWorkspaceContextService),m(6,K)],e)}(),z=function(){function e(e,t,i,n,o,r,s){var a=this;this.gitService=e,this.messageService=t,this.editorService=i,this.eventService=o,this.contextService=r,this.instantiationService=s,this.models=[],this.decorators=Object.create(null),this.toDispose=[],this.toDispose.push(n.onEditorsChanged(function(){return a.onEditorsChanged()})),this.toDispose.push(e.addListener2(u.ServiceEvents.DISPOSE,function(){return a.dispose()}))}return e.prototype.getId=function(){return"git.DirtyDiffModelDecorator"},e.prototype.onEditorsChanged=function(){var e=this,t=this.gitService.getModel().getRepositoryRoot();if("string"!=typeof t)return this.gitService.addOneTimeDisposableListener(u.ServiceEvents.STATE_CHANGED,function(){return e.onEditorsChanged()}),this.models.forEach(function(t){return e.onModelInvisible(t)}),void(this.models=[]);var i=this.editorService.getVisibleEditors().map(function(e){return e.getControl()}).filter(function(e){return e instanceof d.CodeEditorWidget}).map(function(e){return e.getModel()}).filter(function(e,t,i){return!!e&&i.indexOf(e,t+1)===-1}).map(function(e){return{model:e,resource:e.uri}}).filter(function(e){return!!e.resource&&"file"===e.resource.scheme&&r.isEqualOrParent(e.resource.fsPath,t)}).map(function(e){return{model:e.model,path:r.normalize(r.relative(t,e.resource.fsPath))}}).filter(function(e){return!!e.path&&e.path.indexOf(".git/")===-1}),n=i.filter(function(t){return e.models.every(function(e){return t.model!==e})}),o=this.models.filter(function(e){return i.every(function(t){return t.model!==e})});n.forEach(function(t){return e.onModelVisible(t.model,t.path)}),o.forEach(function(t){return e.onModelInvisible(t)}),this.models=i.map(function(e){return e.model})},e.prototype.onModelVisible=function(e,t){this.decorators[e.id]=this.instantiationService.createInstance(H,e,t)},e.prototype.onModelInvisible=function(e){this.decorators[e.id].dispose(),delete this.decorators[e.id]},e.prototype.dispose=function(){var e=this;this.toDispose=s.dispose(this.toDispose),this.models.forEach(function(t){return e.decorators[t.id].dispose()}),this.models=null,this.decorators=null},e=g([m(0,K),m(1,k.IMessageService),m(2,R.IWorkbenchEditorService),m(3,W.IEditorGroupService),m(4,L.IEventService),m(5,x.IWorkspaceContextService),m(6,D.IInstantiationService)],e)}();t.DirtyDiffDecorator=z,t.VIEWLET_ID="workbench.view.git";var U=function(e){function n(i,n,o,r){e.call(this,i,n,t.VIEWLET_ID,o,r)}return h(n,e),n.ID=t.VIEWLET_ID,n.LABEL=i.localize(2,null),n=g([m(2,M.IViewletService),m(3,R.IWorkbenchEditorService)],n)}(p.ToggleViewletAction);t.registerContributions=B}),define(l[1014],d([1,0,560,5,15,63,2,65,30,320,104,47,242,68,213,833,22,57,55,43,34,6,42,35,317,25,19]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D){"use strict";function k(e,t,i){var n=e.getModel(),o=n.getRepositoryRoot(),r=n.getStatus(),s=L.normalize(L.relative(o,i.getResource().fsPath));return r.getWorkingTreeStatus().find(s)||r.getIndexStatus().find(s)}var x=function(e){function t(i,n,o,r,s){var a=this;e.call(this,t.ID,t.Label),this["class"]="git-action open-in-diff",this.gitService=n,this.viewletService=o,this.editorService=i,this.partService=r,this.contextService=s,this.toDispose=[this.gitService.addBulkListener2(function(){return a.onGitStateChanged()})],this.enabled=this.isEnabled()}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if("string"!=typeof this.gitService.getModel().getRepositoryRoot())return!1;var t=this.getStatus();return t&&(t.getStatus()===f.Status.MODIFIED||t.getStatus()===f.Status.INDEX_MODIFIED||t.getStatus()===f.Status.INDEX_RENAMED)},t.prototype.onGitStateChanged=function(){this.gitService.isIdle()&&(this.enabled=this.isEnabled())},t.prototype.getStatus=function(){return k(this.gitService,this.contextService,this.input)},t.prototype.run=function(e){var t=this,i=e?e.event:null,n=!(!i||!i.ctrlKey&&!i.metaKey),o=this.editorService.getActiveEditor().getControl(),r=o?o.saveViewState():null;return this.gitService.getInput(this.getStatus()).then(function(e){var i=s.TPromise.as(null);return t.partService.isVisible(b.Parts.SIDEBAR_PART)&&(i=t.viewletService.openViewlet(p.VIEWLET_ID,!1)),i.then(function(){var i=new c.TextDiffEditorOptions;return i.forceOpen=!0,i.autoRevealFirstChange=!1,t.editorService.openEditor(e,i,n).then(function(e){if(r){var i=t.editorService.getActiveEditor().getControl();i.restoreViewState({original:{},modified:r})}})})})},t.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose)},t.ID="workbench.action.git.openInDiff",t.Label=i.localize(0,null),t=g([m(0,E.IWorkbenchEditorService),m(1,f.IGitService),m(2,S.IViewletService),m(3,b.IPartService),m(4,_.IWorkspaceContextService)],t)}(a.EditorInputAction),M=function(e){function t(i,n,o,r,s,a){e.call(this,t.ID,t.LABEL),this["class"]="git-action open-in-editor",this.gitService=o,this.fileService=i,this.viewletService=r,this.editorService=n,this.partService=s,this.contextService=a,this.enabled=this.isEnabled()}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if("string"!=typeof this.gitService.getModel().getRepositoryRoot())return!1;var i=this.input.getFileStatus();return!(t.DELETED_STATES.indexOf(i.getStatus())>-1)},t.prototype.run=function(e){var t=this,i=this.gitService.getModel(),n=D["default"].file(L.join(i.getRepositoryRoot(),this.getRepositoryRelativePath())),o=e?e.event:null,r=!(!o||!o.ctrlKey&&!o.metaKey),s=this.saveTextViewState();return this.fileService.resolveFile(n).then(function(e){return t.editorService.openEditor({resource:e.resource,mime:e.mime,options:{forceOpen:!0}},r).then(function(e){if(t.restoreTextViewState(s),t.partService.isVisible(b.Parts.SIDEBAR_PART))return t.viewletService.openViewlet(d.VIEWLET_ID,!1)})})},t.prototype.saveTextViewState=function(){var e=this.getTextEditor();return e?e.saveViewState():null},t.prototype.restoreTextViewState=function(e){var t=this.getTextEditor();if(t)return t.restoreViewState(e)},t.prototype.getTextEditor=function(){var e=this.editorService.getActiveEditor();return e instanceof u.TextDiffEditor?e.getControl().getModifiedEditor():e instanceof l.BaseTextEditor?e.getControl():null},t.prototype.getRepositoryRelativePath=function(){var e=this.input.getFileStatus();if(e.getStatus()===f.Status.INDEX_RENAMED)return e.getRename();var t=this.gitService.getModel().getStatus().find(e.getPath(),f.StatusType.INDEX);return t&&t.getStatus()===f.Status.INDEX_RENAMED?t.getRename():e.getPath()},t.DELETED_STATES=[f.Status.BOTH_DELETED,f.Status.DELETED,f.Status.DELETED_BY_US,f.Status.INDEX_DELETED],t.ID="workbench.action.git.openInEditor",t.LABEL=i.localize(1,null),t=g([m(0,C.IFileService),m(1,E.IWorkbenchEditorService),m(2,f.IGitService),m(3,S.IViewletService),m(4,b.IPartService),m(5,_.IWorkspaceContextService)],t);
}(a.EditorInputAction),R=function(e){function t(i,n,o,r,s){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,i,n,"",o,r),this.contextService=s,this.onGitServiceChange()}return h(t,e),t.prototype.updateEnablement=function(){this.contextService?this.enabled=this.isEnabled():this.enabled=e.prototype.isEnabled.call(this)},t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var t=this.editorService.getActiveEditor();return!!(t&&t instanceof a.BaseEditor)},t.prototype.run=function(t){var i,n=this.editorService.getActiveEditor().input;if(v.isGitEditorInput(n)){var o=n;i=o.getFileStatus()}else i=k(this.gitService,this.contextService,n);return i?e.prototype.run.call(this,i):s.TPromise.as(null)},t.ID="workbench.action.git.stage",t.LABEL=i.localize(2,null),t=g([m(2,f.IGitService),m(3,E.IWorkbenchEditorService),m(4,_.IWorkspaceContextService)],t)}(A.BaseStageAction);t.WorkbenchStageAction=R;var O=function(e){function t(i,n,o,r,s){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,i,n,"",o,r),this.contextService=s,this.onGitServiceChange()}return h(t,e),t.prototype.updateEnablement=function(){this.contextService?this.enabled=this.isEnabled():this.enabled=e.prototype.isEnabled.call(this)},t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;var t=this.editorService.getActiveEditor();return!!(t&&t instanceof a.BaseEditor)},t.prototype.run=function(t){var i,n=this.editorService.getActiveEditor().input;if(v.isGitEditorInput(n)){var o=n;i=o.getFileStatus()}else i=k(this.gitService,this.contextService,n);return i?e.prototype.run.call(this,i):s.TPromise.as(null)},t.ID="workbench.action.git.unstage",t.LABEL=i.localize(3,null),t=g([m(2,f.IGitService),m(3,E.IWorkbenchEditorService),m(4,_.IWorkspaceContextService)],t)}(A.BaseUnstageAction);t.WorkbenchUnstageAction=O;var P=function(e){function t(t,i,n,o,r){var s=this;e.call(this,t,i),this.editorService=r,this.gitService=o,this.editor=n.getControl(),this.editor.onDidChangeCursorSelection(function(){return s.updateEnablement()}),this.editor.onDidUpdateDiff(function(){return s.updateEnablement()}),this["class"]="git-action stage-ranges"}return h(t,e),t.prototype.isEnabled=function(){if(!e.prototype.isEnabled.call(this))return!1;if(!this.gitService||!this.editorService)return!1;var t=this.editor.getLineChanges(),i=this.editor.getSelections();return!(!t||!i||0===i.length)&&y.getSelectedChanges(t,i).length>0},t.prototype.getRangesAppliedResult=function(e){return y.stageRanges(e)},t.prototype.run=function(){var e=this,t=this.getRangesAppliedResult(this.editor),i=this.input.getFileStatus(),n=i.getPath(),o=this.editor.saveViewState();return this.gitService.stage(i.getPath(),t).then(function(){var t=e.gitService.getModel().getStatus();if(i=t.getWorkingTreeStatus().find(n)||t.getIndexStatus().find(n))return e.gitService.getInput(i).then(function(t){var i=new c.TextDiffEditorOptions;return i.forceOpen=!0,i.autoRevealFirstChange=!1,e.editorService.openEditor(t,i,e.position).then(function(){e.editor.restoreViewState(o)})})})},t.prototype.updateEnablement=function(){this.enabled=this.isEnabled()},t=g([m(3,f.IGitService),m(4,E.IWorkbenchEditorService)],t)}(a.EditorInputAction);t.BaseStageRangesAction=P;var N=function(e){function t(i,n,o){e.call(this,t.ID,t.LABEL,i,n,o)}return h(t,e),t.ID="workbench.action.git.stageRanges",t.LABEL=i.localize(4,null),t=g([m(1,f.IGitService),m(2,E.IWorkbenchEditorService)],t)}(P);t.StageRangesAction=N;var F=function(e){function t(i,n,o){e.call(this,t.ID,t.LABEL,i,n,o)}return h(t,e),t.prototype.getRangesAppliedResult=function(e){return y.unstageRanges(e)},t.ID="workbench.action.git.unstageRanges",t.LABEL=i.localize(5,null),t=g([m(1,f.IGitService),m(2,E.IWorkbenchEditorService)],t)}(P);t.UnstageRangesAction=F;var W=function(e){function t(t){e.call(this),this.instantiationService=t}return h(t,e),t.prototype.hasActionsForEditorInput=function(e){return e.input instanceof d.FileEditorInput},t.prototype.getActionsForEditorInput=function(e){return[this.instantiationService.createInstance(x)]},t=g([m(0,w.IInstantiationService)],t)}(a.EditorInputActionContributor),B=function(e){function t(t){e.call(this),this.instantiationService=t}return h(t,e),t.prototype.hasActionsForEditorInput=function(e){return v.isGitEditorInput(e.input)},t.prototype.getActionsForEditorInput=function(e){return[this.instantiationService.createInstance(M)]},t=g([m(0,w.IInstantiationService)],t)}(a.EditorInputActionContributor),K=function(e){function t(t){e.call(this),this.instantiationService=t}return h(t,e),t.prototype.hasSecondaryActionsForEditorInput=function(e){return e.input instanceof v.GitDiffEditorInput&&e.editor instanceof u.TextDiffEditor},t.prototype.getSecondaryActionsForEditorInput=function(e){return e.input instanceof v.GitIndexDiffEditorInput?[this.instantiationService.createInstance(F,e.editor)]:[this.instantiationService.createInstance(N,e.editor)]},t=g([m(0,w.IInstantiationService)],t)}(a.EditorInputActionContributor),V=function(e){function t(t,i,n,o,r,s,a){e.call(this,n,o),this.contextService=r,this.viewletService=s,this.partService=a}return h(t,e),t.prototype.getInput=function(){return c.asFileEditorInput(this.editorService.getActiveEditorInput())},t.prototype.run=function(e){var t=this,i=this.getInput();if(!i)return s.TPromise.as(null);var n=k(this.gitService,this.contextService,i);if(!n)return s.TPromise.as(null);var o=!(!e||!e.ctrlKey&&!e.metaKey),r=this.editorService.getActiveEditor().getControl(),a=r?r.saveViewState():null;return this.gitService.getInput(n).then(function(e){var i=s.TPromise.as(null);return t.partService.isVisible(b.Parts.SIDEBAR_PART)&&(i=t.viewletService.openViewlet(p.VIEWLET_ID,!1)),i.then(function(){var i=new c.TextDiffEditorOptions;return i.forceOpen=!0,i.autoRevealFirstChange=!1,t.editorService.openEditor(e,i,o).then(function(e){if(a){var i=t.editorService.getActiveEditor().getControl();i.restoreViewState({original:{},modified:a})}})})})},t.ID="workbench.action.git.globalOpenChange",t.LABEL=i.localize(6,null),t=g([m(2,E.IWorkbenchEditorService),m(3,f.IGitService),m(4,_.IWorkspaceContextService),m(5,S.IViewletService),m(6,b.IPartService)],t)}(A.OpenChangeAction),H=function(e){function t(i,n,o,r,s,a){void 0===i&&(i=t.ID),void 0===n&&(n=t.LABEL),e.call(this,o,r,s,a)}return h(t,e),t.prototype.run=function(t){var i=c.asFileEditorInput(this.editorService.getActiveEditorInput(),!0);if(!i)return s.TPromise.as(null);var n=k(this.gitService,this.contextService,i);return n?e.prototype.run.call(this,n):s.TPromise.as(null)},t.ID="workbench.action.git.globalOpenFile",t.LABEL=i.localize(7,null),t=g([m(2,E.IWorkbenchEditorService),m(3,C.IFileService),m(4,f.IGitService),m(5,_.IWorkspaceContextService)],t)}(A.OpenFileAction),z=o.Registry.as(r.Extensions.Actionbar);z.registerActionBarContributor(r.Scope.EDITOR,W),z.registerActionBarContributor(r.Scope.EDITOR,B),z.registerActionBarContributor(r.Scope.EDITOR,K);var U=o.Registry.as(I.Extensions.WorkbenchActions),G=i.localize(8,null);U.registerWorkbenchAction(new T.SyncActionDescriptor(V,V.ID,V.LABEL),"Git: Open Change",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(H,H.ID,H.LABEL),"Git: Open File",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.PullAction,A.PullAction.ID,A.PullAction.LABEL),"Git: Pull",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.PushAction,A.PushAction.ID,A.PushAction.LABEL),"Git: Push",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.SyncAction,A.SyncAction.ID,A.SyncAction.LABEL),"Git: Sync",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.PublishAction,A.PublishAction.ID,A.PublishAction.LABEL),"Git: Publish",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.StartGitBranchAction,A.StartGitBranchAction.ID,A.StartGitBranchAction.LABEL),"Git: Branch",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.StartGitCheckoutAction,A.StartGitCheckoutAction.ID,A.StartGitCheckoutAction.LABEL),"Git: Checkout",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.InputCommitAction,A.InputCommitAction.ID,A.InputCommitAction.LABEL),"Git: Commit",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(A.UndoLastCommitAction,A.UndoLastCommitAction.ID,A.UndoLastCommitAction.LABEL),"Git: Undo Last Commit",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(R,R.ID,R.LABEL),"Git: Stage",G),U.registerWorkbenchAction(new T.SyncActionDescriptor(O,O.ID,O.LABEL),"Git: Unstage",G)}),define(l[1015],d([1,0,242,883,68,96]),function(e,t,i,n,o,r){"use strict";i.registerContributions(),r.registerSingleton(o.IGitService,n.ElectronGitService)}),define(l[1016],d([1,0,2,573,17,7,90,92,13,69,30,104,11,22,50]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v){"use strict";t.GOTO_LINE_PREFIX=":";var y=function(e){function i(i,n,o){e.call(this,i,n,t.GOTO_LINE_PREFIX,o)}return h(i,e),i.ID="workbench.action.gotoLine",i.LABEL=n.localize(0,null),i=g([m(2,v.IQuickOpenService)],i)}(u.QuickOpenAction);t.GotoLineAction=y;var E=function(e){function t(t,i,n){e.call(this,i),this.parseInput(t),this.handler=n}return h(t,e),t.prototype.parseInput=function(e){var t=e.split(/,|:|#/).map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)});this.line=t[0],this.column=t[1]},t.prototype.getLabel=function(){var e=this.getMaxLineNumber();return this.invalidRange(e)?e>0?n.localize(1,null,e):n.localize(2,null):this.column?n.localize(3,null,this.line,this.column):n.localize(4,null,this.line)},t.prototype.invalidRange=function(e){return void 0===e&&(e=this.getMaxLineNumber()),!this.line||!o.isNumber(this.line)||e>0&&o.isNumber(this.line)&&this.line>e},t.prototype.getMaxLineNumber=function(){var e=this.editorService.getActiveEditor(),t=e.getControl(),i=t.getModel();return i&&i.modified&&i.original&&(i=i.modified),i&&o.isFunction(i.getLineCount)?i.getLineCount():-1},t.prototype.run=function(e,t){return e===s.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){var e=this.toSelection(),t=new l.TextEditorOptions;return t.selection(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn),t},t.prototype.runOpen=function(e){if(this.invalidRange())return!1;var t=e.keymods.indexOf(c.KeyMod.CtrlCmd)>=0;t&&this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,r.onUnexpectedError);var i=this.toSelection(),n=this.editorService.getActiveEditor();if(n){var o=n.getControl();o.setSelection(i),o.revealRangeInCenter(i)}return!0},t.prototype.runPreview=function(){if(this.invalidRange())return this.handler.clearDecorations(),!1;var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var i=t.getControl();i.revealRangeInCenter(e),o.isFunction(i.changeDecorations)&&this.handler.decorateOutline(e,i,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.line,startColumn:this.column||1,endLineNumber:this.line,endColumn:this.column||1}},t}(u.EditorQuickOpenEntry),S=function(e){function t(t){e.call(this),this.editorService=t}return h(t,e),t.prototype.getAriaLabel=function(){return n.localize(5,null)},t.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return i.TPromise.as(new a.QuickOpenModel([new E(e,this.editorService,this)]))},t.prototype.canRun=function(){var e=this.editorService.getActiveEditor()instanceof d.BaseTextEditor;return!!e||n.localize(6,null)},t.prototype.decorateOutline=function(e,t,i){var n=this;t.changeDecorations(function(t){var o=[];n.lineHighlightDecorationId&&(o.push(n.lineHighlightDecorationId.lineDecorationId),o.push(n.lineHighlightDecorationId.lineHighlightId),n.lineHighlightDecorationId=null);var r=[{range:e,options:{className:"lineHighlight",isWholeLine:!0}},{range:e,options:{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:p.OverviewRulerLane.Full}}}],s=t.deltaDecorations(o,r),a=s[0],c=s[1];n.lineHighlightDecorationId={lineHighlightId:a,lineDecorationId:c,position:i}})},t.prototype.clearDecorations=function(){var e=this;this.lineHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){if(t.position===e.lineHighlightDecorationId.position){var i=t.getControl();i.changeDecorations(function(t){t.deltaDecorations([e.lineHighlightDecorationId.lineDecorationId,e.lineHighlightDecorationId.lineHighlightId],[])})}}),this.lineHighlightDecorationId=null)},t.prototype.onClose=function(e){if(this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();if(t){var i=t.getControl();i.restoreViewState(this.lastKnownEditorViewState)}}this.lastKnownEditorViewState=null},t.prototype.getAutoFocus=function(e){return{autoFocusFirstEntry:e.trim().length>0}},t=g([m(0,f.IWorkbenchEditorService)],t)}(u.QuickOpenHandler);t.GotoLineHandler=S}),define(l[1017],d([1,0,2,574,7,17,9,90,92,69,104,30,89,13,11,22,50,32,322,37,323]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";t.GOTO_SYMBOL_PREFIX="@",t.SCOPE_PREFIX=":";var C=function(e){function i(i,n,o){e.call(this,i,n,t.GOTO_SYMBOL_PREFIX,o)}return h(i,e),i.ID="workbench.action.gotoSymbol",i.LABEL=n.localize(0,null),i=g([m(2,E.IQuickOpenService)],i)}(u.QuickOpenAction);t.GotoSymbolAction=C;var w=function(e){function i(t,i){e.call(this,i),this.outline=t}return h(i,e),i.prototype.dofilter=function(e){var i=e;0===e.indexOf(t.SCOPE_PREFIX)&&(i=i.substr(t.SCOPE_PREFIX.length)),this.entries.forEach(function(e){if(e.setGroupLabel(null),e.setShowBorder(!1),e.setHighlights(null),e.setHidden(!1),i){var t=p.matchesFuzzy(i,e.getLabel());t?(e.setHighlights(t),e.setHidden(!1)):e.isHidden()||e.setHidden(!0)}}),e?0===e.indexOf(t.SCOPE_PREFIX)?this.entries.sort(this.sortScoped.bind(this,e.toLowerCase())):this.entries.sort(this.sortNormal.bind(this,e.toLowerCase())):this.entries.sort(function(e,t){return e.getIndex()-t.getIndex()});var o=this.getEntries(!0);if(o.length>0&&0===e.indexOf(t.SCOPE_PREFIX)){for(var r=null,s=null,a=0,c=0;c<o.length;c++){var u=o[c];r!==u.getType()?(s&&s.setGroupLabel(this.renderGroupLabel(r,a,this.outline)),r=u.getType(),s=u,a=1,u.setShowBorder(c>0)):a++}s&&s.setGroupLabel(this.renderGroupLabel(r,a,this.outline))}else o.length>0&&o[0].setGroupLabel(n.localize(1,null,o.length))},i.prototype.sortNormal=function(e,t,i){if(t.isHidden()&&i.isHidden())return 0;if(t.isHidden())return 1;if(i.isHidden())return-1;var n=t.getLabel().toLowerCase(),o=i.getLabel().toLowerCase(),r=s.localeCompare(n,o);if(0!==r)return r;var a=t.getRange(),c=i.getRange();return a.startLineNumber-c.startLineNumber},i.prototype.sortScoped=function(e,i,n){if(i.isHidden()&&n.isHidden())return 0;if(i.isHidden())return 1;if(n.isHidden())return-1;e=e.substr(t.SCOPE_PREFIX.length);var o=i.getType(),r=n.getType(),a=s.localeCompare(o,r);if(0!==a)return a;if(e){var c=i.getLabel().toLowerCase(),u=n.getLabel().toLowerCase();if(a=s.localeCompare(c,u),0!==a)return a}var l=i.getRange(),d=n.getRange();return l.startLineNumber-d.startLineNumber},i.prototype.renderGroupLabel=function(e,t,n){var o=i.getDefaultGroupLabelPatterns()[e];return o?s.format(o,t):e},i.getDefaultGroupLabelPatterns=function(){var e=Object.create(null);return e.method=n.localize(2,null),e["function"]=n.localize(3,null),e.constructor=n.localize(4,null),e.variable=n.localize(5,null),e["class"]=n.localize(6,null),e["interface"]=n.localize(7,null),e.namespace=n.localize(8,null),e["package"]=n.localize(9,null),e.module=n.localize(10,null),e.property=n.localize(11,null),e["enum"]=n.localize(12,null),e.string=n.localize(13,null),e.rule=n.localize(14,null),e.file=n.localize(15,null),e.array=n.localize(16,null),e.number=n.localize(17,null),e["boolean"]=n.localize(18,null),e.object=n.localize(19,null),e.key=n.localize(20,null),e},i}(c.QuickOpenModel),I=function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this),this.index=t,this.name=i,this.type=n,this.icon=r,this.description=o,this.range=s,this.setHighlights(a),this.editorService=c,this.handler=u}return h(t,e),t.prototype.getIndex=function(){return this.index},t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return n.localize(21,null,this.getLabel())},t.prototype.getIcon=function(){return this.icon},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.getInput=function(){return this.editorService.getActiveEditorInput()},t.prototype.getOptions=function(){var e=new d.TextEditorOptions;return e.selection(this.range.startLineNumber,this.range.startColumn,this.range.startLineNumber,this.range.startColumn),e},t.prototype.run=function(e,t){return e===a.Mode.OPEN?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){var t=e.keymods.indexOf(f.KeyMod.CtrlCmd)>=0;if(t)this.editorService.openEditor(this.getInput(),this.getOptions(),!0).done(null,o.onUnexpectedError);else{var i=this.toSelection(),n=this.editorService.getActiveEditor();if(n){var r=n.getControl();r.setSelection(i),r.revealRangeInCenter(i)}}return!0},t.prototype.runPreview=function(){var e=this.toSelection(),t=this.editorService.getActiveEditor();if(t){var i=t.getControl();i.revealRangeInCenter(e),r.isFunction(i.changeDecorations)&&this.handler.decorateOutline(this.range,e,i,t.position)}return!1},t.prototype.toSelection=function(){return{startLineNumber:this.range.startLineNumber,startColumn:this.range.startColumn||1,endLineNumber:this.range.startLineNumber,endColumn:this.range.startColumn||1}},t}(u.EditorQuickOpenEntryGroup),T=function(e){function o(t,i){e.call(this),this.editorService=t,this.contextService=i,this.outlineToModelCache={}}return h(o,e),o.prototype.getResults=function(e){if(e=e.trim(),!this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();this.lastKnownEditorViewState=t.getControl().saveViewState()}return this.getActiveOutline().then(function(t){return t.dofilter(e),t})},o.prototype.getEmptyLabel=function(e){return e.length>0?n.localize(22,null):n.localize(23,null)},o.prototype.getAriaLabel=function(){return n.localize(24,null)},o.prototype.canRun=function(){var e=!1,t=this.editorService.getActiveEditor();if(t instanceof l.BaseTextEditor){var i=t.getControl(),o=i.getModel();o&&o.modified&&o.original&&(o=o.modified),o&&r.isFunction(o.getMode)&&(e=_.DocumentSymbolProviderRegistry.has(o))}return!!e||(t instanceof l.BaseTextEditor?n.localize(25,null):n.localize(26,null))},o.prototype.getAutoFocus=function(e){return e=e.trim(),0===e.indexOf(t.SCOPE_PREFIX)&&(e=e.substr(t.SCOPE_PREFIX.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}},o.prototype.toQuickOpenEntries=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],o=s.trim(n.name),r=n.containerName,a=_.SymbolKind.from(n.kind);t.push(new I(i,o,_.SymbolKind.from(n.kind),r,a,n.location.range,null,this.editorService,this))}return t},o.prototype.getActiveOutline=function(){return this.activeOutlineRequest||(this.activeOutlineRequest=this.doGetActiveOutline()),this.activeOutlineRequest},o.prototype.doGetActiveOutline=function(){var e=this,t=this.editorService.getActiveEditor();if(t instanceof l.BaseTextEditor){var n=t.getControl(),o=n.getModel();if(o&&o.modified&&o.original&&(o=o.modified),o&&r.isFunction(o.getMode)){var s=o.id;return this.outlineToModelCache[s]?i.TPromise.as(this.outlineToModelCache[s]):b.getDocumentSymbols(o).then(function(t){var i=new w(t,e.toQuickOpenEntries(t.entries));return e.outlineToModelCache={},e.outlineToModelCache[s]=i,i})}}return i.TPromise.as(null)},o.prototype.decorateOutline=function(e,t,i,n){var o=this;i.changeDecorations(function(i){var r=[];o.lineHighlightDecorationId&&(r.push(o.lineHighlightDecorationId.lineDecorationId),r.push(o.lineHighlightDecorationId.lineHighlightId),o.lineHighlightDecorationId=null);var s=[{range:e,options:{className:"lineHighlight",isWholeLine:!0}},{range:t,options:{overviewRuler:{color:"rgba(0, 122, 204, 0.6)",darkColor:"rgba(0, 122, 204, 0.6)",position:v.OverviewRulerLane.Full}}}],a=i.deltaDecorations(r,s),c=a[0],u=a[1];o.lineHighlightDecorationId={lineHighlightId:c,lineDecorationId:u,position:n}})},o.prototype.clearDecorations=function(){var e=this;this.lineHighlightDecorationId&&(this.editorService.getVisibleEditors().forEach(function(t){if(t.position===e.lineHighlightDecorationId.position){var i=t.getControl();i.changeDecorations(function(t){t.deltaDecorations([e.lineHighlightDecorationId.lineDecorationId,e.lineHighlightDecorationId.lineHighlightId],[])})}}),this.lineHighlightDecorationId=null)},o.prototype.onClose=function(e){if(this.outlineToModelCache={},this.clearDecorations(),e&&this.lastKnownEditorViewState){var t=this.editorService.getActiveEditor();if(t){var i=t.getControl();i.restoreViewState(this.lastKnownEditorViewState)}}this.lastKnownEditorViewState=null,this.activeOutlineRequest=null},o=g([m(0,y.IWorkbenchEditorService),m(1,S.IWorkspaceContextService)],o)}(u.QuickOpenHandler);t.GotoSymbolHandler=T}),define(l[1018],d([1,0,12,576,69,15,35,42,13,1017,920,1016,921]),function(e,t,i,n,o,r,s,a,c,u,l,d,h){"use strict";var p=r.Registry.as(a.Extensions.WorkbenchActions);p.registerWorkbenchAction(new s.SyncActionDescriptor(l.ShowAllCommandsAction,l.ShowAllCommandsAction.ID,l.ShowAllCommandsAction.LABEL,{primary:c.KeyMod.CtrlCmd|c.KeyMod.Shift|c.KeyCode.KEY_P,secondary:[c.KeyCode.F1]}),"Show All Commands"),p.registerWorkbenchAction(new s.SyncActionDescriptor(d.GotoLineAction,d.GotoLineAction.ID,d.GotoLineAction.LABEL,{primary:c.KeyMod.CtrlCmd|c.KeyCode.KEY_G,mac:{primary:c.KeyMod.WinCtrl|c.KeyCode.KEY_G}}),"Go to Line..."),p.registerWorkbenchAction(new s.SyncActionDescriptor(u.GotoSymbolAction,u.GotoSymbolAction.ID,u.GotoSymbolAction.LABEL,{primary:c.KeyMod.CtrlCmd|c.KeyMod.Shift|c.KeyCode.KEY_O}),"Go to Symbol..."),r.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/commandsHandler","CommandsHandler",l.ALL_COMMANDS_PREFIX,n.localize(0,null))),r.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/gotoLineHandler","GotoLineHandler",d.GOTO_LINE_PREFIX,[{prefix:d.GOTO_LINE_PREFIX,needsEditor:!0,description:i.isMacintosh?n.localize(1,null):n.localize(2,null)}])),r.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/gotoSymbolHandler","GotoSymbolHandler",u.GOTO_SYMBOL_PREFIX,[{prefix:u.GOTO_SYMBOL_PREFIX,needsEditor:!0,description:n.localize(3,null)},{prefix:u.GOTO_SYMBOL_PREFIX+u.SCOPE_PREFIX,needsEditor:!0,description:n.localize(4,null)}])),r.Registry.as(o.Extensions.Quickopen).registerQuickOpenHandler(new o.QuickOpenHandlerDescriptor("vs/workbench/parts/quickopen/browser/helpHandler","HelpHandler",h.HELP_PREFIX,n.localize(5,null)))}),define(l[288],d([1,0,579,10,7,2,27,71,57,299,208,306,81,6,222,22,21,13,20]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b){"use strict";function _(e){var t=e.getActiveViewlet(),i=document.activeElement;return t&&t.getId()===d.VIEWLET_ID&&i&&n.isAncestor(i,t.getContainer().getHTMLElement())}function C(e,t,i){return t="number"==typeof t?new S.Keybinding(t):t,e+" ("+i.getLabelFor(t)+")"}t.isSearchViewletFocussed=_,t.appendKeyBindingLabel=C;var w=function(e){function t(t,i,n,o){e.call(this,t,i,d.VIEWLET_ID,n,o)}return h(t,e),t.ID=d.VIEWLET_ID,t.LABEL=i.localize(0,null),t=g([m(2,c.IViewletService),m(3,y.IWorkbenchEditorService)],t)}(a.ToggleViewletAction);t.OpenSearchViewletAction=w;var I=function(e){function t(t,i,n){e.call(this,t,i),this.viewletService=n}return h(t,e),t.prototype.run=function(){return this.viewletService.openViewlet(d.VIEWLET_ID,!0).then(function(e){var t=e.searchAndReplaceWidget;t.toggleReplace(!0),t.focus(!1,!0)})},t.ID="workbench.action.replaceInFiles",t.LABEL=i.localize(1,null),t=g([m(2,c.IViewletService)],t)}(s.Action);t.ReplaceInFilesAction=I;var T=function(e){function t(t,n){e.call(this,"workbench.search.action.findInFolder",i.localize(2,null)),this.viewletService=n,this.resource=t}return h(t,e),t.prototype.run=function(e){var t=this;return this.viewletService.openViewlet(d.VIEWLET_ID,!0).then(function(e){e.searchInFolder(t.resource)})},t=g([m(1,c.IViewletService)],t)}(s.Action);t.FindInFolderAction=T;var A=function(e){function t(t){e.call(this,"refresh"),this.viewlet=t,this.label=i.localize(3,null),this.enabled=!1,this["class"]="search-action refresh"}return h(t,e),t.prototype.run=function(){return this.viewlet.onQueryChanged(!0),r.TPromise.as(null)},t}(s.Action);t.RefreshAction=A;var L=function(e){function t(t){e.call(this,t.getControl(),!1),this["class"]="search-action collapse"}return h(t,e),t}(p.CollapseAllAction);t.CollapseAllAction=L;var D=function(e){function t(t){e.call(this,"clearSearchResults"),this.viewlet=t,this.label=i.localize(4,null),this.enabled=!1,this["class"]="search-action clear-search-results"}return h(t,e),t.prototype.run=function(){return this.viewlet.clearSearchResults(),r.TPromise.as(null)},t}(s.Action);t.ClearSearchResultsAction=D;var k=function(e){function t(t,n){e.call(this,"remove",i.localize(5,null),"action-remove"),this.viewer=t,this.element=n}return h(t,e),t.prototype.run=function(e){if(void 0===e&&(e=!0),this.element===this.viewer.getFocus()){var t=this.getNextFocusElement();t?this.viewer.setFocus(t):this.viewer.focusPrevious()}var i;if(this.element instanceof u.FileMatch){var n=this.element.parent();n.remove(this.element),i=n}else{var o=this.element.parent();o.remove(this.element,e),i=0===o.count()?o.parent():o}return this.viewer.getFocus()&&this.viewer.DOMFocus(),this.viewer.refresh(i)},t.prototype.getNextFocusElement=function(){for(var e=this.viewer.getNavigator();e.current()!==this.element&&e.next(););if(this.element instanceof u.FileMatch){for(;e.next()&&!(e.current()instanceof u.FileMatch););return e.current()}return e.next()},t}(s.Action);t.RemoveAction=k;var x=function(e){function t(n,o,r,s,a,c){e.call(this,"file-action-replace-all",C(i.localize(6,null),t.KEY_BINDING,a),"action-replace-all"),this.viewer=n,this.fileMatch=o,this.viewlet=r,this.replaceService=s,this.telemetryService=c}return h(t,e),Object.defineProperty(t,"KEY_BINDING",{get:function(){return S.KeyMod.Shift|S.CommonKeybindings.CTRLCMD_ENTER},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return this.telemetryService.publicLog("replaceAll.action.selected"),this.replaceService.replace([this.fileMatch],this.fileMatch.parent().replaceText).then(function(){new k(e.viewer,e.fileMatch).run(),e.viewlet.open(e.fileMatch)})},t=g([m(3,l.IReplaceService),m(4,b.IKeybindingService),m(5,E.ITelemetryService)],t)}(s.Action);t.ReplaceAllAction=x;var M=function(e){function t(n,o,r,s,a,c){e.call(this,"action-replace",C(i.localize(7,null),t.KEY_BINDING,a),"action-replace"),this.viewer=n,this.element=o,this.viewlet=r,this.replaceService=s,this.telemetryService=c}return h(t,e),Object.defineProperty(t,"KEY_BINDING",{get:function(){return S.KeyMod.Shift|S.KeyMod.CtrlCmd|S.KeyCode.KEY_1},enumerable:!0,configurable:!0}),t.prototype.run=function(){var e=this;return this.telemetryService.publicLog("replace.action.selected"),this.replaceService.replace(this.element,this.element.parent().parent().replaceText).then(function(){new k(e.viewer,e.element).run(!1),e.viewlet.open(e.element)})},t=g([m(3,l.IReplaceService),m(4,b.IKeybindingService),m(5,E.ITelemetryService)],t)}(s.Action);t.ReplaceAction=M;var R=function(e){function t(t){e.call(this,"configureGlobalExclusionsAction"),this.instantiationService=t,this.label=i.localize(8,null),this.enabled=!0,this["class"]="search-configure-exclusions"}return h(t,e),t.prototype.run=function(){var e=this.instantiationService.createInstance(v.OpenGlobalSettingsAction,v.OpenGlobalSettingsAction.ID,v.OpenGlobalSettingsAction.LABEL);return e.run().done(function(){return e.dispose()},o.onUnexpectedError),r.TPromise.as(null)},t=g([m(0,f.IInstantiationService)],t)}(s.Action);t.ConfigureGlobalExclusionsAction=R}),define(l[1020],d([1,0,580,9,10,2,100,27,283,106,300,62,20,13,24,57,288,231]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,g,m,v,y){"use strict";function E(){d.KeybindingsRegistry.registerCommandDesc({id:S.ID,weight:d.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:p.KbExpr.and(p.KbExpr.has("searchViewletVisible"),p.KbExpr.has(b.REPLACE_ACTIVE_CONTEXT_KEY),p.KbExpr.not(y.CONTEXT_FIND_WIDGET_VISIBLE)),primary:f.KeyMod.Alt|f.KeyMod.CtrlCmd|f.KeyCode.Enter,handler:function(e){v.isSearchViewletFocussed(e.get(m.IViewletService))&&S.INSTANCE.run()}})}var S=function(e){function t(){e.call(this,t.ID,"","action-replace-all",!1),this._searchWidget=null}return h(t,e),Object.defineProperty(t,"INSTANCE",{get:function(){return null===t.fgInstance&&(t.fgInstance=new t),t.fgInstance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchWidget",{set:function(e){this._searchWidget=e},enumerable:!0,configurable:!0}),t.prototype.run=function(){return this._searchWidget?this._searchWidget.triggerReplaceAll():r.TPromise.as(null)},t.fgInstance=null,t.ID="search.action.replaceAll",t}(a.Action),b=function(e){function t(i,n,o,r,s){void 0===o&&(o=Object.create(null)),e.call(this),this.contextViewService=n,this.keyBindingService=r,this.instantiationService=s,this._onSearchSubmit=this._register(new g.Emitter),this.onSearchSubmit=this._onSearchSubmit.event,this._onSearchCancel=this._register(new g.Emitter),this.onSearchCancel=this._onSearchCancel.event,this._onReplaceToggled=this._register(new g.Emitter),this.onReplaceToggled=this._onReplaceToggled.event,this._onReplaceStateChange=this._register(new g.Emitter),this.onReplaceStateChange=this._onReplaceStateChange.event,this._onReplaceValueChanged=this._register(new g.Emitter),this.onReplaceValueChanged=this._onReplaceValueChanged.event,this._onKeyDownArrow=this._register(new g.Emitter),this.onKeyDownArrow=this._onKeyDownArrow.event,this._onReplaceAll=this._register(new g.Emitter),this.onReplaceAll=this._onReplaceAll.event,this.replaceActive=this.keyBindingService.createKey(t.REPLACE_ACTIVE_CONTEXT_KEY,!1),this.render(i,o)}return h(t,e),t.prototype.focus=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!1),!t&&this.searchInput.inputBox.hasFocus()||t&&this.replaceInput.hasFocus()||(t&&this.isReplaceShown()?(this.replaceInput.focus(),e&&this.replaceInput.select()):(this.searchInput.focus(),e&&this.searchInput.select()))},t.prototype.setWidth=function(e){this.searchInput.setWidth(e-2),this.replaceInput.width=e-28},t.prototype.clear=function(){this.searchInput.clear(),this.replaceInput.value="",this.setReplaceAllActionState(!1)},t.prototype.isReplaceShown=function(){return!o.hasClass(this.replaceInputContainer,"disabled")},t.prototype.getReplaceValue=function(){return this.isReplaceActive()?this.replaceInput.value:null},t.prototype.toggleReplace=function(e){void 0!==e&&e===this.isReplaceShown()||this.onToggleReplaceButton()},t.prototype.render=function(e,t){this.domNode=e.div({"class":"search-widget"}).style({position:"relative"}).getHTMLElement(),this.renderToggleReplaceButton(this.domNode),this.renderSearchInput(this.domNode,t),this.renderReplaceInput(this.domNode)},t.prototype.renderToggleReplaceButton=function(e){var t=this;this.toggleReplaceButton=this._register(new l.Button(e)),this.toggleReplaceButton.icon="toggle-replace-button collapse",this.toggleReplaceButton.addListener2("click",function(){return t.onToggleReplaceButton()}),this.toggleReplaceButton.getElement().title=i.localize(2,null)},t.prototype.renderSearchInput=function(e,t){var n=this,r={label:i.localize(3,null),validation:function(e){return n.validatSearchInput(e)},placeholder:i.localize(4,null)},s=o.append(e,o.emmet(".search-box.input-box"));this.searchInput=this._register(new c.FindInput(s,this.contextViewService,r)),this.searchInput.onKeyUp(function(e){return n.onSearchInputKeyUp(e)}),this.searchInput.onKeyDown(function(e){
return n.onSearchInputKeyDown(e)}),this.searchInput.setValue(t.value||""),this.searchInput.setRegex(!!t.isRegex),this.searchInput.setCaseSensitive(!!t.isCaseSensitive),this.searchInput.setWholeWords(!!t.isWholeWords)},t.prototype.renderReplaceInput=function(e){var n=this;this.replaceAllAction=S.INSTANCE,this.replaceAllAction.searchWidget=this,this.replaceAllAction.label=t.REPLACE_ALL_DISABLED_LABEL,this.replaceInputContainer=o.append(e,o.emmet(".replace-box.input-box.disabled")),this.replaceInput=this._register(new u.InputBox(this.replaceInputContainer,this.contextViewService,{ariaLabel:i.localize(5,null),placeholder:i.localize(6,null),actions:[this.replaceAllAction]})),this.onkeydown(this.replaceInput.inputElement,function(e){return n.onReplaceInputKeyDown(e)}),this.onkeyup(this.replaceInput.inputElement,function(e){return n.onReplaceInputKeyUp(e)}),this.replaceInput.onDidChange(function(){return n._onReplaceValueChanged.fire()}),this.searchInput.inputBox.onDidChange(function(){return n.onSearchInputChanged()})},t.prototype.triggerReplaceAll=function(){return this._onReplaceAll.fire(),r.TPromise.as(null)},t.prototype.onToggleReplaceButton=function(){o.toggleClass(this.replaceInputContainer,"disabled"),o.toggleClass(this.toggleReplaceButton.getElement(),"collapse"),o.toggleClass(this.toggleReplaceButton.getElement(),"expand"),this.updateReplaceActiveState(),this._onReplaceToggled.fire()},t.prototype.setReplaceAllActionState=function(e){this.replaceAllAction.enabled!==e&&(this.replaceAllAction.enabled=e,this.replaceAllAction.label=e?t.REPLACE_ALL_ENABLED_LABEL(this.keyBindingService):t.REPLACE_ALL_DISABLED_LABEL,this.updateReplaceActiveState())},t.prototype.isReplaceActive=function(){return this.keyBindingService.getContextValue(t.REPLACE_ACTIVE_CONTEXT_KEY)},t.prototype.updateReplaceActiveState=function(){var e=this.isReplaceActive(),t=this.isReplaceShown()&&this.replaceAllAction.enabled;e!==t&&(this.replaceActive.set(this.isReplaceShown()&&this.replaceAllAction.enabled),this._onReplaceStateChange.fire())},t.prototype.validatSearchInput=function(e){if(0===e.length)return null;if(!this.searchInput.getRegex())return null;var t;try{t=new RegExp(e)}catch(o){return{content:o.message}}return n.regExpLeadsToEndlessLoop(t)?{content:i.localize(7,null)}:void 0},t.prototype.onSearchInputChanged=function(){this.setReplaceAllActionState(!1)},t.prototype.onSearchInputKeyUp=function(e){switch(e.keyCode){case f.KeyCode.Enter:return void this.submitSearch();case f.KeyCode.Escape:return void this._onSearchCancel.fire();default:return}},t.prototype.onSearchInputKeyDown=function(e){switch(e.keyCode){case f.KeyCode.DownArrow:return void(this.isReplaceShown()?(this.replaceInput.focus(),e.stopPropagation()):this._onKeyDownArrow.fire());default:return}},t.prototype.onReplaceInputKeyUp=function(e){switch(e.keyCode){case f.KeyCode.Enter:return void this.submitSearch();case f.KeyCode.Escape:return this.onToggleReplaceButton(),void this.searchInput.focus();default:return}},t.prototype.onReplaceInputKeyDown=function(e){switch(e.keyCode){case f.KeyCode.UpArrow:return void this.searchInput.focus();case f.KeyCode.DownArrow:return void this._onKeyDownArrow.fire();default:return}},t.prototype.submitSearch=function(e){void 0===e&&(e=!0),this.searchInput.getValue()&&this._onSearchSubmit.fire(e)},t.prototype.dispose=function(){this.setReplaceAllActionState(!1),this.replaceAllAction.searchWidget=null,e.prototype.dispose.call(this)},t.REPLACE_ACTIVE_CONTEXT_KEY="replaceActive",t.REPLACE_ALL_DISABLED_LABEL=i.localize(0,null),t.REPLACE_ALL_ENABLED_LABEL=function(e){var t=e.lookupKeybindings(S.ID);return v.appendKeyBindingLabel(i.localize(1,null),t[0],e)},t}(s.Widget);t.SearchWidget=b,t.registerContributions=E}),define(l[1021],d([1,0,15,71,67,578,47,35,49,63,42,69,62,6,70,32,20,50,57,13,288,306,850,1020,680]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T){"use strict";I.registerContributions(),T.registerContributions(),p.KeybindingsRegistry.registerCommandDesc({id:"workbench.action.search.toggleQueryDetails",weight:p.KeybindingsRegistry.WEIGHT.workbenchContrib(),when:E.KbExpr.has("searchViewletVisible"),primary:_.KeyMod.CtrlCmd|_.KeyMod.Shift|_.KeyCode.KEY_J,handler:function(e){var t=e.get(b.IViewletService);t.openViewlet(w.VIEWLET_ID,!0).then(function(e){return e.toggleFileTypes()})}});var A=function(e){function t(t,i){e.call(this),this._instantiationService=t,this._contextService=i}return h(t,e),t.prototype.hasSecondaryActions=function(e){var t=e.element,i=s.asFileResource(t);return!!i&&i.isDirectory},t.prototype.getSecondaryActions=function(e){var t=[];if(this.hasSecondaryActions(e)){var i=s.asFileResource(e.element),n=new a.DeferredAction(this._instantiationService,new v.AsyncDescriptor("vs/workbench/parts/search/browser/searchActions","FindInFolderAction",i.resource),"workbench.search.action.findInFolder",r.localize(0,null));n.order=55,t.push(n),t.push(new c.Separator("",56))}return t},t=g([m(0,f.IInstantiationService),m(1,y.IWorkspaceContextService)],t)}(u.ActionBarContributor),L="workbench.action.showAllSymbols",D=r.localize(1,null),k="#",x=function(e){function t(t,i,n){e.call(this,t,i,k,n)}return h(t,e),t=g([m(2,S.IQuickOpenService)],t)}(d.QuickOpenAction);i.Registry.as(n.Extensions.Viewlets).registerViewlet(new n.ViewletDescriptor("vs/workbench/parts/search/browser/searchViewlet","SearchViewlet",w.VIEWLET_ID,r.localize(2,null),"search",10));var M={primary:_.KeyMod.CtrlCmd|_.KeyMod.Shift|_.KeyCode.KEY_F};i.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(C.OpenSearchViewletAction,C.OpenSearchViewletAction.ID,C.OpenSearchViewletAction.LABEL,M),"View: Show Search",r.localize(3,null)),i.Registry.as(l.Extensions.WorkbenchActions).registerWorkbenchAction(new a.SyncActionDescriptor(C.ReplaceInFilesAction,C.ReplaceInFilesAction.ID,C.ReplaceInFilesAction.LABEL,{primary:_.KeyMod.CtrlCmd|_.KeyMod.Shift|_.KeyCode.KEY_H}),"Replace in Files");var R=i.Registry.as(u.Extensions.Actionbar);R.registerActionBarContributor(u.Scope.VIEWER,A),i.Registry.as(d.Extensions.Quickopen).registerDefaultQuickOpenHandler(new d.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenAnythingHandler","",r.localize(4,null))),i.Registry.as(d.Extensions.Quickopen).registerQuickOpenHandler(new d.QuickOpenHandlerDescriptor("vs/workbench/parts/search/browser/openAnythingHandler","OpenSymbolHandler",k,[{prefix:k,needsEditor:!1,description:r.localize(5,null)}]));var O=i.Registry.as(l.Extensions.WorkbenchActions);O.registerWorkbenchAction(new a.SyncActionDescriptor(x,L,D,{primary:_.KeyMod.CtrlCmd|_.KeyCode.KEY_T}),"Show All Symbols");var P=i.Registry.as(o.Extensions.Configuration);P.registerConfiguration({id:"search",order:13,title:r.localize(6,null),type:"object",properties:{"search.exclude":{type:"object",description:r.localize(7,null),"default":{"**/node_modules":!0,"**/bower_components":!0},additionalProperties:{anyOf:[{type:"boolean",description:r.localize(8,null)},{type:"object",properties:{when:{type:"string",pattern:"\\w*\\$\\(basename\\)\\w*","default":"$(basename).ext",description:r.localize(9,null)}}}]}}}})}),define(l[1022],d([1,0,584,2,33,29,27,10,5,36,31,17,13,124,12,9,15,72,35,96,28,18,118,21,23,34,103,45,38,108,42,150,69,50,93,205,55,22,43,233,47,86,142,209,856,854,859,858,679,923]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W,B,K,V,H,z,U,G,j,q,Y,$,X){"use strict";var Q=l.$,Z=function(e){function t(t,i,n,o,r,s){e.call(this,t,i),this.taskService=n,this.telemetryService=o,this.messageService=r,this.contextService=s}return h(t,e),t.prototype.canRun=function(){return!!this.contextService.getWorkspace()||(this.messageService.show(o["default"].Info,i.localize(0,null)),!1)},t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService)],t)}(s.Action),J=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.build():n.TPromise.as(void 0)},t.ID="workbench.action.tasks.build",t.TEXT=i.localize(1,null),t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService)],t)}(Z),ee=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.runTest():n.TPromise.as(void 0)},t.ID="workbench.action.tasks.test",t.TEXT=i.localize(2,null),t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService)],t)}(Z),te=(function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.rebuild():n.TPromise.as(void 0)},t.ID="workbench.action.tasks.rebuild",t.TEXT=i.localize(3,null),t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService)],t)}(Z),function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.prototype.run=function(){return this.canRun()?this.taskService.clean():n.TPromise.as(void 0)},t.ID="workbench.action.tasks.clean",t.TEXT=i.localize(4,null),t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService)],t)}(Z),function(e){function t(t,i,n,o,r,s,a,c,u){e.call(this,t,i),this.configurationService=n,this.editorService=o,this.fileService=r,this.contextService=s,this.outputService=a,this.messageService=c,this.quickOpenService=u}return h(t,e),t.prototype.run=function(e){var t=this;if(!this.contextService.getWorkspace())return this.messageService.show(o["default"].Info,i.localize(6,null)),n.TPromise.as(void 0);var r=!(!e||!e.ctrlKey&&!e.metaKey);return this.fileService.resolveFile(this.contextService.toResource(".vscode/tasks.json")).then(function(e){return e},function(e){return t.quickOpenService.pick(q.templates,{placeHolder:i.localize(7,null)}).then(function(e){if(e){var r;if(e.autoDetect){var s=t.outputService.getChannel(ce.OutputChannelId);s.show(),s.append(i.localize(8,null,e.id)+"\n");var a=new X.ProcessRunnerDetector(t.fileService,t.contextService,new H.SystemVariables(t.editorService,t.contextService));r=a.detect(!1,e.id).then(function(n){var r=n.config;if(n.stderr&&n.stderr.length>0)return n.stderr.forEach(function(e){s.append(e+"\n")}),t.messageService.show(o["default"].Warning,i.localize(9,null)),e.content;if(r){n.stdout&&n.stdout.length>0&&n.stdout.forEach(function(e){return s.append(e+"\n")});var a=JSON.stringify(r,null,"\t");return a=["{","\t// See https://go.microsoft.com/fwlink/?LinkId=733558","\t// for the documentation about the tasks.json format"].join("\n")+a.substr(1)}return e.content})}else r=n.TPromise.as(e.content);return r.then(function(e){var i=t.configurationService.getConfiguration();return i.editor.insertSpaces&&(e=e.replace(/(\n)(\t+)/g,function(e,t,n){return t+y.repeat(" ",n.length*i.editor.tabSize)})),t.fileService.createFile(t.contextService.toResource(".vscode/tasks.json"),e)})}})}).then(function(e){if(e)return t.editorService.openEditor({resource:e.resource,options:{forceOpen:!0}},r)},function(e){throw new Error(i.localize(10,null))})},t.ID="workbench.action.tasks.configureTaskRunner",t.TEXT=i.localize(5,null),t=g([m(2,A.IConfigurationService),m(3,K.IWorkbenchEditorService),m(4,L.IFileService),m(5,V.IWorkspaceContextService),m(6,U.IOutputService),m(7,w.IMessageService),m(8,N.IQuickOpenService)],t)}(s.Action)),ie=function(e){function t(){e.call(this,t.ID,t.TEXT)}return h(t,e),t.prototype.run=function(){return this.closeFunction&&this.closeFunction(),n.TPromise.as(null)},t.ID="workbench.action.build.closeMessage",t.TEXT=i.localize(11,null),t}(s.Action),ne=function(e){function t(t,i,n,o,r,s){e.call(this,t,i,n,o,r,s)}return h(t,e),t.prototype.run=function(){var e=this;return this.canRun()?this.taskService.isActive().then(function(t){if(t)return e.taskService.terminate().then(function(e){return e.success?void 0:n.Promise.wrapError(i.localize(13,null))})}):n.TPromise.as(void 0)},t.ID="workbench.action.tasks.terminate",t.TEXT=i.localize(12,null),t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService)],t)}(Z),oe=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,n,o,r,s),this.outputService=a}return h(t,e),t.prototype.run=function(){return this.canRun()?this.outputService.getChannel(ce.OutputChannelId).show():n.TPromise.as(void 0)},t.ID="workbench.action.tasks.showLog",t.TEXT=i.localize(14,null),t=g([m(2,j.ITaskService),m(3,T.ITelemetryService),m(4,w.IMessageService),m(5,V.IWorkspaceContextService),m(6,U.IOutputService)],t)}(Z),re=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,i,o,r,s,a),this.quickOpenService=n}return h(t,e),t.prototype.run=function(e){return this.canRun()?(this.quickOpenService.show("task "),n.TPromise.as(null)):n.TPromise.as(void 0)},t.ID="workbench.action.tasks.runTask",t.TEXT=i.localize(15,null),t=g([m(2,N.IQuickOpenService),m(3,j.ITaskService),m(4,T.ITelemetryService),m(5,w.IMessageService),m(6,V.IWorkspaceContextService)],t)}(Z),se=function(){function e(e,t,i,n,o){this.partService=o,this.panelService=e,this.markerService=t,this.outputService=i,this.taskService=n,this.activeCount=0}return e.prototype.render=function(t){var n=this,o=[],r=document.createElement("div"),s=document.createElement("div"),u=document.createElement("a"),l=document.createElement("div"),d=document.createElement("div"),h=document.createElement("div");a.addClass(r,"task-statusbar-item"),a.addClass(s,"task-statusbar-item-progress"),r.appendChild(s),s.innerHTML=e.progressChars[0],Q(s).hide(),a.addClass(u,"task-statusbar-item-label"),r.appendChild(u),a.addClass(l,"task-statusbar-item-label-error"),l.innerHTML="0",u.appendChild(l),a.addClass(d,"task-statusbar-item-label-warning"),d.innerHTML="0",u.appendChild(d),a.addClass(h,"task-statusbar-item-label-info"),u.appendChild(h),Q(h).hide(),o.push(a.addDisposableListener(u,"click",function(e){var t=n.panelService.getActivePanel();t&&t.getId()===W["default"].MARKERS_PANEL_ID?n.partService.setPanelHidden(!0):n.panelService.openPanel(W["default"].MARKERS_PANEL_ID,!0)}));var p=function(e,t){return t>0?(e.innerHTML=t.toString(),Q(e).show(),!0):(Q(e).hide(),!1)},f=i.localize(16,null),g=function(e){l.innerHTML=e.errors<100?e.errors.toString():f,d.innerHTML=e.warnings<100?e.warnings.toString():f,p(h,e.infos)};return this.markerService.onMarkerChanged(function(e){g(n.markerService.getStatistics())}),o.push(this.taskService.addListener2(j.TaskServiceEvents.Active,function(){if(n.activeCount++,1===n.activeCount){var t=1,i=e.progressChars;s.innerHTML=i[0],n.intervalToken=setInterval(function(){s.innerHTML=i[t],t++,t>=i.length&&(t=0)},50),Q(s).show()}})),o.push(this.taskService.addListener2(j.TaskServiceEvents.Inactive,function(e){n.activeCount--,0===n.activeCount&&(Q(s).hide(),clearInterval(n.intervalToken),n.intervalToken=null)})),o.push(this.taskService.addListener2(j.TaskServiceEvents.Terminated,function(){0!==n.activeCount&&(Q(s).hide(),n.intervalToken&&(clearInterval(n.intervalToken),n.intervalToken=null),n.activeCount=0)})),t.appendChild(r),{dispose:function(){o=c.dispose(o)}}},e.progressChars="|/-\\",e=g([m(0,F.IPanelService),m(1,I.IMarkerService),m(2,U.IOutputService),m(3,j.ITaskService),m(4,B.IPartService)],e)}(),ae=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.build=function(){return{promise:n.TPromise.as({})}},t.prototype.rebuild=function(){return{promise:n.TPromise.as({})}},t.prototype.clean=function(){return{promise:n.TPromise.as({})}},t.prototype.runTest=function(){return{promise:n.TPromise.as({})}},t.prototype.run=function(e){return{promise:n.TPromise.as({})}},t.prototype.isActive=function(){return n.TPromise.as(!1)},t.prototype.isActiveSync=function(){return!1},t.prototype.canAutoTerminate=function(){return!0},t.prototype.terminate=function(){return n.TPromise.as({success:!0})},t.prototype.tasks=function(){return n.TPromise.as([])},t}(u.EventEmitter),ce=function(e){function t(i,n,o,r,s,a,c,u,l,d,h,p,f,g,m){var v=this;e.call(this),this.serviceId=j.ITaskService,this.modeService=i,this.configurationService=n,this.markerService=o,this.outputService=r,this.messageService=s,this.editorService=a,this.fileService=c,this.contextService=u,this.telemetryService=l,this.textFileService=d,this.eventService=p,this.modelService=f,this.extensionService=g,this.quickOpenService=m,this.taskSystemListeners=[],this.clearTaskSystemPromise=!1,this.outputChannel=this.outputService.getChannel(t.OutputChannelId),this.configurationService.onDidUpdateConfiguration(function(){v.emit(j.TaskServiceEvents.ConfigChanged),v._taskSystem&&v._taskSystem.isActiveSync()?v.clearTaskSystemPromise=!0:(v._taskSystem=null,v._taskSystemPromise=null),v.disposeTaskSystemListeners()}),h.onWillShutdown(function(e){return e.veto(v.beforeShutdown())})}return h(t,e),t.prototype.disposeTaskSystemListeners=function(){this.taskSystemListeners=c.dispose(this.taskSystemListeners)},t.prototype.disposeFileChangesListener=function(){this.fileChangesListener&&(this.fileChangesListener.dispose(),this.fileChangesListener=null)},Object.defineProperty(t.prototype,"taskSystemPromise",{get:function(){var e=this;if(!this._taskSystemPromise)if(this.contextService.getWorkspace()){var s=new H.SystemVariables(this.editorService,this.contextService),a=!0;this._taskSystemPromise=n.TPromise.as(this.configurationService.getConfiguration("tasks")).then(function(c){var u=c?c.$parseErrors:null;if(u){for(var l=!1,d=0;d<u.length;d++)if(/tasks\.json$/.test(u[d])){l=!0;break}if(l)return e.outputChannel.append(i.localize(18,null)),e.outputChannel.show(!0),n.TPromise.wrapError({})}var h;if(c)if(e.isRunnerConfig(c)&&e.hasDetectorSupport(c)){var p=c;h=new X.ProcessRunnerDetector(e.fileService,e.contextService,s,p).detect(!0).then(function(t){a=e.printStderr(t.stderr);var i=t.config;if(!i)return c;var n=r.clone(p),o=Object.create(null);return n.tasks?(n.tasks.forEach(function(e){return o[e.taskName]=e}),i.tasks.forEach(function(e){o[e.taskName]||n.tasks.push(e)})):i.tasks&&(n.tasks=i.tasks),n})}else h=n.TPromise.as(c);else h=new X.ProcessRunnerDetector(e.fileService,e.contextService,s).detect(!0).then(function(t){return a=e.printStderr(t.stderr),t.config});return h.then(function(n){if(!n)throw e._taskSystemPromise=null,new G.TaskError(o["default"].Info,i.localize(19,null),G.TaskErrors.NotConfigured);var r=null;if("service"===n.buildSystem?r=new Y.LanguageServiceTaskSystem(n,e.telemetryService,e.modeService):e.isRunnerConfig(n)&&(r=new $.ProcessRunnerSystem(n,s,e.markerService,e.modelService,e.telemetryService,e.outputService,t.OutputChannelId,a)),null===r)throw e._taskSystemPromise=null,new G.TaskError(o["default"].Info,i.localize(20,null),G.TaskErrors.NoValidTaskRunner);return e.taskSystemListeners.push(r.addListener2(G.TaskSystemEvents.Active,function(t){return e.emit(j.TaskServiceEvents.Active,t)})),e.taskSystemListeners.push(r.addListener2(G.TaskSystemEvents.Inactive,function(t){return e.emit(j.TaskServiceEvents.Inactive,t)})),e._taskSystem=r,r},function(t){return e.handleError(t),n.Promise.wrapError(t)})})}else this._taskSystem=new ae,this._taskSystemPromise=n.TPromise.as(this._taskSystem);return this._taskSystemPromise},enumerable:!0,configurable:!0}),t.prototype.printStderr=function(e){var t=this,i=!0;return e&&e.length>0&&(e.forEach(function(e){i=!1,t.outputChannel.append(e+"\n")}),this.outputChannel.show(!0)),i},t.prototype.isRunnerConfig=function(e){return!e.buildSystem||"program"===e.buildSystem},t.prototype.hasDetectorSupport=function(e){return!!e.command&&X.ProcessRunnerDetector.supports(e.command)},t.prototype.configureAction=function(){return new te(te.ID,te.TEXT,this.configurationService,this.editorService,this.fileService,this.contextService,this.outputService,this.messageService,this.quickOpenService)},t.prototype.build=function(){return this.executeTarget(function(e){return e.build()})},t.prototype.rebuild=function(){return this.executeTarget(function(e){return e.rebuild()})},t.prototype.clean=function(){return this.executeTarget(function(e){return e.clean()})},t.prototype.runTest=function(){return this.executeTarget(function(e){return e.runTest()})},t.prototype.run=function(e){return this.executeTarget(function(t){return t.run(e)})},t.prototype.executeTarget=function(e){var t=this;return this.textFileService.saveAll().then(function(n){return t.configurationService.loadConfiguration().then(function(){return t.taskSystemPromise.then(function(t){return t.isActive().then(function(n){if(n)throw new G.TaskError(o["default"].Warning,i.localize(21,null),G.TaskErrors.RunningTask);return e(t)})}).then(function(i){if(i.restartOnFileChanges){var n=i.restartOnFileChanges;t.fileChangesListener=t.eventService.addListener2(L.EventType.FILE_CHANGES,function(i){var o=i.changes.some(function(e){return(e.type===L.FileChangeType.ADDED||e.type===L.FileChangeType.DELETED)&&!!f.match(n,e.resource.fsPath)});o&&t.terminate().done(function(){v.setTimeout(function(){t.executeTarget(e)},2e3)})})}return i.promise.then(function(e){return t.clearTaskSystemPromise&&(t._taskSystemPromise=null,t.clearTaskSystemPromise=!1),e})},function(e){t.handleError(e)})})})},t.prototype.isActive=function(){return this._taskSystemPromise?this.taskSystemPromise.then(function(e){return e.isActive()}):n.TPromise.as(!1)},t.prototype.terminate=function(){var e=this;return this._taskSystemPromise?this.taskSystemPromise.then(function(e){return e.terminate()}).then(function(t){return t.success&&(e.clearTaskSystemPromise&&(e._taskSystemPromise=null,e.clearTaskSystemPromise=!1),e.emit(j.TaskServiceEvents.Terminated,{}),e.disposeFileChangesListener()),t}):n.TPromise.as({success:!0})},t.prototype.tasks=function(){return this.taskSystemPromise.then(function(e){return e.tasks()})},t.prototype.beforeShutdown=function(){var e=this;return!(!this._taskSystem||!this._taskSystem.isActiveSync())&&(!this._taskSystem.canAutoTerminate()&&!this.messageService.confirm({message:i.localize(22,null),primaryButton:i.localize(23,null)})||this._taskSystem.terminate().then(function(t){return!t.success||(e.emit(j.TaskServiceEvents.Terminated,{}),e._taskSystem=null,e.disposeFileChangesListener(),e.disposeTaskSystemListeners(),!1)},function(e){return!0}))},t.prototype.handleError=function(e){var t=!0;if(e instanceof G.TaskError){var n=e,r=n.code===G.TaskErrors.NotConfigured||n.code===G.TaskErrors.NoBuildTask||n.code===G.TaskErrors.NoTestTask,s=n.code===G.TaskErrors.RunningTask;if(r||s){var a=new ie,c=r?this.configureAction():new ne(ne.ID,ne.TEXT,this,this.telemetryService,this.messageService,this.contextService);a.closeFunction=this.messageService.show(n.severity,{message:n.message,actions:[a,c]})}else this.messageService.show(n.severity,n.message)}else if(e instanceof Error){var u=e;this.messageService.show(o["default"].Error,u.message)}else d.isString(e)?this.messageService.show(o["default"].Error,e):this.messageService.show(o["default"].Error,i.localize(24,null));t&&this.outputChannel.show(!0)},t.SERVICE_ID="taskService",t.OutputChannelId="tasks",t.OutputChannelLabel=i.localize(17,null),t=g([m(0,k.IModeService),m(1,A.IConfigurationService),m(2,I.IMarkerService),m(3,U.IOutputService),m(4,w.IMessageService),m(5,K.IWorkbenchEditorService),m(6,L.IFileService),m(7,V.IWorkspaceContextService),m(8,T.ITelemetryService),m(9,z.ITextFileService),m(10,S.ILifecycleService),m(11,C.IEventService),m(12,x.IModelService),m(13,D.IExtensionService),m(14,N.IQuickOpenService)],t)}(u.EventEmitter),ue=i.localize(25,null),le=E.Registry.as(R.Extensions.WorkbenchActions);le.registerWorkbenchAction(new b.SyncActionDescriptor(te,te.ID,te.TEXT),"Tasks: Configure Task Runner",ue),le.registerWorkbenchAction(new b.SyncActionDescriptor(J,J.ID,J.TEXT,{primary:p.KeyMod.CtrlCmd|p.KeyMod.Shift|p.KeyCode.KEY_B}),"Tasks: Run Build Task",ue),le.registerWorkbenchAction(new b.SyncActionDescriptor(ee,ee.ID,ee.TEXT),"Tasks: Run Test Task",ue),le.registerWorkbenchAction(new b.SyncActionDescriptor(ne,ne.ID,ne.TEXT),"Tasks: Terminate Running Task",ue),le.registerWorkbenchAction(new b.SyncActionDescriptor(oe,oe.ID,oe.TEXT),"Tasks: Show Task Log",ue),le.registerWorkbenchAction(new b.SyncActionDescriptor(re,re.ID,re.TEXT),"Tasks: Run Task",ue),_.registerSingleton(j.ITaskService,ce),E.Registry.as(P.Extensions.Quickopen).registerQuickOpenHandler(new P.QuickOpenHandlerDescriptor("vs/workbench/parts/tasks/browser/taskQuickOpen","QuickOpenHandler","task ",i.localize(26,null)));var de=E.Registry.as(O.Extensions.Statusbar);de.registerStatusbarItem(new O.StatusbarItemDescriptor(se,O.StatusbarAlignment.LEFT,50));var he=E.Registry.as(U.Extensions.OutputChannels);he.registerChannel(ce.OutputChannelId,ce.OutputChannelLabel);var pe="vscode://schemas/tasks",fe={id:pe,description:"Task definition file",type:"object","default":{version:"0.1.0",command:"myCommand",isShellCommand:!1,args:[],showOutput:"always",tasks:[{taskName:"build",showOutput:"silent",isBuildCommand:!0,problemMatcher:["$tsc","$lessCompile"]}]},definitions:{showOutputType:{type:"string","enum":["always","silent","never"],"default":"silent"},patternType:{anyOf:[{type:"string","enum":["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$cpp","$csc","$vb","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"]},{$ref:"#/definitions/pattern"},{type:"array",items:{$ref:"#/definitions/pattern"}}]},pattern:{"default":{regexp:"^([^\\\\s].*)\\\\((\\\\d+,\\\\d+)\\\\):\\\\s*(.*)$",file:1,location:2,message:3},additionalProperties:!1,properties:{regexp:{type:"string",description:i.localize(27,null)},file:{type:"integer",description:i.localize(28,null)},location:{type:"integer",description:i.localize(29,null)},line:{type:"integer",description:i.localize(30,null)},column:{type:"integer",description:i.localize(31,null)},endLine:{type:"integer",description:i.localize(32,null)},endColumn:{type:"integer",description:i.localize(33,null)},severity:{type:"integer",description:i.localize(34,null)},code:{type:"integer",description:i.localize(35,null)},message:{type:"integer",description:i.localize(36,null)},loop:{type:"boolean",description:i.localize(37,null)}}},problemMatcherType:{oneOf:[{type:"string","enum":["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"]},{$ref:"#/definitions/problemMatcher"},{type:"array",items:{anyOf:[{$ref:"#/definitions/problemMatcher"},{type:"string","enum":["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"]}]}}]},watchingPattern:{type:"object",additionalProperties:!1,properties:{regexp:{type:"string",description:i.localize(38,null)},file:{type:"integer",description:i.localize(39,null)}}},problemMatcher:{type:"object",additionalProperties:!1,properties:{base:{type:"string","enum":["$tsc","$tsc-watch","$msCompile","$lessCompile","$gulp-tsc","$jshint","$jshint-stylish","$eslint-compact","$eslint-stylish","$go"],description:i.localize(40,null)},owner:{type:"string",description:i.localize(41,null)},severity:{type:"string","enum":["error","warning","info"],description:i.localize(42,null)},applyTo:{type:"string","enum":["allDocuments","openDocuments","closedDocuments"],description:i.localize(43,null)},pattern:{$ref:"#/definitions/patternType",description:i.localize(44,null)},fileLocation:{oneOf:[{type:"string","enum":["absolute","relative"]},{type:"array",items:{type:"string"}}],description:i.localize(45,null)},watching:{type:"object",additionalProperties:!1,properties:{activeOnStart:{type:"boolean",description:i.localize(46,null)},beginsPattern:{oneOf:[{type:"string"},{type:"#/definitions/watchingPattern"}],description:i.localize(47,null)},endsPattern:{oneOf:[{type:"string"},{type:"#/definitions/watchingPattern"}],description:i.localize(48,null)}}},watchedTaskBeginsRegExp:{type:"string",description:i.localize(49,null)},watchedTaskEndsRegExp:{type:"string",description:i.localize(50,null)}}},baseTaskRunnerConfiguration:{type:"object",properties:{command:{type:"string",description:i.localize(51,null)},isShellCommand:{type:"boolean","default":!0,description:i.localize(52,null)},args:{type:"array",description:i.localize(53,null),items:{type:"string"}},options:{type:"object",description:i.localize(54,null),properties:{cwd:{type:"string",description:i.localize(55,null)},env:{type:"object",additionalProperties:{type:"string"},description:i.localize(56,null)}},additionalProperties:{type:["string","array","object"]}},showOutput:{$ref:"#/definitions/showOutputType",description:i.localize(57,null)},isWatching:{type:"boolean",description:i.localize(58,null),"default":!0},promptOnClose:{type:"boolean",description:i.localize(59,null),"default":!1},echoCommand:{type:"boolean",description:i.localize(60,null),"default":!0},suppressTaskName:{type:"boolean",description:i.localize(61,null),"default":!0},taskSelector:{type:"string",description:i.localize(62,null)},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:i.localize(63,null)},tasks:{type:"array",description:i.localize(64,null),items:{type:"object",$ref:"#/definitions/taskDescription"}}}},taskDescription:{type:"object",required:["taskName"],additionalProperties:!1,properties:{taskName:{type:"string",description:i.localize(65,null)},args:{type:"array",description:i.localize(66,null),items:{type:"string"}},suppressTaskName:{type:"boolean",description:i.localize(67,null),"default":!0},showOutput:{$ref:"#/definitions/showOutputType",description:i.localize(68,null)},echoCommand:{type:"boolean",description:i.localize(69,null),"default":!0},isWatching:{type:"boolean",description:i.localize(70,null),"default":!0},isBuildCommand:{type:"boolean",description:i.localize(71,null),"default":!0},isTestCommand:{type:"boolean",description:i.localize(72,null),"default":!0},problemMatcher:{$ref:"#/definitions/problemMatcherType",description:i.localize(73,null)}},defaultSnippets:[{label:"Empty task",body:{taskName:"{{taskName}}"}}]}},allOf:[{type:"object",required:["version"],properties:{version:{type:"string","enum":["0.1.0"],description:i.localize(74,null)},windows:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:i.localize(75,null)},osx:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:i.localize(76,null)},linux:{$ref:"#/definitions/baseTaskRunnerConfiguration",description:i.localize(77,null)}}},{$ref:"#/definitions/baseTaskRunnerConfiguration"}]},ge=E.Registry.as(M.Extensions.JSONContribution);ge.registerSchema(pe,fe)}),define(l[1011],d([1,0,591,15,2,84,39,32,18,33,285,27,52,243]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p){"use strict";var f=new d.Action("close",i.localize(0,null),"",(!0),function(){return null}),v=function(e,t,i){return new d.Action(e,t,null,(!0),function(){return h.shell.openExternal(i),o.TPromise.as(null)})},y=function(){function e(t,n,r){var a=n.getConfiguration().env,c=t.get(e.KEY,s.StorageScope.GLOBAL,"");a.releaseNotesUrl&&c&&a.version!==c&&setTimeout(function(){r.show(u["default"].Info,{message:i.localize(1,null,a.appName,a.version),actions:[f,l.ShowReleaseNotesAction(a.releaseNotesUrl,!0)]})},0),
// should we show the new license?
a.licenseUrl&&c&&p.satisfies(c,"<1.0.0")&&p.satisfies(a.version,">=1.0.0")&&setTimeout(function(){r.show(u["default"].Info,{message:i.localize(2,null,a.appName,a.version),actions:[f,v("update.showLicense",i.localize(3,null),a.licenseUrl)]})},0);var g=t.getBoolean(e.INSIDER_KEY,s.StorageScope.GLOBAL,!0);g&&/-alpha$|-insider$/.test(a.version)&&setTimeout(function(){r.show(u["default"].Info,{message:i.localize(4,null,a.appName,a.version),actions:[f,new d.Action("update.neverAgain",i.localize(5,null),"",(!0),function(){return t.store(e.INSIDER_KEY,!1,s.StorageScope.GLOBAL),o.TPromise.as(null)}),new d.Action("update.insiderBuilds",i.localize(6,null),"",(!0),function(){return h.shell.openExternal("http://go.microsoft.com/fwlink/?LinkID=798816"),t.store(e.INSIDER_KEY,!1,s.StorageScope.GLOBAL),o.TPromise.as(null)})]})},0),t.store(e.KEY,a.version,s.StorageScope.GLOBAL)}return e.prototype.getId=function(){return"vs.update"},e.KEY="releaseNotes/lastVersion",e.INSIDER_KEY="releaseNotes/shouldShowInsiderDisclaimer",e=g([m(0,s.IStorageService),m(1,a.IWorkspaceContextService),m(2,c.IMessageService)],e)}();t.UpdateContribution=y,n.Registry.as(r.Extensions.Workbench).registerWorkbenchContribution(y)}),define(l[984],d([1,0,43,39,21]),function(e,t,i,n,o){"use strict";var r=function(){function e(e,t,i){this.storageService=e,this.contextService=t,this.telemetryService=i;var n=t.getConfiguration().env;this.appName=n.appName,n.welcomePage&&!n.extensionTestsPath&&(this.welcomePageURL=n.welcomePage,this.handleWelcome())}return e.prototype.handleWelcome=function(){var t=this,i=!this.storageService.get(e.hideWelcomeSettingskey);i&&this.welcomePageURL&&this.telemetryService.getTelemetryInfo().then(function(i){var n=t.getUrl(i);t.openExternal(n),t.storageService.store(e.hideWelcomeSettingskey,!0)})},e.prototype.getUrl=function(e){return this.welcomePageURL+"&&from="+this.appName+"&&id="+e.machineId},e.prototype.openExternal=function(e){throw new Error("implement me")},e.prototype.getId=function(){return"vs.gettingstarted"},e.hideWelcomeSettingskey="workbench.hide.welcome",e=g([m(0,n.IStorageService),m(1,i.IWorkspaceContextService),m(2,o.ITelemetryService)],e)}();t.AbstractGettingStarted=r}),define(l[974],d([1,0,984,12,52]),function(e,t,i,n,o){"use strict";var r=function(e){function t(){e.apply(this,arguments)}return h(t,e),t.prototype.openExternal=function(e){n.isLinux&&n.isRootUser||o.shell.openExternal(e)},t.prototype.handleWelcome=function(){navigator.onLine&&e.prototype.handleWelcome.call(this)},t}(i.AbstractGettingStarted);t.ElectronGettingStarted=r}),define(l[966],d([1,0,15,974,84]),function(e,t,i,n,o){"use strict";i.Registry.as(o.Extensions.Workbench).registerWorkbenchContribution(n.ElectronGettingStarted)}),define(l[965],d([1,0,7,12,594,66,30,104,22,146,46,28,32,5,39,72,65,15,6,44]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E,S,b,_){"use strict";var C=function(){function e(e,t){this._editorInput=e,this._selection=t}return Object.defineProperty(e.prototype,"editorInput",{get:function(){return this._editorInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.justifiesNewPushState=function(t){if(!this._editorInput.matches(t._editorInput))return!0;if(!l.Selection.isISelection(this._selection)||!l.Selection.isISelection(t._selection))return!0;var i=l.Selection.liftSelection(this._selection),n=l.Selection.liftSelection(t._selection);return!(Math.abs(i.getStartPosition().lineNumber-n.getStartPosition().lineNumber)<e.EDITOR_SELECTION_THRESHOLD)},e.EDITOR_SELECTION_THRESHOLD=5,e}();t.EditorState=C;var w=function(){function e(e,t,i,n){var o=this;this.eventService=e,this.editorGroupService=t,this.editorService=i,this.contextService=n,this.toUnbind=[],this.activeEditorListeners=[],window.document.title=this.getWindowTitle(null),this.toUnbind.push(this.editorGroupService.onEditorsChanged(function(){return o.onEditorsChanged()}))}return e.prototype.onEditorsChanged=function(){var e=this;f.dispose(this.activeEditorListeners),this.activeEditorListeners=[];var t=this.editorService.getActiveEditor(),i=t?t.input:void 0;if(this.onEditorEvent(t),i instanceof s.EditorInput&&this.activeEditorListeners.push(i.onDidChangeDirty(function(){e.updateWindowTitle(i)})),t instanceof a.BaseTextEditor){var n=t.getControl();this.activeEditorListeners.push(n.onDidChangeCursorPosition(function(i){e.handleEditorSelectionChangeEvent(t)}))}},e.prototype.onEditorEvent=function(e){var t=e?e.input:null;this.updateWindowTitle(t),this.handleActiveEditorChange(e)},e.prototype.updateWindowTitle=function(e){var t=null;t=e&&e.getName()?this.getWindowTitle(e):this.getWindowTitle(null),window.document.title=t},e.prototype.getWindowTitle=function(e){var t=this.doGetWindowTitle(e);return this.contextService.getConfiguration().env.extensionDevelopmentPath?o.localize(0,null,t):t},e.prototype.doGetWindowTitle=function(e){var t=this.contextService.getConfiguration().env.appName,i=e&&e.getName();i&&e&&e.isDirty()&&!n.isMacintosh&&(i=o.localize(1,null,i));var r=this.contextService.getWorkspace();if(r){var s=r.name;return i?n.isMacintosh?o.localize(2,null,i,s):o.localize(3,null,i,s,t):n.isMacintosh?s:o.localize(4,null,s,t)}return i?n.isMacintosh?i:o.localize(5,null,i,t):t},e.prototype.dispose=function(){this.toUnbind=f.dispose(this.toUnbind)},e}();t.BaseHistoryService=w;var I=function(e){function t(t,i,n,o,r,s,a){e.call(this,t,n,i,o),this.storageService=r,this.lifecycleService=s,this.instantiationService=a,this.serviceId=u.IHistoryService,this.index=-1,this.stack=[],this.recentlyClosed=[],this.loaded=!1,this.registry=S.Registry.as(E.Extensions.Editors),this.registerListeners()}return h(t,e),t.prototype.registerListeners=function(){var e=this;this.toUnbind.push(this.lifecycleService.onShutdown(function(){return e.save()})),this.toUnbind.push(this.editorGroupService.onEditorOpenFail(function(t){return e.remove(t)})),this.toUnbind.push(this.editorGroupService.getStacksModel().onEditorClosed(function(t){return e.onEditorClosed(t)}))},t.prototype.onEditorClosed=function(e){var i=this;if(e.pinned){var n=this.restoreInput(e.editor);n&&(this.removeFromRecentlyClosed(n),this.recentlyClosed.push(n),this.recentlyClosed.length>t.MAX_RECENTLY_CLOSED_EDITORS&&this.recentlyClosed.shift(),n.addOneTimeDisposableListener(r.EventType.DISPOSE,function(){i.restoreInRecentlyClosed(n)}))}},t.prototype.popLastClosedEditor=function(){return this.ensureLoaded(),this.recentlyClosed.pop()},t.prototype.forward=function(){this.stack.length>this.index+1&&(this.index++,this.navigate())},t.prototype.back=function(){this.index>0&&(this.index--,this.navigate())},t.prototype.clear=function(){this.ensureLoaded(),this.index=-1,this.stack.splice(0),this.history=[],this.recentlyClosed=[]},t.prototype.navigate=function(){var e=this,t=this.stack[this.index];this.blockStackChanges=!0,this.editorService.openEditor(t.input,t.options,this.findVisibleEditorPosition(t.input)).done(function(){e.blockStackChanges=!1},function(t){e.blockStackChanges=!1,i.onUnexpectedError(t)})},t.prototype.findVisibleEditorPosition=function(e){var t=this.editorService.getActiveEditor();if(t&&e.matches(t.input))return t.position;for(var i=this.editorService.getVisibleEditors(),n=0;n<i.length;n++){var o=i[n];if(o!==t&&e.matches(o.input))return o.position}return null},t.prototype.handleEditorSelectionChangeEvent=function(e){this.handleEditorEventInStack(e,!0)},t.prototype.handleActiveEditorChange=function(e){this.handleEditorEventInHistory(e),this.handleEditorEventInStack(e,!1)},t.prototype.handleEditorEventInHistory=function(e){var i=this,n=e?e.input:void 0;n&&n.getName()&&(this.ensureLoaded(),this.removeFromHistory(n),this.history.unshift(n),this.history.length>t.MAX_HISTORY_ITEMS&&this.history.pop(),n.addOneTimeDisposableListener(r.EventType.DISPOSE,function(){i.restoreInHistory(n)}))},t.prototype.restoreInHistory=function(e){var t=this.indexOf(e);if(!(t<0)){var i=this.restoreInput(e);i?this.history[t]=i:this.removeFromHistory(e,t)}},t.prototype.remove=function(e){var t=this;this.removeFromHistory(e),this.removeFromStack(e),setTimeout(function(){return t.removeFromRecentlyClosed(e)})},t.prototype.removeFromHistory=function(e,t){this.ensureLoaded(),"number"!=typeof t&&(t=this.indexOf(e)),t>=0&&this.history.splice(t,1)},t.prototype.indexOf=function(e){for(var t=0;t<this.history.length;t++){var i=this.history[t];if(i.matches(e))return t}return-1},t.prototype.handleEditorEventInStack=function(e,t){if(!this.blockStackChanges){if(e instanceof a.BaseTextEditor&&e.input)return void this.handleTextEditorEvent(e,t);this.currentFileEditorState=null,e&&e.input&&this.handleNonTextEditorEvent(e)}},t.prototype.handleTextEditorEvent=function(e,t){var i=new C(e.input,e.getSelection());if(!this.currentFileEditorState||this.currentFileEditorState.justifiesNewPushState(i)){this.currentFileEditorState=i;var n=void 0;t&&(n=new s.TextEditorOptions,n.selection(e.getSelection().startLineNumber,e.getSelection().startColumn)),this.addToStack(e.input,n)}},t.prototype.handleNonTextEditorEvent=function(e){var t=this.stack[this.index];t&&t.input.matches(e.input)||this.addToStack(e.input)},t.prototype.addToStack=function(e,i){var n=this,o=!1;if(this.stack[this.index]){var s=this.stack[this.index];s.input.matches(e)&&!s.options&&(o=!0)}var a={input:e,options:i};this.stack.length>this.index+1&&(this.stack=this.stack.slice(0,this.index+1)),o?this.stack[this.index]=a:(this.index++,this.stack.splice(this.index,0,a),this.stack.length>t.MAX_STACK_ITEMS&&(this.stack.shift(),this.index>0&&this.index--)),e.addOneTimeDisposableListener(r.EventType.DISPOSE,function(){n.restoreInStack(e)})},t.prototype.restoreInStack=function(e){var t,i=this,n=!1;this.stack.forEach(function(o,r){o.input.matches(e)&&(n||(t=i.restoreInput(e),n=!0),t?i.stack[r].input=t:(i.stack.splice(r,1),i.index>=r&&i.index--))})},t.prototype.restoreInRecentlyClosed=function(e){var t,i=this,n=!1;this.recentlyClosed.forEach(function(o,r){o.matches(e)&&(n||(t=i.restoreInput(e),n=!0),t?i.recentlyClosed[r]=t:i.stack.splice(r,1))})},t.prototype.restoreInput=function(e){if(e instanceof s.EditorInput){var t=this.registry.getEditorInputFactory(e.getTypeId());if(t){var i=t.serialize(e);if(i)return t.deserialize(this.instantiationService,i)}}return null},t.prototype.removeFromStack=function(e){var t=this;this.stack.forEach(function(i,n){i.input.matches(e)&&(t.stack.splice(n,1),t.index>=n&&t.index--)})},t.prototype.removeFromRecentlyClosed=function(e){var t=this;this.recentlyClosed.forEach(function(i,n){i.matches(e)&&t.recentlyClosed.splice(n,1)})},t.prototype.getHistory=function(){return this.ensureLoaded(),this.history.slice(0)},t.prototype.ensureLoaded=function(){this.loaded||this.load(),this.loaded=!0},t.prototype.save=function(){var e=this;if(this.history){var i=this.history.map(function(t){var i=e.registry.getEditorInputFactory(t.getTypeId());if(i){var n=i.serialize(t);if("string"==typeof n)return{id:t.getTypeId(),value:n}}}).filter(function(e){return!!e});this.storageService.store(t.STORAGE_KEY,JSON.stringify(i),v.StorageScope.WORKSPACE)}},t.prototype.load=function(){var e=this,i=[],n=this.storageService.get(t.STORAGE_KEY,v.StorageScope.WORKSPACE);if(n)i=JSON.parse(n);else try{var o=this.storageService.get("memento/workbench.component.quickopen",v.StorageScope.WORKSPACE);if(o){var r=JSON.parse(o),s=r["quickopen.editorhistory"].entries;s&&(i=s)}}catch(a){console.error(a)}this.history=i.map(function(t){var i=e.registry.getEditorInputFactory(t.id);if(i&&"string"==typeof t.value)return i.deserialize(e.instantiationService,t.value)}).filter(function(e){return!!e})},t.STORAGE_KEY="history.entries",t.MAX_HISTORY_ITEMS=200,t.MAX_STACK_ITEMS=20,t.MAX_RECENTLY_CLOSED_EDITORS=20,t=g([m(0,d.IEventService),m(1,c.IWorkbenchEditorService),m(2,_.IEditorGroupService),m(3,p.IWorkspaceContextService),m(4,v.IStorageService),m(5,y.ILifecycleService),m(6,b.IInstantiationService)],t)}(w);t.HistoryService=I}),define(l[237],d([1,0,2,17,5,9,10,31,16,85,75,7,15,167,12,84,65,30,965,947,982,948,910,898,969,63,71,113,980,88,96,87,215,55,43,39,866,887,20,139,57,93,272,22,50,44,146,28,6,70,72,18,79,153,35,308,51,775]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W,B,K,V,H,z,U,G,j,q,Y,$,X,Q,Z,J,ee,te,ie,ne,oe){"use strict";var re=function(){function e(e,t,o,r,s,u,l,d,h,p,f,g,m){var v=this;if(this.instantiationService=u,this.untitledEditorService=l,this.eventService=d,this.contextService=h,this.storageService=p,this.lifecycleService=f,this.messageService=g,this.threadService=m,this.serviceId=P.IPartService,this.validateParams(e,o,r),n.isString(e)){var y=a.withElementById(e.toString());this.container=y.getHTMLElement()}else this.container=e;this.workbenchParams={workspace:t,configuration:o,options:r||{},serviceCollection:s},this.toDispose=[],this.toShutdown=[],this.editorBackgroundDelayer=new c.Delayer(50),this.creationPromise=new i.TPromise(function(e,t,i){v.creationPromiseComplete=e})}return e.prototype.validateParams=function(e,t,i){if(u.ok(e,"Workbench requires a container to be created with"),n.isString(e)){var o=a.withElementById(e.toString());u.ok(o,r.format("Can not find HTMLElement with id '{0}'.",e))}},e.prototype.startup=function(e){var t=this;u.ok(!this.workbenchStarted,"Can not start a workbench that was already started"),u.ok(!this.workbenchShutdown,"Can not start a workbench that was shutdown");try{this.workbenchStarted=!0,this.callbacks=e,this.createWorkbench(),this.initServices(),this.callbacks&&this.callbacks.onServicesCreated&&this.callbacks.onServicesCreated(),this.registerListeners(),this.initSettings(),this.renderWorkbench(),this.createWorkbenchLayout(),this.registerEmitters();var n=[],o=h.Registry.as(L.Extensions.Viewlets),s=o.getDefaultViewletId();if(this.workbenchParams.configuration.env.isBuilt||(s=this.storageService.get(C.SidebarPart.activeViewletSettingsKey,F.StorageScope.WORKSPACE,o.getDefaultViewletId())),!this.sideBarHidden&&s){var a=l.start(l.Topic.STARTUP,r.format("Opening Viewlet: {0}",s));n.push(this.sidebarPart.openViewlet(s,!1).then(function(){return a.stop()}))}var c=h.Registry.as(D.Extensions.Panels),p=this.storageService.get(w.PanelPart.activePanelSettingsKey,F.StorageScope.WORKSPACE,c.getDefaultPanelId());!this.panelHidden&&p&&n.push(this.panelPart.openPanel(p,!1));var f=l.start(l.Topic.STARTUP,r.format("Restoring Editor(s)"));n.push(this.resolveEditorsToOpen().then(function(e){var i;if(e.length){var n=e.map(function(e,t){return{input:e.input,options:e.options,position:P.Position.LEFT}});i=t.editorPart.openEditors(n)}else i=t.editorPart.restoreEditors();return i.then(function(){t.onEditorsChanged(),f.stop()})}));var g=function(e){t.workbenchCreated=!0,t.creationPromiseComplete(!0),t.callbacks&&t.callbacks.onWorkbenchStarted&&t.callbacks.onWorkbenchStarted(t.keybindingService.customKeybindingsCount()),e&&d.onUnexpectedError(e)};i.TPromise.join(n).then(function(){return g()},function(e){return g(e)})}catch(m){throw console.error(d.toErrorMessage(m,!0)),m}},e.prototype.resolveEditorsToOpen=function(){var e=this,t=this.workbenchParams.options;if(t.filesToCreate&&t.filesToCreate.length||t.filesToOpen&&t.filesToOpen.length||t.filesToDiff&&t.filesToDiff.length){var n=t.filesToCreate||[],o=t.filesToOpen||[],r=t.filesToDiff;if(r&&r.length)return i.TPromise.join(r.map(function(t){return e.editorService.createInput(t)})).then(function(t){return[{input:new x.DiffEditorInput(x.toDiffLabel(r[0].resource,r[1].resource,e.contextService),null,t[0],t[1])}]});var s=[],a=[];return s.push.apply(s,n.map(function(t){return e.untitledEditorService.createOrGet(t.resource)})),a.push.apply(a,n.map(function(e){return null})),i.TPromise.join(o.map(function(t){return e.editorService.createInput(t)})).then(function(e){return s.push.apply(s,e),a.push.apply(a,o.map(function(e){return E.TextEditorOptions.from(e)})),s.map(function(e,t){return{input:e,options:a[t]}})})}return this.workbenchParams.workspace?i.TPromise.as([]):i.TPromise.as([{input:this.untitledEditorService.createOrGet()}])},e.prototype.initServices=function(){var e=this.workbenchParams.serviceCollection;this.toDispose.push(this.lifecycleService.onShutdown(this.shutdownComponents,this)),e.set(P.IPartService,this),this.statusbarPart=this.instantiationService.createInstance(I.StatusbarPart,p.Identifiers.STATUSBAR_PART),this.toDispose.push(this.statusbarPart),this.toShutdown.push(this.statusbarPart),e.set(te.IStatusbarService,this.statusbarPart),this.keybindingService=this.instantiationService.createInstance(B.WorkbenchKeybindingService,window),e.set(K.IKeybindingService,this.keybindingService),e.set(oe.IContextMenuService,this.instantiationService.createInstance(W.ContextMenuService)),e.set(ie.IMenuService,new Q.SyncDescriptor(ne.MenuService)),this.sidebarPart=this.instantiationService.createInstance(C.SidebarPart,p.Identifiers.SIDEBAR_PART),this.toDispose.push(this.sidebarPart),this.toShutdown.push(this.sidebarPart),e.set(H.IViewletService,this.sidebarPart),this.panelPart=this.instantiationService.createInstance(w.PanelPart,p.Identifiers.PANEL_PART),this.toDispose.push(this.panelPart),this.toShutdown.push(this.panelPart),e.set(z.IPanelService,this.panelPart),this.activitybarPart=this.instantiationService.createInstance(b.ActivitybarPart,p.Identifiers.ACTIVITYBAR_PART),this.toDispose.push(this.activitybarPart),this.toShutdown.push(this.activitybarPart),e.set(V.IActivityService,this.activitybarPart),this.editorPart=this.instantiationService.createInstance(_.EditorPart,p.Identifiers.EDITOR_PART),this.toDispose.push(this.editorPart),this.toShutdown.push(this.editorPart),this.editorService=this.instantiationService.createInstance(O.WorkbenchEditorService,this.editorPart),e.set(G.IWorkbenchEditorService,this.editorService),e.set(q.IEditorGroupService,this.editorPart),e.set(Y.IHistoryService,this.instantiationService.createInstance(S.HistoryService)),this.quickOpen=this.instantiationService.createInstance(k.QuickOpenController),this.toDispose.push(this.quickOpen),this.toShutdown.push(this.quickOpen),e.set(j.IQuickOpenService,this.quickOpen);for(var t=M.getServices(),i=0,n=t;i<n.length;i++){var o=n[i];e.set(o.id,o.descriptor)}this.keybindingService.setInstantiationService(this.instantiationService),h.Registry.as(A.Extensions.Actionbar).setInstantiationService(this.instantiationService),h.Registry.as(v.Extensions.Workbench).setInstantiationService(this.instantiationService),h.Registry.as(y.Extensions.Editors).setInstantiationService(this.instantiationService)},e.prototype.initSettings=function(){this.sideBarHidden=this.storageService.getBoolean(e.sidebarHiddenSettingKey,F.StorageScope.WORKSPACE,!1),this.workbenchParams.options.singleFileMode&&(this.sideBarHidden=!0);var t=h.Registry.as(L.Extensions.Viewlets);t.getDefaultViewletId()||(this.sideBarHidden=!0);var i=h.Registry.as(D.Extensions.Panels);this.panelHidden=this.storageService.getBoolean(e.panelHiddenSettingKey,F.StorageScope.WORKSPACE,!0),!this.workbenchParams.options.singleFileMode&&i.getDefaultPanelId()||(this.panelHidden=!0);var n=this.storageService.get(e.sidebarPositionSettingKey,F.StorageScope.GLOBAL,"left");this.sideBarPosition="left"===n?P.Position.LEFT:P.Position.RIGHT,this.statusBarHidden=this.storageService.getBoolean(e.statusbarHiddenSettingKey,F.StorageScope.WORKSPACE,!1)},e.prototype.isStarted=function(){return this.workbenchStarted&&!this.workbenchShutdown},e.prototype.isCreated=function(){return this.workbenchCreated&&this.workbenchStarted},e.prototype.joinCreation=function(){return this.creationPromise},e.prototype.hasFocus=function(e){var t=document.activeElement;if(!t)return!1;var i=null;switch(e){case P.Parts.ACTIVITYBAR_PART:i=this.activitybarPart.getContainer();break;case P.Parts.SIDEBAR_PART:i=this.sidebarPart.getContainer();break;case P.Parts.PANEL_PART:i=this.panelPart.getContainer();break;case P.Parts.EDITOR_PART:i=this.editorPart.getContainer();break;case P.Parts.STATUSBAR_PART:i=this.statusbarPart.getContainer()}return s.isAncestor(t,i.getHTMLElement())},e.prototype.isVisible=function(e){switch(e){case P.Parts.SIDEBAR_PART:return!this.sideBarHidden;case P.Parts.PANEL_PART:return!this.panelHidden;case P.Parts.STATUSBAR_PART:return!this.statusBarHidden}return!0},e.prototype.isStatusBarHidden=function(){return this.statusBarHidden},e.prototype.setStatusBarHidden=function(t,i){this.statusBarHidden=t,i||this.workbenchLayout.layout(!0),this.storageService.store(e.statusbarHiddenSettingKey,t?"true":"false",F.StorageScope.WORKSPACE)},e.prototype.isSideBarHidden=function(){return this.sideBarHidden},e.prototype.setSideBarHidden=function(t,i){if(this.sideBarHidden=t,t?this.workbench.addClass("nosidebar"):this.workbench.removeClass("nosidebar"),i||this.workbenchLayout.layout(!0),t&&this.sidebarPart.getActiveViewlet()){this.sidebarPart.hideActiveViewlet();var n=this.editorPart.getActiveEditor();n&&n.focus()}else if(!t&&!this.sidebarPart.getActiveViewlet()){var o=h.Registry.as(L.Extensions.Viewlets),r=this.sidebarPart.getLastActiveViewletId()||o.getDefaultViewletId();r&&this.sidebarPart.openViewlet(r,!0).done(null,d.onUnexpectedError)}this.storageService.store(e.sidebarHiddenSettingKey,t?"true":"false",F.StorageScope.WORKSPACE)},e.prototype.isPanelHidden=function(){return this.panelHidden},e.prototype.setPanelHidden=function(t,i){if(this.panelHidden=t,i||this.workbenchLayout.layout(!0),t&&this.panelPart.getActivePanel()){this.panelPart.hideActivePanel();var n=this.editorPart.getActiveEditor();n&&n.focus()}else if(!t&&!this.panelPart.getActivePanel()){var o=h.Registry.as(D.Extensions.Panels),r=this.panelPart.getLastActivePanelId()||o.getDefaultPanelId();r&&this.panelPart.openPanel(r,!0).done(null,d.onUnexpectedError)}this.storageService.store(e.panelHiddenSettingKey,t?"true":"false",F.StorageScope.WORKSPACE)},e.prototype.getSideBarPosition=function(){return this.sideBarPosition},e.prototype.setSideBarPosition=function(t){this.sideBarHidden&&this.setSideBarHidden(!1,!0);var i=t===P.Position.LEFT?"left":"right",n=this.sideBarPosition===P.Position.LEFT?"left":"right";this.sideBarPosition=t,this.activitybarPart.getContainer().removeClass(n),this.sidebarPart.getContainer().removeClass(n),this.activitybarPart.getContainer().addClass(i),this.sidebarPart.getContainer().addClass(i),this.workbenchLayout.layout(!0),this.storageService.store(e.sidebarPositionSettingKey,t===P.Position.LEFT?"left":"right",F.StorageScope.GLOBAL)},e.prototype.dispose=function(){this.isStarted()&&(this.shutdownComponents(),this.workbenchShutdown=!0),this.toDispose=o.dispose(this.toDispose)},e.prototype.layout=function(){this.isStarted()&&this.workbenchLayout.layout()},e.prototype.shutdownComponents=function(){this.toShutdown.forEach(function(e){return e.shutdown()})},e.prototype.registerEmitters=function(){this.hookPartListeners(this.activitybarPart),this.hookPartListeners(this.editorPart),this.hookPartListeners(this.sidebarPart),this.hookPartListeners(this.panelPart)},e.prototype.hookPartListeners=function(e){this.toDispose.push(this.eventService.addEmitter2(e,e.getId()))},e.prototype.registerListeners=function(){var e=this;if(this.toDispose.push(this.editorPart.onEditorsChanged(function(){return e.onEditorsChanged()})),this.messageService instanceof U.WorkbenchMessageService){var t=this.keybindingService.createKey("globalMessageVisible",!1);this.toDispose.push(this.messageService.onMessagesShowing(function(){return t.set(!0)})),this.toDispose.push(this.messageService.onMessagesCleared(function(){return t.reset()})),this.toDispose.push(this.quickOpen.onShow(function(){return e.messageService.suspend()})),this.toDispose.push(this.quickOpen.onHide(function(){return e.messageService.resume()}))}},e.prototype.onEditorsChanged=function(){var e=this.editorService.getVisibleEditors().length,t=this.editorPart.getContainer();0===e?this.editorBackgroundDelayer.trigger(function(){return t.addClass("empty")}):this.editorBackgroundDelayer.trigger(function(){return t.removeClass("empty")})},e.prototype.createWorkbenchLayout=function(){var e=new T.LayoutOptions;e.setMargin(new a.Box(0,0,0,0)),this.workbenchLayout=this.instantiationService.createInstance(T.WorkbenchLayout,a.$(this.container),this.workbench,{activitybar:this.activitybarPart,editor:this.editorPart,sidebar:this.sidebarPart,panel:this.panelPart,statusbar:this.statusbarPart},this.quickOpen,e),this.toDispose.push(this.workbenchLayout)},e.prototype.createWorkbench=function(){this.workbenchContainer=a.$(".monaco-workbench-container"),this.workbench=a.$().div({"class":"monaco-workbench "+(f.isWindows?"windows":f.isLinux?"linux":"mac"),id:p.Identifiers.WORKBENCH_CONTAINER}).appendTo(this.workbenchContainer)},e.prototype.renderWorkbench=function(){this.sideBarHidden&&this.workbench.addClass("nosidebar"),this.workbenchParams.workspace||this.workbench.addClass("no-workspace"),this.createActivityBarPart(),this.createSidebarPart(),this.createEditorPart(),this.createPanelPart(),this.createStatusbarPart(),this.workbenchContainer.build(this.container)},e.prototype.createActivityBarPart=function(){var e=a.$(this.workbench).div({"class":["part","activitybar",this.sideBarPosition===P.Position.LEFT?"left":"right"],id:p.Identifiers.ACTIVITYBAR_PART,role:"navigation"});this.activitybarPart.create(e)},e.prototype.createSidebarPart=function(){var e=a.$(this.workbench).div({"class":["part","sidebar",this.sideBarPosition===P.Position.LEFT?"left":"right"],id:p.Identifiers.SIDEBAR_PART,role:"complementary"});this.sidebarPart.create(e)},e.prototype.createPanelPart=function(){var e=a.$(this.workbench).div({"class":["part","panel","monaco-editor-background"],id:p.Identifiers.PANEL_PART,role:"complementary"});this.panelPart.create(e)},e.prototype.createEditorPart=function(){var e=a.$(this.workbench).div({"class":["part","editor","monaco-editor-background"],id:p.Identifiers.EDITOR_PART,role:"main"});this.editorPart.create(e)},e.prototype.createStatusbarPart=function(){var e=a.$(this.workbench).div({"class":["part","statusbar"],id:p.Identifiers.STATUSBAR_PART,role:"contentinfo"});this.statusbarPart.create(e)},e.prototype.getEditorPart=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.editorPart},e.prototype.getSidebarPart=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.sidebarPart},e.prototype.getPanelPart=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.panelPart},e.prototype.getInstantiationService=function(){return u.ok(this.workbenchStarted,"Workbench is not started. Call startup() first."),this.instantiationService},e.prototype.addClass=function(e){this.workbench&&this.workbench.addClass(e)},e.prototype.removeClass=function(e){this.workbench&&this.workbench.removeClass(e)},e.sidebarPositionSettingKey="workbench.sidebar.position",e.statusbarHiddenSettingKey="workbench.statusbar.hidden",e.sidebarHiddenSettingKey="workbench.sidebar.hidden",e.panelHiddenSettingKey="workbench.panel.hidden",e=g([m(5,X.IInstantiationService),m(6,R.IUntitledEditorService),m(7,$.IEventService),m(8,N.IWorkspaceContextService),m(9,F.IStorageService),m(10,Z.ILifecycleService),m(11,J.IMessageService),m(12,ee.IThreadService)],e)}();t.Workbench=re}),define(l[886],d([1,0,457,7,25,95,653,105,45,1030,159,23]),function(e,t,i,n,o,r,s,a,c,u,l,d){"use strict";function h(e,t){var i=new S(e.getId(),t);return{getInitialState:function(){return new s.TMState(e,null,null)},tokenize:function(e,t,n,o){return i.tokenize(e,t,n,o)}}}function p(e,t){for(var i=e.prevToken.scopes,n=i.length,o=e.prevToken.scopeTokensMaps,r=[],s=[],a=!0,c=1;c<t.length;c++){var u=t[c];if(a){if(c<n&&i[c]===u){s=o[c],r[c]=s;continue}a=!1}var l=e.getTokenIds(u);s=s.slice(0);for(var d=0;d<l.length;d++)s[l[d]]=!0;r[c]=s}return e.prevToken=new E(t,r),e.getToken(s)}var f=r.ExtensionsRegistry.registerExtensionPoint("grammars",{description:i.localize(0,null),type:"array",defaultSnippets:[{body:[{language:"{{id}}",scopeName:"source.{{id}}",path:"./syntaxes/{{id}}.tmLanguage."}]}],items:{type:"object",defaultSnippets:[{body:{language:"{{id}}",scopeName:"source.{{id}}",path:"./syntaxes/{{id}}.tmLanguage."}}],properties:{language:{description:i.localize(1,null),type:"string"},scopeName:{description:i.localize(2,null),type:"string"},path:{description:i.localize(3,null),type:"string"},injectTo:{description:i.localize(4,null),type:"array",items:{type:"string"}}},require:["scopeName","path"]}}),v=function(){function e(e,t){var i=this;this._modeService=e,this._scopeNameToFilePath={},this._injections={};var n=t.getConfiguration("editor"),o=!0;"undefined"!=typeof n.useExperimentalParser&&Boolean(n.useExperimentalParser)===!1&&(o=!1),this._grammarRegistry=new u.Registry({getFilePath:function(e){return i._scopeNameToFilePath[e]},getInjections:function(e){return i._injections[e]}},o),f.setHandler(function(e){for(var t=0;t<e.length;t++)for(var n=e[t].value,o=0;o<n.length;o++)i._handleGrammarExtensionPointUser(e[t].description.extensionFolderPath,n[o],e[t].collector)})}return e.prototype._handleGrammarExtensionPointUser=function(e,t,n){var r=this;if(t.language&&("string"!=typeof t.language||!this._modeService.isRegisteredMode(t.language)))return void n.error(i.localize(5,null,f.name,String(t.language)));if(!t.scopeName||"string"!=typeof t.scopeName)return void n.error(i.localize(6,null,f.name,String(t.scopeName)));if(!t.path||"string"!=typeof t.path)return void n.error(i.localize(7,null,f.name,String(t.path)));if(t.injectTo&&(!Array.isArray(t.injectTo)||t.injectTo.some(function(e){return"string"!=typeof e})))return void n.error(i.localize(8,null,f.name,JSON.stringify(t.injectTo)));var s=o.normalize(o.join(e,t.path));if(0!==s.indexOf(e)&&n.warn(i.localize(9,null,f.name,s,e)),this._scopeNameToFilePath[t.scopeName]=s,t.injectTo)for(var a=0,c=t.injectTo;a<c.length;a++){var u=c[a],l=this._injections[u];l||(this._injections[u]=l=[]),l.push(t.scopeName)}var d=t.language;if(d)var h=this._modeService.onDidCreateMode(function(e){e.getId()===d&&(r.registerDefinition(d,t.scopeName),h.dispose())})},e.prototype.registerDefinition=function(e,t){var i=this;this._grammarRegistry.loadGrammar(t,function(t,o){return t?void n.onUnexpectedError(t):void i._modeService.registerTokenizationSupport(e,function(e){return h(e,o)})})},e=g([m(0,c.IModeService),m(1,d.IConfigurationService)],e)}();t.MainProcessTextMateSyntax=v;var y=function(){function e(){this.lastAssignedId=0,this.scopeToTokenIds=Object.create(null),this.tokenToTokenId=Object.create(null),this.tokenIdToToken=[null],this.prevToken=new E([],[])}return e.prototype.getTokenIds=function(e){var t=this.scopeToTokenIds[e];if(t)return t;var i=e.split(".");t=[];for(var n=0;n<i.length;n++){var o=i[n],r=this.tokenToTokenId[o];r||(r=++this.lastAssignedId,this.tokenToTokenId[o]=r,this.tokenIdToToken[r]=o),t.push(r)}return this.scopeToTokenIds[e]=t,t},e.prototype.getToken=function(e){for(var t="",i=!0,n=1;n<=this.lastAssignedId;n++)e[n]&&(i?(i=!1,t+=this.tokenIdToToken[n]):(t+=".",t+=this.tokenIdToToken[n]));return t},e}();t.DecodeMap=y;var E=function(){function e(e,t){this.scopes=e,this.scopeTokensMaps=t}return e}();t.TMTokenDecodeData=E;var S=function(){function e(e,t){this._modeId=e,this._grammar=t,this._decodeMap=new y}return e.prototype.tokenize=function(e,t,i,n){if(void 0===i&&(i=0),e.length>=2e4)return new a.LineTokens([new a.Token(i,"")],[new l.ModeTransition(i,t.getMode())],i,t);var o=t.clone(),r=this._grammar.tokenizeLine(e,o.getRuleStack());o.setRuleStack(r.ruleStack);for(var s=[],c=null,u=0,d=r.tokens.length;u<d;u++){var h=r.tokens[u],f=h.startIndex,g=p(this._decodeMap,h.scopes);g!==c&&(s.push(new a.Token(f+i,g)),c=g)}return new a.LineTokens(s,[new l.ModeTransition(i,o.getMode())],i+e.length,o)},e}();t.decodeTextMateToken=p}),define(l[739],d([1,0,15,84,6,79,107,103,934,935,755,942,936,757,939,758,759,893,940,760,761,762,868,240,938,886,315,673,613]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,v,y,E,S,b,_,C,w,I,T,A,L,D,k){
"use strict";var x=function(){function e(e,t,i){this.threadService=e,this.instantiationService=t,this.extensionService=i,this.initExtensionSystem()}return e.prototype.getId=function(){return"vs.api.extHost"},e.prototype.initExtensionSystem=function(){var e=this,t=function(t){return e.instantiationService.createInstance(t)},i=new s.InstanceCollection;i.define(s.MainContext.MainThreadCommands).set(t(c.MainThreadCommands)),i.define(s.MainContext.MainThreadConfiguration).set(t(u.MainThreadConfiguration)),i.define(s.MainContext.MainThreadDiagnostics).set(t(l.MainThreadDiagnostics)),i.define(s.MainContext.MainThreadDocuments).set(t(d.MainThreadDocuments)),i.define(s.MainContext.MainThreadEditors).set(t(h.MainThreadEditors)),i.define(s.MainContext.MainThreadErrors).set(t(p.MainThreadErrors)),i.define(s.MainContext.MainThreadLanguageFeatures).set(t(f.MainThreadLanguageFeatures)),i.define(s.MainContext.MainThreadLanguages).set(t(v.MainThreadLanguages)),i.define(s.MainContext.MainThreadMessageService).set(t(y.MainThreadMessageService)),i.define(s.MainContext.MainThreadOutputService).set(t(E.MainThreadOutputService)),i.define(s.MainContext.MainThreadQuickOpen).set(t(S.MainThreadQuickOpen)),i.define(s.MainContext.MainThreadStatusBar).set(t(b.MainThreadStatusBar)),i.define(s.MainContext.MainThreadStorage).set(t(_.MainThreadStorage)),i.define(s.MainContext.MainThreadTelemetry).set(t(C.MainThreadTelemetry)),i.define(s.MainContext.MainThreadWorkspace).set(t(w.MainThreadWorkspace)),this.extensionService instanceof I.MainProcessExtensionService&&i.define(s.MainContext.MainProcessExtensionService).set(this.extensionService),i.finish(!0,this.threadService),t(A.MainProcessTextMateSyntax),t(L.MainProcessTextMateSnippet),t(D.JSONValidationExtensionPoint),t(k.LanguageConfigurationFileHandler),t(T.MainThreadFileSystemEventService)},e=g([m(0,r.IThreadService),m(1,o.IInstantiationService),m(2,a.IExtensionService)],e)}();t.ExtHostContribution=x,i.Registry.as(n.Extensions.Workbench).registerWorkbenchContribution(x)}),define(l[389],d([1,0,1033,160,2,7,82,738,737]),function(e,t,i,n,o,r,s,a,c){"use strict";function u(e,t,i){return c.resolveCommonProperties(t,i).then(function(t){t["common.version.shell"]=process.versions&&process.versions.electron,t["common.version.renderer"]=process.versions&&process.versions.chrome,t["common.osVersion"]=n.release();var i=e.get("telemetry.lastSessionDate"),r=e.get("telemetry.firstSessionDate")||(new Date).toUTCString();e.store("telemetry.firstSessionDate",r),e.store("telemetry.lastSessionDate",(new Date).toUTCString()),t["common.firstSessionDate"]=r,t["common.lastSessionDate"]=i,t["common.isNewSession"]=i?"0":"1";var s=[];return s.push(l(e).then(function(e){return t["common.instanceId"]=e})),s.push(d(e).then(function(e){return t["common.machineId"]=e})),"win32"===process.platform&&(s.push(h(e).then(function(e){return t["common.sqm.userid"]=e})),s.push(p(e).then(function(e){return t["common.sqm.machineid"]=e}))),o.TPromise.join(s).then(function(){return t})})}function l(e){var t=e.get("telemetry.instanceId")||s.generateUuid();return e.store("telemetry.instanceId",t),o.TPromise.as(t)}function d(e){var t="telemetry.machineId",i=e.get(t);return i?o.TPromise.as(i):a.getMachineId().then(function(i){return e.store(t,i),i})}function h(e){var t=e.get("telemetry.sqm.userId");return t?o.TPromise.as(t):f(g,"UserId",i.HKCU).then(function(t){if(t)return e.store("telemetry.sqm.userId",t),t})}function p(e){var t=e.get("telemetry.sqm.machineId");return t?o.TPromise.as(t):f(g,"MachineId",i.HKLM).then(function(t){if(t)return e.store("telemetry.sqm.machineId",t),t})}function f(e,t,n){return new o.TPromise(function(o,s){if("win32"===process.platform)try{var a=new i({hive:n,key:e});a.get(t,function(e,t){e||!t?s(null):o(t.value)})}catch(c){r.onUnexpectedError(c),s(c)}else o(null)}).then(void 0,function(e){})}var g="\\Software\\Microsoft\\SQMClient";t.resolveWorkbenchCommonProperties=u}),define(l[362],d([1,0,2,98,67,9,597,5,15,23,734,21,32,29,353,970,1035]),function(e,t,i,n,o,r,s,a,c,u,l,d,p,f,v,y,E){"use strict";var S=function(e){function t(t,i,n){var o=this;e.call(this,t,n),this.proxyUrl=null,this.strictSSL=!0,this.disposables=[];var r=i.getConfiguration();this.configure(r);var s=i.onDidUpdateConfiguration(function(e){return o.configure(e.config)});this.disposables.push(s)}return h(t,e),t.prototype.configure=function(e){this.proxyUrl=e.http&&e.http.proxy,this.strictSSL=e.http&&e.http.proxyStrictSSL},t.prototype.makeRequest=function(t){var o=t.url;if(!o)throw new Error("IRequestService.makeRequest: Url is required.");return r.startsWith(o,"file://")?n.xhr(t).then(null,function(e){return 0===e.status&&e.responseText?e:i.Promise.wrapError({status:404,responseText:s.localize(0,null)})}):e.prototype.makeRequest.call(this,t)},t.prototype.makeCrossOriginRequest=function(e){var t=this,o=t.proxyUrl,r=t.strictSSL,s=y.getProxyAgent(e.url,{proxyUrl:o,strictSSL:r});return e=f.assign({},e),e=f.assign(e,{agent:s,strictSSL:r}),v.request(e).then(function(t){return new i.TPromise(function(i,o,r){var s=t.res,a=s;"gzip"===s.headers["content-encoding"]&&(a=a.pipe(E.createGunzip()));var c=[];a.on("data",function(e){return c.push(e)}),a.on("end",function(){var t=s.statusCode;if(e.followRedirects>0&&(t>=300&&t<=303||307===t)){var a=s.headers.location;if(a){var u={type:e.type,url:a,user:e.user,password:e.password,responseType:e.responseType,headers:e.headers,timeout:e.timeout,followRedirects:e.followRedirects-1,data:e.data};return void n.xhr(u).done(i,o,r)}}var l={responseText:c.join(""),status:t,getResponseHeader:function(e){return s.headers[e]},readyState:4};t>=200&&t<300||1223===t?i(l):o(l)})},function(t){var n;return n=s?"Unable to to connect to "+e.url+" through a proxy . Error: "+t.message:"Unable to to connect to "+e.url+". Error: "+t.message,i.TPromise.wrapError({responseText:n,status:404})})})},t.prototype.dispose=function(){this.disposables=a.dispose(this.disposables)},t=g([m(0,p.IWorkspaceContextService),m(1,u.IConfigurationService),m(2,d.ITelemetryService)],t)}(l.BaseRequestService);t.RequestService=S;var b=c.Registry.as(o.Extensions.Configuration);b.registerConfiguration({id:"http",order:15,title:s.localize(1,null),type:"object",properties:{"http.proxy":{type:"string",pattern:"^https?://[^:]+(:\\d+)?$|^$",description:s.localize(2,null)},"http.proxyStrictSSL":{type:"boolean","default":!0,description:s.localize(3,null)}}})}),define(l[352],d([1,0,503,12,31,10,120,5,7,732,75,237,785,21,314,313,684,683,389,983,285,925,97,963,362,23,879,944,962,246,634,38,687,206,645,606,109,611,127,240,39,110,625,51,28,34,72,118,18,155,198,79,32,103,667,45,87,786,91,964,115,349,620,111,169,743,640]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,g,m,v,y,E,S,b,_,C,w,I,T,A,L,D,k,x,M,R,O,P,N,F,W,B,K,V,H,z,U,G,j,q,Y,$,X,Q,Z,J,ee,te,ie,ne,oe,re,se,ae,ce,ue,le){"use strict";var de=function(){function e(e,t,i,n,o){this.container=e,this.workspace=t,this.configuration=n,this.options=o,this.contextService=i.contextService,this.eventService=i.eventService,this.configurationService=i.configurationService,this.toUnbind=[],this.previousErrorTime=0}return e.prototype.createContents=function(e){var t=this;s.setARIAContainer(document.body);var i=o.$(e).div(),n=this.initServiceCollection(),r=n[0],a=n[1];if(this.configuration.env.crashReporter){var c=r.createInstance(ne.CrashReporter,this.configuration.env.version,this.configuration.env.commitHash);c.start(this.configuration.env.crashReporter)}this.workbench=r.createInstance(d.Workbench,i.getHTMLElement(),this.workspace,this.configuration,this.options,a),this.workbench.startup({onWorkbenchStarted:function(e){t.onWorkbenchStarted(e)}}),this.workbench.getInstantiationService().createInstance(E.ElectronIntegration).integrate(this.container),this.workbench.getInstantiationService().createInstance(S.Update);var u=setTimeout(function(){console.warn("Workbench did not finish loading in 10 seconds, that might be a problem that should be reported.")},1e4);return this.workbench.joinCreation().then(function(){clearTimeout(u)}),i},e.prototype.onWorkbenchStarted=function(e){var t={innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth};this.telemetryService.publicLog("workspaceLoad",{userAgent:navigator.userAgent,windowSize:t,emptyWorkbench:!this.contextService.getWorkspace(),customKeybindingsCount:e,theme:this.themeService.getTheme(),language:n.language});var o=this.workbench.getInstantiationService().createInstance(b.WorkspaceStats);o.reportWorkspaceTags(),(n.isLinux||n.isMacintosh)&&0===process.getuid()&&this.messageService.show(Y.Severity.Warning,i.localize(0,null))},e.prototype.initServiceCollection=function(){var e=this,t=ae.connect(process.env.VSCODE_SHARED_IPC_HOOK);t.done(function(t){t.onClose(function(){e.messageService.show(Y.Severity.Error,{message:i.localize(1,null),actions:[o.createInstance(le.ReloadWindowAction,le.ReloadWindowAction.ID,le.ReloadWindowAction.LABEL)]})})},c.onUnexpectedError);var n=new V.ServiceCollection;n.set(U.IEventService,this.eventService),n.set(Z.IWorkspaceContextService,this.contextService),n.set(I.IConfigurationService,this.configurationService);var o=new H.InstantiationService(n,(!0)),r=new a.Disposables;this.windowService=o.createInstance(_.WindowService),n.set(_.IWindowService,this.windowService);var s=this.configuration.env.extensionTestsPath||!this.workspace&&!this.configuration.env.extensionDevelopmentPath;if(this.storageService=o.createInstance(h.Storage,window.localStorage,s?h.inMemoryLocalStorageInstance:window.localStorage),n.set(K.IStorageService,this.storageService),this.configuration.env.isBuilt&&!this.configuration.env.extensionDevelopmentPath&&this.configuration.env.enableTelemetry){var l=se.getDelayedChannel(t.then(function(e){return e.getChannel("telemetryAppender")})),d=this.contextService.getConfiguration().env.commitHash,E=this.contextService.getConfiguration().env.version,S={appender:new f.TelemetryAppenderClient(l),commonProperties:y.resolveWorkbenchCommonProperties(this.storageService,d,E),piiPaths:[this.configuration.env.appRoot,this.configuration.env.userExtensionsHome]},b=o.createInstance(g.TelemetryService,S);this.telemetryService=b;var ne=new v["default"](b),de=new m.IdleMonitor(12e4),he=de.onStatusChange(function(t){return e.telemetryService.publicLog(t===m.UserStatus.Active?g.TelemetryService.IDLE_STOP_EVENT_NAME:g.TelemetryService.IDLE_START_EVENT_NAME)});r.add(b,ne,he,de)}else this.telemetryService=p.NullTelemetryService;n.set(p.ITelemetryService,this.telemetryService),this.messageService=o.createInstance(C.MessageService),n.set(Y.IMessageService,this.messageService);var pe=r.add(o.createInstance(T.FileService));n.set(G.IFileService,pe);var fe=o.createInstance(L.LifecycleService);this.toUnbind.push(fe.onShutdown(function(){return r.dispose()})),n.set(j.ILifecycleService,fe),this.threadService=o.createInstance(D.MainThreadService),n.set(Q.IThreadService,this.threadService);var ge=o.createInstance(B.MainProcessExtensionService);n.set(J.IExtensionService,ge),this.contextViewService=o.createInstance(u.ContextViewService,this.container),n.set(z.IContextViewService,this.contextViewService);var me=r.add(o.createInstance(w.RequestService));n.set($.IRequestService,me);var ve=o.createInstance(k.MarkerService);n.set(q.IMarkerService,ve);var ye=o.createInstance(ee.MainThreadModeServiceImpl);n.set(te.IModeService,ye);var Ee=o.createInstance(M.ModelServiceImpl);n.set(x.IModelService,Ee);var Se=o.createInstance(O.MainThreadCompatWorkerService);n.set(R.ICompatWorkerService,Se);var be=o.createInstance(F.EditorWorkerServiceImpl);n.set(W.IEditorWorkerService,be);var _e=o.createInstance(ie.UntitledEditorService);n.set(ie.IUntitledEditorService,_e),this.themeService=o.createInstance(re.ThemeService),n.set(oe.IThemeService,this.themeService);var Ce=o.createInstance(A.SearchService);n.set(X.ISearchService,Ce);var we=o.createInstance(P.CodeEditorServiceImpl);n.set(N.ICodeEditorService,we);var Ie=se.getDelayedChannel(t.then(function(e){return e.getChannel("extensions")})),Te=o.createInstance(ce.ExtensionManagementChannelClient,Ie);return n.set(ue.IExtensionManagementService,Te),[o,n]},e.prototype.open=function(){var e=this;c.setUnexpectedErrorHandler(function(t){e.onUnexpectedError(t)}),o.$(this.container).addClass("monaco-shell"),this.content=o.$(".monaco-shell-content").appendTo(this.container).getHTMLElement(),this.writeTimers(),this.contentsContainer=this.createContents(o.$(this.content)),this.layout(),this.registerListeners(),this.themeService.initialize(this.container).then(null,function(e){c.onUnexpectedError(e)})},e.prototype.registerListeners=function(){var e=this;o.$(window).on(r.EventType.RESIZE,function(){return e.layout()},this.toUnbind)},e.prototype.writeTimers=function(){var e=window.MonacoEnvironment.timers;if(e){var t=[];e.beforeProgram&&t.push({startTime:e.beforeProgram,stopTime:e.afterProgram,topic:"Startup",name:"Program Start",description:"Time it takes to pass control to VSCodes main method"}),e.vscodeStart&&t.push({startTime:e.vscodeStart,stopTime:e.beforeLoad,topic:"Startup",name:"VSCode Startup",description:"Time it takes to create a window and startup VSCode"}),t.push({startTime:e.beforeLoad,stopTime:e.afterLoad,topic:"Startup",name:"Load Modules",description:"Time it takes to load VSCodes main modules"}),t.push({startTime:e.beforeReady,stopTime:e.afterReady,topic:"Startup",name:"Event DOMContentLoaded",description:"Time it takes for the DOM to emit DOMContentLoaded event"}),l.getTimeKeeper().setInitialCollectedEvents(t,e.start)}},e.prototype.onUnexpectedError=function(e){var t=c.toErrorMessage(e,!0);if(t){var i=Date.now();t===this.previousErrorValue&&i-this.previousErrorTime<=1e3||(this.previousErrorTime=i,this.previousErrorValue=t,console.error(t),e&&e.friendlyMessage&&this.messageService&&this.messageService.show(Y.Severity.Error,e.friendlyMessage))}},e.prototype.layout=function(){var e=o.$(this.container).getClientArea(),t=new o.Dimension(e.width,e.height);this.contentsContainer.size(t.width,t.height),this.contextViewService.layout(),this.workbench.layout()},e.prototype.joinCreation=function(){return this.workbench.joinCreation()},e.prototype.dispose=function(){this.workbench&&this.workbench.dispose(),this.contextViewService.dispose(),this.toUnbind=a.dispose(this.toUnbind),o.$(this.container).empty()},e}();t.WorkbenchShell=de}),define(l[350],d([1,0,2,352,7,12,25,75,29,19,9,618,43,865,74,102,1038]),function(e,t,i,n,o,r,s,a,c,u,l,d,h,p,f,g,m){"use strict";function v(){return new i.Promise(function(e,t){var i=document.readyState;"complete"===i||document&&null!==document.body?window.setImmediate(e):window.addEventListener("DOMContentLoaded",e,!1)})}function y(e,t){"1"!==process.env.VSCODE_CLI&&c.assign(process.env,e.userEnv);var i={env:e},n=e.filesToOpen&&e.filesToOpen.length?E(e.filesToOpen):null,o=e.filesToCreate&&e.filesToCreate.length?E(e.filesToCreate):null,r=e.filesToDiff&&e.filesToDiff.length?E(e.filesToDiff):null,s={singleFileMode:!e.workspacePath,filesToOpen:n,filesToCreate:o,filesToDiff:r,extensionsToInstall:e.extensionsToInstall,globalSettings:t};return e.enablePerformance&&(a.ENABLE_TIMER=!0),b(S(e),i,s)}function E(e){return e.map(function(e){var t={resource:u["default"].file(e.filePath)};return e.lineNumber&&(t.options={selection:{startLineNumber:e.lineNumber,startColumn:e.columnNumber}}),t})}function S(e){if(!e.workspacePath)return null;var t=f.normalize(g.realpathSync(e.workspacePath));s.isUNC(t)&&l.endsWith(t,s.nativeSep)&&(t=l.rtrim(t,s.nativeSep));var i=u["default"].file(t),n=f.basename(t)||t,o=g.statSync(t),a={resource:i,id:r.isLinux?t:t.toLowerCase(),name:n,uid:r.isLinux?o.ino:o.birthtime.getTime(),mtime:o.mtime.getTime()};return a}function b(e,t,i){var r=new d.EventService,s=new h.WorkspaceContextService(r,e,t,i),c=new p.ConfigurationService(s,r);return c.initialize().then(function(){return _.beforeReady=new Date,v().then(function(){_.afterReady=new Date;var u=new Date,l=new n.WorkbenchShell(document.body,e,{configurationService:c,eventService:r,contextService:s},t,i);l.open(),l.joinCreation().then(function(){a.start(a.Topic.STARTUP,"Open Shell, Viewlet & Editor",u,"Workbench has opened after this event with viewlet and editor restored").stop()}),self.require.config({onError:function(e){"load"===e.errorCode&&l.onUnexpectedError(o.loaderError(e))}})})})}m.gracefulify(g);var _=window.MonacoEnvironment.timers;t.startup=y}),define(l[1039],d([1,0,9,7,648,913,669,654,897,896,895,222,967,1018,915,1007,997,1001,1010,1021,1015,919,1014,988,903,928,991,955,905,907,237,1022,918,815,280,922,787,929,994,966,1011,899,739,958,350,930]),function(e,t){"use strict"})}).call(this);
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/e6b4afa53e9c0f54edef1673de9001e9f0f547ae/vs\workbench\workbench.main.js.map
